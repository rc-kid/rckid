    TEST(gbcemu, opcode_48) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 48 0000
        gbc.setState(0xe6d4, 0x310d, 0xf790, 0xc60b, 0xf93, 0x1ec4, 0x1, 0x0);
        gbc.writeMem(0xe6d4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x310d);
        EXPECT(gbc.pc(), 0xe6d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6d4), 0x48);
        // 48 0001
        gbc.setState(0xdf6f, 0xf7e8, 0x3f20, 0xb7e5, 0x53ea, 0x96bf, 0x1, 0x0);
        gbc.writeMem(0xdf6f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xf7e8);
        EXPECT(gbc.pc(), 0xdf70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf6f), 0x48);
        // 48 0002
        gbc.setState(0xb999, 0xe42c, 0x4c60, 0x60c3, 0x6999, 0x13d8, 0x0, 0x0);
        gbc.writeMem(0xb999, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xe42c);
        EXPECT(gbc.pc(), 0xb99a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb999), 0x48);
        // 48 0003
        gbc.setState(0x6d01, 0xc92d, 0x7ad0, 0x3805, 0x8bb4, 0x6d15, 0x1, 0x1);
        gbc.writeMem(0x6d01, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xc92d);
        EXPECT(gbc.pc(), 0x6d02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0004
        gbc.setState(0x94e8, 0x76ce, 0x35c0, 0xefdb, 0xb57e, 0x2d6f, 0x1, 0x1);
        gbc.writeMem(0x94e8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x76ce);
        EXPECT(gbc.pc(), 0x94e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94e8), 0x48);
        // 48 0005
        gbc.setState(0xd318, 0x5b89, 0xade0, 0x465f, 0x1d38, 0x7079, 0x1, 0x0);
        gbc.writeMem(0xd318, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x5b89);
        EXPECT(gbc.pc(), 0xd319);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd318), 0x48);
        // 48 0006
        gbc.setState(0x49ee, 0x67a, 0x1f70, 0xe954, 0x49a1, 0xe52e, 0x0, 0x1);
        gbc.writeMem(0x49ee, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x67a);
        EXPECT(gbc.pc(), 0x49ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0007
        gbc.setState(0x8c96, 0xf388, 0xde60, 0x1d4e, 0x168e, 0xfd44, 0x1, 0x0);
        gbc.writeMem(0x8c96, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xf388);
        EXPECT(gbc.pc(), 0x8c97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c96), 0x48);
        // 48 0008
        gbc.setState(0x262e, 0x4ca6, 0xaa60, 0xf49e, 0x2302, 0x7293, 0x1, 0x1);
        gbc.writeMem(0x262e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x4ca6);
        EXPECT(gbc.pc(), 0x262f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0009
        gbc.setState(0x3ce4, 0xe327, 0xc640, 0x6e2b, 0x2a47, 0x5568, 0x0, 0x1);
        gbc.writeMem(0x3ce4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xe327);
        EXPECT(gbc.pc(), 0x3ce5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 000A
        gbc.setState(0xd08a, 0xca94, 0xdee0, 0x1d43, 0xa3e9, 0x8f68, 0x0, 0x0);
        gbc.writeMem(0xd08a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xca94);
        EXPECT(gbc.pc(), 0xd08b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd08a), 0x48);
        // 48 000B
        gbc.setState(0x17e5, 0x9ecf, 0xb7d0, 0x6f2e, 0xf615, 0xbef, 0x1, 0x1);
        gbc.writeMem(0x17e5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x9ecf);
        EXPECT(gbc.pc(), 0x17e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 000C
        gbc.setState(0x85e6, 0xd91, 0xc830, 0x6bd7, 0x3de2, 0xe1e0, 0x0, 0x1);
        gbc.writeMem(0x85e6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xd91);
        EXPECT(gbc.pc(), 0x85e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85e6), 0x48);
        // 48 000D
        gbc.setState(0x1792, 0xd708, 0x6fa0, 0x405d, 0x68c9, 0x1b8f, 0x1, 0x1);
        gbc.writeMem(0x1792, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xd708);
        EXPECT(gbc.pc(), 0x1793);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 000E
        gbc.setState(0xbf7d, 0x4e71, 0x8130, 0xb6b2, 0x6def, 0x5524, 0x0, 0x1);
        gbc.writeMem(0xbf7d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x4e71);
        EXPECT(gbc.pc(), 0xbf7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf7d), 0x48);
        // 48 000F
        gbc.setState(0x1894, 0x6879, 0x6630, 0xb1d1, 0xae92, 0x7941, 0x1, 0x1);
        gbc.writeMem(0x1894, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x6879);
        EXPECT(gbc.pc(), 0x1895);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0010
        gbc.setState(0x852d, 0xccce, 0x4a00, 0xc35c, 0x9972, 0x8adf, 0x0, 0x0);
        gbc.writeMem(0x852d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xccce);
        EXPECT(gbc.pc(), 0x852e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x852d), 0x48);
        // 48 0011
        gbc.setState(0x93ae, 0x9b6e, 0xf170, 0x91d2, 0x2002, 0xb59b, 0x1, 0x0);
        gbc.writeMem(0x93ae, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x9b6e);
        EXPECT(gbc.pc(), 0x93af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93ae), 0x48);
        // 48 0012
        gbc.setState(0xa069, 0x9a4e, 0xc360, 0x73a9, 0xad2c, 0x8e90, 0x1, 0x1);
        gbc.writeMem(0xa069, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x9a4e);
        EXPECT(gbc.pc(), 0xa06a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa069), 0x48);
        // 48 0013
        gbc.setState(0xe63, 0xe052, 0xcac0, 0x6f52, 0xa6a6, 0xcb77, 0x1, 0x1);
        gbc.writeMem(0xe63, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xe052);
        EXPECT(gbc.pc(), 0xe64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0014
        gbc.setState(0x9ca6, 0x83ff, 0x2640, 0xe220, 0x117b, 0x462f, 0x1, 0x0);
        gbc.writeMem(0x9ca6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x83ff);
        EXPECT(gbc.pc(), 0x9ca7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ca6), 0x48);
        // 48 0015
        gbc.setState(0x7b60, 0xc5ed, 0xac70, 0x8efb, 0x47d0, 0x9101, 0x1, 0x0);
        gbc.writeMem(0x7b60, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xc5ed);
        EXPECT(gbc.pc(), 0x7b61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0016
        gbc.setState(0x59e, 0x7d94, 0xa630, 0xaae7, 0x9a87, 0xca48, 0x0, 0x0);
        gbc.writeMem(0x59e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x7d94);
        EXPECT(gbc.pc(), 0x59f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0017
        gbc.setState(0x85d9, 0x5fbd, 0xfee0, 0x1269, 0x15c, 0xe94e, 0x1, 0x0);
        gbc.writeMem(0x85d9, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x5fbd);
        EXPECT(gbc.pc(), 0x85da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85d9), 0x48);
        // 48 0018
        gbc.setState(0xde32, 0xf0ba, 0x7090, 0x5a1e, 0xa2d1, 0xac30, 0x0, 0x0);
        gbc.writeMem(0xde32, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xf0ba);
        EXPECT(gbc.pc(), 0xde33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde32), 0x48);
        // 48 0019
        gbc.setState(0x7c0a, 0xd6c5, 0xb430, 0xa917, 0xc08c, 0x7c2b, 0x1, 0x1);
        gbc.writeMem(0x7c0a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xd6c5);
        EXPECT(gbc.pc(), 0x7c0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 001A
        gbc.setState(0x5d10, 0xd38e, 0xd430, 0x877d, 0xa5f3, 0x5d97, 0x0, 0x1);
        gbc.writeMem(0x5d10, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xd38e);
        EXPECT(gbc.pc(), 0x5d11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 001B
        gbc.setState(0x8190, 0x7772, 0x9b90, 0xb3bd, 0x9691, 0x74dd, 0x1, 0x1);
        gbc.writeMem(0x8190, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x7772);
        EXPECT(gbc.pc(), 0x8191);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8190), 0x48);
        // 48 001C
        gbc.setState(0xb9bf, 0xc7f0, 0x9c50, 0xadb1, 0xd28a, 0x8a00, 0x0, 0x1);
        gbc.writeMem(0xb9bf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xc7f0);
        EXPECT(gbc.pc(), 0xb9c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9bf), 0x48);
        // 48 001D
        gbc.setState(0x6975, 0xd821, 0xbf00, 0x7311, 0xe973, 0x918c, 0x0, 0x1);
        gbc.writeMem(0x6975, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xd821);
        EXPECT(gbc.pc(), 0x6976);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 001E
        gbc.setState(0x63cf, 0xa027, 0x8460, 0x68c1, 0xa678, 0xe76a, 0x0, 0x0);
        gbc.writeMem(0x63cf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xa027);
        EXPECT(gbc.pc(), 0x63d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 001F
        gbc.setState(0x873f, 0x613, 0x16d0, 0x9622, 0xd50c, 0xcbee, 0x1, 0x0);
        gbc.writeMem(0x873f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x613);
        EXPECT(gbc.pc(), 0x8740);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x873f), 0x48);
        // 48 0020
        gbc.setState(0x5e4f, 0xb55a, 0x4a0, 0xe57f, 0xbb00, 0xc2dc, 0x0, 0x0);
        gbc.writeMem(0x5e4f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xb55a);
        EXPECT(gbc.pc(), 0x5e50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0022
        gbc.setState(0xa03f, 0x9a84, 0xe80, 0x96b8, 0xc772, 0x4576, 0x1, 0x1);
        gbc.writeMem(0xa03f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x9a84);
        EXPECT(gbc.pc(), 0xa040);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa03f), 0x48);
        // 48 0023
        gbc.setState(0xd923, 0x517d, 0x3b30, 0x2092, 0xddf6, 0x2b87, 0x0, 0x0);
        gbc.writeMem(0xd923, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x517d);
        EXPECT(gbc.pc(), 0xd924);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd923), 0x48);
        // 48 0024
        gbc.setState(0x1d0e, 0x869c, 0x7320, 0x5792, 0xd3bc, 0x7688, 0x0, 0x1);
        gbc.writeMem(0x1d0e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x869c);
        EXPECT(gbc.pc(), 0x1d0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0025
        gbc.setState(0xd865, 0x1e98, 0x8100, 0x74a1, 0x633c, 0xa56a, 0x0, 0x1);
        gbc.writeMem(0xd865, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x1e98);
        EXPECT(gbc.pc(), 0xd866);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd865), 0x48);
        // 48 0026
        gbc.setState(0x3bdf, 0x9ff3, 0x4f40, 0xb9b6, 0x458a, 0x6d6, 0x0, 0x1);
        gbc.writeMem(0x3bdf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x9ff3);
        EXPECT(gbc.pc(), 0x3be0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0027
        gbc.setState(0x2ebb, 0x8151, 0x9da0, 0x2f9c, 0xb7ba, 0x6b95, 0x1, 0x1);
        gbc.writeMem(0x2ebb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x8151);
        EXPECT(gbc.pc(), 0x2ebc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0028
        gbc.setState(0xea2f, 0x71d8, 0xb2e0, 0x886, 0x1b2a, 0x2074, 0x0, 0x1);
        gbc.writeMem(0xea2f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x71d8);
        EXPECT(gbc.pc(), 0xea30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea2f), 0x48);
        // 48 0029
        gbc.setState(0x773, 0xcfb7, 0xe2a0, 0x7b4e, 0x2a2e, 0x47dc, 0x1, 0x0);
        gbc.writeMem(0x773, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xcfb7);
        EXPECT(gbc.pc(), 0x774);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 002A
        gbc.setState(0xa4de, 0xb74, 0x8560, 0xcdf1, 0xc724, 0xc433, 0x1, 0x0);
        gbc.writeMem(0xa4de, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xb74);
        EXPECT(gbc.pc(), 0xa4df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4de), 0x48);
        // 48 002B
        gbc.setState(0x4f76, 0x1361, 0x25f0, 0x4c30, 0xa706, 0x5b75, 0x1, 0x1);
        gbc.writeMem(0x4f76, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x1361);
        EXPECT(gbc.pc(), 0x4f77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 002C
        gbc.setState(0x3bf5, 0xf6fa, 0x5140, 0x759a, 0x5436, 0xd1ad, 0x0, 0x0);
        gbc.writeMem(0x3bf5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xf6fa);
        EXPECT(gbc.pc(), 0x3bf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 002D
        gbc.setState(0x437e, 0x7152, 0xefb0, 0xf4bb, 0xf350, 0xe732, 0x1, 0x1);
        gbc.writeMem(0x437e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x7152);
        EXPECT(gbc.pc(), 0x437f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 002E
        gbc.setState(0xef15, 0x5f3e, 0xe410, 0xb618, 0xf877, 0x6cd8, 0x0, 0x0);
        gbc.writeMem(0xef15, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x5f3e);
        EXPECT(gbc.pc(), 0xef16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef15), 0x48);
        // 48 002F
        gbc.setState(0xe9d5, 0xe42b, 0xe1d0, 0x9c91, 0xd3f7, 0x109, 0x1, 0x1);
        gbc.writeMem(0xe9d5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xe42b);
        EXPECT(gbc.pc(), 0xe9d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9d5), 0x48);
        // 48 0030
        gbc.setState(0x370c, 0x7f89, 0x330, 0x2a3b, 0xc900, 0x94fd, 0x0, 0x0);
        gbc.writeMem(0x370c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x7f89);
        EXPECT(gbc.pc(), 0x370d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0031
        gbc.setState(0x75b2, 0x50f1, 0x9390, 0x382f, 0xec4b, 0x5c37, 0x1, 0x1);
        gbc.writeMem(0x75b2, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x50f1);
        EXPECT(gbc.pc(), 0x75b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0032
        gbc.setState(0x4a26, 0x9670, 0x7700, 0x422e, 0xc93b, 0x72e7, 0x1, 0x1);
        gbc.writeMem(0x4a26, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9670);
        EXPECT(gbc.pc(), 0x4a27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0033
        gbc.setState(0xada5, 0xe5dd, 0x7770, 0x3717, 0xe035, 0x5885, 0x1, 0x1);
        gbc.writeMem(0xada5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xe5dd);
        EXPECT(gbc.pc(), 0xada6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xada5), 0x48);
        // 48 0034
        gbc.setState(0xb1f8, 0x1bb8, 0x5590, 0x282b, 0x3f72, 0xb274, 0x1, 0x0);
        gbc.writeMem(0xb1f8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x1bb8);
        EXPECT(gbc.pc(), 0xb1f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1f8), 0x48);
        // 48 0035
        gbc.setState(0x2d04, 0x368d, 0x37c0, 0x49aa, 0x9256, 0x6f43, 0x0, 0x1);
        gbc.writeMem(0x2d04, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x368d);
        EXPECT(gbc.pc(), 0x2d05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0036
        gbc.setState(0x8fe7, 0x19b8, 0xb820, 0x3474, 0xb93b, 0xd83, 0x1, 0x0);
        gbc.writeMem(0x8fe7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x19b8);
        EXPECT(gbc.pc(), 0x8fe8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fe7), 0x48);
        // 48 0037
        gbc.setState(0xbc6c, 0x8675, 0x8c40, 0xbaf, 0xa801, 0xcb86, 0x1, 0x0);
        gbc.writeMem(0xbc6c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x8675);
        EXPECT(gbc.pc(), 0xbc6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc6c), 0x48);
        // 48 0038
        gbc.setState(0xa1e0, 0x9221, 0x5ef0, 0xbb9f, 0x7849, 0x4532, 0x1, 0x0);
        gbc.writeMem(0xa1e0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x9221);
        EXPECT(gbc.pc(), 0xa1e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1e0), 0x48);
        // 48 0039
        gbc.setState(0x269c, 0xb012, 0xf970, 0x1f3e, 0x3b1a, 0xef7d, 0x1, 0x0);
        gbc.writeMem(0x269c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xb012);
        EXPECT(gbc.pc(), 0x269d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 003A
        gbc.setState(0x9d42, 0xa412, 0xf910, 0x6564, 0x29c5, 0x482b, 0x0, 0x1);
        gbc.writeMem(0x9d42, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xa412);
        EXPECT(gbc.pc(), 0x9d43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d42), 0x48);
        // 48 003B
        gbc.setState(0x3ade, 0xbc2f, 0x48b0, 0xb87e, 0x71e4, 0x6195, 0x1, 0x0);
        gbc.writeMem(0x3ade, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xbc2f);
        EXPECT(gbc.pc(), 0x3adf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 003C
        gbc.setState(0x70f8, 0xcbc3, 0x4f70, 0xd189, 0x89b6, 0x939d, 0x1, 0x1);
        gbc.writeMem(0x70f8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xcbc3);
        EXPECT(gbc.pc(), 0x70f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 003D
        gbc.setState(0x5def, 0x43a0, 0x9c30, 0xe674, 0x3bf8, 0x6367, 0x0, 0x0);
        gbc.writeMem(0x5def, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x43a0);
        EXPECT(gbc.pc(), 0x5df0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 003E
        gbc.setState(0xd741, 0xee3c, 0x6350, 0xb940, 0x92bc, 0x485d, 0x1, 0x1);
        gbc.writeMem(0xd741, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xee3c);
        EXPECT(gbc.pc(), 0xd742);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd741), 0x48);
        // 48 003F
        gbc.setState(0x41ed, 0x13c5, 0x0, 0xe1c5, 0xd055, 0x841c, 0x0, 0x1);
        gbc.writeMem(0x41ed, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x13c5);
        EXPECT(gbc.pc(), 0x41ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0041
        gbc.setState(0xccb, 0x7d3f, 0x2a40, 0xeee3, 0x6847, 0x231e, 0x0, 0x0);
        gbc.writeMem(0xccb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x7d3f);
        EXPECT(gbc.pc(), 0xccc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0042
        gbc.setState(0x9f0d, 0xcef1, 0x9220, 0xa38, 0x63e0, 0x16db, 0x0, 0x0);
        gbc.writeMem(0x9f0d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xcef1);
        EXPECT(gbc.pc(), 0x9f0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f0d), 0x48);
        // 48 0043
        gbc.setState(0x517f, 0x915b, 0x9de0, 0x73b2, 0x9f1c, 0x8d70, 0x0, 0x1);
        gbc.writeMem(0x517f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x915b);
        EXPECT(gbc.pc(), 0x5180);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0044
        gbc.setState(0x1e22, 0xd7a1, 0x4380, 0x3930, 0xabae, 0xa7ec, 0x1, 0x0);
        gbc.writeMem(0x1e22, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xd7a1);
        EXPECT(gbc.pc(), 0x1e23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0045
        gbc.setState(0xb07e, 0x9be, 0x99c0, 0x4298, 0x8940, 0xb5cd, 0x1, 0x0);
        gbc.writeMem(0xb07e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x9be);
        EXPECT(gbc.pc(), 0xb07f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb07e), 0x48);
        // 48 0046
        gbc.setState(0xac15, 0x368, 0x3bb0, 0x8c9d, 0x26a0, 0x342a, 0x1, 0x1);
        gbc.writeMem(0xac15, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x368);
        EXPECT(gbc.pc(), 0xac16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac15), 0x48);
        // 48 0047
        gbc.setState(0xe188, 0xc03a, 0xe3a0, 0x697a, 0xf84f, 0x780a, 0x0, 0x1);
        gbc.writeMem(0xe188, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xc03a);
        EXPECT(gbc.pc(), 0xe189);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe188), 0x48);
        // 48 0048
        gbc.setState(0x254b, 0x5703, 0x30c0, 0x2765, 0xdcdf, 0x2865, 0x1, 0x1);
        gbc.writeMem(0x254b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x5703);
        EXPECT(gbc.pc(), 0x254c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 004A
        gbc.setState(0xbe6e, 0x3587, 0x900, 0xcea4, 0xde88, 0x7a46, 0x0, 0x1);
        gbc.writeMem(0xbe6e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x3587);
        EXPECT(gbc.pc(), 0xbe6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe6e), 0x48);
        // 48 004B
        gbc.setState(0xd8b0, 0xbdd3, 0x2210, 0x3cdd, 0x339e, 0x7769, 0x0, 0x0);
        gbc.writeMem(0xd8b0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xbdd3);
        EXPECT(gbc.pc(), 0xd8b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8b0), 0x48);
        // 48 004C
        gbc.setState(0x33cf, 0x84b3, 0x5650, 0x4218, 0xca02, 0x90e7, 0x0, 0x1);
        gbc.writeMem(0x33cf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x84b3);
        EXPECT(gbc.pc(), 0x33d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 004D
        gbc.setState(0xdafe, 0xbc4f, 0x2900, 0xf072, 0x5812, 0xcd15, 0x0, 0x0);
        gbc.writeMem(0xdafe, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xbc4f);
        EXPECT(gbc.pc(), 0xdaff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdafe), 0x48);
        // 48 004E
        gbc.setState(0x3bbf, 0x8457, 0x8c10, 0x965f, 0xb832, 0xc31a, 0x0, 0x1);
        gbc.writeMem(0x3bbf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x8457);
        EXPECT(gbc.pc(), 0x3bc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 004F
        gbc.setState(0x4718, 0x2964, 0xa800, 0x96aa, 0x41ff, 0xc59d, 0x1, 0x0);
        gbc.writeMem(0x4718, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x2964);
        EXPECT(gbc.pc(), 0x4719);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0050
        gbc.setState(0xa3ba, 0x6c61, 0xdf0, 0xbbe9, 0xe070, 0x6640, 0x0, 0x1);
        gbc.writeMem(0xa3ba, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x6c61);
        EXPECT(gbc.pc(), 0xa3bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3ba), 0x48);
        // 48 0051
        gbc.setState(0x38b6, 0x733f, 0x7da0, 0xcdd0, 0xef57, 0x281d, 0x0, 0x1);
        gbc.writeMem(0x38b6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x733f);
        EXPECT(gbc.pc(), 0x38b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0052
        gbc.setState(0x9954, 0xdae7, 0x6a20, 0x5568, 0xadf9, 0x86b9, 0x0, 0x1);
        gbc.writeMem(0x9954, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xdae7);
        EXPECT(gbc.pc(), 0x9955);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9954), 0x48);
        // 48 0053
        gbc.setState(0xa4a3, 0x3c8e, 0x2530, 0x4ba, 0xa65f, 0xe0dc, 0x1, 0x0);
        gbc.writeMem(0xa4a3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x3c8e);
        EXPECT(gbc.pc(), 0xa4a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4a3), 0x48);
        // 48 0054
        gbc.setState(0xc050, 0x26c3, 0xca90, 0xcd01, 0x98c0, 0x7ad8, 0x1, 0x1);
        gbc.writeMem(0xc050, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x26c3);
        EXPECT(gbc.pc(), 0xc051);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc050), 0x48);
        // 48 0055
        gbc.setState(0x2cfa, 0x4106, 0x67a0, 0x383, 0x6135, 0xfc40, 0x0, 0x0);
        gbc.writeMem(0x2cfa, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x4106);
        EXPECT(gbc.pc(), 0x2cfb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0056
        gbc.setState(0x4ec1, 0xf6c1, 0xef00, 0x4d70, 0x69d4, 0x7a6e, 0x1, 0x1);
        gbc.writeMem(0x4ec1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xf6c1);
        EXPECT(gbc.pc(), 0x4ec2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0057
        gbc.setState(0x334c, 0x65ea, 0x6fc0, 0xbb1c, 0x1d0b, 0xe46c, 0x1, 0x1);
        gbc.writeMem(0x334c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x65ea);
        EXPECT(gbc.pc(), 0x334d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0058
        gbc.setState(0x22eb, 0x2998, 0x260, 0xa24b, 0x72de, 0xc1c6, 0x1, 0x0);
        gbc.writeMem(0x22eb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x2998);
        EXPECT(gbc.pc(), 0x22ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0059
        gbc.setState(0x7026, 0x4b52, 0x2ec0, 0x11df, 0x2a8a, 0xc68c, 0x0, 0x0);
        gbc.writeMem(0x7026, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x4b52);
        EXPECT(gbc.pc(), 0x7027);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 005A
        gbc.setState(0xe935, 0xcebd, 0x3b30, 0xad9e, 0xbad1, 0x7a5f, 0x1, 0x0);
        gbc.writeMem(0xe935, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xcebd);
        EXPECT(gbc.pc(), 0xe936);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe935), 0x48);
        // 48 005B
        gbc.setState(0x4d91, 0xaa43, 0x98e0, 0x7c52, 0x4124, 0x9eab, 0x0, 0x1);
        gbc.writeMem(0x4d91, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xaa43);
        EXPECT(gbc.pc(), 0x4d92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 005C
        gbc.setState(0xde22, 0x3989, 0x9ce0, 0xaccb, 0x9e64, 0x4aa0, 0x1, 0x0);
        gbc.writeMem(0xde22, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3989);
        EXPECT(gbc.pc(), 0xde23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde22), 0x48);
        // 48 005D
        gbc.setState(0x36b8, 0x9c2d, 0x22b0, 0x3696, 0xd6d2, 0xc461, 0x0, 0x1);
        gbc.writeMem(0x36b8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x9c2d);
        EXPECT(gbc.pc(), 0x36b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 005E
        gbc.setState(0x1977, 0x1d1b, 0xb480, 0x24d, 0x44e6, 0x7bed, 0x1, 0x0);
        gbc.writeMem(0x1977, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x1d1b);
        EXPECT(gbc.pc(), 0x1978);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 005F
        gbc.setState(0x21e, 0x167a, 0xc190, 0x5d8a, 0xde6d, 0x6bf0, 0x1, 0x0);
        gbc.writeMem(0x21e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x167a);
        EXPECT(gbc.pc(), 0x21f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0060
        gbc.setState(0x7a2a, 0x8a71, 0x24c0, 0x7072, 0x1ce2, 0x76c9, 0x1, 0x0);
        gbc.writeMem(0x7a2a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x8a71);
        EXPECT(gbc.pc(), 0x7a2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0061
        gbc.setState(0xe0eb, 0xbaa7, 0xdfa0, 0x948d, 0x828a, 0x1a3d, 0x1, 0x0);
        gbc.writeMem(0xe0eb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xbaa7);
        EXPECT(gbc.pc(), 0xe0ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0eb), 0x48);
        // 48 0062
        gbc.setState(0xb856, 0xd0f5, 0xa000, 0x9595, 0x2360, 0xa38, 0x1, 0x1);
        gbc.writeMem(0xb856, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xd0f5);
        EXPECT(gbc.pc(), 0xb857);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb856), 0x48);
        // 48 0063
        gbc.setState(0x600f, 0x382c, 0x8fd0, 0xa03b, 0x34a7, 0x8c55, 0x1, 0x1);
        gbc.writeMem(0x600f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x382c);
        EXPECT(gbc.pc(), 0x6010);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0064
        gbc.setState(0x2b58, 0x5ac9, 0xbfe0, 0x3c78, 0xeee9, 0x5b72, 0x1, 0x0);
        gbc.writeMem(0x2b58, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x5ac9);
        EXPECT(gbc.pc(), 0x2b59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0065
        gbc.setState(0x5541, 0xc27, 0x63a0, 0x7d26, 0xf7ca, 0x1d98, 0x1, 0x0);
        gbc.writeMem(0x5541, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xc27);
        EXPECT(gbc.pc(), 0x5542);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0066
        gbc.setState(0xf19, 0xb12b, 0x9200, 0x3eba, 0x1839, 0x15c7, 0x1, 0x0);
        gbc.writeMem(0xf19, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xb12b);
        EXPECT(gbc.pc(), 0xf1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0067
        gbc.setState(0x1bd2, 0x3f51, 0x12e0, 0xc9e5, 0x43e1, 0x724b, 0x0, 0x1);
        gbc.writeMem(0x1bd2, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x3f51);
        EXPECT(gbc.pc(), 0x1bd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0068
        gbc.setState(0xa99e, 0xd371, 0xec00, 0x875d, 0x5da8, 0x372a, 0x1, 0x0);
        gbc.writeMem(0xa99e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xd371);
        EXPECT(gbc.pc(), 0xa99f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa99e), 0x48);
        // 48 006A
        gbc.setState(0xcfbc, 0x7987, 0x3d20, 0x1c0e, 0xb17, 0x78bf, 0x0, 0x0);
        gbc.writeMem(0xcfbc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x7987);
        EXPECT(gbc.pc(), 0xcfbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfbc), 0x48);
        // 48 006B
        gbc.setState(0xce8f, 0x7505, 0x2f30, 0xa581, 0x278d, 0xb9ae, 0x1, 0x1);
        gbc.writeMem(0xce8f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x7505);
        EXPECT(gbc.pc(), 0xce90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce8f), 0x48);
        // 48 006C
        gbc.setState(0x9ec5, 0x5d4c, 0x7ee0, 0x46d9, 0x29b0, 0xf195, 0x1, 0x0);
        gbc.writeMem(0x9ec5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x5d4c);
        EXPECT(gbc.pc(), 0x9ec6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ec5), 0x48);
        // 48 006D
        gbc.setState(0x9a52, 0xabd5, 0xab0, 0xef5b, 0x46c8, 0x1c43, 0x1, 0x0);
        gbc.writeMem(0x9a52, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xabd5);
        EXPECT(gbc.pc(), 0x9a53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a52), 0x48);
        // 48 006E
        gbc.setState(0x96bd, 0x4a8a, 0xe7e0, 0xb23f, 0x97ac, 0x834a, 0x0, 0x0);
        gbc.writeMem(0x96bd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x4a8a);
        EXPECT(gbc.pc(), 0x96be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96bd), 0x48);
        // 48 006F
        gbc.setState(0xe0c6, 0x2373, 0xe340, 0xdcbd, 0x63d9, 0x6326, 0x0, 0x1);
        gbc.writeMem(0xe0c6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x2373);
        EXPECT(gbc.pc(), 0xe0c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0c6), 0x48);
        // 48 0070
        gbc.setState(0x747b, 0x8999, 0xcbf0, 0x7628, 0x3ee3, 0xc713, 0x0, 0x0);
        gbc.writeMem(0x747b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x8999);
        EXPECT(gbc.pc(), 0x747c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0071
        gbc.setState(0xa7fc, 0x1816, 0x5800, 0x37d1, 0x800b, 0x2c82, 0x1, 0x0);
        gbc.writeMem(0xa7fc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x1816);
        EXPECT(gbc.pc(), 0xa7fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7fc), 0x48);
        // 48 0072
        gbc.setState(0xbb8a, 0xb0f7, 0x7740, 0x4fb9, 0x4ba, 0x65da, 0x1, 0x0);
        gbc.writeMem(0xbb8a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xb0f7);
        EXPECT(gbc.pc(), 0xbb8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb8a), 0x48);
        // 48 0073
        gbc.setState(0xee55, 0xb3dc, 0xa370, 0xc909, 0x7135, 0xa698, 0x0, 0x0);
        gbc.writeMem(0xee55, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xb3dc);
        EXPECT(gbc.pc(), 0xee56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee55), 0x48);
        // 48 0075
        gbc.setState(0xbf20, 0x7f1, 0xc040, 0x264b, 0xc46e, 0xac94, 0x1, 0x1);
        gbc.writeMem(0xbf20, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x7f1);
        EXPECT(gbc.pc(), 0xbf21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf20), 0x48);
        // 48 0076
        gbc.setState(0xae88, 0x954b, 0xffe0, 0xc2c5, 0xbd49, 0xa145, 0x1, 0x0);
        gbc.writeMem(0xae88, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x954b);
        EXPECT(gbc.pc(), 0xae89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae88), 0x48);
        // 48 0077
        gbc.setState(0x186f, 0x2cb4, 0xbe90, 0x852f, 0xdcb3, 0x55e, 0x1, 0x1);
        gbc.writeMem(0x186f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x2cb4);
        EXPECT(gbc.pc(), 0x1870);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 007A
        gbc.setState(0xa85e, 0x8299, 0xfb90, 0xc283, 0x20c8, 0x91e7, 0x0, 0x0);
        gbc.writeMem(0xa85e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x8299);
        EXPECT(gbc.pc(), 0xa85f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa85e), 0x48);
        // 48 007B
        gbc.setState(0xb4fb, 0xc94a, 0xe3f0, 0xbf7c, 0x2f87, 0x8c25, 0x1, 0x0);
        gbc.writeMem(0xb4fb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xc94a);
        EXPECT(gbc.pc(), 0xb4fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4fb), 0x48);
        // 48 007D
        gbc.setState(0x965c, 0xe551, 0x91e0, 0xa4a3, 0x3d, 0xd235, 0x1, 0x1);
        gbc.writeMem(0x965c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xe551);
        EXPECT(gbc.pc(), 0x965d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x965c), 0x48);
        // 48 007E
        gbc.setState(0xce67, 0xd6d9, 0x500, 0xe6f0, 0x452f, 0x2b6f, 0x0, 0x0);
        gbc.writeMem(0xce67, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xd6d9);
        EXPECT(gbc.pc(), 0xce68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce67), 0x48);
        // 48 0080
        gbc.setState(0x7add, 0xe12f, 0x7340, 0x58ac, 0x4fff, 0xe4c, 0x0, 0x0);
        gbc.writeMem(0x7add, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xe12f);
        EXPECT(gbc.pc(), 0x7ade);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0081
        gbc.setState(0xe767, 0xeff3, 0xd940, 0x3a0a, 0xc4d2, 0x3c8f, 0x0, 0x0);
        gbc.writeMem(0xe767, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xeff3);
        EXPECT(gbc.pc(), 0xe768);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe767), 0x48);
        // 48 0082
        gbc.setState(0x76e5, 0xbdff, 0x4b50, 0xe562, 0xc9b9, 0x9338, 0x1, 0x0);
        gbc.writeMem(0x76e5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xbdff);
        EXPECT(gbc.pc(), 0x76e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0083
        gbc.setState(0x7574, 0xbfdb, 0x78d0, 0x9486, 0x42df, 0x4e5e, 0x1, 0x1);
        gbc.writeMem(0x7574, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xbfdb);
        EXPECT(gbc.pc(), 0x7575);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0084
        gbc.setState(0x1c03, 0x7136, 0x7ea0, 0x9f19, 0x9521, 0x14b6, 0x0, 0x1);
        gbc.writeMem(0x1c03, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x7136);
        EXPECT(gbc.pc(), 0x1c04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0085
        gbc.setState(0xb720, 0xbc20, 0x6a60, 0xc02c, 0xb1bb, 0x4fc6, 0x1, 0x0);
        gbc.writeMem(0xb720, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xbc20);
        EXPECT(gbc.pc(), 0xb721);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb720), 0x48);
        // 48 0086
        gbc.setState(0x7389, 0x449d, 0x2200, 0x7aa3, 0xbec6, 0x3a99, 0x1, 0x1);
        gbc.writeMem(0x7389, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x449d);
        EXPECT(gbc.pc(), 0x738a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0087
        gbc.setState(0x2b7c, 0x8982, 0x150, 0xd130, 0x78f5, 0x225e, 0x1, 0x0);
        gbc.writeMem(0x2b7c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x8982);
        EXPECT(gbc.pc(), 0x2b7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0088
        gbc.setState(0x4c53, 0x6329, 0x2c80, 0xf826, 0xd389, 0x19b0, 0x1, 0x1);
        gbc.writeMem(0x4c53, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x6329);
        EXPECT(gbc.pc(), 0x4c54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0089
        gbc.setState(0xa6b7, 0xa3f2, 0xeb10, 0xa504, 0xda8b, 0x113d, 0x1, 0x1);
        gbc.writeMem(0xa6b7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa3f2);
        EXPECT(gbc.pc(), 0xa6b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6b7), 0x48);
        // 48 008A
        gbc.setState(0x86d, 0x2753, 0x9b50, 0x4b7d, 0xd862, 0xdaf7, 0x1, 0x1);
        gbc.writeMem(0x86d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x2753);
        EXPECT(gbc.pc(), 0x86e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 008B
        gbc.setState(0x7323, 0x5130, 0x190, 0x124d, 0x2764, 0xa80d, 0x0, 0x0);
        gbc.writeMem(0x7323, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x5130);
        EXPECT(gbc.pc(), 0x7324);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 008C
        gbc.setState(0xd343, 0xf7b, 0x4980, 0xda56, 0x9f3d, 0xbe1, 0x0, 0x0);
        gbc.writeMem(0xd343, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf7b);
        EXPECT(gbc.pc(), 0xd344);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd343), 0x48);
        // 48 008D
        gbc.setState(0x358d, 0x8663, 0xb070, 0xbd15, 0xdc7, 0x5d75, 0x1, 0x0);
        gbc.writeMem(0x358d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x8663);
        EXPECT(gbc.pc(), 0x358e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 008E
        gbc.setState(0x8035, 0x35cc, 0xf050, 0xc97a, 0x2dd9, 0x3c7e, 0x0, 0x0);
        gbc.writeMem(0x8035, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x35cc);
        EXPECT(gbc.pc(), 0x8036);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8035), 0x48);
        // 48 008F
        gbc.setState(0x68f4, 0xfc89, 0xf620, 0xdce5, 0x856d, 0x91c5, 0x0, 0x0);
        gbc.writeMem(0x68f4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xfc89);
        EXPECT(gbc.pc(), 0x68f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0090
        gbc.setState(0x6878, 0x5e6d, 0xb480, 0x22b5, 0x72e7, 0xd5a3, 0x1, 0x0);
        gbc.writeMem(0x6878, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x5e6d);
        EXPECT(gbc.pc(), 0x6879);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0091
        gbc.setState(0x8b99, 0xcbed, 0xab00, 0xde78, 0x72b4, 0x6ef8, 0x0, 0x1);
        gbc.writeMem(0x8b99, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xcbed);
        EXPECT(gbc.pc(), 0x8b9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b99), 0x48);
        // 48 0092
        gbc.setState(0x3b19, 0x654a, 0x8e10, 0xe7d3, 0x408d, 0xe1e6, 0x1, 0x1);
        gbc.writeMem(0x3b19, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x654a);
        EXPECT(gbc.pc(), 0x3b1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0093
        gbc.setState(0x6b75, 0x7432, 0x21c0, 0xba59, 0x281c, 0x2d7e, 0x1, 0x1);
        gbc.writeMem(0x6b75, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x7432);
        EXPECT(gbc.pc(), 0x6b76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0094
        gbc.setState(0xa776, 0x2fde, 0x5430, 0x7428, 0xa768, 0x6703, 0x1, 0x0);
        gbc.writeMem(0xa776, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x2fde);
        EXPECT(gbc.pc(), 0xa777);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa776), 0x48);
        // 48 0095
        gbc.setState(0xef6c, 0x2365, 0xcf20, 0x7845, 0x6d9a, 0xcd5c, 0x0, 0x0);
        gbc.writeMem(0xef6c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x2365);
        EXPECT(gbc.pc(), 0xef6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef6c), 0x48);
        // 48 0096
        gbc.setState(0x5fc, 0x58cf, 0x87b0, 0x5f44, 0xf2fb, 0xb54c, 0x0, 0x0);
        gbc.writeMem(0x5fc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x58cf);
        EXPECT(gbc.pc(), 0x5fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0097
        gbc.setState(0x4343, 0xb03e, 0xea70, 0x5795, 0xcdb4, 0xaca8, 0x1, 0x1);
        gbc.writeMem(0x4343, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xb03e);
        EXPECT(gbc.pc(), 0x4344);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0098
        gbc.setState(0x5bde, 0x78c4, 0x7fa0, 0xb077, 0x9efd, 0xca36, 0x1, 0x0);
        gbc.writeMem(0x5bde, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x78c4);
        EXPECT(gbc.pc(), 0x5bdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0099
        gbc.setState(0xdfdb, 0xe742, 0x4ca0, 0xe56b, 0x5989, 0xe235, 0x1, 0x1);
        gbc.writeMem(0xdfdb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xe742);
        EXPECT(gbc.pc(), 0xdfdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfdb), 0x48);
        // 48 009A
        gbc.setState(0x9959, 0xebe7, 0xdc80, 0xdbc5, 0xc324, 0x7c18, 0x1, 0x0);
        gbc.writeMem(0x9959, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xebe7);
        EXPECT(gbc.pc(), 0x995a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9959), 0x48);
        // 48 009B
        gbc.setState(0x61dd, 0x8754, 0x4440, 0x3fe7, 0x3d0, 0x22af, 0x0, 0x0);
        gbc.writeMem(0x61dd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x8754);
        EXPECT(gbc.pc(), 0x61de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 009C
        gbc.setState(0x4e1c, 0xd476, 0x4300, 0xdf0f, 0x574b, 0x9cdb, 0x0, 0x1);
        gbc.writeMem(0x4e1c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xd476);
        EXPECT(gbc.pc(), 0x4e1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 009D
        gbc.setState(0x41cc, 0x5903, 0xc610, 0x8d28, 0xa08b, 0xfa7e, 0x1, 0x0);
        gbc.writeMem(0x41cc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x5903);
        EXPECT(gbc.pc(), 0x41cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 009E
        gbc.setState(0x6ded, 0x4faf, 0x6950, 0x25de, 0x1e38, 0xd1c0, 0x0, 0x1);
        gbc.writeMem(0x6ded, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x4faf);
        EXPECT(gbc.pc(), 0x6dee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 009F
        gbc.setState(0x39c3, 0x3e4c, 0x7d60, 0x23d1, 0xf491, 0xbd39, 0x0, 0x1);
        gbc.writeMem(0x39c3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x3e4c);
        EXPECT(gbc.pc(), 0x39c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 00A0
        gbc.setState(0xaaf0, 0xc6b0, 0xec90, 0x3ff5, 0xc531, 0xc614, 0x1, 0x0);
        gbc.writeMem(0xaaf0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xc6b0);
        EXPECT(gbc.pc(), 0xaaf1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaf0), 0x48);
        // 48 00A1
        gbc.setState(0x5f05, 0x2b00, 0x60d0, 0xebc4, 0x4b1f, 0x7eab, 0x0, 0x1);
        gbc.writeMem(0x5f05, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x2b00);
        EXPECT(gbc.pc(), 0x5f06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00A2
        gbc.setState(0x9c6b, 0x2fde, 0x5230, 0xfc5d, 0xafe9, 0x306a, 0x0, 0x1);
        gbc.writeMem(0x9c6b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2fde);
        EXPECT(gbc.pc(), 0x9c6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c6b), 0x48);
        // 48 00A3
        gbc.setState(0x6488, 0xfe06, 0x9f00, 0xf22e, 0xb26, 0x3684, 0x1, 0x0);
        gbc.writeMem(0x6488, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xfe06);
        EXPECT(gbc.pc(), 0x6489);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 00A4
        gbc.setState(0xa92, 0xb7cd, 0x5b10, 0xc417, 0x46f8, 0x3a57, 0x1, 0x0);
        gbc.writeMem(0xa92, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xb7cd);
        EXPECT(gbc.pc(), 0xa93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00A5
        gbc.setState(0x71b6, 0xfad9, 0x1f60, 0xe676, 0xeef2, 0x4e86, 0x0, 0x1);
        gbc.writeMem(0x71b6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xfad9);
        EXPECT(gbc.pc(), 0x71b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 00A6
        gbc.setState(0x79c1, 0x387e, 0x5500, 0x6797, 0xbf43, 0xe885, 0x1, 0x0);
        gbc.writeMem(0x79c1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x387e);
        EXPECT(gbc.pc(), 0x79c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 00A7
        gbc.setState(0x33d0, 0x1c68, 0xbf70, 0xcd63, 0x2fb1, 0x67ae, 0x0, 0x1);
        gbc.writeMem(0x33d0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x1c68);
        EXPECT(gbc.pc(), 0x33d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 00A8
        gbc.setState(0x8398, 0x7ee, 0x8070, 0xea1, 0xac3c, 0x32cb, 0x0, 0x1);
        gbc.writeMem(0x8398, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x7ee);
        EXPECT(gbc.pc(), 0x8399);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8398), 0x48);
        // 48 00A9
        gbc.setState(0x92a3, 0xcfa6, 0xfbf0, 0x63e5, 0x2443, 0x9b5d, 0x1, 0x1);
        gbc.writeMem(0x92a3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xcfa6);
        EXPECT(gbc.pc(), 0x92a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92a3), 0x48);
        // 48 00AA
        gbc.setState(0x528d, 0x2110, 0x4cb0, 0x93a0, 0xad32, 0xbd93, 0x0, 0x1);
        gbc.writeMem(0x528d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x2110);
        EXPECT(gbc.pc(), 0x528e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 00AB
        gbc.setState(0xbe9e, 0x5f4c, 0x50, 0xca0d, 0x5bb9, 0x6e3f, 0x0, 0x1);
        gbc.writeMem(0xbe9e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x5f4c);
        EXPECT(gbc.pc(), 0xbe9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe9e), 0x48);
        // 48 00AC
        gbc.setState(0xddcf, 0xc73e, 0x990, 0x3870, 0x72de, 0x409f, 0x0, 0x0);
        gbc.writeMem(0xddcf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xc73e);
        EXPECT(gbc.pc(), 0xddd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddcf), 0x48);
        // 48 00AD
        gbc.setState(0x4924, 0xf8d3, 0x71d0, 0xb005, 0x2e38, 0xf80, 0x0, 0x1);
        gbc.writeMem(0x4924, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xf8d3);
        EXPECT(gbc.pc(), 0x4925);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00AE
        gbc.setState(0x557b, 0x4455, 0xe700, 0x23a0, 0x2723, 0xe5e6, 0x1, 0x0);
        gbc.writeMem(0x557b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x4455);
        EXPECT(gbc.pc(), 0x557c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 00AF
        gbc.setState(0x62e7, 0xe5ec, 0x2320, 0x71c9, 0xa6b6, 0xf18c, 0x1, 0x0);
        gbc.writeMem(0x62e7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xe5ec);
        EXPECT(gbc.pc(), 0x62e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 00B0
        gbc.setState(0xbd, 0x1db7, 0xead0, 0xe177, 0x8abe, 0xb85a, 0x1, 0x0);
        gbc.writeMem(0xbd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x1db7);
        EXPECT(gbc.pc(), 0xbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00B1
        gbc.setState(0xb60a, 0xa818, 0xc110, 0x495b, 0xb501, 0xdaf2, 0x0, 0x0);
        gbc.writeMem(0xb60a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xa818);
        EXPECT(gbc.pc(), 0xb60b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb60a), 0x48);
        // 48 00B2
        gbc.setState(0x92a6, 0xc5f, 0xd350, 0x7ce1, 0x6bca, 0x89c, 0x1, 0x0);
        gbc.writeMem(0x92a6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xc5f);
        EXPECT(gbc.pc(), 0x92a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92a6), 0x48);
        // 48 00B3
        gbc.setState(0x76fa, 0xf3e6, 0xe5d0, 0x8c95, 0x8535, 0x414f, 0x1, 0x0);
        gbc.writeMem(0x76fa, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xf3e6);
        EXPECT(gbc.pc(), 0x76fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00B4
        gbc.setState(0xb4d0, 0x9a0, 0xc000, 0xfeb8, 0x4a06, 0xa9aa, 0x1, 0x1);
        gbc.writeMem(0xb4d0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x9a0);
        EXPECT(gbc.pc(), 0xb4d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4d0), 0x48);
        // 48 00B5
        gbc.setState(0xe6e5, 0xd1c8, 0x8170, 0x729a, 0x263a, 0xd232, 0x1, 0x0);
        gbc.writeMem(0xe6e5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xd1c8);
        EXPECT(gbc.pc(), 0xe6e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6e5), 0x48);
        // 48 00B6
        gbc.setState(0x89ad, 0x4168, 0xb2b0, 0x3369, 0x75c9, 0xb291, 0x1, 0x1);
        gbc.writeMem(0x89ad, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4168);
        EXPECT(gbc.pc(), 0x89ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89ad), 0x48);
        // 48 00B7
        gbc.setState(0xcc5b, 0x4733, 0x8e10, 0x45e5, 0xd67f, 0x5384, 0x1, 0x1);
        gbc.writeMem(0xcc5b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x4733);
        EXPECT(gbc.pc(), 0xcc5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc5b), 0x48);
        // 48 00B8
        gbc.setState(0x96a1, 0x8919, 0x1550, 0x4e3e, 0xb943, 0x3428, 0x1, 0x0);
        gbc.writeMem(0x96a1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x8919);
        EXPECT(gbc.pc(), 0x96a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96a1), 0x48);
        // 48 00B9
        gbc.setState(0x9cbf, 0xba2b, 0xfdd0, 0x71ce, 0x99ab, 0x54f8, 0x1, 0x0);
        gbc.writeMem(0x9cbf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xba2b);
        EXPECT(gbc.pc(), 0x9cc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cbf), 0x48);
        // 48 00BA
        gbc.setState(0xb0d6, 0xc180, 0xbba0, 0xb640, 0x1e1b, 0xdc2e, 0x1, 0x0);
        gbc.writeMem(0xb0d6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xc180);
        EXPECT(gbc.pc(), 0xb0d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0d6), 0x48);
        // 48 00BB
        gbc.setState(0xc53, 0xc3af, 0x7400, 0x3fc7, 0x606f, 0xceb5, 0x1, 0x0);
        gbc.writeMem(0xc53, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xc3af);
        EXPECT(gbc.pc(), 0xc54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 00BC
        gbc.setState(0xc51c, 0x884d, 0x60a0, 0xddec, 0xc969, 0x2e18, 0x0, 0x0);
        gbc.writeMem(0xc51c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x884d);
        EXPECT(gbc.pc(), 0xc51d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc51c), 0x48);
        // 48 00BD
        gbc.setState(0x3f1b, 0xaf5d, 0x8570, 0x60a5, 0x9c86, 0x1e29, 0x1, 0x1);
        gbc.writeMem(0x3f1b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xaf5d);
        EXPECT(gbc.pc(), 0x3f1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 00BE
        gbc.setState(0x468e, 0x2304, 0xc3d0, 0x5404, 0x49fe, 0x41e6, 0x0, 0x0);
        gbc.writeMem(0x468e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x2304);
        EXPECT(gbc.pc(), 0x468f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00BF
        gbc.setState(0xb1e0, 0x5140, 0x6440, 0x3281, 0x57da, 0x5c5, 0x0, 0x0);
        gbc.writeMem(0xb1e0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x5140);
        EXPECT(gbc.pc(), 0xb1e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1e0), 0x48);
        // 48 00C1
        gbc.setState(0xac39, 0xdfe6, 0xb6d0, 0x71f4, 0x3c9f, 0x4b79, 0x0, 0x1);
        gbc.writeMem(0xac39, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xdfe6);
        EXPECT(gbc.pc(), 0xac3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac39), 0x48);
        // 48 00C2
        gbc.setState(0x3886, 0x946c, 0x6530, 0x221b, 0xe6e9, 0x7f7f, 0x0, 0x1);
        gbc.writeMem(0x3886, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x946c);
        EXPECT(gbc.pc(), 0x3887);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 00C3
        gbc.setState(0x38ec, 0x3c8b, 0x6870, 0xba17, 0xa647, 0x7d39, 0x1, 0x1);
        gbc.writeMem(0x38ec, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x3c8b);
        EXPECT(gbc.pc(), 0x38ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 00C4
        gbc.setState(0xd465, 0x4264, 0xe430, 0xf0d6, 0x6f77, 0x73a7, 0x1, 0x1);
        gbc.writeMem(0xd465, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x4264);
        EXPECT(gbc.pc(), 0xd466);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd465), 0x48);
        // 48 00C5
        gbc.setState(0x79d8, 0x3b25, 0x7f40, 0xabd5, 0x63a2, 0xdde7, 0x1, 0x0);
        gbc.writeMem(0x79d8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x3b25);
        EXPECT(gbc.pc(), 0x79d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 00C6
        gbc.setState(0x9742, 0x3cb0, 0xc310, 0x259e, 0x2954, 0x123f, 0x1, 0x0);
        gbc.writeMem(0x9742, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x3cb0);
        EXPECT(gbc.pc(), 0x9743);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9742), 0x48);
        // 48 00C7
        gbc.setState(0x9df3, 0xc99c, 0x8d80, 0x59a, 0x333a, 0xd00b, 0x0, 0x1);
        gbc.writeMem(0x9df3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xc99c);
        EXPECT(gbc.pc(), 0x9df4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9df3), 0x48);
        // 48 00C8
        gbc.setState(0x209e, 0xee9f, 0xcd30, 0x1abf, 0x3b75, 0xb789, 0x1, 0x0);
        gbc.writeMem(0x209e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xee9f);
        EXPECT(gbc.pc(), 0x209f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 00C9
        gbc.setState(0x3a96, 0xc6a4, 0xf890, 0xbe95, 0xce2b, 0x5abb, 0x0, 0x0);
        gbc.writeMem(0x3a96, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xc6a4);
        EXPECT(gbc.pc(), 0x3a97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00CA
        gbc.setState(0xcc89, 0x628b, 0xf3c0, 0x73f4, 0xc21b, 0x79da, 0x0, 0x1);
        gbc.writeMem(0xcc89, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x628b);
        EXPECT(gbc.pc(), 0xcc8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc89), 0x48);
        // 48 00CB
        gbc.setState(0xefb0, 0x75, 0x29b0, 0x7800, 0x7912, 0xa9e, 0x0, 0x0);
        gbc.writeMem(0xefb0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x75);
        EXPECT(gbc.pc(), 0xefb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefb0), 0x48);
        // 48 00CC
        gbc.setState(0x67e8, 0x8b90, 0xc0d0, 0x7d07, 0x8c0, 0x65a6, 0x1, 0x0);
        gbc.writeMem(0x67e8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x8b90);
        EXPECT(gbc.pc(), 0x67e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00CD
        gbc.setState(0x8770, 0x8eb2, 0x3d30, 0xff27, 0x5b8d, 0x3a17, 0x1, 0x1);
        gbc.writeMem(0x8770, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x8eb2);
        EXPECT(gbc.pc(), 0x8771);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8770), 0x48);
        // 48 00CE
        gbc.setState(0xa83f, 0x3492, 0x2850, 0x2f3b, 0x1c27, 0xd28e, 0x0, 0x0);
        gbc.writeMem(0xa83f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x3492);
        EXPECT(gbc.pc(), 0xa840);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa83f), 0x48);
        // 48 00CF
        gbc.setState(0xd6d2, 0xc1bd, 0xc3b0, 0xee6f, 0xa8c7, 0x244a, 0x0, 0x1);
        gbc.writeMem(0xd6d2, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xc1bd);
        EXPECT(gbc.pc(), 0xd6d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6d2), 0x48);
        // 48 00D1
        gbc.setState(0xb299, 0xa3d4, 0xd0a0, 0xfa2e, 0xdfb4, 0x5ce0, 0x1, 0x1);
        gbc.writeMem(0xb299, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xa3d4);
        EXPECT(gbc.pc(), 0xb29a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb299), 0x48);
        // 48 00D2
        gbc.setState(0x63db, 0xc3a8, 0x6650, 0x3c14, 0x719f, 0x5f23, 0x1, 0x0);
        gbc.writeMem(0x63db, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xc3a8);
        EXPECT(gbc.pc(), 0x63dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00D3
        gbc.setState(0xb9e8, 0x76eb, 0xe400, 0xad36, 0xec75, 0xbdc, 0x0, 0x1);
        gbc.writeMem(0xb9e8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x76eb);
        EXPECT(gbc.pc(), 0xb9e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9e8), 0x48);
        // 48 00D4
        gbc.setState(0x62f7, 0x1c18, 0x490, 0x4a18, 0x526c, 0x7c21, 0x1, 0x0);
        gbc.writeMem(0x62f7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x1c18);
        EXPECT(gbc.pc(), 0x62f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00D5
        gbc.setState(0x2bb5, 0xfa29, 0xbc20, 0xce4c, 0xc2f0, 0x5bff, 0x0, 0x1);
        gbc.writeMem(0x2bb5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xfa29);
        EXPECT(gbc.pc(), 0x2bb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 00D6
        gbc.setState(0x15f9, 0x1972, 0xbb0, 0xd75c, 0x7404, 0x2c45, 0x0, 0x0);
        gbc.writeMem(0x15f9, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x1972);
        EXPECT(gbc.pc(), 0x15fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 00D7
        gbc.setState(0x72b8, 0x13d, 0x770, 0x1e5b, 0xe66f, 0x159a, 0x1, 0x0);
        gbc.writeMem(0x72b8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x13d);
        EXPECT(gbc.pc(), 0x72b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 00D9
        gbc.setState(0x69f6, 0xf819, 0xcfd0, 0xa33b, 0xd5f8, 0x43ee, 0x0, 0x1);
        gbc.writeMem(0x69f6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xf819);
        EXPECT(gbc.pc(), 0x69f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00DA
        gbc.setState(0x2a49, 0x5ed0, 0x69c0, 0xfc88, 0x9160, 0x32a2, 0x0, 0x1);
        gbc.writeMem(0x2a49, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x5ed0);
        EXPECT(gbc.pc(), 0x2a4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 00DB
        gbc.setState(0x39ea, 0x1cc4, 0x1760, 0x7114, 0x99dc, 0x4f15, 0x1, 0x1);
        gbc.writeMem(0x39ea, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x1cc4);
        EXPECT(gbc.pc(), 0x39eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 00DC
        gbc.setState(0x139d, 0xe440, 0xff80, 0x2383, 0x1ace, 0x1f69, 0x0, 0x0);
        gbc.writeMem(0x139d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xe440);
        EXPECT(gbc.pc(), 0x139e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 00DD
        gbc.setState(0x33d8, 0x6abc, 0x5c50, 0xd344, 0x52e9, 0xa0cc, 0x1, 0x1);
        gbc.writeMem(0x33d8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x6abc);
        EXPECT(gbc.pc(), 0x33d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00DE
        gbc.setState(0x9a37, 0x6fd1, 0x1b90, 0x7777, 0xd856, 0x494e, 0x0, 0x0);
        gbc.writeMem(0x9a37, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x6fd1);
        EXPECT(gbc.pc(), 0x9a38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a37), 0x48);
        // 48 00DF
        gbc.setState(0x1c76, 0xbe6a, 0x9df0, 0x39ae, 0x1ff6, 0xed51, 0x0, 0x1);
        gbc.writeMem(0x1c76, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xbe6a);
        EXPECT(gbc.pc(), 0x1c77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 00E1
        gbc.setState(0x2c6d, 0xdb5, 0x8e70, 0x211a, 0xbfcc, 0x7eda, 0x1, 0x1);
        gbc.writeMem(0x2c6d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xdb5);
        EXPECT(gbc.pc(), 0x2c6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 00E2
        gbc.setState(0xa3ee, 0x7759, 0xfcc0, 0xbf37, 0x6210, 0xa4e2, 0x1, 0x1);
        gbc.writeMem(0xa3ee, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x7759);
        EXPECT(gbc.pc(), 0xa3ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3ee), 0x48);
        // 48 00E3
        gbc.setState(0x1c1e, 0xa1ba, 0x4a10, 0xd021, 0x6b7d, 0x60e, 0x0, 0x1);
        gbc.writeMem(0x1c1e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xa1ba);
        EXPECT(gbc.pc(), 0x1c1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00E4
        gbc.setState(0xddd9, 0x2ce9, 0x74e0, 0x38, 0xc9c0, 0xa873, 0x0, 0x1);
        gbc.writeMem(0xddd9, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x2ce9);
        EXPECT(gbc.pc(), 0xddda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddd9), 0x48);
        // 48 00E5
        gbc.setState(0x7661, 0xa48, 0xdd20, 0x6e6f, 0x93f0, 0xa764, 0x1, 0x1);
        gbc.writeMem(0x7661, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xa48);
        EXPECT(gbc.pc(), 0x7662);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 00E6
        gbc.setState(0x4170, 0x22a8, 0x54e0, 0x1647, 0xd25c, 0x1ea4, 0x0, 0x0);
        gbc.writeMem(0x4170, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x22a8);
        EXPECT(gbc.pc(), 0x4171);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 00E7
        gbc.setState(0x9574, 0x11f0, 0x140, 0x6624, 0x93fe, 0xdd81, 0x1, 0x1);
        gbc.writeMem(0x9574, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x11f0);
        EXPECT(gbc.pc(), 0x9575);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9574), 0x48);
        // 48 00E8
        gbc.setState(0xa81d, 0x2700, 0x34a0, 0x9ebc, 0x8cf8, 0xda65, 0x0, 0x1);
        gbc.writeMem(0xa81d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x2700);
        EXPECT(gbc.pc(), 0xa81e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa81d), 0x48);
        // 48 00E9
        gbc.setState(0x99db, 0xaa45, 0xb950, 0xa7aa, 0x50a5, 0x919d, 0x0, 0x1);
        gbc.writeMem(0x99db, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xaa45);
        EXPECT(gbc.pc(), 0x99dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99db), 0x48);
        // 48 00EA
        gbc.setState(0x39, 0x1032, 0x3b90, 0x3d74, 0x682d, 0xd857, 0x0, 0x0);
        gbc.writeMem(0x39, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x1032);
        EXPECT(gbc.pc(), 0x3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00EB
        gbc.setState(0xcf67, 0xb4be, 0xf0e0, 0xf120, 0xbf39, 0xd67f, 0x1, 0x0);
        gbc.writeMem(0xcf67, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xb4be);
        EXPECT(gbc.pc(), 0xcf68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf67), 0x48);
        // 48 00EC
        gbc.setState(0xcebd, 0x4a43, 0x2c80, 0x2c70, 0x3c6, 0x370, 0x1, 0x1);
        gbc.writeMem(0xcebd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x4a43);
        EXPECT(gbc.pc(), 0xcebe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcebd), 0x48);
        // 48 00ED
        gbc.setState(0x2bf7, 0x2a23, 0x2150, 0xd14a, 0xec12, 0xb6ca, 0x0, 0x1);
        gbc.writeMem(0x2bf7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x2a23);
        EXPECT(gbc.pc(), 0x2bf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00EE
        gbc.setState(0xc0ef, 0xefce, 0x980, 0x85fd, 0x7252, 0xfbde, 0x0, 0x1);
        gbc.writeMem(0xc0ef, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xefce);
        EXPECT(gbc.pc(), 0xc0f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0ef), 0x48);
        // 48 00EF
        gbc.setState(0xe9ca, 0x16c7, 0x4bd0, 0xeb24, 0xd1f8, 0x3c34, 0x0, 0x1);
        gbc.writeMem(0xe9ca, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x16c7);
        EXPECT(gbc.pc(), 0xe9cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9ca), 0x48);
        // 48 00F0
        gbc.setState(0x91e0, 0x5db9, 0xcea0, 0x5f1c, 0xf5d3, 0xb22a, 0x1, 0x0);
        gbc.writeMem(0x91e0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x5db9);
        EXPECT(gbc.pc(), 0x91e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91e0), 0x48);
        // 48 00F1
        gbc.setState(0x3043, 0x6c1, 0x7bd0, 0x1e1b, 0x9210, 0x5e2d, 0x0, 0x1);
        gbc.writeMem(0x3043, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x6c1);
        EXPECT(gbc.pc(), 0x3044);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 00F2
        gbc.setState(0xa0ce, 0xe666, 0x410, 0x845, 0xb8a4, 0xd208, 0x1, 0x0);
        gbc.writeMem(0xa0ce, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xe666);
        EXPECT(gbc.pc(), 0xa0cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0ce), 0x48);
        // 48 00F3
        gbc.setState(0xb4ca, 0xca31, 0xaa50, 0x6d4b, 0xacd, 0x530f, 0x0, 0x1);
        gbc.writeMem(0xb4ca, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xca31);
        EXPECT(gbc.pc(), 0xb4cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4ca), 0x48);
        // 48 00F4
        gbc.setState(0x5ecc, 0xb843, 0x5fe0, 0xb703, 0x76cd, 0xeb6c, 0x1, 0x1);
        gbc.writeMem(0x5ecc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xb843);
        EXPECT(gbc.pc(), 0x5ecd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 00F5
        gbc.setState(0x3b96, 0x61a0, 0x86f0, 0x29c4, 0x22fc, 0xbbdd, 0x0, 0x0);
        gbc.writeMem(0x3b96, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x61a0);
        EXPECT(gbc.pc(), 0x3b97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 00F6
        gbc.setState(0xb3d1, 0x1091, 0xc2f0, 0xda76, 0x4a44, 0x1206, 0x0, 0x1);
        gbc.writeMem(0xb3d1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x1091);
        EXPECT(gbc.pc(), 0xb3d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3d1), 0x48);
        // 48 00F7
        gbc.setState(0xdf71, 0x6759, 0xe7e0, 0xa7c1, 0x5d2, 0xc5be, 0x0, 0x1);
        gbc.writeMem(0xdf71, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x6759);
        EXPECT(gbc.pc(), 0xdf72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf71), 0x48);
        // 48 00F8
        gbc.setState(0xc855, 0x1972, 0xd480, 0x116d, 0xb102, 0x9c83, 0x1, 0x1);
        gbc.writeMem(0xc855, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x1972);
        EXPECT(gbc.pc(), 0xc856);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc855), 0x48);
        // 48 00F9
        gbc.setState(0x8eaa, 0xb75e, 0x15c0, 0x8585, 0xfaa6, 0x7845, 0x1, 0x0);
        gbc.writeMem(0x8eaa, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xb75e);
        EXPECT(gbc.pc(), 0x8eab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8eaa), 0x48);
        // 48 00FB
        gbc.setState(0x695e, 0xde49, 0xa1e0, 0x6720, 0xda02, 0xc4c3, 0x1, 0x0);
        gbc.writeMem(0x695e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xde49);
        EXPECT(gbc.pc(), 0x695f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 00FC
        gbc.setState(0x9cd0, 0x32b2, 0x6650, 0x8cfc, 0xe207, 0x20c0, 0x1, 0x1);
        gbc.writeMem(0x9cd0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x32b2);
        EXPECT(gbc.pc(), 0x9cd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cd0), 0x48);
        // 48 00FD
        gbc.setState(0xb05a, 0xbc0b, 0xaa90, 0xdde9, 0xb35c, 0x2a5f, 0x1, 0x1);
        gbc.writeMem(0xb05a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xbc0b);
        EXPECT(gbc.pc(), 0xb05b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb05a), 0x48);
        // 48 00FE
        gbc.setState(0xb460, 0x79d5, 0x5ef0, 0x687a, 0xadac, 0xdaac, 0x0, 0x1);
        gbc.writeMem(0xb460, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x79d5);
        EXPECT(gbc.pc(), 0xb461);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb460), 0x48);
        // 48 00FF
        gbc.setState(0xc03c, 0xe98, 0x5c90, 0x9b9a, 0x5bc9, 0xbb72, 0x0, 0x0);
        gbc.writeMem(0xc03c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xe98);
        EXPECT(gbc.pc(), 0xc03d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc03c), 0x48);
        // 48 0100
        gbc.setState(0x68c4, 0xb973, 0x6020, 0x568d, 0x993f, 0x6913, 0x0, 0x1);
        gbc.writeMem(0x68c4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xb973);
        EXPECT(gbc.pc(), 0x68c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0101
        gbc.setState(0x1215, 0x91f2, 0x6d50, 0x2b9a, 0x960a, 0x8778, 0x1, 0x1);
        gbc.writeMem(0x1215, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x91f2);
        EXPECT(gbc.pc(), 0x1216);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0102
        gbc.setState(0x58eb, 0xa29b, 0xe410, 0x67ed, 0xd106, 0x871b, 0x0, 0x0);
        gbc.writeMem(0x58eb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xa29b);
        EXPECT(gbc.pc(), 0x58ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0103
        gbc.setState(0xac6d, 0x7d57, 0xc470, 0x1b95, 0xd8b4, 0x9083, 0x1, 0x0);
        gbc.writeMem(0xac6d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x7d57);
        EXPECT(gbc.pc(), 0xac6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac6d), 0x48);
        // 48 0104
        gbc.setState(0x9265, 0x35b0, 0x6f20, 0x101f, 0xb07a, 0xed2c, 0x0, 0x1);
        gbc.writeMem(0x9265, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x35b0);
        EXPECT(gbc.pc(), 0x9266);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9265), 0x48);
        // 48 0105
        gbc.setState(0x5445, 0xbbe0, 0xe330, 0x696, 0x2c25, 0x447e, 0x1, 0x1);
        gbc.writeMem(0x5445, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xbbe0);
        EXPECT(gbc.pc(), 0x5446);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0106
        gbc.setState(0x6208, 0x5a3a, 0xda10, 0xad2e, 0xa5a, 0xbef, 0x0, 0x1);
        gbc.writeMem(0x6208, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x5a3a);
        EXPECT(gbc.pc(), 0x6209);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0107
        gbc.setState(0x7224, 0xe281, 0x8ee0, 0x3cb6, 0x4334, 0xac5e, 0x0, 0x1);
        gbc.writeMem(0x7224, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xe281);
        EXPECT(gbc.pc(), 0x7225);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0108
        gbc.setState(0xd14b, 0x14f3, 0x2500, 0x4f62, 0xa950, 0xcb66, 0x1, 0x0);
        gbc.writeMem(0xd14b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x14f3);
        EXPECT(gbc.pc(), 0xd14c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd14b), 0x48);
        // 48 0109
        gbc.setState(0xa61f, 0x6b61, 0x70a0, 0xea87, 0xf7d6, 0x3708, 0x0, 0x1);
        gbc.writeMem(0xa61f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x6b61);
        EXPECT(gbc.pc(), 0xa620);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa61f), 0x48);
        // 48 010A
        gbc.setState(0x87d4, 0x6929, 0x3ce0, 0x4998, 0xcab6, 0xc95b, 0x0, 0x1);
        gbc.writeMem(0x87d4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x6929);
        EXPECT(gbc.pc(), 0x87d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87d4), 0x48);
        // 48 010B
        gbc.setState(0x3144, 0x2a11, 0xe470, 0x1bc8, 0x4339, 0x4e87, 0x1, 0x0);
        gbc.writeMem(0x3144, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x2a11);
        EXPECT(gbc.pc(), 0x3145);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 010C
        gbc.setState(0x37d9, 0x71a9, 0xbb10, 0x5363, 0x9cac, 0xb559, 0x1, 0x1);
        gbc.writeMem(0x37d9, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x71a9);
        EXPECT(gbc.pc(), 0x37da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 010D
        gbc.setState(0x98ce, 0x126d, 0xa160, 0x5940, 0x32ec, 0xc60f, 0x0, 0x0);
        gbc.writeMem(0x98ce, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x126d);
        EXPECT(gbc.pc(), 0x98cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98ce), 0x48);
        // 48 010E
        gbc.setState(0x15a3, 0x9212, 0x5f90, 0xb702, 0x6614, 0x4a0d, 0x0, 0x0);
        gbc.writeMem(0x15a3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x9212);
        EXPECT(gbc.pc(), 0x15a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 010F
        gbc.setState(0xa56f, 0x3140, 0x30a0, 0xe309, 0x3a49, 0xc8ab, 0x0, 0x1);
        gbc.writeMem(0xa56f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x3140);
        EXPECT(gbc.pc(), 0xa570);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa56f), 0x48);
        // 48 0110
        gbc.setState(0xb908, 0xbc17, 0x6e30, 0x13ad, 0x3c9, 0xcd28, 0x1, 0x0);
        gbc.writeMem(0xb908, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xbc17);
        EXPECT(gbc.pc(), 0xb909);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb908), 0x48);
        // 48 0111
        gbc.setState(0x34a4, 0x4fc8, 0xe870, 0x7070, 0xc1a9, 0x6a92, 0x1, 0x1);
        gbc.writeMem(0x34a4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x4fc8);
        EXPECT(gbc.pc(), 0x34a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0112
        gbc.setState(0x4f84, 0x1cea, 0xd350, 0x148c, 0x46c5, 0x3de8, 0x1, 0x1);
        gbc.writeMem(0x4f84, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x1cea);
        EXPECT(gbc.pc(), 0x4f85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0114
        gbc.setState(0x1c57, 0x93b8, 0xe940, 0xcaa, 0x6536, 0xaef7, 0x1, 0x1);
        gbc.writeMem(0x1c57, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x93b8);
        EXPECT(gbc.pc(), 0x1c58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0115
        gbc.setState(0xe493, 0x1cba, 0xcf60, 0x1274, 0x8a3d, 0x5d97, 0x0, 0x1);
        gbc.writeMem(0xe493, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x1cba);
        EXPECT(gbc.pc(), 0xe494);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe493), 0x48);
        // 48 0116
        gbc.setState(0xd923, 0xce7, 0xf0b0, 0xd218, 0xaa4d, 0xa4d9, 0x1, 0x0);
        gbc.writeMem(0xd923, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xce7);
        EXPECT(gbc.pc(), 0xd924);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd923), 0x48);
        // 48 0117
        gbc.setState(0x8bb0, 0x6121, 0xa2b0, 0x9994, 0x676, 0xe70c, 0x1, 0x1);
        gbc.writeMem(0x8bb0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x6121);
        EXPECT(gbc.pc(), 0x8bb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bb0), 0x48);
        // 48 0118
        gbc.setState(0x3e53, 0xac78, 0x2a90, 0x34a9, 0x874, 0xcba2, 0x1, 0x1);
        gbc.writeMem(0x3e53, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xac78);
        EXPECT(gbc.pc(), 0x3e54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0119
        gbc.setState(0x1375, 0x2c2f, 0x9130, 0x5ef2, 0x4293, 0xbf26, 0x0, 0x0);
        gbc.writeMem(0x1375, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x2c2f);
        EXPECT(gbc.pc(), 0x1376);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 011A
        gbc.setState(0xac40, 0x4d99, 0x60b0, 0xa4ef, 0xa9ca, 0x3fd5, 0x1, 0x1);
        gbc.writeMem(0xac40, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x4d99);
        EXPECT(gbc.pc(), 0xac41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac40), 0x48);
        // 48 011B
        gbc.setState(0xb887, 0xf70, 0xc2e0, 0x765b, 0xdc02, 0x861d, 0x0, 0x0);
        gbc.writeMem(0xb887, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xf70);
        EXPECT(gbc.pc(), 0xb888);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb887), 0x48);
        // 48 011C
        gbc.setState(0x9d2c, 0x2d1c, 0x43b0, 0x81a8, 0x31, 0xa51b, 0x0, 0x0);
        gbc.writeMem(0x9d2c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x2d1c);
        EXPECT(gbc.pc(), 0x9d2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d2c), 0x48);
        // 48 011D
        gbc.setState(0xcbde, 0x4e8b, 0xeb40, 0x1812, 0x3e9f, 0x35d7, 0x1, 0x1);
        gbc.writeMem(0xcbde, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x4e8b);
        EXPECT(gbc.pc(), 0xcbdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbde), 0x48);
        // 48 011E
        gbc.setState(0x1808, 0x21ab, 0x7550, 0x8107, 0x8fde, 0xbe84, 0x0, 0x1);
        gbc.writeMem(0x1808, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x21ab);
        EXPECT(gbc.pc(), 0x1809);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 011F
        gbc.setState(0xca28, 0xb7d0, 0xb900, 0x5b92, 0x6129, 0x449d, 0x1, 0x1);
        gbc.writeMem(0xca28, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xb7d0);
        EXPECT(gbc.pc(), 0xca29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca28), 0x48);
        // 48 0120
        gbc.setState(0xc8b0, 0x1dca, 0x3640, 0xbfe5, 0xe332, 0x6bd0, 0x1, 0x1);
        gbc.writeMem(0xc8b0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x1dca);
        EXPECT(gbc.pc(), 0xc8b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8b0), 0x48);
        // 48 0122
        gbc.setState(0x9b13, 0x7a33, 0x14e0, 0x35de, 0xb891, 0x4a90, 0x0, 0x1);
        gbc.writeMem(0x9b13, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x7a33);
        EXPECT(gbc.pc(), 0x9b14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b13), 0x48);
        // 48 0123
        gbc.setState(0x10f5, 0xb89d, 0x5dc0, 0xd7b5, 0x9b07, 0xb206, 0x1, 0x0);
        gbc.writeMem(0x10f5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xb89d);
        EXPECT(gbc.pc(), 0x10f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0124
        gbc.setState(0xe83d, 0x1847, 0x51b0, 0x8f88, 0x5a8a, 0x55bf, 0x1, 0x0);
        gbc.writeMem(0xe83d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x1847);
        EXPECT(gbc.pc(), 0xe83e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe83d), 0x48);
        // 48 0125
        gbc.setState(0x6e46, 0x581e, 0x7bc0, 0x244a, 0xb6c3, 0xd8c8, 0x0, 0x0);
        gbc.writeMem(0x6e46, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x581e);
        EXPECT(gbc.pc(), 0x6e47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0126
        gbc.setState(0x220f, 0xaac3, 0xdaf0, 0xc438, 0x936f, 0xd92b, 0x0, 0x1);
        gbc.writeMem(0x220f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xaac3);
        EXPECT(gbc.pc(), 0x2210);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0127
        gbc.setState(0x6e59, 0x5a20, 0x7630, 0xb73b, 0xd8dc, 0x9f54, 0x1, 0x0);
        gbc.writeMem(0x6e59, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x5a20);
        EXPECT(gbc.pc(), 0x6e5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0128
        gbc.setState(0xed93, 0x71fd, 0xdde0, 0x81b, 0x56d8, 0x5e78, 0x1, 0x0);
        gbc.writeMem(0xed93, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x71fd);
        EXPECT(gbc.pc(), 0xed94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed93), 0x48);
        // 48 0129
        gbc.setState(0x240f, 0x947c, 0x8ad0, 0x6b66, 0xe963, 0x7478, 0x1, 0x1);
        gbc.writeMem(0x240f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x947c);
        EXPECT(gbc.pc(), 0x2410);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 012A
        gbc.setState(0x22c8, 0x72b3, 0x15a0, 0x3d63, 0xfc41, 0xf702, 0x0, 0x0);
        gbc.writeMem(0x22c8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x72b3);
        EXPECT(gbc.pc(), 0x22c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 012B
        gbc.setState(0xd30c, 0xa447, 0x95f0, 0xa2d1, 0x651, 0x456f, 0x1, 0x0);
        gbc.writeMem(0xd30c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa447);
        EXPECT(gbc.pc(), 0xd30d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd30c), 0x48);
        // 48 012C
        gbc.setState(0xa915, 0x147e, 0x6370, 0x64a, 0x6cd, 0x5484, 0x1, 0x0);
        gbc.writeMem(0xa915, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x147e);
        EXPECT(gbc.pc(), 0xa916);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa915), 0x48);
        // 48 012D
        gbc.setState(0xccf5, 0xc093, 0x790, 0xffe8, 0x18f9, 0x5b84, 0x0, 0x1);
        gbc.writeMem(0xccf5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xc093);
        EXPECT(gbc.pc(), 0xccf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccf5), 0x48);
        // 48 012E
        gbc.setState(0x7697, 0x3c76, 0x44d0, 0xf383, 0xb7e1, 0x3c4a, 0x1, 0x0);
        gbc.writeMem(0x7697, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x3c76);
        EXPECT(gbc.pc(), 0x7698);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 012F
        gbc.setState(0xb1bb, 0xd557, 0xed0, 0xa765, 0x59b7, 0xbe9, 0x0, 0x1);
        gbc.writeMem(0xb1bb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xd557);
        EXPECT(gbc.pc(), 0xb1bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1bb), 0x48);
        // 48 0130
        gbc.setState(0xb371, 0xab13, 0xdcd0, 0x7092, 0x4135, 0xac4f, 0x1, 0x0);
        gbc.writeMem(0xb371, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xab13);
        EXPECT(gbc.pc(), 0xb372);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb371), 0x48);
        // 48 0133
        gbc.setState(0x33f1, 0xb9a6, 0x4a30, 0x5beb, 0xadf8, 0x47c0, 0x1, 0x0);
        gbc.writeMem(0x33f1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xb9a6);
        EXPECT(gbc.pc(), 0x33f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0134
        gbc.setState(0x3a09, 0xc751, 0x3740, 0x41f8, 0x1a2b, 0x9ff6, 0x0, 0x0);
        gbc.writeMem(0x3a09, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xc751);
        EXPECT(gbc.pc(), 0x3a0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0135
        gbc.setState(0xe5e8, 0xa326, 0xa870, 0x3f67, 0x6363, 0xd5db, 0x1, 0x0);
        gbc.writeMem(0xe5e8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xa326);
        EXPECT(gbc.pc(), 0xe5e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5e8), 0x48);
        // 48 0136
        gbc.setState(0xdabe, 0x26ef, 0x2b10, 0xb70d, 0x7a17, 0x8f2b, 0x1, 0x1);
        gbc.writeMem(0xdabe, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x26ef);
        EXPECT(gbc.pc(), 0xdabf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdabe), 0x48);
        // 48 0137
        gbc.setState(0x13ab, 0x4e77, 0x7b90, 0xb35c, 0xc1a0, 0x901b, 0x1, 0x1);
        gbc.writeMem(0x13ab, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x4e77);
        EXPECT(gbc.pc(), 0x13ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0138
        gbc.setState(0x5413, 0x1803, 0x5140, 0xe786, 0xd982, 0xf440, 0x1, 0x0);
        gbc.writeMem(0x5413, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x1803);
        EXPECT(gbc.pc(), 0x5414);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 013A
        gbc.setState(0x5965, 0x3fb, 0xd460, 0x2c7b, 0x45e5, 0x9284, 0x1, 0x1);
        gbc.writeMem(0x5965, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x3fb);
        EXPECT(gbc.pc(), 0x5966);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 013B
        gbc.setState(0x447, 0x1939, 0x52e0, 0x34b5, 0x65c9, 0xb555, 0x0, 0x1);
        gbc.writeMem(0x447, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x1939);
        EXPECT(gbc.pc(), 0x448);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 013D
        gbc.setState(0x8105, 0xf067, 0x2550, 0xf4b4, 0x5ff8, 0xaa92, 0x1, 0x1);
        gbc.writeMem(0x8105, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xf067);
        EXPECT(gbc.pc(), 0x8106);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8105), 0x48);
        // 48 013E
        gbc.setState(0xecf7, 0x9c89, 0x1ca0, 0x3bc6, 0x3404, 0xf7b7, 0x1, 0x0);
        gbc.writeMem(0xecf7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x9c89);
        EXPECT(gbc.pc(), 0xecf8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecf7), 0x48);
        // 48 013F
        gbc.setState(0x79d1, 0xdcd, 0x480, 0xd14f, 0xb3b8, 0xc86, 0x1, 0x1);
        gbc.writeMem(0x79d1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xdcd);
        EXPECT(gbc.pc(), 0x79d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0140
        gbc.setState(0x147f, 0xd9e8, 0xf360, 0x5de5, 0xc431, 0xa0a0, 0x0, 0x1);
        gbc.writeMem(0x147f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xd9e8);
        EXPECT(gbc.pc(), 0x1480);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0141
        gbc.setState(0xb0a6, 0x18d3, 0xcf50, 0xeebf, 0xd692, 0x7a99, 0x1, 0x1);
        gbc.writeMem(0xb0a6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x18d3);
        EXPECT(gbc.pc(), 0xb0a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0a6), 0x48);
        // 48 0142
        gbc.setState(0x7c3f, 0x94bb, 0xc8b0, 0x320c, 0xc134, 0xcc45, 0x0, 0x1);
        gbc.writeMem(0x7c3f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x94bb);
        EXPECT(gbc.pc(), 0x7c40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0143
        gbc.setState(0x7abd, 0xd398, 0x88f0, 0x1c5f, 0xb4a3, 0x4fd5, 0x0, 0x0);
        gbc.writeMem(0x7abd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xd398);
        EXPECT(gbc.pc(), 0x7abe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0144
        gbc.setState(0x50fd, 0x1fd5, 0x680, 0x2e55, 0xf40b, 0x5a29, 0x1, 0x0);
        gbc.writeMem(0x50fd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x1fd5);
        EXPECT(gbc.pc(), 0x50fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0145
        gbc.setState(0x4a6a, 0x549e, 0xc200, 0xa3ef, 0x99c0, 0x2cd0, 0x0, 0x0);
        gbc.writeMem(0x4a6a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x549e);
        EXPECT(gbc.pc(), 0x4a6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0146
        gbc.setState(0x7c96, 0xde79, 0xf0e0, 0xeae0, 0x37f0, 0x22b5, 0x1, 0x1);
        gbc.writeMem(0x7c96, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xde79);
        EXPECT(gbc.pc(), 0x7c97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0147
        gbc.setState(0xb599, 0x8081, 0xcb70, 0x662, 0xf616, 0xf318, 0x1, 0x0);
        gbc.writeMem(0xb599, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x8081);
        EXPECT(gbc.pc(), 0xb59a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb599), 0x48);
        // 48 0148
        gbc.setState(0x920a, 0x8c68, 0x4c70, 0x679f, 0x936b, 0x4503, 0x0, 0x1);
        gbc.writeMem(0x920a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x8c68);
        EXPECT(gbc.pc(), 0x920b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x920a), 0x48);
        // 48 0149
        gbc.setState(0x431e, 0x89ff, 0x3130, 0x3a00, 0xcf, 0xa3e8, 0x1, 0x1);
        gbc.writeMem(0x431e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x89ff);
        EXPECT(gbc.pc(), 0x431f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 014A
        gbc.setState(0x7933, 0xf3f0, 0xc7c0, 0x4e9f, 0x7336, 0x955c, 0x0, 0x0);
        gbc.writeMem(0x7933, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xf3f0);
        EXPECT(gbc.pc(), 0x7934);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 014C
        gbc.setState(0x5ed3, 0x7c01, 0x2900, 0x1d1e, 0x3fd2, 0x57af, 0x1, 0x1);
        gbc.writeMem(0x5ed3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x7c01);
        EXPECT(gbc.pc(), 0x5ed4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 014E
        gbc.setState(0xecff, 0x765e, 0x6440, 0x6b20, 0xf249, 0x32d8, 0x0, 0x0);
        gbc.writeMem(0xecff, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x765e);
        EXPECT(gbc.pc(), 0xed00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecff), 0x48);
        // 48 014F
        gbc.setState(0x9a9f, 0x8333, 0xcec0, 0xacfd, 0x7aaa, 0xe4cd, 0x1, 0x0);
        gbc.writeMem(0x9a9f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x8333);
        EXPECT(gbc.pc(), 0x9aa0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a9f), 0x48);
        // 48 0150
        gbc.setState(0x9197, 0xca55, 0x9690, 0x1673, 0x262d, 0x9593, 0x1, 0x1);
        gbc.writeMem(0x9197, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xca55);
        EXPECT(gbc.pc(), 0x9198);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9197), 0x48);
        // 48 0151
        gbc.setState(0x4db, 0x6691, 0x81a0, 0x8312, 0x252a, 0x6a01, 0x1, 0x0);
        gbc.writeMem(0x4db, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x6691);
        EXPECT(gbc.pc(), 0x4dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0152
        gbc.setState(0x87c1, 0x9993, 0xb2b0, 0xab4c, 0x700d, 0x121c, 0x1, 0x0);
        gbc.writeMem(0x87c1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x9993);
        EXPECT(gbc.pc(), 0x87c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87c1), 0x48);
        // 48 0153
        gbc.setState(0xcf43, 0x66db, 0xdea0, 0x2232, 0x7071, 0xe419, 0x0, 0x1);
        gbc.writeMem(0xcf43, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x66db);
        EXPECT(gbc.pc(), 0xcf44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf43), 0x48);
        // 48 0154
        gbc.setState(0xa022, 0xc69d, 0x9950, 0xd3f7, 0xb03c, 0xbf3b, 0x0, 0x0);
        gbc.writeMem(0xa022, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc69d);
        EXPECT(gbc.pc(), 0xa023);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa022), 0x48);
        // 48 0155
        gbc.setState(0x1c5f, 0x68b6, 0x9ca0, 0xa92f, 0xbb67, 0x3698, 0x1, 0x0);
        gbc.writeMem(0x1c5f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x68b6);
        EXPECT(gbc.pc(), 0x1c60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0156
        gbc.setState(0x1e72, 0x615, 0xae40, 0xf171, 0xcdc6, 0xe13c, 0x1, 0x0);
        gbc.writeMem(0x1e72, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x615);
        EXPECT(gbc.pc(), 0x1e73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0157
        gbc.setState(0xd908, 0xdba9, 0x7300, 0x7454, 0xbdc4, 0x64c2, 0x1, 0x0);
        gbc.writeMem(0xd908, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xdba9);
        EXPECT(gbc.pc(), 0xd909);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd908), 0x48);
        // 48 0158
        gbc.setState(0x50e1, 0x9ec2, 0x2cd0, 0xc26d, 0x7fba, 0xc12, 0x0, 0x0);
        gbc.writeMem(0x50e1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x9ec2);
        EXPECT(gbc.pc(), 0x50e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0159
        gbc.setState(0xa948, 0x7eb9, 0xa870, 0xd874, 0xc7f9, 0x7517, 0x0, 0x1);
        gbc.writeMem(0xa948, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x7eb9);
        EXPECT(gbc.pc(), 0xa949);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa948), 0x48);
        // 48 015A
        gbc.setState(0x25cf, 0x15ef, 0xfe90, 0x98e5, 0xbd32, 0x513d, 0x1, 0x1);
        gbc.writeMem(0x25cf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x15ef);
        EXPECT(gbc.pc(), 0x25d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 015B
        gbc.setState(0x51d3, 0xaba, 0x34d0, 0x5e48, 0x795d, 0x8522, 0x1, 0x1);
        gbc.writeMem(0x51d3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xaba);
        EXPECT(gbc.pc(), 0x51d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 015C
        gbc.setState(0x722c, 0xdcd7, 0x1320, 0x2bc8, 0xf9d7, 0xe59a, 0x1, 0x0);
        gbc.writeMem(0x722c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xdcd7);
        EXPECT(gbc.pc(), 0x722d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 015D
        gbc.setState(0xcc9b, 0x55a, 0x9a80, 0x7305, 0x5e94, 0xecef, 0x0, 0x0);
        gbc.writeMem(0xcc9b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x55a);
        EXPECT(gbc.pc(), 0xcc9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc9b), 0x48);
        // 48 015E
        gbc.setState(0xb530, 0xa708, 0x1470, 0x3800, 0x3a81, 0xcf40, 0x0, 0x1);
        gbc.writeMem(0xb530, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xa708);
        EXPECT(gbc.pc(), 0xb531);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb530), 0x48);
        // 48 015F
        gbc.setState(0x7d9b, 0xa94, 0x6560, 0xc91, 0xda1d, 0xb4dc, 0x0, 0x1);
        gbc.writeMem(0x7d9b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xa94);
        EXPECT(gbc.pc(), 0x7d9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0160
        gbc.setState(0xba9a, 0x3c89, 0x9720, 0x5b0a, 0xd7d8, 0x864f, 0x1, 0x1);
        gbc.writeMem(0xba9a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x3c89);
        EXPECT(gbc.pc(), 0xba9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba9a), 0x48);
        // 48 0161
        gbc.setState(0xa55f, 0x7d7f, 0xcf10, 0xe7b5, 0xb11c, 0x2212, 0x1, 0x1);
        gbc.writeMem(0xa55f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x7d7f);
        EXPECT(gbc.pc(), 0xa560);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa55f), 0x48);
        // 48 0162
        gbc.setState(0x41cc, 0x505c, 0x7350, 0xbd6c, 0xbd69, 0xef83, 0x1, 0x0);
        gbc.writeMem(0x41cc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x505c);
        EXPECT(gbc.pc(), 0x41cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0163
        gbc.setState(0x293e, 0x5621, 0xb3b0, 0x9244, 0xd130, 0xad06, 0x0, 0x1);
        gbc.writeMem(0x293e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x5621);
        EXPECT(gbc.pc(), 0x293f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0164
        gbc.setState(0x7f77, 0x435e, 0xe8c0, 0xcfc4, 0x7cc9, 0xae5f, 0x0, 0x1);
        gbc.writeMem(0x7f77, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x435e);
        EXPECT(gbc.pc(), 0x7f78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0165
        gbc.setState(0x8e2d, 0x7d9c, 0x4900, 0x234f, 0x5cdd, 0x74d6, 0x1, 0x0);
        gbc.writeMem(0x8e2d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x7d9c);
        EXPECT(gbc.pc(), 0x8e2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e2d), 0x48);
        // 48 0166
        gbc.setState(0x41cb, 0xf9ed, 0xdd80, 0xc805, 0x698, 0xe4b1, 0x0, 0x0);
        gbc.writeMem(0x41cb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xf9ed);
        EXPECT(gbc.pc(), 0x41cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0167
        gbc.setState(0x55b9, 0xd18d, 0xd0f0, 0x1047, 0xbc22, 0xc992, 0x0, 0x0);
        gbc.writeMem(0x55b9, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xd18d);
        EXPECT(gbc.pc(), 0x55ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0168
        gbc.setState(0x7b2c, 0x1528, 0x33b0, 0xe9df, 0x63a7, 0x72ca, 0x1, 0x1);
        gbc.writeMem(0x7b2c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x1528);
        EXPECT(gbc.pc(), 0x7b2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0169
        gbc.setState(0x9df5, 0xb4c4, 0x580, 0x14a6, 0xf123, 0xaba6, 0x0, 0x1);
        gbc.writeMem(0x9df5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xb4c4);
        EXPECT(gbc.pc(), 0x9df6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9df5), 0x48);
        // 48 016A
        gbc.setState(0xdbca, 0xab47, 0xfe80, 0x2b77, 0xee84, 0x4392, 0x0, 0x0);
        gbc.writeMem(0xdbca, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xab47);
        EXPECT(gbc.pc(), 0xdbcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbca), 0x48);
        // 48 016B
        gbc.setState(0x5e56, 0xaf06, 0x15b0, 0x15eb, 0x192e, 0xb779, 0x1, 0x0);
        gbc.writeMem(0x5e56, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xaf06);
        EXPECT(gbc.pc(), 0x5e57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 016C
        gbc.setState(0x66b9, 0xf24d, 0x35c0, 0x82d9, 0xc614, 0xf1d7, 0x1, 0x1);
        gbc.writeMem(0x66b9, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xf24d);
        EXPECT(gbc.pc(), 0x66ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 016D
        gbc.setState(0xd291, 0x955c, 0xc2d0, 0xe247, 0x457b, 0x9b34, 0x1, 0x0);
        gbc.writeMem(0xd291, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x955c);
        EXPECT(gbc.pc(), 0xd292);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd291), 0x48);
        // 48 016E
        gbc.setState(0x8b58, 0xb31c, 0x23f0, 0x14cf, 0x9da, 0xa605, 0x0, 0x1);
        gbc.writeMem(0x8b58, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xb31c);
        EXPECT(gbc.pc(), 0x8b59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b58), 0x48);
        // 48 016F
        gbc.setState(0x7b47, 0x9588, 0x4aa0, 0xdfe1, 0x9d59, 0x35ca, 0x0, 0x0);
        gbc.writeMem(0x7b47, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x9588);
        EXPECT(gbc.pc(), 0x7b48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0170
        gbc.setState(0xa066, 0x3cfd, 0x3d00, 0xf83f, 0xb101, 0x9c99, 0x1, 0x1);
        gbc.writeMem(0xa066, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x3cfd);
        EXPECT(gbc.pc(), 0xa067);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa066), 0x48);
        // 48 0171
        gbc.setState(0xac5a, 0xd5fc, 0x98c0, 0xb5e7, 0x4137, 0x88a5, 0x1, 0x0);
        gbc.writeMem(0xac5a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xd5fc);
        EXPECT(gbc.pc(), 0xac5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac5a), 0x48);
        // 48 0172
        gbc.setState(0x1663, 0x819b, 0x5d80, 0xa10a, 0xc897, 0x8892, 0x1, 0x1);
        gbc.writeMem(0x1663, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x819b);
        EXPECT(gbc.pc(), 0x1664);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0173
        gbc.setState(0xaab0, 0xb937, 0xa980, 0xb69f, 0xfc70, 0x2683, 0x0, 0x1);
        gbc.writeMem(0xaab0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xb937);
        EXPECT(gbc.pc(), 0xaab1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaab0), 0x48);
        // 48 0174
        gbc.setState(0x7e0d, 0xc735, 0x7640, 0xa996, 0x19c5, 0xf5d3, 0x0, 0x0);
        gbc.writeMem(0x7e0d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xc735);
        EXPECT(gbc.pc(), 0x7e0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0175
        gbc.setState(0xa1bf, 0x71cd, 0x1980, 0x15fe, 0x80aa, 0xf87e, 0x1, 0x1);
        gbc.writeMem(0xa1bf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x71cd);
        EXPECT(gbc.pc(), 0xa1c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1bf), 0x48);
        // 48 0176
        gbc.setState(0xc253, 0x3d0a, 0xece0, 0xce33, 0x58bb, 0x25cb, 0x0, 0x1);
        gbc.writeMem(0xc253, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x3d0a);
        EXPECT(gbc.pc(), 0xc254);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc253), 0x48);
        // 48 0177
        gbc.setState(0x48ef, 0xcfb2, 0x94b0, 0x1385, 0x3f4f, 0x2131, 0x0, 0x1);
        gbc.writeMem(0x48ef, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xcfb2);
        EXPECT(gbc.pc(), 0x48f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0178
        gbc.setState(0x2251, 0xb70f, 0x6540, 0x7fcd, 0xc38b, 0xf1b2, 0x1, 0x0);
        gbc.writeMem(0x2251, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xb70f);
        EXPECT(gbc.pc(), 0x2252);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0179
        gbc.setState(0x6f7d, 0x42f5, 0xb250, 0x5eb2, 0xf2c, 0x59b4, 0x1, 0x1);
        gbc.writeMem(0x6f7d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x42f5);
        EXPECT(gbc.pc(), 0x6f7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 017A
        gbc.setState(0x5e21, 0x4948, 0x45e0, 0x6569, 0x5b, 0xdfc0, 0x0, 0x0);
        gbc.writeMem(0x5e21, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x4948);
        EXPECT(gbc.pc(), 0x5e22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 017B
        gbc.setState(0x5425, 0x5bc7, 0xed10, 0xfffc, 0x2d09, 0xc837, 0x0, 0x0);
        gbc.writeMem(0x5425, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x5bc7);
        EXPECT(gbc.pc(), 0x5426);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 017C
        gbc.setState(0x803a, 0x8f9d, 0x54e0, 0x12cb, 0x8361, 0x7397, 0x1, 0x0);
        gbc.writeMem(0x803a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x8f9d);
        EXPECT(gbc.pc(), 0x803b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x803a), 0x48);
        // 48 017D
        gbc.setState(0xce75, 0x4069, 0xa4d0, 0x1d16, 0x13c, 0x1fd, 0x0, 0x1);
        gbc.writeMem(0xce75, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x4069);
        EXPECT(gbc.pc(), 0xce76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce75), 0x48);
        // 48 017E
        gbc.setState(0x53c0, 0x4b9b, 0xa130, 0x3269, 0x2cbe, 0xab06, 0x1, 0x1);
        gbc.writeMem(0x53c0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x4b9b);
        EXPECT(gbc.pc(), 0x53c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 017F
        gbc.setState(0xcfe7, 0x7743, 0x1580, 0x5274, 0xc769, 0x31cb, 0x1, 0x1);
        gbc.writeMem(0xcfe7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x7743);
        EXPECT(gbc.pc(), 0xcfe8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfe7), 0x48);
        // 48 0180
        gbc.setState(0x1df1, 0xd82e, 0xe9a0, 0x81b2, 0x6bfd, 0x7827, 0x0, 0x1);
        gbc.writeMem(0x1df1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xd82e);
        EXPECT(gbc.pc(), 0x1df2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0181
        gbc.setState(0x561e, 0x4206, 0xbe0, 0x3db9, 0x384e, 0x867d, 0x0, 0x0);
        gbc.writeMem(0x561e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x4206);
        EXPECT(gbc.pc(), 0x561f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0182
        gbc.setState(0xefcf, 0x436d, 0xb700, 0x23d4, 0x562b, 0xc048, 0x1, 0x1);
        gbc.writeMem(0xefcf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x436d);
        EXPECT(gbc.pc(), 0xefd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefcf), 0x48);
        // 48 0183
        gbc.setState(0x20ab, 0x9574, 0x2130, 0xf7bf, 0xcfe5, 0x2d59, 0x0, 0x0);
        gbc.writeMem(0x20ab, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x9574);
        EXPECT(gbc.pc(), 0x20ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0184
        gbc.setState(0x6056, 0x542b, 0x46e0, 0x121b, 0x13e, 0x5bc1, 0x1, 0x0);
        gbc.writeMem(0x6056, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x542b);
        EXPECT(gbc.pc(), 0x6057);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0185
        gbc.setState(0x42d2, 0x809f, 0x4380, 0xed22, 0x8c01, 0xd784, 0x0, 0x0);
        gbc.writeMem(0x42d2, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x809f);
        EXPECT(gbc.pc(), 0x42d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0186
        gbc.setState(0x33ed, 0x7c04, 0x1bd0, 0x4744, 0x6ba1, 0x639f, 0x0, 0x0);
        gbc.writeMem(0x33ed, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x7c04);
        EXPECT(gbc.pc(), 0x33ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0187
        gbc.setState(0xcd8a, 0xad99, 0x89c0, 0x15a, 0x958f, 0xb87b, 0x1, 0x0);
        gbc.writeMem(0xcd8a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xad99);
        EXPECT(gbc.pc(), 0xcd8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd8a), 0x48);
        // 48 0188
        gbc.setState(0xa81, 0x612c, 0xb090, 0xf9dc, 0x2e8, 0xeebe, 0x0, 0x0);
        gbc.writeMem(0xa81, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x612c);
        EXPECT(gbc.pc(), 0xa82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0189
        gbc.setState(0x2a9e, 0x2785, 0x9100, 0x515c, 0xbe79, 0xb43d, 0x1, 0x0);
        gbc.writeMem(0x2a9e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x2785);
        EXPECT(gbc.pc(), 0x2a9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 018B
        gbc.setState(0x5aa1, 0x7b1f, 0x30e0, 0xfae1, 0x95ef, 0xc237, 0x1, 0x0);
        gbc.writeMem(0x5aa1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x7b1f);
        EXPECT(gbc.pc(), 0x5aa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 018C
        gbc.setState(0xc44b, 0x3103, 0x2c20, 0x1411, 0x85ac, 0xf7e9, 0x0, 0x0);
        gbc.writeMem(0xc44b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x3103);
        EXPECT(gbc.pc(), 0xc44c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc44b), 0x48);
        // 48 018D
        gbc.setState(0xc7df, 0x937f, 0x53e0, 0x3c1e, 0x6bd6, 0xd227, 0x0, 0x0);
        gbc.writeMem(0xc7df, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x937f);
        EXPECT(gbc.pc(), 0xc7e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7df), 0x48);
        // 48 018F
        gbc.setState(0x1d4b, 0x3db2, 0x2ce0, 0xd3be, 0x98a3, 0xeaf5, 0x1, 0x0);
        gbc.writeMem(0x1d4b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x3db2);
        EXPECT(gbc.pc(), 0x1d4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0190
        gbc.setState(0x150, 0x8b15, 0x7020, 0x539f, 0xb2ab, 0x3f00, 0x1, 0x1);
        gbc.writeMem(0x150, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x8b15);
        EXPECT(gbc.pc(), 0x151);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0191
        gbc.setState(0xae0b, 0x6d5b, 0x76d0, 0x30ef, 0x9f9d, 0x96a1, 0x0, 0x0);
        gbc.writeMem(0xae0b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x6d5b);
        EXPECT(gbc.pc(), 0xae0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae0b), 0x48);
        // 48 0192
        gbc.setState(0xa7e3, 0x4907, 0x40, 0xecee, 0x9bc0, 0x8aee, 0x1, 0x0);
        gbc.writeMem(0xa7e3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x4907);
        EXPECT(gbc.pc(), 0xa7e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7e3), 0x48);
        // 48 0193
        gbc.setState(0xee7e, 0x577a, 0x5260, 0x1022, 0x9dc8, 0x5821, 0x1, 0x1);
        gbc.writeMem(0xee7e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x577a);
        EXPECT(gbc.pc(), 0xee7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee7e), 0x48);
        // 48 0194
        gbc.setState(0xeb67, 0xa20d, 0x8800, 0x7131, 0x9dfa, 0x48a1, 0x1, 0x1);
        gbc.writeMem(0xeb67, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xa20d);
        EXPECT(gbc.pc(), 0xeb68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb67), 0x48);
        // 48 0195
        gbc.setState(0x9c47, 0x10c0, 0x2a20, 0xfc5, 0x7b50, 0xdd4e, 0x0, 0x1);
        gbc.writeMem(0x9c47, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x10c0);
        EXPECT(gbc.pc(), 0x9c48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c47), 0x48);
        // 48 0198
        gbc.setState(0xc23b, 0xde42, 0xb970, 0x3392, 0xb4ec, 0xd24, 0x0, 0x0);
        gbc.writeMem(0xc23b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xde42);
        EXPECT(gbc.pc(), 0xc23c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc23b), 0x48);
        // 48 0199
        gbc.setState(0x4948, 0x6649, 0x99a0, 0xf9e2, 0x6ecc, 0xa1ed, 0x0, 0x0);
        gbc.writeMem(0x4948, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x6649);
        EXPECT(gbc.pc(), 0x4949);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 019A
        gbc.setState(0x15a5, 0xdc76, 0x8050, 0xba48, 0xa85a, 0x8c4, 0x1, 0x0);
        gbc.writeMem(0x15a5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xdc76);
        EXPECT(gbc.pc(), 0x15a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 019B
        gbc.setState(0xbab0, 0xca3f, 0x2890, 0xb016, 0x393e, 0x582c, 0x1, 0x0);
        gbc.writeMem(0xbab0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xca3f);
        EXPECT(gbc.pc(), 0xbab1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbab0), 0x48);
        // 48 019C
        gbc.setState(0x7f52, 0x6f6c, 0x6550, 0xb4df, 0xf2b7, 0x9cde, 0x0, 0x1);
        gbc.writeMem(0x7f52, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x6f6c);
        EXPECT(gbc.pc(), 0x7f53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 019D
        gbc.setState(0x2b2b, 0x36ad, 0xbe40, 0x873f, 0x21b0, 0x79d6, 0x0, 0x0);
        gbc.writeMem(0x2b2b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x36ad);
        EXPECT(gbc.pc(), 0x2b2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 019E
        gbc.setState(0x4686, 0xa36, 0xfd10, 0x1fbd, 0xc107, 0x2719, 0x1, 0x0);
        gbc.writeMem(0x4686, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa36);
        EXPECT(gbc.pc(), 0x4687);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 019F
        gbc.setState(0x8723, 0x7881, 0x13a0, 0x231b, 0x60b9, 0xfb1, 0x1, 0x1);
        gbc.writeMem(0x8723, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x7881);
        EXPECT(gbc.pc(), 0x8724);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8723), 0x48);
        // 48 01A0
        gbc.setState(0xe1a3, 0x23d2, 0x6790, 0xd23c, 0xcb2f, 0x5ff0, 0x1, 0x0);
        gbc.writeMem(0xe1a3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x23d2);
        EXPECT(gbc.pc(), 0xe1a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1a3), 0x48);
        // 48 01A1
        gbc.setState(0x8e40, 0xbb38, 0x2340, 0x9b23, 0x3540, 0x4335, 0x1, 0x0);
        gbc.writeMem(0x8e40, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xbb38);
        EXPECT(gbc.pc(), 0x8e41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e40), 0x48);
        // 48 01A2
        gbc.setState(0xa64f, 0x4b5a, 0x9770, 0x2e1e, 0x63d5, 0x5d9a, 0x1, 0x0);
        gbc.writeMem(0xa64f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x4b5a);
        EXPECT(gbc.pc(), 0xa650);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa64f), 0x48);
        // 48 01A3
        gbc.setState(0x5904, 0xf69, 0xf410, 0xfcbd, 0x1b9c, 0xfdc, 0x0, 0x1);
        gbc.writeMem(0x5904, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xf69);
        EXPECT(gbc.pc(), 0x5905);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 01A4
        gbc.setState(0xdfbc, 0x50ea, 0xd7b0, 0x934f, 0xf6d4, 0xeea4, 0x0, 0x1);
        gbc.writeMem(0xdfbc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x50ea);
        EXPECT(gbc.pc(), 0xdfbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfbc), 0x48);
        // 48 01A5
        gbc.setState(0x654d, 0x1e74, 0x650, 0xcbcf, 0x790b, 0xf588, 0x0, 0x1);
        gbc.writeMem(0x654d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x1e74);
        EXPECT(gbc.pc(), 0x654e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 01A6
        gbc.setState(0xedbb, 0x266a, 0x75b0, 0xc450, 0xd89, 0xbf83, 0x0, 0x1);
        gbc.writeMem(0xedbb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x266a);
        EXPECT(gbc.pc(), 0xedbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedbb), 0x48);
        // 48 01A7
        gbc.setState(0x3a57, 0xfc6a, 0xab70, 0xaf3f, 0xd2c1, 0xe8ff, 0x0, 0x0);
        gbc.writeMem(0x3a57, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xfc6a);
        EXPECT(gbc.pc(), 0x3a58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 01A8
        gbc.setState(0x8dcd, 0xcd2b, 0xf740, 0x530f, 0x9694, 0x1fa6, 0x1, 0x0);
        gbc.writeMem(0x8dcd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xcd2b);
        EXPECT(gbc.pc(), 0x8dce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dcd), 0x48);
        // 48 01AA
        gbc.setState(0x6b33, 0xa47f, 0xa760, 0x22ac, 0xd130, 0x6e92, 0x0, 0x1);
        gbc.writeMem(0x6b33, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xa47f);
        EXPECT(gbc.pc(), 0x6b34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 01AB
        gbc.setState(0x5bc6, 0xd9de, 0x4fe0, 0x878f, 0xa561, 0x676a, 0x0, 0x0);
        gbc.writeMem(0x5bc6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xd9de);
        EXPECT(gbc.pc(), 0x5bc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 01AC
        gbc.setState(0x29ad, 0x62f7, 0xd270, 0x49ab, 0x5c01, 0xc6bf, 0x1, 0x0);
        gbc.writeMem(0x29ad, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x62f7);
        EXPECT(gbc.pc(), 0x29ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 01AD
        gbc.setState(0x1727, 0xb2f7, 0x9810, 0xb9a6, 0xf477, 0xf687, 0x0, 0x0);
        gbc.writeMem(0x1727, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xb2f7);
        EXPECT(gbc.pc(), 0x1728);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 01AE
        gbc.setState(0x3054, 0xb1de, 0xd7c0, 0x62ee, 0x92c8, 0x1dc7, 0x1, 0x1);
        gbc.writeMem(0x3054, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xb1de);
        EXPECT(gbc.pc(), 0x3055);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 01AF
        gbc.setState(0xb3fb, 0xbd09, 0xc710, 0x7b20, 0x1b82, 0x2cab, 0x1, 0x0);
        gbc.writeMem(0xb3fb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xbd09);
        EXPECT(gbc.pc(), 0xb3fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3fb), 0x48);
        // 48 01B0
        gbc.setState(0xd353, 0x7dab, 0x9440, 0xa86a, 0x802, 0xec65, 0x0, 0x1);
        gbc.writeMem(0xd353, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x7dab);
        EXPECT(gbc.pc(), 0xd354);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd353), 0x48);
        // 48 01B1
        gbc.setState(0xadb1, 0xa27e, 0xa700, 0xa024, 0x9f75, 0x23b7, 0x1, 0x1);
        gbc.writeMem(0xadb1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xa27e);
        EXPECT(gbc.pc(), 0xadb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadb1), 0x48);
        // 48 01B2
        gbc.setState(0x1247, 0x3a5b, 0x9b10, 0xaf97, 0x33ac, 0x85ad, 0x0, 0x1);
        gbc.writeMem(0x1247, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x3a5b);
        EXPECT(gbc.pc(), 0x1248);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 01B3
        gbc.setState(0xe82b, 0x728e, 0xa4e0, 0xc727, 0xc1bf, 0xb327, 0x1, 0x0);
        gbc.writeMem(0xe82b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x728e);
        EXPECT(gbc.pc(), 0xe82c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe82b), 0x48);
        // 48 01B4
        gbc.setState(0x91ed, 0xed3f, 0x7170, 0xa266, 0xe7e9, 0xde3b, 0x0, 0x0);
        gbc.writeMem(0x91ed, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xed3f);
        EXPECT(gbc.pc(), 0x91ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91ed), 0x48);
        // 48 01B5
        gbc.setState(0x2368, 0x6fe8, 0x61b0, 0x70e4, 0x5804, 0x237, 0x0, 0x1);
        gbc.writeMem(0x2368, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x6fe8);
        EXPECT(gbc.pc(), 0x2369);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 01B6
        gbc.setState(0x2eb2, 0x6fe0, 0xaf00, 0x3400, 0xe0c2, 0x292a, 0x1, 0x1);
        gbc.writeMem(0x2eb2, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x6fe0);
        EXPECT(gbc.pc(), 0x2eb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 01B7
        gbc.setState(0x1e84, 0xb44a, 0x44b0, 0x127b, 0x138b, 0x7f69, 0x0, 0x1);
        gbc.writeMem(0x1e84, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xb44a);
        EXPECT(gbc.pc(), 0x1e85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 01B8
        gbc.setState(0x8011, 0x11eb, 0x1b0, 0xed9b, 0x2538, 0x2a23, 0x0, 0x0);
        gbc.writeMem(0x8011, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x11eb);
        EXPECT(gbc.pc(), 0x8012);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8011), 0x48);
        // 48 01B9
        gbc.setState(0x1943, 0x69ce, 0x88a0, 0xb73, 0x7f10, 0xcd8c, 0x0, 0x1);
        gbc.writeMem(0x1943, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x69ce);
        EXPECT(gbc.pc(), 0x1944);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 01BA
        gbc.setState(0x1d28, 0xeac0, 0xea80, 0x747c, 0xd6be, 0x8ecf, 0x0, 0x1);
        gbc.writeMem(0x1d28, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xeac0);
        EXPECT(gbc.pc(), 0x1d29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 01BB
        gbc.setState(0x6acf, 0x5b9d, 0xdc0, 0x7300, 0x13e9, 0x90bf, 0x0, 0x1);
        gbc.writeMem(0x6acf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x5b9d);
        EXPECT(gbc.pc(), 0x6ad0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 01BC
        gbc.setState(0x60c3, 0x2db5, 0xf490, 0xbbd8, 0x4e41, 0xf170, 0x1, 0x1);
        gbc.writeMem(0x60c3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x2db5);
        EXPECT(gbc.pc(), 0x60c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 01BD
        gbc.setState(0xc4fe, 0x285e, 0x74a0, 0x1cf2, 0xcc36, 0xdbee, 0x0, 0x0);
        gbc.writeMem(0xc4fe, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x285e);
        EXPECT(gbc.pc(), 0xc4ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4fe), 0x48);
        // 48 01BE
        gbc.setState(0x59da, 0x61d9, 0x8f90, 0x4b52, 0x2026, 0xb88e, 0x1, 0x1);
        gbc.writeMem(0x59da, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x61d9);
        EXPECT(gbc.pc(), 0x59db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 01BF
        gbc.setState(0xb2af, 0x403, 0xb0b0, 0x60ac, 0x1930, 0x4f52, 0x1, 0x1);
        gbc.writeMem(0xb2af, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x403);
        EXPECT(gbc.pc(), 0xb2b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2af), 0x48);
        // 48 01C0
        gbc.setState(0x4cf, 0x5b2f, 0x1d80, 0xf2de, 0x348c, 0x41e0, 0x1, 0x1);
        gbc.writeMem(0x4cf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x5b2f);
        EXPECT(gbc.pc(), 0x4d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 01C1
        gbc.setState(0xa197, 0x4b56, 0xda80, 0xbb52, 0xf57, 0x5291, 0x1, 0x1);
        gbc.writeMem(0xa197, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4b56);
        EXPECT(gbc.pc(), 0xa198);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa197), 0x48);
        // 48 01C2
        gbc.setState(0xdf58, 0x7239, 0x2c0, 0x4e7, 0xa6de, 0x9edd, 0x1, 0x0);
        gbc.writeMem(0xdf58, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x7239);
        EXPECT(gbc.pc(), 0xdf59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf58), 0x48);
        // 48 01C3
        gbc.setState(0x5908, 0x90db, 0x1cd0, 0x89ca, 0xb10d, 0xd147, 0x0, 0x1);
        gbc.writeMem(0x5908, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x90db);
        EXPECT(gbc.pc(), 0x5909);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 01C4
        gbc.setState(0x1d0e, 0x218, 0x3e70, 0x1fd7, 0x56fe, 0x4a70, 0x1, 0x0);
        gbc.writeMem(0x1d0e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x218);
        EXPECT(gbc.pc(), 0x1d0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 01C5
        gbc.setState(0x4cef, 0x1376, 0x190, 0xa465, 0xbf42, 0x4d0b, 0x0, 0x0);
        gbc.writeMem(0x4cef, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x1376);
        EXPECT(gbc.pc(), 0x4cf0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 01C6
        gbc.setState(0xc610, 0x3316, 0xf870, 0x47df, 0x9520, 0x557b, 0x1, 0x1);
        gbc.writeMem(0xc610, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x3316);
        EXPECT(gbc.pc(), 0xc611);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc610), 0x48);
        // 48 01C7
        gbc.setState(0x56b5, 0xaa5f, 0xf770, 0x6e5f, 0xe784, 0xb568, 0x1, 0x0);
        gbc.writeMem(0x56b5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xaa5f);
        EXPECT(gbc.pc(), 0x56b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 01C8
        gbc.setState(0xdeea, 0xd3c7, 0x7cd0, 0x5467, 0x289b, 0x146f, 0x0, 0x0);
        gbc.writeMem(0xdeea, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xd3c7);
        EXPECT(gbc.pc(), 0xdeeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdeea), 0x48);
        // 48 01C9
        gbc.setState(0x4ff4, 0x912e, 0xa40, 0xe083, 0x4625, 0x4ff3, 0x1, 0x0);
        gbc.writeMem(0x4ff4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x912e);
        EXPECT(gbc.pc(), 0x4ff5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 01CB
        gbc.setState(0x2892, 0x6e3b, 0x1150, 0x219e, 0x6356, 0x420d, 0x1, 0x0);
        gbc.writeMem(0x2892, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6e3b);
        EXPECT(gbc.pc(), 0x2893);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 01CC
        gbc.setState(0x31b0, 0x565a, 0xff90, 0x2608, 0x4b82, 0xbe4d, 0x1, 0x0);
        gbc.writeMem(0x31b0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x565a);
        EXPECT(gbc.pc(), 0x31b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 01CD
        gbc.setState(0x2b70, 0x5e7f, 0xcd30, 0x1309, 0xcdce, 0xa9c4, 0x0, 0x0);
        gbc.writeMem(0x2b70, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x5e7f);
        EXPECT(gbc.pc(), 0x2b71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 01CE
        gbc.setState(0x8ac8, 0x6157, 0xd750, 0xa1c1, 0xe8df, 0x2cd9, 0x0, 0x0);
        gbc.writeMem(0x8ac8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x6157);
        EXPECT(gbc.pc(), 0x8ac9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ac8), 0x48);
        // 48 01CF
        gbc.setState(0x4939, 0xf535, 0xeba0, 0x2, 0x462f, 0xaece, 0x0, 0x1);
        gbc.writeMem(0x4939, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xf535);
        EXPECT(gbc.pc(), 0x493a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 01D0
        gbc.setState(0xde43, 0xafab, 0xc410, 0x5c05, 0x84c9, 0xe65, 0x1, 0x0);
        gbc.writeMem(0xde43, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xafab);
        EXPECT(gbc.pc(), 0xde44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde43), 0x48);
        // 48 01D1
        gbc.setState(0x4ce3, 0xe427, 0xc3f0, 0x6c6a, 0x6a2f, 0xd7c5, 0x1, 0x1);
        gbc.writeMem(0x4ce3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe427);
        EXPECT(gbc.pc(), 0x4ce4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 01D2
        gbc.setState(0x5454, 0x5902, 0xf680, 0xcf3b, 0xab5d, 0x7768, 0x1, 0x1);
        gbc.writeMem(0x5454, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x5902);
        EXPECT(gbc.pc(), 0x5455);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 01D3
        gbc.setState(0x9c83, 0xd428, 0xf390, 0x5dcb, 0xf504, 0x4fcb, 0x0, 0x0);
        gbc.writeMem(0x9c83, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xd428);
        EXPECT(gbc.pc(), 0x9c84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c83), 0x48);
        // 48 01D4
        gbc.setState(0xd098, 0xa4d6, 0x1c10, 0xbb3b, 0xa9fe, 0x3930, 0x1, 0x0);
        gbc.writeMem(0xd098, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xa4d6);
        EXPECT(gbc.pc(), 0xd099);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd098), 0x48);
        // 48 01D5
        gbc.setState(0xcd70, 0xc4c5, 0xc870, 0xeacf, 0xe469, 0x1530, 0x1, 0x0);
        gbc.writeMem(0xcd70, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xc4c5);
        EXPECT(gbc.pc(), 0xcd71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd70), 0x48);
        // 48 01D6
        gbc.setState(0xbf57, 0x776, 0xc330, 0xcaf9, 0xde75, 0xb5f6, 0x1, 0x1);
        gbc.writeMem(0xbf57, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x776);
        EXPECT(gbc.pc(), 0xbf58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf57), 0x48);
        // 48 01D7
        gbc.setState(0xc60c, 0x7b86, 0x8da0, 0xab6e, 0xd663, 0xae01, 0x0, 0x0);
        gbc.writeMem(0xc60c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x7b86);
        EXPECT(gbc.pc(), 0xc60d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc60c), 0x48);
        // 48 01D8
        gbc.setState(0x2d3a, 0xec53, 0xe000, 0xded2, 0xad2d, 0xe413, 0x0, 0x0);
        gbc.writeMem(0x2d3a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xec53);
        EXPECT(gbc.pc(), 0x2d3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 01D9
        gbc.setState(0x5e01, 0xb41d, 0x8da0, 0x311b, 0xccdc, 0xa966, 0x1, 0x1);
        gbc.writeMem(0x5e01, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xb41d);
        EXPECT(gbc.pc(), 0x5e02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 01DA
        gbc.setState(0x8186, 0x8f77, 0x80a0, 0xe5d7, 0xd8a5, 0x6bfb, 0x0, 0x0);
        gbc.writeMem(0x8186, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x8f77);
        EXPECT(gbc.pc(), 0x8187);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8186), 0x48);
        // 48 01DB
        gbc.setState(0xcc57, 0xbafe, 0x7f30, 0xf948, 0x12ae, 0x3781, 0x0, 0x1);
        gbc.writeMem(0xcc57, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xbafe);
        EXPECT(gbc.pc(), 0xcc58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc57), 0x48);
        // 48 01DE
        gbc.setState(0xe6f1, 0xd095, 0x8a0, 0x264a, 0xb136, 0x10fd, 0x0, 0x0);
        gbc.writeMem(0xe6f1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xd095);
        EXPECT(gbc.pc(), 0xe6f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6f1), 0x48);
        // 48 01DF
        gbc.setState(0x5b24, 0xcae1, 0x8d00, 0x4f0a, 0xc487, 0xb796, 0x1, 0x0);
        gbc.writeMem(0x5b24, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xcae1);
        EXPECT(gbc.pc(), 0x5b25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 01E1
        gbc.setState(0xaace, 0x5a58, 0xf630, 0x850c, 0x4f53, 0x69a6, 0x0, 0x0);
        gbc.writeMem(0xaace, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x5a58);
        EXPECT(gbc.pc(), 0xaacf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaace), 0x48);
        // 48 01E2
        gbc.setState(0x2da5, 0x8371, 0x9220, 0x65f6, 0x8e5a, 0x1e7d, 0x0, 0x0);
        gbc.writeMem(0x2da5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x8371);
        EXPECT(gbc.pc(), 0x2da6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 01E3
        gbc.setState(0x75a6, 0xa075, 0x28f0, 0x4b0d, 0xebcd, 0x128e, 0x1, 0x1);
        gbc.writeMem(0x75a6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xa075);
        EXPECT(gbc.pc(), 0x75a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 01E5
        gbc.setState(0x369e, 0x8e27, 0xaf80, 0xe5af, 0xd90b, 0x5142, 0x0, 0x1);
        gbc.writeMem(0x369e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x8e27);
        EXPECT(gbc.pc(), 0x369f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 01E6
        gbc.setState(0x7802, 0x5f50, 0xb5e0, 0x66c1, 0x6a88, 0xf87b, 0x1, 0x1);
        gbc.writeMem(0x7802, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x5f50);
        EXPECT(gbc.pc(), 0x7803);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 01E7
        gbc.setState(0xa591, 0xab0, 0x4330, 0xb6cd, 0xbd64, 0xdf0d, 0x1, 0x1);
        gbc.writeMem(0xa591, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xab0);
        EXPECT(gbc.pc(), 0xa592);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa591), 0x48);
        // 48 01E8
        gbc.setState(0xe405, 0x5fc3, 0xac80, 0x88ef, 0x9bb7, 0x741f, 0x0, 0x1);
        gbc.writeMem(0xe405, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5fc3);
        EXPECT(gbc.pc(), 0xe406);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe405), 0x48);
        // 48 01E9
        gbc.setState(0x14ce, 0xb41a, 0x6910, 0x32c9, 0x96bb, 0x43fe, 0x0, 0x0);
        gbc.writeMem(0x14ce, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xb41a);
        EXPECT(gbc.pc(), 0x14cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 01EA
        gbc.setState(0xb5f, 0xfe81, 0x5a50, 0xb3b9, 0x393d, 0x7bba, 0x0, 0x1);
        gbc.writeMem(0xb5f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xfe81);
        EXPECT(gbc.pc(), 0xb60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 01EB
        gbc.setState(0x1e0c, 0xce83, 0x4b30, 0xdf98, 0x81b4, 0x3438, 0x1, 0x1);
        gbc.writeMem(0x1e0c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xce83);
        EXPECT(gbc.pc(), 0x1e0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 01EC
        gbc.setState(0xb07f, 0x7e8d, 0xb8a0, 0x3525, 0x311a, 0x15c8, 0x1, 0x1);
        gbc.writeMem(0xb07f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x7e8d);
        EXPECT(gbc.pc(), 0xb080);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb07f), 0x48);
        // 48 01ED
        gbc.setState(0x699e, 0x6394, 0x420, 0xfa14, 0x8dc5, 0x1244, 0x0, 0x0);
        gbc.writeMem(0x699e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x6394);
        EXPECT(gbc.pc(), 0x699f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 01EE
        gbc.setState(0x5604, 0x92a3, 0x9120, 0x8d13, 0x2f0b, 0x4307, 0x0, 0x1);
        gbc.writeMem(0x5604, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x92a3);
        EXPECT(gbc.pc(), 0x5605);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 01EF
        gbc.setState(0x4bc3, 0x1424, 0xcc00, 0x2776, 0xa534, 0xa493, 0x1, 0x0);
        gbc.writeMem(0x4bc3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x1424);
        EXPECT(gbc.pc(), 0x4bc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 01F0
        gbc.setState(0xab52, 0xdf9a, 0x27d0, 0xcd82, 0xb58d, 0x42a0, 0x0, 0x1);
        gbc.writeMem(0xab52, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xdf9a);
        EXPECT(gbc.pc(), 0xab53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab52), 0x48);
        // 48 01F1
        gbc.setState(0x4646, 0x431f, 0x7cb0, 0xc3f8, 0x2887, 0x1247, 0x1, 0x1);
        gbc.writeMem(0x4646, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x431f);
        EXPECT(gbc.pc(), 0x4647);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 01F2
        gbc.setState(0x2819, 0x4a92, 0xbf00, 0xe2ce, 0xd707, 0x8b30, 0x1, 0x1);
        gbc.writeMem(0x2819, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x4a92);
        EXPECT(gbc.pc(), 0x281a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 01F3
        gbc.setState(0x66f2, 0x5993, 0xe730, 0x201b, 0xb838, 0xd767, 0x1, 0x1);
        gbc.writeMem(0x66f2, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x5993);
        EXPECT(gbc.pc(), 0x66f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 01F4
        gbc.setState(0xe6c8, 0x8b96, 0x95b0, 0x5a7, 0x2dfc, 0x5631, 0x0, 0x0);
        gbc.writeMem(0xe6c8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x8b96);
        EXPECT(gbc.pc(), 0xe6c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6c8), 0x48);
        // 48 01F5
        gbc.setState(0x89dc, 0xbac4, 0x75f0, 0x1fe5, 0x8ba9, 0x755a, 0x0, 0x1);
        gbc.writeMem(0x89dc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xbac4);
        EXPECT(gbc.pc(), 0x89dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89dc), 0x48);
        // 48 01F7
        gbc.setState(0x97bd, 0x963a, 0xed20, 0x3561, 0xe48, 0xc229, 0x1, 0x0);
        gbc.writeMem(0x97bd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x963a);
        EXPECT(gbc.pc(), 0x97be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97bd), 0x48);
        // 48 01F8
        gbc.setState(0x475f, 0x1c01, 0xbdc0, 0xf658, 0xc4c2, 0x914a, 0x0, 0x1);
        gbc.writeMem(0x475f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x1c01);
        EXPECT(gbc.pc(), 0x4760);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 01F9
        gbc.setState(0x6f13, 0x17da, 0xf050, 0x42bd, 0xed2c, 0x3321, 0x0, 0x1);
        gbc.writeMem(0x6f13, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x17da);
        EXPECT(gbc.pc(), 0x6f14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 01FA
        gbc.setState(0xa357, 0xb50f, 0x2170, 0xefa2, 0x5d67, 0x83ff, 0x1, 0x1);
        gbc.writeMem(0xa357, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xb50f);
        EXPECT(gbc.pc(), 0xa358);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa357), 0x48);
        // 48 01FB
        gbc.setState(0x80f0, 0xa806, 0x2430, 0x42f0, 0x619a, 0x473b, 0x1, 0x0);
        gbc.writeMem(0x80f0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xa806);
        EXPECT(gbc.pc(), 0x80f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80f0), 0x48);
        // 48 01FC
        gbc.setState(0xa878, 0x3b19, 0x22e0, 0xead2, 0x7ea6, 0xaa43, 0x0, 0x1);
        gbc.writeMem(0xa878, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x3b19);
        EXPECT(gbc.pc(), 0xa879);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa878), 0x48);
        // 48 01FD
        gbc.setState(0x6325, 0xfc50, 0xf0, 0xd187, 0xc892, 0x7a1c, 0x1, 0x0);
        gbc.writeMem(0x6325, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xfc50);
        EXPECT(gbc.pc(), 0x6326);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 01FF
        gbc.setState(0x5579, 0x2033, 0x7490, 0x5b2b, 0x18ad, 0x4dc7, 0x1, 0x1);
        gbc.writeMem(0x5579, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x2033);
        EXPECT(gbc.pc(), 0x557a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0200
        gbc.setState(0x4233, 0x9166, 0xeea0, 0x9df3, 0xab27, 0x41f0, 0x1, 0x0);
        gbc.writeMem(0x4233, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x9166);
        EXPECT(gbc.pc(), 0x4234);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0201
        gbc.setState(0xb717, 0x47d2, 0x5950, 0x123a, 0x6165, 0x634e, 0x1, 0x0);
        gbc.writeMem(0xb717, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x47d2);
        EXPECT(gbc.pc(), 0xb718);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb717), 0x48);
        // 48 0202
        gbc.setState(0xceaf, 0xce2b, 0x4f0, 0x6da7, 0x74d4, 0xe118, 0x0, 0x0);
        gbc.writeMem(0xceaf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xce2b);
        EXPECT(gbc.pc(), 0xceb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xceaf), 0x48);
        // 48 0203
        gbc.setState(0x2262, 0xa592, 0x3a80, 0x7637, 0x96e1, 0x6952, 0x1, 0x0);
        gbc.writeMem(0x2262, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xa592);
        EXPECT(gbc.pc(), 0x2263);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0204
        gbc.setState(0x7f9d, 0x4ea, 0x8060, 0xd1c1, 0x7019, 0x6ca7, 0x1, 0x1);
        gbc.writeMem(0x7f9d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x4ea);
        EXPECT(gbc.pc(), 0x7f9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0206
        gbc.setState(0xee54, 0x64da, 0xc280, 0x38d2, 0x5c4e, 0x9bef, 0x0, 0x1);
        gbc.writeMem(0xee54, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x64da);
        EXPECT(gbc.pc(), 0xee55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee54), 0x48);
        // 48 0207
        gbc.setState(0x1588, 0x2fe7, 0x2cb0, 0x437f, 0xe8d9, 0xcaf1, 0x0, 0x0);
        gbc.writeMem(0x1588, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x2fe7);
        EXPECT(gbc.pc(), 0x1589);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0208
        gbc.setState(0xd55c, 0xe00f, 0x56c0, 0xd880, 0x8980, 0x7654, 0x1, 0x1);
        gbc.writeMem(0xd55c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xe00f);
        EXPECT(gbc.pc(), 0xd55d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd55c), 0x48);
        // 48 0209
        gbc.setState(0xa6f7, 0x74d2, 0x86e0, 0x93df, 0x38d1, 0xe2c1, 0x1, 0x1);
        gbc.writeMem(0xa6f7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x74d2);
        EXPECT(gbc.pc(), 0xa6f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6f7), 0x48);
        // 48 020A
        gbc.setState(0x7c63, 0xbe83, 0x9250, 0x1de8, 0x4b5c, 0x5c69, 0x1, 0x1);
        gbc.writeMem(0x7c63, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xbe83);
        EXPECT(gbc.pc(), 0x7c64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 020B
        gbc.setState(0xc41c, 0xbd81, 0x7540, 0xd1a5, 0xa036, 0x734d, 0x0, 0x0);
        gbc.writeMem(0xc41c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xbd81);
        EXPECT(gbc.pc(), 0xc41d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc41c), 0x48);
        // 48 020C
        gbc.setState(0x45f0, 0xa327, 0xc640, 0xdb35, 0x48f2, 0xb549, 0x1, 0x0);
        gbc.writeMem(0x45f0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xa327);
        EXPECT(gbc.pc(), 0x45f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 020D
        gbc.setState(0xdf84, 0xaee7, 0x8f90, 0xe91f, 0x9583, 0x8ad5, 0x1, 0x1);
        gbc.writeMem(0xdf84, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xaee7);
        EXPECT(gbc.pc(), 0xdf85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf84), 0x48);
        // 48 020E
        gbc.setState(0x8454, 0xc3fc, 0xa9d0, 0x3f0a, 0x8e70, 0xe9b, 0x0, 0x0);
        gbc.writeMem(0x8454, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc3fc);
        EXPECT(gbc.pc(), 0x8455);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8454), 0x48);
        // 48 020F
        gbc.setState(0xda0a, 0x14bf, 0x6980, 0x2318, 0xec9, 0x465, 0x0, 0x0);
        gbc.writeMem(0xda0a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x14bf);
        EXPECT(gbc.pc(), 0xda0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda0a), 0x48);
        // 48 0210
        gbc.setState(0x1a72, 0x1194, 0x38d0, 0xbc4e, 0x2f80, 0xf49b, 0x0, 0x1);
        gbc.writeMem(0x1a72, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x1194);
        EXPECT(gbc.pc(), 0x1a73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0211
        gbc.setState(0xbcfe, 0xe2f1, 0xd990, 0x1c07, 0x8b75, 0x43e0, 0x0, 0x0);
        gbc.writeMem(0xbcfe, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xe2f1);
        EXPECT(gbc.pc(), 0xbcff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcfe), 0x48);
        // 48 0212
        gbc.setState(0x6df1, 0x145, 0x86e0, 0xabf0, 0x5fe8, 0x38d8, 0x0, 0x0);
        gbc.writeMem(0x6df1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x145);
        EXPECT(gbc.pc(), 0x6df2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0213
        gbc.setState(0x5988, 0x59df, 0xd880, 0x91e2, 0x6bc8, 0xea59, 0x1, 0x1);
        gbc.writeMem(0x5988, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x59df);
        EXPECT(gbc.pc(), 0x5989);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0214
        gbc.setState(0xa18e, 0x419b, 0xc220, 0x5041, 0xcef5, 0x944, 0x1, 0x0);
        gbc.writeMem(0xa18e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x419b);
        EXPECT(gbc.pc(), 0xa18f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa18e), 0x48);
        // 48 0215
        gbc.setState(0x86fe, 0x23fe, 0xda80, 0x46a7, 0x8607, 0xfe3c, 0x1, 0x1);
        gbc.writeMem(0x86fe, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x23fe);
        EXPECT(gbc.pc(), 0x86ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86fe), 0x48);
        // 48 0216
        gbc.setState(0x5483, 0x8989, 0x60c0, 0x6a5, 0x60dd, 0x2043, 0x0, 0x1);
        gbc.writeMem(0x5483, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x8989);
        EXPECT(gbc.pc(), 0x5484);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0217
        gbc.setState(0xa50, 0x7830, 0xca50, 0xfa9a, 0x6859, 0x1a70, 0x1, 0x0);
        gbc.writeMem(0xa50, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x7830);
        EXPECT(gbc.pc(), 0xa51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0218
        gbc.setState(0x332a, 0x2ee8, 0xb0b0, 0xbc15, 0x3dc7, 0x2748, 0x1, 0x1);
        gbc.writeMem(0x332a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x2ee8);
        EXPECT(gbc.pc(), 0x332b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0219
        gbc.setState(0x2dae, 0x3a73, 0x6ff0, 0x10df, 0x14c1, 0x653, 0x0, 0x1);
        gbc.writeMem(0x2dae, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x3a73);
        EXPECT(gbc.pc(), 0x2daf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 021A
        gbc.setState(0x6543, 0xc573, 0xd630, 0x7919, 0x9284, 0x5728, 0x0, 0x0);
        gbc.writeMem(0x6543, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xc573);
        EXPECT(gbc.pc(), 0x6544);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 021B
        gbc.setState(0xa107, 0xefbb, 0x31c0, 0x6a4, 0xc014, 0x6729, 0x1, 0x0);
        gbc.writeMem(0xa107, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xefbb);
        EXPECT(gbc.pc(), 0xa108);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa107), 0x48);
        // 48 021C
        gbc.setState(0xb005, 0xb924, 0x44f0, 0xec2b, 0xbcd1, 0x1f1e, 0x1, 0x0);
        gbc.writeMem(0xb005, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xb924);
        EXPECT(gbc.pc(), 0xb006);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb005), 0x48);
        // 48 021D
        gbc.setState(0xfe1, 0x880b, 0xb300, 0xae97, 0xff31, 0xbe93, 0x0, 0x0);
        gbc.writeMem(0xfe1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x880b);
        EXPECT(gbc.pc(), 0xfe2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 021E
        gbc.setState(0x4caa, 0x93c5, 0x2990, 0xc0b8, 0x2cce, 0x3e47, 0x0, 0x1);
        gbc.writeMem(0x4caa, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x93c5);
        EXPECT(gbc.pc(), 0x4cab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 021F
        gbc.setState(0x5f13, 0x1745, 0xed90, 0x8c60, 0x49c0, 0x228f, 0x0, 0x0);
        gbc.writeMem(0x5f13, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x1745);
        EXPECT(gbc.pc(), 0x5f14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0220
        gbc.setState(0x266e, 0x7402, 0x3e70, 0x3021, 0x2dad, 0x38de, 0x0, 0x0);
        gbc.writeMem(0x266e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x7402);
        EXPECT(gbc.pc(), 0x266f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0221
        gbc.setState(0x61be, 0x39ef, 0xf650, 0xf668, 0xb611, 0x63e, 0x1, 0x1);
        gbc.writeMem(0x61be, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x39ef);
        EXPECT(gbc.pc(), 0x61bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0222
        gbc.setState(0xc7ca, 0xb2ff, 0x6230, 0xbbe6, 0xad42, 0xfe21, 0x0, 0x1);
        gbc.writeMem(0xc7ca, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xb2ff);
        EXPECT(gbc.pc(), 0xc7cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7ca), 0x48);
        // 48 0223
        gbc.setState(0x5750, 0x7558, 0x9ea0, 0xc735, 0x26fc, 0xcea4, 0x0, 0x0);
        gbc.writeMem(0x5750, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x7558);
        EXPECT(gbc.pc(), 0x5751);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0224
        gbc.setState(0xc193, 0x16e6, 0xb450, 0xc1b6, 0x2fe4, 0xcc56, 0x1, 0x1);
        gbc.writeMem(0xc193, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x16e6);
        EXPECT(gbc.pc(), 0xc194);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc193), 0x48);
        // 48 0226
        gbc.setState(0x6891, 0xabb, 0x9d50, 0x5be3, 0xd704, 0x23ae, 0x1, 0x0);
        gbc.writeMem(0x6891, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xabb);
        EXPECT(gbc.pc(), 0x6892);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0227
        gbc.setState(0x880b, 0x1bd, 0x3a60, 0x4b17, 0xc046, 0xc7e8, 0x0, 0x1);
        gbc.writeMem(0x880b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x1bd);
        EXPECT(gbc.pc(), 0x880c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x880b), 0x48);
        // 48 0229
        gbc.setState(0x51c8, 0x323a, 0xb130, 0xc72d, 0x8985, 0x556a, 0x0, 0x0);
        gbc.writeMem(0x51c8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x323a);
        EXPECT(gbc.pc(), 0x51c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 022A
        gbc.setState(0x4133, 0x8ac5, 0xc7d0, 0xc795, 0x8a68, 0xbf81, 0x1, 0x1);
        gbc.writeMem(0x4133, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x8ac5);
        EXPECT(gbc.pc(), 0x4134);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 022B
        gbc.setState(0x9910, 0x2828, 0x88b0, 0xe649, 0x564c, 0x365, 0x0, 0x1);
        gbc.writeMem(0x9910, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x2828);
        EXPECT(gbc.pc(), 0x9911);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9910), 0x48);
        // 48 022C
        gbc.setState(0xef0f, 0xe5f0, 0xeac0, 0x705a, 0xfd9a, 0x8c3d, 0x1, 0x0);
        gbc.writeMem(0xef0f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xe5f0);
        EXPECT(gbc.pc(), 0xef10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef0f), 0x48);
        // 48 022D
        gbc.setState(0x5dc2, 0x48f, 0x49d0, 0xab74, 0x5493, 0xe7c0, 0x0, 0x1);
        gbc.writeMem(0x5dc2, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x48f);
        EXPECT(gbc.pc(), 0x5dc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 022E
        gbc.setState(0x8ca5, 0x9e7, 0x8ac0, 0x6a3f, 0xdeed, 0x3850, 0x0, 0x1);
        gbc.writeMem(0x8ca5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x9e7);
        EXPECT(gbc.pc(), 0x8ca6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ca5), 0x48);
        // 48 022F
        gbc.setState(0xa7d8, 0xb035, 0x42f0, 0x47c5, 0xf1e7, 0xcbdb, 0x0, 0x1);
        gbc.writeMem(0xa7d8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xb035);
        EXPECT(gbc.pc(), 0xa7d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7d8), 0x48);
        // 48 0230
        gbc.setState(0x9a09, 0x95c8, 0x1ef0, 0x4bbe, 0xfb79, 0x7717, 0x1, 0x1);
        gbc.writeMem(0x9a09, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x95c8);
        EXPECT(gbc.pc(), 0x9a0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a09), 0x48);
        // 48 0231
        gbc.setState(0xc296, 0xddc2, 0xeae0, 0x5f87, 0x50f3, 0xa352, 0x0, 0x0);
        gbc.writeMem(0xc296, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xddc2);
        EXPECT(gbc.pc(), 0xc297);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc296), 0x48);
        // 48 0232
        gbc.setState(0x58d8, 0xb0c3, 0xf6c0, 0x7588, 0x5b91, 0xacc4, 0x1, 0x0);
        gbc.writeMem(0x58d8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xb0c3);
        EXPECT(gbc.pc(), 0x58d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0234
        gbc.setState(0xa46b, 0x50e6, 0x87c0, 0x6af2, 0xc420, 0x46a0, 0x0, 0x1);
        gbc.writeMem(0xa46b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x50e6);
        EXPECT(gbc.pc(), 0xa46c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa46b), 0x48);
        // 48 0235
        gbc.setState(0xce18, 0x5e32, 0xfc50, 0xac62, 0xc8df, 0x5bda, 0x1, 0x0);
        gbc.writeMem(0xce18, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x5e32);
        EXPECT(gbc.pc(), 0xce19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce18), 0x48);
        // 48 0236
        gbc.setState(0xe0d, 0xa39f, 0xd5d0, 0x419b, 0x5543, 0x5a21, 0x1, 0x0);
        gbc.writeMem(0xe0d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xa39f);
        EXPECT(gbc.pc(), 0xe0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0237
        gbc.setState(0x57d4, 0x10ee, 0xc350, 0x9ea6, 0x7314, 0x2584, 0x1, 0x0);
        gbc.writeMem(0x57d4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x10ee);
        EXPECT(gbc.pc(), 0x57d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0238
        gbc.setState(0x7c5, 0xbcb3, 0xad80, 0xf8f7, 0x8538, 0xf744, 0x1, 0x1);
        gbc.writeMem(0x7c5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xbcb3);
        EXPECT(gbc.pc(), 0x7c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0239
        gbc.setState(0x274b, 0xf86f, 0x2b90, 0x74c0, 0x6d8a, 0x3fa, 0x0, 0x0);
        gbc.writeMem(0x274b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xf86f);
        EXPECT(gbc.pc(), 0x274c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 023A
        gbc.setState(0x39e, 0xe146, 0x2580, 0x856a, 0x96aa, 0x58fc, 0x1, 0x1);
        gbc.writeMem(0x39e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xe146);
        EXPECT(gbc.pc(), 0x39f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 023B
        gbc.setState(0x24f8, 0xc6c4, 0x52e0, 0x3a3d, 0xe359, 0x3dfc, 0x1, 0x0);
        gbc.writeMem(0x24f8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xc6c4);
        EXPECT(gbc.pc(), 0x24f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 023C
        gbc.setState(0x5bc3, 0x941, 0xdc00, 0x999e, 0xf2b9, 0x4a4c, 0x1, 0x0);
        gbc.writeMem(0x5bc3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x941);
        EXPECT(gbc.pc(), 0x5bc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 023D
        gbc.setState(0xb03e, 0x20f7, 0x4300, 0xb081, 0x176c, 0xfd6e, 0x0, 0x1);
        gbc.writeMem(0xb03e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x20f7);
        EXPECT(gbc.pc(), 0xb03f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb03e), 0x48);
        // 48 023E
        gbc.setState(0x44e8, 0xb5bc, 0x3840, 0xb3b7, 0x89b0, 0xae9b, 0x0, 0x1);
        gbc.writeMem(0x44e8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xb5bc);
        EXPECT(gbc.pc(), 0x44e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 023F
        gbc.setState(0x1f48, 0x7845, 0x9f40, 0x3124, 0xdb7c, 0x9a57, 0x0, 0x1);
        gbc.writeMem(0x1f48, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x7845);
        EXPECT(gbc.pc(), 0x1f49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0240
        gbc.setState(0xce96, 0x754d, 0x4120, 0xa3ec, 0xd2f2, 0xdd8f, 0x0, 0x0);
        gbc.writeMem(0xce96, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x754d);
        EXPECT(gbc.pc(), 0xce97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce96), 0x48);
        // 48 0241
        gbc.setState(0xe7f9, 0xda38, 0x78f0, 0x11f4, 0xa40d, 0x7a38, 0x1, 0x1);
        gbc.writeMem(0xe7f9, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xda38);
        EXPECT(gbc.pc(), 0xe7fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7f9), 0x48);
        // 48 0242
        gbc.setState(0x2186, 0xd5bf, 0x9b00, 0x2aaa, 0x5696, 0x707d, 0x1, 0x0);
        gbc.writeMem(0x2186, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xd5bf);
        EXPECT(gbc.pc(), 0x2187);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0243
        gbc.setState(0x1843, 0xc2d3, 0x2040, 0x6e2f, 0x2449, 0x6600, 0x0, 0x1);
        gbc.writeMem(0x1843, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xc2d3);
        EXPECT(gbc.pc(), 0x1844);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0244
        gbc.setState(0xa941, 0x849a, 0x7120, 0xb7df, 0x2252, 0xcf55, 0x1, 0x1);
        gbc.writeMem(0xa941, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x849a);
        EXPECT(gbc.pc(), 0xa942);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa941), 0x48);
        // 48 0245
        gbc.setState(0x63ef, 0xb23c, 0x53f0, 0x1cf5, 0x5f11, 0x7ed4, 0x1, 0x1);
        gbc.writeMem(0x63ef, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xb23c);
        EXPECT(gbc.pc(), 0x63f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0246
        gbc.setState(0xb235, 0xb582, 0x6d40, 0x21a3, 0xf28f, 0x4b76, 0x1, 0x0);
        gbc.writeMem(0xb235, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xb582);
        EXPECT(gbc.pc(), 0xb236);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb235), 0x48);
        // 48 0247
        gbc.setState(0x7379, 0x1ea4, 0x9290, 0x312b, 0x2156, 0xc564, 0x1, 0x1);
        gbc.writeMem(0x7379, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x1ea4);
        EXPECT(gbc.pc(), 0x737a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0249
        gbc.setState(0x68dd, 0xa8d6, 0x8690, 0x9014, 0x25cd, 0xfe67, 0x0, 0x1);
        gbc.writeMem(0x68dd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xa8d6);
        EXPECT(gbc.pc(), 0x68de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 024A
        gbc.setState(0x4c61, 0xd8c1, 0x7880, 0xb905, 0x7a4, 0xdf47, 0x1, 0x0);
        gbc.writeMem(0x4c61, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xd8c1);
        EXPECT(gbc.pc(), 0x4c62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 024B
        gbc.setState(0x9beb, 0x47f4, 0x7a10, 0x76a3, 0x9520, 0x2d40, 0x0, 0x1);
        gbc.writeMem(0x9beb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x47f4);
        EXPECT(gbc.pc(), 0x9bec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9beb), 0x48);
        // 48 024C
        gbc.setState(0x9946, 0xcf7e, 0x1de0, 0xd155, 0x62eb, 0xfd10, 0x1, 0x1);
        gbc.writeMem(0x9946, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xcf7e);
        EXPECT(gbc.pc(), 0x9947);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9946), 0x48);
        // 48 024D
        gbc.setState(0x39f0, 0x323, 0xa90, 0xb4a3, 0x29a8, 0x78cb, 0x0, 0x1);
        gbc.writeMem(0x39f0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x323);
        EXPECT(gbc.pc(), 0x39f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 024E
        gbc.setState(0xd7cc, 0x1550, 0x52c0, 0xcd08, 0xebc8, 0x259e, 0x1, 0x0);
        gbc.writeMem(0xd7cc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x1550);
        EXPECT(gbc.pc(), 0xd7cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7cc), 0x48);
        // 48 024F
        gbc.setState(0x1a62, 0xdc4, 0x4910, 0x3b37, 0xcf5, 0x9801, 0x0, 0x1);
        gbc.writeMem(0x1a62, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xdc4);
        EXPECT(gbc.pc(), 0x1a63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0250
        gbc.setState(0xc87c, 0x8746, 0xe3d0, 0x811b, 0x673d, 0x6848, 0x0, 0x1);
        gbc.writeMem(0xc87c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x8746);
        EXPECT(gbc.pc(), 0xc87d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc87c), 0x48);
        // 48 0251
        gbc.setState(0x2915, 0xdc06, 0xbdd0, 0x75c3, 0xe404, 0x701c, 0x1, 0x0);
        gbc.writeMem(0x2915, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xdc06);
        EXPECT(gbc.pc(), 0x2916);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0252
        gbc.setState(0x6709, 0x1753, 0x2be0, 0x6d8e, 0xab26, 0xc799, 0x1, 0x1);
        gbc.writeMem(0x6709, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x1753);
        EXPECT(gbc.pc(), 0x670a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0253
        gbc.setState(0x21c4, 0xbdc7, 0xaa40, 0xe255, 0xd261, 0x2795, 0x0, 0x1);
        gbc.writeMem(0x21c4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xbdc7);
        EXPECT(gbc.pc(), 0x21c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0254
        gbc.setState(0xce62, 0x3d9d, 0x5090, 0x711b, 0xd9bc, 0xe746, 0x1, 0x1);
        gbc.writeMem(0xce62, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x3d9d);
        EXPECT(gbc.pc(), 0xce63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce62), 0x48);
        // 48 0255
        gbc.setState(0x4c62, 0xe1c9, 0x5650, 0x155a, 0xe375, 0xa51f, 0x1, 0x1);
        gbc.writeMem(0x4c62, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xe1c9);
        EXPECT(gbc.pc(), 0x4c63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0256
        gbc.setState(0x68dd, 0xdc6d, 0x8690, 0x9472, 0x47e7, 0x9ddd, 0x1, 0x0);
        gbc.writeMem(0x68dd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xdc6d);
        EXPECT(gbc.pc(), 0x68de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0257
        gbc.setState(0x53b2, 0xcb96, 0xb310, 0x2163, 0xdb79, 0x3ed, 0x1, 0x0);
        gbc.writeMem(0x53b2, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xcb96);
        EXPECT(gbc.pc(), 0x53b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0258
        gbc.setState(0xa5e2, 0x4c8f, 0xa6f0, 0x41c6, 0x7e1d, 0xe2da, 0x0, 0x0);
        gbc.writeMem(0xa5e2, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x4c8f);
        EXPECT(gbc.pc(), 0xa5e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5e2), 0x48);
        // 48 0259
        gbc.setState(0x2ae0, 0x7f52, 0x4760, 0xa3a2, 0x9788, 0x8c81, 0x0, 0x1);
        gbc.writeMem(0x2ae0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x7f52);
        EXPECT(gbc.pc(), 0x2ae1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 025A
        gbc.setState(0xad34, 0xe4d, 0xbe90, 0x2561, 0xffb, 0xfbc3, 0x1, 0x0);
        gbc.writeMem(0xad34, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xe4d);
        EXPECT(gbc.pc(), 0xad35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad34), 0x48);
        // 48 025B
        gbc.setState(0x66a0, 0x4934, 0xa8a0, 0x34ba, 0x9646, 0xb9d4, 0x1, 0x0);
        gbc.writeMem(0x66a0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x4934);
        EXPECT(gbc.pc(), 0x66a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 025C
        gbc.setState(0xfed, 0x825d, 0xc660, 0xd65c, 0x7d80, 0x6c9c, 0x0, 0x0);
        gbc.writeMem(0xfed, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x825d);
        EXPECT(gbc.pc(), 0xfee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 025D
        gbc.setState(0xcd3, 0xcb38, 0x9e40, 0x551d, 0xf739, 0x9b31, 0x1, 0x0);
        gbc.writeMem(0xcd3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xcb38);
        EXPECT(gbc.pc(), 0xcd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 025E
        gbc.setState(0x14b7, 0x32c1, 0x3870, 0xb89a, 0x2f5b, 0xfdb7, 0x0, 0x0);
        gbc.writeMem(0x14b7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x32c1);
        EXPECT(gbc.pc(), 0x14b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 025F
        gbc.setState(0xecdb, 0x8f19, 0x2160, 0x72bf, 0x3b89, 0x3679, 0x1, 0x1);
        gbc.writeMem(0xecdb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x8f19);
        EXPECT(gbc.pc(), 0xecdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecdb), 0x48);
        // 48 0260
        gbc.setState(0x8825, 0xd2bc, 0x3ca0, 0x6f04, 0xbdb7, 0x28f, 0x1, 0x1);
        gbc.writeMem(0x8825, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xd2bc);
        EXPECT(gbc.pc(), 0x8826);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8825), 0x48);
        // 48 0261
        gbc.setState(0x7232, 0xc010, 0x5d80, 0xcb16, 0x83d3, 0xd0a5, 0x0, 0x1);
        gbc.writeMem(0x7232, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xc010);
        EXPECT(gbc.pc(), 0x7233);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0262
        gbc.setState(0xcfce, 0x4a7f, 0xf0b0, 0x4384, 0xdb58, 0x1fb9, 0x1, 0x0);
        gbc.writeMem(0xcfce, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x4a7f);
        EXPECT(gbc.pc(), 0xcfcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfce), 0x48);
        // 48 0263
        gbc.setState(0xad20, 0x8f60, 0x8ce0, 0x43e6, 0x1686, 0x7ade, 0x1, 0x0);
        gbc.writeMem(0xad20, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x8f60);
        EXPECT(gbc.pc(), 0xad21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad20), 0x48);
        // 48 0264
        gbc.setState(0x36a, 0x45ff, 0x2a90, 0x3716, 0x992e, 0x72de, 0x0, 0x0);
        gbc.writeMem(0x36a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x45ff);
        EXPECT(gbc.pc(), 0x36b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0265
        gbc.setState(0x8c05, 0x9515, 0xa460, 0x5c62, 0x4df8, 0xd324, 0x0, 0x1);
        gbc.writeMem(0x8c05, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x9515);
        EXPECT(gbc.pc(), 0x8c06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c05), 0x48);
        // 48 0266
        gbc.setState(0x56f6, 0xa22d, 0x5920, 0x6b57, 0x7738, 0x621c, 0x0, 0x0);
        gbc.writeMem(0x56f6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xa22d);
        EXPECT(gbc.pc(), 0x56f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0267
        gbc.setState(0xa233, 0x785f, 0x5b20, 0xdbd, 0x29f0, 0x89f8, 0x0, 0x0);
        gbc.writeMem(0xa233, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x785f);
        EXPECT(gbc.pc(), 0xa234);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa233), 0x48);
        // 48 0268
        gbc.setState(0x6aa7, 0x2a21, 0x2490, 0x7a8f, 0x6a77, 0xe25f, 0x0, 0x0);
        gbc.writeMem(0x6aa7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x2a21);
        EXPECT(gbc.pc(), 0x6aa8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0269
        gbc.setState(0x303e, 0xd35a, 0x4690, 0x493b, 0x3f1f, 0x4b5a, 0x0, 0x0);
        gbc.writeMem(0x303e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xd35a);
        EXPECT(gbc.pc(), 0x303f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 026A
        gbc.setState(0xc199, 0x2181, 0xd3e0, 0xc63c, 0x9145, 0x5390, 0x0, 0x0);
        gbc.writeMem(0xc199, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x2181);
        EXPECT(gbc.pc(), 0xc19a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc199), 0x48);
        // 48 026B
        gbc.setState(0x149d, 0xa9ba, 0x6ca0, 0xdc8f, 0xdf66, 0xdb97, 0x1, 0x1);
        gbc.writeMem(0x149d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa9ba);
        EXPECT(gbc.pc(), 0x149e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 026C
        gbc.setState(0x18fd, 0x5573, 0xa0f0, 0x9c53, 0xf607, 0x3e24, 0x1, 0x1);
        gbc.writeMem(0x18fd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x5573);
        EXPECT(gbc.pc(), 0x18fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 026D
        gbc.setState(0xe8cd, 0x8089, 0x75c0, 0x1319, 0xadfe, 0x3d3d, 0x1, 0x0);
        gbc.writeMem(0xe8cd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x8089);
        EXPECT(gbc.pc(), 0xe8ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8cd), 0x48);
        // 48 026E
        gbc.setState(0x7df3, 0x726b, 0x6f10, 0xf46c, 0x6598, 0x4ec6, 0x0, 0x0);
        gbc.writeMem(0x7df3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x726b);
        EXPECT(gbc.pc(), 0x7df4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 026F
        gbc.setState(0xe750, 0x52e6, 0x77f0, 0x16f6, 0x7085, 0x418a, 0x0, 0x1);
        gbc.writeMem(0xe750, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x52e6);
        EXPECT(gbc.pc(), 0xe751);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe750), 0x48);
        // 48 0270
        gbc.setState(0xe114, 0xeea, 0xec40, 0x4c4, 0xa996, 0xd74e, 0x0, 0x1);
        gbc.writeMem(0xe114, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xeea);
        EXPECT(gbc.pc(), 0xe115);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe114), 0x48);
        // 48 0271
        gbc.setState(0x19b7, 0x2a7a, 0x7f40, 0x719, 0xb92b, 0xcfe7, 0x0, 0x1);
        gbc.writeMem(0x19b7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x2a7a);
        EXPECT(gbc.pc(), 0x19b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0272
        gbc.setState(0x27c5, 0xd243, 0xdd10, 0x3309, 0xb86b, 0x5354, 0x0, 0x0);
        gbc.writeMem(0x27c5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xd243);
        EXPECT(gbc.pc(), 0x27c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0273
        gbc.setState(0x8bc, 0xaf6f, 0xd4b0, 0x23e, 0xcb30, 0x883d, 0x1, 0x1);
        gbc.writeMem(0x8bc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xaf6f);
        EXPECT(gbc.pc(), 0x8bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0274
        gbc.setState(0x4e01, 0x1b50, 0x860, 0xc604, 0xb78c, 0x26c4, 0x0, 0x0);
        gbc.writeMem(0x4e01, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x1b50);
        EXPECT(gbc.pc(), 0x4e02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0275
        gbc.setState(0x4bdc, 0x825b, 0xe7a0, 0xc765, 0xb672, 0x90e2, 0x0, 0x0);
        gbc.writeMem(0x4bdc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x825b);
        EXPECT(gbc.pc(), 0x4bdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0277
        gbc.setState(0x63ec, 0xec6d, 0x7060, 0x59d4, 0x7362, 0xd8ee, 0x1, 0x1);
        gbc.writeMem(0x63ec, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xec6d);
        EXPECT(gbc.pc(), 0x63ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0278
        gbc.setState(0xc255, 0x3536, 0xae40, 0xcafe, 0xa34c, 0xe9b1, 0x1, 0x1);
        gbc.writeMem(0xc255, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x3536);
        EXPECT(gbc.pc(), 0xc256);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc255), 0x48);
        // 48 0279
        gbc.setState(0x7c45, 0x862, 0x6c20, 0xfc47, 0xab58, 0x8242, 0x1, 0x1);
        gbc.writeMem(0x7c45, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x862);
        EXPECT(gbc.pc(), 0x7c46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 027A
        gbc.setState(0x3239, 0x6b43, 0x26e0, 0x3154, 0x9174, 0xe63a, 0x0, 0x0);
        gbc.writeMem(0x3239, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x6b43);
        EXPECT(gbc.pc(), 0x323a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 027B
        gbc.setState(0xa6c7, 0x63d, 0x89c0, 0x3a9b, 0xbb85, 0xd6d7, 0x1, 0x1);
        gbc.writeMem(0xa6c7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x63d);
        EXPECT(gbc.pc(), 0xa6c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6c7), 0x48);
        // 48 027C
        gbc.setState(0x27f7, 0xd7f, 0x7970, 0x2cf9, 0x4398, 0xc07d, 0x0, 0x0);
        gbc.writeMem(0x27f7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xd7f);
        EXPECT(gbc.pc(), 0x27f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 027D
        gbc.setState(0x9808, 0xa8c8, 0x36a0, 0xfbd7, 0x1d5, 0xcee8, 0x1, 0x0);
        gbc.writeMem(0x9808, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xa8c8);
        EXPECT(gbc.pc(), 0x9809);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9808), 0x48);
        // 48 027E
        gbc.setState(0x9adf, 0x5cf1, 0x920, 0x27f2, 0xdacd, 0x4aea, 0x1, 0x0);
        gbc.writeMem(0x9adf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x5cf1);
        EXPECT(gbc.pc(), 0x9ae0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9adf), 0x48);
        // 48 027F
        gbc.setState(0x6efe, 0x80db, 0xb730, 0xf9d6, 0x91cd, 0xd34d, 0x1, 0x1);
        gbc.writeMem(0x6efe, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x80db);
        EXPECT(gbc.pc(), 0x6eff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0281
        gbc.setState(0x16ed, 0x92b4, 0xa350, 0x4169, 0xe284, 0x1f13, 0x0, 0x0);
        gbc.writeMem(0x16ed, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x92b4);
        EXPECT(gbc.pc(), 0x16ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0282
        gbc.setState(0x8705, 0xe52b, 0xb00, 0x7f85, 0xb39e, 0xb7cc, 0x1, 0x0);
        gbc.writeMem(0x8705, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xe52b);
        EXPECT(gbc.pc(), 0x8706);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8705), 0x48);
        // 48 0283
        gbc.setState(0xb2af, 0xf982, 0xaf10, 0xf9a0, 0xcc01, 0xb435, 0x1, 0x0);
        gbc.writeMem(0xb2af, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xf982);
        EXPECT(gbc.pc(), 0xb2b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2af), 0x48);
        // 48 0284
        gbc.setState(0xbb77, 0x6eb8, 0x4750, 0x8ba5, 0x7f98, 0x7cf2, 0x1, 0x0);
        gbc.writeMem(0xbb77, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6eb8);
        EXPECT(gbc.pc(), 0xbb78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb77), 0x48);
        // 48 0285
        gbc.setState(0x2ca, 0xe6ce, 0x28e0, 0x92c7, 0xf61f, 0x41f8, 0x1, 0x1);
        gbc.writeMem(0x2ca, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xe6ce);
        EXPECT(gbc.pc(), 0x2cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0286
        gbc.setState(0xdae8, 0x6bb0, 0x2e40, 0xea6e, 0xdcf, 0x7f9b, 0x1, 0x1);
        gbc.writeMem(0xdae8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6bb0);
        EXPECT(gbc.pc(), 0xdae9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdae8), 0x48);
        // 48 0287
        gbc.setState(0x2e7f, 0x5925, 0x1ba0, 0x76fe, 0x8de6, 0x2e25, 0x1, 0x0);
        gbc.writeMem(0x2e7f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x5925);
        EXPECT(gbc.pc(), 0x2e80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0288
        gbc.setState(0x36e6, 0xb0fb, 0x5d70, 0xad36, 0x882d, 0x170b, 0x1, 0x1);
        gbc.writeMem(0x36e6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xb0fb);
        EXPECT(gbc.pc(), 0x36e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0289
        gbc.setState(0x20ed, 0xcaea, 0x9c20, 0x70b5, 0x8dcb, 0xf4ab, 0x0, 0x1);
        gbc.writeMem(0x20ed, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xcaea);
        EXPECT(gbc.pc(), 0x20ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 028A
        gbc.setState(0xda22, 0x96e2, 0x9870, 0x4417, 0xfe5, 0x20d, 0x1, 0x1);
        gbc.writeMem(0xda22, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x96e2);
        EXPECT(gbc.pc(), 0xda23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda22), 0x48);
        // 48 028B
        gbc.setState(0x1d2c, 0x6bb8, 0x6bb0, 0x3ce9, 0x3bbe, 0xdd7b, 0x1, 0x0);
        gbc.writeMem(0x1d2c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x6bb8);
        EXPECT(gbc.pc(), 0x1d2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 028C
        gbc.setState(0xd96, 0x3354, 0x2460, 0x6c93, 0xacd4, 0x7a87, 0x1, 0x0);
        gbc.writeMem(0xd96, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x3354);
        EXPECT(gbc.pc(), 0xd97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 028D
        gbc.setState(0xa3ac, 0x9a8, 0xb610, 0xbcda, 0x5ffa, 0xd390, 0x0, 0x1);
        gbc.writeMem(0xa3ac, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x9a8);
        EXPECT(gbc.pc(), 0xa3ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3ac), 0x48);
        // 48 028E
        gbc.setState(0x47c0, 0x757d, 0x9660, 0xfaf0, 0x123c, 0x3420, 0x1, 0x1);
        gbc.writeMem(0x47c0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x757d);
        EXPECT(gbc.pc(), 0x47c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 028F
        gbc.setState(0x9697, 0xa957, 0xb8f0, 0x38e7, 0x8b40, 0x566, 0x0, 0x1);
        gbc.writeMem(0x9697, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xa957);
        EXPECT(gbc.pc(), 0x9698);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9697), 0x48);
        // 48 0290
        gbc.setState(0x96a6, 0xff94, 0xaac0, 0x4e80, 0xb8e1, 0xe6ad, 0x0, 0x0);
        gbc.writeMem(0x96a6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xff94);
        EXPECT(gbc.pc(), 0x96a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96a6), 0x48);
        // 48 0291
        gbc.setState(0x9cd6, 0x5828, 0x1dd0, 0x7d0b, 0x3575, 0xf349, 0x0, 0x0);
        gbc.writeMem(0x9cd6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x5828);
        EXPECT(gbc.pc(), 0x9cd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cd6), 0x48);
        // 48 0292
        gbc.setState(0x54e5, 0xd524, 0x4b90, 0xdfa5, 0x36b5, 0x60ba, 0x0, 0x1);
        gbc.writeMem(0x54e5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xd524);
        EXPECT(gbc.pc(), 0x54e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0293
        gbc.setState(0x8549, 0xf731, 0x6c0, 0xe1a9, 0x490c, 0x9c57, 0x0, 0x0);
        gbc.writeMem(0x8549, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xf731);
        EXPECT(gbc.pc(), 0x854a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8549), 0x48);
        // 48 0294
        gbc.setState(0x78b7, 0x7b8b, 0x720, 0xb1a5, 0xe0b6, 0x8cfe, 0x1, 0x0);
        gbc.writeMem(0x78b7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x7b8b);
        EXPECT(gbc.pc(), 0x78b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0295
        gbc.setState(0x973d, 0x3639, 0x5a10, 0xe946, 0x9bdc, 0xac99, 0x1, 0x0);
        gbc.writeMem(0x973d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x3639);
        EXPECT(gbc.pc(), 0x973e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x973d), 0x48);
        // 48 0296
        gbc.setState(0xed38, 0x24, 0x56e0, 0x5c35, 0x4b78, 0xf312, 0x0, 0x1);
        gbc.writeMem(0xed38, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x24);
        EXPECT(gbc.pc(), 0xed39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed38), 0x48);
        // 48 0297
        gbc.setState(0x878b, 0xe557, 0x4190, 0xbea8, 0xdfbb, 0xe734, 0x0, 0x1);
        gbc.writeMem(0x878b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xe557);
        EXPECT(gbc.pc(), 0x878c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x878b), 0x48);
        // 48 0298
        gbc.setState(0xea29, 0x31f7, 0x8490, 0xb391, 0xcf41, 0x2bdf, 0x0, 0x1);
        gbc.writeMem(0xea29, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x31f7);
        EXPECT(gbc.pc(), 0xea2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea29), 0x48);
        // 48 0299
        gbc.setState(0x8122, 0x334d, 0xba50, 0x693f, 0x99c6, 0xb84d, 0x1, 0x0);
        gbc.writeMem(0x8122, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x334d);
        EXPECT(gbc.pc(), 0x8123);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8122), 0x48);
        // 48 029A
        gbc.setState(0xcad9, 0x44a2, 0x4a50, 0xa231, 0x5f09, 0x6d41, 0x1, 0x0);
        gbc.writeMem(0xcad9, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x44a2);
        EXPECT(gbc.pc(), 0xcada);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcad9), 0x48);
        // 48 029B
        gbc.setState(0xcec3, 0xfa3d, 0x8620, 0x35be, 0xb014, 0xae8a, 0x1, 0x0);
        gbc.writeMem(0xcec3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xfa3d);
        EXPECT(gbc.pc(), 0xcec4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcec3), 0x48);
        // 48 029C
        gbc.setState(0x2cc5, 0x6975, 0x7020, 0x15ce, 0xf1ed, 0x86e0, 0x0, 0x0);
        gbc.writeMem(0x2cc5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x6975);
        EXPECT(gbc.pc(), 0x2cc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 029D
        gbc.setState(0x451e, 0x511, 0x48c0, 0xd316, 0x40c5, 0x34d9, 0x0, 0x0);
        gbc.writeMem(0x451e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x511);
        EXPECT(gbc.pc(), 0x451f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 029E
        gbc.setState(0x7b74, 0x9071, 0x44c0, 0x1908, 0xca67, 0xfdb5, 0x1, 0x1);
        gbc.writeMem(0x7b74, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x9071);
        EXPECT(gbc.pc(), 0x7b75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 029F
        gbc.setState(0x26cc, 0x81b6, 0x8490, 0xba2f, 0x37a8, 0x2f38, 0x0, 0x0);
        gbc.writeMem(0x26cc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x81b6);
        EXPECT(gbc.pc(), 0x26cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02A1
        gbc.setState(0xca00, 0x997e, 0x4fb0, 0xb117, 0x8c9f, 0x16d2, 0x0, 0x1);
        gbc.writeMem(0xca00, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x997e);
        EXPECT(gbc.pc(), 0xca01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca00), 0x48);
        // 48 02A2
        gbc.setState(0x1d19, 0xf2d3, 0x6fc0, 0xa612, 0xa859, 0x7967, 0x0, 0x1);
        gbc.writeMem(0x1d19, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xf2d3);
        EXPECT(gbc.pc(), 0x1d1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 02A3
        gbc.setState(0xbef8, 0xf50e, 0x8fc0, 0x487e, 0x19ee, 0xafa8, 0x0, 0x0);
        gbc.writeMem(0xbef8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xf50e);
        EXPECT(gbc.pc(), 0xbef9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbef8), 0x48);
        // 48 02A4
        gbc.setState(0x4eed, 0x5f6d, 0x90a0, 0x1b83, 0xfb0a, 0xe96c, 0x1, 0x1);
        gbc.writeMem(0x4eed, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x5f6d);
        EXPECT(gbc.pc(), 0x4eee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 02A5
        gbc.setState(0xa2c7, 0x4360, 0x2230, 0xedb5, 0xeeaa, 0xcf54, 0x1, 0x1);
        gbc.writeMem(0xa2c7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x4360);
        EXPECT(gbc.pc(), 0xa2c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2c7), 0x48);
        // 48 02A6
        gbc.setState(0x14ee, 0x19c1, 0xaad0, 0x5ce7, 0x7747, 0x5203, 0x1, 0x1);
        gbc.writeMem(0x14ee, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x19c1);
        EXPECT(gbc.pc(), 0x14ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02A8
        gbc.setState(0x59fd, 0xd6c, 0x7050, 0x3d82, 0x14b1, 0x940f, 0x0, 0x1);
        gbc.writeMem(0x59fd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xd6c);
        EXPECT(gbc.pc(), 0x59fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02A9
        gbc.setState(0x69b4, 0x6536, 0x6430, 0xa515, 0x87ae, 0x414e, 0x1, 0x1);
        gbc.writeMem(0x69b4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x6536);
        EXPECT(gbc.pc(), 0x69b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 02AA
        gbc.setState(0xe0e3, 0xcd38, 0xe540, 0x2e3b, 0xe8c4, 0xad1c, 0x0, 0x1);
        gbc.writeMem(0xe0e3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xcd38);
        EXPECT(gbc.pc(), 0xe0e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0e3), 0x48);
        // 48 02AB
        gbc.setState(0x6307, 0xf48f, 0x5b30, 0x5416, 0x38f1, 0x772d, 0x0, 0x0);
        gbc.writeMem(0x6307, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xf48f);
        EXPECT(gbc.pc(), 0x6308);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 02AC
        gbc.setState(0xc054, 0x9a, 0x3310, 0x71f, 0x3f11, 0x7fb6, 0x1, 0x0);
        gbc.writeMem(0xc054, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x9a);
        EXPECT(gbc.pc(), 0xc055);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc054), 0x48);
        // 48 02AD
        gbc.setState(0xc4d, 0xab69, 0xb730, 0x749b, 0x2f15, 0x9900, 0x0, 0x0);
        gbc.writeMem(0xc4d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xab69);
        EXPECT(gbc.pc(), 0xc4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 02AE
        gbc.setState(0x617e, 0xef3f, 0xd2a0, 0xc21a, 0xc738, 0x50c7, 0x0, 0x1);
        gbc.writeMem(0x617e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xef3f);
        EXPECT(gbc.pc(), 0x617f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 02AF
        gbc.setState(0x631b, 0xb41d, 0x5d10, 0x3cc0, 0x5436, 0xe543, 0x0, 0x0);
        gbc.writeMem(0x631b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xb41d);
        EXPECT(gbc.pc(), 0x631c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02B0
        gbc.setState(0x1300, 0xaf61, 0x82f0, 0xee79, 0x6e48, 0xf525, 0x0, 0x1);
        gbc.writeMem(0x1300, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xaf61);
        EXPECT(gbc.pc(), 0x1301);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 02B2
        gbc.setState(0x50cd, 0x4b1f, 0x1e50, 0x801f, 0x729a, 0x2e15, 0x1, 0x1);
        gbc.writeMem(0x50cd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x4b1f);
        EXPECT(gbc.pc(), 0x50ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02B3
        gbc.setState(0x8643, 0xa881, 0x1c80, 0xbe04, 0x4e29, 0xa97c, 0x0, 0x1);
        gbc.writeMem(0x8643, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xa881);
        EXPECT(gbc.pc(), 0x8644);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8643), 0x48);
        // 48 02B4
        gbc.setState(0x5820, 0xfb68, 0x1b70, 0xee03, 0x741e, 0xc624, 0x1, 0x0);
        gbc.writeMem(0x5820, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xfb68);
        EXPECT(gbc.pc(), 0x5821);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 02B5
        gbc.setState(0x834f, 0x4203, 0xfcc0, 0x9a2f, 0xc589, 0xa4e9, 0x0, 0x0);
        gbc.writeMem(0x834f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x4203);
        EXPECT(gbc.pc(), 0x8350);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x834f), 0x48);
        // 48 02B6
        gbc.setState(0xe3cc, 0x920, 0xf510, 0x7627, 0x7e4e, 0xf26c, 0x1, 0x0);
        gbc.writeMem(0xe3cc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x920);
        EXPECT(gbc.pc(), 0xe3cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3cc), 0x48);
        // 48 02B9
        gbc.setState(0x134a, 0x2c3f, 0x7b0, 0x6eed, 0x32fd, 0x65a8, 0x0, 0x1);
        gbc.writeMem(0x134a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x2c3f);
        EXPECT(gbc.pc(), 0x134b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 02BA
        gbc.setState(0xc5ab, 0x3cce, 0xa6d0, 0x97e1, 0xefc0, 0x63b9, 0x1, 0x1);
        gbc.writeMem(0xc5ab, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x3cce);
        EXPECT(gbc.pc(), 0xc5ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5ab), 0x48);
        // 48 02BB
        gbc.setState(0x6f99, 0xe210, 0x5690, 0xbb76, 0xe7b9, 0x9e46, 0x1, 0x1);
        gbc.writeMem(0x6f99, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xe210);
        EXPECT(gbc.pc(), 0x6f9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02BC
        gbc.setState(0x839, 0x8541, 0x38a0, 0x28f0, 0xe2d2, 0xc07e, 0x1, 0x0);
        gbc.writeMem(0x839, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x8541);
        EXPECT(gbc.pc(), 0x83a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 02BD
        gbc.setState(0x6ed5, 0xac04, 0x1690, 0xa77c, 0xf1ec, 0x648c, 0x0, 0x1);
        gbc.writeMem(0x6ed5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xac04);
        EXPECT(gbc.pc(), 0x6ed6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02BE
        gbc.setState(0xb720, 0xeb07, 0xbdf0, 0x70a5, 0x1e87, 0x99d7, 0x0, 0x1);
        gbc.writeMem(0xb720, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xeb07);
        EXPECT(gbc.pc(), 0xb721);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb720), 0x48);
        // 48 02BF
        gbc.setState(0x814f, 0xf7e9, 0xad00, 0xf961, 0x763c, 0xc67d, 0x1, 0x1);
        gbc.writeMem(0x814f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xf7e9);
        EXPECT(gbc.pc(), 0x8150);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x814f), 0x48);
        // 48 02C0
        gbc.setState(0x3691, 0x8e59, 0x7d0, 0xdc95, 0xf500, 0xdfa1, 0x1, 0x0);
        gbc.writeMem(0x3691, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x8e59);
        EXPECT(gbc.pc(), 0x3692);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02C1
        gbc.setState(0xd5a9, 0xb3af, 0x58c0, 0x2cac, 0x8183, 0xc548, 0x1, 0x0);
        gbc.writeMem(0xd5a9, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xb3af);
        EXPECT(gbc.pc(), 0xd5aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5a9), 0x48);
        // 48 02C2
        gbc.setState(0xd797, 0xeef4, 0xbbd0, 0xc0d0, 0xf715, 0x7c31, 0x1, 0x1);
        gbc.writeMem(0xd797, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xeef4);
        EXPECT(gbc.pc(), 0xd798);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd797), 0x48);
        // 48 02C3
        gbc.setState(0x99e, 0x28bc, 0x4b00, 0x9365, 0xbb3f, 0x6c6b, 0x0, 0x0);
        gbc.writeMem(0x99e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x28bc);
        EXPECT(gbc.pc(), 0x99f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 02C4
        gbc.setState(0x11ee, 0x615e, 0x49d0, 0x900c, 0xe5c0, 0x6645, 0x0, 0x1);
        gbc.writeMem(0x11ee, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x615e);
        EXPECT(gbc.pc(), 0x11ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02C6
        gbc.setState(0xcce0, 0x8f87, 0x3dd0, 0xc3ce, 0xa869, 0xf070, 0x0, 0x1);
        gbc.writeMem(0xcce0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x8f87);
        EXPECT(gbc.pc(), 0xcce1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcce0), 0x48);
        // 48 02C7
        gbc.setState(0xedd5, 0xdcd6, 0xd50, 0xc0b5, 0xa439, 0x3967, 0x0, 0x1);
        gbc.writeMem(0xedd5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xdcd6);
        EXPECT(gbc.pc(), 0xedd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedd5), 0x48);
        // 48 02C8
        gbc.setState(0x8cb0, 0xd9a3, 0x230, 0x741c, 0x919f, 0x748a, 0x0, 0x0);
        gbc.writeMem(0x8cb0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xd9a3);
        EXPECT(gbc.pc(), 0x8cb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cb0), 0x48);
        // 48 02C9
        gbc.setState(0xc359, 0x51cc, 0xcaa0, 0x6fab, 0xfc5, 0xc9d, 0x0, 0x0);
        gbc.writeMem(0xc359, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x51cc);
        EXPECT(gbc.pc(), 0xc35a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc359), 0x48);
        // 48 02CA
        gbc.setState(0x6115, 0x954d, 0x89b0, 0xd58d, 0x573a, 0xb1ad, 0x0, 0x0);
        gbc.writeMem(0x6115, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x954d);
        EXPECT(gbc.pc(), 0x6116);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 02CB
        gbc.setState(0xbe34, 0xa8c0, 0x6ee0, 0xdeed, 0x1806, 0xab95, 0x0, 0x0);
        gbc.writeMem(0xbe34, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xa8c0);
        EXPECT(gbc.pc(), 0xbe35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe34), 0x48);
        // 48 02CC
        gbc.setState(0x8c7f, 0xc150, 0x74c0, 0x6d7a, 0x90f9, 0xdcd2, 0x1, 0x1);
        gbc.writeMem(0x8c7f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xc150);
        EXPECT(gbc.pc(), 0x8c80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c7f), 0x48);
        // 48 02CD
        gbc.setState(0x2709, 0x7edf, 0xa1a0, 0x3f8e, 0x24a, 0xea58, 0x1, 0x0);
        gbc.writeMem(0x2709, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x7edf);
        EXPECT(gbc.pc(), 0x270a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 02CE
        gbc.setState(0xa9fc, 0x78c, 0xdbc0, 0xad6d, 0x9d65, 0xd598, 0x0, 0x0);
        gbc.writeMem(0xa9fc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x78c);
        EXPECT(gbc.pc(), 0xa9fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9fc), 0x48);
        // 48 02CF
        gbc.setState(0x936f, 0x51fd, 0xdf0, 0xaa46, 0xd76a, 0xc510, 0x0, 0x0);
        gbc.writeMem(0x936f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x51fd);
        EXPECT(gbc.pc(), 0x9370);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x936f), 0x48);
        // 48 02D0
        gbc.setState(0xa1e2, 0xffd0, 0xfa80, 0xff44, 0x63f0, 0x4778, 0x1, 0x0);
        gbc.writeMem(0xa1e2, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xffd0);
        EXPECT(gbc.pc(), 0xa1e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1e2), 0x48);
        // 48 02D1
        gbc.setState(0xa277, 0xb47, 0xb250, 0xae14, 0x6d9c, 0xa444, 0x0, 0x1);
        gbc.writeMem(0xa277, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xb47);
        EXPECT(gbc.pc(), 0xa278);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa277), 0x48);
        // 48 02D2
        gbc.setState(0xd24e, 0x3245, 0xcd0, 0xc99e, 0x3473, 0xa6cf, 0x1, 0x1);
        gbc.writeMem(0xd24e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x3245);
        EXPECT(gbc.pc(), 0xd24f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd24e), 0x48);
        // 48 02D4
        gbc.setState(0x53e8, 0x6e54, 0x74c0, 0x4ca8, 0x4ee9, 0xc46e, 0x0, 0x1);
        gbc.writeMem(0x53e8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x6e54);
        EXPECT(gbc.pc(), 0x53e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 02D5
        gbc.setState(0x647a, 0xc5f6, 0x41c0, 0x9628, 0x3af1, 0xead2, 0x1, 0x0);
        gbc.writeMem(0x647a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xc5f6);
        EXPECT(gbc.pc(), 0x647b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 02D6
        gbc.setState(0x9a83, 0x8484, 0x1c60, 0x5244, 0x7477, 0x4c6c, 0x0, 0x0);
        gbc.writeMem(0x9a83, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x8484);
        EXPECT(gbc.pc(), 0x9a84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a83), 0x48);
        // 48 02D9
        gbc.setState(0x1922, 0xce7b, 0x8800, 0xc743, 0xfc24, 0x145f, 0x1, 0x1);
        gbc.writeMem(0x1922, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xce7b);
        EXPECT(gbc.pc(), 0x1923);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 02DA
        gbc.setState(0xe074, 0xcde1, 0xc560, 0x454b, 0xda72, 0x1ec7, 0x1, 0x0);
        gbc.writeMem(0xe074, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xcde1);
        EXPECT(gbc.pc(), 0xe075);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe074), 0x48);
        // 48 02DB
        gbc.setState(0x65e6, 0xcc93, 0xdf60, 0xda20, 0xd7ce, 0xe5a0, 0x1, 0x1);
        gbc.writeMem(0x65e6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xcc93);
        EXPECT(gbc.pc(), 0x65e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 02DC
        gbc.setState(0x7c71, 0x452a, 0x8af0, 0x7176, 0xe9e, 0xc83c, 0x0, 0x1);
        gbc.writeMem(0x7c71, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x452a);
        EXPECT(gbc.pc(), 0x7c72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 02DD
        gbc.setState(0xa157, 0xf166, 0xef60, 0xaada, 0x11b6, 0x20bd, 0x0, 0x1);
        gbc.writeMem(0xa157, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xf166);
        EXPECT(gbc.pc(), 0xa158);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa157), 0x48);
        // 48 02DE
        gbc.setState(0x48f5, 0x7729, 0x7f70, 0xe81b, 0x7cd6, 0x62ae, 0x0, 0x0);
        gbc.writeMem(0x48f5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x7729);
        EXPECT(gbc.pc(), 0x48f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 02DF
        gbc.setState(0x3b4b, 0x7884, 0x70d0, 0x69da, 0x9713, 0xf64c, 0x0, 0x1);
        gbc.writeMem(0x3b4b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x7884);
        EXPECT(gbc.pc(), 0x3b4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02E0
        gbc.setState(0x204e, 0xa6e0, 0x3110, 0x487, 0x6bd3, 0xc17e, 0x0, 0x1);
        gbc.writeMem(0x204e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xa6e0);
        EXPECT(gbc.pc(), 0x204f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02E1
        gbc.setState(0xd80a, 0x8739, 0x4220, 0x9ee9, 0x6c06, 0x1340, 0x1, 0x0);
        gbc.writeMem(0xd80a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x8739);
        EXPECT(gbc.pc(), 0xd80b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd80a), 0x48);
        // 48 02E2
        gbc.setState(0xbd1c, 0x9a87, 0x6220, 0xb32a, 0x813a, 0xf26d, 0x1, 0x1);
        gbc.writeMem(0xbd1c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x9a87);
        EXPECT(gbc.pc(), 0xbd1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd1c), 0x48);
        // 48 02E3
        gbc.setState(0x2320, 0x3544, 0x2660, 0xd470, 0x522b, 0xe3dc, 0x1, 0x1);
        gbc.writeMem(0x2320, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x3544);
        EXPECT(gbc.pc(), 0x2321);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 02E4
        gbc.setState(0x2d33, 0x26b8, 0x9420, 0xb49e, 0x7b96, 0xfc7b, 0x0, 0x1);
        gbc.writeMem(0x2d33, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x26b8);
        EXPECT(gbc.pc(), 0x2d34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 02E5
        gbc.setState(0xa1bc, 0xa8e, 0x7fa0, 0x5d24, 0x2814, 0x9bb3, 0x1, 0x1);
        gbc.writeMem(0xa1bc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xa8e);
        EXPECT(gbc.pc(), 0xa1bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1bc), 0x48);
        // 48 02E6
        gbc.setState(0x1a62, 0x1d15, 0x11e0, 0x3751, 0xd2fa, 0x17ef, 0x1, 0x1);
        gbc.writeMem(0x1a62, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x1d15);
        EXPECT(gbc.pc(), 0x1a63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 02E7
        gbc.setState(0xddd8, 0x63ac, 0x24a0, 0xe574, 0x1e59, 0x4593, 0x1, 0x1);
        gbc.writeMem(0xddd8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x63ac);
        EXPECT(gbc.pc(), 0xddd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddd8), 0x48);
        // 48 02E8
        gbc.setState(0xb1ad, 0xdb77, 0x3bf0, 0x3651, 0x9d55, 0xbd8c, 0x0, 0x1);
        gbc.writeMem(0xb1ad, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xdb77);
        EXPECT(gbc.pc(), 0xb1ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1ad), 0x48);
        // 48 02E9
        gbc.setState(0xd9e5, 0x9650, 0xdc40, 0x8eb4, 0x3af4, 0xaca6, 0x0, 0x1);
        gbc.writeMem(0xd9e5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x9650);
        EXPECT(gbc.pc(), 0xd9e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9e5), 0x48);
        // 48 02EA
        gbc.setState(0x7989, 0x2e18, 0x4570, 0x5df4, 0x9c07, 0xf13c, 0x0, 0x0);
        gbc.writeMem(0x7989, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x2e18);
        EXPECT(gbc.pc(), 0x798a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 02EB
        gbc.setState(0x90f6, 0x17ad, 0x15b0, 0xc16a, 0x5771, 0x9b36, 0x1, 0x0);
        gbc.writeMem(0x90f6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x17ad);
        EXPECT(gbc.pc(), 0x90f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90f6), 0x48);
        // 48 02EC
        gbc.setState(0xe84e, 0x4fc2, 0x6940, 0x27fc, 0x5450, 0xbe47, 0x0, 0x1);
        gbc.writeMem(0xe84e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x4fc2);
        EXPECT(gbc.pc(), 0xe84f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe84e), 0x48);
        // 48 02EE
        gbc.setState(0xd147, 0x995, 0x7c70, 0x7bc7, 0x1e74, 0x37d8, 0x1, 0x1);
        gbc.writeMem(0xd147, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x995);
        EXPECT(gbc.pc(), 0xd148);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd147), 0x48);
        // 48 02EF
        gbc.setState(0xe37e, 0x737b, 0xe410, 0x44c7, 0x3d79, 0x701f, 0x1, 0x1);
        gbc.writeMem(0xe37e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x737b);
        EXPECT(gbc.pc(), 0xe37f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe37e), 0x48);
        // 48 02F0
        gbc.setState(0x91aa, 0xf355, 0xbe70, 0x4ba, 0x548, 0xb6e, 0x1, 0x1);
        gbc.writeMem(0x91aa, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xf355);
        EXPECT(gbc.pc(), 0x91ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91aa), 0x48);
        // 48 02F1
        gbc.setState(0x5fd4, 0x4a7e, 0xd890, 0xbff, 0x4ad5, 0x1f50, 0x0, 0x1);
        gbc.writeMem(0x5fd4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x4a7e);
        EXPECT(gbc.pc(), 0x5fd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02F2
        gbc.setState(0xb4ce, 0x515c, 0xa400, 0xf3d9, 0xd75a, 0x8ff0, 0x1, 0x0);
        gbc.writeMem(0xb4ce, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x515c);
        EXPECT(gbc.pc(), 0xb4cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4ce), 0x48);
        // 48 02F3
        gbc.setState(0x32c5, 0x13ea, 0x22b0, 0xee67, 0x7741, 0xbc66, 0x0, 0x0);
        gbc.writeMem(0x32c5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x13ea);
        EXPECT(gbc.pc(), 0x32c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 02F4
        gbc.setState(0xb138, 0xc536, 0xfaa0, 0xfa58, 0x8d66, 0x87a2, 0x0, 0x0);
        gbc.writeMem(0xb138, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xc536);
        EXPECT(gbc.pc(), 0xb139);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb138), 0x48);
        // 48 02F5
        gbc.setState(0x543d, 0x8fcb, 0x2820, 0x1585, 0x2959, 0x5ea9, 0x1, 0x0);
        gbc.writeMem(0x543d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x8fcb);
        EXPECT(gbc.pc(), 0x543e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 02F6
        gbc.setState(0x41d6, 0xfb61, 0xb90, 0x9ed, 0xe272, 0x52da, 0x1, 0x0);
        gbc.writeMem(0x41d6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xfb61);
        EXPECT(gbc.pc(), 0x41d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02F7
        gbc.setState(0xdd1b, 0xc1ed, 0xd7f0, 0x83fd, 0xc5e1, 0x4330, 0x1, 0x0);
        gbc.writeMem(0xdd1b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xc1ed);
        EXPECT(gbc.pc(), 0xdd1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd1b), 0x48);
        // 48 02F8
        gbc.setState(0x92eb, 0x7224, 0x260, 0x1aaf, 0x4e7d, 0xabce, 0x0, 0x0);
        gbc.writeMem(0x92eb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x7224);
        EXPECT(gbc.pc(), 0x92ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92eb), 0x48);
        // 48 02F9
        gbc.setState(0x2c55, 0x369b, 0xb150, 0xc122, 0xa7d7, 0xb58f, 0x0, 0x1);
        gbc.writeMem(0x2c55, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x369b);
        EXPECT(gbc.pc(), 0x2c56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02FA
        gbc.setState(0x20ba, 0x27fe, 0xc050, 0xec2e, 0xf1b4, 0x584b, 0x0, 0x1);
        gbc.writeMem(0x20ba, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x27fe);
        EXPECT(gbc.pc(), 0x20bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 02FC
        gbc.setState(0xc729, 0x696d, 0x7fb0, 0x7fd3, 0x3e74, 0x5bf7, 0x1, 0x0);
        gbc.writeMem(0xc729, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x696d);
        EXPECT(gbc.pc(), 0xc72a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc729), 0x48);
        // 48 02FD
        gbc.setState(0x9474, 0x9e06, 0x24d0, 0x6264, 0xd151, 0xca5a, 0x1, 0x1);
        gbc.writeMem(0x9474, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x9e06);
        EXPECT(gbc.pc(), 0x9475);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9474), 0x48);
        // 48 02FE
        gbc.setState(0xecfc, 0xabcf, 0x2990, 0x9862, 0x7dfb, 0x8ace, 0x0, 0x0);
        gbc.writeMem(0xecfc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xabcf);
        EXPECT(gbc.pc(), 0xecfd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecfc), 0x48);
        // 48 02FF
        gbc.setState(0x74e5, 0x50f1, 0xbb00, 0xf87c, 0x74fc, 0xfafa, 0x1, 0x1);
        gbc.writeMem(0x74e5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x50f1);
        EXPECT(gbc.pc(), 0x74e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0300
        gbc.setState(0x8e90, 0xc92a, 0x5680, 0x2d94, 0xe423, 0x1083, 0x0, 0x1);
        gbc.writeMem(0x8e90, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xc92a);
        EXPECT(gbc.pc(), 0x8e91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e90), 0x48);
        // 48 0301
        gbc.setState(0xe7ae, 0x40f, 0x4c10, 0x583, 0x2b68, 0xf39e, 0x1, 0x0);
        gbc.writeMem(0xe7ae, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x40f);
        EXPECT(gbc.pc(), 0xe7af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7ae), 0x48);
        // 48 0302
        gbc.setState(0xa6bd, 0xa047, 0x3fe0, 0x6240, 0x991f, 0xb706, 0x0, 0x0);
        gbc.writeMem(0xa6bd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xa047);
        EXPECT(gbc.pc(), 0xa6be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6bd), 0x48);
        // 48 0303
        gbc.setState(0xbdbf, 0x4601, 0x9140, 0x4500, 0xdf0, 0x297d, 0x1, 0x0);
        gbc.writeMem(0xbdbf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x4601);
        EXPECT(gbc.pc(), 0xbdc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdbf), 0x48);
        // 48 0304
        gbc.setState(0xbb53, 0x43ad, 0xb590, 0xc744, 0x3e50, 0xaf63, 0x1, 0x1);
        gbc.writeMem(0xbb53, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x43ad);
        EXPECT(gbc.pc(), 0xbb54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb53), 0x48);
        // 48 0305
        gbc.setState(0x3ef0, 0x949b, 0x4b80, 0x99b8, 0xc8db, 0xd6ed, 0x0, 0x0);
        gbc.writeMem(0x3ef0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x949b);
        EXPECT(gbc.pc(), 0x3ef1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0306
        gbc.setState(0x3cc8, 0xcac8, 0x4bc0, 0xd1f5, 0x73e7, 0x4ab4, 0x0, 0x1);
        gbc.writeMem(0x3cc8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xcac8);
        EXPECT(gbc.pc(), 0x3cc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0307
        gbc.setState(0xbe19, 0x8740, 0x2090, 0x9b13, 0xc8d7, 0x2c31, 0x0, 0x0);
        gbc.writeMem(0xbe19, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x8740);
        EXPECT(gbc.pc(), 0xbe1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe19), 0x48);
        // 48 0308
        gbc.setState(0xa77, 0x238, 0xa4b0, 0x4f75, 0xdb24, 0xaa7, 0x0, 0x1);
        gbc.writeMem(0xa77, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x238);
        EXPECT(gbc.pc(), 0xa78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0309
        gbc.setState(0xc848, 0xfac7, 0x6d80, 0x2ecb, 0x5233, 0x63eb, 0x1, 0x0);
        gbc.writeMem(0xc848, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xfac7);
        EXPECT(gbc.pc(), 0xc849);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc848), 0x48);
        // 48 030A
        gbc.setState(0xd0c3, 0x8fb9, 0x86b0, 0x24fc, 0x6dcc, 0x5ce9, 0x0, 0x1);
        gbc.writeMem(0xd0c3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x8fb9);
        EXPECT(gbc.pc(), 0xd0c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0c3), 0x48);
        // 48 030B
        gbc.setState(0x50bc, 0xd559, 0x5f60, 0xd825, 0x4e98, 0xc2b8, 0x1, 0x1);
        gbc.writeMem(0x50bc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xd559);
        EXPECT(gbc.pc(), 0x50bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 030C
        gbc.setState(0x5c1c, 0x8362, 0xc290, 0x88e9, 0xbfa5, 0xdfb5, 0x0, 0x0);
        gbc.writeMem(0x5c1c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x8362);
        EXPECT(gbc.pc(), 0x5c1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 030D
        gbc.setState(0x6f1a, 0x82a9, 0x4600, 0x41c2, 0xe83c, 0x28d2, 0x0, 0x1);
        gbc.writeMem(0x6f1a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x82a9);
        EXPECT(gbc.pc(), 0x6f1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 030E
        gbc.setState(0x4268, 0x266e, 0x9420, 0x14b0, 0x2a4f, 0xea54, 0x0, 0x0);
        gbc.writeMem(0x4268, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x266e);
        EXPECT(gbc.pc(), 0x4269);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 030F
        gbc.setState(0x9d27, 0x6293, 0xf6c0, 0x2723, 0x44f4, 0x321, 0x1, 0x1);
        gbc.writeMem(0x9d27, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x6293);
        EXPECT(gbc.pc(), 0x9d28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d27), 0x48);
        // 48 0310
        gbc.setState(0xe67f, 0xd8e9, 0x9f50, 0xf3d9, 0x1260, 0x576, 0x1, 0x0);
        gbc.writeMem(0xe67f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xd8e9);
        EXPECT(gbc.pc(), 0xe680);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe67f), 0x48);
        // 48 0311
        gbc.setState(0x8455, 0x1315, 0x8e00, 0x2c12, 0x7360, 0x2699, 0x0, 0x0);
        gbc.writeMem(0x8455, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x1315);
        EXPECT(gbc.pc(), 0x8456);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8455), 0x48);
        // 48 0312
        gbc.setState(0x4647, 0x140a, 0x96f0, 0xc69e, 0xcc86, 0xdf73, 0x1, 0x0);
        gbc.writeMem(0x4647, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x140a);
        EXPECT(gbc.pc(), 0x4648);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0313
        gbc.setState(0x9f9e, 0xc0b4, 0xfde0, 0xdf04, 0x4f5b, 0x743f, 0x0, 0x1);
        gbc.writeMem(0x9f9e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xc0b4);
        EXPECT(gbc.pc(), 0x9f9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f9e), 0x48);
        // 48 0314
        gbc.setState(0x737, 0x6e7, 0x6060, 0x5ddd, 0xbdd5, 0x1b6b, 0x0, 0x1);
        gbc.writeMem(0x737, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x6e7);
        EXPECT(gbc.pc(), 0x738);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0315
        gbc.setState(0x2eba, 0xe204, 0x8390, 0xa024, 0x11c0, 0x8887, 0x1, 0x0);
        gbc.writeMem(0x2eba, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xe204);
        EXPECT(gbc.pc(), 0x2ebb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0317
        gbc.setState(0x614d, 0x4d96, 0x3090, 0x9082, 0x4a36, 0x7d9c, 0x1, 0x1);
        gbc.writeMem(0x614d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x4d96);
        EXPECT(gbc.pc(), 0x614e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0318
        gbc.setState(0xc50a, 0x9b58, 0xda0, 0xd793, 0x85ce, 0xedf1, 0x0, 0x1);
        gbc.writeMem(0xc50a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x9b58);
        EXPECT(gbc.pc(), 0xc50b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc50a), 0x48);
        // 48 0319
        gbc.setState(0x6745, 0xa6e, 0x5bc0, 0x3994, 0xf003, 0x77e7, 0x1, 0x0);
        gbc.writeMem(0x6745, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa6e);
        EXPECT(gbc.pc(), 0x6746);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 031A
        gbc.setState(0xb87b, 0x30fa, 0x9140, 0x900e, 0xb3b, 0x7f46, 0x0, 0x1);
        gbc.writeMem(0xb87b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x30fa);
        EXPECT(gbc.pc(), 0xb87c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb87b), 0x48);
        // 48 031B
        gbc.setState(0x972a, 0xb074, 0xdce0, 0xaefe, 0xa843, 0xaa63, 0x1, 0x0);
        gbc.writeMem(0x972a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xb074);
        EXPECT(gbc.pc(), 0x972b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x972a), 0x48);
        // 48 031C
        gbc.setState(0x635b, 0xfe33, 0x2280, 0x3698, 0xc86f, 0xb324, 0x0, 0x1);
        gbc.writeMem(0x635b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xfe33);
        EXPECT(gbc.pc(), 0x635c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 031D
        gbc.setState(0x4e32, 0xbc3d, 0x1060, 0x9bca, 0x8276, 0xeaec, 0x0, 0x1);
        gbc.writeMem(0x4e32, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xbc3d);
        EXPECT(gbc.pc(), 0x4e33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 031E
        gbc.setState(0x3fee, 0x658c, 0x6470, 0xd095, 0x958e, 0x5a7b, 0x1, 0x1);
        gbc.writeMem(0x3fee, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x658c);
        EXPECT(gbc.pc(), 0x3fef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 031F
        gbc.setState(0xa3da, 0xf81c, 0x1870, 0x50db, 0x678e, 0xf71e, 0x1, 0x0);
        gbc.writeMem(0xa3da, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xf81c);
        EXPECT(gbc.pc(), 0xa3db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3da), 0x48);
        // 48 0321
        gbc.setState(0xd0c9, 0xc81d, 0xba70, 0x9533, 0x24c3, 0x7d27, 0x1, 0x0);
        gbc.writeMem(0xd0c9, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xc81d);
        EXPECT(gbc.pc(), 0xd0ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0c9), 0x48);
        // 48 0322
        gbc.setState(0x834f, 0xa849, 0x9cc0, 0x8e16, 0xe04e, 0x4ab4, 0x1, 0x0);
        gbc.writeMem(0x834f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xa849);
        EXPECT(gbc.pc(), 0x8350);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x834f), 0x48);
        // 48 0323
        gbc.setState(0xb6e0, 0x4083, 0xee10, 0x885e, 0x45bd, 0x6278, 0x1, 0x1);
        gbc.writeMem(0xb6e0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x4083);
        EXPECT(gbc.pc(), 0xb6e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6e0), 0x48);
        // 48 0324
        gbc.setState(0x8247, 0xbad8, 0x2280, 0x95f4, 0x3612, 0x3c6e, 0x0, 0x0);
        gbc.writeMem(0x8247, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xbad8);
        EXPECT(gbc.pc(), 0x8248);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8247), 0x48);
        // 48 0325
        gbc.setState(0x3582, 0x7578, 0xefa0, 0xf853, 0x65cd, 0x13cd, 0x1, 0x0);
        gbc.writeMem(0x3582, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x7578);
        EXPECT(gbc.pc(), 0x3583);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0326
        gbc.setState(0x5e5e, 0xa3d8, 0xbe40, 0xebe2, 0xf41e, 0xec9, 0x1, 0x1);
        gbc.writeMem(0x5e5e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xa3d8);
        EXPECT(gbc.pc(), 0x5e5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0327
        gbc.setState(0xdefd, 0xf3ec, 0x3180, 0x95b2, 0xe5ea, 0x1ad4, 0x1, 0x1);
        gbc.writeMem(0xdefd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xf3ec);
        EXPECT(gbc.pc(), 0xdefe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdefd), 0x48);
        // 48 0328
        gbc.setState(0x6564, 0x258b, 0x84c0, 0x4df6, 0x2014, 0xdca9, 0x0, 0x1);
        gbc.writeMem(0x6564, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x258b);
        EXPECT(gbc.pc(), 0x6565);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0329
        gbc.setState(0x387a, 0xaa46, 0xc340, 0xd129, 0x8233, 0x3441, 0x1, 0x0);
        gbc.writeMem(0x387a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xaa46);
        EXPECT(gbc.pc(), 0x387b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 032A
        gbc.setState(0xcd3a, 0x774e, 0xbe0, 0x65aa, 0x346d, 0x152a, 0x0, 0x1);
        gbc.writeMem(0xcd3a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x774e);
        EXPECT(gbc.pc(), 0xcd3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd3a), 0x48);
        // 48 032B
        gbc.setState(0xb9e4, 0x4d5a, 0x3de0, 0x37ae, 0xf8c5, 0x76c6, 0x0, 0x0);
        gbc.writeMem(0xb9e4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x4d5a);
        EXPECT(gbc.pc(), 0xb9e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9e4), 0x48);
        // 48 032C
        gbc.setState(0x8cb9, 0x1323, 0xa7d0, 0x7f73, 0xdba, 0x5aa0, 0x0, 0x1);
        gbc.writeMem(0x8cb9, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x1323);
        EXPECT(gbc.pc(), 0x8cba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cb9), 0x48);
        // 48 032E
        gbc.setState(0xa108, 0x478d, 0xa030, 0xee35, 0xe496, 0x47b7, 0x0, 0x1);
        gbc.writeMem(0xa108, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x478d);
        EXPECT(gbc.pc(), 0xa109);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa108), 0x48);
        // 48 032F
        gbc.setState(0x9ae, 0xda52, 0x5d20, 0x16a2, 0xf30b, 0xc509, 0x0, 0x1);
        gbc.writeMem(0x9ae, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xda52);
        EXPECT(gbc.pc(), 0x9af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0330
        gbc.setState(0x534f, 0xa292, 0x3960, 0x35b, 0x1ff8, 0x129e, 0x0, 0x1);
        gbc.writeMem(0x534f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xa292);
        EXPECT(gbc.pc(), 0x5350);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0331
        gbc.setState(0xe82e, 0x4780, 0x5450, 0x3dfd, 0x4c65, 0x90a9, 0x1, 0x0);
        gbc.writeMem(0xe82e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x4780);
        EXPECT(gbc.pc(), 0xe82f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe82e), 0x48);
        // 48 0332
        gbc.setState(0x65aa, 0xc63, 0x8530, 0xd356, 0xf3ce, 0x2e0d, 0x0, 0x1);
        gbc.writeMem(0x65aa, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xc63);
        EXPECT(gbc.pc(), 0x65ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0333
        gbc.setState(0x196b, 0xc86a, 0x1140, 0x3327, 0xd77c, 0x6ee2, 0x1, 0x0);
        gbc.writeMem(0x196b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xc86a);
        EXPECT(gbc.pc(), 0x196c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0334
        gbc.setState(0x4c5a, 0x68c, 0xe10, 0x46d8, 0x9192, 0x5355, 0x0, 0x0);
        gbc.writeMem(0x4c5a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x68c);
        EXPECT(gbc.pc(), 0x4c5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0335
        gbc.setState(0x4174, 0xa13e, 0xb90, 0x10f5, 0x656a, 0x535, 0x1, 0x1);
        gbc.writeMem(0x4174, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xa13e);
        EXPECT(gbc.pc(), 0x4175);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0336
        gbc.setState(0x80bc, 0xd1b2, 0xaf70, 0x80b3, 0x65c9, 0x2462, 0x0, 0x1);
        gbc.writeMem(0x80bc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xd1b2);
        EXPECT(gbc.pc(), 0x80bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80bc), 0x48);
        // 48 0337
        gbc.setState(0x7f4d, 0xa02a, 0xd700, 0x10bb, 0x9da1, 0x5605, 0x0, 0x0);
        gbc.writeMem(0x7f4d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xa02a);
        EXPECT(gbc.pc(), 0x7f4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0338
        gbc.setState(0x5039, 0xe2fd, 0xf0d0, 0xde11, 0xe93e, 0x320, 0x0, 0x1);
        gbc.writeMem(0x5039, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xe2fd);
        EXPECT(gbc.pc(), 0x503a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0339
        gbc.setState(0x2d77, 0xe4b5, 0xe190, 0xec48, 0x50d5, 0x397f, 0x0, 0x1);
        gbc.writeMem(0x2d77, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe4b5);
        EXPECT(gbc.pc(), 0x2d78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 033A
        gbc.setState(0x807a, 0x4a5e, 0x9d70, 0xe47e, 0x4a95, 0x29c, 0x0, 0x1);
        gbc.writeMem(0x807a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x4a5e);
        EXPECT(gbc.pc(), 0x807b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x807a), 0x48);
        // 48 033B
        gbc.setState(0x5c60, 0x21cc, 0x4fd0, 0x8a7c, 0x7630, 0x20, 0x1, 0x1);
        gbc.writeMem(0x5c60, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x21cc);
        EXPECT(gbc.pc(), 0x5c61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 033C
        gbc.setState(0x9ca7, 0x2bca, 0x4730, 0x4db2, 0xd17f, 0xc58c, 0x0, 0x1);
        gbc.writeMem(0x9ca7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x2bca);
        EXPECT(gbc.pc(), 0x9ca8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ca7), 0x48);
        // 48 033D
        gbc.setState(0x2692, 0x49c5, 0x2bd0, 0x8194, 0x6796, 0xfc41, 0x0, 0x0);
        gbc.writeMem(0x2692, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x49c5);
        EXPECT(gbc.pc(), 0x2693);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 033E
        gbc.setState(0x5f2e, 0x9a1f, 0xd690, 0x6e22, 0x4f62, 0xced4, 0x0, 0x0);
        gbc.writeMem(0x5f2e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x9a1f);
        EXPECT(gbc.pc(), 0x5f2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 033F
        gbc.setState(0xb7cc, 0x769e, 0x14a0, 0x2561, 0xc720, 0x20d, 0x0, 0x0);
        gbc.writeMem(0xb7cc, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x769e);
        EXPECT(gbc.pc(), 0xb7cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7cc), 0x48);
        // 48 0340
        gbc.setState(0xfd2, 0x9595, 0xeff0, 0x301c, 0xd3c4, 0x1172, 0x1, 0x1);
        gbc.writeMem(0xfd2, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x9595);
        EXPECT(gbc.pc(), 0xfd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0341
        gbc.setState(0x5881, 0xdb97, 0xaf30, 0x539b, 0xb57c, 0x26e, 0x0, 0x1);
        gbc.writeMem(0x5881, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xdb97);
        EXPECT(gbc.pc(), 0x5882);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0342
        gbc.setState(0xe847, 0x1561, 0x1c10, 0xc4a2, 0x204e, 0x1999, 0x0, 0x0);
        gbc.writeMem(0xe847, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x1561);
        EXPECT(gbc.pc(), 0xe848);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe847), 0x48);
        // 48 0343
        gbc.setState(0x1fc7, 0x5773, 0xa810, 0x804a, 0x7c63, 0xdcbf, 0x0, 0x0);
        gbc.writeMem(0x1fc7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x5773);
        EXPECT(gbc.pc(), 0x1fc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0344
        gbc.setState(0xe65b, 0x8fb1, 0x2a00, 0x3bbc, 0x5136, 0x9c3c, 0x0, 0x0);
        gbc.writeMem(0xe65b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x8fb1);
        EXPECT(gbc.pc(), 0xe65c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe65b), 0x48);
        // 48 0345
        gbc.setState(0x3379, 0x2bb1, 0xc7d0, 0x5bce, 0x3218, 0xef54, 0x0, 0x1);
        gbc.writeMem(0x3379, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x2bb1);
        EXPECT(gbc.pc(), 0x337a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0346
        gbc.setState(0xb9d5, 0xe197, 0x7180, 0x4475, 0x48d5, 0xeed8, 0x1, 0x1);
        gbc.writeMem(0xb9d5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xe197);
        EXPECT(gbc.pc(), 0xb9d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9d5), 0x48);
        // 48 0347
        gbc.setState(0x99fd, 0xca1d, 0x9b60, 0xd3a8, 0xd4bd, 0xdce, 0x0, 0x1);
        gbc.writeMem(0x99fd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xca1d);
        EXPECT(gbc.pc(), 0x99fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99fd), 0x48);
        // 48 0349
        gbc.setState(0x9ef, 0x454f, 0x1fe0, 0x61a2, 0xaf8b, 0xe34b, 0x0, 0x0);
        gbc.writeMem(0x9ef, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x454f);
        EXPECT(gbc.pc(), 0x9f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 034B
        gbc.setState(0x9752, 0xcd4a, 0xbcd0, 0x176f, 0x7697, 0x3f5d, 0x1, 0x1);
        gbc.writeMem(0x9752, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xcd4a);
        EXPECT(gbc.pc(), 0x9753);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9752), 0x48);
        // 48 034C
        gbc.setState(0xd42, 0xe934, 0x36e0, 0x1d47, 0xdb93, 0x834e, 0x1, 0x0);
        gbc.writeMem(0xd42, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe934);
        EXPECT(gbc.pc(), 0xd43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 034D
        gbc.setState(0x1a3a, 0x5048, 0x25e0, 0x4c80, 0x2faf, 0x6ed1, 0x0, 0x0);
        gbc.writeMem(0x1a3a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x5048);
        EXPECT(gbc.pc(), 0x1a3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 034E
        gbc.setState(0x3518, 0xe21a, 0x3540, 0xcf79, 0x1004, 0x44cc, 0x1, 0x1);
        gbc.writeMem(0x3518, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xe21a);
        EXPECT(gbc.pc(), 0x3519);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 034F
        gbc.setState(0x88d9, 0x93e7, 0xdfb0, 0x8bc8, 0x6a22, 0xb781, 0x1, 0x0);
        gbc.writeMem(0x88d9, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x93e7);
        EXPECT(gbc.pc(), 0x88da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88d9), 0x48);
        // 48 0350
        gbc.setState(0xbe43, 0x4891, 0xf90, 0x3be2, 0xc8d4, 0x5907, 0x1, 0x1);
        gbc.writeMem(0xbe43, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x4891);
        EXPECT(gbc.pc(), 0xbe44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe43), 0x48);
        // 48 0351
        gbc.setState(0x21cd, 0xcf79, 0x58c0, 0x4941, 0x6c53, 0x36db, 0x1, 0x1);
        gbc.writeMem(0x21cd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xcf79);
        EXPECT(gbc.pc(), 0x21ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0352
        gbc.setState(0x84d, 0x887c, 0x440, 0xc857, 0x62b6, 0xa44c, 0x1, 0x0);
        gbc.writeMem(0x84d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x887c);
        EXPECT(gbc.pc(), 0x84e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0353
        gbc.setState(0xbee3, 0x5c70, 0x60a0, 0x7e76, 0xdd94, 0x9135, 0x0, 0x0);
        gbc.writeMem(0xbee3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x5c70);
        EXPECT(gbc.pc(), 0xbee4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbee3), 0x48);
        // 48 0354
        gbc.setState(0x729e, 0x2038, 0xb6c0, 0x563f, 0x804e, 0x1a6f, 0x0, 0x1);
        gbc.writeMem(0x729e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x2038);
        EXPECT(gbc.pc(), 0x729f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0355
        gbc.setState(0x281d, 0x24aa, 0x2be0, 0x4a54, 0xe5aa, 0xd9e1, 0x1, 0x0);
        gbc.writeMem(0x281d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x24aa);
        EXPECT(gbc.pc(), 0x281e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0356
        gbc.setState(0x3e0d, 0xe08b, 0x5e90, 0xebd6, 0x8623, 0xbcc5, 0x1, 0x1);
        gbc.writeMem(0x3e0d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe08b);
        EXPECT(gbc.pc(), 0x3e0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0357
        gbc.setState(0x168c, 0xf75f, 0x7eb0, 0xe77a, 0xa6f1, 0xcdef, 0x1, 0x0);
        gbc.writeMem(0x168c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xf75f);
        EXPECT(gbc.pc(), 0x168d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0358
        gbc.setState(0xe739, 0x379e, 0xdd90, 0xe7e2, 0xdbae, 0xb071, 0x0, 0x1);
        gbc.writeMem(0xe739, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x379e);
        EXPECT(gbc.pc(), 0xe73a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe739), 0x48);
        // 48 0359
        gbc.setState(0x697d, 0x773c, 0x1150, 0xf195, 0x28, 0xcf36, 0x0, 0x0);
        gbc.writeMem(0x697d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x773c);
        EXPECT(gbc.pc(), 0x697e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 035A
        gbc.setState(0xc87, 0x1161, 0xa900, 0x39d7, 0xd7e2, 0xa91f, 0x0, 0x1);
        gbc.writeMem(0xc87, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x1161);
        EXPECT(gbc.pc(), 0xc88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 035B
        gbc.setState(0xad35, 0xb651, 0xbbd0, 0x5808, 0x4c74, 0xbcd6, 0x0, 0x1);
        gbc.writeMem(0xad35, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xb651);
        EXPECT(gbc.pc(), 0xad36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad35), 0x48);
        // 48 035C
        gbc.setState(0x8d9a, 0x9123, 0x2240, 0x5675, 0x6897, 0x3f24, 0x1, 0x0);
        gbc.writeMem(0x8d9a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x9123);
        EXPECT(gbc.pc(), 0x8d9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d9a), 0x48);
        // 48 035F
        gbc.setState(0xc5ad, 0xe7de, 0x4b20, 0x1356, 0x1f46, 0xd27f, 0x0, 0x0);
        gbc.writeMem(0xc5ad, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe7de);
        EXPECT(gbc.pc(), 0xc5ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5ad), 0x48);
        // 48 0360
        gbc.setState(0x299f, 0xf2b1, 0xd170, 0xafaa, 0x77b4, 0x8885, 0x1, 0x1);
        gbc.writeMem(0x299f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xf2b1);
        EXPECT(gbc.pc(), 0x29a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0361
        gbc.setState(0x7aa4, 0xf344, 0xe2b0, 0x8801, 0x580e, 0x8fc2, 0x1, 0x1);
        gbc.writeMem(0x7aa4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xf344);
        EXPECT(gbc.pc(), 0x7aa5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0362
        gbc.setState(0xb82d, 0x8854, 0xd7c0, 0xed9c, 0x50d4, 0x542f, 0x0, 0x0);
        gbc.writeMem(0xb82d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8854);
        EXPECT(gbc.pc(), 0xb82e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb82d), 0x48);
        // 48 0363
        gbc.setState(0x3666, 0x6cc5, 0xa740, 0x31bc, 0x23c2, 0x3c89, 0x1, 0x0);
        gbc.writeMem(0x3666, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x6cc5);
        EXPECT(gbc.pc(), 0x3667);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0364
        gbc.setState(0x6f53, 0xa41b, 0x3670, 0x1e7d, 0xfa2c, 0x477b, 0x1, 0x0);
        gbc.writeMem(0x6f53, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xa41b);
        EXPECT(gbc.pc(), 0x6f54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0365
        gbc.setState(0xc561, 0x9c17, 0x7cb0, 0x4c08, 0x5c5c, 0x9281, 0x1, 0x1);
        gbc.writeMem(0xc561, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x9c17);
        EXPECT(gbc.pc(), 0xc562);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc561), 0x48);
        // 48 0366
        gbc.setState(0x5569, 0x5f79, 0xc3e0, 0xd1b0, 0x994a, 0xa793, 0x1, 0x0);
        gbc.writeMem(0x5569, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x5f79);
        EXPECT(gbc.pc(), 0x556a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0368
        gbc.setState(0x7d17, 0x7ba7, 0x8810, 0x91dc, 0x14b8, 0x37e3, 0x0, 0x0);
        gbc.writeMem(0x7d17, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x7ba7);
        EXPECT(gbc.pc(), 0x7d18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0369
        gbc.setState(0x5bad, 0x574b, 0xb0a0, 0xf3e1, 0x20a7, 0xd9b9, 0x0, 0x0);
        gbc.writeMem(0x5bad, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x574b);
        EXPECT(gbc.pc(), 0x5bae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 036B
        gbc.setState(0xe602, 0x626e, 0x1bf0, 0x2b9f, 0xb884, 0x49a2, 0x0, 0x0);
        gbc.writeMem(0xe602, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x626e);
        EXPECT(gbc.pc(), 0xe603);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe602), 0x48);
        // 48 036C
        gbc.setState(0x6612, 0x18bd, 0x20e0, 0xaf9e, 0x3bd6, 0xc8b3, 0x1, 0x0);
        gbc.writeMem(0x6612, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x18bd);
        EXPECT(gbc.pc(), 0x6613);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 036D
        gbc.setState(0x7484, 0x5753, 0xb4e0, 0x4d3e, 0xd6da, 0x3035, 0x1, 0x1);
        gbc.writeMem(0x7484, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x5753);
        EXPECT(gbc.pc(), 0x7485);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 036E
        gbc.setState(0xa99c, 0x578c, 0xae80, 0xd7, 0x6170, 0x4572, 0x0, 0x0);
        gbc.writeMem(0xa99c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x578c);
        EXPECT(gbc.pc(), 0xa99d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa99c), 0x48);
        // 48 036F
        gbc.setState(0x459, 0x3338, 0x4ac0, 0xe71f, 0x5f54, 0x1e58, 0x1, 0x1);
        gbc.writeMem(0x459, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x3338);
        EXPECT(gbc.pc(), 0x45a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0370
        gbc.setState(0xc228, 0x1478, 0x7310, 0x2a11, 0x2f1a, 0xb54c, 0x0, 0x0);
        gbc.writeMem(0xc228, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x1478);
        EXPECT(gbc.pc(), 0xc229);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc228), 0x48);
        // 48 0371
        gbc.setState(0xeaf6, 0x2b13, 0x6fe0, 0xa7d3, 0xfc72, 0x8a28, 0x1, 0x0);
        gbc.writeMem(0xeaf6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x2b13);
        EXPECT(gbc.pc(), 0xeaf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaf6), 0x48);
        // 48 0372
        gbc.setState(0x2572, 0x5d50, 0x1570, 0xadf8, 0x4cec, 0xdef4, 0x1, 0x1);
        gbc.writeMem(0x2572, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x5d50);
        EXPECT(gbc.pc(), 0x2573);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0373
        gbc.setState(0xc906, 0x127b, 0xbb10, 0xb6ba, 0x120d, 0x75f, 0x1, 0x0);
        gbc.writeMem(0xc906, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x127b);
        EXPECT(gbc.pc(), 0xc907);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc906), 0x48);
        // 48 0375
        gbc.setState(0x6fe7, 0xff91, 0x7ca0, 0xefb7, 0x82a0, 0x8bb5, 0x1, 0x1);
        gbc.writeMem(0x6fe7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xff91);
        EXPECT(gbc.pc(), 0x6fe8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 0376
        gbc.setState(0xd0d, 0xeba2, 0x5670, 0xc7bc, 0xec4f, 0x147f, 0x0, 0x1);
        gbc.writeMem(0xd0d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xeba2);
        EXPECT(gbc.pc(), 0xd0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0377
        gbc.setState(0xc747, 0x1156, 0xd980, 0xfd60, 0xe8d3, 0x9274, 0x1, 0x0);
        gbc.writeMem(0xc747, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x1156);
        EXPECT(gbc.pc(), 0xc748);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc747), 0x48);
        // 48 0378
        gbc.setState(0xc91b, 0xb6c0, 0xcc60, 0xd96c, 0xffef, 0xf508, 0x1, 0x1);
        gbc.writeMem(0xc91b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xb6c0);
        EXPECT(gbc.pc(), 0xc91c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc91b), 0x48);
        // 48 0379
        gbc.setState(0x1636, 0x1e4, 0xa980, 0xc3db, 0x64b4, 0xc677, 0x1, 0x0);
        gbc.writeMem(0x1636, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x1e4);
        EXPECT(gbc.pc(), 0x1637);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 037A
        gbc.setState(0xaf31, 0xb39, 0x3480, 0xa88e, 0xa7ee, 0x1b4a, 0x1, 0x0);
        gbc.writeMem(0xaf31, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xb39);
        EXPECT(gbc.pc(), 0xaf32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf31), 0x48);
        // 48 037B
        gbc.setState(0x4d4c, 0xf8b, 0x6a80, 0x3ed3, 0x2fe4, 0xfe02, 0x0, 0x1);
        gbc.writeMem(0x4d4c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xf8b);
        EXPECT(gbc.pc(), 0x4d4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 037D
        gbc.setState(0x48e3, 0xad1d, 0xd0d0, 0x13b4, 0x25e6, 0x67e7, 0x1, 0x0);
        gbc.writeMem(0x48e3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xad1d);
        EXPECT(gbc.pc(), 0x48e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 037E
        gbc.setState(0x45db, 0x4ebe, 0xd030, 0x257c, 0x3ea5, 0x2dbd, 0x1, 0x1);
        gbc.writeMem(0x45db, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x4ebe);
        EXPECT(gbc.pc(), 0x45dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 037F
        gbc.setState(0xc5d4, 0xc91e, 0xd1e0, 0xb61d, 0x6afe, 0xaedd, 0x0, 0x0);
        gbc.writeMem(0xc5d4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xc91e);
        EXPECT(gbc.pc(), 0xc5d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5d4), 0x48);
        // 48 0380
        gbc.setState(0xc8ee, 0x6e53, 0xc10, 0x4e59, 0x9323, 0xe42, 0x0, 0x1);
        gbc.writeMem(0xc8ee, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x6e53);
        EXPECT(gbc.pc(), 0xc8ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8ee), 0x48);
        // 48 0381
        gbc.setState(0x84c1, 0xfb2a, 0x2940, 0x17de, 0x737b, 0x239f, 0x1, 0x1);
        gbc.writeMem(0x84c1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xfb2a);
        EXPECT(gbc.pc(), 0x84c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84c1), 0x48);
        // 48 0382
        gbc.setState(0x72e1, 0xcab6, 0x4280, 0xaeea, 0x7a7f, 0x2751, 0x0, 0x1);
        gbc.writeMem(0x72e1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xcab6);
        EXPECT(gbc.pc(), 0x72e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0383
        gbc.setState(0x13d5, 0x41ac, 0xefb0, 0x87aa, 0xa5e7, 0x49b2, 0x0, 0x0);
        gbc.writeMem(0x13d5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x41ac);
        EXPECT(gbc.pc(), 0x13d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0384
        gbc.setState(0x6309, 0x6622, 0xec90, 0xcaa4, 0x4e4f, 0xd355, 0x1, 0x0);
        gbc.writeMem(0x6309, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x6622);
        EXPECT(gbc.pc(), 0x630a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0385
        gbc.setState(0x233e, 0xa5c2, 0xb0b0, 0x8e3e, 0x14fe, 0x5359, 0x0, 0x1);
        gbc.writeMem(0x233e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xa5c2);
        EXPECT(gbc.pc(), 0x233f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0386
        gbc.setState(0xc32f, 0x14dc, 0x5af0, 0xae98, 0xf562, 0xfe49, 0x0, 0x1);
        gbc.writeMem(0xc32f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x14dc);
        EXPECT(gbc.pc(), 0xc330);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc32f), 0x48);
        // 48 0387
        gbc.setState(0xcd24, 0xf97c, 0x83d0, 0x4a7b, 0xf52d, 0x3298, 0x1, 0x1);
        gbc.writeMem(0xcd24, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xf97c);
        EXPECT(gbc.pc(), 0xcd25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd24), 0x48);
        // 48 0388
        gbc.setState(0x3f5b, 0x315b, 0x9110, 0xe9eb, 0x5185, 0x5d60, 0x0, 0x0);
        gbc.writeMem(0x3f5b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x315b);
        EXPECT(gbc.pc(), 0x3f5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0389
        gbc.setState(0x6497, 0x319b, 0x8af0, 0xa09f, 0x8fbc, 0x2862, 0x0, 0x0);
        gbc.writeMem(0x6497, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x319b);
        EXPECT(gbc.pc(), 0x6498);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 038A
        gbc.setState(0x4d8d, 0x4e61, 0x1fa0, 0x7d6c, 0x867e, 0xbc59, 0x1, 0x1);
        gbc.writeMem(0x4d8d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x4e61);
        EXPECT(gbc.pc(), 0x4d8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 038B
        gbc.setState(0x720b, 0xc882, 0x50e0, 0xe178, 0xb5de, 0xe8c9, 0x0, 0x0);
        gbc.writeMem(0x720b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xc882);
        EXPECT(gbc.pc(), 0x720c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 038C
        gbc.setState(0xa83c, 0xc6fe, 0x9160, 0x38e2, 0xaeda, 0xb5b5, 0x0, 0x0);
        gbc.writeMem(0xa83c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xc6fe);
        EXPECT(gbc.pc(), 0xa83d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa83c), 0x48);
        // 48 038D
        gbc.setState(0x9662, 0x4e6b, 0x6330, 0x7eef, 0xe943, 0x53fa, 0x1, 0x0);
        gbc.writeMem(0x9662, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x4e6b);
        EXPECT(gbc.pc(), 0x9663);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9662), 0x48);
        // 48 038E
        gbc.setState(0x5ce4, 0xfb41, 0x6840, 0xde63, 0x4a0c, 0xe423, 0x0, 0x0);
        gbc.writeMem(0x5ce4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xfb41);
        EXPECT(gbc.pc(), 0x5ce5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 038F
        gbc.setState(0x2c4c, 0x247b, 0x3630, 0x41ce, 0xd7d4, 0x35f4, 0x0, 0x1);
        gbc.writeMem(0x2c4c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x247b);
        EXPECT(gbc.pc(), 0x2c4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0390
        gbc.setState(0x644f, 0x41a, 0x38f0, 0x6a67, 0x77c6, 0x4b49, 0x0, 0x0);
        gbc.writeMem(0x644f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x41a);
        EXPECT(gbc.pc(), 0x6450);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0391
        gbc.setState(0xa9ea, 0x6cfc, 0x3700, 0xedf2, 0xa84d, 0x4b9f, 0x0, 0x1);
        gbc.writeMem(0xa9ea, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x6cfc);
        EXPECT(gbc.pc(), 0xa9eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9ea), 0x48);
        // 48 0392
        gbc.setState(0xc4e0, 0xf659, 0x1360, 0xfc1b, 0xd51f, 0x4a2a, 0x1, 0x1);
        gbc.writeMem(0xc4e0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xf659);
        EXPECT(gbc.pc(), 0xc4e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4e0), 0x48);
        // 48 0393
        gbc.setState(0x818c, 0xb60b, 0x1000, 0x1d4f, 0x3f75, 0xfb77, 0x0, 0x1);
        gbc.writeMem(0x818c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xb60b);
        EXPECT(gbc.pc(), 0x818d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x818c), 0x48);
        // 48 0395
        gbc.setState(0xa618, 0x9602, 0x9ce0, 0x2e9, 0xed33, 0xb057, 0x1, 0x0);
        gbc.writeMem(0xa618, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x9602);
        EXPECT(gbc.pc(), 0xa619);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa618), 0x48);
        // 48 0396
        gbc.setState(0x3e70, 0x8018, 0x70, 0xa50a, 0x5fa7, 0x1935, 0x1, 0x0);
        gbc.writeMem(0x3e70, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x8018);
        EXPECT(gbc.pc(), 0x3e71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 0397
        gbc.setState(0x1a4b, 0x3371, 0xb280, 0xd975, 0xf624, 0xe873, 0x1, 0x0);
        gbc.writeMem(0x1a4b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x3371);
        EXPECT(gbc.pc(), 0x1a4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 0398
        gbc.setState(0x4186, 0x8cfc, 0x85d0, 0x6475, 0x8f85, 0x3deb, 0x1, 0x0);
        gbc.writeMem(0x4186, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x8cfc);
        EXPECT(gbc.pc(), 0x4187);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 0399
        gbc.setState(0xc8b7, 0x70ef, 0xfff0, 0x5c6, 0x1621, 0xc502, 0x1, 0x1);
        gbc.writeMem(0xc8b7, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x70ef);
        EXPECT(gbc.pc(), 0xc8b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8b7), 0x48);
        // 48 039A
        gbc.setState(0xd179, 0x845a, 0x5f00, 0x6be7, 0x7f20, 0xdb41, 0x1, 0x0);
        gbc.writeMem(0xd179, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x845a);
        EXPECT(gbc.pc(), 0xd17a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd179), 0x48);
        // 48 039B
        gbc.setState(0x4fc2, 0xe0f0, 0x8190, 0xe0d9, 0x7e9, 0x8027, 0x0, 0x1);
        gbc.writeMem(0x4fc2, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xe0f0);
        EXPECT(gbc.pc(), 0x4fc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 039C
        gbc.setState(0x277d, 0x682a, 0x1500, 0x275f, 0xd9f9, 0x444a, 0x0, 0x1);
        gbc.writeMem(0x277d, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x682a);
        EXPECT(gbc.pc(), 0x277e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 039E
        gbc.setState(0x6df6, 0x71d0, 0x70, 0xaf4b, 0x841b, 0x8b6c, 0x1, 0x1);
        gbc.writeMem(0x6df6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x71d0);
        EXPECT(gbc.pc(), 0x6df7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 039F
        gbc.setState(0xdbf6, 0x5aca, 0x5ab0, 0xaf4d, 0xeb26, 0x2e4, 0x0, 0x0);
        gbc.writeMem(0xdbf6, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x5aca);
        EXPECT(gbc.pc(), 0xdbf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbf6), 0x48);
        // 48 03A0
        gbc.setState(0xb86a, 0x996f, 0x2bc0, 0x50b8, 0xb7bc, 0x131b, 0x0, 0x1);
        gbc.writeMem(0xb86a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x996f);
        EXPECT(gbc.pc(), 0xb86b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb86a), 0x48);
        // 48 03A1
        gbc.setState(0x8cd3, 0x4f92, 0x5fb0, 0xa91a, 0xd24c, 0xb8b2, 0x1, 0x0);
        gbc.writeMem(0x8cd3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x4f92);
        EXPECT(gbc.pc(), 0x8cd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cd3), 0x48);
        // 48 03A2
        gbc.setState(0xc336, 0x9317, 0x8340, 0x1d14, 0xf113, 0xbfc4, 0x0, 0x0);
        gbc.writeMem(0xc336, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x9317);
        EXPECT(gbc.pc(), 0xc337);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc336), 0x48);
        // 48 03A3
        gbc.setState(0x3049, 0x5e5e, 0x2ec0, 0x5869, 0x5a50, 0x7c08, 0x0, 0x1);
        gbc.writeMem(0x3049, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x5e5e);
        EXPECT(gbc.pc(), 0x304a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 03A4
        gbc.setState(0x9e2c, 0x5783, 0xaf10, 0xa6dc, 0x639d, 0x6566, 0x0, 0x1);
        gbc.writeMem(0x9e2c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x5783);
        EXPECT(gbc.pc(), 0x9e2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e2c), 0x48);
        // 48 03A5
        gbc.setState(0x6be5, 0x6c98, 0x8f60, 0xe2bb, 0x398a, 0x9813, 0x0, 0x1);
        gbc.writeMem(0x6be5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x6c98);
        EXPECT(gbc.pc(), 0x6be6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03A6
        gbc.setState(0xbcb, 0xa0ab, 0xe5b0, 0xd6c1, 0xe4c8, 0x9ac, 0x1, 0x0);
        gbc.writeMem(0xbcb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xa0ab);
        EXPECT(gbc.pc(), 0xbcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 03A7
        gbc.setState(0x4957, 0x3f61, 0xefc0, 0x14cf, 0x6065, 0xc9e1, 0x0, 0x1);
        gbc.writeMem(0x4957, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x3f61);
        EXPECT(gbc.pc(), 0x4958);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 03A8
        gbc.setState(0xe6c, 0xdd45, 0x8800, 0x1faa, 0xf66c, 0xf4fd, 0x0, 0x0);
        gbc.writeMem(0xe6c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xdd45);
        EXPECT(gbc.pc(), 0xe6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 03A9
        gbc.setState(0x8a5c, 0xc3f2, 0x6480, 0xc592, 0xc48e, 0xdf7d, 0x0, 0x0);
        gbc.writeMem(0x8a5c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xc3f2);
        EXPECT(gbc.pc(), 0x8a5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a5c), 0x48);
        // 48 03AA
        gbc.setState(0x1fbb, 0x2925, 0x3bc0, 0xd1, 0xdf99, 0x96f9, 0x0, 0x1);
        gbc.writeMem(0x1fbb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x2925);
        EXPECT(gbc.pc(), 0x1fbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 03AB
        gbc.setState(0xbb3a, 0x96d3, 0x94c0, 0x3de7, 0xb33a, 0x9b70, 0x1, 0x1);
        gbc.writeMem(0xbb3a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x96d3);
        EXPECT(gbc.pc(), 0xbb3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb3a), 0x48);
        // 48 03AC
        gbc.setState(0x4e22, 0x6ad1, 0xa5d0, 0x14e6, 0x5fdb, 0x6297, 0x0, 0x0);
        gbc.writeMem(0x4e22, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x6ad1);
        EXPECT(gbc.pc(), 0x4e23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 03AD
        gbc.setState(0xccef, 0xb02d, 0x4c30, 0x7b90, 0xfbf6, 0x7eb3, 0x1, 0x0);
        gbc.writeMem(0xccef, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xb02d);
        EXPECT(gbc.pc(), 0xccf0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccef), 0x48);
        // 48 03AE
        gbc.setState(0xd917, 0xe742, 0x5170, 0xdde7, 0x76f1, 0x5b56, 0x0, 0x1);
        gbc.writeMem(0xd917, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xe742);
        EXPECT(gbc.pc(), 0xd918);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd917), 0x48);
        // 48 03AF
        gbc.setState(0x7600, 0xa5be, 0xc020, 0x48ef, 0x8b13, 0x1d52, 0x0, 0x0);
        gbc.writeMem(0x7600, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xa5be);
        EXPECT(gbc.pc(), 0x7601);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03B0
        gbc.setState(0xcffb, 0x2ed1, 0xda80, 0x40be, 0xa01c, 0x57a1, 0x1, 0x1);
        gbc.writeMem(0xcffb, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x2ed1);
        EXPECT(gbc.pc(), 0xcffc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcffb), 0x48);
        // 48 03B1
        gbc.setState(0xbb0c, 0x6573, 0xa090, 0xa410, 0xfa6e, 0x834d, 0x1, 0x0);
        gbc.writeMem(0xbb0c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x6573);
        EXPECT(gbc.pc(), 0xbb0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb0c), 0x48);
        // 48 03B2
        gbc.setState(0x7ac, 0x1c1, 0x8a60, 0x3fbb, 0x5337, 0xbd84, 0x1, 0x0);
        gbc.writeMem(0x7ac, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x1c1);
        EXPECT(gbc.pc(), 0x7ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03B3
        gbc.setState(0x81ec, 0xd3c8, 0x5980, 0xdda5, 0xde56, 0x485, 0x1, 0x1);
        gbc.writeMem(0x81ec, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xd3c8);
        EXPECT(gbc.pc(), 0x81ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81ec), 0x48);
        // 48 03B4
        gbc.setState(0xd85a, 0xe592, 0xc660, 0x8bec, 0xbf7d, 0xce2e, 0x0, 0x1);
        gbc.writeMem(0xd85a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xe592);
        EXPECT(gbc.pc(), 0xd85b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd85a), 0x48);
        // 48 03B5
        gbc.setState(0x9781, 0x2285, 0x1810, 0x980, 0x954b, 0x21ad, 0x0, 0x0);
        gbc.writeMem(0x9781, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x2285);
        EXPECT(gbc.pc(), 0x9782);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9781), 0x48);
        // 48 03B6
        gbc.setState(0x20bf, 0x7ba7, 0x8ca0, 0x2264, 0x153, 0xfba7, 0x0, 0x1);
        gbc.writeMem(0x20bf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x7ba7);
        EXPECT(gbc.pc(), 0x20c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03B7
        gbc.setState(0x1391, 0xa8f3, 0x1b0, 0x43c7, 0x8cde, 0xb24c, 0x0, 0x1);
        gbc.writeMem(0x1391, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xa8f3);
        EXPECT(gbc.pc(), 0x1392);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 03B8
        gbc.setState(0x5c40, 0xfc42, 0x37c0, 0x5fb9, 0xb4c0, 0xba20, 0x0, 0x1);
        gbc.writeMem(0x5c40, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xfc42);
        EXPECT(gbc.pc(), 0x5c41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 03B9
        gbc.setState(0x4f3, 0xfe9b, 0x5860, 0xb029, 0x6004, 0x277b, 0x0, 0x0);
        gbc.writeMem(0x4f3, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xfe9b);
        EXPECT(gbc.pc(), 0x4f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03BA
        gbc.setState(0x41f5, 0xd05e, 0xd940, 0x5c36, 0xe04b, 0xbd1a, 0x1, 0x0);
        gbc.writeMem(0x41f5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xd05e);
        EXPECT(gbc.pc(), 0x41f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 03BB
        gbc.setState(0x2e3a, 0x1187, 0x4ab0, 0x6181, 0xa40, 0xeeb9, 0x0, 0x0);
        gbc.writeMem(0x2e3a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x1187);
        EXPECT(gbc.pc(), 0x2e3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 03BC
        gbc.setState(0x7768, 0x7649, 0x45e0, 0x35, 0x9127, 0xb6c0, 0x0, 0x0);
        gbc.writeMem(0x7768, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x7649);
        EXPECT(gbc.pc(), 0x7769);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03BD
        gbc.setState(0x5e09, 0xa22c, 0x55a0, 0x1577, 0x1792, 0xfb1a, 0x1, 0x1);
        gbc.writeMem(0x5e09, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xa22c);
        EXPECT(gbc.pc(), 0x5e0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03BE
        gbc.setState(0x868a, 0xf691, 0xb6c0, 0xfee5, 0x179d, 0xe50e, 0x1, 0x1);
        gbc.writeMem(0x868a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xf691);
        EXPECT(gbc.pc(), 0x868b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x868a), 0x48);
        // 48 03BF
        gbc.setState(0x65b5, 0x6ada, 0x1030, 0x450f, 0x1b1a, 0xc788, 0x1, 0x1);
        gbc.writeMem(0x65b5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x6ada);
        EXPECT(gbc.pc(), 0x65b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 03C0
        gbc.setState(0x337c, 0x7d37, 0x8d0, 0x7367, 0x1896, 0x8bb5, 0x1, 0x0);
        gbc.writeMem(0x337c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x7d37);
        EXPECT(gbc.pc(), 0x337d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 03C1
        gbc.setState(0x5a7a, 0x2f33, 0x3be0, 0x5614, 0x5a64, 0x82d7, 0x0, 0x1);
        gbc.writeMem(0x5a7a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x2f33);
        EXPECT(gbc.pc(), 0x5a7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03C2
        gbc.setState(0xa49c, 0x222, 0xa360, 0xa040, 0x18ef, 0x74a6, 0x0, 0x0);
        gbc.writeMem(0xa49c, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x222);
        EXPECT(gbc.pc(), 0xa49d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa49c), 0x48);
        // 48 03C3
        gbc.setState(0xade4, 0xf413, 0x7550, 0x909, 0x7327, 0xf471, 0x0, 0x0);
        gbc.writeMem(0xade4, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xf413);
        EXPECT(gbc.pc(), 0xade5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xade4), 0x48);
        // 48 03C4
        gbc.setState(0x2b77, 0x2222, 0xd760, 0x9151, 0x41db, 0x3fd8, 0x0, 0x1);
        gbc.writeMem(0x2b77, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x2222);
        EXPECT(gbc.pc(), 0x2b78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03C5
        gbc.setState(0xe814, 0xfcc1, 0xa880, 0xaf71, 0x1e88, 0xa7, 0x0, 0x0);
        gbc.writeMem(0xe814, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xfcc1);
        EXPECT(gbc.pc(), 0xe815);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe814), 0x48);
        // 48 03C6
        gbc.setState(0x6d43, 0x54b4, 0xd550, 0xd499, 0xb0d2, 0xb63c, 0x1, 0x1);
        gbc.writeMem(0x6d43, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x54b4);
        EXPECT(gbc.pc(), 0x6d44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 03C7
        gbc.setState(0x77aa, 0x74c5, 0x6060, 0x93aa, 0x88cb, 0xb1d2, 0x0, 0x0);
        gbc.writeMem(0x77aa, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x74c5);
        EXPECT(gbc.pc(), 0x77ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03C8
        gbc.setState(0x4983, 0xe3d8, 0x3c70, 0xc007, 0xd24c, 0xa3d7, 0x0, 0x1);
        gbc.writeMem(0x4983, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xe3d8);
        EXPECT(gbc.pc(), 0x4984);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 03CA
        gbc.setState(0x3b99, 0xb023, 0x54f0, 0xa5e5, 0x2dfb, 0x7dc0, 0x0, 0x0);
        gbc.writeMem(0x3b99, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xb023);
        EXPECT(gbc.pc(), 0x3b9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 03CB
        gbc.setState(0xbcbf, 0xb6a7, 0x700, 0x8d99, 0x2e49, 0x1e5f, 0x1, 0x1);
        gbc.writeMem(0xbcbf, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xb6a7);
        EXPECT(gbc.pc(), 0xbcc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcbf), 0x48);
        // 48 03CC
        gbc.setState(0x94e, 0xcbcd, 0x1840, 0x20d0, 0x8d2b, 0x7418, 0x1, 0x0);
        gbc.writeMem(0x94e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xcbcd);
        EXPECT(gbc.pc(), 0x94f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 03CE
        gbc.setState(0xea22, 0xe952, 0xbcd0, 0xc692, 0x9fd, 0x5d5c, 0x1, 0x1);
        gbc.writeMem(0xea22, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xe952);
        EXPECT(gbc.pc(), 0xea23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea22), 0x48);
        // 48 03CF
        gbc.setState(0x2511, 0x61f8, 0x9800, 0x534b, 0xf18b, 0x4ca3, 0x0, 0x0);
        gbc.writeMem(0x2511, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x61f8);
        EXPECT(gbc.pc(), 0x2512);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 03D0
        gbc.setState(0x114, 0x3b6e, 0xdd00, 0xb0c6, 0x5f4c, 0x96f5, 0x1, 0x0);
        gbc.writeMem(0x114, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x3b6e);
        EXPECT(gbc.pc(), 0x115);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 03D1
        gbc.setState(0x8323, 0xc3a5, 0x9700, 0x2440, 0xb7af, 0xc125, 0x1, 0x0);
        gbc.writeMem(0x8323, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xc3a5);
        EXPECT(gbc.pc(), 0x8324);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8323), 0x48);
        // 48 03D2
        gbc.setState(0xda59, 0x6cfd, 0x7100, 0xa85f, 0xd6ec, 0x5540, 0x1, 0x0);
        gbc.writeMem(0xda59, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x6cfd);
        EXPECT(gbc.pc(), 0xda5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda59), 0x48);
        // 48 03D3
        gbc.setState(0xe44a, 0x13f, 0x73a0, 0x5243, 0xbb9b, 0x5cf0, 0x0, 0x0);
        gbc.writeMem(0xe44a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x13f);
        EXPECT(gbc.pc(), 0xe44b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe44a), 0x48);
        // 48 03D4
        gbc.setState(0x5166, 0xa926, 0x4d60, 0x4dd0, 0x24d4, 0xfed, 0x1, 0x1);
        gbc.writeMem(0x5166, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xa926);
        EXPECT(gbc.pc(), 0x5167);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03D5
        gbc.setState(0xc4ae, 0x96a1, 0x2220, 0xce8e, 0xa6bc, 0x36dc, 0x0, 0x1);
        gbc.writeMem(0xc4ae, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x96a1);
        EXPECT(gbc.pc(), 0xc4af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4ae), 0x48);
        // 48 03D6
        gbc.setState(0x52ec, 0xd715, 0x5460, 0xab3c, 0x950a, 0x1dd, 0x0, 0x0);
        gbc.writeMem(0x52ec, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xd715);
        EXPECT(gbc.pc(), 0x52ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03D8
        gbc.setState(0x6bbd, 0xe133, 0xb420, 0xe27e, 0xa78a, 0x7aae, 0x1, 0x1);
        gbc.writeMem(0x6bbd, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xe133);
        EXPECT(gbc.pc(), 0x6bbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03D9
        gbc.setState(0xc435, 0x86b9, 0xc4c0, 0xef50, 0xc673, 0xea88, 0x0, 0x0);
        gbc.writeMem(0xc435, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x86b9);
        EXPECT(gbc.pc(), 0xc436);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc435), 0x48);
        // 48 03DA
        gbc.setState(0x56df, 0xc31b, 0x5670, 0x9233, 0xd6b, 0x7b79, 0x1, 0x1);
        gbc.writeMem(0x56df, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xc31b);
        EXPECT(gbc.pc(), 0x56e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 48 03DB
        gbc.setState(0xdd74, 0x42a8, 0xf690, 0x981f, 0xcf3a, 0x9802, 0x0, 0x1);
        gbc.writeMem(0xdd74, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x42a8);
        EXPECT(gbc.pc(), 0xdd75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd74), 0x48);
        // 48 03DC
        gbc.setState(0xe935, 0x8f2d, 0xe160, 0xe494, 0xd466, 0xd339, 0x1, 0x0);
        gbc.writeMem(0xe935, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x8f2d);
        EXPECT(gbc.pc(), 0xe936);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe935), 0x48);
        // 48 03DD
        gbc.setState(0xb16b, 0x28e1, 0xa4a0, 0x77e6, 0x6822, 0x4363, 0x1, 0x0);
        gbc.writeMem(0xb16b, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x28e1);
        EXPECT(gbc.pc(), 0xb16c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb16b), 0x48);
        // 48 03DE
        gbc.setState(0xee8f, 0x3cd8, 0x1800, 0x39bf, 0x1eb8, 0x19ff, 0x0, 0x0);
        gbc.writeMem(0xee8f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x3cd8);
        EXPECT(gbc.pc(), 0xee90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee8f), 0x48);
        // 48 03DF
        gbc.setState(0x6354, 0xf8f3, 0xcce0, 0x6479, 0x2a50, 0x4ae2, 0x0, 0x0);
        gbc.writeMem(0x6354, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xf8f3);
        EXPECT(gbc.pc(), 0x6355);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03E0
        gbc.setState(0xe478, 0xf92c, 0xd520, 0xce25, 0x1464, 0x8a0e, 0x0, 0x0);
        gbc.writeMem(0xe478, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xf92c);
        EXPECT(gbc.pc(), 0xe479);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe478), 0x48);
        // 48 03E1
        gbc.setState(0x28d1, 0x4fe0, 0x3c40, 0xbb38, 0x8aa1, 0xeda1, 0x1, 0x1);
        gbc.writeMem(0x28d1, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x4fe0);
        EXPECT(gbc.pc(), 0x28d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 03E2
        gbc.setState(0x72ed, 0x5c8, 0xfb00, 0x642a, 0x39a, 0xbb69, 0x1, 0x0);
        gbc.writeMem(0x72ed, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x5c8);
        EXPECT(gbc.pc(), 0x72ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 48 03E3
        gbc.setState(0x6d3f, 0x653d, 0x9ba0, 0x627, 0xcb12, 0x7766, 0x1, 0x1);
        gbc.writeMem(0x6d3f, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x653d);
        EXPECT(gbc.pc(), 0x6d40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 48 03E4
        gbc.setState(0x65f0, 0xb18b, 0x5050, 0x1783, 0x12b1, 0x4364, 0x0, 0x1);
        gbc.writeMem(0x65f0, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xb18b);
        EXPECT(gbc.pc(), 0x65f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 03E5
        gbc.setState(0x304e, 0x824d, 0x7e10, 0x6888, 0xb01b, 0x4c25, 0x0, 0x0);
        gbc.writeMem(0x304e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x824d);
        EXPECT(gbc.pc(), 0x304f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 48 03E6
        gbc.setState(0xba1e, 0x978d, 0xa6f0, 0x4da9, 0xc859, 0x8439, 0x0, 0x1);
        gbc.writeMem(0xba1e, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x978d);
        EXPECT(gbc.pc(), 0xba1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba1e), 0x48);
        // 48 03E7
        gbc.setState(0xc9a5, 0x5d04, 0xc5f0, 0x4743, 0x1807, 0x683e, 0x0, 0x0);
        gbc.writeMem(0xc9a5, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x5d04);
        EXPECT(gbc.pc(), 0xc9a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9a5), 0x48);
    }
