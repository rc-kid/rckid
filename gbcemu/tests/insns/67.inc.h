    TEST(gbcemu, opcode_67) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 67 0000
        gbc.setState(0x3258, 0x817d, 0xcfb0, 0x8ec3, 0x2f51, 0xfd9e, 0x1, 0x0);
        gbc.writeMem(0x3258, { 0x67 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x817d, gbc.sp());
        EXPECT(0x3259, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0001
        gbc.setState(0xacf2, 0x1aa5, 0x8ff0, 0x88ad, 0x11fc, 0x8f91, 0x0, 0x1);
        gbc.writeMem(0xacf2, { 0x67 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x1aa5, gbc.sp());
        EXPECT(0xacf3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xacf2));
        // 67 0002
        gbc.setState(0xeba7, 0xd438, 0xb3f0, 0x4e8, 0xca66, 0xeeba, 0x0, 0x1);
        gbc.writeMem(0xeba7, { 0x67 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xd438, gbc.sp());
        EXPECT(0xeba8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xeba7));
        // 67 0003
        gbc.setState(0xee43, 0x181d, 0x67a0, 0x9a9f, 0x6e4d, 0xb3c5, 0x0, 0x0);
        gbc.writeMem(0xee43, { 0x67 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x181d, gbc.sp());
        EXPECT(0xee44, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xee43));
        // 67 0004
        gbc.setState(0x7c31, 0xba59, 0x94b0, 0xcb62, 0x98f3, 0x8b9e, 0x1, 0x1);
        gbc.writeMem(0x7c31, { 0x67 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xba59, gbc.sp());
        EXPECT(0x7c32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0005
        gbc.setState(0x2f96, 0x91fb, 0x4100, 0x2b7d, 0xae41, 0xb5c1, 0x0, 0x1);
        gbc.writeMem(0x2f96, { 0x67 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x91fb, gbc.sp());
        EXPECT(0x2f97, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0006
        gbc.setState(0x3455, 0x7375, 0x5e30, 0x203, 0xf9e2, 0x10f5, 0x1, 0x1);
        gbc.writeMem(0x3455, { 0x67 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x7375, gbc.sp());
        EXPECT(0x3456, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0007
        gbc.setState(0x936e, 0xa154, 0xcf80, 0x910b, 0xb689, 0x299d, 0x0, 0x0);
        gbc.writeMem(0x936e, { 0x67 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xa154, gbc.sp());
        EXPECT(0x936f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x936e));
        // 67 0008
        gbc.setState(0x731, 0x4c2, 0x3e40, 0x3a87, 0x7dbb, 0x5bf, 0x0, 0x0);
        gbc.writeMem(0x731, { 0x67 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x4c2, gbc.sp());
        EXPECT(0x732, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0009
        gbc.setState(0x6559, 0x43b1, 0x7490, 0xa53b, 0x984d, 0xabbd, 0x0, 0x1);
        gbc.writeMem(0x6559, { 0x67 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x43b1, gbc.sp());
        EXPECT(0x655a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 000A
        gbc.setState(0x29f0, 0x5e78, 0x1eb0, 0x278f, 0x4276, 0xbc1d, 0x0, 0x1);
        gbc.writeMem(0x29f0, { 0x67 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x5e78, gbc.sp());
        EXPECT(0x29f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 000B
        gbc.setState(0x4529, 0x62dd, 0xfe40, 0xcf02, 0x46f0, 0x2f8f, 0x0, 0x0);
        gbc.writeMem(0x4529, { 0x67 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x62dd, gbc.sp());
        EXPECT(0x452a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 000C
        gbc.setState(0xe430, 0xffdc, 0xdd30, 0x8696, 0x5f5, 0x2b4, 0x0, 0x1);
        gbc.writeMem(0xe430, { 0x67 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xffdc, gbc.sp());
        EXPECT(0xe431, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe430));
        // 67 000D
        gbc.setState(0xb6bd, 0xc3d0, 0xca60, 0xcbba, 0xf353, 0xc930, 0x0, 0x0);
        gbc.writeMem(0xb6bd, { 0x67 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xc3d0, gbc.sp());
        EXPECT(0xb6be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb6bd));
        // 67 000E
        gbc.setState(0x843b, 0x79ab, 0xaa90, 0xe83c, 0xc3de, 0x73bf, 0x1, 0x1);
        gbc.writeMem(0x843b, { 0x67 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x79ab, gbc.sp());
        EXPECT(0x843c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x843b));
        // 67 000F
        gbc.setState(0xef, 0x3c47, 0xc60, 0x18ee, 0xf5ae, 0xd219, 0x1, 0x0);
        gbc.writeMem(0xef, { 0x67 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x3c47, gbc.sp());
        EXPECT(0xf0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0010
        gbc.setState(0x20fb, 0xe6ae, 0xfd40, 0x9e1f, 0xabea, 0x43d8, 0x1, 0x0);
        gbc.writeMem(0x20fb, { 0x67 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xe6ae, gbc.sp());
        EXPECT(0x20fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0011
        gbc.setState(0x2789, 0x56f5, 0xc4b0, 0xa26d, 0x278c, 0x706c, 0x1, 0x1);
        gbc.writeMem(0x2789, { 0x67 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x56f5, gbc.sp());
        EXPECT(0x278a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0012
        gbc.setState(0xbdf, 0x2490, 0xe860, 0x7795, 0xc5d1, 0x69fb, 0x1, 0x0);
        gbc.writeMem(0xbdf, { 0x67 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x2490, gbc.sp());
        EXPECT(0xbe0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0013
        gbc.setState(0x4f29, 0xf2e0, 0xc7c0, 0x66c1, 0xd16d, 0xc3a2, 0x1, 0x0);
        gbc.writeMem(0x4f29, { 0x67 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xf2e0, gbc.sp());
        EXPECT(0x4f2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0014
        gbc.setState(0xabcf, 0xa95d, 0xe050, 0x8534, 0x301c, 0x2c5d, 0x1, 0x0);
        gbc.writeMem(0xabcf, { 0x67 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xa95d, gbc.sp());
        EXPECT(0xabd0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xabcf));
        // 67 0015
        gbc.setState(0x935d, 0x78be, 0xe250, 0xb8a2, 0xd6d2, 0xae38, 0x1, 0x0);
        gbc.writeMem(0x935d, { 0x67 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x78be, gbc.sp());
        EXPECT(0x935e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x935d));
        // 67 0016
        gbc.setState(0xb2c0, 0x519d, 0xb5e0, 0xe6d3, 0xa15c, 0xc554, 0x1, 0x1);
        gbc.writeMem(0xb2c0, { 0x67 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x519d, gbc.sp());
        EXPECT(0xb2c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb2c0));
        // 67 0018
        gbc.setState(0xca15, 0x5a1c, 0x7260, 0x36a8, 0xcdc8, 0x36e7, 0x0, 0x1);
        gbc.writeMem(0xca15, { 0x67 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x5a1c, gbc.sp());
        EXPECT(0xca16, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xca15));
        // 67 0019
        gbc.setState(0xeb54, 0x9339, 0x2e00, 0x26, 0x4e96, 0x5997, 0x1, 0x1);
        gbc.writeMem(0xeb54, { 0x67 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x9339, gbc.sp());
        EXPECT(0xeb55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xeb54));
        // 67 001A
        gbc.setState(0x5c75, 0x378b, 0xc2a0, 0x497b, 0xb440, 0x1740, 0x0, 0x1);
        gbc.writeMem(0x5c75, { 0x67 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x378b, gbc.sp());
        EXPECT(0x5c76, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 001C
        gbc.setState(0xab0a, 0x7a2d, 0xfe10, 0xa67a, 0x20f6, 0xf392, 0x1, 0x0);
        gbc.writeMem(0xab0a, { 0x67 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x7a2d, gbc.sp());
        EXPECT(0xab0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xab0a));
        // 67 001D
        gbc.setState(0xb64d, 0x71f4, 0x6820, 0x59d2, 0xbd17, 0xbfcb, 0x0, 0x1);
        gbc.writeMem(0xb64d, { 0x67 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x71f4, gbc.sp());
        EXPECT(0xb64e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb64d));
        // 67 001E
        gbc.setState(0x7b93, 0xcdaf, 0xa340, 0xf69, 0xfca0, 0xbc60, 0x1, 0x0);
        gbc.writeMem(0x7b93, { 0x67 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xcdaf, gbc.sp());
        EXPECT(0x7b94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 001F
        gbc.setState(0x1e75, 0xce73, 0x830, 0x88b5, 0x5003, 0xa700, 0x1, 0x0);
        gbc.writeMem(0x1e75, { 0x67 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xce73, gbc.sp());
        EXPECT(0x1e76, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0020
        gbc.setState(0xe48d, 0x54ee, 0x1ec0, 0x7b29, 0x882a, 0xedbe, 0x0, 0x1);
        gbc.writeMem(0xe48d, { 0x67 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x54ee, gbc.sp());
        EXPECT(0xe48e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe48d));
        // 67 0021
        gbc.setState(0xcdd2, 0x428d, 0xc0a0, 0x8c5e, 0xec78, 0xed81, 0x1, 0x0);
        gbc.writeMem(0xcdd2, { 0x67 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x428d, gbc.sp());
        EXPECT(0xcdd3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcdd2));
        // 67 0022
        gbc.setState(0x7964, 0x3335, 0xdbc0, 0xb3d, 0x66ea, 0x4cb0, 0x0, 0x1);
        gbc.writeMem(0x7964, { 0x67 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x3335, gbc.sp());
        EXPECT(0x7965, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0023
        gbc.setState(0x4cb2, 0x9791, 0xbc30, 0x21ac, 0x9a0d, 0x3741, 0x1, 0x1);
        gbc.writeMem(0x4cb2, { 0x67 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x9791, gbc.sp());
        EXPECT(0x4cb3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0024
        gbc.setState(0xaa78, 0x4e6c, 0x1140, 0x6704, 0x695c, 0xa7ac, 0x1, 0x0);
        gbc.writeMem(0xaa78, { 0x67 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x4e6c, gbc.sp());
        EXPECT(0xaa79, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xaa78));
        // 67 0025
        gbc.setState(0x5692, 0xe565, 0x6110, 0x84c3, 0x9b86, 0xd408, 0x0, 0x0);
        gbc.writeMem(0x5692, { 0x67 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xe565, gbc.sp());
        EXPECT(0x5693, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0026
        gbc.setState(0x4c22, 0xa7cb, 0x76d0, 0xba9d, 0x1f51, 0x519e, 0x1, 0x1);
        gbc.writeMem(0x4c22, { 0x67 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xa7cb, gbc.sp());
        EXPECT(0x4c23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0027
        gbc.setState(0x1579, 0xb06e, 0x4760, 0xb295, 0xa381, 0xb3f, 0x0, 0x0);
        gbc.writeMem(0x1579, { 0x67 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xb06e, gbc.sp());
        EXPECT(0x157a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0028
        gbc.setState(0xd515, 0x31a2, 0xa00, 0xe209, 0xb406, 0xc6db, 0x1, 0x1);
        gbc.writeMem(0xd515, { 0x67 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x31a2, gbc.sp());
        EXPECT(0xd516, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd515));
        // 67 0029
        gbc.setState(0x5998, 0xb14e, 0x3470, 0xbb5e, 0x2777, 0x63f2, 0x1, 0x1);
        gbc.writeMem(0x5998, { 0x67 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xb14e, gbc.sp());
        EXPECT(0x5999, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 002A
        gbc.setState(0x585c, 0xb604, 0x6550, 0xaece, 0xe6b1, 0x75bb, 0x1, 0x0);
        gbc.writeMem(0x585c, { 0x67 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xb604, gbc.sp());
        EXPECT(0x585d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 002B
        gbc.setState(0xb68f, 0x5d23, 0xb810, 0x74b8, 0xc1d0, 0xa07, 0x0, 0x0);
        gbc.writeMem(0xb68f, { 0x67 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x5d23, gbc.sp());
        EXPECT(0xb690, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb68f));
        // 67 002C
        gbc.setState(0xcb86, 0x5296, 0x6c40, 0x6bed, 0xfd17, 0xa177, 0x1, 0x1);
        gbc.writeMem(0xcb86, { 0x67 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x5296, gbc.sp());
        EXPECT(0xcb87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcb86));
        // 67 002D
        gbc.setState(0x39d6, 0xcdd, 0x7e20, 0xadb6, 0x2be3, 0x182d, 0x1, 0x0);
        gbc.writeMem(0x39d6, { 0x67 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xcdd, gbc.sp());
        EXPECT(0x39d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 002E
        gbc.setState(0x5cdd, 0x1558, 0xc110, 0x1658, 0x9675, 0xf58a, 0x1, 0x1);
        gbc.writeMem(0x5cdd, { 0x67 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x1558, gbc.sp());
        EXPECT(0x5cde, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0031
        gbc.setState(0x797e, 0xec33, 0x3810, 0x1eae, 0x3d3a, 0x43be, 0x0, 0x0);
        gbc.writeMem(0x797e, { 0x67 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xec33, gbc.sp());
        EXPECT(0x797f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0033
        gbc.setState(0x32b5, 0xad76, 0x8460, 0x7b3b, 0x75dc, 0xc49e, 0x1, 0x1);
        gbc.writeMem(0x32b5, { 0x67 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xad76, gbc.sp());
        EXPECT(0x32b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0034
        gbc.setState(0x6667, 0x557b, 0xe750, 0x5b69, 0x26bd, 0x663, 0x0, 0x0);
        gbc.writeMem(0x6667, { 0x67 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x557b, gbc.sp());
        EXPECT(0x6668, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0035
        gbc.setState(0x2d50, 0x7eb8, 0xde50, 0xc94d, 0x6435, 0x4054, 0x0, 0x0);
        gbc.writeMem(0x2d50, { 0x67 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x7eb8, gbc.sp());
        EXPECT(0x2d51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0036
        gbc.setState(0xdc55, 0xe42a, 0x9880, 0x26df, 0x10dc, 0x251e, 0x1, 0x1);
        gbc.writeMem(0xdc55, { 0x67 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xe42a, gbc.sp());
        EXPECT(0xdc56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdc55));
        // 67 0037
        gbc.setState(0x340, 0xde6c, 0x660, 0x8fe6, 0x6353, 0x2d2d, 0x0, 0x1);
        gbc.writeMem(0x340, { 0x67 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xde6c, gbc.sp());
        EXPECT(0x341, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0039
        gbc.setState(0x4da, 0x1fc, 0x65b0, 0x2311, 0xc81b, 0xd0ac, 0x0, 0x1);
        gbc.writeMem(0x4da, { 0x67 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x1fc, gbc.sp());
        EXPECT(0x4db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 003A
        gbc.setState(0xd4b7, 0x26bf, 0xa9d0, 0x1ba3, 0x33b6, 0x7e5c, 0x1, 0x0);
        gbc.writeMem(0xd4b7, { 0x67 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x26bf, gbc.sp());
        EXPECT(0xd4b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd4b7));
        // 67 003B
        gbc.setState(0x4807, 0xaaa9, 0x2530, 0xd8a6, 0x97c9, 0x55d, 0x1, 0x1);
        gbc.writeMem(0x4807, { 0x67 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xaaa9, gbc.sp());
        EXPECT(0x4808, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 003C
        gbc.setState(0x845e, 0xd928, 0x14e0, 0xf7dd, 0x3dfe, 0xc4d0, 0x1, 0x0);
        gbc.writeMem(0x845e, { 0x67 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xd928, gbc.sp());
        EXPECT(0x845f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x845e));
        // 67 003D
        gbc.setState(0x4919, 0x9132, 0x1730, 0x6d3d, 0x2d67, 0xac96, 0x0, 0x0);
        gbc.writeMem(0x4919, { 0x67 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x9132, gbc.sp());
        EXPECT(0x491a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 003E
        gbc.setState(0xdf2a, 0xdea5, 0xb920, 0x41d2, 0x6d23, 0xe177, 0x0, 0x0);
        gbc.writeMem(0xdf2a, { 0x67 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xdea5, gbc.sp());
        EXPECT(0xdf2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdf2a));
        // 67 003F
        gbc.setState(0xc957, 0xabcb, 0x95b0, 0x8f8f, 0x5e92, 0xc2c8, 0x0, 0x1);
        gbc.writeMem(0xc957, { 0x67 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xabcb, gbc.sp());
        EXPECT(0xc958, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc957));
        // 67 0040
        gbc.setState(0x5bf9, 0x123b, 0x4fc0, 0x2b9, 0x4754, 0x5d45, 0x1, 0x0);
        gbc.writeMem(0x5bf9, { 0x67 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x123b, gbc.sp());
        EXPECT(0x5bfa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0041
        gbc.setState(0x163, 0xc2fe, 0x4dd0, 0x16, 0xc438, 0x3159, 0x1, 0x0);
        gbc.writeMem(0x163, { 0x67 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xc2fe, gbc.sp());
        EXPECT(0x164, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0042
        gbc.setState(0x8ae1, 0xc7e1, 0x90d0, 0xd3bf, 0xcce9, 0xdc8c, 0x0, 0x1);
        gbc.writeMem(0x8ae1, { 0x67 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xc7e1, gbc.sp());
        EXPECT(0x8ae2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8ae1));
        // 67 0044
        gbc.setState(0x8752, 0xea2b, 0xa920, 0x16ba, 0xf2bc, 0x2eb1, 0x0, 0x1);
        gbc.writeMem(0x8752, { 0x67 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xea2b, gbc.sp());
        EXPECT(0x8753, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8752));
        // 67 0045
        gbc.setState(0x1715, 0x7e16, 0x5a60, 0xe8e4, 0x3e02, 0xbc71, 0x0, 0x1);
        gbc.writeMem(0x1715, { 0x67 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x7e16, gbc.sp());
        EXPECT(0x1716, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0046
        gbc.setState(0x251a, 0xd41, 0xeda0, 0x287d, 0x404f, 0x1bbf, 0x1, 0x1);
        gbc.writeMem(0x251a, { 0x67 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xd41, gbc.sp());
        EXPECT(0x251b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0047
        gbc.setState(0xa405, 0x9c3a, 0x2900, 0xe1ba, 0x9225, 0x7d55, 0x1, 0x0);
        gbc.writeMem(0xa405, { 0x67 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x9c3a, gbc.sp());
        EXPECT(0xa406, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa405));
        // 67 0048
        gbc.setState(0xcf31, 0x295f, 0x6900, 0x871d, 0x8bf2, 0x2c65, 0x1, 0x1);
        gbc.writeMem(0xcf31, { 0x67 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x295f, gbc.sp());
        EXPECT(0xcf32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcf31));
        // 67 0049
        gbc.setState(0x75fd, 0x210d, 0xd010, 0x4fdf, 0x6a7c, 0x1714, 0x1, 0x1);
        gbc.writeMem(0x75fd, { 0x67 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x210d, gbc.sp());
        EXPECT(0x75fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 004A
        gbc.setState(0x3f9f, 0xfaf9, 0xb450, 0xb208, 0xe468, 0x631c, 0x0, 0x0);
        gbc.writeMem(0x3f9f, { 0x67 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xfaf9, gbc.sp());
        EXPECT(0x3fa0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 004B
        gbc.setState(0x8d11, 0xbc74, 0xc370, 0xc278, 0x9113, 0x6a9c, 0x1, 0x0);
        gbc.writeMem(0x8d11, { 0x67 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xbc74, gbc.sp());
        EXPECT(0x8d12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8d11));
        // 67 004C
        gbc.setState(0x34, 0x795, 0x1eb0, 0xe37a, 0xaaec, 0xcc2d, 0x0, 0x0);
        gbc.writeMem(0x34, { 0x67 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x795, gbc.sp());
        EXPECT(0x35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 004D
        gbc.setState(0xa25f, 0xa9a8, 0x6b70, 0x76d8, 0xb581, 0xa20b, 0x0, 0x0);
        gbc.writeMem(0xa25f, { 0x67 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xa9a8, gbc.sp());
        EXPECT(0xa260, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa25f));
        // 67 004F
        gbc.setState(0x71a5, 0x36b3, 0x7d60, 0xaa25, 0xb67a, 0x7bc9, 0x1, 0x0);
        gbc.writeMem(0x71a5, { 0x67 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x36b3, gbc.sp());
        EXPECT(0x71a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0050
        gbc.setState(0x795e, 0xb0a9, 0xf650, 0xee06, 0x8191, 0x5b70, 0x1, 0x1);
        gbc.writeMem(0x795e, { 0x67 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xb0a9, gbc.sp());
        EXPECT(0x795f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0051
        gbc.setState(0x61c1, 0x7a0e, 0xead0, 0x517a, 0x70af, 0x9ab5, 0x1, 0x0);
        gbc.writeMem(0x61c1, { 0x67 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x7a0e, gbc.sp());
        EXPECT(0x61c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0052
        gbc.setState(0x45b3, 0xeecc, 0x9d40, 0x7787, 0xc9c2, 0x925c, 0x1, 0x1);
        gbc.writeMem(0x45b3, { 0x67 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xeecc, gbc.sp());
        EXPECT(0x45b4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0053
        gbc.setState(0x36bf, 0xaff7, 0x20e0, 0x15f5, 0xf15b, 0x1145, 0x1, 0x0);
        gbc.writeMem(0x36bf, { 0x67 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xaff7, gbc.sp());
        EXPECT(0x36c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0054
        gbc.setState(0xe799, 0xef45, 0x94b0, 0xc32b, 0x206f, 0x5d5e, 0x0, 0x0);
        gbc.writeMem(0xe799, { 0x67 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xef45, gbc.sp());
        EXPECT(0xe79a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe799));
        // 67 0055
        gbc.setState(0xe968, 0x49dd, 0x2060, 0xc09b, 0xd7a1, 0x87d4, 0x1, 0x0);
        gbc.writeMem(0xe968, { 0x67 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x49dd, gbc.sp());
        EXPECT(0xe969, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe968));
        // 67 0056
        gbc.setState(0xaa07, 0x69f8, 0x1fd0, 0x2286, 0x2a63, 0xeb6d, 0x1, 0x1);
        gbc.writeMem(0xaa07, { 0x67 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x69f8, gbc.sp());
        EXPECT(0xaa08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xaa07));
        // 67 0057
        gbc.setState(0xd676, 0x2517, 0x1d80, 0xe7ce, 0xef44, 0xbff, 0x0, 0x1);
        gbc.writeMem(0xd676, { 0x67 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x2517, gbc.sp());
        EXPECT(0xd677, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd676));
        // 67 0058
        gbc.setState(0xce16, 0x416d, 0xdfc0, 0xfe4e, 0x5cc4, 0xa252, 0x0, 0x0);
        gbc.writeMem(0xce16, { 0x67 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x416d, gbc.sp());
        EXPECT(0xce17, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xce16));
        // 67 0059
        gbc.setState(0x7375, 0x66f6, 0x20a0, 0x338a, 0x7c59, 0x7da, 0x1, 0x1);
        gbc.writeMem(0x7375, { 0x67 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x66f6, gbc.sp());
        EXPECT(0x7376, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 005A
        gbc.setState(0x3186, 0xe0d4, 0x5e20, 0x8c82, 0x9a73, 0xe4a4, 0x0, 0x1);
        gbc.writeMem(0x3186, { 0x67 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xe0d4, gbc.sp());
        EXPECT(0x3187, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 005B
        gbc.setState(0xdb13, 0xa05a, 0xf170, 0x8660, 0x87b1, 0xc771, 0x0, 0x0);
        gbc.writeMem(0xdb13, { 0x67 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xa05a, gbc.sp());
        EXPECT(0xdb14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdb13));
        // 67 005C
        gbc.setState(0x2373, 0x6194, 0x6b70, 0xd55c, 0xd5d, 0x2488, 0x1, 0x1);
        gbc.writeMem(0x2373, { 0x67 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x6194, gbc.sp());
        EXPECT(0x2374, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 005D
        gbc.setState(0x447a, 0xe51f, 0x61d0, 0x7f54, 0xea18, 0xb609, 0x0, 0x0);
        gbc.writeMem(0x447a, { 0x67 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xe51f, gbc.sp());
        EXPECT(0x447b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 005E
        gbc.setState(0xf8a, 0xfd3e, 0xbd10, 0x5134, 0x706d, 0x63cd, 0x1, 0x0);
        gbc.writeMem(0xf8a, { 0x67 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xfd3e, gbc.sp());
        EXPECT(0xf8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 005F
        gbc.setState(0x4e1, 0x9cf2, 0x2c90, 0x3d58, 0x6a5f, 0x2a4d, 0x0, 0x0);
        gbc.writeMem(0x4e1, { 0x67 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x9cf2, gbc.sp());
        EXPECT(0x4e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0060
        gbc.setState(0x91e3, 0x7e1, 0x89f0, 0xf2a6, 0xfe25, 0xdf09, 0x0, 0x0);
        gbc.writeMem(0x91e3, { 0x67 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x7e1, gbc.sp());
        EXPECT(0x91e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x91e3));
        // 67 0061
        gbc.setState(0x6df9, 0x1421, 0xd2b0, 0xddc3, 0xd039, 0xeee1, 0x1, 0x1);
        gbc.writeMem(0x6df9, { 0x67 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x1421, gbc.sp());
        EXPECT(0x6dfa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0063
        gbc.setState(0x911a, 0x3b28, 0xc680, 0x861f, 0xd716, 0xacc3, 0x0, 0x1);
        gbc.writeMem(0x911a, { 0x67 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x3b28, gbc.sp());
        EXPECT(0x911b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x911a));
        // 67 0064
        gbc.setState(0x278c, 0x3cc4, 0x2010, 0x3f55, 0x1c38, 0xec37, 0x1, 0x0);
        gbc.writeMem(0x278c, { 0x67 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x3cc4, gbc.sp());
        EXPECT(0x278d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0065
        gbc.setState(0x31fa, 0xde3f, 0xbf70, 0x4a77, 0x7256, 0x5871, 0x0, 0x1);
        gbc.writeMem(0x31fa, { 0x67 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xde3f, gbc.sp());
        EXPECT(0x31fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0066
        gbc.setState(0x9257, 0x5052, 0x20e0, 0x5cd5, 0xe011, 0xc4a6, 0x0, 0x1);
        gbc.writeMem(0x9257, { 0x67 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x5052, gbc.sp());
        EXPECT(0x9258, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9257));
        // 67 0067
        gbc.setState(0xbe84, 0xba82, 0xb640, 0xf268, 0x57a7, 0x882f, 0x0, 0x0);
        gbc.writeMem(0xbe84, { 0x67 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xba82, gbc.sp());
        EXPECT(0xbe85, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbe84));
        // 67 0068
        gbc.setState(0x359a, 0xc180, 0x9e60, 0xb74a, 0xb393, 0xb8e7, 0x0, 0x0);
        gbc.writeMem(0x359a, { 0x67 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xc180, gbc.sp());
        EXPECT(0x359b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0069
        gbc.setState(0x29fe, 0x4267, 0x5a40, 0x9683, 0x4396, 0x3517, 0x0, 0x0);
        gbc.writeMem(0x29fe, { 0x67 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x4267, gbc.sp());
        EXPECT(0x29ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 006A
        gbc.setState(0xb0c6, 0xb80d, 0xec00, 0x4403, 0x23fc, 0xabf6, 0x1, 0x1);
        gbc.writeMem(0xb0c6, { 0x67 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xb80d, gbc.sp());
        EXPECT(0xb0c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb0c6));
        // 67 006B
        gbc.setState(0x15b4, 0x7f75, 0xe6c0, 0xca76, 0x743, 0x2e2e, 0x0, 0x0);
        gbc.writeMem(0x15b4, { 0x67 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x7f75, gbc.sp());
        EXPECT(0x15b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 006C
        gbc.setState(0x7a6a, 0xe792, 0x7d10, 0x497c, 0x1961, 0xbe52, 0x1, 0x0);
        gbc.writeMem(0x7a6a, { 0x67 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xe792, gbc.sp());
        EXPECT(0x7a6b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 006D
        gbc.setState(0x6221, 0xae39, 0x8d0, 0x159f, 0x9245, 0x3871, 0x1, 0x0);
        gbc.writeMem(0x6221, { 0x67 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xae39, gbc.sp());
        EXPECT(0x6222, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 006E
        gbc.setState(0x5076, 0xd5fb, 0xe410, 0xb359, 0x2b00, 0xe9a9, 0x0, 0x0);
        gbc.writeMem(0x5076, { 0x67 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xd5fb, gbc.sp());
        EXPECT(0x5077, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 006F
        gbc.setState(0xa78d, 0x2bbc, 0xaf10, 0x4954, 0xe288, 0x8527, 0x0, 0x1);
        gbc.writeMem(0xa78d, { 0x67 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x2bbc, gbc.sp());
        EXPECT(0xa78e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa78d));
        // 67 0070
        gbc.setState(0xc1bb, 0xb3f, 0xe110, 0xed88, 0x3d0d, 0xa710, 0x1, 0x1);
        gbc.writeMem(0xc1bb, { 0x67 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xb3f, gbc.sp());
        EXPECT(0xc1bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc1bb));
        // 67 0071
        gbc.setState(0xc65f, 0xafcf, 0xde00, 0xbc24, 0x6803, 0x8f53, 0x0, 0x0);
        gbc.writeMem(0xc65f, { 0x67 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xafcf, gbc.sp());
        EXPECT(0xc660, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc65f));
        // 67 0072
        gbc.setState(0x5564, 0x7210, 0x700, 0xf552, 0xfe5d, 0x3ae4, 0x1, 0x1);
        gbc.writeMem(0x5564, { 0x67 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x7210, gbc.sp());
        EXPECT(0x5565, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0073
        gbc.setState(0x81f9, 0x2683, 0x1470, 0xe735, 0xe0a3, 0x22fa, 0x0, 0x0);
        gbc.writeMem(0x81f9, { 0x67 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x2683, gbc.sp());
        EXPECT(0x81fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x81f9));
        // 67 0074
        gbc.setState(0x719a, 0x1022, 0x5180, 0x5556, 0x296e, 0x38da, 0x1, 0x0);
        gbc.writeMem(0x719a, { 0x67 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x1022, gbc.sp());
        EXPECT(0x719b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0075
        gbc.setState(0xbf39, 0x8650, 0x3bf0, 0x98ea, 0x1522, 0x123f, 0x0, 0x0);
        gbc.writeMem(0xbf39, { 0x67 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x8650, gbc.sp());
        EXPECT(0xbf3a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbf39));
        // 67 0076
        gbc.setState(0x97f5, 0xdca7, 0xea60, 0xbfb0, 0xba3f, 0xfba1, 0x1, 0x0);
        gbc.writeMem(0x97f5, { 0x67 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xdca7, gbc.sp());
        EXPECT(0x97f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x97f5));
        // 67 0077
        gbc.setState(0xc805, 0x6126, 0xb670, 0x8715, 0x77a9, 0xf006, 0x1, 0x0);
        gbc.writeMem(0xc805, { 0x67 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x6126, gbc.sp());
        EXPECT(0xc806, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc805));
        // 67 0078
        gbc.setState(0xe016, 0xf50f, 0x1410, 0x42e8, 0x99a, 0x25ba, 0x1, 0x0);
        gbc.writeMem(0xe016, { 0x67 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xf50f, gbc.sp());
        EXPECT(0xe017, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe016));
        // 67 0079
        gbc.setState(0xaaeb, 0xf348, 0x7d20, 0xed66, 0x718c, 0x3944, 0x1, 0x1);
        gbc.writeMem(0xaaeb, { 0x67 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xf348, gbc.sp());
        EXPECT(0xaaec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xaaeb));
        // 67 007A
        gbc.setState(0x682d, 0x1afc, 0xfb0, 0x4afd, 0xdcc1, 0xd23, 0x1, 0x0);
        gbc.writeMem(0x682d, { 0x67 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x1afc, gbc.sp());
        EXPECT(0x682e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 007B
        gbc.setState(0xa37e, 0xfe80, 0xbed0, 0xb2b7, 0x754c, 0xde79, 0x1, 0x0);
        gbc.writeMem(0xa37e, { 0x67 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xfe80, gbc.sp());
        EXPECT(0xa37f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa37e));
        // 67 007C
        gbc.setState(0xad2a, 0xa194, 0xac10, 0x4327, 0x7c60, 0xfd27, 0x0, 0x0);
        gbc.writeMem(0xad2a, { 0x67 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xa194, gbc.sp());
        EXPECT(0xad2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xad2a));
        // 67 007D
        gbc.setState(0x2099, 0x25a6, 0xacd0, 0xd1e0, 0x8315, 0xbdc, 0x0, 0x1);
        gbc.writeMem(0x2099, { 0x67 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x25a6, gbc.sp());
        EXPECT(0x209a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 007E
        gbc.setState(0xc3ef, 0xad9d, 0x3010, 0xd2b8, 0x4052, 0xba0c, 0x0, 0x0);
        gbc.writeMem(0xc3ef, { 0x67 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xad9d, gbc.sp());
        EXPECT(0xc3f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc3ef));
        // 67 007F
        gbc.setState(0x9a6c, 0xa51, 0x82a0, 0x5a5b, 0x808b, 0xee1a, 0x0, 0x0);
        gbc.writeMem(0x9a6c, { 0x67 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xa51, gbc.sp());
        EXPECT(0x9a6d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9a6c));
        // 67 0080
        gbc.setState(0x1042, 0x29f0, 0xc090, 0xc938, 0x54b2, 0xaa6c, 0x0, 0x1);
        gbc.writeMem(0x1042, { 0x67 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x29f0, gbc.sp());
        EXPECT(0x1043, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0081
        gbc.setState(0x2a15, 0xa719, 0x910, 0xb57f, 0x7dd9, 0xa8b1, 0x0, 0x0);
        gbc.writeMem(0x2a15, { 0x67 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xa719, gbc.sp());
        EXPECT(0x2a16, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0082
        gbc.setState(0x47a8, 0x3964, 0xc460, 0x5567, 0x9560, 0x4691, 0x1, 0x1);
        gbc.writeMem(0x47a8, { 0x67 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x3964, gbc.sp());
        EXPECT(0x47a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0083
        gbc.setState(0xf93, 0xd222, 0x1eb0, 0xea7f, 0xec63, 0x4b11, 0x1, 0x1);
        gbc.writeMem(0xf93, { 0x67 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xd222, gbc.sp());
        EXPECT(0xf94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0084
        gbc.setState(0x9d8b, 0xeb2a, 0x3d90, 0xd4b6, 0xbb57, 0x7d5e, 0x1, 0x1);
        gbc.writeMem(0x9d8b, { 0x67 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xeb2a, gbc.sp());
        EXPECT(0x9d8c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9d8b));
        // 67 0085
        gbc.setState(0x8fc0, 0xd971, 0xc60, 0x7b8, 0x1e56, 0xb9b6, 0x1, 0x0);
        gbc.writeMem(0x8fc0, { 0x67 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xd971, gbc.sp());
        EXPECT(0x8fc1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8fc0));
        // 67 0086
        gbc.setState(0x579b, 0xf8b3, 0xef60, 0xb133, 0x109f, 0x9194, 0x1, 0x1);
        gbc.writeMem(0x579b, { 0x67 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xf8b3, gbc.sp());
        EXPECT(0x579c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0087
        gbc.setState(0xa832, 0x3359, 0x7a20, 0x2c52, 0x8d14, 0x1f7e, 0x1, 0x0);
        gbc.writeMem(0xa832, { 0x67 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x3359, gbc.sp());
        EXPECT(0xa833, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa832));
        // 67 0088
        gbc.setState(0x519c, 0x4cff, 0x77d0, 0xb330, 0x60e0, 0xfa55, 0x0, 0x0);
        gbc.writeMem(0x519c, { 0x67 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x4cff, gbc.sp());
        EXPECT(0x519d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0089
        gbc.setState(0xbc8d, 0x6627, 0x7ae0, 0x906c, 0x9c9d, 0x46d, 0x1, 0x0);
        gbc.writeMem(0xbc8d, { 0x67 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x6627, gbc.sp());
        EXPECT(0xbc8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbc8d));
        // 67 008A
        gbc.setState(0x125c, 0x27e7, 0x4b70, 0x7cac, 0xec4f, 0xa3eb, 0x1, 0x1);
        gbc.writeMem(0x125c, { 0x67 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x27e7, gbc.sp());
        EXPECT(0x125d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 008B
        gbc.setState(0x6e4c, 0x4748, 0xd200, 0xafc7, 0xd02a, 0xe20a, 0x0, 0x1);
        gbc.writeMem(0x6e4c, { 0x67 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x4748, gbc.sp());
        EXPECT(0x6e4d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 008C
        gbc.setState(0x815b, 0x30c5, 0xcec0, 0xed5a, 0x692a, 0x8c19, 0x1, 0x0);
        gbc.writeMem(0x815b, { 0x67 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x30c5, gbc.sp());
        EXPECT(0x815c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x815b));
        // 67 008D
        gbc.setState(0xc4d2, 0x2b81, 0x9410, 0x4d14, 0xc021, 0x93f0, 0x1, 0x0);
        gbc.writeMem(0xc4d2, { 0x67 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x2b81, gbc.sp());
        EXPECT(0xc4d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc4d2));
        // 67 008E
        gbc.setState(0x9e0e, 0x62e3, 0xe620, 0x84b0, 0xa749, 0x1e42, 0x0, 0x1);
        gbc.writeMem(0x9e0e, { 0x67 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x62e3, gbc.sp());
        EXPECT(0x9e0f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9e0e));
        // 67 008F
        gbc.setState(0x1dc, 0xd225, 0xac50, 0xd874, 0x7028, 0x72e2, 0x1, 0x0);
        gbc.writeMem(0x1dc, { 0x67 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xd225, gbc.sp());
        EXPECT(0x1dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0090
        gbc.setState(0xd818, 0x9e4e, 0x4a0, 0x3bd8, 0x2a56, 0x5fa6, 0x0, 0x0);
        gbc.writeMem(0xd818, { 0x67 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x9e4e, gbc.sp());
        EXPECT(0xd819, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd818));
        // 67 0091
        gbc.setState(0x6a70, 0xe954, 0x6ec0, 0x9c10, 0x4796, 0xc44b, 0x1, 0x1);
        gbc.writeMem(0x6a70, { 0x67 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xe954, gbc.sp());
        EXPECT(0x6a71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0092
        gbc.setState(0xa32, 0x534, 0xec30, 0xeca, 0xc5b3, 0xefbe, 0x0, 0x0);
        gbc.writeMem(0xa32, { 0x67 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x534, gbc.sp());
        EXPECT(0xa33, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0093
        gbc.setState(0x1750, 0xc216, 0xdd30, 0x1486, 0xe4a0, 0x26e8, 0x1, 0x1);
        gbc.writeMem(0x1750, { 0x67 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xc216, gbc.sp());
        EXPECT(0x1751, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0094
        gbc.setState(0xa92, 0xe3f4, 0x970, 0x3032, 0x3ad, 0x5e7b, 0x0, 0x0);
        gbc.writeMem(0xa92, { 0x67 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xe3f4, gbc.sp());
        EXPECT(0xa93, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0095
        gbc.setState(0x5422, 0xf9c3, 0xd4c0, 0x84a1, 0x8590, 0xb4e1, 0x0, 0x1);
        gbc.writeMem(0x5422, { 0x67 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xf9c3, gbc.sp());
        EXPECT(0x5423, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0096
        gbc.setState(0x159e, 0x9562, 0x4b20, 0xb1f3, 0xe8a9, 0x5fee, 0x1, 0x0);
        gbc.writeMem(0x159e, { 0x67 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x9562, gbc.sp());
        EXPECT(0x159f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0097
        gbc.setState(0x881b, 0xd4c2, 0xaba0, 0xd12e, 0xb797, 0xbc3c, 0x0, 0x0);
        gbc.writeMem(0x881b, { 0x67 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xd4c2, gbc.sp());
        EXPECT(0x881c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x881b));
        // 67 0098
        gbc.setState(0xe4a8, 0x9a92, 0x3d10, 0x9104, 0xe0ab, 0xe2f1, 0x0, 0x1);
        gbc.writeMem(0xe4a8, { 0x67 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x9a92, gbc.sp());
        EXPECT(0xe4a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe4a8));
        // 67 0099
        gbc.setState(0xf31, 0xfe6c, 0xaa80, 0xe4b1, 0x493a, 0x888a, 0x0, 0x1);
        gbc.writeMem(0xf31, { 0x67 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xfe6c, gbc.sp());
        EXPECT(0xf32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 009A
        gbc.setState(0x9603, 0xb6de, 0xe780, 0x1669, 0x2da0, 0x10d0, 0x0, 0x1);
        gbc.writeMem(0x9603, { 0x67 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xb6de, gbc.sp());
        EXPECT(0x9604, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9603));
        // 67 009B
        gbc.setState(0xc786, 0xce7a, 0x49f0, 0x6b33, 0x53f7, 0x2e5f, 0x1, 0x0);
        gbc.writeMem(0xc786, { 0x67 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xce7a, gbc.sp());
        EXPECT(0xc787, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc786));
        // 67 009C
        gbc.setState(0x4a7d, 0xa5f5, 0xb7b0, 0xc013, 0x9e28, 0x8a7c, 0x1, 0x1);
        gbc.writeMem(0x4a7d, { 0x67 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xa5f5, gbc.sp());
        EXPECT(0x4a7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 009E
        gbc.setState(0x4833, 0xdd55, 0xd260, 0xd19a, 0x3b63, 0xf016, 0x0, 0x0);
        gbc.writeMem(0x4833, { 0x67 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xdd55, gbc.sp());
        EXPECT(0x4834, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 009F
        gbc.setState(0x169b, 0xda0b, 0xd6b0, 0x4bab, 0x436f, 0x9966, 0x1, 0x0);
        gbc.writeMem(0x169b, { 0x67 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xda0b, gbc.sp());
        EXPECT(0x169c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00A0
        gbc.setState(0x5e20, 0x3eb7, 0x9500, 0x56a0, 0x9c5, 0x5cde, 0x1, 0x0);
        gbc.writeMem(0x5e20, { 0x67 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x3eb7, gbc.sp());
        EXPECT(0x5e21, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00A1
        gbc.setState(0x9008, 0x846b, 0x7320, 0x6bc2, 0x3f32, 0xb9de, 0x0, 0x0);
        gbc.writeMem(0x9008, { 0x67 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x846b, gbc.sp());
        EXPECT(0x9009, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9008));
        // 67 00A2
        gbc.setState(0x8c0f, 0x32c0, 0xf3e0, 0x38ba, 0x67d4, 0x38aa, 0x0, 0x0);
        gbc.writeMem(0x8c0f, { 0x67 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x32c0, gbc.sp());
        EXPECT(0x8c10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8c0f));
        // 67 00A3
        gbc.setState(0x9696, 0xc07c, 0x6930, 0x1c70, 0x11b3, 0x4bfc, 0x0, 0x1);
        gbc.writeMem(0x9696, { 0x67 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xc07c, gbc.sp());
        EXPECT(0x9697, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9696));
        // 67 00A4
        gbc.setState(0xf90, 0x130a, 0xc3b0, 0xfc94, 0xf3be, 0xdbb2, 0x0, 0x1);
        gbc.writeMem(0xf90, { 0x67 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x130a, gbc.sp());
        EXPECT(0xf91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00A5
        gbc.setState(0x13ec, 0x4103, 0xfb90, 0x8614, 0x9ae9, 0x48fd, 0x1, 0x1);
        gbc.writeMem(0x13ec, { 0x67 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x4103, gbc.sp());
        EXPECT(0x13ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00A6
        gbc.setState(0x5c09, 0x6faa, 0x5370, 0xaab2, 0x1fed, 0x4066, 0x1, 0x0);
        gbc.writeMem(0x5c09, { 0x67 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x6faa, gbc.sp());
        EXPECT(0x5c0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00A7
        gbc.setState(0x9ee0, 0x5f3d, 0xe0b0, 0xa26e, 0x5b9b, 0x55d9, 0x1, 0x0);
        gbc.writeMem(0x9ee0, { 0x67 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x5f3d, gbc.sp());
        EXPECT(0x9ee1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9ee0));
        // 67 00A8
        gbc.setState(0xbbab, 0x23de, 0xab70, 0xaf65, 0xbf40, 0xc74, 0x1, 0x1);
        gbc.writeMem(0xbbab, { 0x67 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x23de, gbc.sp());
        EXPECT(0xbbac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbbab));
        // 67 00A9
        gbc.setState(0x7f0f, 0xcb38, 0x2ca0, 0x211a, 0xb7e6, 0x371, 0x1, 0x1);
        gbc.writeMem(0x7f0f, { 0x67 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xcb38, gbc.sp());
        EXPECT(0x7f10, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00AA
        gbc.setState(0x8c10, 0xf613, 0xd6b0, 0xeae9, 0x8155, 0x258d, 0x0, 0x1);
        gbc.writeMem(0x8c10, { 0x67 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xf613, gbc.sp());
        EXPECT(0x8c11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8c10));
        // 67 00AB
        gbc.setState(0xdf77, 0x2ea8, 0xe8e0, 0xdc19, 0x7c0d, 0xc40, 0x1, 0x0);
        gbc.writeMem(0xdf77, { 0x67 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x2ea8, gbc.sp());
        EXPECT(0xdf78, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdf77));
        // 67 00AC
        gbc.setState(0x8cc9, 0xfb02, 0x36e0, 0x454a, 0x5874, 0xbd6f, 0x1, 0x1);
        gbc.writeMem(0x8cc9, { 0x67 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xfb02, gbc.sp());
        EXPECT(0x8cca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8cc9));
        // 67 00AD
        gbc.setState(0x107, 0x6efc, 0xf230, 0x3f3a, 0xff96, 0xb5f2, 0x0, 0x1);
        gbc.writeMem(0x107, { 0x67 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x6efc, gbc.sp());
        EXPECT(0x108, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00AE
        gbc.setState(0x5525, 0xcbaa, 0x9810, 0xad19, 0x94ba, 0x5637, 0x0, 0x0);
        gbc.writeMem(0x5525, { 0x67 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xcbaa, gbc.sp());
        EXPECT(0x5526, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00AF
        gbc.setState(0x1571, 0x84be, 0x5890, 0xc1f6, 0x6b04, 0xa690, 0x0, 0x0);
        gbc.writeMem(0x1571, { 0x67 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x84be, gbc.sp());
        EXPECT(0x1572, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00B0
        gbc.setState(0xd5b2, 0x507, 0x7080, 0xf3ef, 0x7cb7, 0x98a6, 0x1, 0x1);
        gbc.writeMem(0xd5b2, { 0x67 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x507, gbc.sp());
        EXPECT(0xd5b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd5b2));
        // 67 00B1
        gbc.setState(0x2886, 0x416c, 0xe490, 0x5b0b, 0xcbc4, 0x84ea, 0x1, 0x0);
        gbc.writeMem(0x2886, { 0x67 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x416c, gbc.sp());
        EXPECT(0x2887, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00B3
        gbc.setState(0x1177, 0x8b10, 0xaff0, 0x1d7, 0xb614, 0x2e05, 0x0, 0x0);
        gbc.writeMem(0x1177, { 0x67 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x8b10, gbc.sp());
        EXPECT(0x1178, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00B4
        gbc.setState(0x31fd, 0xdda7, 0x8a00, 0xf114, 0x796b, 0x5d09, 0x0, 0x0);
        gbc.writeMem(0x31fd, { 0x67 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xdda7, gbc.sp());
        EXPECT(0x31fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00B5
        gbc.setState(0xca44, 0x3a63, 0xd690, 0x38a6, 0xbde8, 0x42a5, 0x0, 0x0);
        gbc.writeMem(0xca44, { 0x67 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x3a63, gbc.sp());
        EXPECT(0xca45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xca44));
        // 67 00B6
        gbc.setState(0x7414, 0x9cc4, 0x9630, 0xab7c, 0xcc6e, 0x22f9, 0x0, 0x1);
        gbc.writeMem(0x7414, { 0x67 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x9cc4, gbc.sp());
        EXPECT(0x7415, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00B7
        gbc.setState(0xdad9, 0xe458, 0xbbd0, 0x25d1, 0xc382, 0x26f8, 0x0, 0x1);
        gbc.writeMem(0xdad9, { 0x67 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xe458, gbc.sp());
        EXPECT(0xdada, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdad9));
        // 67 00B8
        gbc.setState(0x3820, 0xb6a4, 0x5170, 0xea5c, 0x8e29, 0x2c1, 0x1, 0x0);
        gbc.writeMem(0x3820, { 0x67 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xb6a4, gbc.sp());
        EXPECT(0x3821, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00B9
        gbc.setState(0xbed9, 0x37b7, 0xb1e0, 0x9ef3, 0xf5b7, 0x996b, 0x0, 0x1);
        gbc.writeMem(0xbed9, { 0x67 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x37b7, gbc.sp());
        EXPECT(0xbeda, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbed9));
        // 67 00BA
        gbc.setState(0x457a, 0x7727, 0x71b0, 0xefaa, 0x9eb0, 0xe1c1, 0x1, 0x0);
        gbc.writeMem(0x457a, { 0x67 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x7727, gbc.sp());
        EXPECT(0x457b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00BB
        gbc.setState(0x419e, 0xb742, 0x5840, 0xcdd6, 0x530f, 0x9ceb, 0x1, 0x1);
        gbc.writeMem(0x419e, { 0x67 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xb742, gbc.sp());
        EXPECT(0x419f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00BC
        gbc.setState(0xe9fa, 0x21d7, 0x4790, 0x7bd, 0xaa31, 0x2dbd, 0x0, 0x1);
        gbc.writeMem(0xe9fa, { 0x67 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x21d7, gbc.sp());
        EXPECT(0xe9fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe9fa));
        // 67 00BD
        gbc.setState(0x24a6, 0x74f7, 0xbcd0, 0xeace, 0x2c60, 0xd558, 0x1, 0x0);
        gbc.writeMem(0x24a6, { 0x67 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x74f7, gbc.sp());
        EXPECT(0x24a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00BE
        gbc.setState(0xb024, 0x9b2d, 0x89f0, 0xafb7, 0xd30e, 0xcb43, 0x0, 0x0);
        gbc.writeMem(0xb024, { 0x67 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x9b2d, gbc.sp());
        EXPECT(0xb025, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb024));
        // 67 00BF
        gbc.setState(0xb38e, 0x8355, 0xe620, 0x5547, 0x8532, 0x3ac2, 0x0, 0x0);
        gbc.writeMem(0xb38e, { 0x67 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x8355, gbc.sp());
        EXPECT(0xb38f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb38e));
        // 67 00C0
        gbc.setState(0x46ec, 0x41d8, 0x3660, 0xcbc1, 0xf9ab, 0x732, 0x1, 0x0);
        gbc.writeMem(0x46ec, { 0x67 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x41d8, gbc.sp());
        EXPECT(0x46ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00C1
        gbc.setState(0x40d6, 0x50ac, 0xf8a0, 0xbdce, 0x2e18, 0x60f6, 0x0, 0x1);
        gbc.writeMem(0x40d6, { 0x67 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x50ac, gbc.sp());
        EXPECT(0x40d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00C2
        gbc.setState(0xce66, 0x906d, 0xa340, 0x3679, 0x36dd, 0x455, 0x0, 0x1);
        gbc.writeMem(0xce66, { 0x67 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x906d, gbc.sp());
        EXPECT(0xce67, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xce66));
        // 67 00C3
        gbc.setState(0x1415, 0x6624, 0x41d0, 0x95a7, 0xbcf1, 0x13c7, 0x0, 0x0);
        gbc.writeMem(0x1415, { 0x67 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x6624, gbc.sp());
        EXPECT(0x1416, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00C4
        gbc.setState(0xe9d7, 0x7097, 0x9470, 0x7bc3, 0x86d2, 0x6e77, 0x0, 0x0);
        gbc.writeMem(0xe9d7, { 0x67 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x7097, gbc.sp());
        EXPECT(0xe9d8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe9d7));
        // 67 00C5
        gbc.setState(0x5180, 0xaa1e, 0x7110, 0x50fc, 0x18e0, 0xfaed, 0x1, 0x1);
        gbc.writeMem(0x5180, { 0x67 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xaa1e, gbc.sp());
        EXPECT(0x5181, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00C6
        gbc.setState(0x7e99, 0x66fc, 0x3f50, 0xb52b, 0xf902, 0x6d30, 0x1, 0x0);
        gbc.writeMem(0x7e99, { 0x67 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x66fc, gbc.sp());
        EXPECT(0x7e9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00C7
        gbc.setState(0xb845, 0xda18, 0x74d0, 0x26e2, 0x5852, 0xbcee, 0x1, 0x1);
        gbc.writeMem(0xb845, { 0x67 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xda18, gbc.sp());
        EXPECT(0xb846, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb845));
        // 67 00C8
        gbc.setState(0x992a, 0x25cb, 0x9a40, 0x7e4a, 0xafea, 0x3836, 0x0, 0x1);
        gbc.writeMem(0x992a, { 0x67 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x25cb, gbc.sp());
        EXPECT(0x992b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x992a));
        // 67 00C9
        gbc.setState(0x32c3, 0x3c82, 0xf580, 0xca8a, 0xfdf7, 0xe11b, 0x0, 0x0);
        gbc.writeMem(0x32c3, { 0x67 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x3c82, gbc.sp());
        EXPECT(0x32c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00CA
        gbc.setState(0x171a, 0x5f52, 0xb80, 0xec7a, 0x6ac8, 0x8c0, 0x1, 0x0);
        gbc.writeMem(0x171a, { 0x67 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x5f52, gbc.sp());
        EXPECT(0x171b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00CB
        gbc.setState(0xa45f, 0xb39f, 0x3910, 0x373, 0x55d9, 0xf742, 0x0, 0x0);
        gbc.writeMem(0xa45f, { 0x67 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xb39f, gbc.sp());
        EXPECT(0xa460, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa45f));
        // 67 00CC
        gbc.setState(0xb485, 0x824b, 0xae90, 0x3c90, 0xda22, 0xb11c, 0x0, 0x0);
        gbc.writeMem(0xb485, { 0x67 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x824b, gbc.sp());
        EXPECT(0xb486, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb485));
        // 67 00CD
        gbc.setState(0x5c99, 0xd505, 0x4770, 0xcd74, 0xc3c8, 0x3bd5, 0x1, 0x0);
        gbc.writeMem(0x5c99, { 0x67 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xd505, gbc.sp());
        EXPECT(0x5c9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00CE
        gbc.setState(0x507b, 0xfc2c, 0x7da0, 0xb039, 0xe2cc, 0x3161, 0x1, 0x0);
        gbc.writeMem(0x507b, { 0x67 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xfc2c, gbc.sp());
        EXPECT(0x507c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00CF
        gbc.setState(0x7db1, 0x6cde, 0xb9e0, 0x68c8, 0x5605, 0xec7d, 0x1, 0x1);
        gbc.writeMem(0x7db1, { 0x67 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x6cde, gbc.sp());
        EXPECT(0x7db2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00D0
        gbc.setState(0x42b9, 0x6d64, 0xb30, 0x1698, 0x31c8, 0xc080, 0x0, 0x0);
        gbc.writeMem(0x42b9, { 0x67 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x6d64, gbc.sp());
        EXPECT(0x42ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00D1
        gbc.setState(0x2b70, 0xe768, 0xeba0, 0x672e, 0xbc22, 0x1bfd, 0x1, 0x0);
        gbc.writeMem(0x2b70, { 0x67 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xe768, gbc.sp());
        EXPECT(0x2b71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00D2
        gbc.setState(0x7717, 0xde29, 0x3ec0, 0x3da2, 0xec68, 0xc7a9, 0x1, 0x1);
        gbc.writeMem(0x7717, { 0x67 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xde29, gbc.sp());
        EXPECT(0x7718, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00D4
        gbc.setState(0x6be0, 0x373d, 0x4c80, 0x867d, 0x3323, 0x5bb1, 0x0, 0x1);
        gbc.writeMem(0x6be0, { 0x67 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x373d, gbc.sp());
        EXPECT(0x6be1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00D5
        gbc.setState(0xe699, 0xda99, 0x1440, 0x7951, 0x78d1, 0x12ce, 0x1, 0x1);
        gbc.writeMem(0xe699, { 0x67 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xda99, gbc.sp());
        EXPECT(0xe69a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe699));
        // 67 00D6
        gbc.setState(0x90af, 0x8dc5, 0x7770, 0x45ab, 0xe22, 0x1e26, 0x1, 0x1);
        gbc.writeMem(0x90af, { 0x67 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x8dc5, gbc.sp());
        EXPECT(0x90b0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x90af));
        // 67 00D7
        gbc.setState(0xadbd, 0x8b2c, 0xf500, 0x187e, 0xa30e, 0xae48, 0x0, 0x0);
        gbc.writeMem(0xadbd, { 0x67 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x8b2c, gbc.sp());
        EXPECT(0xadbe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xadbd));
        // 67 00D8
        gbc.setState(0x1b0a, 0x3a6e, 0x7940, 0xf2c9, 0xd799, 0x6667, 0x1, 0x1);
        gbc.writeMem(0x1b0a, { 0x67 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x3a6e, gbc.sp());
        EXPECT(0x1b0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00D9
        gbc.setState(0x408b, 0x87ca, 0x3a40, 0xb91a, 0x9c47, 0x8c5b, 0x1, 0x1);
        gbc.writeMem(0x408b, { 0x67 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x87ca, gbc.sp());
        EXPECT(0x408c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00DA
        gbc.setState(0xb15d, 0x2042, 0x8970, 0xf62, 0xab83, 0x98ec, 0x0, 0x1);
        gbc.writeMem(0xb15d, { 0x67 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x2042, gbc.sp());
        EXPECT(0xb15e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb15d));
        // 67 00DB
        gbc.setState(0xdacd, 0xe0de, 0xda10, 0x1c8d, 0x410b, 0x9788, 0x1, 0x1);
        gbc.writeMem(0xdacd, { 0x67 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xe0de, gbc.sp());
        EXPECT(0xdace, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdacd));
        // 67 00DC
        gbc.setState(0x54e6, 0x422, 0xd050, 0xd419, 0xd290, 0x81e6, 0x1, 0x1);
        gbc.writeMem(0x54e6, { 0x67 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x422, gbc.sp());
        EXPECT(0x54e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00DD
        gbc.setState(0xc8fa, 0x18e8, 0xbe30, 0x6d21, 0x12eb, 0x52de, 0x0, 0x1);
        gbc.writeMem(0xc8fa, { 0x67 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x18e8, gbc.sp());
        EXPECT(0xc8fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc8fa));
        // 67 00DE
        gbc.setState(0x6f05, 0x85c, 0xf700, 0xb736, 0xaa8c, 0x526c, 0x0, 0x0);
        gbc.writeMem(0x6f05, { 0x67 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x85c, gbc.sp());
        EXPECT(0x6f06, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00DF
        gbc.setState(0x2780, 0x9423, 0xd910, 0x513e, 0xe312, 0x129, 0x0, 0x1);
        gbc.writeMem(0x2780, { 0x67 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x9423, gbc.sp());
        EXPECT(0x2781, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00E0
        gbc.setState(0x2be1, 0x40f8, 0x3ff0, 0x559a, 0x29d7, 0x6e76, 0x1, 0x0);
        gbc.writeMem(0x2be1, { 0x67 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x40f8, gbc.sp());
        EXPECT(0x2be2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00E1
        gbc.setState(0xa0e9, 0x954f, 0x8140, 0xe307, 0xe4c5, 0x4b69, 0x0, 0x1);
        gbc.writeMem(0xa0e9, { 0x67 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x954f, gbc.sp());
        EXPECT(0xa0ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa0e9));
        // 67 00E2
        gbc.setState(0x1fa5, 0x28ee, 0x13b0, 0x7730, 0x160f, 0xc5c7, 0x1, 0x1);
        gbc.writeMem(0x1fa5, { 0x67 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x28ee, gbc.sp());
        EXPECT(0x1fa6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00E3
        gbc.setState(0xad69, 0xc580, 0x4850, 0x93e9, 0x78b6, 0xd1b1, 0x1, 0x0);
        gbc.writeMem(0xad69, { 0x67 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xc580, gbc.sp());
        EXPECT(0xad6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xad69));
        // 67 00E4
        gbc.setState(0x4b8b, 0xda1e, 0x2830, 0x5747, 0x519b, 0x69be, 0x0, 0x1);
        gbc.writeMem(0x4b8b, { 0x67 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xda1e, gbc.sp());
        EXPECT(0x4b8c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00E5
        gbc.setState(0x6c2a, 0x6a40, 0x630, 0x61c0, 0x7102, 0xf1f2, 0x0, 0x1);
        gbc.writeMem(0x6c2a, { 0x67 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x6a40, gbc.sp());
        EXPECT(0x6c2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00E6
        gbc.setState(0x2bea, 0x35d6, 0xec0, 0x454e, 0x7b91, 0xf61e, 0x1, 0x1);
        gbc.writeMem(0x2bea, { 0x67 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x35d6, gbc.sp());
        EXPECT(0x2beb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00E7
        gbc.setState(0xa735, 0xbbfd, 0x6090, 0xbe76, 0xe779, 0x8c0, 0x0, 0x1);
        gbc.writeMem(0xa735, { 0x67 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xbbfd, gbc.sp());
        EXPECT(0xa736, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa735));
        // 67 00E8
        gbc.setState(0xa2fb, 0x1fba, 0xa050, 0x41ff, 0x59c9, 0xad24, 0x0, 0x0);
        gbc.writeMem(0xa2fb, { 0x67 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x1fba, gbc.sp());
        EXPECT(0xa2fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa2fb));
        // 67 00E9
        gbc.setState(0x5231, 0xc941, 0x400, 0xca4f, 0x2688, 0x5cf3, 0x1, 0x0);
        gbc.writeMem(0x5231, { 0x67 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xc941, gbc.sp());
        EXPECT(0x5232, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00EA
        gbc.setState(0x81c3, 0x5499, 0xbea0, 0x255b, 0xaa94, 0xa3fa, 0x0, 0x1);
        gbc.writeMem(0x81c3, { 0x67 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x5499, gbc.sp());
        EXPECT(0x81c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x81c3));
        // 67 00EB
        gbc.setState(0xd7d9, 0x4366, 0xa110, 0xe2f2, 0xe191, 0x4442, 0x1, 0x1);
        gbc.writeMem(0xd7d9, { 0x67 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x4366, gbc.sp());
        EXPECT(0xd7da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd7d9));
        // 67 00EC
        gbc.setState(0xd58, 0xdd6, 0xa780, 0x738d, 0x5959, 0x764a, 0x1, 0x0);
        gbc.writeMem(0xd58, { 0x67 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xdd6, gbc.sp());
        EXPECT(0xd59, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00ED
        gbc.setState(0x51ab, 0xec87, 0x41c0, 0x5, 0x883f, 0xf5b0, 0x1, 0x1);
        gbc.writeMem(0x51ab, { 0x67 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xec87, gbc.sp());
        EXPECT(0x51ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00EE
        gbc.setState(0x43d5, 0x3a6b, 0xd060, 0x6b95, 0x3a4a, 0xe06a, 0x1, 0x1);
        gbc.writeMem(0x43d5, { 0x67 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x3a6b, gbc.sp());
        EXPECT(0x43d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00EF
        gbc.setState(0x9560, 0x297c, 0x77c0, 0xc2b2, 0xb3ad, 0xfe60, 0x0, 0x1);
        gbc.writeMem(0x9560, { 0x67 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x297c, gbc.sp());
        EXPECT(0x9561, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9560));
        // 67 00F0
        gbc.setState(0x63eb, 0xb909, 0x5b90, 0xa1f8, 0x6b07, 0xb63c, 0x0, 0x1);
        gbc.writeMem(0x63eb, { 0x67 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xb909, gbc.sp());
        EXPECT(0x63ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00F1
        gbc.setState(0x8059, 0xb8c1, 0xe0e0, 0x1cb7, 0xf0b7, 0xf171, 0x1, 0x1);
        gbc.writeMem(0x8059, { 0x67 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xb8c1, gbc.sp());
        EXPECT(0x805a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8059));
        // 67 00F2
        gbc.setState(0x27b2, 0x32ec, 0xe650, 0x7f07, 0xf175, 0x3f45, 0x1, 0x1);
        gbc.writeMem(0x27b2, { 0x67 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x32ec, gbc.sp());
        EXPECT(0x27b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00F3
        gbc.setState(0x5ef5, 0xb3ff, 0x8c20, 0x7afc, 0x6502, 0x7652, 0x1, 0x0);
        gbc.writeMem(0x5ef5, { 0x67 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xb3ff, gbc.sp());
        EXPECT(0x5ef6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00F4
        gbc.setState(0x1b89, 0xd65c, 0x7a20, 0xd9d5, 0xce6d, 0x7979, 0x0, 0x0);
        gbc.writeMem(0x1b89, { 0x67 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xd65c, gbc.sp());
        EXPECT(0x1b8a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00F5
        gbc.setState(0x9b81, 0xa2c6, 0x6e10, 0xec4e, 0xfd4f, 0x8be4, 0x1, 0x0);
        gbc.writeMem(0x9b81, { 0x67 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xa2c6, gbc.sp());
        EXPECT(0x9b82, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9b81));
        // 67 00F6
        gbc.setState(0xe29, 0xa696, 0xd970, 0x64db, 0x3299, 0x2ade, 0x1, 0x1);
        gbc.writeMem(0xe29, { 0x67 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xa696, gbc.sp());
        EXPECT(0xe2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00F7
        gbc.setState(0x5a59, 0xe74f, 0xe960, 0xf54a, 0xad7c, 0x3c03, 0x0, 0x1);
        gbc.writeMem(0x5a59, { 0x67 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xe74f, gbc.sp());
        EXPECT(0x5a5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 00F8
        gbc.setState(0xe80b, 0x2df7, 0x2fb0, 0xdeee, 0xfbba, 0x9075, 0x1, 0x0);
        gbc.writeMem(0xe80b, { 0x67 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x2df7, gbc.sp());
        EXPECT(0xe80c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe80b));
        // 67 00F9
        gbc.setState(0xbdbf, 0x3d75, 0x4eb0, 0x502, 0x849c, 0xbc04, 0x0, 0x1);
        gbc.writeMem(0xbdbf, { 0x67 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x3d75, gbc.sp());
        EXPECT(0xbdc0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbdbf));
        // 67 00FA
        gbc.setState(0x7b80, 0x9132, 0xc910, 0x4dd3, 0xdb2f, 0x9326, 0x0, 0x1);
        gbc.writeMem(0x7b80, { 0x67 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x9132, gbc.sp());
        EXPECT(0x7b81, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00FB
        gbc.setState(0xbb91, 0xbe3, 0xe820, 0x6e35, 0x8aeb, 0xa4a8, 0x1, 0x0);
        gbc.writeMem(0xbb91, { 0x67 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xbe3, gbc.sp());
        EXPECT(0xbb92, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbb91));
        // 67 00FC
        gbc.setState(0x971e, 0x5fe6, 0x41f0, 0xaa4f, 0x325f, 0xf8c7, 0x1, 0x1);
        gbc.writeMem(0x971e, { 0x67 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x5fe6, gbc.sp());
        EXPECT(0x971f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x971e));
        // 67 00FD
        gbc.setState(0x1010, 0x2d70, 0x5b90, 0x17ab, 0x5e6e, 0x57bb, 0x1, 0x0);
        gbc.writeMem(0x1010, { 0x67 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x2d70, gbc.sp());
        EXPECT(0x1011, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 00FE
        gbc.setState(0xdad2, 0xdae0, 0x71d0, 0xa377, 0x25db, 0xdfb7, 0x0, 0x1);
        gbc.writeMem(0xdad2, { 0x67 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xdae0, gbc.sp());
        EXPECT(0xdad3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdad2));
        // 67 00FF
        gbc.setState(0xd4, 0x5b8d, 0x2870, 0x6078, 0x5136, 0xc85a, 0x0, 0x0);
        gbc.writeMem(0xd4, { 0x67 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x5b8d, gbc.sp());
        EXPECT(0xd5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0100
        gbc.setState(0x6734, 0xe6f9, 0x8ec0, 0xb2c2, 0x1970, 0x9a4, 0x0, 0x1);
        gbc.writeMem(0x6734, { 0x67 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xe6f9, gbc.sp());
        EXPECT(0x6735, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0101
        gbc.setState(0x5ced, 0xb71a, 0xdbe0, 0x6bc4, 0x61d3, 0x50df, 0x0, 0x0);
        gbc.writeMem(0x5ced, { 0x67 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xb71a, gbc.sp());
        EXPECT(0x5cee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0102
        gbc.setState(0xdc40, 0x559c, 0x5b00, 0x9b81, 0xcbbe, 0xb612, 0x1, 0x0);
        gbc.writeMem(0xdc40, { 0x67 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x559c, gbc.sp());
        EXPECT(0xdc41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdc40));
        // 67 0103
        gbc.setState(0x3e8, 0x9f22, 0x5020, 0x9de1, 0x1597, 0xa620, 0x1, 0x0);
        gbc.writeMem(0x3e8, { 0x67 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x9f22, gbc.sp());
        EXPECT(0x3e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0104
        gbc.setState(0x6fa7, 0x2b90, 0xa860, 0x9aae, 0x774f, 0xe025, 0x1, 0x0);
        gbc.writeMem(0x6fa7, { 0x67 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x2b90, gbc.sp());
        EXPECT(0x6fa8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0105
        gbc.setState(0x3dd2, 0x7409, 0x2790, 0x87fc, 0x8a59, 0xf4ae, 0x0, 0x1);
        gbc.writeMem(0x3dd2, { 0x67 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x7409, gbc.sp());
        EXPECT(0x3dd3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0106
        gbc.setState(0xa1f7, 0xb50, 0x8ea0, 0xf1ea, 0xdffc, 0x28ef, 0x1, 0x0);
        gbc.writeMem(0xa1f7, { 0x67 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xb50, gbc.sp());
        EXPECT(0xa1f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa1f7));
        // 67 0108
        gbc.setState(0xdf4d, 0xe064, 0xe30, 0x343f, 0x522, 0x7c32, 0x0, 0x1);
        gbc.writeMem(0xdf4d, { 0x67 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xe064, gbc.sp());
        EXPECT(0xdf4e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdf4d));
        // 67 0109
        gbc.setState(0x521f, 0xe592, 0x7be0, 0x29fb, 0x3ba4, 0xfced, 0x0, 0x0);
        gbc.writeMem(0x521f, { 0x67 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xe592, gbc.sp());
        EXPECT(0x5220, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 010A
        gbc.setState(0x4db0, 0xeebc, 0x6730, 0xf129, 0xdcdb, 0x44e9, 0x1, 0x0);
        gbc.writeMem(0x4db0, { 0x67 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xeebc, gbc.sp());
        EXPECT(0x4db1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 010B
        gbc.setState(0xb9de, 0xa456, 0xc550, 0x1c68, 0x4a40, 0x25c4, 0x0, 0x0);
        gbc.writeMem(0xb9de, { 0x67 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xa456, gbc.sp());
        EXPECT(0xb9df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb9de));
        // 67 010C
        gbc.setState(0x4f0c, 0x5e20, 0x7e50, 0xa4b2, 0x305, 0xe86d, 0x0, 0x0);
        gbc.writeMem(0x4f0c, { 0x67 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x5e20, gbc.sp());
        EXPECT(0x4f0d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 010D
        gbc.setState(0xda0f, 0x9ed0, 0xe790, 0x77b6, 0x9eec, 0x36ac, 0x0, 0x0);
        gbc.writeMem(0xda0f, { 0x67 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x9ed0, gbc.sp());
        EXPECT(0xda10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xda0f));
        // 67 010F
        gbc.setState(0xbb4a, 0x7e9d, 0x3cc0, 0xae4e, 0x54ec, 0xea52, 0x0, 0x1);
        gbc.writeMem(0xbb4a, { 0x67 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x7e9d, gbc.sp());
        EXPECT(0xbb4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbb4a));
        // 67 0110
        gbc.setState(0x406b, 0x6a88, 0x2dc0, 0x9e27, 0x6aef, 0x9467, 0x0, 0x1);
        gbc.writeMem(0x406b, { 0x67 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x6a88, gbc.sp());
        EXPECT(0x406c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0111
        gbc.setState(0x1edb, 0x3480, 0xf00, 0x3a54, 0x560c, 0x8aeb, 0x1, 0x0);
        gbc.writeMem(0x1edb, { 0x67 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x3480, gbc.sp());
        EXPECT(0x1edc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0112
        gbc.setState(0x7730, 0xe6c5, 0xe120, 0x4346, 0xdffe, 0xdc86, 0x0, 0x1);
        gbc.writeMem(0x7730, { 0x67 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xe6c5, gbc.sp());
        EXPECT(0x7731, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0113
        gbc.setState(0xaf6f, 0x41e, 0xe710, 0x8ef, 0xb0a5, 0x3e7c, 0x0, 0x0);
        gbc.writeMem(0xaf6f, { 0x67 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x41e, gbc.sp());
        EXPECT(0xaf70, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xaf6f));
        // 67 0114
        gbc.setState(0xcbfd, 0x1f2a, 0xf0d0, 0x3a79, 0x6598, 0xe4fb, 0x0, 0x0);
        gbc.writeMem(0xcbfd, { 0x67 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x1f2a, gbc.sp());
        EXPECT(0xcbfe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcbfd));
        // 67 0115
        gbc.setState(0x6458, 0x66ca, 0x8810, 0x30d9, 0x7dad, 0xe824, 0x1, 0x0);
        gbc.writeMem(0x6458, { 0x67 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x66ca, gbc.sp());
        EXPECT(0x6459, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0116
        gbc.setState(0x10ef, 0x563c, 0x25a0, 0xc2b7, 0x4517, 0x6e74, 0x0, 0x1);
        gbc.writeMem(0x10ef, { 0x67 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x563c, gbc.sp());
        EXPECT(0x10f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0117
        gbc.setState(0xd642, 0x86a3, 0x71c0, 0x1902, 0x9f07, 0x16f1, 0x0, 0x0);
        gbc.writeMem(0xd642, { 0x67 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x86a3, gbc.sp());
        EXPECT(0xd643, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd642));
        // 67 0118
        gbc.setState(0xa734, 0x491c, 0x6120, 0x8ee3, 0x6dc2, 0xf924, 0x0, 0x1);
        gbc.writeMem(0xa734, { 0x67 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x491c, gbc.sp());
        EXPECT(0xa735, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa734));
        // 67 0119
        gbc.setState(0x7b6, 0xb128, 0xb130, 0x8fe6, 0x51e9, 0xacae, 0x0, 0x1);
        gbc.writeMem(0x7b6, { 0x67 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xb128, gbc.sp());
        EXPECT(0x7b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 011A
        gbc.setState(0x8d58, 0x2d89, 0xf860, 0x10c9, 0xeabd, 0x316c, 0x0, 0x1);
        gbc.writeMem(0x8d58, { 0x67 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x2d89, gbc.sp());
        EXPECT(0x8d59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8d58));
        // 67 011B
        gbc.setState(0x9757, 0xb297, 0xbdd0, 0xd409, 0x4716, 0x4985, 0x0, 0x1);
        gbc.writeMem(0x9757, { 0x67 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xb297, gbc.sp());
        EXPECT(0x9758, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9757));
        // 67 011D
        gbc.setState(0xe999, 0xfcd6, 0x8cf0, 0x5bd1, 0x330a, 0xc0cc, 0x1, 0x0);
        gbc.writeMem(0xe999, { 0x67 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xfcd6, gbc.sp());
        EXPECT(0xe99a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe999));
        // 67 011E
        gbc.setState(0xcd8a, 0xfe85, 0xf640, 0xa912, 0xb003, 0xf08b, 0x1, 0x1);
        gbc.writeMem(0xcd8a, { 0x67 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xfe85, gbc.sp());
        EXPECT(0xcd8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcd8a));
        // 67 011F
        gbc.setState(0x45b7, 0xa1e7, 0x69a0, 0xbe64, 0x3e7d, 0xc2fd, 0x0, 0x1);
        gbc.writeMem(0x45b7, { 0x67 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xa1e7, gbc.sp());
        EXPECT(0x45b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0120
        gbc.setState(0xb23f, 0xaef0, 0x3b20, 0xbf75, 0x6874, 0xaf89, 0x1, 0x0);
        gbc.writeMem(0xb23f, { 0x67 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xaef0, gbc.sp());
        EXPECT(0xb240, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb23f));
        // 67 0121
        gbc.setState(0xbeb2, 0x46e9, 0xc0a0, 0xb304, 0x161b, 0xb1fd, 0x0, 0x1);
        gbc.writeMem(0xbeb2, { 0x67 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x46e9, gbc.sp());
        EXPECT(0xbeb3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbeb2));
        // 67 0122
        gbc.setState(0x5677, 0xff4, 0xc620, 0x6aae, 0x32a9, 0xc967, 0x0, 0x1);
        gbc.writeMem(0x5677, { 0x67 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xff4, gbc.sp());
        EXPECT(0x5678, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0123
        gbc.setState(0x527a, 0x6fbe, 0xac20, 0x2dff, 0xd431, 0x3dc1, 0x0, 0x1);
        gbc.writeMem(0x527a, { 0x67 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x6fbe, gbc.sp());
        EXPECT(0x527b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0124
        gbc.setState(0x65a7, 0xaace, 0x3010, 0xaef9, 0x9964, 0x8618, 0x1, 0x1);
        gbc.writeMem(0x65a7, { 0x67 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xaace, gbc.sp());
        EXPECT(0x65a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0125
        gbc.setState(0xc4fa, 0x4dfc, 0x85e0, 0xc8ea, 0x7a8, 0x2354, 0x0, 0x0);
        gbc.writeMem(0xc4fa, { 0x67 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x4dfc, gbc.sp());
        EXPECT(0xc4fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc4fa));
        // 67 0126
        gbc.setState(0xcb7, 0xec61, 0x3f90, 0x2987, 0x88a1, 0x5dea, 0x0, 0x1);
        gbc.writeMem(0xcb7, { 0x67 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xec61, gbc.sp());
        EXPECT(0xcb8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0127
        gbc.setState(0x423c, 0x7a9d, 0xd420, 0xee25, 0x7cda, 0x8332, 0x1, 0x1);
        gbc.writeMem(0x423c, { 0x67 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x7a9d, gbc.sp());
        EXPECT(0x423d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0128
        gbc.setState(0xa920, 0xae68, 0xf4c0, 0x8fd0, 0xdce6, 0x6e6b, 0x1, 0x1);
        gbc.writeMem(0xa920, { 0x67 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xae68, gbc.sp());
        EXPECT(0xa921, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa920));
        // 67 0129
        gbc.setState(0x304b, 0xf3aa, 0x190, 0xe, 0x7be5, 0x3480, 0x1, 0x1);
        gbc.writeMem(0x304b, { 0x67 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xf3aa, gbc.sp());
        EXPECT(0x304c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 012A
        gbc.setState(0xc5, 0x5b88, 0x4cb0, 0xf3d8, 0x7767, 0x75c2, 0x1, 0x0);
        gbc.writeMem(0xc5, { 0x67 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x5b88, gbc.sp());
        EXPECT(0xc6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 012B
        gbc.setState(0xd90, 0xb751, 0x4300, 0x4e53, 0xd4ed, 0xfd21, 0x0, 0x0);
        gbc.writeMem(0xd90, { 0x67 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xb751, gbc.sp());
        EXPECT(0xd91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 012C
        gbc.setState(0xd0cf, 0xd628, 0xd500, 0x2e26, 0x2002, 0xb48, 0x1, 0x1);
        gbc.writeMem(0xd0cf, { 0x67 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xd628, gbc.sp());
        EXPECT(0xd0d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd0cf));
        // 67 012D
        gbc.setState(0xde4e, 0xd220, 0x5f30, 0x2428, 0xf136, 0x59b6, 0x1, 0x0);
        gbc.writeMem(0xde4e, { 0x67 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xd220, gbc.sp());
        EXPECT(0xde4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xde4e));
        // 67 012E
        gbc.setState(0x88e8, 0xbc94, 0xc680, 0xda7e, 0x37e8, 0x7693, 0x1, 0x1);
        gbc.writeMem(0x88e8, { 0x67 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xbc94, gbc.sp());
        EXPECT(0x88e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x88e8));
        // 67 012F
        gbc.setState(0x850c, 0x8340, 0xddc0, 0x25e7, 0xafc3, 0x44d2, 0x0, 0x0);
        gbc.writeMem(0x850c, { 0x67 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x8340, gbc.sp());
        EXPECT(0x850d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x850c));
        // 67 0130
        gbc.setState(0x198, 0x108f, 0xce20, 0x5480, 0x478a, 0x39ac, 0x0, 0x1);
        gbc.writeMem(0x198, { 0x67 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x108f, gbc.sp());
        EXPECT(0x199, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0131
        gbc.setState(0xca16, 0xf2c2, 0x7520, 0x4a0d, 0xfd16, 0x7ddf, 0x0, 0x1);
        gbc.writeMem(0xca16, { 0x67 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xf2c2, gbc.sp());
        EXPECT(0xca17, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xca16));
        // 67 0132
        gbc.setState(0x874, 0xc49d, 0x6310, 0x85e0, 0x6aab, 0x518b, 0x1, 0x0);
        gbc.writeMem(0x874, { 0x67 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xc49d, gbc.sp());
        EXPECT(0x875, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0133
        gbc.setState(0xa75d, 0x2459, 0x2840, 0x5eef, 0x4f9f, 0x8a1f, 0x1, 0x1);
        gbc.writeMem(0xa75d, { 0x67 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x2459, gbc.sp());
        EXPECT(0xa75e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa75d));
        // 67 0134
        gbc.setState(0xa699, 0xeff6, 0x8360, 0x5ff9, 0x6a65, 0xf50d, 0x0, 0x1);
        gbc.writeMem(0xa699, { 0x67 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xeff6, gbc.sp());
        EXPECT(0xa69a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa699));
        // 67 0135
        gbc.setState(0x830b, 0x9524, 0xea80, 0xe679, 0xd053, 0x4d4d, 0x0, 0x0);
        gbc.writeMem(0x830b, { 0x67 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x9524, gbc.sp());
        EXPECT(0x830c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x830b));
        // 67 0136
        gbc.setState(0xdb64, 0xff4e, 0x62a0, 0x1564, 0xb7e8, 0xa97a, 0x0, 0x0);
        gbc.writeMem(0xdb64, { 0x67 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xff4e, gbc.sp());
        EXPECT(0xdb65, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdb64));
        // 67 0137
        gbc.setState(0x8763, 0xb0d4, 0xea00, 0xe699, 0xed7c, 0x4417, 0x0, 0x0);
        gbc.writeMem(0x8763, { 0x67 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xb0d4, gbc.sp());
        EXPECT(0x8764, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8763));
        // 67 0138
        gbc.setState(0xe6b0, 0x5b66, 0x6aa0, 0x8c98, 0x8226, 0x9d2b, 0x1, 0x1);
        gbc.writeMem(0xe6b0, { 0x67 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x5b66, gbc.sp());
        EXPECT(0xe6b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe6b0));
        // 67 0139
        gbc.setState(0x4c49, 0xe123, 0x3030, 0x652b, 0xbe44, 0x6c31, 0x0, 0x1);
        gbc.writeMem(0x4c49, { 0x67 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xe123, gbc.sp());
        EXPECT(0x4c4a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 013A
        gbc.setState(0xbdb2, 0x9490, 0x3640, 0xbcf0, 0xa40c, 0x47cd, 0x0, 0x0);
        gbc.writeMem(0xbdb2, { 0x67 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x9490, gbc.sp());
        EXPECT(0xbdb3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbdb2));
        // 67 013B
        gbc.setState(0x3d2f, 0xc7a5, 0x8100, 0x3819, 0xe277, 0xc491, 0x1, 0x0);
        gbc.writeMem(0x3d2f, { 0x67 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xc7a5, gbc.sp());
        EXPECT(0x3d30, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 013C
        gbc.setState(0xb11b, 0x55d3, 0xfb20, 0xe930, 0xd4f6, 0xe57b, 0x0, 0x0);
        gbc.writeMem(0xb11b, { 0x67 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x55d3, gbc.sp());
        EXPECT(0xb11c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb11b));
        // 67 013D
        gbc.setState(0x4016, 0x71e2, 0x6cc0, 0xb9d4, 0xd290, 0xed87, 0x1, 0x1);
        gbc.writeMem(0x4016, { 0x67 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x71e2, gbc.sp());
        EXPECT(0x4017, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 013E
        gbc.setState(0x9b54, 0xb5b1, 0x6e10, 0xe1ca, 0x23f, 0xc242, 0x1, 0x0);
        gbc.writeMem(0x9b54, { 0x67 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xb5b1, gbc.sp());
        EXPECT(0x9b55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9b54));
        // 67 0140
        gbc.setState(0x1840, 0xe3ef, 0x8b70, 0x79, 0x3baf, 0x740a, 0x0, 0x1);
        gbc.writeMem(0x1840, { 0x67 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xe3ef, gbc.sp());
        EXPECT(0x1841, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0141
        gbc.setState(0xcd38, 0xd2ce, 0x99c0, 0x8918, 0xfe26, 0xd2ef, 0x0, 0x0);
        gbc.writeMem(0xcd38, { 0x67 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xd2ce, gbc.sp());
        EXPECT(0xcd39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcd38));
        // 67 0142
        gbc.setState(0x16d3, 0xaf71, 0xe10, 0x1cd4, 0xeb9a, 0xc892, 0x1, 0x1);
        gbc.writeMem(0x16d3, { 0x67 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xaf71, gbc.sp());
        EXPECT(0x16d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0143
        gbc.setState(0x52f0, 0xeb86, 0x83e0, 0xf8e3, 0x1c71, 0x7bbb, 0x1, 0x0);
        gbc.writeMem(0x52f0, { 0x67 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xeb86, gbc.sp());
        EXPECT(0x52f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0144
        gbc.setState(0xe313, 0xf1f4, 0xcc10, 0xc7ae, 0x515, 0x3eb6, 0x1, 0x1);
        gbc.writeMem(0xe313, { 0x67 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xf1f4, gbc.sp());
        EXPECT(0xe314, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe313));
        // 67 0145
        gbc.setState(0x3a76, 0xf6a1, 0x54f0, 0x542e, 0xe29e, 0x9ff, 0x1, 0x0);
        gbc.writeMem(0x3a76, { 0x67 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xf6a1, gbc.sp());
        EXPECT(0x3a77, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0146
        gbc.setState(0xb6e4, 0x624b, 0x5540, 0x65ab, 0x3149, 0x732f, 0x1, 0x1);
        gbc.writeMem(0xb6e4, { 0x67 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x624b, gbc.sp());
        EXPECT(0xb6e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb6e4));
        // 67 0147
        gbc.setState(0x45b7, 0xcba0, 0xe880, 0xf262, 0x1e46, 0xf7, 0x1, 0x0);
        gbc.writeMem(0x45b7, { 0x67 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xcba0, gbc.sp());
        EXPECT(0x45b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0148
        gbc.setState(0x7b23, 0xb43f, 0x1740, 0x59c4, 0xad31, 0x4168, 0x1, 0x1);
        gbc.writeMem(0x7b23, { 0x67 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xb43f, gbc.sp());
        EXPECT(0x7b24, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 014A
        gbc.setState(0xb4e1, 0xa31f, 0xcd0, 0x5a34, 0x85ab, 0xc5ec, 0x1, 0x1);
        gbc.writeMem(0xb4e1, { 0x67 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xa31f, gbc.sp());
        EXPECT(0xb4e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb4e1));
        // 67 014B
        gbc.setState(0x30b1, 0xec79, 0x5390, 0x19d6, 0x189, 0xcda2, 0x0, 0x1);
        gbc.writeMem(0x30b1, { 0x67 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xec79, gbc.sp());
        EXPECT(0x30b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 014C
        gbc.setState(0x3cfe, 0x8417, 0xc850, 0x9311, 0x5690, 0x8520, 0x1, 0x1);
        gbc.writeMem(0x3cfe, { 0x67 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x8417, gbc.sp());
        EXPECT(0x3cff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 014D
        gbc.setState(0x988a, 0x4d8, 0xcf70, 0x9f54, 0x1d58, 0xde2b, 0x1, 0x0);
        gbc.writeMem(0x988a, { 0x67 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x4d8, gbc.sp());
        EXPECT(0x988b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x988a));
        // 67 014F
        gbc.setState(0xbb6, 0x3a42, 0x4e60, 0x67bd, 0x22cd, 0x333, 0x0, 0x0);
        gbc.writeMem(0xbb6, { 0x67 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x3a42, gbc.sp());
        EXPECT(0xbb7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0150
        gbc.setState(0x637, 0x2f09, 0x7370, 0xabc4, 0xa455, 0x9e70, 0x0, 0x0);
        gbc.writeMem(0x637, { 0x67 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x2f09, gbc.sp());
        EXPECT(0x638, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0151
        gbc.setState(0xe6ca, 0xc772, 0x9f50, 0xfacf, 0x6899, 0x9921, 0x0, 0x1);
        gbc.writeMem(0xe6ca, { 0x67 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xc772, gbc.sp());
        EXPECT(0xe6cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe6ca));
        // 67 0152
        gbc.setState(0x4ad3, 0x280c, 0xb90, 0x5c0b, 0x3aea, 0x3863, 0x1, 0x1);
        gbc.writeMem(0x4ad3, { 0x67 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x280c, gbc.sp());
        EXPECT(0x4ad4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0153
        gbc.setState(0xed0b, 0x44de, 0x9d80, 0xbe44, 0xdb6e, 0xe48a, 0x0, 0x1);
        gbc.writeMem(0xed0b, { 0x67 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x44de, gbc.sp());
        EXPECT(0xed0c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xed0b));
        // 67 0154
        gbc.setState(0x86c5, 0x93c6, 0x7a0, 0x10ad, 0xf76b, 0x364b, 0x0, 0x0);
        gbc.writeMem(0x86c5, { 0x67 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x93c6, gbc.sp());
        EXPECT(0x86c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x86c5));
        // 67 0155
        gbc.setState(0xf7b, 0x745f, 0xd230, 0x917c, 0xef33, 0xbce5, 0x0, 0x1);
        gbc.writeMem(0xf7b, { 0x67 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x745f, gbc.sp());
        EXPECT(0xf7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0156
        gbc.setState(0x862e, 0x4dff, 0x1bd0, 0x480f, 0x11a2, 0xdd4, 0x1, 0x1);
        gbc.writeMem(0x862e, { 0x67 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x4dff, gbc.sp());
        EXPECT(0x862f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x862e));
        // 67 0157
        gbc.setState(0x38e0, 0xf964, 0xdde0, 0x53b, 0xaa3f, 0x92d4, 0x1, 0x0);
        gbc.writeMem(0x38e0, { 0x67 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xf964, gbc.sp());
        EXPECT(0x38e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0158
        gbc.setState(0x5d37, 0x7923, 0x6360, 0xaefd, 0xe714, 0xca9, 0x0, 0x1);
        gbc.writeMem(0x5d37, { 0x67 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x7923, gbc.sp());
        EXPECT(0x5d38, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0159
        gbc.setState(0x45b5, 0x6d0f, 0x33c0, 0x1ebb, 0x3edb, 0x80cd, 0x0, 0x1);
        gbc.writeMem(0x45b5, { 0x67 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x6d0f, gbc.sp());
        EXPECT(0x45b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 015A
        gbc.setState(0x1ae8, 0x338f, 0x7df0, 0x3b74, 0x654b, 0x529a, 0x1, 0x0);
        gbc.writeMem(0x1ae8, { 0x67 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x338f, gbc.sp());
        EXPECT(0x1ae9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 015B
        gbc.setState(0x342b, 0xce6e, 0xa660, 0x6158, 0x2de, 0xfcd7, 0x0, 0x0);
        gbc.writeMem(0x342b, { 0x67 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xce6e, gbc.sp());
        EXPECT(0x342c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 015C
        gbc.setState(0x4a5b, 0x2552, 0x900, 0x9b95, 0x906e, 0x81e1, 0x0, 0x0);
        gbc.writeMem(0x4a5b, { 0x67 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x2552, gbc.sp());
        EXPECT(0x4a5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 015D
        gbc.setState(0x5a21, 0x470a, 0x94b0, 0x41bd, 0x6acb, 0x2a08, 0x1, 0x0);
        gbc.writeMem(0x5a21, { 0x67 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x470a, gbc.sp());
        EXPECT(0x5a22, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 015E
        gbc.setState(0x90f1, 0x3bac, 0x5f70, 0xf274, 0x6db7, 0xf860, 0x0, 0x1);
        gbc.writeMem(0x90f1, { 0x67 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x3bac, gbc.sp());
        EXPECT(0x90f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x90f1));
        // 67 015F
        gbc.setState(0x3cb6, 0x7df8, 0x5cd0, 0xfb10, 0x1d6c, 0x6db5, 0x0, 0x0);
        gbc.writeMem(0x3cb6, { 0x67 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x7df8, gbc.sp());
        EXPECT(0x3cb7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0160
        gbc.setState(0xb802, 0xd102, 0x38d0, 0xa991, 0xea85, 0x987f, 0x0, 0x0);
        gbc.writeMem(0xb802, { 0x67 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xd102, gbc.sp());
        EXPECT(0xb803, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb802));
        // 67 0161
        gbc.setState(0x8dfd, 0x91fc, 0x8e40, 0x513a, 0x1ea9, 0x8d33, 0x0, 0x1);
        gbc.writeMem(0x8dfd, { 0x67 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x91fc, gbc.sp());
        EXPECT(0x8dfe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8dfd));
        // 67 0162
        gbc.setState(0x3154, 0x98ed, 0x24f0, 0x9130, 0xdaef, 0xaf7, 0x1, 0x1);
        gbc.writeMem(0x3154, { 0x67 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x98ed, gbc.sp());
        EXPECT(0x3155, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0163
        gbc.setState(0xe2d7, 0x6adf, 0x74a0, 0x9c71, 0x8839, 0x8815, 0x1, 0x0);
        gbc.writeMem(0xe2d7, { 0x67 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x6adf, gbc.sp());
        EXPECT(0xe2d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe2d7));
        // 67 0164
        gbc.setState(0x8849, 0x8ae7, 0xbe0, 0x662, 0x170c, 0x36de, 0x0, 0x0);
        gbc.writeMem(0x8849, { 0x67 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x8ae7, gbc.sp());
        EXPECT(0x884a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8849));
        // 67 0165
        gbc.setState(0x5b04, 0x9538, 0xe0a0, 0xd7a4, 0x3ad7, 0x3e65, 0x1, 0x1);
        gbc.writeMem(0x5b04, { 0x67 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x9538, gbc.sp());
        EXPECT(0x5b05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0166
        gbc.setState(0x34a5, 0x1376, 0x63c0, 0xebb6, 0x3245, 0x5af0, 0x0, 0x1);
        gbc.writeMem(0x34a5, { 0x67 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x1376, gbc.sp());
        EXPECT(0x34a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0167
        gbc.setState(0x29f4, 0x4093, 0x6340, 0xbfc0, 0x5af4, 0xcebd, 0x1, 0x0);
        gbc.writeMem(0x29f4, { 0x67 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x4093, gbc.sp());
        EXPECT(0x29f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0168
        gbc.setState(0x8cf4, 0xc6a0, 0xb0, 0x89a0, 0xfd6b, 0x62bd, 0x0, 0x0);
        gbc.writeMem(0x8cf4, { 0x67 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xc6a0, gbc.sp());
        EXPECT(0x8cf5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8cf4));
        // 67 0169
        gbc.setState(0x4ae8, 0x44f0, 0xf670, 0x3bba, 0x8998, 0xa836, 0x1, 0x1);
        gbc.writeMem(0x4ae8, { 0x67 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x44f0, gbc.sp());
        EXPECT(0x4ae9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 016A
        gbc.setState(0xbd86, 0x119f, 0x1880, 0x6c97, 0x97da, 0xc434, 0x0, 0x1);
        gbc.writeMem(0xbd86, { 0x67 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x119f, gbc.sp());
        EXPECT(0xbd87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbd86));
        // 67 016B
        gbc.setState(0xac6f, 0xd075, 0x9800, 0x560c, 0x4d8a, 0xa121, 0x1, 0x1);
        gbc.writeMem(0xac6f, { 0x67 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xd075, gbc.sp());
        EXPECT(0xac70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xac6f));
        // 67 016D
        gbc.setState(0x9d5e, 0x74c8, 0x8ec0, 0x6075, 0x1384, 0x4c5f, 0x1, 0x0);
        gbc.writeMem(0x9d5e, { 0x67 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x74c8, gbc.sp());
        EXPECT(0x9d5f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9d5e));
        // 67 016E
        gbc.setState(0x85cf, 0x3bfd, 0x97f0, 0x1ca6, 0x3999, 0xb291, 0x0, 0x1);
        gbc.writeMem(0x85cf, { 0x67 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x3bfd, gbc.sp());
        EXPECT(0x85d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x85cf));
        // 67 016F
        gbc.setState(0x3f86, 0x3e84, 0xb8b0, 0x20b6, 0x2943, 0x5df, 0x0, 0x0);
        gbc.writeMem(0x3f86, { 0x67 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x3e84, gbc.sp());
        EXPECT(0x3f87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0171
        gbc.setState(0x7e3f, 0x38d4, 0xd3f0, 0x66c2, 0xea4f, 0xb573, 0x0, 0x0);
        gbc.writeMem(0x7e3f, { 0x67 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x38d4, gbc.sp());
        EXPECT(0x7e40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0172
        gbc.setState(0xd752, 0x8087, 0x5770, 0x7dd9, 0xfb9a, 0x3bbc, 0x1, 0x0);
        gbc.writeMem(0xd752, { 0x67 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x8087, gbc.sp());
        EXPECT(0xd753, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd752));
        // 67 0173
        gbc.setState(0x6263, 0x5fe2, 0xc320, 0xf03b, 0xc1e9, 0x7f2f, 0x0, 0x0);
        gbc.writeMem(0x6263, { 0x67 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x5fe2, gbc.sp());
        EXPECT(0x6264, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0174
        gbc.setState(0xbeeb, 0x4da6, 0x1f60, 0xe403, 0xc495, 0x32a3, 0x0, 0x0);
        gbc.writeMem(0xbeeb, { 0x67 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x4da6, gbc.sp());
        EXPECT(0xbeec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbeeb));
        // 67 0175
        gbc.setState(0x22ce, 0xffc6, 0x6920, 0x607, 0xda94, 0xd63f, 0x1, 0x1);
        gbc.writeMem(0x22ce, { 0x67 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xffc6, gbc.sp());
        EXPECT(0x22cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0176
        gbc.setState(0xc70d, 0x1fcc, 0x7310, 0x6340, 0x135, 0x9e0a, 0x0, 0x0);
        gbc.writeMem(0xc70d, { 0x67 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x1fcc, gbc.sp());
        EXPECT(0xc70e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc70d));
        // 67 0177
        gbc.setState(0x20d7, 0x9816, 0x2c0, 0xda3e, 0x421d, 0x6f17, 0x1, 0x0);
        gbc.writeMem(0x20d7, { 0x67 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x9816, gbc.sp());
        EXPECT(0x20d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0178
        gbc.setState(0xdf5d, 0x97f9, 0x9a90, 0x1ac1, 0x3af3, 0x9d34, 0x1, 0x1);
        gbc.writeMem(0xdf5d, { 0x67 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x97f9, gbc.sp());
        EXPECT(0xdf5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdf5d));
        // 67 0179
        gbc.setState(0x6da8, 0xa1b9, 0xbc60, 0xb29c, 0xe5e2, 0x9b, 0x1, 0x1);
        gbc.writeMem(0x6da8, { 0x67 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xa1b9, gbc.sp());
        EXPECT(0x6da9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 017A
        gbc.setState(0x4035, 0xdfbe, 0xb790, 0xe9d5, 0x192a, 0xfc85, 0x0, 0x0);
        gbc.writeMem(0x4035, { 0x67 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xdfbe, gbc.sp());
        EXPECT(0x4036, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 017B
        gbc.setState(0x7824, 0x61e2, 0x4d20, 0xc68c, 0x16cb, 0xc0a7, 0x0, 0x1);
        gbc.writeMem(0x7824, { 0x67 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x61e2, gbc.sp());
        EXPECT(0x7825, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 017C
        gbc.setState(0x9888, 0x6640, 0x3fa0, 0xbe0d, 0x9681, 0x7658, 0x0, 0x0);
        gbc.writeMem(0x9888, { 0x67 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x6640, gbc.sp());
        EXPECT(0x9889, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9888));
        // 67 017D
        gbc.setState(0xb33b, 0x88aa, 0xd020, 0x6781, 0x2a50, 0xf8a8, 0x0, 0x0);
        gbc.writeMem(0xb33b, { 0x67 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x88aa, gbc.sp());
        EXPECT(0xb33c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb33b));
        // 67 017E
        gbc.setState(0x1cc6, 0xc887, 0xc130, 0x7c50, 0x6d10, 0x212e, 0x0, 0x1);
        gbc.writeMem(0x1cc6, { 0x67 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xc887, gbc.sp());
        EXPECT(0x1cc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 017F
        gbc.setState(0x8b5d, 0xd247, 0x2e90, 0x4ac3, 0x27e7, 0x406a, 0x0, 0x1);
        gbc.writeMem(0x8b5d, { 0x67 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xd247, gbc.sp());
        EXPECT(0x8b5e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8b5d));
        // 67 0180
        gbc.setState(0x4304, 0x3eea, 0x2310, 0x69b0, 0xe606, 0xc9ab, 0x1, 0x0);
        gbc.writeMem(0x4304, { 0x67 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x3eea, gbc.sp());
        EXPECT(0x4305, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0181
        gbc.setState(0xb2de, 0x8ad2, 0x36a0, 0x7a46, 0x3a55, 0xffc0, 0x0, 0x1);
        gbc.writeMem(0xb2de, { 0x67 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x8ad2, gbc.sp());
        EXPECT(0xb2df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb2de));
        // 67 0182
        gbc.setState(0x8c80, 0xbd, 0x6760, 0x7df5, 0x4438, 0xc5a, 0x0, 0x0);
        gbc.writeMem(0x8c80, { 0x67 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xbd, gbc.sp());
        EXPECT(0x8c81, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8c80));
        // 67 0183
        gbc.setState(0xe569, 0xbfb0, 0x2910, 0xa17d, 0xc72e, 0xae4b, 0x1, 0x0);
        gbc.writeMem(0xe569, { 0x67 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xbfb0, gbc.sp());
        EXPECT(0xe56a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe569));
        // 67 0184
        gbc.setState(0xa85d, 0x1fec, 0x41c0, 0xe256, 0x62f3, 0x54f, 0x0, 0x0);
        gbc.writeMem(0xa85d, { 0x67 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x1fec, gbc.sp());
        EXPECT(0xa85e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa85d));
        // 67 0185
        gbc.setState(0x91fa, 0x2609, 0x8a60, 0x3df0, 0xf843, 0x6799, 0x0, 0x0);
        gbc.writeMem(0x91fa, { 0x67 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x2609, gbc.sp());
        EXPECT(0x91fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x91fa));
        // 67 0186
        gbc.setState(0xb46a, 0xd151, 0xa680, 0x8e37, 0x795b, 0xa04b, 0x1, 0x1);
        gbc.writeMem(0xb46a, { 0x67 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xd151, gbc.sp());
        EXPECT(0xb46b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb46a));
        // 67 0187
        gbc.setState(0x729a, 0xe8b5, 0x34e0, 0x62b1, 0x8819, 0xcf4c, 0x0, 0x0);
        gbc.writeMem(0x729a, { 0x67 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xe8b5, gbc.sp());
        EXPECT(0x729b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0189
        gbc.setState(0x2d15, 0x3aef, 0xd750, 0x75b8, 0x115e, 0x95e3, 0x0, 0x1);
        gbc.writeMem(0x2d15, { 0x67 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x3aef, gbc.sp());
        EXPECT(0x2d16, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 018A
        gbc.setState(0x2bc2, 0x3957, 0x9bf0, 0x76af, 0xeaa3, 0x9c6f, 0x0, 0x0);
        gbc.writeMem(0x2bc2, { 0x67 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x3957, gbc.sp());
        EXPECT(0x2bc3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 018B
        gbc.setState(0xbc7f, 0xcd31, 0x2d00, 0xdf0a, 0xd81b, 0xe088, 0x1, 0x0);
        gbc.writeMem(0xbc7f, { 0x67 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xcd31, gbc.sp());
        EXPECT(0xbc80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbc7f));
        // 67 018C
        gbc.setState(0x7744, 0x903b, 0xc760, 0x5710, 0x432f, 0xb7b8, 0x0, 0x0);
        gbc.writeMem(0x7744, { 0x67 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x903b, gbc.sp());
        EXPECT(0x7745, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 018D
        gbc.setState(0xbc87, 0x2da4, 0xab80, 0x6572, 0x95eb, 0x49cf, 0x0, 0x0);
        gbc.writeMem(0xbc87, { 0x67 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x2da4, gbc.sp());
        EXPECT(0xbc88, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbc87));
        // 67 018E
        gbc.setState(0x53f0, 0x97d6, 0xf760, 0x8b5c, 0x5a6a, 0xd95f, 0x1, 0x0);
        gbc.writeMem(0x53f0, { 0x67 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x97d6, gbc.sp());
        EXPECT(0x53f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 018F
        gbc.setState(0x1d34, 0x9758, 0xf480, 0x291d, 0x51e, 0x9da, 0x0, 0x1);
        gbc.writeMem(0x1d34, { 0x67 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x9758, gbc.sp());
        EXPECT(0x1d35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0190
        gbc.setState(0x737a, 0x6cb3, 0x2d0, 0x8aee, 0xd558, 0x83a9, 0x0, 0x1);
        gbc.writeMem(0x737a, { 0x67 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x6cb3, gbc.sp());
        EXPECT(0x737b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0191
        gbc.setState(0xb091, 0x3e84, 0x6320, 0xabf7, 0xef98, 0x56f1, 0x0, 0x1);
        gbc.writeMem(0xb091, { 0x67 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x3e84, gbc.sp());
        EXPECT(0xb092, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb091));
        // 67 0193
        gbc.setState(0xc9c4, 0x6e3b, 0x73e0, 0x84d9, 0xbfaf, 0x782d, 0x1, 0x1);
        gbc.writeMem(0xc9c4, { 0x67 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x6e3b, gbc.sp());
        EXPECT(0xc9c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc9c4));
        // 67 0194
        gbc.setState(0x4fc2, 0x745e, 0x18e0, 0x841c, 0x5324, 0x7c5e, 0x1, 0x1);
        gbc.writeMem(0x4fc2, { 0x67 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x745e, gbc.sp());
        EXPECT(0x4fc3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0195
        gbc.setState(0x26b7, 0xa8ec, 0x5ac0, 0x1952, 0xe32d, 0x9bf7, 0x1, 0x0);
        gbc.writeMem(0x26b7, { 0x67 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xa8ec, gbc.sp());
        EXPECT(0x26b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0197
        gbc.setState(0xc18c, 0x10d5, 0x1010, 0x74a4, 0x10f, 0x92bc, 0x1, 0x1);
        gbc.writeMem(0xc18c, { 0x67 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x10d5, gbc.sp());
        EXPECT(0xc18d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc18c));
        // 67 0198
        gbc.setState(0xc77f, 0xc2c9, 0x8f30, 0xad87, 0x4a78, 0x93ff, 0x0, 0x1);
        gbc.writeMem(0xc77f, { 0x67 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xc2c9, gbc.sp());
        EXPECT(0xc780, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc77f));
        // 67 0199
        gbc.setState(0xce09, 0xe34e, 0xffb0, 0x40fb, 0x8d2f, 0xb347, 0x0, 0x0);
        gbc.writeMem(0xce09, { 0x67 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xe34e, gbc.sp());
        EXPECT(0xce0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xce09));
        // 67 019A
        gbc.setState(0x8df, 0xbafe, 0xa2b0, 0xf3c8, 0x67af, 0x45a4, 0x0, 0x0);
        gbc.writeMem(0x8df, { 0x67 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xbafe, gbc.sp());
        EXPECT(0x8e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 019B
        gbc.setState(0xb750, 0x6db, 0xab40, 0xcb6f, 0xdf12, 0x6333, 0x1, 0x1);
        gbc.writeMem(0xb750, { 0x67 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x6db, gbc.sp());
        EXPECT(0xb751, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb750));
        // 67 019C
        gbc.setState(0x72d8, 0xb575, 0x3240, 0x564a, 0x34a, 0x6b7e, 0x1, 0x0);
        gbc.writeMem(0x72d8, { 0x67 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xb575, gbc.sp());
        EXPECT(0x72d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 019D
        gbc.setState(0x2f06, 0x5a3c, 0x5c80, 0xc21a, 0x5c34, 0x90cf, 0x1, 0x0);
        gbc.writeMem(0x2f06, { 0x67 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x5a3c, gbc.sp());
        EXPECT(0x2f07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 019E
        gbc.setState(0x6546, 0x648f, 0xa3b0, 0xb41c, 0xe369, 0x337d, 0x1, 0x1);
        gbc.writeMem(0x6546, { 0x67 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x648f, gbc.sp());
        EXPECT(0x6547, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 019F
        gbc.setState(0x55a8, 0x734f, 0x1de0, 0x1de, 0x6ffa, 0xff9b, 0x0, 0x1);
        gbc.writeMem(0x55a8, { 0x67 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x734f, gbc.sp());
        EXPECT(0x55a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01A0
        gbc.setState(0x4fdb, 0x40e4, 0x9ef0, 0x816e, 0x5d8f, 0x7e09, 0x1, 0x1);
        gbc.writeMem(0x4fdb, { 0x67 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x40e4, gbc.sp());
        EXPECT(0x4fdc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01A1
        gbc.setState(0x674d, 0x85e9, 0xc130, 0xc4f0, 0x3979, 0xf79c, 0x0, 0x0);
        gbc.writeMem(0x674d, { 0x67 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x85e9, gbc.sp());
        EXPECT(0x674e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01A2
        gbc.setState(0x4b25, 0xe01f, 0xf3c0, 0x1597, 0x7253, 0x370d, 0x1, 0x0);
        gbc.writeMem(0x4b25, { 0x67 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xe01f, gbc.sp());
        EXPECT(0x4b26, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01A3
        gbc.setState(0x2996, 0x3b49, 0xf160, 0x32ad, 0x6b6a, 0xca04, 0x0, 0x0);
        gbc.writeMem(0x2996, { 0x67 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x3b49, gbc.sp());
        EXPECT(0x2997, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01A4
        gbc.setState(0x8a2, 0x211a, 0x7420, 0x40d8, 0xbb97, 0xbe41, 0x0, 0x1);
        gbc.writeMem(0x8a2, { 0x67 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x211a, gbc.sp());
        EXPECT(0x8a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01A5
        gbc.setState(0xefc1, 0x8cac, 0x9120, 0xa924, 0x6960, 0x8328, 0x1, 0x0);
        gbc.writeMem(0xefc1, { 0x67 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x8cac, gbc.sp());
        EXPECT(0xefc2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xefc1));
        // 67 01A6
        gbc.setState(0xebc9, 0x1759, 0xc160, 0x2009, 0x4b85, 0x6ab8, 0x0, 0x1);
        gbc.writeMem(0xebc9, { 0x67 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x1759, gbc.sp());
        EXPECT(0xebca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xebc9));
        // 67 01A7
        gbc.setState(0x718, 0xa602, 0xd880, 0xc6eb, 0xf04d, 0x88e8, 0x1, 0x0);
        gbc.writeMem(0x718, { 0x67 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xa602, gbc.sp());
        EXPECT(0x719, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01A8
        gbc.setState(0x98ed, 0x7d5f, 0x70c0, 0xdcb0, 0x7c0c, 0xc47f, 0x1, 0x1);
        gbc.writeMem(0x98ed, { 0x67 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x7d5f, gbc.sp());
        EXPECT(0x98ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x98ed));
        // 67 01A9
        gbc.setState(0xc467, 0xfb41, 0xb200, 0x448e, 0xf831, 0x44ee, 0x1, 0x1);
        gbc.writeMem(0xc467, { 0x67 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xfb41, gbc.sp());
        EXPECT(0xc468, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc467));
        // 67 01AA
        gbc.setState(0x1b50, 0x113e, 0x4060, 0xb082, 0x575, 0x960e, 0x0, 0x0);
        gbc.writeMem(0x1b50, { 0x67 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x113e, gbc.sp());
        EXPECT(0x1b51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01AB
        gbc.setState(0x2604, 0x35d7, 0x8620, 0x759c, 0x4c60, 0x4f8a, 0x1, 0x1);
        gbc.writeMem(0x2604, { 0x67 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x35d7, gbc.sp());
        EXPECT(0x2605, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01AC
        gbc.setState(0xefe1, 0x381f, 0xcfa0, 0x63cd, 0xfb7e, 0xff5f, 0x0, 0x0);
        gbc.writeMem(0xefe1, { 0x67 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x381f, gbc.sp());
        EXPECT(0xefe2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xefe1));
        // 67 01AE
        gbc.setState(0x1c22, 0xd1d8, 0x5300, 0xc82a, 0xe6b9, 0xc412, 0x1, 0x1);
        gbc.writeMem(0x1c22, { 0x67 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xd1d8, gbc.sp());
        EXPECT(0x1c23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01B0
        gbc.setState(0xb19b, 0x3a46, 0x7650, 0x7d4a, 0xcf2d, 0xf328, 0x1, 0x0);
        gbc.writeMem(0xb19b, { 0x67 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x3a46, gbc.sp());
        EXPECT(0xb19c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb19b));
        // 67 01B1
        gbc.setState(0xe685, 0xe9b9, 0x6000, 0xabf, 0xc975, 0x21d1, 0x0, 0x0);
        gbc.writeMem(0xe685, { 0x67 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xe9b9, gbc.sp());
        EXPECT(0xe686, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe685));
        // 67 01B2
        gbc.setState(0x45c3, 0x4770, 0xbb70, 0x338d, 0x5ec1, 0x8d37, 0x0, 0x1);
        gbc.writeMem(0x45c3, { 0x67 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x4770, gbc.sp());
        EXPECT(0x45c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01B3
        gbc.setState(0xde74, 0x84ab, 0xdbe0, 0x8eed, 0xba87, 0xe756, 0x0, 0x0);
        gbc.writeMem(0xde74, { 0x67 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x84ab, gbc.sp());
        EXPECT(0xde75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xde74));
        // 67 01B4
        gbc.setState(0x6ce1, 0x758d, 0xb560, 0x1ec1, 0x1bf6, 0x4a12, 0x1, 0x1);
        gbc.writeMem(0x6ce1, { 0x67 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x758d, gbc.sp());
        EXPECT(0x6ce2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01B5
        gbc.setState(0x36a3, 0x1c9a, 0x48c0, 0x3d3e, 0xbb2, 0x2d41, 0x1, 0x1);
        gbc.writeMem(0x36a3, { 0x67 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x1c9a, gbc.sp());
        EXPECT(0x36a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01B6
        gbc.setState(0x6672, 0x8bb5, 0x54b0, 0xeef, 0x5466, 0xa02f, 0x0, 0x0);
        gbc.writeMem(0x6672, { 0x67 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x8bb5, gbc.sp());
        EXPECT(0x6673, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01B7
        gbc.setState(0x288c, 0xd7, 0xc10, 0xdbb5, 0x4bbb, 0xdda8, 0x1, 0x1);
        gbc.writeMem(0x288c, { 0x67 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xd7, gbc.sp());
        EXPECT(0x288d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01B8
        gbc.setState(0xbe2e, 0xcaee, 0x4780, 0x7b76, 0x1099, 0x2435, 0x0, 0x0);
        gbc.writeMem(0xbe2e, { 0x67 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xcaee, gbc.sp());
        EXPECT(0xbe2f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbe2e));
        // 67 01B9
        gbc.setState(0x3ac9, 0x4cc7, 0x2560, 0xf09a, 0xcd92, 0x5a51, 0x0, 0x0);
        gbc.writeMem(0x3ac9, { 0x67 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x4cc7, gbc.sp());
        EXPECT(0x3aca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01BA
        gbc.setState(0x25cc, 0x300d, 0xa50, 0x30f8, 0x73ee, 0x443e, 0x1, 0x1);
        gbc.writeMem(0x25cc, { 0x67 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x300d, gbc.sp());
        EXPECT(0x25cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01BB
        gbc.setState(0xcf22, 0xf3a3, 0x85e0, 0x36ec, 0x61cf, 0x5a1b, 0x1, 0x0);
        gbc.writeMem(0xcf22, { 0x67 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xf3a3, gbc.sp());
        EXPECT(0xcf23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcf22));
        // 67 01BC
        gbc.setState(0x9444, 0x7880, 0x46b0, 0x1fe6, 0x7d2e, 0x3f07, 0x0, 0x1);
        gbc.writeMem(0x9444, { 0x67 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x7880, gbc.sp());
        EXPECT(0x9445, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9444));
        // 67 01BD
        gbc.setState(0x302c, 0xd35b, 0x3700, 0x6a17, 0x6b73, 0xe998, 0x0, 0x1);
        gbc.writeMem(0x302c, { 0x67 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xd35b, gbc.sp());
        EXPECT(0x302d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01BE
        gbc.setState(0xc683, 0xe6ee, 0xcfe0, 0x6c9f, 0x4b08, 0xf44f, 0x0, 0x0);
        gbc.writeMem(0xc683, { 0x67 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xe6ee, gbc.sp());
        EXPECT(0xc684, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc683));
        // 67 01C1
        gbc.setState(0x8eb2, 0xe9db, 0xf400, 0x65bf, 0x3a7c, 0x54d0, 0x0, 0x0);
        gbc.writeMem(0x8eb2, { 0x67 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xe9db, gbc.sp());
        EXPECT(0x8eb3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8eb2));
        // 67 01C2
        gbc.setState(0x853c, 0x9060, 0xf670, 0xa7a5, 0x2e95, 0xdaa1, 0x1, 0x0);
        gbc.writeMem(0x853c, { 0x67 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x9060, gbc.sp());
        EXPECT(0x853d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x853c));
        // 67 01C3
        gbc.setState(0xca80, 0x6a7a, 0x3db0, 0xf7b5, 0x69d0, 0xfe8f, 0x1, 0x1);
        gbc.writeMem(0xca80, { 0x67 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x6a7a, gbc.sp());
        EXPECT(0xca81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xca80));
        // 67 01C4
        gbc.setState(0xace6, 0x5bbf, 0xa2a0, 0x945e, 0x7a47, 0xd2db, 0x1, 0x0);
        gbc.writeMem(0xace6, { 0x67 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x5bbf, gbc.sp());
        EXPECT(0xace7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xace6));
        // 67 01C5
        gbc.setState(0xbbaa, 0x56a4, 0xde20, 0x2aef, 0x6af5, 0x544e, 0x1, 0x1);
        gbc.writeMem(0xbbaa, { 0x67 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x56a4, gbc.sp());
        EXPECT(0xbbab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbbaa));
        // 67 01C6
        gbc.setState(0x70a4, 0x651a, 0xa8c0, 0x3e75, 0xcbe5, 0x2e6a, 0x0, 0x1);
        gbc.writeMem(0x70a4, { 0x67 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x651a, gbc.sp());
        EXPECT(0x70a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01C7
        gbc.setState(0x32f3, 0xe3a4, 0x48d0, 0xa16a, 0xc88f, 0xf150, 0x1, 0x0);
        gbc.writeMem(0x32f3, { 0x67 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xe3a4, gbc.sp());
        EXPECT(0x32f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01C8
        gbc.setState(0xef98, 0xa053, 0xbde0, 0x8b33, 0xe446, 0x2ed, 0x1, 0x1);
        gbc.writeMem(0xef98, { 0x67 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xa053, gbc.sp());
        EXPECT(0xef99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xef98));
        // 67 01C9
        gbc.setState(0xa8a6, 0xa2f3, 0xac20, 0xcaa0, 0xe034, 0xdb90, 0x1, 0x0);
        gbc.writeMem(0xa8a6, { 0x67 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xa2f3, gbc.sp());
        EXPECT(0xa8a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa8a6));
        // 67 01CA
        gbc.setState(0xb318, 0x1ab4, 0xa9e0, 0x792a, 0x7898, 0xba86, 0x1, 0x1);
        gbc.writeMem(0xb318, { 0x67 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x1ab4, gbc.sp());
        EXPECT(0xb319, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb318));
        // 67 01CB
        gbc.setState(0x5b64, 0xa20b, 0x51a0, 0x56d5, 0x6e76, 0x385f, 0x1, 0x1);
        gbc.writeMem(0x5b64, { 0x67 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xa20b, gbc.sp());
        EXPECT(0x5b65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01CC
        gbc.setState(0x23e0, 0x2e5e, 0xe000, 0x9f1e, 0xd05, 0xf7fa, 0x1, 0x0);
        gbc.writeMem(0x23e0, { 0x67 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x2e5e, gbc.sp());
        EXPECT(0x23e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01CD
        gbc.setState(0x5420, 0x3747, 0x3050, 0x1f4f, 0x4fbd, 0x394b, 0x0, 0x0);
        gbc.writeMem(0x5420, { 0x67 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x3747, gbc.sp());
        EXPECT(0x5421, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01CE
        gbc.setState(0x88ec, 0x44f6, 0x9450, 0x3f4b, 0x36a3, 0x3b36, 0x0, 0x0);
        gbc.writeMem(0x88ec, { 0x67 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x44f6, gbc.sp());
        EXPECT(0x88ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x88ec));
        // 67 01CF
        gbc.setState(0x9e3d, 0xe0c6, 0xcfc0, 0xbaf7, 0x17ae, 0xc179, 0x0, 0x1);
        gbc.writeMem(0x9e3d, { 0x67 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xe0c6, gbc.sp());
        EXPECT(0x9e3e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9e3d));
        // 67 01D0
        gbc.setState(0xee4a, 0x9389, 0x9440, 0xfcd7, 0x8e7e, 0xcbf6, 0x1, 0x0);
        gbc.writeMem(0xee4a, { 0x67 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x9389, gbc.sp());
        EXPECT(0xee4b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xee4a));
        // 67 01D1
        gbc.setState(0x357b, 0x8f8c, 0xa8d0, 0xfc5e, 0x9dff, 0x66b5, 0x0, 0x1);
        gbc.writeMem(0x357b, { 0x67 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x8f8c, gbc.sp());
        EXPECT(0x357c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01D2
        gbc.setState(0x5f33, 0xab5c, 0x1f40, 0xd2ef, 0xd53a, 0xee67, 0x1, 0x1);
        gbc.writeMem(0x5f33, { 0x67 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xab5c, gbc.sp());
        EXPECT(0x5f34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01D3
        gbc.setState(0x83ef, 0x3bc5, 0xf120, 0x3207, 0x7298, 0x5070, 0x0, 0x0);
        gbc.writeMem(0x83ef, { 0x67 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x3bc5, gbc.sp());
        EXPECT(0x83f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x83ef));
        // 67 01D4
        gbc.setState(0x322f, 0xba2c, 0xba10, 0x5d3d, 0xe504, 0x26e8, 0x1, 0x0);
        gbc.writeMem(0x322f, { 0x67 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xba2c, gbc.sp());
        EXPECT(0x3230, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01D5
        gbc.setState(0xd18a, 0xeadf, 0x8750, 0x945e, 0x3bfc, 0x1670, 0x0, 0x1);
        gbc.writeMem(0xd18a, { 0x67 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xeadf, gbc.sp());
        EXPECT(0xd18b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd18a));
        // 67 01D6
        gbc.setState(0x724d, 0xacb5, 0xb370, 0x20d1, 0x5173, 0x5c42, 0x1, 0x0);
        gbc.writeMem(0x724d, { 0x67 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xacb5, gbc.sp());
        EXPECT(0x724e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01D7
        gbc.setState(0xd913, 0xad16, 0x8070, 0x4307, 0x1eff, 0x35b1, 0x1, 0x0);
        gbc.writeMem(0xd913, { 0x67 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xad16, gbc.sp());
        EXPECT(0xd914, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd913));
        // 67 01D8
        gbc.setState(0xb550, 0xe6ba, 0x14a0, 0x3950, 0x705a, 0xee3, 0x0, 0x0);
        gbc.writeMem(0xb550, { 0x67 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xe6ba, gbc.sp());
        EXPECT(0xb551, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb550));
        // 67 01D9
        gbc.setState(0x55e3, 0xb0aa, 0x3f80, 0xef93, 0x2eef, 0x57ea, 0x0, 0x0);
        gbc.writeMem(0x55e3, { 0x67 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xb0aa, gbc.sp());
        EXPECT(0x55e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01DA
        gbc.setState(0xea08, 0x850, 0x78a0, 0x5a07, 0x6995, 0x7bbe, 0x1, 0x1);
        gbc.writeMem(0xea08, { 0x67 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x850, gbc.sp());
        EXPECT(0xea09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xea08));
        // 67 01DB
        gbc.setState(0xc3d9, 0x2bec, 0xcc0, 0x1544, 0xaf0d, 0x235, 0x1, 0x0);
        gbc.writeMem(0xc3d9, { 0x67 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x2bec, gbc.sp());
        EXPECT(0xc3da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc3d9));
        // 67 01DC
        gbc.setState(0x2c0c, 0xaa6a, 0x9ee0, 0x7e04, 0x813d, 0x5cb8, 0x1, 0x1);
        gbc.writeMem(0x2c0c, { 0x67 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xaa6a, gbc.sp());
        EXPECT(0x2c0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01DD
        gbc.setState(0x9294, 0x8ce8, 0x67d0, 0x12bb, 0x7052, 0x2d5c, 0x1, 0x1);
        gbc.writeMem(0x9294, { 0x67 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x8ce8, gbc.sp());
        EXPECT(0x9295, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9294));
        // 67 01DE
        gbc.setState(0x5842, 0xf294, 0x2bd0, 0xfd77, 0xc94e, 0x5c08, 0x0, 0x0);
        gbc.writeMem(0x5842, { 0x67 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xf294, gbc.sp());
        EXPECT(0x5843, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01DF
        gbc.setState(0x160a, 0x315c, 0xde90, 0xf6d4, 0xedaa, 0x1dc7, 0x1, 0x0);
        gbc.writeMem(0x160a, { 0x67 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x315c, gbc.sp());
        EXPECT(0x160b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01E0
        gbc.setState(0x5972, 0xd5a8, 0x8f40, 0xda0, 0x7774, 0x672d, 0x1, 0x1);
        gbc.writeMem(0x5972, { 0x67 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xd5a8, gbc.sp());
        EXPECT(0x5973, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01E2
        gbc.setState(0x5bf, 0xfa3c, 0x9cd0, 0x9d36, 0x69d5, 0xb062, 0x1, 0x0);
        gbc.writeMem(0x5bf, { 0x67 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xfa3c, gbc.sp());
        EXPECT(0x5c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01E3
        gbc.setState(0x4bf7, 0x5c0e, 0x69f0, 0x931a, 0x448, 0x76a0, 0x0, 0x0);
        gbc.writeMem(0x4bf7, { 0x67 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x5c0e, gbc.sp());
        EXPECT(0x4bf8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01E4
        gbc.setState(0x1c60, 0x256a, 0x5620, 0x30b9, 0x9aac, 0x691f, 0x0, 0x1);
        gbc.writeMem(0x1c60, { 0x67 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x256a, gbc.sp());
        EXPECT(0x1c61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01E5
        gbc.setState(0xa09c, 0x905, 0xb750, 0x61f8, 0xa33d, 0xf3d3, 0x0, 0x0);
        gbc.writeMem(0xa09c, { 0x67 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x905, gbc.sp());
        EXPECT(0xa09d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa09c));
        // 67 01E6
        gbc.setState(0xa86b, 0x3b12, 0xbdf0, 0x15b2, 0x3cf, 0x649d, 0x1, 0x0);
        gbc.writeMem(0xa86b, { 0x67 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x3b12, gbc.sp());
        EXPECT(0xa86c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa86b));
        // 67 01E7
        gbc.setState(0xd9c5, 0xe2a6, 0x4eb0, 0xc48, 0x41e3, 0xdae9, 0x0, 0x1);
        gbc.writeMem(0xd9c5, { 0x67 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xe2a6, gbc.sp());
        EXPECT(0xd9c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd9c5));
        // 67 01E8
        gbc.setState(0xc080, 0xa848, 0xaeb0, 0x5aab, 0xbb7d, 0x36aa, 0x1, 0x0);
        gbc.writeMem(0xc080, { 0x67 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xa848, gbc.sp());
        EXPECT(0xc081, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc080));
        // 67 01E9
        gbc.setState(0x771d, 0xe727, 0x88b0, 0xd33a, 0xaf41, 0x4fa8, 0x0, 0x1);
        gbc.writeMem(0x771d, { 0x67 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xe727, gbc.sp());
        EXPECT(0x771e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01EA
        gbc.setState(0xcd7f, 0xd18b, 0x8c30, 0xb657, 0xb94c, 0x710, 0x0, 0x0);
        gbc.writeMem(0xcd7f, { 0x67 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xd18b, gbc.sp());
        EXPECT(0xcd80, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcd7f));
        // 67 01EB
        gbc.setState(0x38a4, 0x9f54, 0x8420, 0xb6b0, 0x1d8f, 0xb65a, 0x1, 0x1);
        gbc.writeMem(0x38a4, { 0x67 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x9f54, gbc.sp());
        EXPECT(0x38a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01EC
        gbc.setState(0xefbe, 0x7d94, 0xb590, 0x6955, 0x734b, 0xd5e7, 0x0, 0x1);
        gbc.writeMem(0xefbe, { 0x67 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x7d94, gbc.sp());
        EXPECT(0xefbf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xefbe));
        // 67 01ED
        gbc.setState(0x2d82, 0x4fb6, 0x42b0, 0xa0dc, 0x3a08, 0x9af, 0x0, 0x1);
        gbc.writeMem(0x2d82, { 0x67 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x4fb6, gbc.sp());
        EXPECT(0x2d83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01EE
        gbc.setState(0x7b86, 0x81ca, 0xc420, 0xd5f6, 0x3a8a, 0x31d3, 0x0, 0x0);
        gbc.writeMem(0x7b86, { 0x67 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x81ca, gbc.sp());
        EXPECT(0x7b87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01EF
        gbc.setState(0xe1c4, 0xfda1, 0x310, 0xbe83, 0x4db9, 0xebca, 0x0, 0x0);
        gbc.writeMem(0xe1c4, { 0x67 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xfda1, gbc.sp());
        EXPECT(0xe1c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe1c4));
        // 67 01F0
        gbc.setState(0xd6f3, 0xbf10, 0xbdf0, 0xcea8, 0x2c22, 0xcc02, 0x0, 0x0);
        gbc.writeMem(0xd6f3, { 0x67 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xbf10, gbc.sp());
        EXPECT(0xd6f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd6f3));
        // 67 01F1
        gbc.setState(0xa048, 0xdf64, 0x1070, 0x57ae, 0x397e, 0xdb47, 0x0, 0x1);
        gbc.writeMem(0xa048, { 0x67 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xdf64, gbc.sp());
        EXPECT(0xa049, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa048));
        // 67 01F2
        gbc.setState(0x26e9, 0xc452, 0x20d0, 0xcd80, 0x9cd0, 0xa1b9, 0x0, 0x0);
        gbc.writeMem(0x26e9, { 0x67 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xc452, gbc.sp());
        EXPECT(0x26ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01F3
        gbc.setState(0x8890, 0x649c, 0xc7b0, 0x55a, 0x52bd, 0xaf27, 0x0, 0x1);
        gbc.writeMem(0x8890, { 0x67 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x649c, gbc.sp());
        EXPECT(0x8891, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8890));
        // 67 01F4
        gbc.setState(0xa392, 0xe009, 0x6a90, 0x18cb, 0x249f, 0x6e3f, 0x0, 0x1);
        gbc.writeMem(0xa392, { 0x67 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xe009, gbc.sp());
        EXPECT(0xa393, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa392));
        // 67 01F5
        gbc.setState(0x84c4, 0xe8f0, 0xe9c0, 0x7f39, 0xd4a4, 0x6feb, 0x1, 0x1);
        gbc.writeMem(0x84c4, { 0x67 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xe8f0, gbc.sp());
        EXPECT(0x84c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x84c4));
        // 67 01F6
        gbc.setState(0x330, 0x38bd, 0xd880, 0x4d89, 0x307e, 0xf620, 0x1, 0x0);
        gbc.writeMem(0x330, { 0x67 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x38bd, gbc.sp());
        EXPECT(0x331, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01F7
        gbc.setState(0xe55b, 0xa9a3, 0xa0c0, 0xd43, 0xf966, 0x3ef2, 0x1, 0x0);
        gbc.writeMem(0xe55b, { 0x67 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xa9a3, gbc.sp());
        EXPECT(0xe55c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe55b));
        // 67 01F8
        gbc.setState(0xe0b8, 0x921f, 0x5d60, 0x2f7a, 0xdbf5, 0x4b04, 0x0, 0x1);
        gbc.writeMem(0xe0b8, { 0x67 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x921f, gbc.sp());
        EXPECT(0xe0b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe0b8));
        // 67 01F9
        gbc.setState(0x4ee1, 0xfc1f, 0x7d50, 0x31f3, 0x94a6, 0x496e, 0x0, 0x1);
        gbc.writeMem(0x4ee1, { 0x67 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xfc1f, gbc.sp());
        EXPECT(0x4ee2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01FA
        gbc.setState(0x5e1c, 0x1413, 0x7fa0, 0xcc76, 0xc456, 0x1a83, 0x0, 0x0);
        gbc.writeMem(0x5e1c, { 0x67 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x1413, gbc.sp());
        EXPECT(0x5e1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01FB
        gbc.setState(0xd436, 0x63a4, 0x6030, 0x6a5d, 0x1962, 0x2930, 0x0, 0x1);
        gbc.writeMem(0xd436, { 0x67 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x63a4, gbc.sp());
        EXPECT(0xd437, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd436));
        // 67 01FC
        gbc.setState(0x2095, 0xd185, 0x5500, 0x3313, 0x7916, 0xa981, 0x0, 0x1);
        gbc.writeMem(0x2095, { 0x67 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xd185, gbc.sp());
        EXPECT(0x2096, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 01FD
        gbc.setState(0x1dff, 0x6a8c, 0xc190, 0xde46, 0x49a2, 0x425e, 0x0, 0x0);
        gbc.writeMem(0x1dff, { 0x67 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x6a8c, gbc.sp());
        EXPECT(0x1e00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 01FE
        gbc.setState(0x8feb, 0xcfdb, 0x3e0, 0xa16f, 0x67b9, 0x3210, 0x0, 0x0);
        gbc.writeMem(0x8feb, { 0x67 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xcfdb, gbc.sp());
        EXPECT(0x8fec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8feb));
        // 67 01FF
        gbc.setState(0x9647, 0x342d, 0xfdc0, 0x7e51, 0xb973, 0x9b4e, 0x0, 0x0);
        gbc.writeMem(0x9647, { 0x67 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x342d, gbc.sp());
        EXPECT(0x9648, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9647));
        // 67 0200
        gbc.setState(0x7866, 0xc377, 0x1040, 0xdb3, 0xe7bb, 0x4dbc, 0x1, 0x0);
        gbc.writeMem(0x7866, { 0x67 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xc377, gbc.sp());
        EXPECT(0x7867, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0201
        gbc.setState(0xee1d, 0xeb5c, 0x70b0, 0x5c2f, 0xce6a, 0x6ec0, 0x1, 0x1);
        gbc.writeMem(0xee1d, { 0x67 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xeb5c, gbc.sp());
        EXPECT(0xee1e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xee1d));
        // 67 0203
        gbc.setState(0x4e49, 0x5d13, 0x8680, 0x7961, 0xa2f1, 0x3c8c, 0x1, 0x1);
        gbc.writeMem(0x4e49, { 0x67 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x5d13, gbc.sp());
        EXPECT(0x4e4a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0204
        gbc.setState(0x5352, 0x6602, 0xea0, 0x31a8, 0x6d91, 0x88b9, 0x0, 0x1);
        gbc.writeMem(0x5352, { 0x67 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x6602, gbc.sp());
        EXPECT(0x5353, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0205
        gbc.setState(0x9ccb, 0x354b, 0x5d50, 0x9b3c, 0x4f95, 0x5377, 0x1, 0x0);
        gbc.writeMem(0x9ccb, { 0x67 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x354b, gbc.sp());
        EXPECT(0x9ccc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9ccb));
        // 67 0206
        gbc.setState(0x5327, 0x14a4, 0x8430, 0xe5b9, 0x9bc4, 0xf7e7, 0x1, 0x0);
        gbc.writeMem(0x5327, { 0x67 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x14a4, gbc.sp());
        EXPECT(0x5328, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0207
        gbc.setState(0xd57e, 0xf2b1, 0x7460, 0xdcb7, 0xd1af, 0xf164, 0x0, 0x0);
        gbc.writeMem(0xd57e, { 0x67 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xf2b1, gbc.sp());
        EXPECT(0xd57f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd57e));
        // 67 0208
        gbc.setState(0x8187, 0x9920, 0x47e0, 0xe459, 0xf4ee, 0xe199, 0x1, 0x1);
        gbc.writeMem(0x8187, { 0x67 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x9920, gbc.sp());
        EXPECT(0x8188, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8187));
        // 67 0209
        gbc.setState(0xaab, 0x310, 0x2090, 0x7909, 0x3633, 0xaf37, 0x0, 0x0);
        gbc.writeMem(0xaab, { 0x67 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x310, gbc.sp());
        EXPECT(0xaac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 020A
        gbc.setState(0x3690, 0x8603, 0x8500, 0xa12a, 0xfcc8, 0xc5e5, 0x0, 0x0);
        gbc.writeMem(0x3690, { 0x67 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x8603, gbc.sp());
        EXPECT(0x3691, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 020B
        gbc.setState(0xabfe, 0x85c3, 0xa0b0, 0x7983, 0x1179, 0xfb35, 0x1, 0x1);
        gbc.writeMem(0xabfe, { 0x67 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x85c3, gbc.sp());
        EXPECT(0xabff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xabfe));
        // 67 020C
        gbc.setState(0xb6b3, 0x8ed1, 0xc2e0, 0x4622, 0x9c08, 0xaeb, 0x0, 0x0);
        gbc.writeMem(0xb6b3, { 0x67 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x8ed1, gbc.sp());
        EXPECT(0xb6b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb6b3));
        // 67 020D
        gbc.setState(0x2e33, 0x3c60, 0xd820, 0x2ea0, 0x6ac5, 0x1496, 0x1, 0x1);
        gbc.writeMem(0x2e33, { 0x67 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x3c60, gbc.sp());
        EXPECT(0x2e34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 020E
        gbc.setState(0xb68b, 0x1a03, 0xba0, 0x53ac, 0xa185, 0x10cf, 0x1, 0x1);
        gbc.writeMem(0xb68b, { 0x67 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x1a03, gbc.sp());
        EXPECT(0xb68c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb68b));
        // 67 020F
        gbc.setState(0xa344, 0x80d5, 0x31a0, 0x87fd, 0x1a1b, 0x4b61, 0x1, 0x0);
        gbc.writeMem(0xa344, { 0x67 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x80d5, gbc.sp());
        EXPECT(0xa345, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa344));
        // 67 0210
        gbc.setState(0x2d0a, 0xe8b0, 0xb560, 0xbe16, 0xa7f5, 0x8db4, 0x0, 0x0);
        gbc.writeMem(0x2d0a, { 0x67 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xe8b0, gbc.sp());
        EXPECT(0x2d0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0211
        gbc.setState(0xbeb2, 0x22a7, 0xb30, 0xac2e, 0xb995, 0x21f7, 0x0, 0x1);
        gbc.writeMem(0xbeb2, { 0x67 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x22a7, gbc.sp());
        EXPECT(0xbeb3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbeb2));
        // 67 0212
        gbc.setState(0x4b0e, 0x37ab, 0x2d50, 0x1b02, 0x152d, 0xe25d, 0x0, 0x1);
        gbc.writeMem(0x4b0e, { 0x67 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x37ab, gbc.sp());
        EXPECT(0x4b0f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0213
        gbc.setState(0xd84f, 0x7214, 0x84f0, 0x958, 0xd4c, 0x76a0, 0x0, 0x1);
        gbc.writeMem(0xd84f, { 0x67 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x7214, gbc.sp());
        EXPECT(0xd850, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd84f));
        // 67 0214
        gbc.setState(0x70c4, 0x66a0, 0x6a40, 0x7ebd, 0x25bc, 0x1f9f, 0x0, 0x0);
        gbc.writeMem(0x70c4, { 0x67 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x66a0, gbc.sp());
        EXPECT(0x70c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0215
        gbc.setState(0xae86, 0xa189, 0x1310, 0xe3cd, 0x74b5, 0xdadd, 0x1, 0x1);
        gbc.writeMem(0xae86, { 0x67 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xa189, gbc.sp());
        EXPECT(0xae87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xae86));
        // 67 0216
        gbc.setState(0x1483, 0x4938, 0xcd10, 0x9672, 0xc1c2, 0xfb32, 0x1, 0x1);
        gbc.writeMem(0x1483, { 0x67 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x4938, gbc.sp());
        EXPECT(0x1484, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0217
        gbc.setState(0x549f, 0xe39d, 0xc960, 0xab1a, 0xe5fb, 0x53a9, 0x0, 0x0);
        gbc.writeMem(0x549f, { 0x67 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xe39d, gbc.sp());
        EXPECT(0x54a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0218
        gbc.setState(0x3f82, 0xed46, 0x1050, 0x49af, 0x40f2, 0xcfcc, 0x0, 0x1);
        gbc.writeMem(0x3f82, { 0x67 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xed46, gbc.sp());
        EXPECT(0x3f83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0219
        gbc.setState(0xcdcf, 0x5b00, 0x6510, 0xafd2, 0x7c5d, 0x62ce, 0x1, 0x0);
        gbc.writeMem(0xcdcf, { 0x67 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x5b00, gbc.sp());
        EXPECT(0xcdd0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcdcf));
        // 67 021A
        gbc.setState(0x685e, 0xe83b, 0xf0a0, 0x3692, 0xc5c1, 0x47f4, 0x0, 0x0);
        gbc.writeMem(0x685e, { 0x67 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xe83b, gbc.sp());
        EXPECT(0x685f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 021C
        gbc.setState(0x71bb, 0x9bf3, 0x5c60, 0xe37, 0x5b24, 0xa64b, 0x0, 0x0);
        gbc.writeMem(0x71bb, { 0x67 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x9bf3, gbc.sp());
        EXPECT(0x71bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 021D
        gbc.setState(0x6eff, 0x3b0b, 0xb400, 0xe55e, 0x4b2e, 0xafa9, 0x0, 0x1);
        gbc.writeMem(0x6eff, { 0x67 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x3b0b, gbc.sp());
        EXPECT(0x6f00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 021E
        gbc.setState(0x4602, 0xf186, 0x1490, 0x3909, 0xe7a0, 0xc921, 0x0, 0x1);
        gbc.writeMem(0x4602, { 0x67 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xf186, gbc.sp());
        EXPECT(0x4603, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 021F
        gbc.setState(0x7abf, 0xa6db, 0xe120, 0x62ec, 0x2875, 0x6665, 0x0, 0x1);
        gbc.writeMem(0x7abf, { 0x67 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xa6db, gbc.sp());
        EXPECT(0x7ac0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0220
        gbc.setState(0xb667, 0x2842, 0xf2e0, 0x1a6f, 0x3053, 0x164d, 0x0, 0x0);
        gbc.writeMem(0xb667, { 0x67 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x2842, gbc.sp());
        EXPECT(0xb668, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb667));
        // 67 0221
        gbc.setState(0x1ed0, 0x5dd7, 0xd520, 0xe65e, 0x3397, 0x5cfd, 0x0, 0x0);
        gbc.writeMem(0x1ed0, { 0x67 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x5dd7, gbc.sp());
        EXPECT(0x1ed1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0222
        gbc.setState(0x412e, 0x4137, 0x4190, 0xd11f, 0x3c95, 0x464d, 0x1, 0x1);
        gbc.writeMem(0x412e, { 0x67 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x4137, gbc.sp());
        EXPECT(0x412f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0223
        gbc.setState(0xb9c, 0x572e, 0xe970, 0xb2b4, 0x5870, 0x9dc, 0x1, 0x0);
        gbc.writeMem(0xb9c, { 0x67 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x572e, gbc.sp());
        EXPECT(0xb9d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0224
        gbc.setState(0x6182, 0xa511, 0x6870, 0xa41e, 0x2b87, 0x377f, 0x0, 0x0);
        gbc.writeMem(0x6182, { 0x67 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xa511, gbc.sp());
        EXPECT(0x6183, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0225
        gbc.setState(0xdf42, 0x7a85, 0xce00, 0x41a1, 0x915f, 0x58c, 0x1, 0x0);
        gbc.writeMem(0xdf42, { 0x67 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x7a85, gbc.sp());
        EXPECT(0xdf43, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdf42));
        // 67 0226
        gbc.setState(0x53b1, 0x6479, 0x7980, 0xafd0, 0xeaed, 0x31fb, 0x0, 0x0);
        gbc.writeMem(0x53b1, { 0x67 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x6479, gbc.sp());
        EXPECT(0x53b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0227
        gbc.setState(0xdaf7, 0x7336, 0xb3a0, 0xff7, 0x13a, 0x3f66, 0x1, 0x1);
        gbc.writeMem(0xdaf7, { 0x67 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x7336, gbc.sp());
        EXPECT(0xdaf8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdaf7));
        // 67 0228
        gbc.setState(0x3211, 0x2333, 0xa920, 0x5aa9, 0x9d9d, 0x7f51, 0x0, 0x1);
        gbc.writeMem(0x3211, { 0x67 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x2333, gbc.sp());
        EXPECT(0x3212, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 022A
        gbc.setState(0x3ccf, 0x97b7, 0xb220, 0xdff4, 0x7052, 0x28e7, 0x0, 0x1);
        gbc.writeMem(0x3ccf, { 0x67 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x97b7, gbc.sp());
        EXPECT(0x3cd0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 022B
        gbc.setState(0xa4d8, 0x1c99, 0xa060, 0x2d91, 0xb115, 0x3ddd, 0x1, 0x1);
        gbc.writeMem(0xa4d8, { 0x67 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x1c99, gbc.sp());
        EXPECT(0xa4d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa4d8));
        // 67 022C
        gbc.setState(0xc304, 0xd6, 0xb910, 0x573, 0xf295, 0x7432, 0x1, 0x1);
        gbc.writeMem(0xc304, { 0x67 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xd6, gbc.sp());
        EXPECT(0xc305, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc304));
        // 67 022D
        gbc.setState(0x2b7a, 0x54f8, 0x5240, 0x205d, 0x35bb, 0xb7c8, 0x1, 0x1);
        gbc.writeMem(0x2b7a, { 0x67 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x54f8, gbc.sp());
        EXPECT(0x2b7b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 022E
        gbc.setState(0x2ae9, 0xef98, 0x6d30, 0x8004, 0x4870, 0xc12c, 0x1, 0x1);
        gbc.writeMem(0x2ae9, { 0x67 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xef98, gbc.sp());
        EXPECT(0x2aea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 022F
        gbc.setState(0x2669, 0xbe66, 0x46b0, 0x6913, 0x5f5a, 0xaca5, 0x0, 0x1);
        gbc.writeMem(0x2669, { 0x67 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xbe66, gbc.sp());
        EXPECT(0x266a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0230
        gbc.setState(0x53d6, 0xcc0, 0xb180, 0x327f, 0xbbe4, 0x7d7a, 0x1, 0x0);
        gbc.writeMem(0x53d6, { 0x67 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xcc0, gbc.sp());
        EXPECT(0x53d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0231
        gbc.setState(0x480, 0x79b1, 0x8d00, 0xbab5, 0xc984, 0x52c2, 0x0, 0x0);
        gbc.writeMem(0x480, { 0x67 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x79b1, gbc.sp());
        EXPECT(0x481, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0232
        gbc.setState(0x8ea4, 0x8d6f, 0xfc70, 0x4d60, 0xdaa4, 0x34ff, 0x1, 0x1);
        gbc.writeMem(0x8ea4, { 0x67 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x8d6f, gbc.sp());
        EXPECT(0x8ea5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8ea4));
        // 67 0233
        gbc.setState(0x7fd4, 0x6304, 0xc700, 0x40e0, 0x3db7, 0xa7a3, 0x1, 0x0);
        gbc.writeMem(0x7fd4, { 0x67 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x6304, gbc.sp());
        EXPECT(0x7fd5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0234
        gbc.setState(0xc99e, 0xc816, 0xf2d0, 0x7c2c, 0xe21c, 0x1249, 0x0, 0x0);
        gbc.writeMem(0xc99e, { 0x67 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xc816, gbc.sp());
        EXPECT(0xc99f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc99e));
        // 67 0235
        gbc.setState(0xa0ce, 0x5740, 0xe340, 0xfa72, 0x2f62, 0x630d, 0x0, 0x0);
        gbc.writeMem(0xa0ce, { 0x67 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x5740, gbc.sp());
        EXPECT(0xa0cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa0ce));
        // 67 0236
        gbc.setState(0xcd36, 0xebdb, 0x2cf0, 0x4fc1, 0xbf50, 0x68ee, 0x0, 0x0);
        gbc.writeMem(0xcd36, { 0x67 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xebdb, gbc.sp());
        EXPECT(0xcd37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcd36));
        // 67 0237
        gbc.setState(0x2655, 0x404e, 0x4510, 0xc148, 0x3703, 0x84c0, 0x0, 0x1);
        gbc.writeMem(0x2655, { 0x67 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x404e, gbc.sp());
        EXPECT(0x2656, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0239
        gbc.setState(0x4781, 0xd579, 0xf900, 0x45dd, 0x7ae9, 0x9a05, 0x0, 0x1);
        gbc.writeMem(0x4781, { 0x67 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xd579, gbc.sp());
        EXPECT(0x4782, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 023A
        gbc.setState(0xab7c, 0xcba1, 0xb350, 0xc0d7, 0xf49, 0xc55d, 0x0, 0x0);
        gbc.writeMem(0xab7c, { 0x67 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xcba1, gbc.sp());
        EXPECT(0xab7d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xab7c));
        // 67 023B
        gbc.setState(0x9239, 0x4189, 0xb930, 0x2efb, 0x3a8a, 0xa212, 0x0, 0x0);
        gbc.writeMem(0x9239, { 0x67 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x4189, gbc.sp());
        EXPECT(0x923a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9239));
        // 67 023C
        gbc.setState(0x202e, 0x6509, 0x8940, 0xe1ea, 0xbad9, 0xc054, 0x1, 0x0);
        gbc.writeMem(0x202e, { 0x67 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x6509, gbc.sp());
        EXPECT(0x202f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 023D
        gbc.setState(0x7a09, 0x78a1, 0x7d10, 0xcb4d, 0xec83, 0x3671, 0x1, 0x0);
        gbc.writeMem(0x7a09, { 0x67 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x78a1, gbc.sp());
        EXPECT(0x7a0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 023E
        gbc.setState(0x4204, 0xcf14, 0xc950, 0xd83d, 0x62fd, 0xa7d4, 0x1, 0x0);
        gbc.writeMem(0x4204, { 0x67 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xcf14, gbc.sp());
        EXPECT(0x4205, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 023F
        gbc.setState(0xac74, 0x5b9c, 0x560, 0xc375, 0x131c, 0xe1f6, 0x1, 0x0);
        gbc.writeMem(0xac74, { 0x67 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x5b9c, gbc.sp());
        EXPECT(0xac75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xac74));
        // 67 0240
        gbc.setState(0x825a, 0xd22c, 0x3dc0, 0x8fe3, 0x4577, 0xadb3, 0x0, 0x0);
        gbc.writeMem(0x825a, { 0x67 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xd22c, gbc.sp());
        EXPECT(0x825b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x825a));
        // 67 0241
        gbc.setState(0xe54b, 0x4c8d, 0xff00, 0xe16e, 0x8d8c, 0x7d48, 0x1, 0x0);
        gbc.writeMem(0xe54b, { 0x67 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x4c8d, gbc.sp());
        EXPECT(0xe54c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe54b));
        // 67 0242
        gbc.setState(0xe760, 0xd329, 0x2db0, 0x6124, 0x65b6, 0xaa76, 0x1, 0x1);
        gbc.writeMem(0xe760, { 0x67 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xd329, gbc.sp());
        EXPECT(0xe761, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe760));
        // 67 0244
        gbc.setState(0x478f, 0x8bcf, 0x3a50, 0x963e, 0xfd2, 0x3efe, 0x1, 0x1);
        gbc.writeMem(0x478f, { 0x67 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x8bcf, gbc.sp());
        EXPECT(0x4790, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0245
        gbc.setState(0x4cbf, 0xe147, 0xe660, 0x9bc2, 0x6227, 0x9e87, 0x1, 0x1);
        gbc.writeMem(0x4cbf, { 0x67 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xe147, gbc.sp());
        EXPECT(0x4cc0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0246
        gbc.setState(0x6320, 0x81cb, 0x70a0, 0xba7b, 0x3e53, 0xd6a6, 0x1, 0x0);
        gbc.writeMem(0x6320, { 0x67 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x81cb, gbc.sp());
        EXPECT(0x6321, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0247
        gbc.setState(0x99ee, 0x8b49, 0x3400, 0xf006, 0x5832, 0x4d51, 0x0, 0x1);
        gbc.writeMem(0x99ee, { 0x67 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x8b49, gbc.sp());
        EXPECT(0x99ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x99ee));
        // 67 0248
        gbc.setState(0x6ed2, 0x1179, 0x9570, 0x30f8, 0xda97, 0xc30d, 0x0, 0x1);
        gbc.writeMem(0x6ed2, { 0x67 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x1179, gbc.sp());
        EXPECT(0x6ed3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0249
        gbc.setState(0x7257, 0x2040, 0x7940, 0x5359, 0x9f5b, 0xd7b, 0x1, 0x0);
        gbc.writeMem(0x7257, { 0x67 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x2040, gbc.sp());
        EXPECT(0x7258, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 024A
        gbc.setState(0x28b4, 0x1df, 0xda60, 0x7f29, 0xafd7, 0xf763, 0x0, 0x0);
        gbc.writeMem(0x28b4, { 0x67 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x1df, gbc.sp());
        EXPECT(0x28b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 024B
        gbc.setState(0xa1fb, 0xb07e, 0x6470, 0xd39e, 0xf6b3, 0x387e, 0x0, 0x0);
        gbc.writeMem(0xa1fb, { 0x67 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xb07e, gbc.sp());
        EXPECT(0xa1fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa1fb));
        // 67 024C
        gbc.setState(0xbfed, 0x8734, 0xfc20, 0x280a, 0x7bb1, 0x2201, 0x1, 0x1);
        gbc.writeMem(0xbfed, { 0x67 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x8734, gbc.sp());
        EXPECT(0xbfee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbfed));
        // 67 024D
        gbc.setState(0xe589, 0xde33, 0x40c0, 0x5f1d, 0xd0a5, 0xc35b, 0x1, 0x0);
        gbc.writeMem(0xe589, { 0x67 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xde33, gbc.sp());
        EXPECT(0xe58a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe589));
        // 67 024E
        gbc.setState(0x21f8, 0x65ec, 0xa110, 0xbadb, 0xdd69, 0xe6f, 0x0, 0x0);
        gbc.writeMem(0x21f8, { 0x67 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x65ec, gbc.sp());
        EXPECT(0x21f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 024F
        gbc.setState(0xc27, 0xda38, 0x6870, 0xe062, 0x5317, 0x8de8, 0x1, 0x1);
        gbc.writeMem(0xc27, { 0x67 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xda38, gbc.sp());
        EXPECT(0xc28, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0251
        gbc.setState(0x6197, 0x280, 0x2de0, 0x3714, 0xf391, 0xfdd2, 0x0, 0x0);
        gbc.writeMem(0x6197, { 0x67 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x280, gbc.sp());
        EXPECT(0x6198, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0252
        gbc.setState(0x7cf4, 0x5176, 0x6ff0, 0xd2d6, 0x2a0c, 0xab33, 0x0, 0x0);
        gbc.writeMem(0x7cf4, { 0x67 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x5176, gbc.sp());
        EXPECT(0x7cf5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0253
        gbc.setState(0xd7f7, 0x2140, 0x47c0, 0x560a, 0x7344, 0xdf3d, 0x0, 0x1);
        gbc.writeMem(0xd7f7, { 0x67 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x2140, gbc.sp());
        EXPECT(0xd7f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd7f7));
        // 67 0254
        gbc.setState(0x36d, 0xaacd, 0x5600, 0x2b57, 0x3364, 0xadf7, 0x1, 0x1);
        gbc.writeMem(0x36d, { 0x67 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xaacd, gbc.sp());
        EXPECT(0x36e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0255
        gbc.setState(0x550c, 0x3aac, 0xb2e0, 0x1693, 0x4a8d, 0x4fa2, 0x0, 0x1);
        gbc.writeMem(0x550c, { 0x67 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x3aac, gbc.sp());
        EXPECT(0x550d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0256
        gbc.setState(0x130a, 0x29e, 0xc160, 0x289a, 0xc9e1, 0xdfbe, 0x1, 0x0);
        gbc.writeMem(0x130a, { 0x67 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x29e, gbc.sp());
        EXPECT(0x130b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0257
        gbc.setState(0x7953, 0x5231, 0x7a50, 0xf1ae, 0x45d8, 0x63db, 0x0, 0x0);
        gbc.writeMem(0x7953, { 0x67 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x5231, gbc.sp());
        EXPECT(0x7954, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0258
        gbc.setState(0xba56, 0x2e18, 0xac50, 0x34a1, 0xd662, 0x485b, 0x1, 0x1);
        gbc.writeMem(0xba56, { 0x67 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x2e18, gbc.sp());
        EXPECT(0xba57, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xba56));
        // 67 0259
        gbc.setState(0xeb70, 0x83b4, 0x7380, 0xe159, 0x55b9, 0x882c, 0x0, 0x0);
        gbc.writeMem(0xeb70, { 0x67 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x83b4, gbc.sp());
        EXPECT(0xeb71, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xeb70));
        // 67 025A
        gbc.setState(0x1e9d, 0x3e51, 0xdb60, 0x6a55, 0x2fe7, 0xdecf, 0x1, 0x1);
        gbc.writeMem(0x1e9d, { 0x67 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x3e51, gbc.sp());
        EXPECT(0x1e9e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 025B
        gbc.setState(0xaa3a, 0xb85d, 0xc480, 0xec34, 0xc322, 0xa737, 0x0, 0x0);
        gbc.writeMem(0xaa3a, { 0x67 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xb85d, gbc.sp());
        EXPECT(0xaa3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xaa3a));
        // 67 025C
        gbc.setState(0xed34, 0x9a68, 0x2db0, 0x299e, 0x98ed, 0xa34a, 0x0, 0x0);
        gbc.writeMem(0xed34, { 0x67 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x9a68, gbc.sp());
        EXPECT(0xed35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xed34));
        // 67 025D
        gbc.setState(0x203c, 0x5926, 0x1800, 0x35ee, 0x972b, 0xc0b2, 0x0, 0x1);
        gbc.writeMem(0x203c, { 0x67 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x5926, gbc.sp());
        EXPECT(0x203d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 025E
        gbc.setState(0x4673, 0x1e1d, 0x8ef0, 0x6bf2, 0xc24a, 0x740, 0x1, 0x1);
        gbc.writeMem(0x4673, { 0x67 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x1e1d, gbc.sp());
        EXPECT(0x4674, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 025F
        gbc.setState(0xaa97, 0x1b9a, 0x5030, 0xdd84, 0xa056, 0x2cb8, 0x1, 0x1);
        gbc.writeMem(0xaa97, { 0x67 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x1b9a, gbc.sp());
        EXPECT(0xaa98, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xaa97));
        // 67 0260
        gbc.setState(0xe6a5, 0x51b2, 0x52e0, 0xa99e, 0x1dd1, 0x6774, 0x1, 0x0);
        gbc.writeMem(0xe6a5, { 0x67 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x51b2, gbc.sp());
        EXPECT(0xe6a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe6a5));
        // 67 0261
        gbc.setState(0xd972, 0x4ec4, 0x5cc0, 0x4e0c, 0x78a2, 0x77d2, 0x0, 0x1);
        gbc.writeMem(0xd972, { 0x67 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x4ec4, gbc.sp());
        EXPECT(0xd973, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd972));
        // 67 0262
        gbc.setState(0x8d8f, 0xc524, 0x3620, 0xb6c6, 0x5306, 0xe0e2, 0x0, 0x1);
        gbc.writeMem(0x8d8f, { 0x67 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xc524, gbc.sp());
        EXPECT(0x8d90, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8d8f));
        // 67 0263
        gbc.setState(0x7a20, 0x8e56, 0x5270, 0x78f1, 0x37d0, 0x8b88, 0x0, 0x0);
        gbc.writeMem(0x7a20, { 0x67 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x8e56, gbc.sp());
        EXPECT(0x7a21, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0264
        gbc.setState(0xee91, 0x58c3, 0x3340, 0x2e26, 0x8e43, 0x70e9, 0x0, 0x1);
        gbc.writeMem(0xee91, { 0x67 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x58c3, gbc.sp());
        EXPECT(0xee92, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xee91));
        // 67 0265
        gbc.setState(0x7943, 0x414f, 0xe7a0, 0xbb80, 0x74fd, 0xf657, 0x0, 0x0);
        gbc.writeMem(0x7943, { 0x67 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x414f, gbc.sp());
        EXPECT(0x7944, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0267
        gbc.setState(0x904e, 0xa1e3, 0x5a30, 0xac03, 0x22bb, 0xb288, 0x0, 0x0);
        gbc.writeMem(0x904e, { 0x67 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xa1e3, gbc.sp());
        EXPECT(0x904f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x904e));
        // 67 0268
        gbc.setState(0x79ac, 0xb14, 0x7650, 0xb9f7, 0xc911, 0x8e5e, 0x1, 0x0);
        gbc.writeMem(0x79ac, { 0x67 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xb14, gbc.sp());
        EXPECT(0x79ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0269
        gbc.setState(0x76a0, 0xc11, 0x81c0, 0x39be, 0x560b, 0x6a33, 0x1, 0x0);
        gbc.writeMem(0x76a0, { 0x67 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xc11, gbc.sp());
        EXPECT(0x76a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 026A
        gbc.setState(0x3c41, 0x20e7, 0x33d0, 0x1165, 0xaad, 0x636f, 0x1, 0x0);
        gbc.writeMem(0x3c41, { 0x67 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x20e7, gbc.sp());
        EXPECT(0x3c42, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 026C
        gbc.setState(0x2e02, 0x3f58, 0xa150, 0x7087, 0xac22, 0x751b, 0x0, 0x0);
        gbc.writeMem(0x2e02, { 0x67 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x3f58, gbc.sp());
        EXPECT(0x2e03, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 026D
        gbc.setState(0x10b7, 0xe665, 0xe560, 0xd9f4, 0x4e5a, 0x40ca, 0x1, 0x1);
        gbc.writeMem(0x10b7, { 0x67 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xe665, gbc.sp());
        EXPECT(0x10b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 026E
        gbc.setState(0xb88b, 0xf89c, 0xfae0, 0xcf2f, 0xf8f4, 0x576, 0x0, 0x1);
        gbc.writeMem(0xb88b, { 0x67 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xf89c, gbc.sp());
        EXPECT(0xb88c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb88b));
        // 67 026F
        gbc.setState(0x4edb, 0x9fa8, 0xfa90, 0xd6f3, 0xf129, 0x80ac, 0x0, 0x0);
        gbc.writeMem(0x4edb, { 0x67 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x9fa8, gbc.sp());
        EXPECT(0x4edc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0270
        gbc.setState(0xc50a, 0x39d5, 0xb020, 0x589f, 0xd3eb, 0xe644, 0x0, 0x0);
        gbc.writeMem(0xc50a, { 0x67 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x39d5, gbc.sp());
        EXPECT(0xc50b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc50a));
        // 67 0271
        gbc.setState(0x8988, 0x13a4, 0x8860, 0x82d3, 0x2491, 0x905, 0x0, 0x1);
        gbc.writeMem(0x8988, { 0x67 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x13a4, gbc.sp());
        EXPECT(0x8989, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8988));
        // 67 0272
        gbc.setState(0x8e56, 0x32b0, 0xfd60, 0x21a9, 0x963c, 0x8053, 0x0, 0x1);
        gbc.writeMem(0x8e56, { 0x67 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x32b0, gbc.sp());
        EXPECT(0x8e57, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8e56));
        // 67 0273
        gbc.setState(0x9d21, 0xc8c8, 0x72a0, 0x77c1, 0xbff8, 0xcfc1, 0x0, 0x0);
        gbc.writeMem(0x9d21, { 0x67 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xc8c8, gbc.sp());
        EXPECT(0x9d22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9d21));
        // 67 0274
        gbc.setState(0xae7e, 0x600, 0xf270, 0xf84a, 0xaab2, 0x399d, 0x1, 0x1);
        gbc.writeMem(0xae7e, { 0x67 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x600, gbc.sp());
        EXPECT(0xae7f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xae7e));
        // 67 0275
        gbc.setState(0xa1bb, 0x6e00, 0x4b0, 0xc3a3, 0x2136, 0x4736, 0x1, 0x0);
        gbc.writeMem(0xa1bb, { 0x67 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x6e00, gbc.sp());
        EXPECT(0xa1bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa1bb));
        // 67 0276
        gbc.setState(0x5da8, 0x8722, 0x8310, 0xb352, 0x9f40, 0x7805, 0x0, 0x0);
        gbc.writeMem(0x5da8, { 0x67 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x8722, gbc.sp());
        EXPECT(0x5da9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0277
        gbc.setState(0x5cbe, 0xdd89, 0x6fc0, 0x5b70, 0xf630, 0x667c, 0x1, 0x1);
        gbc.writeMem(0x5cbe, { 0x67 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xdd89, gbc.sp());
        EXPECT(0x5cbf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0278
        gbc.setState(0x92b2, 0x1ca7, 0x1130, 0x8fa, 0xc521, 0xe68b, 0x1, 0x0);
        gbc.writeMem(0x92b2, { 0x67 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x1ca7, gbc.sp());
        EXPECT(0x92b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x92b2));
        // 67 0279
        gbc.setState(0x207e, 0x7868, 0x5f30, 0xc54, 0x661a, 0x35a7, 0x1, 0x0);
        gbc.writeMem(0x207e, { 0x67 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x7868, gbc.sp());
        EXPECT(0x207f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 027A
        gbc.setState(0xc66, 0xb45d, 0xcfa0, 0xe2aa, 0x7a17, 0x78da, 0x0, 0x0);
        gbc.writeMem(0xc66, { 0x67 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xb45d, gbc.sp());
        EXPECT(0xc67, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 027B
        gbc.setState(0x4412, 0x2dd9, 0x9780, 0x9371, 0xd83, 0xa45c, 0x0, 0x1);
        gbc.writeMem(0x4412, { 0x67 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x2dd9, gbc.sp());
        EXPECT(0x4413, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 027C
        gbc.setState(0xae8e, 0x3cd3, 0xffa0, 0xe260, 0x3190, 0x7a24, 0x1, 0x0);
        gbc.writeMem(0xae8e, { 0x67 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x3cd3, gbc.sp());
        EXPECT(0xae8f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xae8e));
        // 67 027D
        gbc.setState(0x3a91, 0x2252, 0x5100, 0x4b08, 0xee5d, 0xece2, 0x1, 0x0);
        gbc.writeMem(0x3a91, { 0x67 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x2252, gbc.sp());
        EXPECT(0x3a92, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 027E
        gbc.setState(0x5ef4, 0xfa02, 0x60d0, 0x29ea, 0x7351, 0x6710, 0x1, 0x1);
        gbc.writeMem(0x5ef4, { 0x67 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xfa02, gbc.sp());
        EXPECT(0x5ef5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 027F
        gbc.setState(0xee1a, 0x417, 0xd1b0, 0xb5ca, 0xdb1c, 0x3264, 0x1, 0x1);
        gbc.writeMem(0xee1a, { 0x67 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x417, gbc.sp());
        EXPECT(0xee1b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xee1a));
        // 67 0280
        gbc.setState(0xa00e, 0xfc94, 0xc870, 0x1956, 0x8c45, 0x53fe, 0x0, 0x0);
        gbc.writeMem(0xa00e, { 0x67 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xfc94, gbc.sp());
        EXPECT(0xa00f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa00e));
        // 67 0282
        gbc.setState(0x919, 0xa197, 0x91f0, 0xac7a, 0x314d, 0x393e, 0x0, 0x0);
        gbc.writeMem(0x919, { 0x67 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xa197, gbc.sp());
        EXPECT(0x91a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0283
        gbc.setState(0xd496, 0x3af2, 0x3c40, 0x6829, 0x7f98, 0xe96b, 0x1, 0x1);
        gbc.writeMem(0xd496, { 0x67 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x3af2, gbc.sp());
        EXPECT(0xd497, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd496));
        // 67 0284
        gbc.setState(0xe7e, 0x8b6d, 0x480, 0x9ff, 0xf43, 0x395b, 0x0, 0x1);
        gbc.writeMem(0xe7e, { 0x67 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x8b6d, gbc.sp());
        EXPECT(0xe7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0285
        gbc.setState(0x3fb5, 0x2eb6, 0x14b0, 0x56b9, 0xa2e1, 0x11ba, 0x0, 0x0);
        gbc.writeMem(0x3fb5, { 0x67 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x2eb6, gbc.sp());
        EXPECT(0x3fb6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0286
        gbc.setState(0x5486, 0xf2f6, 0x2340, 0x95e4, 0x139d, 0x8d1e, 0x1, 0x0);
        gbc.writeMem(0x5486, { 0x67 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xf2f6, gbc.sp());
        EXPECT(0x5487, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0287
        gbc.setState(0x7c4e, 0xa769, 0xf3d0, 0x607d, 0x641d, 0xcd8e, 0x1, 0x0);
        gbc.writeMem(0x7c4e, { 0x67 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xa769, gbc.sp());
        EXPECT(0x7c4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0288
        gbc.setState(0xe704, 0x43e7, 0x2a00, 0x6844, 0x20c9, 0x1b72, 0x1, 0x1);
        gbc.writeMem(0xe704, { 0x67 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x43e7, gbc.sp());
        EXPECT(0xe705, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe704));
        // 67 0289
        gbc.setState(0xb596, 0x421b, 0x5de0, 0x9d44, 0x163b, 0x9ed9, 0x1, 0x1);
        gbc.writeMem(0xb596, { 0x67 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x421b, gbc.sp());
        EXPECT(0xb597, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb596));
        // 67 028A
        gbc.setState(0xa858, 0xce25, 0xaea0, 0xcb29, 0xdcf9, 0xb208, 0x0, 0x0);
        gbc.writeMem(0xa858, { 0x67 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xce25, gbc.sp());
        EXPECT(0xa859, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa858));
        // 67 028B
        gbc.setState(0x8f6f, 0xb24, 0x27e0, 0xc03e, 0x3a1b, 0x3f9b, 0x0, 0x1);
        gbc.writeMem(0x8f6f, { 0x67 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xb24, gbc.sp());
        EXPECT(0x8f70, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8f6f));
        // 67 028C
        gbc.setState(0x7fa7, 0xb42b, 0xd790, 0x44e8, 0x4856, 0x530a, 0x1, 0x1);
        gbc.writeMem(0x7fa7, { 0x67 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xb42b, gbc.sp());
        EXPECT(0x7fa8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 028D
        gbc.setState(0x328d, 0xdb17, 0x74e0, 0xef33, 0x1523, 0x6b07, 0x1, 0x0);
        gbc.writeMem(0x328d, { 0x67 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xdb17, gbc.sp());
        EXPECT(0x328e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 028E
        gbc.setState(0x278f, 0x706, 0xeea0, 0x5b71, 0xc6bd, 0xcdb5, 0x1, 0x1);
        gbc.writeMem(0x278f, { 0x67 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x706, gbc.sp());
        EXPECT(0x2790, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 028F
        gbc.setState(0xbb76, 0x133a, 0xec40, 0xaff, 0x6cd2, 0x889f, 0x1, 0x0);
        gbc.writeMem(0xbb76, { 0x67 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x133a, gbc.sp());
        EXPECT(0xbb77, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbb76));
        // 67 0290
        gbc.setState(0xc6af, 0x4424, 0x5a30, 0x8e69, 0x1814, 0x2964, 0x0, 0x1);
        gbc.writeMem(0xc6af, { 0x67 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x4424, gbc.sp());
        EXPECT(0xc6b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc6af));
        // 67 0291
        gbc.setState(0x35db, 0x3e4f, 0x28b0, 0x5f03, 0x8549, 0xdf0a, 0x1, 0x1);
        gbc.writeMem(0x35db, { 0x67 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x3e4f, gbc.sp());
        EXPECT(0x35dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0292
        gbc.setState(0x2c73, 0x2612, 0xd1e0, 0xa7a4, 0xb041, 0x7232, 0x1, 0x0);
        gbc.writeMem(0x2c73, { 0x67 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x2612, gbc.sp());
        EXPECT(0x2c74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0293
        gbc.setState(0x2da8, 0xa259, 0xc110, 0xb182, 0x1ae6, 0xb346, 0x0, 0x1);
        gbc.writeMem(0x2da8, { 0x67 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xa259, gbc.sp());
        EXPECT(0x2da9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0294
        gbc.setState(0xd7a3, 0x6a5, 0x300, 0xb56d, 0x821f, 0x2f63, 0x0, 0x1);
        gbc.writeMem(0xd7a3, { 0x67 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x6a5, gbc.sp());
        EXPECT(0xd7a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd7a3));
        // 67 0295
        gbc.setState(0x3f51, 0x596c, 0x2510, 0x8df2, 0xed25, 0x35df, 0x1, 0x0);
        gbc.writeMem(0x3f51, { 0x67 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x596c, gbc.sp());
        EXPECT(0x3f52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0296
        gbc.setState(0x2181, 0x95d1, 0x6310, 0xbaaf, 0xca98, 0x3da2, 0x1, 0x0);
        gbc.writeMem(0x2181, { 0x67 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x95d1, gbc.sp());
        EXPECT(0x2182, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0297
        gbc.setState(0x8862, 0x23a2, 0xa360, 0x20de, 0x2bb7, 0x981d, 0x1, 0x0);
        gbc.writeMem(0x8862, { 0x67 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x23a2, gbc.sp());
        EXPECT(0x8863, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8862));
        // 67 0299
        gbc.setState(0xc2f5, 0x7c4, 0x5070, 0x205c, 0x3bc4, 0x8f7d, 0x0, 0x1);
        gbc.writeMem(0xc2f5, { 0x67 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x7c4, gbc.sp());
        EXPECT(0xc2f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc2f5));
        // 67 029A
        gbc.setState(0xb84d, 0x8bbf, 0xe730, 0x9018, 0xc0bf, 0x4335, 0x1, 0x0);
        gbc.writeMem(0xb84d, { 0x67 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x8bbf, gbc.sp());
        EXPECT(0xb84e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb84d));
        // 67 029B
        gbc.setState(0x4c89, 0x664a, 0x7d40, 0x75ee, 0x3420, 0x8d92, 0x1, 0x0);
        gbc.writeMem(0x4c89, { 0x67 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x664a, gbc.sp());
        EXPECT(0x4c8a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 029C
        gbc.setState(0xc628, 0xb826, 0x4720, 0xfd73, 0x4322, 0x895f, 0x1, 0x1);
        gbc.writeMem(0xc628, { 0x67 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xb826, gbc.sp());
        EXPECT(0xc629, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc628));
        // 67 029D
        gbc.setState(0x7a15, 0x11b6, 0x34e0, 0x8c18, 0xcdfa, 0x36f8, 0x0, 0x1);
        gbc.writeMem(0x7a15, { 0x67 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x11b6, gbc.sp());
        EXPECT(0x7a16, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 029E
        gbc.setState(0x9df0, 0x6777, 0xe650, 0xd51b, 0x8cff, 0xdd01, 0x0, 0x1);
        gbc.writeMem(0x9df0, { 0x67 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x6777, gbc.sp());
        EXPECT(0x9df1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9df0));
        // 67 029F
        gbc.setState(0x796, 0x34e6, 0x9030, 0x2681, 0x43eb, 0xcba4, 0x0, 0x1);
        gbc.writeMem(0x796, { 0x67 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x34e6, gbc.sp());
        EXPECT(0x797, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02A0
        gbc.setState(0x23b8, 0x6d40, 0xc130, 0xcc67, 0x885b, 0x8fdb, 0x1, 0x0);
        gbc.writeMem(0x23b8, { 0x67 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x6d40, gbc.sp());
        EXPECT(0x23b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02A1
        gbc.setState(0x1fdc, 0xe2e9, 0xb670, 0xee23, 0x40cd, 0xf072, 0x1, 0x1);
        gbc.writeMem(0x1fdc, { 0x67 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xe2e9, gbc.sp());
        EXPECT(0x1fdd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02A2
        gbc.setState(0xed06, 0x4e7a, 0x6530, 0x1778, 0x83da, 0x365e, 0x1, 0x0);
        gbc.writeMem(0xed06, { 0x67 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x4e7a, gbc.sp());
        EXPECT(0xed07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xed06));
        // 67 02A3
        gbc.setState(0xb8ed, 0xc203, 0x15a0, 0x684f, 0x46da, 0xd712, 0x1, 0x1);
        gbc.writeMem(0xb8ed, { 0x67 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xc203, gbc.sp());
        EXPECT(0xb8ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb8ed));
        // 67 02A4
        gbc.setState(0xc1c5, 0x3f9a, 0x9a30, 0xdb68, 0x77d5, 0x6e03, 0x1, 0x0);
        gbc.writeMem(0xc1c5, { 0x67 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x3f9a, gbc.sp());
        EXPECT(0xc1c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc1c5));
        // 67 02A5
        gbc.setState(0xd9d4, 0x5301, 0xd540, 0xbd31, 0x779b, 0x43b0, 0x1, 0x0);
        gbc.writeMem(0xd9d4, { 0x67 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x5301, gbc.sp());
        EXPECT(0xd9d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd9d4));
        // 67 02A6
        gbc.setState(0x48cd, 0xf703, 0x3860, 0x82c3, 0x8b70, 0x152f, 0x1, 0x0);
        gbc.writeMem(0x48cd, { 0x67 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xf703, gbc.sp());
        EXPECT(0x48ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02A7
        gbc.setState(0x74be, 0x4f2f, 0x12a0, 0x90dc, 0x14, 0xc00c, 0x1, 0x0);
        gbc.writeMem(0x74be, { 0x67 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x4f2f, gbc.sp());
        EXPECT(0x74bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02A8
        gbc.setState(0xe99c, 0xc255, 0x86a0, 0x29de, 0x599d, 0x3d90, 0x0, 0x0);
        gbc.writeMem(0xe99c, { 0x67 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xc255, gbc.sp());
        EXPECT(0xe99d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe99c));
        // 67 02A9
        gbc.setState(0x7f53, 0x5f39, 0x9b00, 0x29b4, 0xc601, 0x1471, 0x0, 0x0);
        gbc.writeMem(0x7f53, { 0x67 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x5f39, gbc.sp());
        EXPECT(0x7f54, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02AA
        gbc.setState(0x82b6, 0x539, 0x5090, 0x8751, 0x23ca, 0x2f8f, 0x0, 0x0);
        gbc.writeMem(0x82b6, { 0x67 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x539, gbc.sp());
        EXPECT(0x82b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x82b6));
        // 67 02AB
        gbc.setState(0x498b, 0xc58f, 0xa130, 0xb1ed, 0x1ee7, 0x60fd, 0x1, 0x1);
        gbc.writeMem(0x498b, { 0x67 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xc58f, gbc.sp());
        EXPECT(0x498c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02AC
        gbc.setState(0x251f, 0xd470, 0xe000, 0xe7a0, 0xf086, 0xe960, 0x0, 0x0);
        gbc.writeMem(0x251f, { 0x67 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xd470, gbc.sp());
        EXPECT(0x2520, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02AD
        gbc.setState(0x8ac1, 0xcc0d, 0xa100, 0xe932, 0xa973, 0x493a, 0x1, 0x0);
        gbc.writeMem(0x8ac1, { 0x67 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xcc0d, gbc.sp());
        EXPECT(0x8ac2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8ac1));
        // 67 02AE
        gbc.setState(0x5968, 0xc3fb, 0x82d0, 0xdec3, 0x73e7, 0xe813, 0x0, 0x1);
        gbc.writeMem(0x5968, { 0x67 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xc3fb, gbc.sp());
        EXPECT(0x5969, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02B0
        gbc.setState(0x4f60, 0x5ede, 0x18e0, 0x2f1e, 0x21e4, 0x1956, 0x1, 0x0);
        gbc.writeMem(0x4f60, { 0x67 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x5ede, gbc.sp());
        EXPECT(0x4f61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02B2
        gbc.setState(0x1a13, 0xa477, 0x4690, 0x8a1d, 0x8639, 0x4cd6, 0x0, 0x0);
        gbc.writeMem(0x1a13, { 0x67 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xa477, gbc.sp());
        EXPECT(0x1a14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02B3
        gbc.setState(0x21c, 0x1267, 0x65a0, 0x1664, 0x367d, 0x83a8, 0x1, 0x0);
        gbc.writeMem(0x21c, { 0x67 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x1267, gbc.sp());
        EXPECT(0x21d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02B4
        gbc.setState(0x9b4a, 0x4391, 0x2160, 0x563b, 0x6e88, 0x3a0d, 0x0, 0x1);
        gbc.writeMem(0x9b4a, { 0x67 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x4391, gbc.sp());
        EXPECT(0x9b4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9b4a));
        // 67 02B5
        gbc.setState(0xcdcf, 0xe248, 0xc9a0, 0xc64d, 0x4108, 0xb74, 0x1, 0x0);
        gbc.writeMem(0xcdcf, { 0x67 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xe248, gbc.sp());
        EXPECT(0xcdd0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcdcf));
        // 67 02B6
        gbc.setState(0x3945, 0xc403, 0xed60, 0xf59f, 0x28, 0x4f92, 0x0, 0x1);
        gbc.writeMem(0x3945, { 0x67 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xc403, gbc.sp());
        EXPECT(0x3946, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02B7
        gbc.setState(0x2d99, 0x51ce, 0x3100, 0x146d, 0x4887, 0x630a, 0x0, 0x0);
        gbc.writeMem(0x2d99, { 0x67 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x51ce, gbc.sp());
        EXPECT(0x2d9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02B8
        gbc.setState(0x31b1, 0xf575, 0xd3a0, 0x1c13, 0xa4bb, 0x4865, 0x1, 0x0);
        gbc.writeMem(0x31b1, { 0x67 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xf575, gbc.sp());
        EXPECT(0x31b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02B9
        gbc.setState(0x2d0d, 0xfba3, 0xcbb0, 0xebd8, 0xd86b, 0x171a, 0x0, 0x1);
        gbc.writeMem(0x2d0d, { 0x67 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xfba3, gbc.sp());
        EXPECT(0x2d0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02BA
        gbc.setState(0x68be, 0xda6f, 0x7e50, 0xf9a4, 0xb632, 0x6226, 0x1, 0x0);
        gbc.writeMem(0x68be, { 0x67 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xda6f, gbc.sp());
        EXPECT(0x68bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02BB
        gbc.setState(0x639a, 0x677b, 0x8de0, 0x597a, 0x454, 0x448b, 0x0, 0x1);
        gbc.writeMem(0x639a, { 0x67 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x677b, gbc.sp());
        EXPECT(0x639b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02BC
        gbc.setState(0x2822, 0xf788, 0x5760, 0x3c60, 0x6d72, 0xe622, 0x1, 0x1);
        gbc.writeMem(0x2822, { 0x67 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xf788, gbc.sp());
        EXPECT(0x2823, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02BD
        gbc.setState(0x3362, 0xe4bf, 0xb50, 0xfbee, 0xd60d, 0xef77, 0x1, 0x0);
        gbc.writeMem(0x3362, { 0x67 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xe4bf, gbc.sp());
        EXPECT(0x3363, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02BE
        gbc.setState(0x845e, 0x6c2b, 0xab70, 0xc18d, 0x69a, 0x8715, 0x1, 0x1);
        gbc.writeMem(0x845e, { 0x67 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x6c2b, gbc.sp());
        EXPECT(0x845f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x845e));
        // 67 02BF
        gbc.setState(0xcc71, 0x1dc9, 0x1c00, 0x2464, 0xf46c, 0x49d1, 0x1, 0x1);
        gbc.writeMem(0xcc71, { 0x67 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x1dc9, gbc.sp());
        EXPECT(0xcc72, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcc71));
        // 67 02C0
        gbc.setState(0x233c, 0xdacc, 0xc7e0, 0xaf6a, 0xc6de, 0x4038, 0x0, 0x1);
        gbc.writeMem(0x233c, { 0x67 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xdacc, gbc.sp());
        EXPECT(0x233d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02C1
        gbc.setState(0x18c6, 0xd093, 0x8840, 0xd2eb, 0x96f2, 0x1860, 0x0, 0x0);
        gbc.writeMem(0x18c6, { 0x67 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xd093, gbc.sp());
        EXPECT(0x18c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02C2
        gbc.setState(0xa059, 0xb6a6, 0x8800, 0x5050, 0x111, 0x171, 0x1, 0x1);
        gbc.writeMem(0xa059, { 0x67 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xb6a6, gbc.sp());
        EXPECT(0xa05a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa059));
        // 67 02C3
        gbc.setState(0xd9e7, 0x87aa, 0xddc0, 0x8cd, 0x825a, 0x7aeb, 0x1, 0x0);
        gbc.writeMem(0xd9e7, { 0x67 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x87aa, gbc.sp());
        EXPECT(0xd9e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd9e7));
        // 67 02C4
        gbc.setState(0xbb4, 0xa0c3, 0xf9a0, 0xa92a, 0x5c60, 0xb4d5, 0x0, 0x1);
        gbc.writeMem(0xbb4, { 0x67 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xa0c3, gbc.sp());
        EXPECT(0xbb5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02C5
        gbc.setState(0x31d3, 0xec95, 0x8d40, 0xe2e0, 0x526b, 0x373f, 0x1, 0x1);
        gbc.writeMem(0x31d3, { 0x67 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xec95, gbc.sp());
        EXPECT(0x31d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02C6
        gbc.setState(0x6cfb, 0x8fbb, 0xee60, 0x5e26, 0x5de0, 0x199e, 0x0, 0x1);
        gbc.writeMem(0x6cfb, { 0x67 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x8fbb, gbc.sp());
        EXPECT(0x6cfc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02C7
        gbc.setState(0x5f3c, 0x5ebc, 0xac20, 0xb034, 0xf806, 0x4a4b, 0x1, 0x1);
        gbc.writeMem(0x5f3c, { 0x67 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x5ebc, gbc.sp());
        EXPECT(0x5f3d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02C8
        gbc.setState(0x9fc7, 0x86b8, 0xad70, 0x9912, 0xdba1, 0x3a98, 0x0, 0x0);
        gbc.writeMem(0x9fc7, { 0x67 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x86b8, gbc.sp());
        EXPECT(0x9fc8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9fc7));
        // 67 02C9
        gbc.setState(0x7009, 0xb4fd, 0x7390, 0x18f3, 0xd249, 0xfa5d, 0x0, 0x0);
        gbc.writeMem(0x7009, { 0x67 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xb4fd, gbc.sp());
        EXPECT(0x700a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02CA
        gbc.setState(0x2a52, 0xf48, 0x68a0, 0x1f, 0x2e8b, 0x3d2f, 0x1, 0x1);
        gbc.writeMem(0x2a52, { 0x67 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xf48, gbc.sp());
        EXPECT(0x2a53, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02CB
        gbc.setState(0x2d4b, 0x53a8, 0xa4c0, 0xf0fe, 0xc859, 0xa7b0, 0x1, 0x0);
        gbc.writeMem(0x2d4b, { 0x67 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x53a8, gbc.sp());
        EXPECT(0x2d4c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02CD
        gbc.setState(0x7aa7, 0x831, 0x20e0, 0x9b63, 0xb8c6, 0xa75d, 0x0, 0x1);
        gbc.writeMem(0x7aa7, { 0x67 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x831, gbc.sp());
        EXPECT(0x7aa8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02CF
        gbc.setState(0xcd2e, 0xd739, 0x72c0, 0x4ed8, 0x91c8, 0x5f81, 0x1, 0x1);
        gbc.writeMem(0xcd2e, { 0x67 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xd739, gbc.sp());
        EXPECT(0xcd2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcd2e));
        // 67 02D0
        gbc.setState(0x963, 0x7319, 0x12d0, 0x7965, 0x6bd3, 0x2389, 0x1, 0x1);
        gbc.writeMem(0x963, { 0x67 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x7319, gbc.sp());
        EXPECT(0x964, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02D1
        gbc.setState(0x267d, 0x3ef8, 0xdf10, 0xf971, 0xa85b, 0xd4c8, 0x0, 0x0);
        gbc.writeMem(0x267d, { 0x67 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x3ef8, gbc.sp());
        EXPECT(0x267e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02D2
        gbc.setState(0xea85, 0x9671, 0x240, 0xd94d, 0x14d5, 0x1a4e, 0x1, 0x0);
        gbc.writeMem(0xea85, { 0x67 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x9671, gbc.sp());
        EXPECT(0xea86, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xea85));
        // 67 02D3
        gbc.setState(0x63b, 0xffdb, 0x6e80, 0xb6d1, 0xcfed, 0xd4de, 0x1, 0x1);
        gbc.writeMem(0x63b, { 0x67 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xffdb, gbc.sp());
        EXPECT(0x63c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02D4
        gbc.setState(0x1941, 0x251b, 0x14b0, 0xe651, 0x2ac2, 0x834a, 0x1, 0x1);
        gbc.writeMem(0x1941, { 0x67 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x251b, gbc.sp());
        EXPECT(0x1942, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02D5
        gbc.setState(0xe034, 0x4e64, 0x10c0, 0x75d8, 0x3e57, 0xa0b4, 0x1, 0x0);
        gbc.writeMem(0xe034, { 0x67 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x4e64, gbc.sp());
        EXPECT(0xe035, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe034));
        // 67 02D6
        gbc.setState(0x7823, 0x6484, 0x7940, 0x1fbd, 0x8881, 0x30c5, 0x0, 0x1);
        gbc.writeMem(0x7823, { 0x67 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x6484, gbc.sp());
        EXPECT(0x7824, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02D7
        gbc.setState(0x9705, 0x8ef1, 0xce90, 0xcb31, 0xa3e5, 0xc79e, 0x0, 0x0);
        gbc.writeMem(0x9705, { 0x67 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x8ef1, gbc.sp());
        EXPECT(0x9706, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9705));
        // 67 02D8
        gbc.setState(0x5455, 0xa287, 0x9b60, 0x3f7d, 0x2265, 0x4003, 0x1, 0x1);
        gbc.writeMem(0x5455, { 0x67 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xa287, gbc.sp());
        EXPECT(0x5456, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02D9
        gbc.setState(0xdd28, 0xbde2, 0x6740, 0xfa0d, 0x6b2b, 0x3327, 0x0, 0x0);
        gbc.writeMem(0xdd28, { 0x67 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xbde2, gbc.sp());
        EXPECT(0xdd29, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdd28));
        // 67 02DA
        gbc.setState(0xa3c4, 0x9778, 0x3bd0, 0xc6a7, 0x86cd, 0xdb84, 0x1, 0x0);
        gbc.writeMem(0xa3c4, { 0x67 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x9778, gbc.sp());
        EXPECT(0xa3c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa3c4));
        // 67 02DB
        gbc.setState(0xc3e1, 0x9562, 0xe780, 0x2aa7, 0x31e7, 0xee32, 0x0, 0x1);
        gbc.writeMem(0xc3e1, { 0x67 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x9562, gbc.sp());
        EXPECT(0xc3e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc3e1));
        // 67 02DC
        gbc.setState(0x6419, 0x72ff, 0xabd0, 0xaa04, 0xa76, 0x50b3, 0x1, 0x0);
        gbc.writeMem(0x6419, { 0x67 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x72ff, gbc.sp());
        EXPECT(0x641a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02DD
        gbc.setState(0x6453, 0xc24e, 0xc640, 0x4897, 0x823c, 0x7dd7, 0x1, 0x1);
        gbc.writeMem(0x6453, { 0x67 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xc24e, gbc.sp());
        EXPECT(0x6454, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02DE
        gbc.setState(0xcfa1, 0x376, 0x1e70, 0x3161, 0x4016, 0x7a8e, 0x1, 0x1);
        gbc.writeMem(0xcfa1, { 0x67 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x376, gbc.sp());
        EXPECT(0xcfa2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcfa1));
        // 67 02DF
        gbc.setState(0x199f, 0xa1b7, 0xea20, 0x89a4, 0xbb58, 0xaf, 0x1, 0x0);
        gbc.writeMem(0x199f, { 0x67 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xa1b7, gbc.sp());
        EXPECT(0x19a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02E0
        gbc.setState(0xbe1c, 0xd9af, 0x51c0, 0x2e25, 0x2aa, 0x39e3, 0x1, 0x0);
        gbc.writeMem(0xbe1c, { 0x67 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xd9af, gbc.sp());
        EXPECT(0xbe1d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbe1c));
        // 67 02E1
        gbc.setState(0x7a65, 0x500, 0x5c20, 0x7530, 0x85f1, 0xeec5, 0x0, 0x0);
        gbc.writeMem(0x7a65, { 0x67 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x500, gbc.sp());
        EXPECT(0x7a66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02E2
        gbc.setState(0x86cd, 0x826, 0x3450, 0x9a0b, 0x4ea0, 0xd419, 0x0, 0x1);
        gbc.writeMem(0x86cd, { 0x67 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x826, gbc.sp());
        EXPECT(0x86ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x86cd));
        // 67 02E3
        gbc.setState(0x744, 0x9187, 0x1800, 0xa487, 0xcad9, 0x890f, 0x0, 0x1);
        gbc.writeMem(0x744, { 0x67 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x9187, gbc.sp());
        EXPECT(0x745, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02E4
        gbc.setState(0x244f, 0xbffd, 0xaab0, 0xa0c3, 0x392e, 0xeafc, 0x1, 0x0);
        gbc.writeMem(0x244f, { 0x67 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xbffd, gbc.sp());
        EXPECT(0x2450, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02E5
        gbc.setState(0x6be6, 0xf271, 0x6e50, 0xbb67, 0xfcba, 0x53cd, 0x0, 0x1);
        gbc.writeMem(0x6be6, { 0x67 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xf271, gbc.sp());
        EXPECT(0x6be7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02E6
        gbc.setState(0xbc59, 0x94fc, 0x7310, 0x3a91, 0x39d1, 0x9787, 0x1, 0x0);
        gbc.writeMem(0xbc59, { 0x67 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x94fc, gbc.sp());
        EXPECT(0xbc5a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbc59));
        // 67 02E7
        gbc.setState(0xddb1, 0x702a, 0xd970, 0x975e, 0x87ed, 0x3fba, 0x1, 0x0);
        gbc.writeMem(0xddb1, { 0x67 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x702a, gbc.sp());
        EXPECT(0xddb2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xddb1));
        // 67 02E8
        gbc.setState(0x3093, 0xb0a4, 0x960, 0x154c, 0xad73, 0x2d2e, 0x1, 0x1);
        gbc.writeMem(0x3093, { 0x67 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xb0a4, gbc.sp());
        EXPECT(0x3094, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02E9
        gbc.setState(0xb341, 0xf63, 0x7780, 0xa5f2, 0x670, 0xad32, 0x1, 0x0);
        gbc.writeMem(0xb341, { 0x67 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xf63, gbc.sp());
        EXPECT(0xb342, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb341));
        // 67 02EA
        gbc.setState(0x38e5, 0xa0b, 0x9680, 0x9b6, 0x50e, 0xdc2c, 0x1, 0x1);
        gbc.writeMem(0x38e5, { 0x67 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xa0b, gbc.sp());
        EXPECT(0x38e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02EB
        gbc.setState(0x4a3c, 0xeed0, 0x6950, 0xc10f, 0xf80, 0x9eff, 0x0, 0x0);
        gbc.writeMem(0x4a3c, { 0x67 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xeed0, gbc.sp());
        EXPECT(0x4a3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02EC
        gbc.setState(0xa19c, 0xe7ab, 0x6270, 0x38d6, 0xc02b, 0x5cfe, 0x1, 0x1);
        gbc.writeMem(0xa19c, { 0x67 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xe7ab, gbc.sp());
        EXPECT(0xa19d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa19c));
        // 67 02ED
        gbc.setState(0xbcb8, 0xc80, 0xd730, 0x6a8c, 0x5d50, 0x5fe2, 0x1, 0x1);
        gbc.writeMem(0xbcb8, { 0x67 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xc80, gbc.sp());
        EXPECT(0xbcb9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbcb8));
        // 67 02EE
        gbc.setState(0xaee, 0xa41c, 0xd3b0, 0xdd76, 0x2956, 0xddf, 0x0, 0x0);
        gbc.writeMem(0xaee, { 0x67 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xa41c, gbc.sp());
        EXPECT(0xaef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02EF
        gbc.setState(0xede8, 0xccf1, 0xa440, 0x66cd, 0x567b, 0xfd2d, 0x1, 0x0);
        gbc.writeMem(0xede8, { 0x67 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xccf1, gbc.sp());
        EXPECT(0xede9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xede8));
        // 67 02F0
        gbc.setState(0x338d, 0x927c, 0xb9f0, 0xbfbe, 0x806b, 0x7c3e, 0x0, 0x0);
        gbc.writeMem(0x338d, { 0x67 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x927c, gbc.sp());
        EXPECT(0x338e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02F1
        gbc.setState(0x69d6, 0x2be4, 0x5ce0, 0xe6c7, 0x1369, 0x3aaa, 0x0, 0x1);
        gbc.writeMem(0x69d6, { 0x67 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x2be4, gbc.sp());
        EXPECT(0x69d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02F2
        gbc.setState(0x87d8, 0xb95b, 0xc370, 0x85d0, 0x3982, 0xa63c, 0x0, 0x0);
        gbc.writeMem(0x87d8, { 0x67 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xb95b, gbc.sp());
        EXPECT(0x87d9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x87d8));
        // 67 02F3
        gbc.setState(0x849d, 0x616e, 0xa820, 0xa3e3, 0x196a, 0x2ae6, 0x1, 0x0);
        gbc.writeMem(0x849d, { 0x67 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x616e, gbc.sp());
        EXPECT(0x849e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x849d));
        // 67 02F4
        gbc.setState(0x6648, 0x2ebc, 0x7450, 0xffa1, 0x2e23, 0x7fe0, 0x1, 0x0);
        gbc.writeMem(0x6648, { 0x67 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x2ebc, gbc.sp());
        EXPECT(0x6649, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02F5
        gbc.setState(0x36e8, 0xd92c, 0x2cb0, 0x939, 0xc4ac, 0x9114, 0x0, 0x1);
        gbc.writeMem(0x36e8, { 0x67 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xd92c, gbc.sp());
        EXPECT(0x36e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02F6
        gbc.setState(0x9a85, 0xa4b2, 0x7f60, 0x51c6, 0x90ad, 0x8144, 0x1, 0x0);
        gbc.writeMem(0x9a85, { 0x67 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xa4b2, gbc.sp());
        EXPECT(0x9a86, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9a85));
        // 67 02F7
        gbc.setState(0x5e8d, 0x676e, 0x37e0, 0x95fc, 0xaeb8, 0x52d2, 0x1, 0x1);
        gbc.writeMem(0x5e8d, { 0x67 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x676e, gbc.sp());
        EXPECT(0x5e8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02F8
        gbc.setState(0xb37f, 0x6774, 0x36e0, 0xc24e, 0x67a1, 0x2064, 0x1, 0x1);
        gbc.writeMem(0xb37f, { 0x67 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x6774, gbc.sp());
        EXPECT(0xb380, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb37f));
        // 67 02F9
        gbc.setState(0x49e8, 0xa38b, 0x45d0, 0xd162, 0x765e, 0xf9a, 0x0, 0x1);
        gbc.writeMem(0x49e8, { 0x67 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xa38b, gbc.sp());
        EXPECT(0x49e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 02FA
        gbc.setState(0x42b0, 0x94fd, 0xec20, 0xa30c, 0x6f54, 0x19e3, 0x1, 0x1);
        gbc.writeMem(0x42b0, { 0x67 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x94fd, gbc.sp());
        EXPECT(0x42b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02FD
        gbc.setState(0x221e, 0x32a8, 0xc480, 0xcd2d, 0x53ae, 0x8d28, 0x1, 0x1);
        gbc.writeMem(0x221e, { 0x67 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x32a8, gbc.sp());
        EXPECT(0x221f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 02FE
        gbc.setState(0x8ee4, 0x3676, 0x8d00, 0xd7ce, 0x68da, 0xf677, 0x0, 0x1);
        gbc.writeMem(0x8ee4, { 0x67 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x3676, gbc.sp());
        EXPECT(0x8ee5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8ee4));
        // 67 02FF
        gbc.setState(0xa29c, 0x1bee, 0xc0, 0x43a9, 0x4e21, 0x945e, 0x1, 0x1);
        gbc.writeMem(0xa29c, { 0x67 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x1bee, gbc.sp());
        EXPECT(0xa29d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa29c));
        // 67 0300
        gbc.setState(0xe744, 0xc364, 0x3c90, 0x5a4, 0x77a9, 0x88ce, 0x0, 0x0);
        gbc.writeMem(0xe744, { 0x67 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xc364, gbc.sp());
        EXPECT(0xe745, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe744));
        // 67 0301
        gbc.setState(0xf90, 0x6cca, 0x8f10, 0x54d8, 0x820d, 0xff84, 0x0, 0x1);
        gbc.writeMem(0xf90, { 0x67 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x6cca, gbc.sp());
        EXPECT(0xf91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0302
        gbc.setState(0xe000, 0xbe8, 0xd590, 0x4a6, 0xd630, 0x6b2f, 0x0, 0x0);
        gbc.writeMem(0xe000, { 0x67 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xbe8, gbc.sp());
        EXPECT(0xe001, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe000));
        // 67 0303
        gbc.setState(0xd30, 0xb0ae, 0x47d0, 0x3b53, 0x41b0, 0xd515, 0x1, 0x1);
        gbc.writeMem(0xd30, { 0x67 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xb0ae, gbc.sp());
        EXPECT(0xd31, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0304
        gbc.setState(0xe6a0, 0xdcd5, 0x67b0, 0x6d6d, 0x57f, 0x959a, 0x1, 0x1);
        gbc.writeMem(0xe6a0, { 0x67 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xdcd5, gbc.sp());
        EXPECT(0xe6a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe6a0));
        // 67 0305
        gbc.setState(0x985a, 0x1b35, 0xb920, 0xbcd, 0xe2f9, 0x326c, 0x1, 0x0);
        gbc.writeMem(0x985a, { 0x67 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x1b35, gbc.sp());
        EXPECT(0x985b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x985a));
        // 67 0306
        gbc.setState(0x47e9, 0x7336, 0x5df0, 0xf4e3, 0x32d7, 0x13a2, 0x1, 0x0);
        gbc.writeMem(0x47e9, { 0x67 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x7336, gbc.sp());
        EXPECT(0x47ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0307
        gbc.setState(0x967d, 0x9f66, 0x3b50, 0x5a83, 0x1f05, 0xfb7a, 0x1, 0x1);
        gbc.writeMem(0x967d, { 0x67 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x9f66, gbc.sp());
        EXPECT(0x967e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x967d));
        // 67 0308
        gbc.setState(0xc901, 0xbd71, 0x2b50, 0xb8ea, 0x19b4, 0x29bb, 0x1, 0x1);
        gbc.writeMem(0xc901, { 0x67 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xbd71, gbc.sp());
        EXPECT(0xc902, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc901));
        // 67 0309
        gbc.setState(0x3642, 0xba85, 0x6920, 0x42b8, 0x118, 0x4fe1, 0x1, 0x0);
        gbc.writeMem(0x3642, { 0x67 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xba85, gbc.sp());
        EXPECT(0x3643, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 030A
        gbc.setState(0xe26d, 0x8aab, 0x6560, 0x2e08, 0x9ce, 0xbf4f, 0x1, 0x1);
        gbc.writeMem(0xe26d, { 0x67 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x8aab, gbc.sp());
        EXPECT(0xe26e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe26d));
        // 67 030B
        gbc.setState(0xaa4c, 0xf5bd, 0x40c0, 0x109c, 0xd5d6, 0xfe, 0x1, 0x0);
        gbc.writeMem(0xaa4c, { 0x67 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xf5bd, gbc.sp());
        EXPECT(0xaa4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xaa4c));
        // 67 030C
        gbc.setState(0xba6b, 0x568b, 0xe780, 0x9e74, 0xae7b, 0x2368, 0x0, 0x1);
        gbc.writeMem(0xba6b, { 0x67 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x568b, gbc.sp());
        EXPECT(0xba6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xba6b));
        // 67 030D
        gbc.setState(0xba40, 0xbea2, 0x16e0, 0x2a92, 0x5135, 0x7864, 0x1, 0x1);
        gbc.writeMem(0xba40, { 0x67 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xbea2, gbc.sp());
        EXPECT(0xba41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xba40));
        // 67 030F
        gbc.setState(0x490c, 0x2ce9, 0xae00, 0xaf1d, 0xfcfc, 0x347c, 0x1, 0x0);
        gbc.writeMem(0x490c, { 0x67 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x2ce9, gbc.sp());
        EXPECT(0x490d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0310
        gbc.setState(0x7a8, 0xba7d, 0xd0f0, 0xa605, 0x622c, 0x374e, 0x1, 0x1);
        gbc.writeMem(0x7a8, { 0x67 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xba7d, gbc.sp());
        EXPECT(0x7a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0311
        gbc.setState(0xc5d2, 0xa647, 0xbbf0, 0xd1b, 0x15e9, 0x82d3, 0x0, 0x0);
        gbc.writeMem(0xc5d2, { 0x67 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xa647, gbc.sp());
        EXPECT(0xc5d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc5d2));
        // 67 0312
        gbc.setState(0xeb4b, 0x80dd, 0xffc0, 0xdc59, 0xfd73, 0x7eee, 0x0, 0x0);
        gbc.writeMem(0xeb4b, { 0x67 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x80dd, gbc.sp());
        EXPECT(0xeb4c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xeb4b));
        // 67 0313
        gbc.setState(0x8a3f, 0xde2, 0xcf0, 0xa9ea, 0xca71, 0x989, 0x0, 0x0);
        gbc.writeMem(0x8a3f, { 0x67 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xde2, gbc.sp());
        EXPECT(0x8a40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8a3f));
        // 67 0314
        gbc.setState(0x9978, 0x709f, 0x1060, 0xa679, 0x19ed, 0xdddf, 0x0, 0x1);
        gbc.writeMem(0x9978, { 0x67 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x709f, gbc.sp());
        EXPECT(0x9979, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9978));
        // 67 0315
        gbc.setState(0x1024, 0x42ac, 0x9b60, 0xa98c, 0xc28, 0xf27a, 0x0, 0x1);
        gbc.writeMem(0x1024, { 0x67 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x42ac, gbc.sp());
        EXPECT(0x1025, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0316
        gbc.setState(0xdcc3, 0x9d5d, 0x9340, 0x8b15, 0x48e4, 0x1e0, 0x0, 0x0);
        gbc.writeMem(0xdcc3, { 0x67 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x9d5d, gbc.sp());
        EXPECT(0xdcc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdcc3));
        // 67 0317
        gbc.setState(0x7af5, 0xfc4f, 0xbc50, 0xf53b, 0xbd41, 0x7be3, 0x1, 0x1);
        gbc.writeMem(0x7af5, { 0x67 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xfc4f, gbc.sp());
        EXPECT(0x7af6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0318
        gbc.setState(0x6100, 0x4ca6, 0xe240, 0xc6fe, 0x9a57, 0xf6f5, 0x0, 0x1);
        gbc.writeMem(0x6100, { 0x67 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x4ca6, gbc.sp());
        EXPECT(0x6101, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0319
        gbc.setState(0xe0f8, 0x2f30, 0x9090, 0x3e80, 0xeec6, 0x2463, 0x1, 0x0);
        gbc.writeMem(0xe0f8, { 0x67 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x2f30, gbc.sp());
        EXPECT(0xe0f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe0f8));
        // 67 031A
        gbc.setState(0xdfe3, 0x3207, 0x5af0, 0x4754, 0x31c3, 0xb3dd, 0x1, 0x1);
        gbc.writeMem(0xdfe3, { 0x67 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x3207, gbc.sp());
        EXPECT(0xdfe4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdfe3));
        // 67 031B
        gbc.setState(0x9e1, 0x8304, 0x41a0, 0x6909, 0x9c2a, 0x1dc5, 0x1, 0x1);
        gbc.writeMem(0x9e1, { 0x67 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x8304, gbc.sp());
        EXPECT(0x9e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 031C
        gbc.setState(0x6149, 0x826, 0xc300, 0x90ed, 0x763f, 0x15ce, 0x1, 0x0);
        gbc.writeMem(0x6149, { 0x67 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x826, gbc.sp());
        EXPECT(0x614a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 031D
        gbc.setState(0x740a, 0xf434, 0x7590, 0x523d, 0x3464, 0x7687, 0x0, 0x0);
        gbc.writeMem(0x740a, { 0x67 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xf434, gbc.sp());
        EXPECT(0x740b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 031E
        gbc.setState(0x1935, 0x52bf, 0xad90, 0xfd39, 0x66eb, 0xa302, 0x0, 0x1);
        gbc.writeMem(0x1935, { 0x67 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x52bf, gbc.sp());
        EXPECT(0x1936, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 031F
        gbc.setState(0xd3c7, 0x732a, 0x1690, 0x649a, 0xf62a, 0xada3, 0x1, 0x0);
        gbc.writeMem(0xd3c7, { 0x67 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x732a, gbc.sp());
        EXPECT(0xd3c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd3c7));
        // 67 0320
        gbc.setState(0x6416, 0x54fa, 0x63d0, 0xfac, 0x6765, 0xaf2b, 0x1, 0x0);
        gbc.writeMem(0x6416, { 0x67 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x54fa, gbc.sp());
        EXPECT(0x6417, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0321
        gbc.setState(0x23db, 0xcd91, 0xafc0, 0x16ca, 0x1f22, 0xf430, 0x1, 0x1);
        gbc.writeMem(0x23db, { 0x67 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xcd91, gbc.sp());
        EXPECT(0x23dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0322
        gbc.setState(0xc295, 0xdb4a, 0x8120, 0x98a3, 0xcd24, 0x3ef2, 0x1, 0x0);
        gbc.writeMem(0xc295, { 0x67 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xdb4a, gbc.sp());
        EXPECT(0xc296, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc295));
        // 67 0323
        gbc.setState(0x7f5b, 0xeee2, 0x3800, 0x9cd9, 0xb984, 0x1370, 0x0, 0x0);
        gbc.writeMem(0x7f5b, { 0x67 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xeee2, gbc.sp());
        EXPECT(0x7f5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0324
        gbc.setState(0x1245, 0x1cf7, 0x9220, 0xa435, 0x95bb, 0xfbb2, 0x0, 0x0);
        gbc.writeMem(0x1245, { 0x67 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x1cf7, gbc.sp());
        EXPECT(0x1246, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0325
        gbc.setState(0xf27, 0xff40, 0xa040, 0x2295, 0x3100, 0x9cf, 0x1, 0x0);
        gbc.writeMem(0xf27, { 0x67 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xff40, gbc.sp());
        EXPECT(0xf28, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0326
        gbc.setState(0x70cb, 0x160, 0x13e0, 0x65bf, 0x4a6d, 0xad2c, 0x0, 0x0);
        gbc.writeMem(0x70cb, { 0x67 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x160, gbc.sp());
        EXPECT(0x70cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0327
        gbc.setState(0x4502, 0x8bc2, 0xc310, 0x3b55, 0x268d, 0x698c, 0x1, 0x0);
        gbc.writeMem(0x4502, { 0x67 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x8bc2, gbc.sp());
        EXPECT(0x4503, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0328
        gbc.setState(0xd9e7, 0x47a0, 0x8ca0, 0x4d3b, 0x23a1, 0x393, 0x1, 0x1);
        gbc.writeMem(0xd9e7, { 0x67 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x47a0, gbc.sp());
        EXPECT(0xd9e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd9e7));
        // 67 0329
        gbc.setState(0x7504, 0x2a4d, 0x5660, 0x79c9, 0xd17c, 0x82d5, 0x0, 0x0);
        gbc.writeMem(0x7504, { 0x67 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x2a4d, gbc.sp());
        EXPECT(0x7505, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 032A
        gbc.setState(0xef68, 0x46f6, 0xb5e0, 0x1973, 0x9510, 0xfabe, 0x0, 0x0);
        gbc.writeMem(0xef68, { 0x67 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x46f6, gbc.sp());
        EXPECT(0xef69, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xef68));
        // 67 032B
        gbc.setState(0x52d4, 0xac4b, 0xccd0, 0x7f78, 0x81d8, 0x81b7, 0x0, 0x0);
        gbc.writeMem(0x52d4, { 0x67 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xac4b, gbc.sp());
        EXPECT(0x52d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 032C
        gbc.setState(0xc14b, 0x6179, 0x24e0, 0xe2c, 0xf95b, 0x5740, 0x1, 0x0);
        gbc.writeMem(0xc14b, { 0x67 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x6179, gbc.sp());
        EXPECT(0xc14c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc14b));
        // 67 032D
        gbc.setState(0x8a58, 0xaf27, 0x1a70, 0xfef8, 0xf1b7, 0xe7f0, 0x0, 0x1);
        gbc.writeMem(0x8a58, { 0x67 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xaf27, gbc.sp());
        EXPECT(0x8a59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8a58));
        // 67 032E
        gbc.setState(0xd833, 0x89b9, 0x79f0, 0xbfdb, 0x7f3b, 0x7124, 0x1, 0x1);
        gbc.writeMem(0xd833, { 0x67 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x89b9, gbc.sp());
        EXPECT(0xd834, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd833));
        // 67 032F
        gbc.setState(0x9d58, 0x60cc, 0x37c0, 0x4bc2, 0x9b2a, 0x5849, 0x0, 0x1);
        gbc.writeMem(0x9d58, { 0x67 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x60cc, gbc.sp());
        EXPECT(0x9d59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9d58));
        // 67 0330
        gbc.setState(0x74, 0xfdc9, 0x30f0, 0x884d, 0x5bb3, 0x16d4, 0x0, 0x1);
        gbc.writeMem(0x74, { 0x67 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xfdc9, gbc.sp());
        EXPECT(0x75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0331
        gbc.setState(0xad8c, 0x1ca, 0x8a30, 0xe2b0, 0x7fa5, 0x902d, 0x0, 0x0);
        gbc.writeMem(0xad8c, { 0x67 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x1ca, gbc.sp());
        EXPECT(0xad8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xad8c));
        // 67 0333
        gbc.setState(0xa57d, 0x7ec5, 0xbbe0, 0x1c8f, 0xbd2b, 0xeb28, 0x0, 0x1);
        gbc.writeMem(0xa57d, { 0x67 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x7ec5, gbc.sp());
        EXPECT(0xa57e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa57d));
        // 67 0334
        gbc.setState(0x4aa1, 0xf267, 0x2980, 0x5840, 0xc9db, 0x8b46, 0x1, 0x0);
        gbc.writeMem(0x4aa1, { 0x67 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xf267, gbc.sp());
        EXPECT(0x4aa2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0335
        gbc.setState(0x1b0d, 0x666d, 0x9cc0, 0x8279, 0x1ad, 0xb2aa, 0x1, 0x1);
        gbc.writeMem(0x1b0d, { 0x67 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x666d, gbc.sp());
        EXPECT(0x1b0e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0336
        gbc.setState(0x98a2, 0xe683, 0x7fb0, 0x9375, 0xa843, 0x43bc, 0x0, 0x1);
        gbc.writeMem(0x98a2, { 0x67 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xe683, gbc.sp());
        EXPECT(0x98a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x98a2));
        // 67 0337
        gbc.setState(0x5392, 0xd0a8, 0xff40, 0x7a51, 0x98fe, 0x1f5f, 0x0, 0x0);
        gbc.writeMem(0x5392, { 0x67 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xd0a8, gbc.sp());
        EXPECT(0x5393, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0338
        gbc.setState(0xc685, 0x1bb, 0x4ce0, 0xabd9, 0xb330, 0xe313, 0x0, 0x0);
        gbc.writeMem(0xc685, { 0x67 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x1bb, gbc.sp());
        EXPECT(0xc686, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc685));
        // 67 0339
        gbc.setState(0x6491, 0x483, 0xc910, 0x6e7c, 0xc0cc, 0xb4e9, 0x1, 0x1);
        gbc.writeMem(0x6491, { 0x67 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x483, gbc.sp());
        EXPECT(0x6492, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 033A
        gbc.setState(0x55d6, 0xdc56, 0x9c30, 0xa66d, 0x4e24, 0x390c, 0x1, 0x1);
        gbc.writeMem(0x55d6, { 0x67 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xdc56, gbc.sp());
        EXPECT(0x55d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 033B
        gbc.setState(0xac66, 0x309b, 0x9b10, 0x118a, 0xfea4, 0xce6f, 0x1, 0x1);
        gbc.writeMem(0xac66, { 0x67 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x309b, gbc.sp());
        EXPECT(0xac67, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xac66));
        // 67 033C
        gbc.setState(0x8874, 0x7c4f, 0x13a0, 0xa9c2, 0xc347, 0x22b9, 0x1, 0x1);
        gbc.writeMem(0x8874, { 0x67 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x7c4f, gbc.sp());
        EXPECT(0x8875, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8874));
        // 67 033D
        gbc.setState(0x2c14, 0x1663, 0xfb60, 0xc3c, 0xbdd4, 0x54fa, 0x0, 0x0);
        gbc.writeMem(0x2c14, { 0x67 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x1663, gbc.sp());
        EXPECT(0x2c15, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 033E
        gbc.setState(0x818e, 0xd947, 0xdd70, 0x3b83, 0x3e37, 0x70e6, 0x0, 0x0);
        gbc.writeMem(0x818e, { 0x67 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xd947, gbc.sp());
        EXPECT(0x818f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x818e));
        // 67 033F
        gbc.setState(0x756e, 0xf0bd, 0x500, 0x3f34, 0x973e, 0x111e, 0x1, 0x0);
        gbc.writeMem(0x756e, { 0x67 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xf0bd, gbc.sp());
        EXPECT(0x756f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0340
        gbc.setState(0x26dc, 0x46ca, 0x8d00, 0xd20e, 0x24ec, 0xa2d4, 0x0, 0x0);
        gbc.writeMem(0x26dc, { 0x67 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x46ca, gbc.sp());
        EXPECT(0x26dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0341
        gbc.setState(0x2bf8, 0x2464, 0x1060, 0x43e3, 0x6430, 0x2fb6, 0x1, 0x0);
        gbc.writeMem(0x2bf8, { 0x67 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x2464, gbc.sp());
        EXPECT(0x2bf9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0342
        gbc.setState(0xcb24, 0x81af, 0x65d0, 0xad5d, 0x7372, 0x3db8, 0x0, 0x0);
        gbc.writeMem(0xcb24, { 0x67 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x81af, gbc.sp());
        EXPECT(0xcb25, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcb24));
        // 67 0343
        gbc.setState(0x3c8f, 0x3d4e, 0xc750, 0xfbbd, 0x4f9c, 0xe8c3, 0x0, 0x1);
        gbc.writeMem(0x3c8f, { 0x67 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x3d4e, gbc.sp());
        EXPECT(0x3c90, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0344
        gbc.setState(0x9d2d, 0x5062, 0xfe20, 0x2b47, 0x9343, 0x7995, 0x1, 0x1);
        gbc.writeMem(0x9d2d, { 0x67 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x5062, gbc.sp());
        EXPECT(0x9d2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9d2d));
        // 67 0345
        gbc.setState(0x2068, 0xed02, 0xd680, 0x6223, 0x23f4, 0xbf7, 0x0, 0x0);
        gbc.writeMem(0x2068, { 0x67 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xed02, gbc.sp());
        EXPECT(0x2069, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0346
        gbc.setState(0x6313, 0xccea, 0x3090, 0x4e9, 0x5fdd, 0xd070, 0x1, 0x1);
        gbc.writeMem(0x6313, { 0x67 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xccea, gbc.sp());
        EXPECT(0x6314, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0347
        gbc.setState(0xe2ae, 0x1fbb, 0x1e80, 0xdc7e, 0x5b3a, 0x1b69, 0x0, 0x1);
        gbc.writeMem(0xe2ae, { 0x67 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x1fbb, gbc.sp());
        EXPECT(0xe2af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe2ae));
        // 67 0348
        gbc.setState(0xcdf4, 0xcde7, 0x6c00, 0xa2e6, 0x2145, 0xbe3e, 0x0, 0x1);
        gbc.writeMem(0xcdf4, { 0x67 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xcde7, gbc.sp());
        EXPECT(0xcdf5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcdf4));
        // 67 0349
        gbc.setState(0xc243, 0x3c13, 0x33b0, 0x5909, 0x1cc6, 0xc792, 0x1, 0x0);
        gbc.writeMem(0xc243, { 0x67 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x3c13, gbc.sp());
        EXPECT(0xc244, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc243));
        // 67 034A
        gbc.setState(0x2fb3, 0xc4c, 0x5490, 0xb890, 0x893e, 0x9f95, 0x0, 0x1);
        gbc.writeMem(0x2fb3, { 0x67 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xc4c, gbc.sp());
        EXPECT(0x2fb4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 034C
        gbc.setState(0xca17, 0xf5e7, 0xcf40, 0xe00c, 0x952a, 0x5ec6, 0x0, 0x0);
        gbc.writeMem(0xca17, { 0x67 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xf5e7, gbc.sp());
        EXPECT(0xca18, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xca17));
        // 67 034D
        gbc.setState(0x1b84, 0xaaea, 0x7c30, 0xb2cc, 0x9c63, 0x5be1, 0x1, 0x0);
        gbc.writeMem(0x1b84, { 0x67 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xaaea, gbc.sp());
        EXPECT(0x1b85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 034E
        gbc.setState(0x1955, 0xa9e1, 0xf410, 0xc0cc, 0xd239, 0xd8c9, 0x0, 0x0);
        gbc.writeMem(0x1955, { 0x67 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xa9e1, gbc.sp());
        EXPECT(0x1956, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 034F
        gbc.setState(0x7a89, 0x62d6, 0x5710, 0x6f31, 0xd3d9, 0x8902, 0x1, 0x0);
        gbc.writeMem(0x7a89, { 0x67 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x62d6, gbc.sp());
        EXPECT(0x7a8a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0351
        gbc.setState(0xc498, 0x6f75, 0x38b0, 0x1876, 0xee7a, 0x49a4, 0x1, 0x1);
        gbc.writeMem(0xc498, { 0x67 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x6f75, gbc.sp());
        EXPECT(0xc499, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc498));
        // 67 0352
        gbc.setState(0xdef, 0xc986, 0xfca0, 0x1a4c, 0x1c5d, 0xcfad, 0x0, 0x1);
        gbc.writeMem(0xdef, { 0x67 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xc986, gbc.sp());
        EXPECT(0xdf0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0353
        gbc.setState(0xbabe, 0xaaf7, 0x5e90, 0x140e, 0xfcf4, 0xc680, 0x0, 0x1);
        gbc.writeMem(0xbabe, { 0x67 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xaaf7, gbc.sp());
        EXPECT(0xbabf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbabe));
        // 67 0354
        gbc.setState(0xa407, 0xa451, 0x1b80, 0xc0d, 0x415d, 0x9f07, 0x1, 0x1);
        gbc.writeMem(0xa407, { 0x67 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xa451, gbc.sp());
        EXPECT(0xa408, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa407));
        // 67 0356
        gbc.setState(0x5f99, 0xcbbf, 0xf7c0, 0x8ec6, 0xa8d8, 0xd97b, 0x0, 0x1);
        gbc.writeMem(0x5f99, { 0x67 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xcbbf, gbc.sp());
        EXPECT(0x5f9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0357
        gbc.setState(0x6964, 0xfc4, 0x2b00, 0xb945, 0x70d5, 0x2fc6, 0x1, 0x0);
        gbc.writeMem(0x6964, { 0x67 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xfc4, gbc.sp());
        EXPECT(0x6965, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0358
        gbc.setState(0xa6b9, 0xa8a, 0xfad0, 0xf584, 0xd49, 0x55b5, 0x0, 0x0);
        gbc.writeMem(0xa6b9, { 0x67 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xa8a, gbc.sp());
        EXPECT(0xa6ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa6b9));
        // 67 0359
        gbc.setState(0xdd9b, 0xcb2d, 0x71e0, 0x9e16, 0x99dc, 0x81dd, 0x0, 0x1);
        gbc.writeMem(0xdd9b, { 0x67 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xcb2d, gbc.sp());
        EXPECT(0xdd9c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdd9b));
        // 67 035A
        gbc.setState(0x4fd0, 0xcb0a, 0x6420, 0xbcc4, 0x3d9b, 0x533d, 0x0, 0x0);
        gbc.writeMem(0x4fd0, { 0x67 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xcb0a, gbc.sp());
        EXPECT(0x4fd1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 035B
        gbc.setState(0xea4e, 0x4662, 0x8e50, 0xe1d5, 0x2e74, 0xc1a9, 0x1, 0x0);
        gbc.writeMem(0xea4e, { 0x67 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x4662, gbc.sp());
        EXPECT(0xea4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xea4e));
        // 67 035C
        gbc.setState(0x51ac, 0xcf43, 0x6030, 0x3e32, 0x54d8, 0x10f2, 0x0, 0x1);
        gbc.writeMem(0x51ac, { 0x67 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xcf43, gbc.sp());
        EXPECT(0x51ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 035E
        gbc.setState(0x52c3, 0x3313, 0x1220, 0xa57, 0x294, 0xcf32, 0x0, 0x0);
        gbc.writeMem(0x52c3, { 0x67 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x3313, gbc.sp());
        EXPECT(0x52c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 035F
        gbc.setState(0x6dae, 0xa320, 0xa9e0, 0xf32e, 0x1494, 0xc6fb, 0x1, 0x0);
        gbc.writeMem(0x6dae, { 0x67 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xa320, gbc.sp());
        EXPECT(0x6daf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0360
        gbc.setState(0x9de1, 0x2c5c, 0x12b0, 0x641a, 0xe39e, 0x441c, 0x1, 0x0);
        gbc.writeMem(0x9de1, { 0x67 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x2c5c, gbc.sp());
        EXPECT(0x9de2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9de1));
        // 67 0361
        gbc.setState(0xad55, 0xc3ca, 0xc8e0, 0xf2b8, 0x30da, 0xa932, 0x0, 0x0);
        gbc.writeMem(0xad55, { 0x67 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xc3ca, gbc.sp());
        EXPECT(0xad56, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xad55));
        // 67 0362
        gbc.setState(0x30d9, 0xa59c, 0xab10, 0x78f8, 0x1cbb, 0x163d, 0x1, 0x0);
        gbc.writeMem(0x30d9, { 0x67 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xa59c, gbc.sp());
        EXPECT(0x30da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0363
        gbc.setState(0xa553, 0x4ba4, 0xe120, 0xccf3, 0xe1d8, 0x445e, 0x1, 0x0);
        gbc.writeMem(0xa553, { 0x67 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x4ba4, gbc.sp());
        EXPECT(0xa554, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa553));
        // 67 0364
        gbc.setState(0x35b0, 0x4f95, 0x8210, 0xc4f, 0x1fdf, 0x60, 0x0, 0x1);
        gbc.writeMem(0x35b0, { 0x67 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x4f95, gbc.sp());
        EXPECT(0x35b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0365
        gbc.setState(0x702e, 0xf5f4, 0x6fa0, 0xfcde, 0xb6e6, 0xb34, 0x0, 0x0);
        gbc.writeMem(0x702e, { 0x67 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xf5f4, gbc.sp());
        EXPECT(0x702f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0366
        gbc.setState(0xae8e, 0xa60b, 0x19f0, 0xa8d, 0x77d6, 0x89b, 0x0, 0x0);
        gbc.writeMem(0xae8e, { 0x67 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xa60b, gbc.sp());
        EXPECT(0xae8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xae8e));
        // 67 0367
        gbc.setState(0x2d8c, 0xad48, 0x8240, 0x8490, 0xace7, 0x9776, 0x1, 0x0);
        gbc.writeMem(0x2d8c, { 0x67 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xad48, gbc.sp());
        EXPECT(0x2d8d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0368
        gbc.setState(0x648d, 0x2d54, 0xc130, 0x2e90, 0x5b77, 0xe76, 0x0, 0x0);
        gbc.writeMem(0x648d, { 0x67 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x2d54, gbc.sp());
        EXPECT(0x648e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0369
        gbc.setState(0xd28e, 0x9350, 0x6110, 0xb1c, 0x94a7, 0x1f17, 0x1, 0x1);
        gbc.writeMem(0xd28e, { 0x67 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x9350, gbc.sp());
        EXPECT(0xd28f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd28e));
        // 67 036A
        gbc.setState(0x184c, 0x9862, 0x7f90, 0x1b0, 0xf7b, 0x4b97, 0x1, 0x0);
        gbc.writeMem(0x184c, { 0x67 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x9862, gbc.sp());
        EXPECT(0x184d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 036B
        gbc.setState(0x1c43, 0xb702, 0xc980, 0xf58e, 0x4ad1, 0x2819, 0x0, 0x0);
        gbc.writeMem(0x1c43, { 0x67 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xb702, gbc.sp());
        EXPECT(0x1c44, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 036C
        gbc.setState(0xe02f, 0x9ff1, 0x51f0, 0x1c56, 0xcb21, 0x172, 0x0, 0x0);
        gbc.writeMem(0xe02f, { 0x67 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x9ff1, gbc.sp());
        EXPECT(0xe030, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe02f));
        // 67 036D
        gbc.setState(0xbe34, 0xdad6, 0x8e70, 0x471, 0x94f, 0x96f5, 0x1, 0x1);
        gbc.writeMem(0xbe34, { 0x67 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xdad6, gbc.sp());
        EXPECT(0xbe35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbe34));
        // 67 036E
        gbc.setState(0x5791, 0xa7ad, 0x4fe0, 0x76cf, 0x5f2, 0xe1ba, 0x0, 0x1);
        gbc.writeMem(0x5791, { 0x67 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xa7ad, gbc.sp());
        EXPECT(0x5792, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 036F
        gbc.setState(0x74a7, 0xcdf8, 0x2cd0, 0x34b0, 0xd6a4, 0xcbe7, 0x1, 0x0);
        gbc.writeMem(0x74a7, { 0x67 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xcdf8, gbc.sp());
        EXPECT(0x74a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0370
        gbc.setState(0x9fa5, 0x303f, 0x3780, 0xef12, 0x6e77, 0x8fb9, 0x0, 0x1);
        gbc.writeMem(0x9fa5, { 0x67 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x303f, gbc.sp());
        EXPECT(0x9fa6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9fa5));
        // 67 0371
        gbc.setState(0x83a1, 0x37a7, 0xe100, 0x11c0, 0x4408, 0x3519, 0x1, 0x0);
        gbc.writeMem(0x83a1, { 0x67 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x37a7, gbc.sp());
        EXPECT(0x83a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x83a1));
        // 67 0372
        gbc.setState(0xec3c, 0xaedf, 0xed60, 0x5d38, 0xdb5d, 0x8739, 0x1, 0x1);
        gbc.writeMem(0xec3c, { 0x67 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xaedf, gbc.sp());
        EXPECT(0xec3d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xec3c));
        // 67 0373
        gbc.setState(0x84a0, 0x372f, 0x6270, 0x17fb, 0x83ff, 0x231a, 0x1, 0x1);
        gbc.writeMem(0x84a0, { 0x67 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x372f, gbc.sp());
        EXPECT(0x84a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x84a0));
        // 67 0374
        gbc.setState(0xe17a, 0xd7d8, 0x390, 0xebd7, 0x4910, 0x8904, 0x1, 0x0);
        gbc.writeMem(0xe17a, { 0x67 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xd7d8, gbc.sp());
        EXPECT(0xe17b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe17a));
        // 67 0375
        gbc.setState(0xc5eb, 0x5967, 0x5b50, 0xd382, 0x55ae, 0x5925, 0x0, 0x1);
        gbc.writeMem(0xc5eb, { 0x67 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x5967, gbc.sp());
        EXPECT(0xc5ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc5eb));
        // 67 0376
        gbc.setState(0x3bca, 0xbea3, 0xbc00, 0x7201, 0x81a3, 0x4905, 0x1, 0x1);
        gbc.writeMem(0x3bca, { 0x67 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xbea3, gbc.sp());
        EXPECT(0x3bcb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0377
        gbc.setState(0xdcd2, 0x8d2c, 0x99a0, 0x73e1, 0xa543, 0x918d, 0x0, 0x1);
        gbc.writeMem(0xdcd2, { 0x67 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x8d2c, gbc.sp());
        EXPECT(0xdcd3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdcd2));
        // 67 0378
        gbc.setState(0xcc67, 0xe7ff, 0x320, 0x428, 0x2fd3, 0x9b6e, 0x0, 0x0);
        gbc.writeMem(0xcc67, { 0x67 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xe7ff, gbc.sp());
        EXPECT(0xcc68, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xcc67));
        // 67 0379
        gbc.setState(0x8b9a, 0x2ccb, 0x99b0, 0x8f0e, 0x6dfb, 0x51b3, 0x0, 0x0);
        gbc.writeMem(0x8b9a, { 0x67 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x2ccb, gbc.sp());
        EXPECT(0x8b9b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8b9a));
        // 67 037A
        gbc.setState(0xa972, 0xdc1f, 0x6220, 0xe065, 0x6507, 0x57a3, 0x0, 0x0);
        gbc.writeMem(0xa972, { 0x67 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xdc1f, gbc.sp());
        EXPECT(0xa973, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa972));
        // 67 037B
        gbc.setState(0xf2e, 0xa11f, 0xc390, 0x533b, 0xcf09, 0x858, 0x1, 0x0);
        gbc.writeMem(0xf2e, { 0x67 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xa11f, gbc.sp());
        EXPECT(0xf2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 037C
        gbc.setState(0xad24, 0x2a28, 0xae80, 0xf0b7, 0x2631, 0x2440, 0x1, 0x0);
        gbc.writeMem(0xad24, { 0x67 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x2a28, gbc.sp());
        EXPECT(0xad25, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xad24));
        // 67 037D
        gbc.setState(0xb52c, 0xf19c, 0x67f0, 0x794b, 0x80c9, 0x3c3d, 0x0, 0x0);
        gbc.writeMem(0xb52c, { 0x67 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xf19c, gbc.sp());
        EXPECT(0xb52d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb52c));
        // 67 037E
        gbc.setState(0x4043, 0x165f, 0xd810, 0xefd0, 0x38ac, 0xde15, 0x0, 0x0);
        gbc.writeMem(0x4043, { 0x67 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x165f, gbc.sp());
        EXPECT(0x4044, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 037F
        gbc.setState(0x1742, 0xb0b5, 0xc6e0, 0xd164, 0xaa55, 0xfa26, 0x0, 0x1);
        gbc.writeMem(0x1742, { 0x67 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xb0b5, gbc.sp());
        EXPECT(0x1743, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0380
        gbc.setState(0xa757, 0xf0a0, 0xfc30, 0x86e6, 0x6171, 0x2357, 0x1, 0x0);
        gbc.writeMem(0xa757, { 0x67 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xf0a0, gbc.sp());
        EXPECT(0xa758, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa757));
        // 67 0381
        gbc.setState(0xdb67, 0x7070, 0xaa30, 0x4746, 0x8e2d, 0x4294, 0x0, 0x0);
        gbc.writeMem(0xdb67, { 0x67 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x7070, gbc.sp());
        EXPECT(0xdb68, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdb67));
        // 67 0382
        gbc.setState(0xc69, 0xd70c, 0x7c70, 0x38fb, 0x4281, 0x7660, 0x1, 0x1);
        gbc.writeMem(0xc69, { 0x67 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xd70c, gbc.sp());
        EXPECT(0xc6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0383
        gbc.setState(0x5967, 0xa647, 0x4ba0, 0xeece, 0xedaf, 0x9a9, 0x1, 0x0);
        gbc.writeMem(0x5967, { 0x67 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xa647, gbc.sp());
        EXPECT(0x5968, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0384
        gbc.setState(0xd1ed, 0x931b, 0x6ee0, 0xadf6, 0x38c8, 0x80e7, 0x1, 0x0);
        gbc.writeMem(0xd1ed, { 0x67 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x931b, gbc.sp());
        EXPECT(0xd1ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd1ed));
        // 67 0385
        gbc.setState(0xa3b3, 0x1efc, 0x6a70, 0x9864, 0x7fce, 0x4eac, 0x1, 0x0);
        gbc.writeMem(0xa3b3, { 0x67 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x1efc, gbc.sp());
        EXPECT(0xa3b4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa3b3));
        // 67 0387
        gbc.setState(0xea1, 0x1eb4, 0x3820, 0xefef, 0xc3d8, 0x8976, 0x1, 0x1);
        gbc.writeMem(0xea1, { 0x67 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x1eb4, gbc.sp());
        EXPECT(0xea2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0388
        gbc.setState(0x11b3, 0x7c5a, 0x3da0, 0x45ce, 0xc46e, 0x39b0, 0x0, 0x1);
        gbc.writeMem(0x11b3, { 0x67 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x7c5a, gbc.sp());
        EXPECT(0x11b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 0389
        gbc.setState(0x3a49, 0xe55a, 0x3480, 0x2ef0, 0xd6e6, 0xbb7, 0x1, 0x1);
        gbc.writeMem(0x3a49, { 0x67 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xe55a, gbc.sp());
        EXPECT(0x3a4a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 038A
        gbc.setState(0x67bd, 0x4bb5, 0xa430, 0x1f80, 0xce76, 0x9571, 0x0, 0x0);
        gbc.writeMem(0x67bd, { 0x67 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x4bb5, gbc.sp());
        EXPECT(0x67be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 038B
        gbc.setState(0xdf35, 0xf296, 0x90a0, 0x299c, 0x177e, 0xa036, 0x0, 0x0);
        gbc.writeMem(0xdf35, { 0x67 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xf296, gbc.sp());
        EXPECT(0xdf36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdf35));
        // 67 038C
        gbc.setState(0x4626, 0xb2e7, 0xd600, 0x550e, 0xc900, 0xbf57, 0x0, 0x1);
        gbc.writeMem(0x4626, { 0x67 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xb2e7, gbc.sp());
        EXPECT(0x4627, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 038D
        gbc.setState(0x7bdb, 0x948e, 0x2760, 0x1d45, 0x78de, 0x1f4f, 0x0, 0x1);
        gbc.writeMem(0x7bdb, { 0x67 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x948e, gbc.sp());
        EXPECT(0x7bdc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 038E
        gbc.setState(0xac90, 0x80a7, 0xe590, 0x22e8, 0xd2e9, 0x3ab6, 0x1, 0x1);
        gbc.writeMem(0xac90, { 0x67 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x80a7, gbc.sp());
        EXPECT(0xac91, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xac90));
        // 67 0390
        gbc.setState(0x8785, 0x5c85, 0xb800, 0x5fb6, 0xd0e3, 0x15b2, 0x1, 0x0);
        gbc.writeMem(0x8785, { 0x67 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x5c85, gbc.sp());
        EXPECT(0x8786, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8785));
        // 67 0391
        gbc.setState(0xec85, 0xa4d7, 0xbcb0, 0x3fa7, 0xdd2f, 0x8a46, 0x0, 0x1);
        gbc.writeMem(0xec85, { 0x67 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xa4d7, gbc.sp());
        EXPECT(0xec86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xec85));
        // 67 0392
        gbc.setState(0xeccd, 0xfc5, 0xa430, 0x7103, 0x5476, 0x51c7, 0x1, 0x0);
        gbc.writeMem(0xeccd, { 0x67 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xfc5, gbc.sp());
        EXPECT(0xecce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xeccd));
        // 67 0393
        gbc.setState(0xe808, 0xf4f0, 0xa950, 0x36d2, 0x4a5b, 0x86c9, 0x0, 0x0);
        gbc.writeMem(0xe808, { 0x67 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xf4f0, gbc.sp());
        EXPECT(0xe809, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe808));
        // 67 0395
        gbc.setState(0x5ef0, 0x2b91, 0x73d0, 0xc73, 0x3277, 0x5b7d, 0x1, 0x1);
        gbc.writeMem(0x5ef0, { 0x67 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x2b91, gbc.sp());
        EXPECT(0x5ef1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 0396
        gbc.setState(0x8fb6, 0x87bf, 0xe010, 0x3156, 0xb1df, 0xa503, 0x0, 0x1);
        gbc.writeMem(0x8fb6, { 0x67 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x87bf, gbc.sp());
        EXPECT(0x8fb7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8fb6));
        // 67 0397
        gbc.setState(0x9dc5, 0xb286, 0x2880, 0x324c, 0x299c, 0xc7dd, 0x0, 0x0);
        gbc.writeMem(0x9dc5, { 0x67 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xb286, gbc.sp());
        EXPECT(0x9dc6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9dc5));
        // 67 0398
        gbc.setState(0xeb8d, 0xa98, 0x3650, 0xcfbd, 0x9802, 0xfa09, 0x1, 0x0);
        gbc.writeMem(0xeb8d, { 0x67 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xa98, gbc.sp());
        EXPECT(0xeb8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xeb8d));
        // 67 0399
        gbc.setState(0x9454, 0x8b39, 0xd350, 0x958e, 0x921f, 0x724, 0x0, 0x0);
        gbc.writeMem(0x9454, { 0x67 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x8b39, gbc.sp());
        EXPECT(0x9455, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9454));
        // 67 039A
        gbc.setState(0xe760, 0xbade, 0xe350, 0x18a1, 0x5f06, 0xe35e, 0x0, 0x0);
        gbc.writeMem(0xe760, { 0x67 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xbade, gbc.sp());
        EXPECT(0xe761, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe760));
        // 67 039B
        gbc.setState(0x3979, 0xb7f6, 0xc6e0, 0x5ff1, 0xe5b0, 0x9c9b, 0x0, 0x1);
        gbc.writeMem(0x3979, { 0x67 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xb7f6, gbc.sp());
        EXPECT(0x397a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 039C
        gbc.setState(0x3405, 0x7bf1, 0x3910, 0xa475, 0xdca3, 0xef5c, 0x0, 0x1);
        gbc.writeMem(0x3405, { 0x67 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x7bf1, gbc.sp());
        EXPECT(0x3406, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 039D
        gbc.setState(0x8fa9, 0x26a9, 0x370, 0x6102, 0x1cc1, 0x597d, 0x1, 0x1);
        gbc.writeMem(0x8fa9, { 0x67 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x26a9, gbc.sp());
        EXPECT(0x8faa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8fa9));
        // 67 039E
        gbc.setState(0x9ce0, 0xa4a8, 0x84d0, 0x2b06, 0x1599, 0xefd1, 0x0, 0x1);
        gbc.writeMem(0x9ce0, { 0x67 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xa4a8, gbc.sp());
        EXPECT(0x9ce1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9ce0));
        // 67 039F
        gbc.setState(0xc257, 0x8084, 0x9aa0, 0x27, 0x209d, 0xde9, 0x1, 0x0);
        gbc.writeMem(0xc257, { 0x67 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x8084, gbc.sp());
        EXPECT(0xc258, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc257));
        // 67 03A0
        gbc.setState(0x6056, 0xe9b3, 0x5af0, 0xe7e7, 0x433f, 0xf94b, 0x0, 0x1);
        gbc.writeMem(0x6056, { 0x67 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xe9b3, gbc.sp());
        EXPECT(0x6057, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 03A1
        gbc.setState(0x5277, 0x9f2a, 0x2f40, 0x6291, 0x84bc, 0xc16b, 0x0, 0x1);
        gbc.writeMem(0x5277, { 0x67 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x9f2a, gbc.sp());
        EXPECT(0x5278, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03A2
        gbc.setState(0x4d86, 0xb622, 0xf2d0, 0x5a31, 0x8f13, 0x45fd, 0x1, 0x0);
        gbc.writeMem(0x4d86, { 0x67 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xb622, gbc.sp());
        EXPECT(0x4d87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 03A3
        gbc.setState(0x8904, 0x2691, 0xb670, 0xedc6, 0xd518, 0x58d, 0x1, 0x0);
        gbc.writeMem(0x8904, { 0x67 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x2691, gbc.sp());
        EXPECT(0x8905, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8904));
        // 67 03A4
        gbc.setState(0x4f04, 0xca68, 0x220, 0x2f09, 0x2de0, 0x25e7, 0x1, 0x0);
        gbc.writeMem(0x4f04, { 0x67 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xca68, gbc.sp());
        EXPECT(0x4f05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03A5
        gbc.setState(0xeee9, 0xd20, 0x8220, 0x57ed, 0xfcef, 0xd9bc, 0x1, 0x1);
        gbc.writeMem(0xeee9, { 0x67 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xd20, gbc.sp());
        EXPECT(0xeeea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xeee9));
        // 67 03A6
        gbc.setState(0x9b28, 0x10c5, 0x59d0, 0xc513, 0xd0d4, 0xa0a9, 0x0, 0x0);
        gbc.writeMem(0x9b28, { 0x67 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x10c5, gbc.sp());
        EXPECT(0x9b29, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9b28));
        // 67 03A7
        gbc.setState(0x23f3, 0x93e9, 0xccf0, 0x9a00, 0xb5db, 0x8676, 0x0, 0x1);
        gbc.writeMem(0x23f3, { 0x67 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x93e9, gbc.sp());
        EXPECT(0x23f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 03A8
        gbc.setState(0x3a2, 0xee43, 0xebe0, 0xa9b0, 0x5fe5, 0xd938, 0x1, 0x1);
        gbc.writeMem(0x3a2, { 0x67 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xee43, gbc.sp());
        EXPECT(0x3a3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03A9
        gbc.setState(0xd259, 0xb2b6, 0x9510, 0xd5b5, 0x6261, 0xe17c, 0x1, 0x0);
        gbc.writeMem(0xd259, { 0x67 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xb2b6, gbc.sp());
        EXPECT(0xd25a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd259));
        // 67 03AA
        gbc.setState(0x117b, 0x23ef, 0x5ed0, 0x3b1d, 0x21d9, 0xb996, 0x0, 0x1);
        gbc.writeMem(0x117b, { 0x67 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x23ef, gbc.sp());
        EXPECT(0x117c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 03AB
        gbc.setState(0x94e4, 0xd6aa, 0x5bd0, 0x90bb, 0xeb2f, 0xd940, 0x0, 0x0);
        gbc.writeMem(0x94e4, { 0x67 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xd6aa, gbc.sp());
        EXPECT(0x94e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x94e4));
        // 67 03AC
        gbc.setState(0xc10c, 0xa779, 0x7bc0, 0x10d7, 0xb8fe, 0x4dd6, 0x0, 0x0);
        gbc.writeMem(0xc10c, { 0x67 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xa779, gbc.sp());
        EXPECT(0xc10d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc10c));
        // 67 03AD
        gbc.setState(0xb831, 0x38f0, 0xdd60, 0xf8e0, 0x7c2a, 0x4dd6, 0x1, 0x1);
        gbc.writeMem(0xb831, { 0x67 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x38f0, gbc.sp());
        EXPECT(0xb832, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb831));
        // 67 03AF
        gbc.setState(0xc717, 0x88ac, 0xa740, 0xc9e3, 0x3d43, 0xb89a, 0x1, 0x1);
        gbc.writeMem(0xc717, { 0x67 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x88ac, gbc.sp());
        EXPECT(0xc718, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc717));
        // 67 03B0
        gbc.setState(0xbee1, 0xc004, 0x4c40, 0xe81a, 0x4a8e, 0xf86b, 0x1, 0x1);
        gbc.writeMem(0xbee1, { 0x67 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xc004, gbc.sp());
        EXPECT(0xbee2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xbee1));
        // 67 03B1
        gbc.setState(0xd4dd, 0x7794, 0xd340, 0x8f2e, 0x51b1, 0x6ca2, 0x1, 0x1);
        gbc.writeMem(0xd4dd, { 0x67 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x7794, gbc.sp());
        EXPECT(0xd4de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd4dd));
        // 67 03B2
        gbc.setState(0x94ec, 0x5724, 0xa270, 0xaeb8, 0x5fc4, 0x5b75, 0x0, 0x1);
        gbc.writeMem(0x94ec, { 0x67 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x5724, gbc.sp());
        EXPECT(0x94ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x94ec));
        // 67 03B3
        gbc.setState(0x91fd, 0x6d7, 0xe20, 0xda86, 0xa5b5, 0x798e, 0x1, 0x0);
        gbc.writeMem(0x91fd, { 0x67 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x6d7, gbc.sp());
        EXPECT(0x91fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x91fd));
        // 67 03B4
        gbc.setState(0x6b45, 0x504a, 0xa010, 0x8e5f, 0xad0b, 0x1f71, 0x0, 0x0);
        gbc.writeMem(0x6b45, { 0x67 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x504a, gbc.sp());
        EXPECT(0x6b46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 03B5
        gbc.setState(0xde44, 0x3561, 0xd360, 0xec70, 0xee79, 0x7927, 0x1, 0x1);
        gbc.writeMem(0xde44, { 0x67 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x3561, gbc.sp());
        EXPECT(0xde45, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xde44));
        // 67 03B6
        gbc.setState(0xae83, 0xeab6, 0xa70, 0xf3a6, 0x72ea, 0x1f99, 0x1, 0x1);
        gbc.writeMem(0xae83, { 0x67 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xeab6, gbc.sp());
        EXPECT(0xae84, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xae83));
        // 67 03B8
        gbc.setState(0x9227, 0xcdf4, 0xdf20, 0xc0c, 0x68cc, 0x18f8, 0x1, 0x1);
        gbc.writeMem(0x9227, { 0x67 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xcdf4, gbc.sp());
        EXPECT(0x9228, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x9227));
        // 67 03B9
        gbc.setState(0xda71, 0xb336, 0x7dd0, 0x2e84, 0x64b3, 0xa984, 0x0, 0x1);
        gbc.writeMem(0xda71, { 0x67 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xb336, gbc.sp());
        EXPECT(0xda72, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xda71));
        // 67 03BA
        gbc.setState(0xe572, 0x317, 0x3a60, 0x9279, 0x48ab, 0x6f4e, 0x1, 0x1);
        gbc.writeMem(0xe572, { 0x67 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x317, gbc.sp());
        EXPECT(0xe573, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe572));
        // 67 03BB
        gbc.setState(0xac36, 0x480d, 0x90c0, 0x351e, 0xb5de, 0x23dd, 0x0, 0x1);
        gbc.writeMem(0xac36, { 0x67 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x480d, gbc.sp());
        EXPECT(0xac37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xac36));
        // 67 03BC
        gbc.setState(0x93a4, 0xde6a, 0xdc70, 0xdd56, 0x889b, 0xa3b3, 0x0, 0x1);
        gbc.writeMem(0x93a4, { 0x67 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xde6a, gbc.sp());
        EXPECT(0x93a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x93a4));
        // 67 03BD
        gbc.setState(0x12da, 0x88e2, 0xbdb0, 0xd491, 0xfee3, 0x79ae, 0x1, 0x0);
        gbc.writeMem(0x12da, { 0x67 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x88e2, gbc.sp());
        EXPECT(0x12db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 03BF
        gbc.setState(0x2b4d, 0x5d33, 0x2180, 0x6b1e, 0x37ff, 0xe8ad, 0x1, 0x0);
        gbc.writeMem(0x2b4d, { 0x67 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x5d33, gbc.sp());
        EXPECT(0x2b4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03C0
        gbc.setState(0xd452, 0xa59e, 0xd5a0, 0xd8ac, 0xf64b, 0x2728, 0x0, 0x0);
        gbc.writeMem(0xd452, { 0x67 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xa59e, gbc.sp());
        EXPECT(0xd453, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd452));
        // 67 03C1
        gbc.setState(0x5cac, 0x78f3, 0xa50, 0x6e32, 0x2281, 0xfb5e, 0x0, 0x1);
        gbc.writeMem(0x5cac, { 0x67 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x78f3, gbc.sp());
        EXPECT(0x5cad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 03C2
        gbc.setState(0x3051, 0x5dee, 0x7680, 0x78bc, 0xc9f5, 0x7c6c, 0x1, 0x0);
        gbc.writeMem(0x3051, { 0x67 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x5dee, gbc.sp());
        EXPECT(0x3052, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03C3
        gbc.setState(0xe3a5, 0x8c5a, 0x63f0, 0x1ab0, 0xaa24, 0x2a37, 0x0, 0x1);
        gbc.writeMem(0xe3a5, { 0x67 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x8c5a, gbc.sp());
        EXPECT(0xe3a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe3a5));
        // 67 03C4
        gbc.setState(0x4619, 0x62d1, 0x5140, 0x1f48, 0x7811, 0x1e01, 0x0, 0x0);
        gbc.writeMem(0x4619, { 0x67 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x62d1, gbc.sp());
        EXPECT(0x461a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03C6
        gbc.setState(0x6b67, 0x7710, 0x5f00, 0x9186, 0x9ab, 0x3da4, 0x0, 0x0);
        gbc.writeMem(0x6b67, { 0x67 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x7710, gbc.sp());
        EXPECT(0x6b68, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03C7
        gbc.setState(0x273d, 0xbe8f, 0x82c0, 0x4981, 0x7a1e, 0xf071, 0x1, 0x1);
        gbc.writeMem(0x273d, { 0x67 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xbe8f, gbc.sp());
        EXPECT(0x273e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03C8
        gbc.setState(0x7252, 0xa9e1, 0x8590, 0x3232, 0x70ec, 0xd777, 0x0, 0x1);
        gbc.writeMem(0x7252, { 0x67 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xa9e1, gbc.sp());
        EXPECT(0x7253, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 03C9
        gbc.setState(0x263c, 0xce89, 0x3a20, 0x45e4, 0xc161, 0x5573, 0x0, 0x1);
        gbc.writeMem(0x263c, { 0x67 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xce89, gbc.sp());
        EXPECT(0x263d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03CA
        gbc.setState(0x653d, 0x92e4, 0x1780, 0x2553, 0x552a, 0x85ee, 0x1, 0x1);
        gbc.writeMem(0x653d, { 0x67 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x92e4, gbc.sp());
        EXPECT(0x653e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03CB
        gbc.setState(0x799e, 0xf4a5, 0x97e0, 0x97c5, 0x3f83, 0x984c, 0x0, 0x1);
        gbc.writeMem(0x799e, { 0x67 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xf4a5, gbc.sp());
        EXPECT(0x799f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03CC
        gbc.setState(0x2e2c, 0xf87b, 0xc690, 0x6e53, 0x5f5a, 0xca92, 0x1, 0x1);
        gbc.writeMem(0x2e2c, { 0x67 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xf87b, gbc.sp());
        EXPECT(0x2e2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 03CF
        gbc.setState(0xb7d6, 0x4cfd, 0x7640, 0x11ac, 0x6494, 0x7863, 0x0, 0x0);
        gbc.writeMem(0xb7d6, { 0x67 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x4cfd, gbc.sp());
        EXPECT(0xb7d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb7d6));
        // 67 03D0
        gbc.setState(0x319f, 0x953, 0xd130, 0x4c7d, 0xb51, 0x191f, 0x0, 0x0);
        gbc.writeMem(0x319f, { 0x67 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x953, gbc.sp());
        EXPECT(0x31a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 03D1
        gbc.setState(0x8554, 0x34c7, 0x98c0, 0xb38, 0x54ad, 0xe3e7, 0x1, 0x0);
        gbc.writeMem(0x8554, { 0x67 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x34c7, gbc.sp());
        EXPECT(0x8555, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x8554));
        // 67 03D2
        gbc.setState(0x87c9, 0xfdc9, 0x3bf0, 0x7f7d, 0x705a, 0x9dee, 0x1, 0x0);
        gbc.writeMem(0x87c9, { 0x67 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xfdc9, gbc.sp());
        EXPECT(0x87ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x87c9));
        // 67 03D3
        gbc.setState(0x1c32, 0x5dfc, 0x67d0, 0x96f7, 0x87d9, 0x7809, 0x1, 0x0);
        gbc.writeMem(0x1c32, { 0x67 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x5dfc, gbc.sp());
        EXPECT(0x1c33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 03D4
        gbc.setState(0xb4b0, 0xdc2c, 0x4160, 0x714b, 0x6e24, 0xe9ed, 0x0, 0x0);
        gbc.writeMem(0xb4b0, { 0x67 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xdc2c, gbc.sp());
        EXPECT(0xb4b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb4b0));
        // 67 03D5
        gbc.setState(0x528e, 0xd03f, 0x9be0, 0x84eb, 0x5ae0, 0xd0c6, 0x0, 0x1);
        gbc.writeMem(0x528e, { 0x67 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xd03f, gbc.sp());
        EXPECT(0x528f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03D7
        gbc.setState(0x6908, 0xaf52, 0xcc90, 0xde99, 0x55bf, 0x118a, 0x0, 0x0);
        gbc.writeMem(0x6908, { 0x67 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xaf52, gbc.sp());
        EXPECT(0x6909, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 03D8
        gbc.setState(0x4c36, 0xd876, 0x8e00, 0x2462, 0xf9c4, 0x996d, 0x1, 0x1);
        gbc.writeMem(0x4c36, { 0x67 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xd876, gbc.sp());
        EXPECT(0x4c37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03D9
        gbc.setState(0x637, 0x6cef, 0x9080, 0x380e, 0xd287, 0x6f2d, 0x0, 0x0);
        gbc.writeMem(0x637, { 0x67 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x6cef, gbc.sp());
        EXPECT(0x638, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03DA
        gbc.setState(0x3139, 0x6e33, 0x9a60, 0xd0db, 0xe1d7, 0xb12f, 0x1, 0x1);
        gbc.writeMem(0x3139, { 0x67 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x6e33, gbc.sp());
        EXPECT(0x313a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03DB
        gbc.setState(0xd3ed, 0x1786, 0xbfa0, 0xc0ef, 0x1c99, 0x2bfa, 0x0, 0x1);
        gbc.writeMem(0xd3ed, { 0x67 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x1786, gbc.sp());
        EXPECT(0xd3ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd3ed));
        // 67 03DC
        gbc.setState(0xc3ba, 0xdfae, 0xb680, 0xc13e, 0x36e9, 0xfe38, 0x0, 0x1);
        gbc.writeMem(0xc3ba, { 0x67 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xdfae, gbc.sp());
        EXPECT(0xc3bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc3ba));
        // 67 03DD
        gbc.setState(0xd14c, 0xb9bf, 0x2ad0, 0xc3c4, 0xd1c3, 0xd08d, 0x1, 0x0);
        gbc.writeMem(0xd14c, { 0x67 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xb9bf, gbc.sp());
        EXPECT(0xd14d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd14c));
        // 67 03DE
        gbc.setState(0xd9a5, 0xafd8, 0xdf50, 0x6205, 0x3c52, 0x1d46, 0x1, 0x0);
        gbc.writeMem(0xd9a5, { 0x67 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xafd8, gbc.sp());
        EXPECT(0xd9a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xd9a5));
        // 67 03DF
        gbc.setState(0xdb1d, 0xad73, 0x6780, 0x6130, 0xe7b1, 0x4c30, 0x0, 0x1);
        gbc.writeMem(0xdb1d, { 0x67 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xad73, gbc.sp());
        EXPECT(0xdb1e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xdb1d));
        // 67 03E0
        gbc.setState(0x1933, 0x316c, 0xf4a0, 0x29ba, 0xd5c1, 0xf2ad, 0x1, 0x1);
        gbc.writeMem(0x1933, { 0x67 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x316c, gbc.sp());
        EXPECT(0x1934, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03E1
        gbc.setState(0x7337, 0x4507, 0x6f50, 0xafdc, 0xe8c1, 0x41, 0x1, 0x1);
        gbc.writeMem(0x7337, { 0x67 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x4507, gbc.sp());
        EXPECT(0x7338, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 67 03E2
        gbc.setState(0xac1a, 0xd39f, 0x9b90, 0x8654, 0x5b24, 0xac9d, 0x0, 0x1);
        gbc.writeMem(0xac1a, { 0x67 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xd39f, gbc.sp());
        EXPECT(0xac1b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xac1a));
        // 67 03E3
        gbc.setState(0x25a3, 0xb4ca, 0xa680, 0x5a6, 0x494e, 0x23b9, 0x0, 0x1);
        gbc.writeMem(0x25a3, { 0x67 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xb4ca, gbc.sp());
        EXPECT(0x25a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 67 03E4
        gbc.setState(0x999c, 0x18a8, 0xebb0, 0xa1cf, 0xde76, 0xa288, 0x0, 0x0);
        gbc.writeMem(0x999c, { 0x67 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x18a8, gbc.sp());
        EXPECT(0x999d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0x999c));
        // 67 03E5
        gbc.setState(0xc637, 0xd4bf, 0x6300, 0x32fa, 0xa302, 0xd7ce, 0x1, 0x0);
        gbc.writeMem(0xc637, { 0x67 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xd4bf, gbc.sp());
        EXPECT(0xc638, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xc637));
        // 67 03E6
        gbc.setState(0xe32b, 0x9a15, 0x3110, 0x6517, 0xbcf1, 0xc331, 0x0, 0x1);
        gbc.writeMem(0xe32b, { 0x67 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x9a15, gbc.sp());
        EXPECT(0xe32c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xe32b));
        // 67 03E7
        gbc.setState(0xa702, 0x6a2f, 0xa80, 0xa993, 0x51ac, 0xc78c, 0x1, 0x0);
        gbc.writeMem(0xa702, { 0x67 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x6a2f, gbc.sp());
        EXPECT(0xa703, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xa702));
    }
