    TEST(gbcemu, opcode_cb_11) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 11 0001
        gbc.setState(0x563e, 0xc850, 0xc610, 0xac1f, 0x1a83, 0xe40d, 0x0, 0x1);
        gbc.writeMem(0x563e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xc850);
        EXPECT(gbc.pc(), 0x5640);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0002
        gbc.setState(0x3b33, 0x8298, 0x92f0, 0x2a6f, 0x2e69, 0x34eb, 0x0, 0x1);
        gbc.writeMem(0x3b33, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x8298);
        EXPECT(gbc.pc(), 0x3b35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0003
        gbc.setState(0xa6a5, 0xaeaf, 0x470, 0xa58, 0x4124, 0xce55, 0x1, 0x1);
        gbc.writeMem(0xa6a5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xaeaf);
        EXPECT(gbc.pc(), 0xa6a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6a5), 0xcb);
        EXPECT(gbc.readMem(0xa6a6), 0x11);
        // CB 11 0004
        gbc.setState(0xe13a, 0x75c9, 0xd070, 0x2170, 0x279b, 0xdf63, 0x1, 0x0);
        gbc.writeMem(0xe13a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x75c9);
        EXPECT(gbc.pc(), 0xe13c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe13a), 0xcb);
        EXPECT(gbc.readMem(0xe13b), 0x11);
        // CB 11 0005
        gbc.setState(0xb5da, 0x41d2, 0x4cc0, 0x139d, 0x97d5, 0x10a3, 0x1, 0x1);
        gbc.writeMem(0xb5da, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x41d2);
        EXPECT(gbc.pc(), 0xb5dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5da), 0xcb);
        EXPECT(gbc.readMem(0xb5db), 0x11);
        // CB 11 0006
        gbc.setState(0x728f, 0x48ca, 0x1350, 0xb16c, 0xf4c8, 0xcde8, 0x0, 0x1);
        gbc.writeMem(0x728f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x48ca);
        EXPECT(gbc.pc(), 0x7291);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0007
        gbc.setState(0x735c, 0xf44b, 0x3860, 0x7af, 0x63d, 0xe51a, 0x0, 0x1);
        gbc.writeMem(0x735c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xf44b);
        EXPECT(gbc.pc(), 0x735e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0008
        gbc.setState(0xab75, 0xb662, 0xef0, 0xf5e9, 0xb5c, 0xde79, 0x0, 0x1);
        gbc.writeMem(0xab75, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xb662);
        EXPECT(gbc.pc(), 0xab77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab75), 0xcb);
        EXPECT(gbc.readMem(0xab76), 0x11);
        // CB 11 0009
        gbc.setState(0x4f31, 0x9729, 0x90d0, 0x8e32, 0x7091, 0x8810, 0x0, 0x1);
        gbc.writeMem(0x4f31, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x9729);
        EXPECT(gbc.pc(), 0x4f33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 000A
        gbc.setState(0x8f78, 0x53f1, 0xd8a0, 0x935d, 0x482a, 0x6fd8, 0x0, 0x1);
        gbc.writeMem(0x8f78, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x53f1);
        EXPECT(gbc.pc(), 0x8f7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f78), 0xcb);
        EXPECT(gbc.readMem(0x8f79), 0x11);
        // CB 11 000C
        gbc.setState(0x576a, 0x4cc6, 0xdb90, 0xf55c, 0x886b, 0x54b2, 0x1, 0x0);
        gbc.writeMem(0x576a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x4cc6);
        EXPECT(gbc.pc(), 0x576c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 000D
        gbc.setState(0xc920, 0x2de4, 0x2a00, 0x7712, 0x58ba, 0x6d5b, 0x0, 0x0);
        gbc.writeMem(0xc920, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x2de4);
        EXPECT(gbc.pc(), 0xc922);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc920), 0xcb);
        EXPECT(gbc.readMem(0xc921), 0x11);
        // CB 11 000F
        gbc.setState(0xe9fa, 0x2c9c, 0x6c50, 0x63e5, 0xfeef, 0xe289, 0x1, 0x0);
        gbc.writeMem(0xe9fa, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x2c9c);
        EXPECT(gbc.pc(), 0xe9fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9fa), 0xcb);
        EXPECT(gbc.readMem(0xe9fb), 0x11);
        // CB 11 0010
        gbc.setState(0xd85e, 0x2340, 0x3bd0, 0x5c2d, 0x9685, 0x277, 0x0, 0x1);
        gbc.writeMem(0xd85e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x2340);
        EXPECT(gbc.pc(), 0xd860);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd85e), 0xcb);
        EXPECT(gbc.readMem(0xd85f), 0x11);
        // CB 11 0012
        gbc.setState(0x7ae5, 0xc836, 0x9490, 0xfe6d, 0x7e6, 0x777a, 0x1, 0x0);
        gbc.writeMem(0x7ae5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xc836);
        EXPECT(gbc.pc(), 0x7ae7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0013
        gbc.setState(0xa057, 0xe2d3, 0x5eb0, 0x7f10, 0x1456, 0x8a5b, 0x1, 0x0);
        gbc.writeMem(0xa057, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xe2d3);
        EXPECT(gbc.pc(), 0xa059);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa057), 0xcb);
        EXPECT(gbc.readMem(0xa058), 0x11);
        // CB 11 0014
        gbc.setState(0x8342, 0x4ca8, 0x2c70, 0xaf88, 0xcf91, 0x4ec, 0x0, 0x1);
        gbc.writeMem(0x8342, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x4ca8);
        EXPECT(gbc.pc(), 0x8344);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8342), 0xcb);
        EXPECT(gbc.readMem(0x8343), 0x11);
        // CB 11 0015
        gbc.setState(0x4ae6, 0x3f95, 0x4600, 0x39f1, 0x4520, 0xdc7a, 0x0, 0x1);
        gbc.writeMem(0x4ae6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x3f95);
        EXPECT(gbc.pc(), 0x4ae8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0016
        gbc.setState(0xe760, 0xcadb, 0x36b0, 0x6648, 0x8e0e, 0x8da0, 0x1, 0x0);
        gbc.writeMem(0xe760, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xcadb);
        EXPECT(gbc.pc(), 0xe762);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe760), 0xcb);
        EXPECT(gbc.readMem(0xe761), 0x11);
        // CB 11 0017
        gbc.setState(0xc0a1, 0x7f54, 0x6c40, 0x5453, 0xe47f, 0x3a0d, 0x1, 0x0);
        gbc.writeMem(0xc0a1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x7f54);
        EXPECT(gbc.pc(), 0xc0a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0a1), 0xcb);
        EXPECT(gbc.readMem(0xc0a2), 0x11);
        // CB 11 0018
        gbc.setState(0xb888, 0xf419, 0xf950, 0x5ab1, 0x86b6, 0xe611, 0x1, 0x1);
        gbc.writeMem(0xb888, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xf419);
        EXPECT(gbc.pc(), 0xb88a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb888), 0xcb);
        EXPECT(gbc.readMem(0xb889), 0x11);
        // CB 11 0019
        gbc.setState(0xbd05, 0xeccc, 0xaf50, 0x7551, 0x3fa1, 0xe0bb, 0x0, 0x1);
        gbc.writeMem(0xbd05, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xeccc);
        EXPECT(gbc.pc(), 0xbd07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd05), 0xcb);
        EXPECT(gbc.readMem(0xbd06), 0x11);
        // CB 11 001B
        gbc.setState(0x4fec, 0x8ac3, 0xe150, 0xa315, 0xa780, 0x178e, 0x0, 0x1);
        gbc.writeMem(0x4fec, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x8ac3);
        EXPECT(gbc.pc(), 0x4fee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 001C
        gbc.setState(0x3667, 0xa5a5, 0x5c20, 0x5957, 0xae99, 0x7f44, 0x1, 0x0);
        gbc.writeMem(0x3667, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xa5a5);
        EXPECT(gbc.pc(), 0x3669);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 001D
        gbc.setState(0xdc99, 0x4587, 0x6300, 0x7b04, 0x7f48, 0xa09c, 0x0, 0x1);
        gbc.writeMem(0xdc99, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x4587);
        EXPECT(gbc.pc(), 0xdc9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc99), 0xcb);
        EXPECT(gbc.readMem(0xdc9a), 0x11);
        // CB 11 001E
        gbc.setState(0xcdfe, 0x1f5, 0xf2e0, 0x749d, 0x582c, 0x81e, 0x1, 0x1);
        gbc.writeMem(0xcdfe, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x1f5);
        EXPECT(gbc.pc(), 0xce00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdfe), 0xcb);
        EXPECT(gbc.readMem(0xcdff), 0x11);
        // CB 11 001F
        gbc.setState(0x854c, 0x8aaa, 0x3b0, 0xc327, 0xa629, 0xb85d, 0x0, 0x0);
        gbc.writeMem(0x854c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x8aaa);
        EXPECT(gbc.pc(), 0x854e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x854c), 0xcb);
        EXPECT(gbc.readMem(0x854d), 0x11);
        // CB 11 0020
        gbc.setState(0xed6, 0x9d18, 0x2ef0, 0xf453, 0x1e13, 0xf99, 0x1, 0x1);
        gbc.writeMem(0xed6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x9d18);
        EXPECT(gbc.pc(), 0xed8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0021
        gbc.setState(0x733b, 0x2b04, 0xdd10, 0xa1e1, 0xe151, 0x2465, 0x1, 0x1);
        gbc.writeMem(0x733b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x2b04);
        EXPECT(gbc.pc(), 0x733d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0022
        gbc.setState(0x599, 0x1fa0, 0x41e0, 0x20f8, 0x4364, 0x199d, 0x0, 0x1);
        gbc.writeMem(0x599, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x1fa0);
        EXPECT(gbc.pc(), 0x59b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0023
        gbc.setState(0xace0, 0x776b, 0x4f20, 0x67c3, 0xfd06, 0xeb54, 0x0, 0x1);
        gbc.writeMem(0xace0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x776b);
        EXPECT(gbc.pc(), 0xace2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xace0), 0xcb);
        EXPECT(gbc.readMem(0xace1), 0x11);
        // CB 11 0024
        gbc.setState(0x1c9b, 0xa1dc, 0x2a10, 0x3691, 0x7b85, 0x2535, 0x1, 0x1);
        gbc.writeMem(0x1c9b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xa1dc);
        EXPECT(gbc.pc(), 0x1c9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0025
        gbc.setState(0x5179, 0x5952, 0xdfe0, 0x36d7, 0x80cb, 0x4b9f, 0x0, 0x0);
        gbc.writeMem(0x5179, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x5952);
        EXPECT(gbc.pc(), 0x517b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0026
        gbc.setState(0x4015, 0x8781, 0x31c0, 0xa64e, 0x6a92, 0x5c39, 0x0, 0x0);
        gbc.writeMem(0x4015, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x8781);
        EXPECT(gbc.pc(), 0x4017);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0027
        gbc.setState(0xdb1c, 0xede1, 0xc580, 0xf69f, 0x90c2, 0xf0a4, 0x1, 0x1);
        gbc.writeMem(0xdb1c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xede1);
        EXPECT(gbc.pc(), 0xdb1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb1c), 0xcb);
        EXPECT(gbc.readMem(0xdb1d), 0x11);
        // CB 11 0028
        gbc.setState(0xc919, 0x4786, 0xf090, 0x3af1, 0xb326, 0xac6e, 0x0, 0x0);
        gbc.writeMem(0xc919, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x4786);
        EXPECT(gbc.pc(), 0xc91b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc919), 0xcb);
        EXPECT(gbc.readMem(0xc91a), 0x11);
        // CB 11 0029
        gbc.setState(0xdf8f, 0x703, 0xef70, 0xf672, 0x4ca8, 0x879e, 0x0, 0x1);
        gbc.writeMem(0xdf8f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x703);
        EXPECT(gbc.pc(), 0xdf91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf8f), 0xcb);
        EXPECT(gbc.readMem(0xdf90), 0x11);
        // CB 11 002A
        gbc.setState(0x79ad, 0xdac9, 0xc450, 0xd163, 0xbf02, 0xe078, 0x0, 0x0);
        gbc.writeMem(0x79ad, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xdac9);
        EXPECT(gbc.pc(), 0x79af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 002B
        gbc.setState(0x238c, 0x1fcf, 0x9920, 0x98f5, 0xd22f, 0x3471, 0x1, 0x0);
        gbc.writeMem(0x238c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x1fcf);
        EXPECT(gbc.pc(), 0x238e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 002C
        gbc.setState(0xb67, 0x2c84, 0x2ab0, 0xccd9, 0xd3b7, 0xb85e, 0x0, 0x0);
        gbc.writeMem(0xb67, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x2c84);
        EXPECT(gbc.pc(), 0xb69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 002D
        gbc.setState(0x49a0, 0x7373, 0x2e30, 0x11f2, 0x192c, 0xd0b7, 0x0, 0x0);
        gbc.writeMem(0x49a0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x7373);
        EXPECT(gbc.pc(), 0x49a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 002E
        gbc.setState(0xd3a1, 0xf004, 0xef10, 0x77c, 0x7027, 0xf176, 0x0, 0x0);
        gbc.writeMem(0xd3a1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xf004);
        EXPECT(gbc.pc(), 0xd3a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3a1), 0xcb);
        EXPECT(gbc.readMem(0xd3a2), 0x11);
        // CB 11 002F
        gbc.setState(0x9af2, 0x2a7f, 0xfc30, 0x75d, 0x7f32, 0x4818, 0x1, 0x1);
        gbc.writeMem(0x9af2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x2a7f);
        EXPECT(gbc.pc(), 0x9af4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9af2), 0xcb);
        EXPECT(gbc.readMem(0x9af3), 0x11);
        // CB 11 0030
        gbc.setState(0x4a4a, 0x63d9, 0xb4d0, 0x323a, 0x4673, 0x4c5, 0x1, 0x1);
        gbc.writeMem(0x4a4a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x63d9);
        EXPECT(gbc.pc(), 0x4a4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0031
        gbc.setState(0x684c, 0xc90b, 0xe0a0, 0x50a7, 0xc232, 0xd, 0x1, 0x0);
        gbc.writeMem(0x684c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xc90b);
        EXPECT(gbc.pc(), 0x684e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0032
        gbc.setState(0x735f, 0x812a, 0x49c0, 0xc008, 0x44f0, 0x3c83, 0x1, 0x1);
        gbc.writeMem(0x735f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x812a);
        EXPECT(gbc.pc(), 0x7361);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0033
        gbc.setState(0xb9ba, 0xe438, 0x3850, 0xc1a3, 0xe642, 0x10f0, 0x1, 0x1);
        gbc.writeMem(0xb9ba, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xe438);
        EXPECT(gbc.pc(), 0xb9bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9ba), 0xcb);
        EXPECT(gbc.readMem(0xb9bb), 0x11);
        // CB 11 0034
        gbc.setState(0x18b5, 0xacce, 0x1680, 0x153e, 0x3518, 0xc032, 0x1, 0x0);
        gbc.writeMem(0x18b5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xacce);
        EXPECT(gbc.pc(), 0x18b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0035
        gbc.setState(0x6214, 0x329c, 0x1ee0, 0x58b5, 0x125f, 0xaca7, 0x0, 0x0);
        gbc.writeMem(0x6214, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x329c);
        EXPECT(gbc.pc(), 0x6216);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0036
        gbc.setState(0x2c3c, 0xc085, 0x75f0, 0x30f0, 0x3d3, 0xbd9e, 0x0, 0x0);
        gbc.writeMem(0x2c3c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xc085);
        EXPECT(gbc.pc(), 0x2c3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0037
        gbc.setState(0x14fc, 0xc88e, 0x3190, 0x1632, 0xd269, 0x21c8, 0x0, 0x0);
        gbc.writeMem(0x14fc, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xc88e);
        EXPECT(gbc.pc(), 0x14fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0039
        gbc.setState(0x3458, 0xfcfa, 0x6aa0, 0xb1dc, 0xd1cd, 0xe5f, 0x1, 0x1);
        gbc.writeMem(0x3458, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xfcfa);
        EXPECT(gbc.pc(), 0x345a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 003A
        gbc.setState(0x6974, 0xf257, 0xba40, 0x3faa, 0x6084, 0x506e, 0x1, 0x0);
        gbc.writeMem(0x6974, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xf257);
        EXPECT(gbc.pc(), 0x6976);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 003B
        gbc.setState(0x1a79, 0x6c24, 0x6850, 0x39ea, 0xc873, 0xa63f, 0x0, 0x0);
        gbc.writeMem(0x1a79, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x6c24);
        EXPECT(gbc.pc(), 0x1a7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 003C
        gbc.setState(0x5d80, 0xc717, 0x1790, 0xf5d7, 0x60de, 0xab9a, 0x0, 0x0);
        gbc.writeMem(0x5d80, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xc717);
        EXPECT(gbc.pc(), 0x5d82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 003D
        gbc.setState(0x3d25, 0xb81c, 0x9730, 0xd545, 0x121, 0x4c28, 0x0, 0x1);
        gbc.writeMem(0x3d25, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb81c);
        EXPECT(gbc.pc(), 0x3d27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 003E
        gbc.setState(0x8175, 0xfb1c, 0x7910, 0x1705, 0x9ac4, 0x79b1, 0x1, 0x0);
        gbc.writeMem(0x8175, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xfb1c);
        EXPECT(gbc.pc(), 0x8177);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8175), 0xcb);
        EXPECT(gbc.readMem(0x8176), 0x11);
        // CB 11 003F
        gbc.setState(0x5902, 0x8a68, 0x9e20, 0x78dd, 0xbdaf, 0xa7ab, 0x1, 0x0);
        gbc.writeMem(0x5902, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x8a68);
        EXPECT(gbc.pc(), 0x5904);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0040
        gbc.setState(0x5d25, 0xeba3, 0xcb10, 0xd525, 0x1265, 0x6018, 0x1, 0x0);
        gbc.writeMem(0x5d25, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xeba3);
        EXPECT(gbc.pc(), 0x5d27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0041
        gbc.setState(0x5b5f, 0x814e, 0xa100, 0x5ed4, 0xb2a8, 0xb6a, 0x0, 0x1);
        gbc.writeMem(0x5b5f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x814e);
        EXPECT(gbc.pc(), 0x5b61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0042
        gbc.setState(0x9fe9, 0x2279, 0x1dc0, 0xa01a, 0xf344, 0x5782, 0x0, 0x0);
        gbc.writeMem(0x9fe9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x2279);
        EXPECT(gbc.pc(), 0x9feb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fe9), 0xcb);
        EXPECT(gbc.readMem(0x9fea), 0x11);
        // CB 11 0043
        gbc.setState(0xb6a5, 0x4c56, 0x55c0, 0x60c, 0xb062, 0xf04, 0x0, 0x0);
        gbc.writeMem(0xb6a5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x4c56);
        EXPECT(gbc.pc(), 0xb6a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6a5), 0xcb);
        EXPECT(gbc.readMem(0xb6a6), 0x11);
        // CB 11 0045
        gbc.setState(0xb66c, 0x1bd8, 0xd190, 0xc20e, 0x7fb0, 0x25f6, 0x0, 0x1);
        gbc.writeMem(0xb66c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x1bd8);
        EXPECT(gbc.pc(), 0xb66e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb66c), 0xcb);
        EXPECT(gbc.readMem(0xb66d), 0x11);
        // CB 11 0046
        gbc.setState(0x3ba6, 0xe80d, 0x25a0, 0xfa7a, 0x6541, 0x33d2, 0x0, 0x0);
        gbc.writeMem(0x3ba6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xe80d);
        EXPECT(gbc.pc(), 0x3ba8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0047
        gbc.setState(0x4913, 0x144e, 0x7710, 0xf1d6, 0x4435, 0xc03c, 0x0, 0x1);
        gbc.writeMem(0x4913, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x144e);
        EXPECT(gbc.pc(), 0x4915);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0048
        gbc.setState(0x8fc0, 0xb5e3, 0x7690, 0x2a18, 0x92d3, 0x4eb4, 0x1, 0x0);
        gbc.writeMem(0x8fc0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xb5e3);
        EXPECT(gbc.pc(), 0x8fc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fc0), 0xcb);
        EXPECT(gbc.readMem(0x8fc1), 0x11);
        // CB 11 0049
        gbc.setState(0xb7f9, 0x43a, 0xef0, 0x849c, 0xadc1, 0xce23, 0x0, 0x1);
        gbc.writeMem(0xb7f9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x43a);
        EXPECT(gbc.pc(), 0xb7fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7f9), 0xcb);
        EXPECT(gbc.readMem(0xb7fa), 0x11);
        // CB 11 004A
        gbc.setState(0x405b, 0x8dd8, 0x9640, 0x5ed1, 0xc147, 0x18e4, 0x0, 0x1);
        gbc.writeMem(0x405b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x8dd8);
        EXPECT(gbc.pc(), 0x405d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 004B
        gbc.setState(0x8f77, 0xf3b, 0x3860, 0xc92a, 0x5488, 0xcf63, 0x1, 0x1);
        gbc.writeMem(0x8f77, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xf3b);
        EXPECT(gbc.pc(), 0x8f79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f77), 0xcb);
        EXPECT(gbc.readMem(0x8f78), 0x11);
        // CB 11 004C
        gbc.setState(0x443b, 0x9ea7, 0x6dc0, 0xbd17, 0x4e79, 0x71da, 0x1, 0x0);
        gbc.writeMem(0x443b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x9ea7);
        EXPECT(gbc.pc(), 0x443d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 004D
        gbc.setState(0x9ef2, 0xf2fc, 0xd2c0, 0x2a1b, 0xca3e, 0x5673, 0x1, 0x0);
        gbc.writeMem(0x9ef2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xf2fc);
        EXPECT(gbc.pc(), 0x9ef4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ef2), 0xcb);
        EXPECT(gbc.readMem(0x9ef3), 0x11);
        // CB 11 004E
        gbc.setState(0x5d88, 0x157e, 0xab0, 0x9a62, 0xbf31, 0x4c89, 0x0, 0x1);
        gbc.writeMem(0x5d88, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x157e);
        EXPECT(gbc.pc(), 0x5d8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 004F
        gbc.setState(0x362b, 0xcf9f, 0xaab0, 0x1820, 0xb1a3, 0xb7c1, 0x1, 0x0);
        gbc.writeMem(0x362b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xcf9f);
        EXPECT(gbc.pc(), 0x362d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0050
        gbc.setState(0x2a9f, 0x9c86, 0xbc20, 0x1982, 0xda26, 0xdff6, 0x1, 0x1);
        gbc.writeMem(0x2a9f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x9c86);
        EXPECT(gbc.pc(), 0x2aa1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0051
        gbc.setState(0x6acd, 0x8c98, 0x8680, 0x7dff, 0xd222, 0x28c, 0x1, 0x1);
        gbc.writeMem(0x6acd, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x8c98);
        EXPECT(gbc.pc(), 0x6acf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0052
        gbc.setState(0xe9f8, 0xacbd, 0x32f0, 0xfa13, 0xa353, 0xf52a, 0x0, 0x1);
        gbc.writeMem(0xe9f8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xacbd);
        EXPECT(gbc.pc(), 0xe9fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9f8), 0xcb);
        EXPECT(gbc.readMem(0xe9f9), 0x11);
        // CB 11 0053
        gbc.setState(0x3b51, 0x8f3c, 0xb5c0, 0x4213, 0x12b4, 0x792d, 0x1, 0x1);
        gbc.writeMem(0x3b51, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x8f3c);
        EXPECT(gbc.pc(), 0x3b53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0054
        gbc.setState(0x3705, 0xb93d, 0x4b20, 0x733e, 0xd46c, 0x9091, 0x0, 0x1);
        gbc.writeMem(0x3705, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xb93d);
        EXPECT(gbc.pc(), 0x3707);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0055
        gbc.setState(0xa432, 0xf9cd, 0xca00, 0xb438, 0xa074, 0xd80b, 0x0, 0x0);
        gbc.writeMem(0xa432, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xf9cd);
        EXPECT(gbc.pc(), 0xa434);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa432), 0xcb);
        EXPECT(gbc.readMem(0xa433), 0x11);
        // CB 11 0056
        gbc.setState(0xece0, 0xfaf1, 0xfd90, 0x70d7, 0xd62d, 0x404a, 0x0, 0x0);
        gbc.writeMem(0xece0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xfaf1);
        EXPECT(gbc.pc(), 0xece2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xece0), 0xcb);
        EXPECT(gbc.readMem(0xece1), 0x11);
        // CB 11 0057
        gbc.setState(0x8d3b, 0x595b, 0x26e0, 0x38b2, 0xab6b, 0x3170, 0x1, 0x0);
        gbc.writeMem(0x8d3b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x595b);
        EXPECT(gbc.pc(), 0x8d3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d3b), 0xcb);
        EXPECT(gbc.readMem(0x8d3c), 0x11);
        // CB 11 0058
        gbc.setState(0x1716, 0x11e8, 0x54c0, 0xb29f, 0x4a55, 0x28b0, 0x1, 0x1);
        gbc.writeMem(0x1716, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x11e8);
        EXPECT(gbc.pc(), 0x1718);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0059
        gbc.setState(0x3a09, 0x87f9, 0x3910, 0xcf54, 0x280, 0xdf3d, 0x0, 0x1);
        gbc.writeMem(0x3a09, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x87f9);
        EXPECT(gbc.pc(), 0x3a0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 005A
        gbc.setState(0xa4cf, 0x1a22, 0x4c00, 0x1a14, 0x9f55, 0xc5a6, 0x1, 0x0);
        gbc.writeMem(0xa4cf, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x1a22);
        EXPECT(gbc.pc(), 0xa4d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4cf), 0xcb);
        EXPECT(gbc.readMem(0xa4d0), 0x11);
        // CB 11 005B
        gbc.setState(0x17a8, 0x7e8b, 0xec80, 0x501f, 0x3879, 0x55c1, 0x1, 0x1);
        gbc.writeMem(0x17a8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x7e8b);
        EXPECT(gbc.pc(), 0x17aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 005C
        gbc.setState(0x56b3, 0x6ddd, 0xb360, 0x58c9, 0xe356, 0xc809, 0x1, 0x0);
        gbc.writeMem(0x56b3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x6ddd);
        EXPECT(gbc.pc(), 0x56b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 005D
        gbc.setState(0x68ef, 0x47c3, 0xbd80, 0xb29d, 0x3d6e, 0xc205, 0x0, 0x1);
        gbc.writeMem(0x68ef, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x47c3);
        EXPECT(gbc.pc(), 0x68f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 005E
        gbc.setState(0x32da, 0x43d4, 0x2bc0, 0x4865, 0xdf05, 0x7698, 0x1, 0x0);
        gbc.writeMem(0x32da, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x43d4);
        EXPECT(gbc.pc(), 0x32dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 005F
        gbc.setState(0xab53, 0x7ecd, 0xc560, 0xb71, 0x9289, 0x1dc5, 0x0, 0x1);
        gbc.writeMem(0xab53, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x7ecd);
        EXPECT(gbc.pc(), 0xab55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab53), 0xcb);
        EXPECT(gbc.readMem(0xab54), 0x11);
        // CB 11 0060
        gbc.setState(0xc64d, 0x3755, 0x8340, 0xeceb, 0x522d, 0x10d1, 0x0, 0x1);
        gbc.writeMem(0xc64d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3755);
        EXPECT(gbc.pc(), 0xc64f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc64d), 0xcb);
        EXPECT(gbc.readMem(0xc64e), 0x11);
        // CB 11 0061
        gbc.setState(0x95b9, 0x3dfb, 0xedf0, 0xe2f6, 0x7105, 0xd7e4, 0x0, 0x0);
        gbc.writeMem(0x95b9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x3dfb);
        EXPECT(gbc.pc(), 0x95bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95b9), 0xcb);
        EXPECT(gbc.readMem(0x95ba), 0x11);
        // CB 11 0062
        gbc.setState(0x86e4, 0xcd55, 0x5960, 0xdd5a, 0x162, 0x74a1, 0x0, 0x0);
        gbc.writeMem(0x86e4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xcd55);
        EXPECT(gbc.pc(), 0x86e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86e4), 0xcb);
        EXPECT(gbc.readMem(0x86e5), 0x11);
        // CB 11 0063
        gbc.setState(0x997, 0x722a, 0x9d10, 0xfee5, 0xc576, 0x82e4, 0x1, 0x0);
        gbc.writeMem(0x997, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x722a);
        EXPECT(gbc.pc(), 0x999);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0064
        gbc.setState(0xa9de, 0xfff5, 0x6af0, 0xf464, 0xe518, 0x24d9, 0x0, 0x0);
        gbc.writeMem(0xa9de, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xfff5);
        EXPECT(gbc.pc(), 0xa9e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9de), 0xcb);
        EXPECT(gbc.readMem(0xa9df), 0x11);
        // CB 11 0065
        gbc.setState(0xb9ea, 0xfd40, 0x7b10, 0x102e, 0x8e30, 0x4a03, 0x0, 0x1);
        gbc.writeMem(0xb9ea, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xfd40);
        EXPECT(gbc.pc(), 0xb9ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9ea), 0xcb);
        EXPECT(gbc.readMem(0xb9eb), 0x11);
        // CB 11 0066
        gbc.setState(0xd4e8, 0xa4e9, 0x7670, 0x3904, 0x65b, 0xb620, 0x0, 0x0);
        gbc.writeMem(0xd4e8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xa4e9);
        EXPECT(gbc.pc(), 0xd4ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4e8), 0xcb);
        EXPECT(gbc.readMem(0xd4e9), 0x11);
        // CB 11 0067
        gbc.setState(0xa388, 0x12ea, 0x9650, 0xf36c, 0x9461, 0xab2d, 0x0, 0x1);
        gbc.writeMem(0xa388, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x12ea);
        EXPECT(gbc.pc(), 0xa38a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa388), 0xcb);
        EXPECT(gbc.readMem(0xa389), 0x11);
        // CB 11 0068
        gbc.setState(0x2786, 0xd4f, 0x9600, 0x1dce, 0x8165, 0x1710, 0x0, 0x0);
        gbc.writeMem(0x2786, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xd4f);
        EXPECT(gbc.pc(), 0x2788);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0069
        gbc.setState(0xc881, 0x625a, 0x2160, 0x866b, 0x2bd2, 0x9871, 0x0, 0x0);
        gbc.writeMem(0xc881, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x625a);
        EXPECT(gbc.pc(), 0xc883);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc881), 0xcb);
        EXPECT(gbc.readMem(0xc882), 0x11);
        // CB 11 006A
        gbc.setState(0xc5a2, 0xf363, 0x4f50, 0xf260, 0x87d6, 0xea56, 0x1, 0x0);
        gbc.writeMem(0xc5a2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xf363);
        EXPECT(gbc.pc(), 0xc5a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5a2), 0xcb);
        EXPECT(gbc.readMem(0xc5a3), 0x11);
        // CB 11 006B
        gbc.setState(0xbe8e, 0x28a9, 0x7580, 0x5c4c, 0x5d75, 0x2f7f, 0x0, 0x0);
        gbc.writeMem(0xbe8e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x28a9);
        EXPECT(gbc.pc(), 0xbe90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe8e), 0xcb);
        EXPECT(gbc.readMem(0xbe8f), 0x11);
        // CB 11 006C
        gbc.setState(0xc6b, 0x41ba, 0x14e0, 0x5af1, 0xde76, 0xd7b9, 0x1, 0x1);
        gbc.writeMem(0xc6b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x41ba);
        EXPECT(gbc.pc(), 0xc6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 006D
        gbc.setState(0xcfd3, 0x182f, 0xd20, 0x88a1, 0xae03, 0xe349, 0x0, 0x0);
        gbc.writeMem(0xcfd3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x182f);
        EXPECT(gbc.pc(), 0xcfd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfd3), 0xcb);
        EXPECT(gbc.readMem(0xcfd4), 0x11);
        // CB 11 006E
        gbc.setState(0x922d, 0x8396, 0x9100, 0x49b2, 0xa9f2, 0x5b65, 0x1, 0x0);
        gbc.writeMem(0x922d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x8396);
        EXPECT(gbc.pc(), 0x922f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x922d), 0xcb);
        EXPECT(gbc.readMem(0x922e), 0x11);
        // CB 11 006F
        gbc.setState(0xbc48, 0x7683, 0x1890, 0x1e3a, 0x559f, 0xe265, 0x1, 0x0);
        gbc.writeMem(0xbc48, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x7683);
        EXPECT(gbc.pc(), 0xbc4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc48), 0xcb);
        EXPECT(gbc.readMem(0xbc49), 0x11);
        // CB 11 0070
        gbc.setState(0x4611, 0x9002, 0xfca0, 0x8d5b, 0x861d, 0xfb01, 0x1, 0x1);
        gbc.writeMem(0x4611, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x9002);
        EXPECT(gbc.pc(), 0x4613);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0071
        gbc.setState(0xc29a, 0x870b, 0x4a80, 0xe406, 0x239f, 0x3a9, 0x1, 0x1);
        gbc.writeMem(0xc29a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x870b);
        EXPECT(gbc.pc(), 0xc29c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc29a), 0xcb);
        EXPECT(gbc.readMem(0xc29b), 0x11);
        // CB 11 0072
        gbc.setState(0x6abb, 0x8b01, 0x6fc0, 0x4d0e, 0xd07e, 0xd115, 0x1, 0x0);
        gbc.writeMem(0x6abb, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x8b01);
        EXPECT(gbc.pc(), 0x6abd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0073
        gbc.setState(0x35d7, 0x49a0, 0xe020, 0x3437, 0x4fe, 0xdf86, 0x1, 0x0);
        gbc.writeMem(0x35d7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x49a0);
        EXPECT(gbc.pc(), 0x35d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0074
        gbc.setState(0x5eb1, 0x861b, 0x1aa0, 0x9ff, 0xb659, 0xf83e, 0x1, 0x1);
        gbc.writeMem(0x5eb1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x861b);
        EXPECT(gbc.pc(), 0x5eb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0075
        gbc.setState(0x8cc5, 0xcdef, 0x20e0, 0x59e7, 0xcbd5, 0xa2c0, 0x1, 0x0);
        gbc.writeMem(0x8cc5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xcdef);
        EXPECT(gbc.pc(), 0x8cc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cc5), 0xcb);
        EXPECT(gbc.readMem(0x8cc6), 0x11);
        // CB 11 0076
        gbc.setState(0x8ad3, 0x761, 0x4a30, 0x6155, 0x1d21, 0x7e5b, 0x0, 0x0);
        gbc.writeMem(0x8ad3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x761);
        EXPECT(gbc.pc(), 0x8ad5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ad3), 0xcb);
        EXPECT(gbc.readMem(0x8ad4), 0x11);
        // CB 11 0077
        gbc.setState(0x3e51, 0xfa9f, 0x8260, 0x2603, 0x7d0d, 0xe887, 0x1, 0x1);
        gbc.writeMem(0x3e51, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xfa9f);
        EXPECT(gbc.pc(), 0x3e53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0078
        gbc.setState(0x9582, 0x62b5, 0xe0, 0xc851, 0x3493, 0x61f9, 0x0, 0x1);
        gbc.writeMem(0x9582, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x62b5);
        EXPECT(gbc.pc(), 0x9584);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9582), 0xcb);
        EXPECT(gbc.readMem(0x9583), 0x11);
        // CB 11 0079
        gbc.setState(0x1e71, 0x7fc9, 0x6ba0, 0xb0c4, 0xd8b1, 0x103c, 0x1, 0x0);
        gbc.writeMem(0x1e71, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x7fc9);
        EXPECT(gbc.pc(), 0x1e73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 007A
        gbc.setState(0x1114, 0xfbc4, 0xbf40, 0xbc10, 0xc630, 0xe21c, 0x0, 0x0);
        gbc.writeMem(0x1114, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xfbc4);
        EXPECT(gbc.pc(), 0x1116);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 007B
        gbc.setState(0x44a5, 0x2099, 0x94e0, 0xc010, 0x2b47, 0x9608, 0x0, 0x1);
        gbc.writeMem(0x44a5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x2099);
        EXPECT(gbc.pc(), 0x44a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 007C
        gbc.setState(0x7423, 0xaf3c, 0x8b00, 0x8e8b, 0xad1f, 0x23f7, 0x0, 0x1);
        gbc.writeMem(0x7423, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xaf3c);
        EXPECT(gbc.pc(), 0x7425);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 007D
        gbc.setState(0x34b3, 0xed4e, 0x4460, 0x26ef, 0x2e13, 0xe056, 0x0, 0x1);
        gbc.writeMem(0x34b3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xed4e);
        EXPECT(gbc.pc(), 0x34b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 007E
        gbc.setState(0x4299, 0xfc7e, 0xcba0, 0x961b, 0x82f0, 0x8232, 0x1, 0x1);
        gbc.writeMem(0x4299, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xfc7e);
        EXPECT(gbc.pc(), 0x429b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 007F
        gbc.setState(0x457c, 0xf52a, 0x9790, 0x7979, 0xe385, 0x3648, 0x1, 0x1);
        gbc.writeMem(0x457c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xf52a);
        EXPECT(gbc.pc(), 0x457e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0080
        gbc.setState(0xa2d0, 0xfc5d, 0x68e0, 0x11f6, 0xd13, 0xb865, 0x0, 0x1);
        gbc.writeMem(0xa2d0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xfc5d);
        EXPECT(gbc.pc(), 0xa2d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2d0), 0xcb);
        EXPECT(gbc.readMem(0xa2d1), 0x11);
        // CB 11 0081
        gbc.setState(0xcf53, 0xdf72, 0x40f0, 0x9a3b, 0xd3d8, 0x3788, 0x0, 0x0);
        gbc.writeMem(0xcf53, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xdf72);
        EXPECT(gbc.pc(), 0xcf55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf53), 0xcb);
        EXPECT(gbc.readMem(0xcf54), 0x11);
        // CB 11 0082
        gbc.setState(0x33b3, 0x44e1, 0x2e30, 0x6431, 0xa9cf, 0xe29d, 0x1, 0x1);
        gbc.writeMem(0x33b3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x44e1);
        EXPECT(gbc.pc(), 0x33b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0084
        gbc.setState(0x3182, 0xb755, 0xb240, 0xebe0, 0x5b42, 0xc732, 0x0, 0x0);
        gbc.writeMem(0x3182, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xb755);
        EXPECT(gbc.pc(), 0x3184);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0085
        gbc.setState(0x3c32, 0x34ae, 0xa7a0, 0xe471, 0x5466, 0x135b, 0x1, 0x1);
        gbc.writeMem(0x3c32, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x34ae);
        EXPECT(gbc.pc(), 0x3c34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0086
        gbc.setState(0xc415, 0x4bb, 0x3780, 0x6109, 0x45fb, 0x6309, 0x0, 0x0);
        gbc.writeMem(0xc415, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x4bb);
        EXPECT(gbc.pc(), 0xc417);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc415), 0xcb);
        EXPECT(gbc.readMem(0xc416), 0x11);
        // CB 11 0087
        gbc.setState(0x4cf2, 0xba21, 0x1d20, 0x803b, 0xf98e, 0xacd, 0x1, 0x0);
        gbc.writeMem(0x4cf2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xba21);
        EXPECT(gbc.pc(), 0x4cf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0088
        gbc.setState(0x8e2c, 0x2eef, 0x5de0, 0xad7, 0xfe00, 0x9937, 0x1, 0x1);
        gbc.writeMem(0x8e2c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x2eef);
        EXPECT(gbc.pc(), 0x8e2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e2c), 0xcb);
        EXPECT(gbc.readMem(0x8e2d), 0x11);
        // CB 11 0089
        gbc.setState(0x8222, 0x3ec1, 0xb3b0, 0xbe0a, 0xde41, 0x80ab, 0x1, 0x0);
        gbc.writeMem(0x8222, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x3ec1);
        EXPECT(gbc.pc(), 0x8224);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8222), 0xcb);
        EXPECT(gbc.readMem(0x8223), 0x11);
        // CB 11 008A
        gbc.setState(0xa496, 0x5ff, 0x77e0, 0x5fd9, 0xb83e, 0x3097, 0x1, 0x0);
        gbc.writeMem(0xa496, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x5ff);
        EXPECT(gbc.pc(), 0xa498);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa496), 0xcb);
        EXPECT(gbc.readMem(0xa497), 0x11);
        // CB 11 008B
        gbc.setState(0x805c, 0xe991, 0x2950, 0x95be, 0x6aa8, 0xa964, 0x1, 0x1);
        gbc.writeMem(0x805c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xe991);
        EXPECT(gbc.pc(), 0x805e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x805c), 0xcb);
        EXPECT(gbc.readMem(0x805d), 0x11);
        // CB 11 008C
        gbc.setState(0x2d87, 0xe031, 0x8fe0, 0xedae, 0x8fdd, 0xb366, 0x0, 0x1);
        gbc.writeMem(0x2d87, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xe031);
        EXPECT(gbc.pc(), 0x2d89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 008D
        gbc.setState(0xe17, 0x27bf, 0xc880, 0xe74c, 0x26d9, 0x250a, 0x0, 0x1);
        gbc.writeMem(0xe17, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x27bf);
        EXPECT(gbc.pc(), 0xe19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 008E
        gbc.setState(0x2a39, 0xe6ff, 0xa30, 0x8b1f, 0xa4d3, 0x2e43, 0x0, 0x1);
        gbc.writeMem(0x2a39, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe6ff);
        EXPECT(gbc.pc(), 0x2a3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 008F
        gbc.setState(0x2a54, 0xe4ba, 0x5690, 0x363d, 0xa681, 0x8292, 0x1, 0x1);
        gbc.writeMem(0x2a54, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xe4ba);
        EXPECT(gbc.pc(), 0x2a56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0090
        gbc.setState(0x73b4, 0x6f83, 0x4d70, 0xcf2b, 0x8b15, 0xc195, 0x0, 0x0);
        gbc.writeMem(0x73b4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x6f83);
        EXPECT(gbc.pc(), 0x73b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0091
        gbc.setState(0x3171, 0x78eb, 0xa8f0, 0xed, 0xdf63, 0x729c, 0x0, 0x1);
        gbc.writeMem(0x3171, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x78eb);
        EXPECT(gbc.pc(), 0x3173);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0092
        gbc.setState(0x6ab, 0x6e9f, 0x62d0, 0x9717, 0x4f89, 0x6e2d, 0x1, 0x1);
        gbc.writeMem(0x6ab, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x6e9f);
        EXPECT(gbc.pc(), 0x6ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0093
        gbc.setState(0xea04, 0xd352, 0x6d50, 0x4ed, 0xf1d2, 0xd3, 0x1, 0x1);
        gbc.writeMem(0xea04, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xd352);
        EXPECT(gbc.pc(), 0xea06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea04), 0xcb);
        EXPECT(gbc.readMem(0xea05), 0x11);
        // CB 11 0094
        gbc.setState(0xa954, 0x8c6, 0xa440, 0x9dda, 0xebaf, 0x38b7, 0x0, 0x0);
        gbc.writeMem(0xa954, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x8c6);
        EXPECT(gbc.pc(), 0xa956);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa954), 0xcb);
        EXPECT(gbc.readMem(0xa955), 0x11);
        // CB 11 0095
        gbc.setState(0x734a, 0x2245, 0xf190, 0x5beb, 0xde7c, 0xfafc, 0x0, 0x0);
        gbc.writeMem(0x734a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x2245);
        EXPECT(gbc.pc(), 0x734c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0096
        gbc.setState(0xc4be, 0x640e, 0x2600, 0xf7a4, 0xe398, 0x2935, 0x1, 0x0);
        gbc.writeMem(0xc4be, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x640e);
        EXPECT(gbc.pc(), 0xc4c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4be), 0xcb);
        EXPECT(gbc.readMem(0xc4bf), 0x11);
        // CB 11 0097
        gbc.setState(0x9258, 0x2934, 0x280, 0xdea4, 0x2f97, 0x3829, 0x1, 0x1);
        gbc.writeMem(0x9258, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x2934);
        EXPECT(gbc.pc(), 0x925a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9258), 0xcb);
        EXPECT(gbc.readMem(0x9259), 0x11);
        // CB 11 0098
        gbc.setState(0x4d96, 0xa1d2, 0x9040, 0x1f39, 0xb7ff, 0x4957, 0x0, 0x0);
        gbc.writeMem(0x4d96, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xa1d2);
        EXPECT(gbc.pc(), 0x4d98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 009A
        gbc.setState(0xc4b5, 0xa595, 0x15d0, 0x8b02, 0x29f1, 0x7157, 0x1, 0x1);
        gbc.writeMem(0xc4b5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xa595);
        EXPECT(gbc.pc(), 0xc4b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4b5), 0xcb);
        EXPECT(gbc.readMem(0xc4b6), 0x11);
        // CB 11 009B
        gbc.setState(0x3300, 0x6dff, 0x1260, 0xd622, 0xdc54, 0xf8f4, 0x0, 0x1);
        gbc.writeMem(0x3300, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x6dff);
        EXPECT(gbc.pc(), 0x3302);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 009C
        gbc.setState(0x7f93, 0x1e3d, 0xd460, 0x1d33, 0x9405, 0x990f, 0x0, 0x1);
        gbc.writeMem(0x7f93, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x1e3d);
        EXPECT(gbc.pc(), 0x7f95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 009D
        gbc.setState(0x6db, 0x9b46, 0x6a40, 0x2c7e, 0xf01b, 0x345b, 0x1, 0x1);
        gbc.writeMem(0x6db, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x9b46);
        EXPECT(gbc.pc(), 0x6dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 009E
        gbc.setState(0x7d65, 0x5d76, 0xeca0, 0x6fee, 0xe4ed, 0x68ec, 0x1, 0x0);
        gbc.writeMem(0x7d65, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x5d76);
        EXPECT(gbc.pc(), 0x7d67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 009F
        gbc.setState(0xac72, 0x7c25, 0xa880, 0x405d, 0xd101, 0x156b, 0x0, 0x1);
        gbc.writeMem(0xac72, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x7c25);
        EXPECT(gbc.pc(), 0xac74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac72), 0xcb);
        EXPECT(gbc.readMem(0xac73), 0x11);
        // CB 11 00A0
        gbc.setState(0x825, 0x4bba, 0xae00, 0xde84, 0xfbe1, 0x61c5, 0x1, 0x1);
        gbc.writeMem(0x825, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x4bba);
        EXPECT(gbc.pc(), 0x827);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00A2
        gbc.setState(0x8e02, 0x83eb, 0xf250, 0x176f, 0x5359, 0x2dea, 0x1, 0x1);
        gbc.writeMem(0x8e02, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x83eb);
        EXPECT(gbc.pc(), 0x8e04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e02), 0xcb);
        EXPECT(gbc.readMem(0x8e03), 0x11);
        // CB 11 00A3
        gbc.setState(0x9e4f, 0x3323, 0x2c00, 0x582f, 0xca03, 0x6cd5, 0x0, 0x1);
        gbc.writeMem(0x9e4f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x3323);
        EXPECT(gbc.pc(), 0x9e51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e4f), 0xcb);
        EXPECT(gbc.readMem(0x9e50), 0x11);
        // CB 11 00A4
        gbc.setState(0x7563, 0x19ab, 0xcaf0, 0xc3cb, 0xe5f, 0x1fa, 0x1, 0x0);
        gbc.writeMem(0x7563, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x19ab);
        EXPECT(gbc.pc(), 0x7565);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00A5
        gbc.setState(0xe7db, 0xecd1, 0x160, 0x83ef, 0x176f, 0x5f33, 0x1, 0x1);
        gbc.writeMem(0xe7db, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xecd1);
        EXPECT(gbc.pc(), 0xe7dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7db), 0xcb);
        EXPECT(gbc.readMem(0xe7dc), 0x11);
        // CB 11 00A6
        gbc.setState(0x335c, 0x5e40, 0x38d0, 0xaad7, 0xceee, 0x2f89, 0x0, 0x0);
        gbc.writeMem(0x335c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x5e40);
        EXPECT(gbc.pc(), 0x335e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00A7
        gbc.setState(0x7b90, 0x2d03, 0x1a40, 0xbaa3, 0x7368, 0xb746, 0x1, 0x0);
        gbc.writeMem(0x7b90, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x2d03);
        EXPECT(gbc.pc(), 0x7b92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00A9
        gbc.setState(0x9a3d, 0xe903, 0x5d70, 0x607e, 0x4519, 0xd310, 0x1, 0x0);
        gbc.writeMem(0x9a3d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xe903);
        EXPECT(gbc.pc(), 0x9a3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a3d), 0xcb);
        EXPECT(gbc.readMem(0x9a3e), 0x11);
        // CB 11 00AA
        gbc.setState(0x553, 0xf7be, 0xbdc0, 0xd334, 0xec9b, 0xcab8, 0x0, 0x1);
        gbc.writeMem(0x553, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xf7be);
        EXPECT(gbc.pc(), 0x555);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00AB
        gbc.setState(0x28fe, 0x69f7, 0x7010, 0x6e48, 0x56f1, 0xf4c8, 0x0, 0x0);
        gbc.writeMem(0x28fe, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x69f7);
        EXPECT(gbc.pc(), 0x2900);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00AC
        gbc.setState(0x7040, 0x1aec, 0xb780, 0xaf02, 0x676d, 0x49ac, 0x0, 0x0);
        gbc.writeMem(0x7040, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x1aec);
        EXPECT(gbc.pc(), 0x7042);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00AD
        gbc.setState(0x6c3d, 0x5651, 0x2270, 0xa1bb, 0xbad8, 0xf4ec, 0x1, 0x1);
        gbc.writeMem(0x6c3d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x5651);
        EXPECT(gbc.pc(), 0x6c3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00AE
        gbc.setState(0xb55b, 0xb3ac, 0xb370, 0x8bb3, 0x16d3, 0x98b3, 0x1, 0x0);
        gbc.writeMem(0xb55b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xb3ac);
        EXPECT(gbc.pc(), 0xb55d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb55b), 0xcb);
        EXPECT(gbc.readMem(0xb55c), 0x11);
        // CB 11 00AF
        gbc.setState(0x3691, 0x441a, 0x1d80, 0xfdd8, 0x2722, 0xd447, 0x1, 0x0);
        gbc.writeMem(0x3691, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x441a);
        EXPECT(gbc.pc(), 0x3693);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00B0
        gbc.setState(0xf8d, 0xc769, 0x6370, 0x1e45, 0xa1eb, 0x54cc, 0x0, 0x1);
        gbc.writeMem(0xf8d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xc769);
        EXPECT(gbc.pc(), 0xf8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00B1
        gbc.setState(0x9838, 0xdbec, 0x9860, 0x70d0, 0xefb7, 0xb596, 0x0, 0x0);
        gbc.writeMem(0x9838, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xdbec);
        EXPECT(gbc.pc(), 0x983a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9838), 0xcb);
        EXPECT(gbc.readMem(0x9839), 0x11);
        // CB 11 00B2
        gbc.setState(0xb13c, 0x38b7, 0x3f80, 0x3d43, 0x7cae, 0x4eb2, 0x0, 0x1);
        gbc.writeMem(0xb13c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x38b7);
        EXPECT(gbc.pc(), 0xb13e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb13c), 0xcb);
        EXPECT(gbc.readMem(0xb13d), 0x11);
        // CB 11 00B3
        gbc.setState(0xb25e, 0xf8d8, 0xc370, 0x3bc6, 0x3e9f, 0xc71d, 0x0, 0x0);
        gbc.writeMem(0xb25e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xf8d8);
        EXPECT(gbc.pc(), 0xb260);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb25e), 0xcb);
        EXPECT(gbc.readMem(0xb25f), 0x11);
        // CB 11 00B4
        gbc.setState(0xaf53, 0xa1fd, 0x3df0, 0x1138, 0x9578, 0x7764, 0x1, 0x0);
        gbc.writeMem(0xaf53, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xa1fd);
        EXPECT(gbc.pc(), 0xaf55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf53), 0xcb);
        EXPECT(gbc.readMem(0xaf54), 0x11);
        // CB 11 00B5
        gbc.setState(0x73a4, 0xdeba, 0xb440, 0x2e14, 0x93f0, 0x5df8, 0x0, 0x0);
        gbc.writeMem(0x73a4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xdeba);
        EXPECT(gbc.pc(), 0x73a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00B6
        gbc.setState(0x90f1, 0xcf3f, 0x7990, 0x998c, 0x8e85, 0xdc6f, 0x1, 0x0);
        gbc.writeMem(0x90f1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xcf3f);
        EXPECT(gbc.pc(), 0x90f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90f1), 0xcb);
        EXPECT(gbc.readMem(0x90f2), 0x11);
        // CB 11 00B7
        gbc.setState(0xb62b, 0xb6ed, 0x8ee0, 0xce10, 0xe091, 0xcaea, 0x1, 0x0);
        gbc.writeMem(0xb62b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xb6ed);
        EXPECT(gbc.pc(), 0xb62d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb62b), 0xcb);
        EXPECT(gbc.readMem(0xb62c), 0x11);
        // CB 11 00B8
        gbc.setState(0xe8f4, 0x5618, 0xb770, 0xc6b5, 0xee65, 0xf53, 0x1, 0x1);
        gbc.writeMem(0xe8f4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x5618);
        EXPECT(gbc.pc(), 0xe8f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8f4), 0xcb);
        EXPECT(gbc.readMem(0xe8f5), 0x11);
        // CB 11 00B9
        gbc.setState(0xb793, 0x4474, 0x6b10, 0x9fb4, 0x83b9, 0xec65, 0x0, 0x0);
        gbc.writeMem(0xb793, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x4474);
        EXPECT(gbc.pc(), 0xb795);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb793), 0xcb);
        EXPECT(gbc.readMem(0xb794), 0x11);
        // CB 11 00BA
        gbc.setState(0x5a99, 0xc0a0, 0xb5d0, 0x519d, 0x86f, 0xe028, 0x0, 0x0);
        gbc.writeMem(0x5a99, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xc0a0);
        EXPECT(gbc.pc(), 0x5a9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00BB
        gbc.setState(0xc425, 0xc4d8, 0xf100, 0xc775, 0x831d, 0x166b, 0x1, 0x1);
        gbc.writeMem(0xc425, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xc4d8);
        EXPECT(gbc.pc(), 0xc427);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc425), 0xcb);
        EXPECT(gbc.readMem(0xc426), 0x11);
        // CB 11 00BC
        gbc.setState(0x5e44, 0x7e1d, 0xc710, 0x92dc, 0x3db0, 0x3afa, 0x1, 0x1);
        gbc.writeMem(0x5e44, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x7e1d);
        EXPECT(gbc.pc(), 0x5e46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00BD
        gbc.setState(0xc59c, 0xdf5c, 0xd250, 0xdb83, 0xe39f, 0x64fa, 0x0, 0x1);
        gbc.writeMem(0xc59c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xdf5c);
        EXPECT(gbc.pc(), 0xc59e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc59c), 0xcb);
        EXPECT(gbc.readMem(0xc59d), 0x11);
        // CB 11 00BE
        gbc.setState(0x93c3, 0x66b6, 0xf150, 0xc9c6, 0x313, 0xb982, 0x0, 0x0);
        gbc.writeMem(0x93c3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x66b6);
        EXPECT(gbc.pc(), 0x93c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93c3), 0xcb);
        EXPECT(gbc.readMem(0x93c4), 0x11);
        // CB 11 00BF
        gbc.setState(0xe834, 0x584, 0xf3b0, 0xf4ff, 0x6de0, 0xe033, 0x0, 0x0);
        gbc.writeMem(0xe834, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x584);
        EXPECT(gbc.pc(), 0xe836);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe834), 0xcb);
        EXPECT(gbc.readMem(0xe835), 0x11);
        // CB 11 00C0
        gbc.setState(0x39f9, 0x770d, 0xd200, 0x9ead, 0x5f7c, 0xc1b9, 0x0, 0x0);
        gbc.writeMem(0x39f9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x770d);
        EXPECT(gbc.pc(), 0x39fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00C1
        gbc.setState(0xc7ef, 0x3eba, 0x4410, 0x4b30, 0x39db, 0x8be8, 0x1, 0x0);
        gbc.writeMem(0xc7ef, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x3eba);
        EXPECT(gbc.pc(), 0xc7f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7ef), 0xcb);
        EXPECT(gbc.readMem(0xc7f0), 0x11);
        // CB 11 00C2
        gbc.setState(0x2d54, 0xca88, 0xe20, 0x3972, 0xa3b, 0xbe60, 0x0, 0x1);
        gbc.writeMem(0x2d54, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xca88);
        EXPECT(gbc.pc(), 0x2d56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00C3
        gbc.setState(0xa5b3, 0xd57e, 0xafb0, 0x94d0, 0xc02d, 0xc547, 0x0, 0x1);
        gbc.writeMem(0xa5b3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xd57e);
        EXPECT(gbc.pc(), 0xa5b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5b3), 0xcb);
        EXPECT(gbc.readMem(0xa5b4), 0x11);
        // CB 11 00C4
        gbc.setState(0x512d, 0x58c, 0x6e90, 0x5229, 0x1a07, 0xd555, 0x1, 0x1);
        gbc.writeMem(0x512d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x58c);
        EXPECT(gbc.pc(), 0x512f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00C5
        gbc.setState(0x2ba4, 0x73da, 0x6480, 0x6cf6, 0x85d4, 0x67e8, 0x0, 0x0);
        gbc.writeMem(0x2ba4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x73da);
        EXPECT(gbc.pc(), 0x2ba6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00C6
        gbc.setState(0xb894, 0x1318, 0x4fa0, 0x61e2, 0x55ce, 0x2980, 0x0, 0x0);
        gbc.writeMem(0xb894, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x1318);
        EXPECT(gbc.pc(), 0xb896);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb894), 0xcb);
        EXPECT(gbc.readMem(0xb895), 0x11);
        // CB 11 00C7
        gbc.setState(0x1137, 0x49cc, 0xec80, 0xab25, 0xa630, 0xbba8, 0x0, 0x0);
        gbc.writeMem(0x1137, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x49cc);
        EXPECT(gbc.pc(), 0x1139);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00C8
        gbc.setState(0xcb52, 0xfb5a, 0xd810, 0x2800, 0x931a, 0x5e3, 0x0, 0x1);
        gbc.writeMem(0xcb52, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xfb5a);
        EXPECT(gbc.pc(), 0xcb54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb52), 0xcb);
        EXPECT(gbc.readMem(0xcb53), 0x11);
        // CB 11 00C9
        gbc.setState(0xed48, 0x76c8, 0x2fb0, 0x1428, 0x9ade, 0x5c1, 0x0, 0x1);
        gbc.writeMem(0xed48, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x76c8);
        EXPECT(gbc.pc(), 0xed4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed48), 0xcb);
        EXPECT(gbc.readMem(0xed49), 0x11);
        // CB 11 00CA
        gbc.setState(0xd0e5, 0x48e, 0xb550, 0x3243, 0x9e66, 0xc823, 0x1, 0x0);
        gbc.writeMem(0xd0e5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x48e);
        EXPECT(gbc.pc(), 0xd0e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0e5), 0xcb);
        EXPECT(gbc.readMem(0xd0e6), 0x11);
        // CB 11 00CB
        gbc.setState(0x41e, 0x8b4c, 0x85f0, 0x8d1c, 0x2085, 0xa533, 0x0, 0x0);
        gbc.writeMem(0x41e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x8b4c);
        EXPECT(gbc.pc(), 0x420);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00CC
        gbc.setState(0x6b52, 0x2332, 0x47d0, 0x767, 0x83a0, 0xf31f, 0x0, 0x1);
        gbc.writeMem(0x6b52, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x2332);
        EXPECT(gbc.pc(), 0x6b54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00CD
        gbc.setState(0xb903, 0xa632, 0xdff0, 0x6427, 0x3aca, 0x1c78, 0x0, 0x0);
        gbc.writeMem(0xb903, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xa632);
        EXPECT(gbc.pc(), 0xb905);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb903), 0xcb);
        EXPECT(gbc.readMem(0xb904), 0x11);
        // CB 11 00CE
        gbc.setState(0x5255, 0x73b9, 0x2890, 0xa0ed, 0x9f5e, 0x471e, 0x1, 0x1);
        gbc.writeMem(0x5255, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x73b9);
        EXPECT(gbc.pc(), 0x5257);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00CF
        gbc.setState(0x8550, 0x4fbc, 0x9ab0, 0x5041, 0x705a, 0x8445, 0x0, 0x1);
        gbc.writeMem(0x8550, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x4fbc);
        EXPECT(gbc.pc(), 0x8552);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8550), 0xcb);
        EXPECT(gbc.readMem(0x8551), 0x11);
        // CB 11 00D0
        gbc.setState(0x588f, 0x2af1, 0xf8f0, 0xc94, 0x8f41, 0xbb47, 0x1, 0x0);
        gbc.writeMem(0x588f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x2af1);
        EXPECT(gbc.pc(), 0x5891);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00D1
        gbc.setState(0x9885, 0xa09c, 0xaf20, 0x9dce, 0x13d3, 0xa92a, 0x0, 0x1);
        gbc.writeMem(0x9885, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xa09c);
        EXPECT(gbc.pc(), 0x9887);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9885), 0xcb);
        EXPECT(gbc.readMem(0x9886), 0x11);
        // CB 11 00D3
        gbc.setState(0xc9f8, 0x2ec0, 0x6da0, 0x362c, 0x2988, 0x7c02, 0x0, 0x0);
        gbc.writeMem(0xc9f8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x2ec0);
        EXPECT(gbc.pc(), 0xc9fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9f8), 0xcb);
        EXPECT(gbc.readMem(0xc9f9), 0x11);
        // CB 11 00D4
        gbc.setState(0x9c96, 0xde89, 0x2750, 0x4467, 0x84d5, 0xdc4f, 0x0, 0x0);
        gbc.writeMem(0x9c96, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xde89);
        EXPECT(gbc.pc(), 0x9c98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c96), 0xcb);
        EXPECT(gbc.readMem(0x9c97), 0x11);
        // CB 11 00D5
        gbc.setState(0xe766, 0x8c62, 0xb230, 0x9b32, 0x2da4, 0x37b8, 0x1, 0x1);
        gbc.writeMem(0xe766, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x8c62);
        EXPECT(gbc.pc(), 0xe768);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe766), 0xcb);
        EXPECT(gbc.readMem(0xe767), 0x11);
        // CB 11 00D6
        gbc.setState(0xac69, 0x5183, 0x2100, 0x96af, 0xd611, 0xc31a, 0x0, 0x1);
        gbc.writeMem(0xac69, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x5183);
        EXPECT(gbc.pc(), 0xac6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac69), 0xcb);
        EXPECT(gbc.readMem(0xac6a), 0x11);
        // CB 11 00D7
        gbc.setState(0xca60, 0x3c71, 0x67e0, 0x7565, 0xeeef, 0xcfb2, 0x1, 0x1);
        gbc.writeMem(0xca60, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x3c71);
        EXPECT(gbc.pc(), 0xca62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca60), 0xcb);
        EXPECT(gbc.readMem(0xca61), 0x11);
        // CB 11 00D8
        gbc.setState(0xca9, 0x9286, 0xc6a0, 0xc0f3, 0x90b2, 0x76a0, 0x0, 0x0);
        gbc.writeMem(0xca9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x9286);
        EXPECT(gbc.pc(), 0xcab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00D9
        gbc.setState(0x40e2, 0xca85, 0x3110, 0x6459, 0xabb2, 0x7933, 0x0, 0x0);
        gbc.writeMem(0x40e2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xca85);
        EXPECT(gbc.pc(), 0x40e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00DA
        gbc.setState(0x9a4a, 0xcb46, 0x8960, 0xc772, 0xaeb, 0xc6d7, 0x1, 0x1);
        gbc.writeMem(0x9a4a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xcb46);
        EXPECT(gbc.pc(), 0x9a4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a4a), 0xcb);
        EXPECT(gbc.readMem(0x9a4b), 0x11);
        // CB 11 00DB
        gbc.setState(0x67d5, 0x323e, 0xefe0, 0x5b33, 0x4c1c, 0xd21a, 0x1, 0x0);
        gbc.writeMem(0x67d5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x323e);
        EXPECT(gbc.pc(), 0x67d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00DC
        gbc.setState(0xcd4, 0x6798, 0x7bd0, 0xdf66, 0x59dd, 0xd00e, 0x1, 0x1);
        gbc.writeMem(0xcd4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x6798);
        EXPECT(gbc.pc(), 0xcd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00DD
        gbc.setState(0x1151, 0xe38, 0x9ee0, 0x47fe, 0x7e20, 0x5731, 0x0, 0x1);
        gbc.writeMem(0x1151, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xe38);
        EXPECT(gbc.pc(), 0x1153);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00DE
        gbc.setState(0x4ea, 0x560b, 0xd860, 0x1c83, 0xbaee, 0x83d5, 0x0, 0x0);
        gbc.writeMem(0x4ea, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x560b);
        EXPECT(gbc.pc(), 0x4ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00DF
        gbc.setState(0x7281, 0x22f0, 0xacd0, 0xf675, 0xb85c, 0x7f0, 0x0, 0x0);
        gbc.writeMem(0x7281, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x22f0);
        EXPECT(gbc.pc(), 0x7283);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00E0
        gbc.setState(0x96db, 0x8e86, 0xede0, 0x5673, 0x3b6a, 0x6b3d, 0x1, 0x0);
        gbc.writeMem(0x96db, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x8e86);
        EXPECT(gbc.pc(), 0x96dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96db), 0xcb);
        EXPECT(gbc.readMem(0x96dc), 0x11);
        // CB 11 00E1
        gbc.setState(0xeb0c, 0x9e15, 0xe610, 0xbc40, 0x7cc1, 0xa9e9, 0x1, 0x0);
        gbc.writeMem(0xeb0c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x9e15);
        EXPECT(gbc.pc(), 0xeb0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb0c), 0xcb);
        EXPECT(gbc.readMem(0xeb0d), 0x11);
        // CB 11 00E2
        gbc.setState(0x7f3, 0x7b15, 0xf720, 0xe4f9, 0x9bca, 0x4b22, 0x1, 0x0);
        gbc.writeMem(0x7f3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x7b15);
        EXPECT(gbc.pc(), 0x7f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00E3
        gbc.setState(0x6cfc, 0x8bc, 0xf6d0, 0x78ff, 0x22cf, 0xc4c3, 0x1, 0x0);
        gbc.writeMem(0x6cfc, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x8bc);
        EXPECT(gbc.pc(), 0x6cfe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00E4
        gbc.setState(0x69b1, 0x7e7, 0x6250, 0xa03c, 0x260d, 0x344f, 0x1, 0x1);
        gbc.writeMem(0x69b1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x7e7);
        EXPECT(gbc.pc(), 0x69b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00E5
        gbc.setState(0x8599, 0x8603, 0x2590, 0x37f5, 0xf28, 0x8db7, 0x1, 0x0);
        gbc.writeMem(0x8599, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x8603);
        EXPECT(gbc.pc(), 0x859b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8599), 0xcb);
        EXPECT(gbc.readMem(0x859a), 0x11);
        // CB 11 00E6
        gbc.setState(0x3484, 0x7c84, 0x6bd0, 0x738b, 0x8c09, 0x43a5, 0x0, 0x0);
        gbc.writeMem(0x3484, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x7c84);
        EXPECT(gbc.pc(), 0x3486);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00E7
        gbc.setState(0x5bc4, 0xda4e, 0xc660, 0x8fd6, 0x145d, 0x82d5, 0x0, 0x1);
        gbc.writeMem(0x5bc4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xda4e);
        EXPECT(gbc.pc(), 0x5bc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00E8
        gbc.setState(0x95aa, 0x24d5, 0x7ce0, 0x93a5, 0x3699, 0x6df7, 0x1, 0x0);
        gbc.writeMem(0x95aa, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x24d5);
        EXPECT(gbc.pc(), 0x95ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95aa), 0xcb);
        EXPECT(gbc.readMem(0x95ab), 0x11);
        // CB 11 00E9
        gbc.setState(0x4eac, 0x61d5, 0x6320, 0xe0d7, 0x183e, 0xc168, 0x1, 0x0);
        gbc.writeMem(0x4eac, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x61d5);
        EXPECT(gbc.pc(), 0x4eae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00EA
        gbc.setState(0x6b33, 0x81d1, 0xc650, 0x5386, 0x188c, 0x894e, 0x1, 0x0);
        gbc.writeMem(0x6b33, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x81d1);
        EXPECT(gbc.pc(), 0x6b35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00EB
        gbc.setState(0x47c2, 0x667c, 0x26a0, 0xd0a0, 0x7abf, 0x181e, 0x1, 0x0);
        gbc.writeMem(0x47c2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x667c);
        EXPECT(gbc.pc(), 0x47c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00EC
        gbc.setState(0xd534, 0x2a0c, 0xbc60, 0x1081, 0x1c22, 0xe23f, 0x0, 0x1);
        gbc.writeMem(0xd534, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x2a0c);
        EXPECT(gbc.pc(), 0xd536);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd534), 0xcb);
        EXPECT(gbc.readMem(0xd535), 0x11);
        // CB 11 00ED
        gbc.setState(0x2687, 0x89c9, 0x75f0, 0x8de4, 0xc124, 0x77f2, 0x0, 0x0);
        gbc.writeMem(0x2687, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x89c9);
        EXPECT(gbc.pc(), 0x2689);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00EE
        gbc.setState(0x2d9, 0x75f3, 0x2270, 0x1cdc, 0x4ff9, 0x44a5, 0x1, 0x1);
        gbc.writeMem(0x2d9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x75f3);
        EXPECT(gbc.pc(), 0x2db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00EF
        gbc.setState(0xe70d, 0x5d96, 0xc850, 0x1144, 0xb42e, 0xb007, 0x1, 0x0);
        gbc.writeMem(0xe70d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x5d96);
        EXPECT(gbc.pc(), 0xe70f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe70d), 0xcb);
        EXPECT(gbc.readMem(0xe70e), 0x11);
        // CB 11 00F0
        gbc.setState(0x9c8f, 0xad7a, 0xf2d0, 0x6d0e, 0xa57e, 0x481b, 0x0, 0x1);
        gbc.writeMem(0x9c8f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xad7a);
        EXPECT(gbc.pc(), 0x9c91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c8f), 0xcb);
        EXPECT(gbc.readMem(0x9c90), 0x11);
        // CB 11 00F2
        gbc.setState(0x94c0, 0xce55, 0x6ce0, 0xcce0, 0x47b4, 0x71c9, 0x1, 0x1);
        gbc.writeMem(0x94c0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xce55);
        EXPECT(gbc.pc(), 0x94c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94c0), 0xcb);
        EXPECT(gbc.readMem(0x94c1), 0x11);
        // CB 11 00F3
        gbc.setState(0x4dd6, 0xfaca, 0xf2c0, 0xc595, 0xb50f, 0x2f4f, 0x0, 0x0);
        gbc.writeMem(0x4dd6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xfaca);
        EXPECT(gbc.pc(), 0x4dd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00F4
        gbc.setState(0x72b0, 0xa853, 0x3c10, 0x2708, 0x3d09, 0xcac3, 0x0, 0x0);
        gbc.writeMem(0x72b0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xa853);
        EXPECT(gbc.pc(), 0x72b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00F5
        gbc.setState(0xb450, 0xbfa4, 0x670, 0xacb9, 0x1f3d, 0xf2f7, 0x1, 0x1);
        gbc.writeMem(0xb450, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xbfa4);
        EXPECT(gbc.pc(), 0xb452);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb450), 0xcb);
        EXPECT(gbc.readMem(0xb451), 0x11);
        // CB 11 00F6
        gbc.setState(0x78f3, 0x9608, 0xeb20, 0xcc82, 0x7efc, 0xd319, 0x1, 0x0);
        gbc.writeMem(0x78f3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x9608);
        EXPECT(gbc.pc(), 0x78f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 00F7
        gbc.setState(0x5fa6, 0xa93b, 0x25f0, 0xc03b, 0x7bfc, 0xa470, 0x1, 0x0);
        gbc.writeMem(0x5fa6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xa93b);
        EXPECT(gbc.pc(), 0x5fa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00F8
        gbc.setState(0x505a, 0x558a, 0xe050, 0x8f00, 0xc24a, 0xe312, 0x1, 0x0);
        gbc.writeMem(0x505a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x558a);
        EXPECT(gbc.pc(), 0x505c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 00F9
        gbc.setState(0x8b86, 0x4efe, 0x9780, 0xf8a1, 0x833a, 0xe651, 0x1, 0x0);
        gbc.writeMem(0x8b86, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x4efe);
        EXPECT(gbc.pc(), 0x8b88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b86), 0xcb);
        EXPECT(gbc.readMem(0x8b87), 0x11);
        // CB 11 00FA
        gbc.setState(0x97f5, 0x8502, 0xa270, 0x8c50, 0x6b17, 0xd729, 0x0, 0x1);
        gbc.writeMem(0x97f5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x8502);
        EXPECT(gbc.pc(), 0x97f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97f5), 0xcb);
        EXPECT(gbc.readMem(0x97f6), 0x11);
        // CB 11 00FB
        gbc.setState(0x9bea, 0xbdd1, 0x5c40, 0xd1ca, 0x9ec, 0xc083, 0x1, 0x1);
        gbc.writeMem(0x9bea, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xbdd1);
        EXPECT(gbc.pc(), 0x9bec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bea), 0xcb);
        EXPECT(gbc.readMem(0x9beb), 0x11);
        // CB 11 00FC
        gbc.setState(0x815b, 0x8289, 0x2660, 0xb49a, 0x8f9e, 0x49da, 0x0, 0x0);
        gbc.writeMem(0x815b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x8289);
        EXPECT(gbc.pc(), 0x815d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x815b), 0xcb);
        EXPECT(gbc.readMem(0x815c), 0x11);
        // CB 11 00FE
        gbc.setState(0xae16, 0x2c84, 0xe830, 0xb573, 0x1007, 0xa6a5, 0x1, 0x0);
        gbc.writeMem(0xae16, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2c84);
        EXPECT(gbc.pc(), 0xae18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae16), 0xcb);
        EXPECT(gbc.readMem(0xae17), 0x11);
        // CB 11 00FF
        gbc.setState(0xc011, 0x2034, 0x2fe0, 0x82a6, 0x1e70, 0x8e8, 0x0, 0x0);
        gbc.writeMem(0xc011, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x2034);
        EXPECT(gbc.pc(), 0xc013);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc011), 0xcb);
        EXPECT(gbc.readMem(0xc012), 0x11);
        // CB 11 0100
        gbc.setState(0xd33e, 0x8d06, 0xf8b0, 0x80dc, 0xdb7b, 0xb04d, 0x0, 0x1);
        gbc.writeMem(0xd33e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x8d06);
        EXPECT(gbc.pc(), 0xd340);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd33e), 0xcb);
        EXPECT(gbc.readMem(0xd33f), 0x11);
        // CB 11 0101
        gbc.setState(0x533c, 0x3d84, 0xb270, 0xf845, 0x60f1, 0xc6a1, 0x1, 0x0);
        gbc.writeMem(0x533c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x3d84);
        EXPECT(gbc.pc(), 0x533e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0102
        gbc.setState(0xec72, 0xb15e, 0xf7d0, 0x98d8, 0xb978, 0x3769, 0x0, 0x1);
        gbc.writeMem(0xec72, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xb15e);
        EXPECT(gbc.pc(), 0xec74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec72), 0xcb);
        EXPECT(gbc.readMem(0xec73), 0x11);
        // CB 11 0103
        gbc.setState(0x7fe2, 0xcba8, 0xe630, 0xa5dc, 0x8c17, 0x5f51, 0x0, 0x0);
        gbc.writeMem(0x7fe2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xcba8);
        EXPECT(gbc.pc(), 0x7fe4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0104
        gbc.setState(0x3f0e, 0x8aeb, 0x3210, 0x359c, 0x51ae, 0x5059, 0x1, 0x1);
        gbc.writeMem(0x3f0e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x8aeb);
        EXPECT(gbc.pc(), 0x3f10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0105
        gbc.setState(0x1cc3, 0x17f5, 0xd3f0, 0xe6a5, 0xc70a, 0x55e8, 0x0, 0x0);
        gbc.writeMem(0x1cc3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x17f5);
        EXPECT(gbc.pc(), 0x1cc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0106
        gbc.setState(0x6d70, 0x5ed9, 0xbde0, 0xdb63, 0xa175, 0x56e, 0x1, 0x0);
        gbc.writeMem(0x6d70, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x5ed9);
        EXPECT(gbc.pc(), 0x6d72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0107
        gbc.setState(0xe31, 0x41dc, 0xa420, 0x952a, 0xb27, 0x93b3, 0x0, 0x1);
        gbc.writeMem(0xe31, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x41dc);
        EXPECT(gbc.pc(), 0xe33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0108
        gbc.setState(0x65a3, 0xb7ce, 0x6070, 0xeece, 0x2c0f, 0x6a4d, 0x1, 0x0);
        gbc.writeMem(0x65a3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xb7ce);
        EXPECT(gbc.pc(), 0x65a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0109
        gbc.setState(0xb575, 0x1dbe, 0x2c40, 0xe2eb, 0x2817, 0xe94d, 0x0, 0x1);
        gbc.writeMem(0xb575, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x1dbe);
        EXPECT(gbc.pc(), 0xb577);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb575), 0xcb);
        EXPECT(gbc.readMem(0xb576), 0x11);
        // CB 11 010A
        gbc.setState(0xc3b1, 0xe5a5, 0x2850, 0x91ad, 0x2407, 0xb14f, 0x1, 0x0);
        gbc.writeMem(0xc3b1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xe5a5);
        EXPECT(gbc.pc(), 0xc3b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3b1), 0xcb);
        EXPECT(gbc.readMem(0xc3b2), 0x11);
        // CB 11 010B
        gbc.setState(0xe27, 0xb12c, 0xa010, 0x1819, 0x27d5, 0xeceb, 0x0, 0x1);
        gbc.writeMem(0xe27, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xb12c);
        EXPECT(gbc.pc(), 0xe29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 010C
        gbc.setState(0xb746, 0xb350, 0x7050, 0x9e83, 0xce4c, 0xac31, 0x0, 0x0);
        gbc.writeMem(0xb746, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xb350);
        EXPECT(gbc.pc(), 0xb748);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb746), 0xcb);
        EXPECT(gbc.readMem(0xb747), 0x11);
        // CB 11 010D
        gbc.setState(0x6858, 0x92b2, 0x9d0, 0x53ae, 0x2384, 0x6ab8, 0x1, 0x0);
        gbc.writeMem(0x6858, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x92b2);
        EXPECT(gbc.pc(), 0x685a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 010E
        gbc.setState(0xd231, 0x65f0, 0x6d30, 0xdb67, 0x6e0d, 0xff3, 0x0, 0x1);
        gbc.writeMem(0xd231, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x65f0);
        EXPECT(gbc.pc(), 0xd233);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd231), 0xcb);
        EXPECT(gbc.readMem(0xd232), 0x11);
        // CB 11 010F
        gbc.setState(0x193c, 0xa1e9, 0xb330, 0x73d2, 0xf25c, 0xa412, 0x0, 0x1);
        gbc.writeMem(0x193c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xa1e9);
        EXPECT(gbc.pc(), 0x193e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0110
        gbc.setState(0x9f8c, 0x97f2, 0x5ee0, 0x263b, 0x47b, 0x5093, 0x1, 0x1);
        gbc.writeMem(0x9f8c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x97f2);
        EXPECT(gbc.pc(), 0x9f8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f8c), 0xcb);
        EXPECT(gbc.readMem(0x9f8d), 0x11);
        // CB 11 0111
        gbc.setState(0xc144, 0x1c0f, 0xdda0, 0x2b26, 0xee36, 0x753f, 0x1, 0x1);
        gbc.writeMem(0xc144, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x1c0f);
        EXPECT(gbc.pc(), 0xc146);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc144), 0xcb);
        EXPECT(gbc.readMem(0xc145), 0x11);
        // CB 11 0112
        gbc.setState(0xaa31, 0x211f, 0x7830, 0x3982, 0xe44, 0x4c31, 0x0, 0x0);
        gbc.writeMem(0xaa31, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x211f);
        EXPECT(gbc.pc(), 0xaa33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa31), 0xcb);
        EXPECT(gbc.readMem(0xaa32), 0x11);
        // CB 11 0113
        gbc.setState(0x7a3a, 0xfbb3, 0xef00, 0x3fa, 0x16fc, 0x50a3, 0x0, 0x1);
        gbc.writeMem(0x7a3a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xfbb3);
        EXPECT(gbc.pc(), 0x7a3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0114
        gbc.setState(0x7ddd, 0x4219, 0x4210, 0x3adf, 0x71f4, 0xd9d1, 0x1, 0x1);
        gbc.writeMem(0x7ddd, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x4219);
        EXPECT(gbc.pc(), 0x7ddf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0115
        gbc.setState(0x64f9, 0xee6d, 0x5f70, 0x3d99, 0x1034, 0x7c59, 0x1, 0x1);
        gbc.writeMem(0x64f9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xee6d);
        EXPECT(gbc.pc(), 0x64fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0116
        gbc.setState(0xc871, 0x55e3, 0x9210, 0x3f61, 0x9f00, 0x9bd0, 0x0, 0x0);
        gbc.writeMem(0xc871, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x55e3);
        EXPECT(gbc.pc(), 0xc873);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc871), 0xcb);
        EXPECT(gbc.readMem(0xc872), 0x11);
        // CB 11 0117
        gbc.setState(0xb42d, 0xec34, 0x19c0, 0x846a, 0xf9f2, 0xf973, 0x0, 0x1);
        gbc.writeMem(0xb42d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xec34);
        EXPECT(gbc.pc(), 0xb42f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb42d), 0xcb);
        EXPECT(gbc.readMem(0xb42e), 0x11);
        // CB 11 0118
        gbc.setState(0x1b54, 0x870b, 0x4020, 0x8a9, 0xddc1, 0x3a10, 0x1, 0x1);
        gbc.writeMem(0x1b54, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x870b);
        EXPECT(gbc.pc(), 0x1b56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0119
        gbc.setState(0x245d, 0xd122, 0x32f0, 0xcbd5, 0x4a77, 0x505, 0x0, 0x0);
        gbc.writeMem(0x245d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xd122);
        EXPECT(gbc.pc(), 0x245f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 011A
        gbc.setState(0xd0a4, 0x192c, 0x76e0, 0xa69, 0x84a9, 0xf169, 0x1, 0x0);
        gbc.writeMem(0xd0a4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x192c);
        EXPECT(gbc.pc(), 0xd0a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0a4), 0xcb);
        EXPECT(gbc.readMem(0xd0a5), 0x11);
        // CB 11 011B
        gbc.setState(0xa836, 0xf25e, 0x4d30, 0xffd1, 0x9295, 0xdf7, 0x1, 0x0);
        gbc.writeMem(0xa836, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xf25e);
        EXPECT(gbc.pc(), 0xa838);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa836), 0xcb);
        EXPECT(gbc.readMem(0xa837), 0x11);
        // CB 11 011C
        gbc.setState(0xe667, 0xdf62, 0xbb00, 0x515, 0x370a, 0xd467, 0x0, 0x1);
        gbc.writeMem(0xe667, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xdf62);
        EXPECT(gbc.pc(), 0xe669);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe667), 0xcb);
        EXPECT(gbc.readMem(0xe668), 0x11);
        // CB 11 011D
        gbc.setState(0xa40, 0x30f3, 0xf730, 0x1d42, 0xdab4, 0x1d08, 0x1, 0x1);
        gbc.writeMem(0xa40, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x30f3);
        EXPECT(gbc.pc(), 0xa42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 011E
        gbc.setState(0x2dea, 0x39f0, 0xd930, 0xccf, 0x6c5c, 0x7666, 0x0, 0x0);
        gbc.writeMem(0x2dea, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x39f0);
        EXPECT(gbc.pc(), 0x2dec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 011F
        gbc.setState(0xca62, 0x8126, 0x6ed0, 0xe4e4, 0xf028, 0x5099, 0x0, 0x1);
        gbc.writeMem(0xca62, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x8126);
        EXPECT(gbc.pc(), 0xca64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca62), 0xcb);
        EXPECT(gbc.readMem(0xca63), 0x11);
        // CB 11 0120
        gbc.setState(0x5b2a, 0x1543, 0xf1d0, 0xe33b, 0xb90a, 0x14d7, 0x0, 0x0);
        gbc.writeMem(0x5b2a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x1543);
        EXPECT(gbc.pc(), 0x5b2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0121
        gbc.setState(0xe55f, 0xbf67, 0xb3f0, 0x109d, 0xff72, 0xbefa, 0x1, 0x1);
        gbc.writeMem(0xe55f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xbf67);
        EXPECT(gbc.pc(), 0xe561);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe55f), 0xcb);
        EXPECT(gbc.readMem(0xe560), 0x11);
        // CB 11 0122
        gbc.setState(0x4f4d, 0x1db0, 0x9ce0, 0x89ba, 0x3cc7, 0xdc1e, 0x0, 0x1);
        gbc.writeMem(0x4f4d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x1db0);
        EXPECT(gbc.pc(), 0x4f4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0123
        gbc.setState(0x9a02, 0xa7d0, 0x7af0, 0x419a, 0x2f24, 0xc3d1, 0x1, 0x1);
        gbc.writeMem(0x9a02, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xa7d0);
        EXPECT(gbc.pc(), 0x9a04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a02), 0xcb);
        EXPECT(gbc.readMem(0x9a03), 0x11);
        // CB 11 0124
        gbc.setState(0xc92, 0x256f, 0x2760, 0xe7f5, 0x2915, 0xc644, 0x0, 0x0);
        gbc.writeMem(0xc92, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x256f);
        EXPECT(gbc.pc(), 0xc94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0125
        gbc.setState(0x68e0, 0x2c0c, 0x4c60, 0x40b8, 0xeb3f, 0x7b99, 0x1, 0x0);
        gbc.writeMem(0x68e0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x2c0c);
        EXPECT(gbc.pc(), 0x68e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0126
        gbc.setState(0x902, 0xe189, 0x3a0, 0x603, 0x676d, 0xe11e, 0x1, 0x1);
        gbc.writeMem(0x902, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xe189);
        EXPECT(gbc.pc(), 0x904);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0127
        gbc.setState(0x8c8c, 0x6236, 0xa800, 0xb5dd, 0x6a38, 0x78b7, 0x0, 0x1);
        gbc.writeMem(0x8c8c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x6236);
        EXPECT(gbc.pc(), 0x8c8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c8c), 0xcb);
        EXPECT(gbc.readMem(0x8c8d), 0x11);
        // CB 11 0128
        gbc.setState(0x150, 0xe80e, 0xe910, 0x6997, 0x99ec, 0x7f33, 0x0, 0x1);
        gbc.writeMem(0x150, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xe80e);
        EXPECT(gbc.pc(), 0x152);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0129
        gbc.setState(0xe260, 0x859b, 0xc030, 0x2af, 0xb563, 0x87c, 0x0, 0x1);
        gbc.writeMem(0xe260, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x859b);
        EXPECT(gbc.pc(), 0xe262);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe260), 0xcb);
        EXPECT(gbc.readMem(0xe261), 0x11);
        // CB 11 012A
        gbc.setState(0xc006, 0x441, 0xa920, 0xe1ed, 0x2bc9, 0x1829, 0x0, 0x1);
        gbc.writeMem(0xc006, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x441);
        EXPECT(gbc.pc(), 0xc008);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc006), 0xcb);
        EXPECT(gbc.readMem(0xc007), 0x11);
        // CB 11 012B
        gbc.setState(0x434c, 0x2425, 0xf8c0, 0xd88b, 0x108b, 0x49fa, 0x1, 0x1);
        gbc.writeMem(0x434c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x2425);
        EXPECT(gbc.pc(), 0x434e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 012C
        gbc.setState(0x73e8, 0x9cdf, 0x6a90, 0xad3f, 0x9f06, 0x5624, 0x0, 0x0);
        gbc.writeMem(0x73e8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x9cdf);
        EXPECT(gbc.pc(), 0x73ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 012D
        gbc.setState(0xcff0, 0xd3d, 0x2550, 0x1153, 0x8f40, 0xfa49, 0x0, 0x0);
        gbc.writeMem(0xcff0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xd3d);
        EXPECT(gbc.pc(), 0xcff2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcff0), 0xcb);
        EXPECT(gbc.readMem(0xcff1), 0x11);
        // CB 11 012E
        gbc.setState(0xa14e, 0xf6c1, 0x4c90, 0xf401, 0x6260, 0xf784, 0x1, 0x1);
        gbc.writeMem(0xa14e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xf6c1);
        EXPECT(gbc.pc(), 0xa150);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa14e), 0xcb);
        EXPECT(gbc.readMem(0xa14f), 0x11);
        // CB 11 012F
        gbc.setState(0x70d8, 0x7689, 0xb710, 0xc57f, 0xebe0, 0x5f01, 0x1, 0x1);
        gbc.writeMem(0x70d8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x7689);
        EXPECT(gbc.pc(), 0x70da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0130
        gbc.setState(0xb4b0, 0xbc55, 0xb10, 0xe61a, 0x73fe, 0x363a, 0x1, 0x0);
        gbc.writeMem(0xb4b0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xbc55);
        EXPECT(gbc.pc(), 0xb4b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4b0), 0xcb);
        EXPECT(gbc.readMem(0xb4b1), 0x11);
        // CB 11 0131
        gbc.setState(0x31c8, 0x28cd, 0x73f0, 0xee4, 0xc62c, 0xa645, 0x1, 0x0);
        gbc.writeMem(0x31c8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x28cd);
        EXPECT(gbc.pc(), 0x31ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0132
        gbc.setState(0x7940, 0x3074, 0x5750, 0x2c1c, 0x8051, 0x8a68, 0x1, 0x0);
        gbc.writeMem(0x7940, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x3074);
        EXPECT(gbc.pc(), 0x7942);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0133
        gbc.setState(0x755, 0x2da0, 0x6620, 0x909c, 0x5b2b, 0x93d, 0x0, 0x1);
        gbc.writeMem(0x755, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x2da0);
        EXPECT(gbc.pc(), 0x757);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0134
        gbc.setState(0x919d, 0x986d, 0x7010, 0x2151, 0x3e31, 0x123e, 0x1, 0x0);
        gbc.writeMem(0x919d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x986d);
        EXPECT(gbc.pc(), 0x919f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x919d), 0xcb);
        EXPECT(gbc.readMem(0x919e), 0x11);
        // CB 11 0135
        gbc.setState(0x9ccc, 0x1598, 0xdd0, 0x2694, 0xa156, 0x25bf, 0x1, 0x1);
        gbc.writeMem(0x9ccc, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x1598);
        EXPECT(gbc.pc(), 0x9cce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ccc), 0xcb);
        EXPECT(gbc.readMem(0x9ccd), 0x11);
        // CB 11 0136
        gbc.setState(0x938d, 0x601c, 0x7de0, 0xf927, 0xa8a0, 0xc126, 0x0, 0x1);
        gbc.writeMem(0x938d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x601c);
        EXPECT(gbc.pc(), 0x938f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x938d), 0xcb);
        EXPECT(gbc.readMem(0x938e), 0x11);
        // CB 11 0137
        gbc.setState(0xa1a0, 0xbad5, 0xbf90, 0x857b, 0xe8c3, 0xbe65, 0x1, 0x0);
        gbc.writeMem(0xa1a0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xbad5);
        EXPECT(gbc.pc(), 0xa1a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1a0), 0xcb);
        EXPECT(gbc.readMem(0xa1a1), 0x11);
        // CB 11 0138
        gbc.setState(0x3658, 0xed3f, 0x23c0, 0x303b, 0xb409, 0x90ed, 0x0, 0x0);
        gbc.writeMem(0x3658, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xed3f);
        EXPECT(gbc.pc(), 0x365a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0139
        gbc.setState(0xcd19, 0xcf7b, 0xfb00, 0x1082, 0xa533, 0x785a, 0x1, 0x0);
        gbc.writeMem(0xcd19, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xcf7b);
        EXPECT(gbc.pc(), 0xcd1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd19), 0xcb);
        EXPECT(gbc.readMem(0xcd1a), 0x11);
        // CB 11 013A
        gbc.setState(0x7e6d, 0xa6ba, 0x3150, 0xde62, 0xa42, 0xfbf8, 0x0, 0x0);
        gbc.writeMem(0x7e6d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xa6ba);
        EXPECT(gbc.pc(), 0x7e6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 013B
        gbc.setState(0xb5d9, 0x5722, 0x44d0, 0xe85e, 0xca8, 0xecfa, 0x0, 0x0);
        gbc.writeMem(0xb5d9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x5722);
        EXPECT(gbc.pc(), 0xb5db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5d9), 0xcb);
        EXPECT(gbc.readMem(0xb5da), 0x11);
        // CB 11 013C
        gbc.setState(0xa098, 0xd751, 0x8760, 0xccc, 0xba8c, 0xfd4b, 0x0, 0x1);
        gbc.writeMem(0xa098, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xd751);
        EXPECT(gbc.pc(), 0xa09a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa098), 0xcb);
        EXPECT(gbc.readMem(0xa099), 0x11);
        // CB 11 013D
        gbc.setState(0xa8f6, 0x1f42, 0x8770, 0x8d17, 0xf0ca, 0xd0de, 0x1, 0x1);
        gbc.writeMem(0xa8f6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x1f42);
        EXPECT(gbc.pc(), 0xa8f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8f6), 0xcb);
        EXPECT(gbc.readMem(0xa8f7), 0x11);
        // CB 11 013E
        gbc.setState(0x871, 0xb36f, 0x9f0, 0x7020, 0xc7da, 0xcdbe, 0x1, 0x0);
        gbc.writeMem(0x871, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xb36f);
        EXPECT(gbc.pc(), 0x873);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 013F
        gbc.setState(0x50ed, 0x2eed, 0x37d0, 0x87fd, 0x6474, 0x699a, 0x0, 0x1);
        gbc.writeMem(0x50ed, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x2eed);
        EXPECT(gbc.pc(), 0x50ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0140
        gbc.setState(0x5956, 0xbb72, 0xf090, 0xc6f7, 0xb1d1, 0x2fc6, 0x1, 0x0);
        gbc.writeMem(0x5956, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xbb72);
        EXPECT(gbc.pc(), 0x5958);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0141
        gbc.setState(0x2d49, 0x2efa, 0x3000, 0x3a87, 0xa6eb, 0x2abc, 0x0, 0x1);
        gbc.writeMem(0x2d49, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x2efa);
        EXPECT(gbc.pc(), 0x2d4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0142
        gbc.setState(0x4f06, 0x5c5e, 0xc750, 0x5543, 0x1451, 0x4cc9, 0x0, 0x1);
        gbc.writeMem(0x4f06, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x5c5e);
        EXPECT(gbc.pc(), 0x4f08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0143
        gbc.setState(0xa0ea, 0x2103, 0x6990, 0xf6db, 0xd09e, 0x6847, 0x0, 0x1);
        gbc.writeMem(0xa0ea, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x2103);
        EXPECT(gbc.pc(), 0xa0ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0ea), 0xcb);
        EXPECT(gbc.readMem(0xa0eb), 0x11);
        // CB 11 0144
        gbc.setState(0x52ef, 0x7d48, 0xeb70, 0xef47, 0x28ea, 0x2925, 0x0, 0x0);
        gbc.writeMem(0x52ef, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x7d48);
        EXPECT(gbc.pc(), 0x52f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0145
        gbc.setState(0x7a5e, 0x6a29, 0xe690, 0xd9ac, 0x7004, 0x7870, 0x0, 0x1);
        gbc.writeMem(0x7a5e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x6a29);
        EXPECT(gbc.pc(), 0x7a60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0146
        gbc.setState(0x90e9, 0xdb9a, 0x7020, 0x5262, 0x8fb9, 0x681f, 0x1, 0x0);
        gbc.writeMem(0x90e9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xdb9a);
        EXPECT(gbc.pc(), 0x90eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90e9), 0xcb);
        EXPECT(gbc.readMem(0x90ea), 0x11);
        // CB 11 0148
        gbc.setState(0x54f6, 0x52eb, 0xccf0, 0x8073, 0x83cc, 0xcb21, 0x1, 0x0);
        gbc.writeMem(0x54f6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x52eb);
        EXPECT(gbc.pc(), 0x54f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0149
        gbc.setState(0xab1a, 0xd888, 0x61a0, 0xde97, 0x1000, 0xbbe4, 0x0, 0x0);
        gbc.writeMem(0xab1a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xd888);
        EXPECT(gbc.pc(), 0xab1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab1a), 0xcb);
        EXPECT(gbc.readMem(0xab1b), 0x11);
        // CB 11 014A
        gbc.setState(0xeefd, 0x92ba, 0xca10, 0x1b3a, 0x592d, 0xa85e, 0x1, 0x0);
        gbc.writeMem(0xeefd, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x92ba);
        EXPECT(gbc.pc(), 0xeeff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeefd), 0xcb);
        EXPECT(gbc.readMem(0xeefe), 0x11);
        // CB 11 014B
        gbc.setState(0xef1f, 0xa7ba, 0x8d70, 0xe072, 0x5196, 0xef10, 0x1, 0x0);
        gbc.writeMem(0xef1f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xa7ba);
        EXPECT(gbc.pc(), 0xef21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef1f), 0xcb);
        EXPECT(gbc.readMem(0xef20), 0x11);
        // CB 11 014C
        gbc.setState(0x9ee6, 0xe6eb, 0xda60, 0xf9e3, 0xef3d, 0xce9c, 0x1, 0x0);
        gbc.writeMem(0x9ee6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xe6eb);
        EXPECT(gbc.pc(), 0x9ee8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ee6), 0xcb);
        EXPECT(gbc.readMem(0x9ee7), 0x11);
        // CB 11 014D
        gbc.setState(0x7012, 0x642d, 0xfa80, 0x21e, 0xe64, 0x48b3, 0x0, 0x1);
        gbc.writeMem(0x7012, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x642d);
        EXPECT(gbc.pc(), 0x7014);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 014E
        gbc.setState(0xcf3b, 0xa5f4, 0x4630, 0x774a, 0xa641, 0x4ade, 0x1, 0x1);
        gbc.writeMem(0xcf3b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xa5f4);
        EXPECT(gbc.pc(), 0xcf3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf3b), 0xcb);
        EXPECT(gbc.readMem(0xcf3c), 0x11);
        // CB 11 014F
        gbc.setState(0xe60d, 0xc1f5, 0x7ed0, 0xd6ad, 0xe94, 0xc2c9, 0x1, 0x1);
        gbc.writeMem(0xe60d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xc1f5);
        EXPECT(gbc.pc(), 0xe60f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe60d), 0xcb);
        EXPECT(gbc.readMem(0xe60e), 0x11);
        // CB 11 0150
        gbc.setState(0xe287, 0x74b, 0xc2f0, 0x91da, 0x57cb, 0xfb6f, 0x0, 0x1);
        gbc.writeMem(0xe287, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x74b);
        EXPECT(gbc.pc(), 0xe289);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe287), 0xcb);
        EXPECT(gbc.readMem(0xe288), 0x11);
        // CB 11 0151
        gbc.setState(0xcc61, 0x6d00, 0xfb10, 0xce0, 0x12fa, 0xd057, 0x0, 0x0);
        gbc.writeMem(0xcc61, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x6d00);
        EXPECT(gbc.pc(), 0xcc63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc61), 0xcb);
        EXPECT(gbc.readMem(0xcc62), 0x11);
        // CB 11 0152
        gbc.setState(0x76d5, 0xf418, 0xc360, 0x785e, 0x6901, 0x1119, 0x0, 0x0);
        gbc.writeMem(0x76d5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xf418);
        EXPECT(gbc.pc(), 0x76d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0153
        gbc.setState(0xa093, 0x975d, 0xc230, 0xd8d6, 0xb37c, 0xfdd7, 0x1, 0x1);
        gbc.writeMem(0xa093, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x975d);
        EXPECT(gbc.pc(), 0xa095);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa093), 0xcb);
        EXPECT(gbc.readMem(0xa094), 0x11);
        // CB 11 0154
        gbc.setState(0xa69a, 0xb160, 0xbf20, 0xa331, 0x2516, 0x619d, 0x1, 0x1);
        gbc.writeMem(0xa69a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xb160);
        EXPECT(gbc.pc(), 0xa69c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa69a), 0xcb);
        EXPECT(gbc.readMem(0xa69b), 0x11);
        // CB 11 0155
        gbc.setState(0xe8ef, 0x4160, 0x2d60, 0x22e3, 0x6fdd, 0x14d7, 0x0, 0x1);
        gbc.writeMem(0xe8ef, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x4160);
        EXPECT(gbc.pc(), 0xe8f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8ef), 0xcb);
        EXPECT(gbc.readMem(0xe8f0), 0x11);
        // CB 11 0156
        gbc.setState(0xe1cb, 0x7a09, 0x46c0, 0xdc20, 0x3be9, 0xe241, 0x0, 0x0);
        gbc.writeMem(0xe1cb, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x7a09);
        EXPECT(gbc.pc(), 0xe1cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1cb), 0xcb);
        EXPECT(gbc.readMem(0xe1cc), 0x11);
        // CB 11 0157
        gbc.setState(0x54c2, 0x1747, 0xd980, 0x17c2, 0x6655, 0x15f6, 0x0, 0x0);
        gbc.writeMem(0x54c2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x1747);
        EXPECT(gbc.pc(), 0x54c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0158
        gbc.setState(0x3439, 0x73dd, 0x8710, 0x9654, 0x7e1, 0xc8, 0x0, 0x1);
        gbc.writeMem(0x3439, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x73dd);
        EXPECT(gbc.pc(), 0x343b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0159
        gbc.setState(0x4c7e, 0xa55d, 0xf70, 0xeb0c, 0x4d, 0x371e, 0x1, 0x1);
        gbc.writeMem(0x4c7e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xa55d);
        EXPECT(gbc.pc(), 0x4c80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 015A
        gbc.setState(0xc52d, 0xca99, 0x5800, 0x6305, 0x2bb2, 0xc012, 0x1, 0x1);
        gbc.writeMem(0xc52d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xca99);
        EXPECT(gbc.pc(), 0xc52f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc52d), 0xcb);
        EXPECT(gbc.readMem(0xc52e), 0x11);
        // CB 11 015B
        gbc.setState(0xb6e, 0x787c, 0x990, 0x32c5, 0x9e26, 0xfe84, 0x0, 0x1);
        gbc.writeMem(0xb6e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x787c);
        EXPECT(gbc.pc(), 0xb70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 015C
        gbc.setState(0x8f96, 0xf35, 0x1150, 0x2070, 0x8a07, 0xc957, 0x0, 0x1);
        gbc.writeMem(0x8f96, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xf35);
        EXPECT(gbc.pc(), 0x8f98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f96), 0xcb);
        EXPECT(gbc.readMem(0x8f97), 0x11);
        // CB 11 015D
        gbc.setState(0xeda1, 0x7a54, 0x4cb0, 0xcccc, 0x233, 0x7aa, 0x1, 0x0);
        gbc.writeMem(0xeda1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x7a54);
        EXPECT(gbc.pc(), 0xeda3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeda1), 0xcb);
        EXPECT(gbc.readMem(0xeda2), 0x11);
        // CB 11 015E
        gbc.setState(0x7bbb, 0x39c, 0x5400, 0xb751, 0x6beb, 0xa7a, 0x1, 0x0);
        gbc.writeMem(0x7bbb, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x39c);
        EXPECT(gbc.pc(), 0x7bbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 015F
        gbc.setState(0x7829, 0x577c, 0x1d50, 0x5d30, 0x51d8, 0x48a2, 0x1, 0x0);
        gbc.writeMem(0x7829, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x577c);
        EXPECT(gbc.pc(), 0x782b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0160
        gbc.setState(0xb260, 0x316f, 0xd120, 0x3127, 0xa383, 0xb1c, 0x0, 0x0);
        gbc.writeMem(0xb260, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x316f);
        EXPECT(gbc.pc(), 0xb262);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb260), 0xcb);
        EXPECT(gbc.readMem(0xb261), 0x11);
        // CB 11 0161
        gbc.setState(0x1645, 0x9b05, 0x9ac0, 0x1adb, 0x4fca, 0xc8cd, 0x1, 0x0);
        gbc.writeMem(0x1645, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x9b05);
        EXPECT(gbc.pc(), 0x1647);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0162
        gbc.setState(0xd644, 0xecd5, 0x3ab0, 0x5917, 0xcd21, 0xfb82, 0x1, 0x0);
        gbc.writeMem(0xd644, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xecd5);
        EXPECT(gbc.pc(), 0xd646);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd644), 0xcb);
        EXPECT(gbc.readMem(0xd645), 0x11);
        // CB 11 0163
        gbc.setState(0x95b2, 0x77ed, 0x87c0, 0xc1ca, 0x6d22, 0x862b, 0x1, 0x0);
        gbc.writeMem(0x95b2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x77ed);
        EXPECT(gbc.pc(), 0x95b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95b2), 0xcb);
        EXPECT(gbc.readMem(0x95b3), 0x11);
        // CB 11 0164
        gbc.setState(0x6fbf, 0x97b3, 0xe1e0, 0x5751, 0x1522, 0xea5d, 0x1, 0x1);
        gbc.writeMem(0x6fbf, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x97b3);
        EXPECT(gbc.pc(), 0x6fc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0165
        gbc.setState(0x5db8, 0x2d8, 0xd770, 0x28e6, 0x100a, 0xd8e7, 0x1, 0x1);
        gbc.writeMem(0x5db8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x2d8);
        EXPECT(gbc.pc(), 0x5dba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0166
        gbc.setState(0x7d93, 0x33ba, 0xa640, 0xba81, 0xd42e, 0x58dc, 0x1, 0x0);
        gbc.writeMem(0x7d93, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x33ba);
        EXPECT(gbc.pc(), 0x7d95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0167
        gbc.setState(0x1380, 0xddaa, 0x5530, 0x5e0f, 0x63e4, 0xc97, 0x1, 0x0);
        gbc.writeMem(0x1380, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xddaa);
        EXPECT(gbc.pc(), 0x1382);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0168
        gbc.setState(0xbd6f, 0xd015, 0x6380, 0x301, 0x4cc7, 0x36d4, 0x1, 0x1);
        gbc.writeMem(0xbd6f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xd015);
        EXPECT(gbc.pc(), 0xbd71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd6f), 0xcb);
        EXPECT(gbc.readMem(0xbd70), 0x11);
        // CB 11 0169
        gbc.setState(0xab0c, 0xdc8a, 0x7070, 0xd9b0, 0x6bec, 0xd2ba, 0x0, 0x0);
        gbc.writeMem(0xab0c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xdc8a);
        EXPECT(gbc.pc(), 0xab0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab0c), 0xcb);
        EXPECT(gbc.readMem(0xab0d), 0x11);
        // CB 11 016A
        gbc.setState(0xd806, 0x316, 0x1740, 0x86ce, 0xd9eb, 0x44c, 0x0, 0x1);
        gbc.writeMem(0xd806, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x316);
        EXPECT(gbc.pc(), 0xd808);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd806), 0xcb);
        EXPECT(gbc.readMem(0xd807), 0x11);
        // CB 11 016B
        gbc.setState(0x4b9d, 0xbcd0, 0x1c10, 0x2531, 0x9be2, 0xcc64, 0x1, 0x0);
        gbc.writeMem(0x4b9d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xbcd0);
        EXPECT(gbc.pc(), 0x4b9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 016C
        gbc.setState(0xbaf0, 0xdecd, 0xf1e0, 0xac2, 0x1b56, 0x877c, 0x0, 0x1);
        gbc.writeMem(0xbaf0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xdecd);
        EXPECT(gbc.pc(), 0xbaf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbaf0), 0xcb);
        EXPECT(gbc.readMem(0xbaf1), 0x11);
        // CB 11 016D
        gbc.setState(0x95bb, 0x2b32, 0xb440, 0x63ba, 0x2c34, 0x5934, 0x1, 0x0);
        gbc.writeMem(0x95bb, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x2b32);
        EXPECT(gbc.pc(), 0x95bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95bb), 0xcb);
        EXPECT(gbc.readMem(0x95bc), 0x11);
        // CB 11 016E
        gbc.setState(0xdb9d, 0x6db2, 0xee70, 0x6fad, 0xfc31, 0x504, 0x1, 0x1);
        gbc.writeMem(0xdb9d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x6db2);
        EXPECT(gbc.pc(), 0xdb9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb9d), 0xcb);
        EXPECT(gbc.readMem(0xdb9e), 0x11);
        // CB 11 016F
        gbc.setState(0x34cf, 0x6d5f, 0x7d10, 0x5dc, 0x13fa, 0x6d82, 0x1, 0x0);
        gbc.writeMem(0x34cf, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x6d5f);
        EXPECT(gbc.pc(), 0x34d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0170
        gbc.setState(0xb68e, 0x90b, 0x41d0, 0x584d, 0x83ae, 0x1b7d, 0x0, 0x0);
        gbc.writeMem(0xb68e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x90b);
        EXPECT(gbc.pc(), 0xb690);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb68e), 0xcb);
        EXPECT(gbc.readMem(0xb68f), 0x11);
        // CB 11 0172
        gbc.setState(0xaa84, 0xcc8, 0x370, 0xb47c, 0xd2ab, 0x1072, 0x1, 0x1);
        gbc.writeMem(0xaa84, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xcc8);
        EXPECT(gbc.pc(), 0xaa86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa84), 0xcb);
        EXPECT(gbc.readMem(0xaa85), 0x11);
        // CB 11 0173
        gbc.setState(0xb8e, 0x780f, 0x4ba0, 0xb93d, 0xb073, 0x2a7e, 0x0, 0x1);
        gbc.writeMem(0xb8e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x780f);
        EXPECT(gbc.pc(), 0xb90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0174
        gbc.setState(0x398b, 0x4054, 0xe260, 0xf81f, 0x4601, 0xe6b3, 0x0, 0x0);
        gbc.writeMem(0x398b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x4054);
        EXPECT(gbc.pc(), 0x398d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0176
        gbc.setState(0x844a, 0x8364, 0x37d0, 0x3160, 0x9409, 0x8452, 0x0, 0x0);
        gbc.writeMem(0x844a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x8364);
        EXPECT(gbc.pc(), 0x844c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x844a), 0xcb);
        EXPECT(gbc.readMem(0x844b), 0x11);
        // CB 11 0177
        gbc.setState(0x4080, 0x1a27, 0x8f90, 0xa16b, 0xcbd8, 0xcf44, 0x1, 0x1);
        gbc.writeMem(0x4080, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x1a27);
        EXPECT(gbc.pc(), 0x4082);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0178
        gbc.setState(0x876c, 0xc8bf, 0x9260, 0xec3a, 0xc11, 0xb7e5, 0x1, 0x0);
        gbc.writeMem(0x876c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xc8bf);
        EXPECT(gbc.pc(), 0x876e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x876c), 0xcb);
        EXPECT(gbc.readMem(0x876d), 0x11);
        // CB 11 0179
        gbc.setState(0xca40, 0xcd11, 0xeec0, 0xaaea, 0x5cf1, 0x5048, 0x0, 0x1);
        gbc.writeMem(0xca40, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xcd11);
        EXPECT(gbc.pc(), 0xca42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca40), 0xcb);
        EXPECT(gbc.readMem(0xca41), 0x11);
        // CB 11 017A
        gbc.setState(0x927e, 0xd3fa, 0x2010, 0x8ebe, 0x8d9f, 0xc26, 0x0, 0x1);
        gbc.writeMem(0x927e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xd3fa);
        EXPECT(gbc.pc(), 0x9280);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x927e), 0xcb);
        EXPECT(gbc.readMem(0x927f), 0x11);
        // CB 11 017B
        gbc.setState(0x9206, 0xb4b3, 0xe8e0, 0x7afc, 0x2c90, 0x7c94, 0x1, 0x0);
        gbc.writeMem(0x9206, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xb4b3);
        EXPECT(gbc.pc(), 0x9208);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9206), 0xcb);
        EXPECT(gbc.readMem(0x9207), 0x11);
        // CB 11 017C
        gbc.setState(0x483f, 0x90e0, 0x2330, 0x83db, 0xb6a9, 0x14d5, 0x0, 0x1);
        gbc.writeMem(0x483f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x90e0);
        EXPECT(gbc.pc(), 0x4841);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 017D
        gbc.setState(0xa406, 0x8ac1, 0xa730, 0xee05, 0x2c38, 0xaea, 0x1, 0x0);
        gbc.writeMem(0xa406, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x8ac1);
        EXPECT(gbc.pc(), 0xa408);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa406), 0xcb);
        EXPECT(gbc.readMem(0xa407), 0x11);
        // CB 11 017E
        gbc.setState(0xda31, 0x252a, 0x8190, 0xeab0, 0xfa9f, 0xd3a9, 0x0, 0x1);
        gbc.writeMem(0xda31, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x252a);
        EXPECT(gbc.pc(), 0xda33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda31), 0xcb);
        EXPECT(gbc.readMem(0xda32), 0x11);
        // CB 11 017F
        gbc.setState(0x957c, 0xad03, 0x2de0, 0x2402, 0xf69b, 0x704e, 0x0, 0x0);
        gbc.writeMem(0x957c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xad03);
        EXPECT(gbc.pc(), 0x957e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x957c), 0xcb);
        EXPECT(gbc.readMem(0x957d), 0x11);
        // CB 11 0180
        gbc.setState(0xeb13, 0x2915, 0x1f50, 0xf665, 0x4752, 0xbc1d, 0x1, 0x0);
        gbc.writeMem(0xeb13, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x2915);
        EXPECT(gbc.pc(), 0xeb15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb13), 0xcb);
        EXPECT(gbc.readMem(0xeb14), 0x11);
        // CB 11 0181
        gbc.setState(0x4625, 0xe7a1, 0x4fc0, 0x1209, 0x3361, 0xf8fc, 0x1, 0x1);
        gbc.writeMem(0x4625, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xe7a1);
        EXPECT(gbc.pc(), 0x4627);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0182
        gbc.setState(0x2515, 0x8fed, 0xef50, 0x8bf7, 0xf9c2, 0x1a41, 0x1, 0x0);
        gbc.writeMem(0x2515, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x8fed);
        EXPECT(gbc.pc(), 0x2517);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0183
        gbc.setState(0xb6a1, 0x68ef, 0x8020, 0xf55d, 0x2116, 0xca00, 0x0, 0x0);
        gbc.writeMem(0xb6a1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x68ef);
        EXPECT(gbc.pc(), 0xb6a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6a1), 0xcb);
        EXPECT(gbc.readMem(0xb6a2), 0x11);
        // CB 11 0184
        gbc.setState(0x608, 0x20cd, 0x1760, 0x62dc, 0x8e81, 0x2ea0, 0x1, 0x0);
        gbc.writeMem(0x608, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x20cd);
        EXPECT(gbc.pc(), 0x60a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0185
        gbc.setState(0x861c, 0x64f3, 0xf360, 0x4c08, 0x56ee, 0x6a24, 0x0, 0x0);
        gbc.writeMem(0x861c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x64f3);
        EXPECT(gbc.pc(), 0x861e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x861c), 0xcb);
        EXPECT(gbc.readMem(0x861d), 0x11);
        // CB 11 0186
        gbc.setState(0x111e, 0x4999, 0x37a0, 0x37da, 0x29ba, 0xb58f, 0x1, 0x0);
        gbc.writeMem(0x111e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4999);
        EXPECT(gbc.pc(), 0x1120);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0187
        gbc.setState(0xeefb, 0xbe2f, 0xe800, 0xa244, 0x74cc, 0x1b4e, 0x1, 0x0);
        gbc.writeMem(0xeefb, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xbe2f);
        EXPECT(gbc.pc(), 0xeefd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeefb), 0xcb);
        EXPECT(gbc.readMem(0xeefc), 0x11);
        // CB 11 0188
        gbc.setState(0xbfab, 0x33b0, 0xa9f0, 0x6a3b, 0xbb2, 0xe5a5, 0x0, 0x1);
        gbc.writeMem(0xbfab, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x33b0);
        EXPECT(gbc.pc(), 0xbfad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfab), 0xcb);
        EXPECT(gbc.readMem(0xbfac), 0x11);
        // CB 11 0189
        gbc.setState(0x6276, 0xda8c, 0xcf50, 0xc59c, 0xc9d7, 0x8b2d, 0x0, 0x0);
        gbc.writeMem(0x6276, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xda8c);
        EXPECT(gbc.pc(), 0x6278);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 018A
        gbc.setState(0xdbee, 0xd10e, 0xa4a0, 0xbdab, 0x2a14, 0xf9f0, 0x1, 0x1);
        gbc.writeMem(0xdbee, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xd10e);
        EXPECT(gbc.pc(), 0xdbf0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbee), 0xcb);
        EXPECT(gbc.readMem(0xdbef), 0x11);
        // CB 11 018B
        gbc.setState(0x4b84, 0x880f, 0x8a00, 0xa303, 0x300c, 0xb268, 0x1, 0x0);
        gbc.writeMem(0x4b84, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x880f);
        EXPECT(gbc.pc(), 0x4b86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 018C
        gbc.setState(0x3983, 0x5cf2, 0xff60, 0xfddf, 0x977b, 0x6074, 0x1, 0x1);
        gbc.writeMem(0x3983, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x5cf2);
        EXPECT(gbc.pc(), 0x3985);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 018D
        gbc.setState(0x856d, 0x4b53, 0x3260, 0xac1c, 0x1f6d, 0xab3e, 0x1, 0x0);
        gbc.writeMem(0x856d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x4b53);
        EXPECT(gbc.pc(), 0x856f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x856d), 0xcb);
        EXPECT(gbc.readMem(0x856e), 0x11);
        // CB 11 018E
        gbc.setState(0x3d90, 0x9e48, 0x41a0, 0x15eb, 0xf6be, 0x5c2c, 0x0, 0x1);
        gbc.writeMem(0x3d90, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x9e48);
        EXPECT(gbc.pc(), 0x3d92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 018F
        gbc.setState(0x3b20, 0x273c, 0x5220, 0x1ff9, 0x8d47, 0x406f, 0x0, 0x0);
        gbc.writeMem(0x3b20, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x273c);
        EXPECT(gbc.pc(), 0x3b22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0190
        gbc.setState(0xd0dc, 0x654e, 0x4a50, 0x7980, 0x1695, 0x19df, 0x1, 0x1);
        gbc.writeMem(0xd0dc, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x654e);
        EXPECT(gbc.pc(), 0xd0de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0dc), 0xcb);
        EXPECT(gbc.readMem(0xd0dd), 0x11);
        // CB 11 0191
        gbc.setState(0x11d3, 0xcd84, 0x8970, 0xf7e3, 0xe2f0, 0xadfe, 0x1, 0x1);
        gbc.writeMem(0x11d3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xcd84);
        EXPECT(gbc.pc(), 0x11d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0192
        gbc.setState(0x4817, 0x25ea, 0xe650, 0xca12, 0xc513, 0x680a, 0x0, 0x0);
        gbc.writeMem(0x4817, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x25ea);
        EXPECT(gbc.pc(), 0x4819);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0193
        gbc.setState(0x188d, 0x7e70, 0x75b0, 0x12ec, 0x1cc6, 0x92eb, 0x0, 0x0);
        gbc.writeMem(0x188d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x7e70);
        EXPECT(gbc.pc(), 0x188f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0195
        gbc.setState(0xbe34, 0xf2b1, 0xbd30, 0xb7fe, 0x30db, 0x3cf, 0x1, 0x1);
        gbc.writeMem(0xbe34, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xf2b1);
        EXPECT(gbc.pc(), 0xbe36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe34), 0xcb);
        EXPECT(gbc.readMem(0xbe35), 0x11);
        // CB 11 0197
        gbc.setState(0xce4e, 0xd089, 0x4100, 0x7eee, 0xfc4, 0x1238, 0x0, 0x0);
        gbc.writeMem(0xce4e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xd089);
        EXPECT(gbc.pc(), 0xce50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce4e), 0xcb);
        EXPECT(gbc.readMem(0xce4f), 0x11);
        // CB 11 0198
        gbc.setState(0xb942, 0xe5b0, 0x1080, 0x5140, 0x4e23, 0x2966, 0x1, 0x0);
        gbc.writeMem(0xb942, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xe5b0);
        EXPECT(gbc.pc(), 0xb944);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb942), 0xcb);
        EXPECT(gbc.readMem(0xb943), 0x11);
        // CB 11 0199
        gbc.setState(0xb07b, 0x9f, 0x7700, 0x975b, 0xc980, 0x645a, 0x1, 0x1);
        gbc.writeMem(0xb07b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x9f);
        EXPECT(gbc.pc(), 0xb07d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb07b), 0xcb);
        EXPECT(gbc.readMem(0xb07c), 0x11);
        // CB 11 019A
        gbc.setState(0x4e64, 0x742a, 0x94e0, 0xcbfe, 0x5a45, 0x4611, 0x1, 0x1);
        gbc.writeMem(0x4e64, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x742a);
        EXPECT(gbc.pc(), 0x4e66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 019B
        gbc.setState(0xb088, 0x38e3, 0x2d30, 0xe467, 0x1874, 0x9019, 0x1, 0x0);
        gbc.writeMem(0xb088, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x38e3);
        EXPECT(gbc.pc(), 0xb08a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb088), 0xcb);
        EXPECT(gbc.readMem(0xb089), 0x11);
        // CB 11 019C
        gbc.setState(0x1119, 0xb66a, 0x980, 0xe1d9, 0x1354, 0x549a, 0x0, 0x1);
        gbc.writeMem(0x1119, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xb66a);
        EXPECT(gbc.pc(), 0x111b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 019D
        gbc.setState(0x87fa, 0x2b97, 0xf4c0, 0x827b, 0xd5b6, 0xe089, 0x0, 0x0);
        gbc.writeMem(0x87fa, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x2b97);
        EXPECT(gbc.pc(), 0x87fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87fa), 0xcb);
        EXPECT(gbc.readMem(0x87fb), 0x11);
        // CB 11 019E
        gbc.setState(0x5687, 0xd4be, 0xa190, 0xa424, 0xe1dc, 0x58df, 0x1, 0x1);
        gbc.writeMem(0x5687, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xd4be);
        EXPECT(gbc.pc(), 0x5689);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 019F
        gbc.setState(0xa230, 0x2de8, 0x7040, 0x25eb, 0xcf70, 0xcd06, 0x0, 0x0);
        gbc.writeMem(0xa230, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x2de8);
        EXPECT(gbc.pc(), 0xa232);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa230), 0xcb);
        EXPECT(gbc.readMem(0xa231), 0x11);
        // CB 11 01A0
        gbc.setState(0xe4bc, 0xf012, 0xd320, 0x4ca1, 0x6588, 0x285, 0x1, 0x0);
        gbc.writeMem(0xe4bc, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xf012);
        EXPECT(gbc.pc(), 0xe4be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4bc), 0xcb);
        EXPECT(gbc.readMem(0xe4bd), 0x11);
        // CB 11 01A1
        gbc.setState(0x3663, 0x8121, 0x28d0, 0x2464, 0x545d, 0x22, 0x1, 0x0);
        gbc.writeMem(0x3663, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x8121);
        EXPECT(gbc.pc(), 0x3665);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01A2
        gbc.setState(0xd107, 0xda1d, 0xb420, 0x910c, 0x24f, 0xdf9, 0x1, 0x1);
        gbc.writeMem(0xd107, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xda1d);
        EXPECT(gbc.pc(), 0xd109);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd107), 0xcb);
        EXPECT(gbc.readMem(0xd108), 0x11);
        // CB 11 01A3
        gbc.setState(0x5043, 0x8a57, 0x5850, 0xfffa, 0x74bd, 0x6599, 0x1, 0x0);
        gbc.writeMem(0x5043, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x8a57);
        EXPECT(gbc.pc(), 0x5045);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01A4
        gbc.setState(0x4702, 0xffdd, 0x1760, 0x9e49, 0xf75c, 0x5dac, 0x1, 0x0);
        gbc.writeMem(0x4702, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xffdd);
        EXPECT(gbc.pc(), 0x4704);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01A6
        gbc.setState(0x77b3, 0x3d6c, 0x8b00, 0x58d1, 0x9c98, 0xe50, 0x1, 0x0);
        gbc.writeMem(0x77b3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x3d6c);
        EXPECT(gbc.pc(), 0x77b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01A7
        gbc.setState(0x1345, 0x9ed3, 0x2ef0, 0xe55c, 0xd674, 0x855a, 0x0, 0x0);
        gbc.writeMem(0x1345, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x9ed3);
        EXPECT(gbc.pc(), 0x1347);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01A8
        gbc.setState(0xae36, 0xe700, 0x64d0, 0xdcb9, 0xac7f, 0xc1a5, 0x0, 0x1);
        gbc.writeMem(0xae36, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xe700);
        EXPECT(gbc.pc(), 0xae38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae36), 0xcb);
        EXPECT(gbc.readMem(0xae37), 0x11);
        // CB 11 01A9
        gbc.setState(0xefc6, 0xeb52, 0xd8c0, 0xa3fb, 0xc347, 0x87c9, 0x0, 0x0);
        gbc.writeMem(0xefc6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xeb52);
        EXPECT(gbc.pc(), 0xefc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefc6), 0xcb);
        EXPECT(gbc.readMem(0xefc7), 0x11);
        // CB 11 01AA
        gbc.setState(0x6da5, 0xba6, 0x8fb0, 0x822d, 0x2f56, 0x8954, 0x1, 0x1);
        gbc.writeMem(0x6da5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xba6);
        EXPECT(gbc.pc(), 0x6da7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01AB
        gbc.setState(0xea88, 0xcbe4, 0xc4b0, 0x7384, 0xc997, 0xa52c, 0x1, 0x1);
        gbc.writeMem(0xea88, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xcbe4);
        EXPECT(gbc.pc(), 0xea8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea88), 0xcb);
        EXPECT(gbc.readMem(0xea89), 0x11);
        // CB 11 01AC
        gbc.setState(0xef0c, 0xda5e, 0xa550, 0xd96, 0xf64d, 0xd49, 0x1, 0x1);
        gbc.writeMem(0xef0c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xda5e);
        EXPECT(gbc.pc(), 0xef0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef0c), 0xcb);
        EXPECT(gbc.readMem(0xef0d), 0x11);
        // CB 11 01AD
        gbc.setState(0xb2a, 0xb379, 0x84c0, 0x5305, 0xe6bc, 0x9660, 0x0, 0x0);
        gbc.writeMem(0xb2a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xb379);
        EXPECT(gbc.pc(), 0xb2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01AE
        gbc.setState(0x3ddc, 0xeece, 0x3310, 0xbc0, 0x5a30, 0x9c54, 0x0, 0x0);
        gbc.writeMem(0x3ddc, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xeece);
        EXPECT(gbc.pc(), 0x3dde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01AF
        gbc.setState(0xa559, 0x198f, 0x6540, 0x42f9, 0xa949, 0x4b06, 0x0, 0x0);
        gbc.writeMem(0xa559, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x198f);
        EXPECT(gbc.pc(), 0xa55b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa559), 0xcb);
        EXPECT(gbc.readMem(0xa55a), 0x11);
        // CB 11 01B0
        gbc.setState(0x3c98, 0x73f4, 0x1b30, 0x117, 0xb326, 0x1ccd, 0x1, 0x1);
        gbc.writeMem(0x3c98, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x73f4);
        EXPECT(gbc.pc(), 0x3c9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01B1
        gbc.setState(0x9cfa, 0xafea, 0x6a10, 0x561e, 0x6f2b, 0x5044, 0x0, 0x0);
        gbc.writeMem(0x9cfa, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xafea);
        EXPECT(gbc.pc(), 0x9cfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cfa), 0xcb);
        EXPECT(gbc.readMem(0x9cfb), 0x11);
        // CB 11 01B2
        gbc.setState(0x8846, 0xb5bb, 0xc600, 0xe16b, 0xa84b, 0x7b23, 0x0, 0x1);
        gbc.writeMem(0x8846, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xb5bb);
        EXPECT(gbc.pc(), 0x8848);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8846), 0xcb);
        EXPECT(gbc.readMem(0x8847), 0x11);
        // CB 11 01B4
        gbc.setState(0xdf74, 0x4902, 0x5e0, 0xe691, 0x7de3, 0x9e07, 0x1, 0x0);
        gbc.writeMem(0xdf74, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x4902);
        EXPECT(gbc.pc(), 0xdf76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf74), 0xcb);
        EXPECT(gbc.readMem(0xdf75), 0x11);
        // CB 11 01B5
        gbc.setState(0xc2ee, 0x2f2a, 0x5b30, 0xe17e, 0x25ed, 0x73f1, 0x1, 0x0);
        gbc.writeMem(0xc2ee, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x2f2a);
        EXPECT(gbc.pc(), 0xc2f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2ee), 0xcb);
        EXPECT(gbc.readMem(0xc2ef), 0x11);
        // CB 11 01B6
        gbc.setState(0x234b, 0xe079, 0x9300, 0xf2c, 0xfb5e, 0x63f9, 0x1, 0x1);
        gbc.writeMem(0x234b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xe079);
        EXPECT(gbc.pc(), 0x234d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01B7
        gbc.setState(0xa2c7, 0x727e, 0x3670, 0x30d9, 0xb118, 0x5e7, 0x1, 0x1);
        gbc.writeMem(0xa2c7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x727e);
        EXPECT(gbc.pc(), 0xa2c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2c7), 0xcb);
        EXPECT(gbc.readMem(0xa2c8), 0x11);
        // CB 11 01B8
        gbc.setState(0xd3f0, 0x26e3, 0x9ef0, 0xc89a, 0x7e27, 0xb1ab, 0x0, 0x0);
        gbc.writeMem(0xd3f0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x26e3);
        EXPECT(gbc.pc(), 0xd3f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3f0), 0xcb);
        EXPECT(gbc.readMem(0xd3f1), 0x11);
        // CB 11 01B9
        gbc.setState(0x142b, 0x6e3f, 0x2330, 0xef59, 0x600f, 0x78d5, 0x0, 0x1);
        gbc.writeMem(0x142b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x6e3f);
        EXPECT(gbc.pc(), 0x142d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01BA
        gbc.setState(0xdc9a, 0x95f1, 0x23c0, 0x5c52, 0x7b24, 0x7538, 0x0, 0x0);
        gbc.writeMem(0xdc9a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x95f1);
        EXPECT(gbc.pc(), 0xdc9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc9a), 0xcb);
        EXPECT(gbc.readMem(0xdc9b), 0x11);
        // CB 11 01BB
        gbc.setState(0x1768, 0x4295, 0xfef0, 0xc628, 0x9f, 0x48c1, 0x0, 0x1);
        gbc.writeMem(0x1768, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x4295);
        EXPECT(gbc.pc(), 0x176a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01BC
        gbc.setState(0x4e97, 0xa897, 0xa0d0, 0x9a2f, 0x9876, 0x77b7, 0x0, 0x1);
        gbc.writeMem(0x4e97, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xa897);
        EXPECT(gbc.pc(), 0x4e99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01BD
        gbc.setState(0x8174, 0x492c, 0x8d00, 0x514e, 0x57fa, 0x451d, 0x0, 0x0);
        gbc.writeMem(0x8174, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x492c);
        EXPECT(gbc.pc(), 0x8176);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8174), 0xcb);
        EXPECT(gbc.readMem(0x8175), 0x11);
        // CB 11 01BE
        gbc.setState(0x61fb, 0x372a, 0x7840, 0x6343, 0xc87e, 0x253e, 0x1, 0x1);
        gbc.writeMem(0x61fb, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x372a);
        EXPECT(gbc.pc(), 0x61fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01BF
        gbc.setState(0xb10d, 0x555a, 0xc60, 0x7b96, 0x2e43, 0x1497, 0x0, 0x1);
        gbc.writeMem(0xb10d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x555a);
        EXPECT(gbc.pc(), 0xb10f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb10d), 0xcb);
        EXPECT(gbc.readMem(0xb10e), 0x11);
        // CB 11 01C0
        gbc.setState(0x7c8, 0xefdd, 0xd90, 0xf8d, 0xa848, 0x11ad, 0x1, 0x0);
        gbc.writeMem(0x7c8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xefdd);
        EXPECT(gbc.pc(), 0x7ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01C1
        gbc.setState(0xde22, 0x748b, 0x8de0, 0x4941, 0xee95, 0xbc25, 0x1, 0x1);
        gbc.writeMem(0xde22, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x748b);
        EXPECT(gbc.pc(), 0xde24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde22), 0xcb);
        EXPECT(gbc.readMem(0xde23), 0x11);
        // CB 11 01C2
        gbc.setState(0x26da, 0xbba, 0xe040, 0xc6f3, 0x490, 0x7ae0, 0x1, 0x1);
        gbc.writeMem(0x26da, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xbba);
        EXPECT(gbc.pc(), 0x26dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01C4
        gbc.setState(0xe1ae, 0xe714, 0xe5d0, 0xb338, 0x5e2c, 0xdcc4, 0x1, 0x1);
        gbc.writeMem(0xe1ae, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xe714);
        EXPECT(gbc.pc(), 0xe1b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1ae), 0xcb);
        EXPECT(gbc.readMem(0xe1af), 0x11);
        // CB 11 01C5
        gbc.setState(0x964c, 0xd35b, 0x4c10, 0xc25, 0x8738, 0x4eb1, 0x0, 0x1);
        gbc.writeMem(0x964c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xd35b);
        EXPECT(gbc.pc(), 0x964e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x964c), 0xcb);
        EXPECT(gbc.readMem(0x964d), 0x11);
        // CB 11 01C6
        gbc.setState(0x38f6, 0xde70, 0xc4e0, 0x82c8, 0x4509, 0x1104, 0x0, 0x1);
        gbc.writeMem(0x38f6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xde70);
        EXPECT(gbc.pc(), 0x38f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01C7
        gbc.setState(0x940f, 0xf968, 0x6bb0, 0x4a72, 0x29ff, 0xaef6, 0x1, 0x1);
        gbc.writeMem(0x940f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xf968);
        EXPECT(gbc.pc(), 0x9411);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x940f), 0xcb);
        EXPECT(gbc.readMem(0x9410), 0x11);
        // CB 11 01C8
        gbc.setState(0x35eb, 0x9a6, 0xfe30, 0xcf49, 0x292c, 0x6a9d, 0x1, 0x1);
        gbc.writeMem(0x35eb, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x9a6);
        EXPECT(gbc.pc(), 0x35ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01C9
        gbc.setState(0xee56, 0x8c78, 0x9be0, 0x35d, 0x6f69, 0x1a50, 0x1, 0x1);
        gbc.writeMem(0xee56, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x8c78);
        EXPECT(gbc.pc(), 0xee58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee56), 0xcb);
        EXPECT(gbc.readMem(0xee57), 0x11);
        // CB 11 01CA
        gbc.setState(0x2034, 0x6885, 0x5240, 0x8fd6, 0x898f, 0x7cf0, 0x0, 0x0);
        gbc.writeMem(0x2034, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x6885);
        EXPECT(gbc.pc(), 0x2036);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01CB
        gbc.setState(0x66c5, 0xd58e, 0x6510, 0xe179, 0x326d, 0xc020, 0x0, 0x1);
        gbc.writeMem(0x66c5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd58e);
        EXPECT(gbc.pc(), 0x66c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01CC
        gbc.setState(0x27fa, 0x9cee, 0x70b0, 0xbb1a, 0xed01, 0xa81b, 0x0, 0x1);
        gbc.writeMem(0x27fa, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x9cee);
        EXPECT(gbc.pc(), 0x27fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01CD
        gbc.setState(0xb332, 0x682e, 0xc700, 0x893b, 0x3c8a, 0x8caa, 0x0, 0x0);
        gbc.writeMem(0xb332, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x682e);
        EXPECT(gbc.pc(), 0xb334);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb332), 0xcb);
        EXPECT(gbc.readMem(0xb333), 0x11);
        // CB 11 01CE
        gbc.setState(0x2270, 0x1e7a, 0xd240, 0x771c, 0xbf9, 0x43bf, 0x0, 0x1);
        gbc.writeMem(0x2270, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x1e7a);
        EXPECT(gbc.pc(), 0x2272);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01CF
        gbc.setState(0xafc, 0x50ff, 0x15c0, 0x8693, 0x7656, 0xa110, 0x0, 0x0);
        gbc.writeMem(0xafc, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x50ff);
        EXPECT(gbc.pc(), 0xafe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01D0
        gbc.setState(0xba7, 0x57ad, 0x2720, 0x812, 0x8ab0, 0xfcb5, 0x0, 0x0);
        gbc.writeMem(0xba7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x57ad);
        EXPECT(gbc.pc(), 0xba9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01D1
        gbc.setState(0x2d30, 0x1cc, 0xe920, 0x9044, 0x17e2, 0xd3b9, 0x1, 0x1);
        gbc.writeMem(0x2d30, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x1cc);
        EXPECT(gbc.pc(), 0x2d32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01D2
        gbc.setState(0x6dde, 0xa0ba, 0x2b80, 0xec1f, 0xbd1f, 0x2b37, 0x0, 0x0);
        gbc.writeMem(0x6dde, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xa0ba);
        EXPECT(gbc.pc(), 0x6de0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01D3
        gbc.setState(0x8c92, 0x671, 0x63b0, 0xbb56, 0xf80c, 0x839, 0x0, 0x0);
        gbc.writeMem(0x8c92, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x671);
        EXPECT(gbc.pc(), 0x8c94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c92), 0xcb);
        EXPECT(gbc.readMem(0x8c93), 0x11);
        // CB 11 01D4
        gbc.setState(0x35ed, 0xdf1e, 0xef10, 0x61eb, 0x3da9, 0xcbb9, 0x0, 0x1);
        gbc.writeMem(0x35ed, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xdf1e);
        EXPECT(gbc.pc(), 0x35ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01D5
        gbc.setState(0xdfc5, 0x674f, 0x3770, 0xcfb9, 0x2155, 0x373c, 0x1, 0x0);
        gbc.writeMem(0xdfc5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x674f);
        EXPECT(gbc.pc(), 0xdfc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfc5), 0xcb);
        EXPECT(gbc.readMem(0xdfc6), 0x11);
        // CB 11 01D6
        gbc.setState(0xbf9f, 0xc057, 0x9750, 0xae57, 0xe57a, 0xaa5a, 0x0, 0x0);
        gbc.writeMem(0xbf9f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xc057);
        EXPECT(gbc.pc(), 0xbfa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf9f), 0xcb);
        EXPECT(gbc.readMem(0xbfa0), 0x11);
        // CB 11 01D7
        gbc.setState(0x6f69, 0xe164, 0x97d0, 0xa8bd, 0xdf04, 0xe08f, 0x0, 0x0);
        gbc.writeMem(0x6f69, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe164);
        EXPECT(gbc.pc(), 0x6f6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01D8
        gbc.setState(0xee0e, 0x9a5c, 0x5f20, 0xc4ef, 0xe623, 0x7488, 0x0, 0x0);
        gbc.writeMem(0xee0e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x9a5c);
        EXPECT(gbc.pc(), 0xee10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee0e), 0xcb);
        EXPECT(gbc.readMem(0xee0f), 0x11);
        // CB 11 01D9
        gbc.setState(0x9583, 0x2828, 0x920, 0x2e27, 0xe5e0, 0x209a, 0x1, 0x0);
        gbc.writeMem(0x9583, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x2828);
        EXPECT(gbc.pc(), 0x9585);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9583), 0xcb);
        EXPECT(gbc.readMem(0x9584), 0x11);
        // CB 11 01DA
        gbc.setState(0x3963, 0xe4f2, 0x96c0, 0xcacd, 0x391d, 0x7f3d, 0x1, 0x1);
        gbc.writeMem(0x3963, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xe4f2);
        EXPECT(gbc.pc(), 0x3965);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01DB
        gbc.setState(0x386d, 0xf113, 0xafc0, 0x442f, 0x308b, 0xd154, 0x1, 0x1);
        gbc.writeMem(0x386d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xf113);
        EXPECT(gbc.pc(), 0x386f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01DC
        gbc.setState(0xca78, 0x4067, 0xa460, 0xf8ee, 0xe824, 0x6a60, 0x1, 0x1);
        gbc.writeMem(0xca78, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x4067);
        EXPECT(gbc.pc(), 0xca7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca78), 0xcb);
        EXPECT(gbc.readMem(0xca79), 0x11);
        // CB 11 01DF
        gbc.setState(0xb2d5, 0x6bc2, 0xaa60, 0x4ded, 0xfacd, 0xf2a8, 0x0, 0x0);
        gbc.writeMem(0xb2d5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x6bc2);
        EXPECT(gbc.pc(), 0xb2d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2d5), 0xcb);
        EXPECT(gbc.readMem(0xb2d6), 0x11);
        // CB 11 01E0
        gbc.setState(0x72d7, 0x3b3e, 0xd6e0, 0x2724, 0x3b7, 0xa85b, 0x0, 0x1);
        gbc.writeMem(0x72d7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x3b3e);
        EXPECT(gbc.pc(), 0x72d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01E1
        gbc.setState(0x6474, 0x63b4, 0x8230, 0x6303, 0xe2e3, 0x593b, 0x0, 0x1);
        gbc.writeMem(0x6474, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x63b4);
        EXPECT(gbc.pc(), 0x6476);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01E2
        gbc.setState(0x5046, 0xd4f1, 0x9b40, 0xce8b, 0xba71, 0xe072, 0x0, 0x0);
        gbc.writeMem(0x5046, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd4f1);
        EXPECT(gbc.pc(), 0x5048);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01E3
        gbc.setState(0x363c, 0x2d3a, 0x72a0, 0x229d, 0x4d5f, 0xf59f, 0x1, 0x0);
        gbc.writeMem(0x363c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x2d3a);
        EXPECT(gbc.pc(), 0x363e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01E5
        gbc.setState(0xd3ec, 0x630c, 0x61b0, 0x99cc, 0x41f4, 0x6a95, 0x1, 0x1);
        gbc.writeMem(0xd3ec, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x630c);
        EXPECT(gbc.pc(), 0xd3ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3ec), 0xcb);
        EXPECT(gbc.readMem(0xd3ed), 0x11);
        // CB 11 01E6
        gbc.setState(0x440a, 0xb58e, 0x7990, 0x569, 0x6060, 0x3101, 0x1, 0x1);
        gbc.writeMem(0x440a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xb58e);
        EXPECT(gbc.pc(), 0x440c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01E7
        gbc.setState(0x70e7, 0xc18, 0xba90, 0x3dc9, 0x723a, 0x105, 0x0, 0x1);
        gbc.writeMem(0x70e7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xc18);
        EXPECT(gbc.pc(), 0x70e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01E8
        gbc.setState(0xcf60, 0xe87e, 0xbba0, 0x25cc, 0x44a, 0x4a22, 0x1, 0x0);
        gbc.writeMem(0xcf60, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xe87e);
        EXPECT(gbc.pc(), 0xcf62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf60), 0xcb);
        EXPECT(gbc.readMem(0xcf61), 0x11);
        // CB 11 01E9
        gbc.setState(0xa37f, 0xe6c9, 0x4eb0, 0x954f, 0x3ffb, 0xa18f, 0x0, 0x1);
        gbc.writeMem(0xa37f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe6c9);
        EXPECT(gbc.pc(), 0xa381);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa37f), 0xcb);
        EXPECT(gbc.readMem(0xa380), 0x11);
        // CB 11 01EA
        gbc.setState(0x862f, 0xe2fc, 0xc890, 0xd65a, 0xf04d, 0x7515, 0x1, 0x1);
        gbc.writeMem(0x862f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xe2fc);
        EXPECT(gbc.pc(), 0x8631);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x862f), 0xcb);
        EXPECT(gbc.readMem(0x8630), 0x11);
        // CB 11 01EC
        gbc.setState(0x3387, 0xb6b0, 0xc7a0, 0x8323, 0x8826, 0x333, 0x1, 0x0);
        gbc.writeMem(0x3387, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xb6b0);
        EXPECT(gbc.pc(), 0x3389);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01ED
        gbc.setState(0xeb59, 0x579b, 0xcad0, 0xc210, 0x3d70, 0x1f01, 0x1, 0x1);
        gbc.writeMem(0xeb59, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x579b);
        EXPECT(gbc.pc(), 0xeb5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb59), 0xcb);
        EXPECT(gbc.readMem(0xeb5a), 0x11);
        // CB 11 01EE
        gbc.setState(0x4379, 0xefef, 0x6d20, 0x857f, 0x7123, 0x225e, 0x1, 0x0);
        gbc.writeMem(0x4379, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xefef);
        EXPECT(gbc.pc(), 0x437b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01EF
        gbc.setState(0x2e44, 0x5615, 0xd3f0, 0x6341, 0x4814, 0x2888, 0x1, 0x1);
        gbc.writeMem(0x2e44, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x5615);
        EXPECT(gbc.pc(), 0x2e46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01F0
        gbc.setState(0x5945, 0xf60e, 0xa690, 0xd81a, 0xf7d7, 0x715b, 0x0, 0x1);
        gbc.writeMem(0x5945, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xf60e);
        EXPECT(gbc.pc(), 0x5947);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01F1
        gbc.setState(0x8b0b, 0x434d, 0x1460, 0x602f, 0x3024, 0x5bc5, 0x0, 0x1);
        gbc.writeMem(0x8b0b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x434d);
        EXPECT(gbc.pc(), 0x8b0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b0b), 0xcb);
        EXPECT(gbc.readMem(0x8b0c), 0x11);
        // CB 11 01F2
        gbc.setState(0x1466, 0x44d, 0x270, 0xb698, 0xac78, 0x1281, 0x1, 0x0);
        gbc.writeMem(0x1466, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x44d);
        EXPECT(gbc.pc(), 0x1468);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01F3
        gbc.setState(0x732c, 0xe0a2, 0xd350, 0x5e58, 0x2931, 0x71df, 0x0, 0x1);
        gbc.writeMem(0x732c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xe0a2);
        EXPECT(gbc.pc(), 0x732e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01F4
        gbc.setState(0xc437, 0xd16d, 0x6dd0, 0x854, 0x5870, 0xd5a5, 0x1, 0x0);
        gbc.writeMem(0xc437, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xd16d);
        EXPECT(gbc.pc(), 0xc439);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc437), 0xcb);
        EXPECT(gbc.readMem(0xc438), 0x11);
        // CB 11 01F5
        gbc.setState(0x5e11, 0x4852, 0x8a70, 0xbeea, 0x1121, 0x371c, 0x0, 0x1);
        gbc.writeMem(0x5e11, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x4852);
        EXPECT(gbc.pc(), 0x5e13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01F6
        gbc.setState(0x946e, 0x47dc, 0x2da0, 0xdbf4, 0x3cc0, 0x72d2, 0x1, 0x0);
        gbc.writeMem(0x946e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x47dc);
        EXPECT(gbc.pc(), 0x9470);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x946e), 0xcb);
        EXPECT(gbc.readMem(0x946f), 0x11);
        // CB 11 01F7
        gbc.setState(0xe460, 0x7a73, 0xef0, 0xd48a, 0x7ce4, 0xd228, 0x0, 0x0);
        gbc.writeMem(0xe460, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x7a73);
        EXPECT(gbc.pc(), 0xe462);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe460), 0xcb);
        EXPECT(gbc.readMem(0xe461), 0x11);
        // CB 11 01F8
        gbc.setState(0x1eb7, 0xd3e7, 0x3a70, 0xc3d7, 0x3ade, 0x516, 0x1, 0x0);
        gbc.writeMem(0x1eb7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xd3e7);
        EXPECT(gbc.pc(), 0x1eb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 01F9
        gbc.setState(0x30fe, 0x43e7, 0x7c60, 0xa93a, 0xae, 0xf9ce, 0x0, 0x1);
        gbc.writeMem(0x30fe, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x43e7);
        EXPECT(gbc.pc(), 0x3100);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 01FA
        gbc.setState(0x83b4, 0x3c5b, 0x2fb0, 0x4a5f, 0x4d46, 0xcbba, 0x1, 0x1);
        gbc.writeMem(0x83b4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x3c5b);
        EXPECT(gbc.pc(), 0x83b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83b4), 0xcb);
        EXPECT(gbc.readMem(0x83b5), 0x11);
        // CB 11 01FB
        gbc.setState(0xa3a7, 0xf285, 0x9dc0, 0x59a, 0x4b1e, 0x5652, 0x0, 0x0);
        gbc.writeMem(0xa3a7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xf285);
        EXPECT(gbc.pc(), 0xa3a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3a7), 0xcb);
        EXPECT(gbc.readMem(0xa3a8), 0x11);
        // CB 11 01FC
        gbc.setState(0xd6e9, 0x4d3e, 0x6250, 0x2b90, 0x1b15, 0x20c6, 0x1, 0x1);
        gbc.writeMem(0xd6e9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x4d3e);
        EXPECT(gbc.pc(), 0xd6eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6e9), 0xcb);
        EXPECT(gbc.readMem(0xd6ea), 0x11);
        // CB 11 01FD
        gbc.setState(0xdb29, 0x440, 0x1470, 0xadb0, 0x5898, 0xebb9, 0x0, 0x0);
        gbc.writeMem(0xdb29, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x440);
        EXPECT(gbc.pc(), 0xdb2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb29), 0xcb);
        EXPECT(gbc.readMem(0xdb2a), 0x11);
        // CB 11 01FE
        gbc.setState(0xa518, 0x683b, 0xa0b0, 0xee2f, 0x9353, 0x1cd4, 0x0, 0x1);
        gbc.writeMem(0xa518, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x683b);
        EXPECT(gbc.pc(), 0xa51a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa518), 0xcb);
        EXPECT(gbc.readMem(0xa519), 0x11);
        // CB 11 01FF
        gbc.setState(0x3bb8, 0xde9c, 0xcde0, 0xb869, 0x9177, 0x51b3, 0x0, 0x0);
        gbc.writeMem(0x3bb8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xde9c);
        EXPECT(gbc.pc(), 0x3bba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0200
        gbc.setState(0x3a8d, 0x245b, 0xc180, 0xfba1, 0xe25d, 0x1955, 0x0, 0x1);
        gbc.writeMem(0x3a8d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x245b);
        EXPECT(gbc.pc(), 0x3a8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0201
        gbc.setState(0xac5a, 0x75ae, 0x3ef0, 0x1603, 0x41ae, 0xb6a3, 0x0, 0x0);
        gbc.writeMem(0xac5a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x75ae);
        EXPECT(gbc.pc(), 0xac5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac5a), 0xcb);
        EXPECT(gbc.readMem(0xac5b), 0x11);
        // CB 11 0202
        gbc.setState(0xc5b7, 0xe1fd, 0x9cd0, 0x7555, 0xab8e, 0xb6b2, 0x1, 0x0);
        gbc.writeMem(0xc5b7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xe1fd);
        EXPECT(gbc.pc(), 0xc5b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5b7), 0xcb);
        EXPECT(gbc.readMem(0xc5b8), 0x11);
        // CB 11 0203
        gbc.setState(0x4b73, 0x8565, 0x99d0, 0x1dc1, 0xc57d, 0x25b2, 0x0, 0x1);
        gbc.writeMem(0x4b73, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x8565);
        EXPECT(gbc.pc(), 0x4b75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0204
        gbc.setState(0x81f2, 0xd378, 0xdb10, 0x19c4, 0x3be6, 0x8d77, 0x0, 0x1);
        gbc.writeMem(0x81f2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xd378);
        EXPECT(gbc.pc(), 0x81f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81f2), 0xcb);
        EXPECT(gbc.readMem(0x81f3), 0x11);
        // CB 11 0205
        gbc.setState(0x1493, 0xcd21, 0xafc0, 0xa4a3, 0x63d, 0x9509, 0x1, 0x0);
        gbc.writeMem(0x1493, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xcd21);
        EXPECT(gbc.pc(), 0x1495);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0206
        gbc.setState(0xe4f8, 0x9144, 0x7fc0, 0x263, 0xc414, 0x50c3, 0x1, 0x1);
        gbc.writeMem(0xe4f8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x9144);
        EXPECT(gbc.pc(), 0xe4fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4f8), 0xcb);
        EXPECT(gbc.readMem(0xe4f9), 0x11);
        // CB 11 0207
        gbc.setState(0x4238, 0x6b92, 0x9830, 0x80d, 0xf1a6, 0xd86d, 0x0, 0x0);
        gbc.writeMem(0x4238, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x6b92);
        EXPECT(gbc.pc(), 0x423a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0208
        gbc.setState(0xabec, 0xf336, 0x5430, 0xbdfa, 0x3b20, 0xec76, 0x0, 0x1);
        gbc.writeMem(0xabec, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xf336);
        EXPECT(gbc.pc(), 0xabee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabec), 0xcb);
        EXPECT(gbc.readMem(0xabed), 0x11);
        // CB 11 0209
        gbc.setState(0x8f5e, 0x71e8, 0x1f60, 0x834b, 0x9d42, 0x83a9, 0x1, 0x1);
        gbc.writeMem(0x8f5e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x71e8);
        EXPECT(gbc.pc(), 0x8f60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f5e), 0xcb);
        EXPECT(gbc.readMem(0x8f5f), 0x11);
        // CB 11 020A
        gbc.setState(0x8246, 0x8e70, 0x34f0, 0x628a, 0x3cc6, 0xda62, 0x1, 0x1);
        gbc.writeMem(0x8246, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x8e70);
        EXPECT(gbc.pc(), 0x8248);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8246), 0xcb);
        EXPECT(gbc.readMem(0x8247), 0x11);
        // CB 11 020B
        gbc.setState(0xd6a9, 0x978b, 0x6320, 0x89, 0xc16, 0x9ee1, 0x0, 0x0);
        gbc.writeMem(0xd6a9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x978b);
        EXPECT(gbc.pc(), 0xd6ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6a9), 0xcb);
        EXPECT(gbc.readMem(0xd6aa), 0x11);
        // CB 11 020C
        gbc.setState(0xa21d, 0xcf20, 0x95f0, 0xc578, 0x286b, 0xb6b1, 0x1, 0x1);
        gbc.writeMem(0xa21d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xcf20);
        EXPECT(gbc.pc(), 0xa21f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa21d), 0xcb);
        EXPECT(gbc.readMem(0xa21e), 0x11);
        // CB 11 020D
        gbc.setState(0xdb7c, 0xc919, 0xd270, 0xd76e, 0x6b77, 0x6e20, 0x0, 0x0);
        gbc.writeMem(0xdb7c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xc919);
        EXPECT(gbc.pc(), 0xdb7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb7c), 0xcb);
        EXPECT(gbc.readMem(0xdb7d), 0x11);
        // CB 11 020E
        gbc.setState(0x7386, 0x7c7f, 0xdab0, 0x81b4, 0x6ce7, 0x8c55, 0x1, 0x0);
        gbc.writeMem(0x7386, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x7c7f);
        EXPECT(gbc.pc(), 0x7388);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 020F
        gbc.setState(0xda91, 0xe1b7, 0xac70, 0xbad7, 0x95d, 0x2fbc, 0x0, 0x0);
        gbc.writeMem(0xda91, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xe1b7);
        EXPECT(gbc.pc(), 0xda93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda91), 0xcb);
        EXPECT(gbc.readMem(0xda92), 0x11);
        // CB 11 0210
        gbc.setState(0x9724, 0x9fe8, 0x5b40, 0xe00a, 0x38a, 0x9f73, 0x1, 0x1);
        gbc.writeMem(0x9724, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x9fe8);
        EXPECT(gbc.pc(), 0x9726);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9724), 0xcb);
        EXPECT(gbc.readMem(0x9725), 0x11);
        // CB 11 0211
        gbc.setState(0x671, 0x19a2, 0xdde0, 0x6fd2, 0x66a4, 0x6d85, 0x1, 0x1);
        gbc.writeMem(0x671, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x19a2);
        EXPECT(gbc.pc(), 0x673);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0212
        gbc.setState(0xd855, 0xea87, 0xd90, 0x4405, 0x7c3, 0x95fc, 0x1, 0x1);
        gbc.writeMem(0xd855, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xea87);
        EXPECT(gbc.pc(), 0xd857);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd855), 0xcb);
        EXPECT(gbc.readMem(0xd856), 0x11);
        // CB 11 0213
        gbc.setState(0x84f0, 0x929c, 0x2ec0, 0x8c7c, 0x9f0e, 0xdc77, 0x1, 0x1);
        gbc.writeMem(0x84f0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x929c);
        EXPECT(gbc.pc(), 0x84f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84f0), 0xcb);
        EXPECT(gbc.readMem(0x84f1), 0x11);
        // CB 11 0214
        gbc.setState(0xa81a, 0x3bd7, 0x9f90, 0x1fed, 0xda31, 0x78ad, 0x1, 0x1);
        gbc.writeMem(0xa81a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x3bd7);
        EXPECT(gbc.pc(), 0xa81c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa81a), 0xcb);
        EXPECT(gbc.readMem(0xa81b), 0x11);
        // CB 11 0215
        gbc.setState(0x88da, 0xd426, 0xb930, 0x7732, 0x30aa, 0x6b84, 0x1, 0x0);
        gbc.writeMem(0x88da, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xd426);
        EXPECT(gbc.pc(), 0x88dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88da), 0xcb);
        EXPECT(gbc.readMem(0x88db), 0x11);
        // CB 11 0216
        gbc.setState(0xaa7d, 0x62d2, 0x5420, 0xd5c8, 0xb5ed, 0x553b, 0x0, 0x0);
        gbc.writeMem(0xaa7d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x62d2);
        EXPECT(gbc.pc(), 0xaa7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa7d), 0xcb);
        EXPECT(gbc.readMem(0xaa7e), 0x11);
        // CB 11 0217
        gbc.setState(0x5969, 0xe45e, 0x5d10, 0x6441, 0x6e08, 0x1c27, 0x0, 0x0);
        gbc.writeMem(0x5969, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xe45e);
        EXPECT(gbc.pc(), 0x596b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0218
        gbc.setState(0xe799, 0xbbe0, 0xf880, 0x7516, 0x9d1e, 0xaf3b, 0x0, 0x0);
        gbc.writeMem(0xe799, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xbbe0);
        EXPECT(gbc.pc(), 0xe79b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe799), 0xcb);
        EXPECT(gbc.readMem(0xe79a), 0x11);
        // CB 11 0219
        gbc.setState(0x9ce, 0x19d8, 0x3960, 0x9075, 0x8685, 0x2ac, 0x1, 0x1);
        gbc.writeMem(0x9ce, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x19d8);
        EXPECT(gbc.pc(), 0x9d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 021A
        gbc.setState(0x8b06, 0xd84e, 0xe9d0, 0x855, 0x399, 0xa2a5, 0x0, 0x0);
        gbc.writeMem(0x8b06, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xd84e);
        EXPECT(gbc.pc(), 0x8b08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b06), 0xcb);
        EXPECT(gbc.readMem(0x8b07), 0x11);
        // CB 11 021B
        gbc.setState(0x8f95, 0x93a3, 0x1620, 0xef4, 0x8d14, 0x62d9, 0x1, 0x1);
        gbc.writeMem(0x8f95, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x93a3);
        EXPECT(gbc.pc(), 0x8f97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f95), 0xcb);
        EXPECT(gbc.readMem(0x8f96), 0x11);
        // CB 11 021C
        gbc.setState(0x95e3, 0x23d1, 0x4e50, 0x5fd7, 0x47cc, 0xd4f8, 0x1, 0x0);
        gbc.writeMem(0x95e3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x23d1);
        EXPECT(gbc.pc(), 0x95e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95e3), 0xcb);
        EXPECT(gbc.readMem(0x95e4), 0x11);
        // CB 11 021D
        gbc.setState(0xa036, 0xa7b3, 0x30c0, 0x3af6, 0xf772, 0x408e, 0x0, 0x0);
        gbc.writeMem(0xa036, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xa7b3);
        EXPECT(gbc.pc(), 0xa038);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa036), 0xcb);
        EXPECT(gbc.readMem(0xa037), 0x11);
        // CB 11 021E
        gbc.setState(0x704e, 0xb7d2, 0xf290, 0x746a, 0x6880, 0x4b0d, 0x1, 0x0);
        gbc.writeMem(0x704e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xb7d2);
        EXPECT(gbc.pc(), 0x7050);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 021F
        gbc.setState(0x823e, 0x413e, 0xb3d0, 0xf27c, 0x915f, 0xb99b, 0x1, 0x1);
        gbc.writeMem(0x823e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x413e);
        EXPECT(gbc.pc(), 0x8240);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x823e), 0xcb);
        EXPECT(gbc.readMem(0x823f), 0x11);
        // CB 11 0220
        gbc.setState(0x7b1c, 0x1107, 0x450, 0x4e6d, 0x50ed, 0x6b49, 0x0, 0x1);
        gbc.writeMem(0x7b1c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x1107);
        EXPECT(gbc.pc(), 0x7b1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0221
        gbc.setState(0xd5f5, 0xc76c, 0x5c00, 0x1537, 0xb68e, 0x2cc0, 0x0, 0x1);
        gbc.writeMem(0xd5f5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xc76c);
        EXPECT(gbc.pc(), 0xd5f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5f5), 0xcb);
        EXPECT(gbc.readMem(0xd5f6), 0x11);
        // CB 11 0222
        gbc.setState(0x693d, 0xc743, 0xfce0, 0xf787, 0x8448, 0x87af, 0x1, 0x1);
        gbc.writeMem(0x693d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xc743);
        EXPECT(gbc.pc(), 0x693f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0223
        gbc.setState(0xec1e, 0x34f0, 0xad30, 0xf7d6, 0xeced, 0xe0be, 0x1, 0x0);
        gbc.writeMem(0xec1e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x34f0);
        EXPECT(gbc.pc(), 0xec20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec1e), 0xcb);
        EXPECT(gbc.readMem(0xec1f), 0x11);
        // CB 11 0224
        gbc.setState(0x69e4, 0x9a08, 0xfd20, 0xa426, 0x8579, 0xf6ec, 0x1, 0x1);
        gbc.writeMem(0x69e4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x9a08);
        EXPECT(gbc.pc(), 0x69e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0225
        gbc.setState(0xba78, 0xf6be, 0xb5d0, 0x7ce3, 0xce39, 0x168b, 0x1, 0x1);
        gbc.writeMem(0xba78, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xf6be);
        EXPECT(gbc.pc(), 0xba7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba78), 0xcb);
        EXPECT(gbc.readMem(0xba79), 0x11);
        // CB 11 0226
        gbc.setState(0xbaab, 0x7285, 0xdd20, 0x564d, 0xf386, 0x8542, 0x1, 0x1);
        gbc.writeMem(0xbaab, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x7285);
        EXPECT(gbc.pc(), 0xbaad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbaab), 0xcb);
        EXPECT(gbc.readMem(0xbaac), 0x11);
        // CB 11 0227
        gbc.setState(0x1f25, 0xfaa, 0x1720, 0xcdbb, 0xe915, 0x1887, 0x1, 0x0);
        gbc.writeMem(0x1f25, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xfaa);
        EXPECT(gbc.pc(), 0x1f27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0228
        gbc.setState(0xa1f1, 0x931f, 0x20a0, 0x8649, 0x896b, 0xbe5c, 0x1, 0x0);
        gbc.writeMem(0xa1f1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x931f);
        EXPECT(gbc.pc(), 0xa1f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1f1), 0xcb);
        EXPECT(gbc.readMem(0xa1f2), 0x11);
        // CB 11 0229
        gbc.setState(0x5828, 0x86dc, 0x3d80, 0xc1da, 0x3dbb, 0xfe59, 0x1, 0x1);
        gbc.writeMem(0x5828, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x86dc);
        EXPECT(gbc.pc(), 0x582a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 022A
        gbc.setState(0x79e3, 0x9c2a, 0xd220, 0xe956, 0x911c, 0xf53b, 0x1, 0x0);
        gbc.writeMem(0x79e3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x9c2a);
        EXPECT(gbc.pc(), 0x79e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 022B
        gbc.setState(0x3541, 0x2d15, 0xecb0, 0x2f93, 0xe68f, 0x6401, 0x1, 0x0);
        gbc.writeMem(0x3541, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x2d15);
        EXPECT(gbc.pc(), 0x3543);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 022C
        gbc.setState(0x48b6, 0x7421, 0xecd0, 0xa0ac, 0xdade, 0xd457, 0x1, 0x1);
        gbc.writeMem(0x48b6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x7421);
        EXPECT(gbc.pc(), 0x48b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 022D
        gbc.setState(0x3b7c, 0xe3c2, 0x65c0, 0x4bab, 0x5d35, 0xccfe, 0x1, 0x0);
        gbc.writeMem(0x3b7c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe3c2);
        EXPECT(gbc.pc(), 0x3b7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 022E
        gbc.setState(0x170c, 0x8210, 0xc900, 0xab35, 0xf417, 0x9b82, 0x0, 0x1);
        gbc.writeMem(0x170c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x8210);
        EXPECT(gbc.pc(), 0x170e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 022F
        gbc.setState(0x46de, 0xf168, 0x5fd0, 0xddab, 0xb238, 0x61ba, 0x0, 0x1);
        gbc.writeMem(0x46de, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xf168);
        EXPECT(gbc.pc(), 0x46e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0230
        gbc.setState(0xc7d6, 0xb4b, 0xf050, 0x843, 0x24a5, 0xa877, 0x1, 0x1);
        gbc.writeMem(0xc7d6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xb4b);
        EXPECT(gbc.pc(), 0xc7d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7d6), 0xcb);
        EXPECT(gbc.readMem(0xc7d7), 0x11);
        // CB 11 0231
        gbc.setState(0x1423, 0x26f3, 0x9c20, 0x5283, 0x88fa, 0x8a9d, 0x0, 0x1);
        gbc.writeMem(0x1423, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x26f3);
        EXPECT(gbc.pc(), 0x1425);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0233
        gbc.setState(0x6eb1, 0x350e, 0xf3c0, 0x492d, 0xa6d0, 0xdb8b, 0x1, 0x0);
        gbc.writeMem(0x6eb1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x350e);
        EXPECT(gbc.pc(), 0x6eb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0234
        gbc.setState(0x26b7, 0x56ce, 0xcdf0, 0xcd80, 0x1507, 0xdd48, 0x0, 0x0);
        gbc.writeMem(0x26b7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x56ce);
        EXPECT(gbc.pc(), 0x26b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0235
        gbc.setState(0x670b, 0x499f, 0x35f0, 0x8901, 0x7fce, 0x8723, 0x0, 0x1);
        gbc.writeMem(0x670b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x499f);
        EXPECT(gbc.pc(), 0x670d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0236
        gbc.setState(0x6760, 0xc481, 0x3740, 0xf8b6, 0x5581, 0x43f3, 0x0, 0x1);
        gbc.writeMem(0x6760, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xc481);
        EXPECT(gbc.pc(), 0x6762);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0237
        gbc.setState(0xa052, 0xca47, 0x60e0, 0x760d, 0x7469, 0xc02a, 0x1, 0x1);
        gbc.writeMem(0xa052, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xca47);
        EXPECT(gbc.pc(), 0xa054);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa052), 0xcb);
        EXPECT(gbc.readMem(0xa053), 0x11);
        // CB 11 0238
        gbc.setState(0x192f, 0x784d, 0x85d0, 0x8a9a, 0x9e58, 0x792f, 0x0, 0x0);
        gbc.writeMem(0x192f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x784d);
        EXPECT(gbc.pc(), 0x1931);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0239
        gbc.setState(0x3ce3, 0x9bea, 0xe6c0, 0x48bb, 0xb24a, 0xa5e3, 0x0, 0x1);
        gbc.writeMem(0x3ce3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x9bea);
        EXPECT(gbc.pc(), 0x3ce5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 023A
        gbc.setState(0xbd72, 0xa424, 0xf1e0, 0x452f, 0x32ad, 0x7c25, 0x0, 0x1);
        gbc.writeMem(0xbd72, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xa424);
        EXPECT(gbc.pc(), 0xbd74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd72), 0xcb);
        EXPECT(gbc.readMem(0xbd73), 0x11);
        // CB 11 023B
        gbc.setState(0xd006, 0x723b, 0x94a0, 0xb9db, 0x9702, 0x5123, 0x1, 0x1);
        gbc.writeMem(0xd006, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x723b);
        EXPECT(gbc.pc(), 0xd008);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd006), 0xcb);
        EXPECT(gbc.readMem(0xd007), 0x11);
        // CB 11 023C
        gbc.setState(0xbc47, 0x4f63, 0x5830, 0x9795, 0x7a71, 0xa6a5, 0x0, 0x0);
        gbc.writeMem(0xbc47, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x4f63);
        EXPECT(gbc.pc(), 0xbc49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc47), 0xcb);
        EXPECT(gbc.readMem(0xbc48), 0x11);
        // CB 11 023D
        gbc.setState(0xdac5, 0x9324, 0xa50, 0xbe44, 0x8d77, 0xc17f, 0x0, 0x1);
        gbc.writeMem(0xdac5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x9324);
        EXPECT(gbc.pc(), 0xdac7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdac5), 0xcb);
        EXPECT(gbc.readMem(0xdac6), 0x11);
        // CB 11 023E
        gbc.setState(0x9570, 0x27a, 0x6140, 0x3426, 0x986d, 0x31ce, 0x1, 0x0);
        gbc.writeMem(0x9570, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x27a);
        EXPECT(gbc.pc(), 0x9572);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9570), 0xcb);
        EXPECT(gbc.readMem(0x9571), 0x11);
        // CB 11 023F
        gbc.setState(0x81e4, 0xf8d4, 0x5bb0, 0x6a6e, 0x2bb7, 0x3be1, 0x1, 0x1);
        gbc.writeMem(0x81e4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf8d4);
        EXPECT(gbc.pc(), 0x81e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81e4), 0xcb);
        EXPECT(gbc.readMem(0x81e5), 0x11);
        // CB 11 0240
        gbc.setState(0x3850, 0xcb2a, 0x4b00, 0x8952, 0x41e8, 0x292f, 0x1, 0x0);
        gbc.writeMem(0x3850, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xcb2a);
        EXPECT(gbc.pc(), 0x3852);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0241
        gbc.setState(0x33e9, 0x4142, 0x3c50, 0xd218, 0x1e07, 0x978d, 0x1, 0x1);
        gbc.writeMem(0x33e9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x4142);
        EXPECT(gbc.pc(), 0x33eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0242
        gbc.setState(0x8b4f, 0xbd5, 0xfe00, 0xdb94, 0xe510, 0xfcd0, 0x0, 0x0);
        gbc.writeMem(0x8b4f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xbd5);
        EXPECT(gbc.pc(), 0x8b51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b4f), 0xcb);
        EXPECT(gbc.readMem(0x8b50), 0x11);
        // CB 11 0243
        gbc.setState(0x6c8a, 0x481, 0x6ec0, 0x624, 0x5bb, 0x2f83, 0x1, 0x0);
        gbc.writeMem(0x6c8a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x481);
        EXPECT(gbc.pc(), 0x6c8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0244
        gbc.setState(0xee58, 0x81c4, 0x1b70, 0x2b48, 0x59d6, 0x6225, 0x1, 0x1);
        gbc.writeMem(0xee58, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x81c4);
        EXPECT(gbc.pc(), 0xee5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee58), 0xcb);
        EXPECT(gbc.readMem(0xee59), 0x11);
        // CB 11 0245
        gbc.setState(0x7612, 0x7eab, 0xaad0, 0x9168, 0xc3a7, 0x7f86, 0x0, 0x0);
        gbc.writeMem(0x7612, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x7eab);
        EXPECT(gbc.pc(), 0x7614);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0246
        gbc.setState(0xaa3c, 0x859f, 0x1500, 0x598b, 0x4110, 0x166a, 0x1, 0x1);
        gbc.writeMem(0xaa3c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x859f);
        EXPECT(gbc.pc(), 0xaa3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa3c), 0xcb);
        EXPECT(gbc.readMem(0xaa3d), 0x11);
        // CB 11 0249
        gbc.setState(0xd1a5, 0xd987, 0x6630, 0x7cb8, 0xaf04, 0x2e5f, 0x1, 0x0);
        gbc.writeMem(0xd1a5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xd987);
        EXPECT(gbc.pc(), 0xd1a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1a5), 0xcb);
        EXPECT(gbc.readMem(0xd1a6), 0x11);
        // CB 11 024A
        gbc.setState(0x273f, 0xff09, 0xc280, 0x22ef, 0x9838, 0xf03c, 0x1, 0x1);
        gbc.writeMem(0x273f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xff09);
        EXPECT(gbc.pc(), 0x2741);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 024B
        gbc.setState(0xe75e, 0xd8, 0xb410, 0x4254, 0xdb4f, 0xe4ca, 0x0, 0x0);
        gbc.writeMem(0xe75e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xd8);
        EXPECT(gbc.pc(), 0xe760);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe75e), 0xcb);
        EXPECT(gbc.readMem(0xe75f), 0x11);
        // CB 11 024C
        gbc.setState(0xb3b8, 0x6e48, 0x8d60, 0x3368, 0xc454, 0x82ce, 0x0, 0x0);
        gbc.writeMem(0xb3b8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x6e48);
        EXPECT(gbc.pc(), 0xb3ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3b8), 0xcb);
        EXPECT(gbc.readMem(0xb3b9), 0x11);
        // CB 11 024D
        gbc.setState(0xe78b, 0x1c40, 0x2300, 0xfef7, 0x60ff, 0x7e47, 0x0, 0x1);
        gbc.writeMem(0xe78b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x1c40);
        EXPECT(gbc.pc(), 0xe78d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe78b), 0xcb);
        EXPECT(gbc.readMem(0xe78c), 0x11);
        // CB 11 024E
        gbc.setState(0xbfdf, 0x65f1, 0xf860, 0x33c0, 0xf9c1, 0xc845, 0x0, 0x1);
        gbc.writeMem(0xbfdf, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x65f1);
        EXPECT(gbc.pc(), 0xbfe1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfdf), 0xcb);
        EXPECT(gbc.readMem(0xbfe0), 0x11);
        // CB 11 024F
        gbc.setState(0xe45e, 0x8cef, 0x60, 0x5380, 0xf5cc, 0xc848, 0x0, 0x0);
        gbc.writeMem(0xe45e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x8cef);
        EXPECT(gbc.pc(), 0xe460);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe45e), 0xcb);
        EXPECT(gbc.readMem(0xe45f), 0x11);
        // CB 11 0250
        gbc.setState(0x5142, 0xba07, 0xf910, 0x6854, 0x352d, 0xc983, 0x0, 0x1);
        gbc.writeMem(0x5142, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xba07);
        EXPECT(gbc.pc(), 0x5144);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0251
        gbc.setState(0x9c86, 0xe428, 0x240, 0x2285, 0x18a4, 0xd903, 0x0, 0x1);
        gbc.writeMem(0x9c86, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xe428);
        EXPECT(gbc.pc(), 0x9c88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c86), 0xcb);
        EXPECT(gbc.readMem(0x9c87), 0x11);
        // CB 11 0252
        gbc.setState(0xb625, 0xd9ff, 0xd500, 0x725a, 0xbb5b, 0x1d40, 0x1, 0x1);
        gbc.writeMem(0xb625, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xd9ff);
        EXPECT(gbc.pc(), 0xb627);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb625), 0xcb);
        EXPECT(gbc.readMem(0xb626), 0x11);
        // CB 11 0253
        gbc.setState(0x6c9f, 0x7484, 0x91b0, 0xafea, 0x64d8, 0x992b, 0x1, 0x0);
        gbc.writeMem(0x6c9f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x7484);
        EXPECT(gbc.pc(), 0x6ca1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0254
        gbc.setState(0x81cb, 0x7748, 0xe90, 0x868d, 0x78a2, 0x7e0d, 0x0, 0x0);
        gbc.writeMem(0x81cb, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x7748);
        EXPECT(gbc.pc(), 0x81cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81cb), 0xcb);
        EXPECT(gbc.readMem(0x81cc), 0x11);
        // CB 11 0256
        gbc.setState(0x61ec, 0x58c8, 0x9510, 0xa8d3, 0xfeb3, 0x97d2, 0x1, 0x0);
        gbc.writeMem(0x61ec, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x58c8);
        EXPECT(gbc.pc(), 0x61ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0257
        gbc.setState(0xd335, 0x3bb8, 0x26a0, 0x2958, 0xcdb5, 0x762f, 0x1, 0x0);
        gbc.writeMem(0xd335, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x3bb8);
        EXPECT(gbc.pc(), 0xd337);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd335), 0xcb);
        EXPECT(gbc.readMem(0xd336), 0x11);
        // CB 11 0259
        gbc.setState(0x5404, 0xa16c, 0x59a0, 0x1e2b, 0x5331, 0x739c, 0x0, 0x0);
        gbc.writeMem(0x5404, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xa16c);
        EXPECT(gbc.pc(), 0x5406);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 025A
        gbc.setState(0xc70f, 0x4e5b, 0xb300, 0x701, 0xcd19, 0x867f, 0x0, 0x0);
        gbc.writeMem(0xc70f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x4e5b);
        EXPECT(gbc.pc(), 0xc711);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc70f), 0xcb);
        EXPECT(gbc.readMem(0xc710), 0x11);
        // CB 11 025B
        gbc.setState(0xee40, 0x96f2, 0x9ec0, 0x3a5f, 0xa218, 0x35f6, 0x0, 0x0);
        gbc.writeMem(0xee40, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x96f2);
        EXPECT(gbc.pc(), 0xee42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee40), 0xcb);
        EXPECT(gbc.readMem(0xee41), 0x11);
        // CB 11 025C
        gbc.setState(0x5701, 0xf839, 0xae60, 0x9183, 0xe8ef, 0x1562, 0x0, 0x1);
        gbc.writeMem(0x5701, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xf839);
        EXPECT(gbc.pc(), 0x5703);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 025D
        gbc.setState(0xd8e0, 0xcd2e, 0xab20, 0x721d, 0x98d1, 0xbff1, 0x1, 0x1);
        gbc.writeMem(0xd8e0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xcd2e);
        EXPECT(gbc.pc(), 0xd8e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8e0), 0xcb);
        EXPECT(gbc.readMem(0xd8e1), 0x11);
        // CB 11 025E
        gbc.setState(0x2c66, 0x4039, 0xc450, 0x98b5, 0x9a3a, 0xfff6, 0x1, 0x0);
        gbc.writeMem(0x2c66, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x4039);
        EXPECT(gbc.pc(), 0x2c68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 025F
        gbc.setState(0xa957, 0xb235, 0x3990, 0x3ef4, 0x59, 0x8780, 0x1, 0x1);
        gbc.writeMem(0xa957, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xb235);
        EXPECT(gbc.pc(), 0xa959);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa957), 0xcb);
        EXPECT(gbc.readMem(0xa958), 0x11);
        // CB 11 0260
        gbc.setState(0x4f80, 0xb759, 0x88a0, 0xdde0, 0x287a, 0x71f5, 0x1, 0x1);
        gbc.writeMem(0x4f80, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xb759);
        EXPECT(gbc.pc(), 0x4f82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0261
        gbc.setState(0xe76b, 0xb1f2, 0xc240, 0xb86, 0xb106, 0x6bdd, 0x1, 0x1);
        gbc.writeMem(0xe76b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xb1f2);
        EXPECT(gbc.pc(), 0xe76d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe76b), 0xcb);
        EXPECT(gbc.readMem(0xe76c), 0x11);
        // CB 11 0262
        gbc.setState(0xb8f3, 0x91ff, 0xb170, 0xffda, 0x802a, 0xfffa, 0x0, 0x1);
        gbc.writeMem(0xb8f3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x91ff);
        EXPECT(gbc.pc(), 0xb8f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8f3), 0xcb);
        EXPECT(gbc.readMem(0xb8f4), 0x11);
        // CB 11 0263
        gbc.setState(0x6e8, 0x8379, 0x2030, 0x993b, 0xaaae, 0x35d5, 0x0, 0x1);
        gbc.writeMem(0x6e8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x8379);
        EXPECT(gbc.pc(), 0x6ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0264
        gbc.setState(0x68be, 0x5515, 0x9d70, 0xef1a, 0xb25b, 0xc289, 0x0, 0x1);
        gbc.writeMem(0x68be, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x5515);
        EXPECT(gbc.pc(), 0x68c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0265
        gbc.setState(0x65b1, 0xa2f2, 0x7e80, 0x5b0c, 0x29ab, 0x346e, 0x0, 0x1);
        gbc.writeMem(0x65b1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xa2f2);
        EXPECT(gbc.pc(), 0x65b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0266
        gbc.setState(0x2998, 0x7b22, 0xae60, 0x72b5, 0x6faf, 0x1f26, 0x0, 0x1);
        gbc.writeMem(0x2998, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x7b22);
        EXPECT(gbc.pc(), 0x299a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0267
        gbc.setState(0xeee5, 0xd092, 0x1160, 0x4e66, 0xce5c, 0x7d40, 0x0, 0x1);
        gbc.writeMem(0xeee5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xd092);
        EXPECT(gbc.pc(), 0xeee7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeee5), 0xcb);
        EXPECT(gbc.readMem(0xeee6), 0x11);
        // CB 11 0268
        gbc.setState(0x474e, 0xdbe7, 0xe00, 0xf7f5, 0x61a7, 0x8ebf, 0x0, 0x1);
        gbc.writeMem(0x474e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xdbe7);
        EXPECT(gbc.pc(), 0x4750);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0269
        gbc.setState(0x3dcf, 0x523e, 0xd610, 0x2b88, 0x3c91, 0xfe6b, 0x1, 0x1);
        gbc.writeMem(0x3dcf, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x523e);
        EXPECT(gbc.pc(), 0x3dd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 026A
        gbc.setState(0x6da2, 0x152d, 0x99d0, 0xaacc, 0xc09f, 0xf6e5, 0x0, 0x1);
        gbc.writeMem(0x6da2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x152d);
        EXPECT(gbc.pc(), 0x6da4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 026B
        gbc.setState(0xc850, 0xfe00, 0x5b50, 0x6095, 0x1ecf, 0xaff7, 0x1, 0x0);
        gbc.writeMem(0xc850, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xfe00);
        EXPECT(gbc.pc(), 0xc852);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc850), 0xcb);
        EXPECT(gbc.readMem(0xc851), 0x11);
        // CB 11 026C
        gbc.setState(0x9810, 0x80a, 0xf360, 0x2918, 0xf2b0, 0x8f76, 0x0, 0x1);
        gbc.writeMem(0x9810, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x80a);
        EXPECT(gbc.pc(), 0x9812);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9810), 0xcb);
        EXPECT(gbc.readMem(0x9811), 0x11);
        // CB 11 026E
        gbc.setState(0x208e, 0xcd8f, 0xf0b0, 0xa21d, 0xa14e, 0x32ed, 0x1, 0x1);
        gbc.writeMem(0x208e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xcd8f);
        EXPECT(gbc.pc(), 0x2090);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 026F
        gbc.setState(0x21ac, 0x7478, 0xef50, 0x7828, 0x2af1, 0x9f44, 0x1, 0x0);
        gbc.writeMem(0x21ac, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x7478);
        EXPECT(gbc.pc(), 0x21ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0270
        gbc.setState(0x9f1, 0x11cf, 0x8670, 0xb5f6, 0x7356, 0x6ff, 0x1, 0x1);
        gbc.writeMem(0x9f1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x11cf);
        EXPECT(gbc.pc(), 0x9f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0272
        gbc.setState(0xd0e6, 0x5f44, 0xc760, 0x3ffe, 0xf175, 0x90bf, 0x1, 0x0);
        gbc.writeMem(0xd0e6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x5f44);
        EXPECT(gbc.pc(), 0xd0e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0e6), 0xcb);
        EXPECT(gbc.readMem(0xd0e7), 0x11);
        // CB 11 0273
        gbc.setState(0xb644, 0xefde, 0x8290, 0x4ae3, 0xeb2c, 0xe8b7, 0x1, 0x0);
        gbc.writeMem(0xb644, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xefde);
        EXPECT(gbc.pc(), 0xb646);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb644), 0xcb);
        EXPECT(gbc.readMem(0xb645), 0x11);
        // CB 11 0275
        gbc.setState(0xbd55, 0x6f78, 0x56e0, 0xac3e, 0xda0a, 0xc04d, 0x0, 0x0);
        gbc.writeMem(0xbd55, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x6f78);
        EXPECT(gbc.pc(), 0xbd57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd55), 0xcb);
        EXPECT(gbc.readMem(0xbd56), 0x11);
        // CB 11 0276
        gbc.setState(0xca82, 0xcfc8, 0x4770, 0x9104, 0x8300, 0xf206, 0x1, 0x0);
        gbc.writeMem(0xca82, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xcfc8);
        EXPECT(gbc.pc(), 0xca84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca82), 0xcb);
        EXPECT(gbc.readMem(0xca83), 0x11);
        // CB 11 0277
        gbc.setState(0xcf4c, 0x9595, 0x8370, 0x6b85, 0xd2f3, 0x83dd, 0x0, 0x0);
        gbc.writeMem(0xcf4c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x9595);
        EXPECT(gbc.pc(), 0xcf4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf4c), 0xcb);
        EXPECT(gbc.readMem(0xcf4d), 0x11);
        // CB 11 0278
        gbc.setState(0x7c43, 0x1dc2, 0x2d80, 0x1b5d, 0x576a, 0x920b, 0x0, 0x1);
        gbc.writeMem(0x7c43, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x1dc2);
        EXPECT(gbc.pc(), 0x7c45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0279
        gbc.setState(0xac31, 0x6523, 0xc990, 0xcf2e, 0xe57b, 0x1a54, 0x1, 0x1);
        gbc.writeMem(0xac31, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x6523);
        EXPECT(gbc.pc(), 0xac33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac31), 0xcb);
        EXPECT(gbc.readMem(0xac32), 0x11);
        // CB 11 027A
        gbc.setState(0xeed3, 0x6813, 0xb50, 0xb6f0, 0xa9bf, 0x48cb, 0x1, 0x0);
        gbc.writeMem(0xeed3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x6813);
        EXPECT(gbc.pc(), 0xeed5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeed3), 0xcb);
        EXPECT(gbc.readMem(0xeed4), 0x11);
        // CB 11 027B
        gbc.setState(0x8188, 0x56a4, 0x98f0, 0xd955, 0x4fa5, 0x9dd6, 0x0, 0x1);
        gbc.writeMem(0x8188, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x56a4);
        EXPECT(gbc.pc(), 0x818a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8188), 0xcb);
        EXPECT(gbc.readMem(0x8189), 0x11);
        // CB 11 027C
        gbc.setState(0x58e6, 0xa3f7, 0x1340, 0x1cb2, 0xfc50, 0x1606, 0x1, 0x1);
        gbc.writeMem(0x58e6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xa3f7);
        EXPECT(gbc.pc(), 0x58e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 027D
        gbc.setState(0xc162, 0x8e92, 0x8270, 0x7767, 0x75cf, 0x45b8, 0x1, 0x1);
        gbc.writeMem(0xc162, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x8e92);
        EXPECT(gbc.pc(), 0xc164);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc162), 0xcb);
        EXPECT(gbc.readMem(0xc163), 0x11);
        // CB 11 027E
        gbc.setState(0x140f, 0x28e0, 0x5c90, 0x7a75, 0x5225, 0xce39, 0x1, 0x1);
        gbc.writeMem(0x140f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x28e0);
        EXPECT(gbc.pc(), 0x1411);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 027F
        gbc.setState(0x46de, 0xe61a, 0x6570, 0x6a05, 0xb09f, 0x12e3, 0x0, 0x1);
        gbc.writeMem(0x46de, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xe61a);
        EXPECT(gbc.pc(), 0x46e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0280
        gbc.setState(0x8aa3, 0xa2a7, 0x2b90, 0x78d2, 0x5583, 0x5282, 0x1, 0x0);
        gbc.writeMem(0x8aa3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xa2a7);
        EXPECT(gbc.pc(), 0x8aa5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8aa3), 0xcb);
        EXPECT(gbc.readMem(0x8aa4), 0x11);
        // CB 11 0281
        gbc.setState(0xeb37, 0xe617, 0x420, 0x4730, 0x70a4, 0x3a3, 0x1, 0x1);
        gbc.writeMem(0xeb37, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xe617);
        EXPECT(gbc.pc(), 0xeb39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb37), 0xcb);
        EXPECT(gbc.readMem(0xeb38), 0x11);
        // CB 11 0282
        gbc.setState(0xc17e, 0xe8a4, 0x6d30, 0x8c32, 0xab6f, 0x6668, 0x0, 0x0);
        gbc.writeMem(0xc17e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xe8a4);
        EXPECT(gbc.pc(), 0xc180);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc17e), 0xcb);
        EXPECT(gbc.readMem(0xc17f), 0x11);
        // CB 11 0283
        gbc.setState(0xd43, 0x13aa, 0xd8c0, 0xe9f3, 0x237d, 0x9e0, 0x1, 0x1);
        gbc.writeMem(0xd43, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x13aa);
        EXPECT(gbc.pc(), 0xd45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0284
        gbc.setState(0x2996, 0x12d0, 0x9080, 0x8626, 0x33fc, 0x5a92, 0x1, 0x0);
        gbc.writeMem(0x2996, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x12d0);
        EXPECT(gbc.pc(), 0x2998);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0285
        gbc.setState(0xf49, 0x5f40, 0xbab0, 0x83a, 0xed2, 0x5719, 0x0, 0x0);
        gbc.writeMem(0xf49, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x5f40);
        EXPECT(gbc.pc(), 0xf4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0286
        gbc.setState(0xdb08, 0x15ff, 0x43c0, 0x349a, 0xe740, 0x8e66, 0x1, 0x1);
        gbc.writeMem(0xdb08, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x15ff);
        EXPECT(gbc.pc(), 0xdb0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb08), 0xcb);
        EXPECT(gbc.readMem(0xdb09), 0x11);
        // CB 11 0287
        gbc.setState(0x7365, 0x1bd7, 0x8130, 0x6902, 0xb4ca, 0x2de9, 0x1, 0x0);
        gbc.writeMem(0x7365, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x1bd7);
        EXPECT(gbc.pc(), 0x7367);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0288
        gbc.setState(0xd3da, 0xd4d9, 0x5070, 0x7892, 0xf5f2, 0x197a, 0x1, 0x1);
        gbc.writeMem(0xd3da, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xd4d9);
        EXPECT(gbc.pc(), 0xd3dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3da), 0xcb);
        EXPECT(gbc.readMem(0xd3db), 0x11);
        // CB 11 0289
        gbc.setState(0x4b80, 0x58dd, 0xef20, 0xf0a7, 0x6ace, 0xdb2b, 0x1, 0x1);
        gbc.writeMem(0x4b80, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x58dd);
        EXPECT(gbc.pc(), 0x4b82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 028A
        gbc.setState(0x2b33, 0x49a6, 0x6830, 0xe8e6, 0x7082, 0x2bde, 0x1, 0x1);
        gbc.writeMem(0x2b33, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x49a6);
        EXPECT(gbc.pc(), 0x2b35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 028B
        gbc.setState(0x631f, 0x8ec6, 0x7d0, 0xdc80, 0xff24, 0xe775, 0x0, 0x1);
        gbc.writeMem(0x631f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x8ec6);
        EXPECT(gbc.pc(), 0x6321);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 028C
        gbc.setState(0xb1e, 0x468b, 0x1390, 0xd2be, 0x9549, 0xb4c7, 0x0, 0x1);
        gbc.writeMem(0xb1e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x468b);
        EXPECT(gbc.pc(), 0xb20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 028D
        gbc.setState(0x662, 0xd359, 0x5db0, 0x156c, 0xa529, 0xcc86, 0x0, 0x0);
        gbc.writeMem(0x662, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xd359);
        EXPECT(gbc.pc(), 0x664);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 028E
        gbc.setState(0xa2b2, 0xd24, 0x4050, 0x3588, 0x1c30, 0x47e0, 0x0, 0x0);
        gbc.writeMem(0xa2b2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xd24);
        EXPECT(gbc.pc(), 0xa2b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2b2), 0xcb);
        EXPECT(gbc.readMem(0xa2b3), 0x11);
        // CB 11 028F
        gbc.setState(0xc0c7, 0xbcaf, 0x45d0, 0xb696, 0x4f5a, 0x9694, 0x0, 0x0);
        gbc.writeMem(0xc0c7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xbcaf);
        EXPECT(gbc.pc(), 0xc0c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0c7), 0xcb);
        EXPECT(gbc.readMem(0xc0c8), 0x11);
        // CB 11 0290
        gbc.setState(0x2d4c, 0xe9d, 0x11c0, 0x5645, 0x344c, 0x9ab2, 0x0, 0x1);
        gbc.writeMem(0x2d4c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xe9d);
        EXPECT(gbc.pc(), 0x2d4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0291
        gbc.setState(0xa136, 0x9246, 0xd160, 0x3443, 0xea52, 0xddeb, 0x1, 0x1);
        gbc.writeMem(0xa136, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x9246);
        EXPECT(gbc.pc(), 0xa138);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa136), 0xcb);
        EXPECT(gbc.readMem(0xa137), 0x11);
        // CB 11 0292
        gbc.setState(0xe569, 0xc668, 0x1780, 0x8615, 0x8aa3, 0x2e17, 0x0, 0x1);
        gbc.writeMem(0xe569, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xc668);
        EXPECT(gbc.pc(), 0xe56b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe569), 0xcb);
        EXPECT(gbc.readMem(0xe56a), 0x11);
        // CB 11 0293
        gbc.setState(0xf1b, 0xf934, 0x9030, 0x297c, 0x8e7b, 0xa650, 0x1, 0x1);
        gbc.writeMem(0xf1b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xf934);
        EXPECT(gbc.pc(), 0xf1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0294
        gbc.setState(0xd30, 0x4bcc, 0x1a80, 0x72fb, 0x6303, 0x2ce, 0x0, 0x0);
        gbc.writeMem(0xd30, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x4bcc);
        EXPECT(gbc.pc(), 0xd32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0295
        gbc.setState(0x9ed8, 0xa74e, 0x42f0, 0xacca, 0x460f, 0x26ea, 0x0, 0x0);
        gbc.writeMem(0x9ed8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xa74e);
        EXPECT(gbc.pc(), 0x9eda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ed8), 0xcb);
        EXPECT(gbc.readMem(0x9ed9), 0x11);
        // CB 11 0296
        gbc.setState(0x6010, 0x8cfa, 0x35c0, 0x695a, 0xe95b, 0x40df, 0x1, 0x0);
        gbc.writeMem(0x6010, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x8cfa);
        EXPECT(gbc.pc(), 0x6012);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0297
        gbc.setState(0x1be0, 0x4811, 0xfe30, 0xcb53, 0xda77, 0x770e, 0x0, 0x0);
        gbc.writeMem(0x1be0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x4811);
        EXPECT(gbc.pc(), 0x1be2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0298
        gbc.setState(0x6606, 0xc490, 0x3420, 0x25e6, 0xf446, 0x7cd3, 0x0, 0x0);
        gbc.writeMem(0x6606, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xc490);
        EXPECT(gbc.pc(), 0x6608);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0299
        gbc.setState(0xcd3e, 0xdade, 0xa90, 0x5d78, 0xf162, 0x39d5, 0x1, 0x0);
        gbc.writeMem(0xcd3e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xdade);
        EXPECT(gbc.pc(), 0xcd40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd3e), 0xcb);
        EXPECT(gbc.readMem(0xcd3f), 0x11);
        // CB 11 029A
        gbc.setState(0x4c41, 0x4093, 0x8860, 0xf966, 0xaa97, 0x5009, 0x0, 0x1);
        gbc.writeMem(0x4c41, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x4093);
        EXPECT(gbc.pc(), 0x4c43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 029B
        gbc.setState(0x4f73, 0x5f07, 0xe680, 0x1d92, 0xf1d6, 0x9de8, 0x0, 0x0);
        gbc.writeMem(0x4f73, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x5f07);
        EXPECT(gbc.pc(), 0x4f75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 029C
        gbc.setState(0xa60e, 0xa5d7, 0xae00, 0x1973, 0xbf4f, 0xa3a8, 0x0, 0x1);
        gbc.writeMem(0xa60e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xa5d7);
        EXPECT(gbc.pc(), 0xa610);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa60e), 0xcb);
        EXPECT(gbc.readMem(0xa60f), 0x11);
        // CB 11 029D
        gbc.setState(0x90a1, 0xb758, 0x2260, 0x6501, 0xf7c8, 0x249e, 0x1, 0x1);
        gbc.writeMem(0x90a1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xb758);
        EXPECT(gbc.pc(), 0x90a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90a1), 0xcb);
        EXPECT(gbc.readMem(0x90a2), 0x11);
        // CB 11 029E
        gbc.setState(0x390d, 0xc3f, 0xc180, 0x14eb, 0x50d3, 0xe349, 0x1, 0x0);
        gbc.writeMem(0x390d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xc3f);
        EXPECT(gbc.pc(), 0x390f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 029F
        gbc.setState(0x67ae, 0x29b3, 0xa9f0, 0xcfe3, 0xd090, 0xefc5, 0x0, 0x0);
        gbc.writeMem(0x67ae, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x29b3);
        EXPECT(gbc.pc(), 0x67b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02A0
        gbc.setState(0xb02, 0x742d, 0x3c80, 0x9c64, 0xe4b4, 0xc13f, 0x0, 0x1);
        gbc.writeMem(0xb02, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x742d);
        EXPECT(gbc.pc(), 0xb04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02A1
        gbc.setState(0x15c7, 0x3941, 0xfd0, 0x9b15, 0x958d, 0x82a2, 0x1, 0x0);
        gbc.writeMem(0x15c7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x3941);
        EXPECT(gbc.pc(), 0x15c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02A2
        gbc.setState(0x1e76, 0x44bf, 0x8d00, 0x7ff4, 0xdfa1, 0xf86c, 0x0, 0x1);
        gbc.writeMem(0x1e76, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x44bf);
        EXPECT(gbc.pc(), 0x1e78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02A3
        gbc.setState(0x32d3, 0xf175, 0x1b50, 0x6efc, 0x393d, 0x5705, 0x1, 0x1);
        gbc.writeMem(0x32d3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xf175);
        EXPECT(gbc.pc(), 0x32d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02A4
        gbc.setState(0x2595, 0x40bf, 0xc790, 0x8be7, 0x9464, 0xf12a, 0x0, 0x1);
        gbc.writeMem(0x2595, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x40bf);
        EXPECT(gbc.pc(), 0x2597);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02A5
        gbc.setState(0xe25a, 0x18b1, 0x5970, 0xe3c7, 0x3ed9, 0x44a5, 0x1, 0x1);
        gbc.writeMem(0xe25a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x18b1);
        EXPECT(gbc.pc(), 0xe25c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe25a), 0xcb);
        EXPECT(gbc.readMem(0xe25b), 0x11);
        // CB 11 02A6
        gbc.setState(0xc47b, 0x729d, 0x5460, 0x6194, 0x4ccb, 0xcee8, 0x0, 0x0);
        gbc.writeMem(0xc47b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x729d);
        EXPECT(gbc.pc(), 0xc47d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc47b), 0xcb);
        EXPECT(gbc.readMem(0xc47c), 0x11);
        // CB 11 02A7
        gbc.setState(0x1f3, 0x38d2, 0x4ed0, 0xd70e, 0x70a5, 0xc2aa, 0x1, 0x0);
        gbc.writeMem(0x1f3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x38d2);
        EXPECT(gbc.pc(), 0x1f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02A8
        gbc.setState(0x6fda, 0x3aa8, 0x4be0, 0x219e, 0x4423, 0xf2de, 0x0, 0x0);
        gbc.writeMem(0x6fda, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x3aa8);
        EXPECT(gbc.pc(), 0x6fdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02A9
        gbc.setState(0x3a92, 0x44c2, 0xb520, 0x48a8, 0xf6c7, 0x1de, 0x1, 0x1);
        gbc.writeMem(0x3a92, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x44c2);
        EXPECT(gbc.pc(), 0x3a94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02AA
        gbc.setState(0x3ca8, 0xe43, 0x5250, 0x3d8c, 0xd30e, 0xc473, 0x0, 0x1);
        gbc.writeMem(0x3ca8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xe43);
        EXPECT(gbc.pc(), 0x3caa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02AC
        gbc.setState(0x4e31, 0x8ffe, 0x7540, 0x7f, 0x4b6c, 0xd390, 0x1, 0x0);
        gbc.writeMem(0x4e31, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x8ffe);
        EXPECT(gbc.pc(), 0x4e33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02AD
        gbc.setState(0x8fad, 0x58b2, 0xd4c0, 0x3df1, 0xe5a5, 0xd6e6, 0x1, 0x1);
        gbc.writeMem(0x8fad, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x58b2);
        EXPECT(gbc.pc(), 0x8faf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fad), 0xcb);
        EXPECT(gbc.readMem(0x8fae), 0x11);
        // CB 11 02AE
        gbc.setState(0xda33, 0xf7ea, 0x85c0, 0x3228, 0x107e, 0x8d0f, 0x0, 0x1);
        gbc.writeMem(0xda33, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xf7ea);
        EXPECT(gbc.pc(), 0xda35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda33), 0xcb);
        EXPECT(gbc.readMem(0xda34), 0x11);
        // CB 11 02AF
        gbc.setState(0x1f3d, 0xf2eb, 0x8400, 0x340f, 0xa5e3, 0x1609, 0x0, 0x0);
        gbc.writeMem(0x1f3d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xf2eb);
        EXPECT(gbc.pc(), 0x1f3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02B0
        gbc.setState(0x1f02, 0x5ee0, 0xf8d0, 0x81cc, 0xa794, 0xff3d, 0x0, 0x0);
        gbc.writeMem(0x1f02, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x5ee0);
        EXPECT(gbc.pc(), 0x1f04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02B1
        gbc.setState(0x3e6e, 0xb7a8, 0x3f80, 0x3672, 0xaa04, 0x6d7b, 0x0, 0x0);
        gbc.writeMem(0x3e6e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xb7a8);
        EXPECT(gbc.pc(), 0x3e70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02B2
        gbc.setState(0x48f3, 0x2eb4, 0x6400, 0xe5e, 0xdd7f, 0x7c87, 0x0, 0x1);
        gbc.writeMem(0x48f3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x2eb4);
        EXPECT(gbc.pc(), 0x48f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02B3
        gbc.setState(0x537f, 0xcc19, 0xdf50, 0x19, 0xba86, 0x2b0d, 0x1, 0x1);
        gbc.writeMem(0x537f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xcc19);
        EXPECT(gbc.pc(), 0x5381);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02B4
        gbc.setState(0x7dad, 0xe667, 0x3a30, 0xc2ee, 0xe6b5, 0x57a7, 0x1, 0x1);
        gbc.writeMem(0x7dad, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xe667);
        EXPECT(gbc.pc(), 0x7daf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02B5
        gbc.setState(0x7569, 0x87da, 0xb000, 0x96a5, 0x52c3, 0x9ec6, 0x0, 0x1);
        gbc.writeMem(0x7569, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x87da);
        EXPECT(gbc.pc(), 0x756b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02B6
        gbc.setState(0x456c, 0x4eac, 0xab10, 0x85e4, 0xe6b3, 0x5ec8, 0x0, 0x1);
        gbc.writeMem(0x456c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x4eac);
        EXPECT(gbc.pc(), 0x456e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02B9
        gbc.setState(0x380e, 0x30ce, 0xc3a0, 0x111d, 0xb772, 0x59ed, 0x1, 0x0);
        gbc.writeMem(0x380e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x30ce);
        EXPECT(gbc.pc(), 0x3810);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02BA
        gbc.setState(0x453d, 0xc297, 0x3de0, 0xcc17, 0xdde1, 0x3bf3, 0x1, 0x0);
        gbc.writeMem(0x453d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xc297);
        EXPECT(gbc.pc(), 0x453f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02BC
        gbc.setState(0x9441, 0x9151, 0x2410, 0x124e, 0xffc9, 0x598a, 0x0, 0x1);
        gbc.writeMem(0x9441, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x9151);
        EXPECT(gbc.pc(), 0x9443);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9441), 0xcb);
        EXPECT(gbc.readMem(0x9442), 0x11);
        // CB 11 02BD
        gbc.setState(0x93c7, 0x2558, 0x1e60, 0x31dd, 0xee2c, 0xf30e, 0x1, 0x0);
        gbc.writeMem(0x93c7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x2558);
        EXPECT(gbc.pc(), 0x93c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93c7), 0xcb);
        EXPECT(gbc.readMem(0x93c8), 0x11);
        // CB 11 02BE
        gbc.setState(0x5807, 0x56a7, 0x2a80, 0x3ead, 0x3041, 0xb51, 0x0, 0x0);
        gbc.writeMem(0x5807, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x56a7);
        EXPECT(gbc.pc(), 0x5809);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02BF
        gbc.setState(0xa0be, 0x667f, 0xb820, 0x73bc, 0xf105, 0xdfab, 0x1, 0x1);
        gbc.writeMem(0xa0be, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x667f);
        EXPECT(gbc.pc(), 0xa0c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0be), 0xcb);
        EXPECT(gbc.readMem(0xa0bf), 0x11);
        // CB 11 02C0
        gbc.setState(0x1ca4, 0xbedc, 0xe200, 0xf32c, 0x1347, 0xad75, 0x1, 0x0);
        gbc.writeMem(0x1ca4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xbedc);
        EXPECT(gbc.pc(), 0x1ca6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02C1
        gbc.setState(0x27d9, 0xe3e7, 0xc9c0, 0xba1a, 0x5beb, 0xe110, 0x0, 0x0);
        gbc.writeMem(0x27d9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xe3e7);
        EXPECT(gbc.pc(), 0x27db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02C3
        gbc.setState(0x1940, 0x1a49, 0xdff0, 0xb828, 0x9b2, 0x61b6, 0x1, 0x0);
        gbc.writeMem(0x1940, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x1a49);
        EXPECT(gbc.pc(), 0x1942);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02C4
        gbc.setState(0xa128, 0x4066, 0xb470, 0x7be4, 0x3a8f, 0xf548, 0x0, 0x1);
        gbc.writeMem(0xa128, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x4066);
        EXPECT(gbc.pc(), 0xa12a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa128), 0xcb);
        EXPECT(gbc.readMem(0xa129), 0x11);
        // CB 11 02C5
        gbc.setState(0xcf22, 0x2ad7, 0x6a10, 0x2793, 0x6bd6, 0xbbd1, 0x0, 0x0);
        gbc.writeMem(0xcf22, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x2ad7);
        EXPECT(gbc.pc(), 0xcf24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf22), 0xcb);
        EXPECT(gbc.readMem(0xcf23), 0x11);
        // CB 11 02C6
        gbc.setState(0x8aaf, 0xe31f, 0x4920, 0x2df3, 0x2bdf, 0xdcfa, 0x1, 0x1);
        gbc.writeMem(0x8aaf, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xe31f);
        EXPECT(gbc.pc(), 0x8ab1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8aaf), 0xcb);
        EXPECT(gbc.readMem(0x8ab0), 0x11);
        // CB 11 02C7
        gbc.setState(0x7bd1, 0x4fcb, 0x9370, 0xaabe, 0xa704, 0x5f12, 0x1, 0x0);
        gbc.writeMem(0x7bd1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x4fcb);
        EXPECT(gbc.pc(), 0x7bd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02C8
        gbc.setState(0xca6f, 0x17c, 0x4c60, 0x3587, 0x7978, 0x70ff, 0x0, 0x0);
        gbc.writeMem(0xca6f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x17c);
        EXPECT(gbc.pc(), 0xca71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca6f), 0xcb);
        EXPECT(gbc.readMem(0xca70), 0x11);
        // CB 11 02C9
        gbc.setState(0x84b4, 0x618f, 0x7e60, 0xb92f, 0x2b7e, 0xbdfb, 0x1, 0x1);
        gbc.writeMem(0x84b4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x618f);
        EXPECT(gbc.pc(), 0x84b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84b4), 0xcb);
        EXPECT(gbc.readMem(0x84b5), 0x11);
        // CB 11 02CA
        gbc.setState(0x74f5, 0xcfb8, 0x58f0, 0xad9e, 0x9aef, 0xc6a6, 0x1, 0x1);
        gbc.writeMem(0x74f5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xcfb8);
        EXPECT(gbc.pc(), 0x74f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02CB
        gbc.setState(0x2c4a, 0x80f0, 0x4d90, 0x6b16, 0xfdec, 0x23bd, 0x1, 0x0);
        gbc.writeMem(0x2c4a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x80f0);
        EXPECT(gbc.pc(), 0x2c4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02CC
        gbc.setState(0x5b1f, 0xcd05, 0xe9d0, 0xdd8d, 0x915e, 0x62d2, 0x1, 0x1);
        gbc.writeMem(0x5b1f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xcd05);
        EXPECT(gbc.pc(), 0x5b21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02CE
        gbc.setState(0x239c, 0xdcd8, 0xc6c0, 0x36ce, 0x77ee, 0x6c8, 0x1, 0x1);
        gbc.writeMem(0x239c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xdcd8);
        EXPECT(gbc.pc(), 0x239e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02CF
        gbc.setState(0x3061, 0xce2b, 0x94c0, 0x23a5, 0x2ac8, 0x8d1f, 0x1, 0x0);
        gbc.writeMem(0x3061, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xce2b);
        EXPECT(gbc.pc(), 0x3063);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02D0
        gbc.setState(0x57c5, 0xd8f0, 0x1880, 0xa412, 0xdabc, 0x526, 0x1, 0x0);
        gbc.writeMem(0x57c5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xd8f0);
        EXPECT(gbc.pc(), 0x57c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02D1
        gbc.setState(0xb99f, 0xb9a2, 0xeec0, 0x494f, 0xab99, 0x8ecd, 0x1, 0x0);
        gbc.writeMem(0xb99f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xb9a2);
        EXPECT(gbc.pc(), 0xb9a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb99f), 0xcb);
        EXPECT(gbc.readMem(0xb9a0), 0x11);
        // CB 11 02D2
        gbc.setState(0x51ac, 0x11b3, 0x3530, 0x2d9f, 0xe6eb, 0x170, 0x1, 0x0);
        gbc.writeMem(0x51ac, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x11b3);
        EXPECT(gbc.pc(), 0x51ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02D3
        gbc.setState(0x61a2, 0x7d38, 0x50d0, 0x9cd7, 0x144, 0x3d5c, 0x0, 0x0);
        gbc.writeMem(0x61a2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x7d38);
        EXPECT(gbc.pc(), 0x61a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02D5
        gbc.setState(0x5daf, 0x87ff, 0x6f10, 0xad0a, 0xeb79, 0xe15d, 0x0, 0x1);
        gbc.writeMem(0x5daf, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x87ff);
        EXPECT(gbc.pc(), 0x5db1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02D6
        gbc.setState(0x19c9, 0xcec5, 0x2aa0, 0xa38c, 0xdde8, 0xd455, 0x0, 0x0);
        gbc.writeMem(0x19c9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xcec5);
        EXPECT(gbc.pc(), 0x19cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02D7
        gbc.setState(0x352, 0x6aeb, 0x57c0, 0x584e, 0x8abf, 0x7c05, 0x1, 0x0);
        gbc.writeMem(0x352, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x6aeb);
        EXPECT(gbc.pc(), 0x354);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02D8
        gbc.setState(0x9169, 0xd1d, 0xc0a0, 0x54a9, 0x5c5b, 0x4a07, 0x0, 0x0);
        gbc.writeMem(0x9169, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xd1d);
        EXPECT(gbc.pc(), 0x916b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9169), 0xcb);
        EXPECT(gbc.readMem(0x916a), 0x11);
        // CB 11 02D9
        gbc.setState(0x7fed, 0x964f, 0x9c30, 0x36bb, 0xd252, 0x3dbf, 0x0, 0x0);
        gbc.writeMem(0x7fed, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x964f);
        EXPECT(gbc.pc(), 0x7fef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02DA
        gbc.setState(0xdcbb, 0xc68f, 0x5190, 0xebaf, 0x7648, 0x7c1, 0x0, 0x0);
        gbc.writeMem(0xdcbb, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xc68f);
        EXPECT(gbc.pc(), 0xdcbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcbb), 0xcb);
        EXPECT(gbc.readMem(0xdcbc), 0x11);
        // CB 11 02DB
        gbc.setState(0xd857, 0x51b7, 0xdd50, 0x5a4a, 0xc31d, 0xcbe, 0x1, 0x0);
        gbc.writeMem(0xd857, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x51b7);
        EXPECT(gbc.pc(), 0xd859);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd857), 0xcb);
        EXPECT(gbc.readMem(0xd858), 0x11);
        // CB 11 02DC
        gbc.setState(0xda19, 0xf3b8, 0xb9a0, 0x7a04, 0x5f8f, 0x10d2, 0x0, 0x1);
        gbc.writeMem(0xda19, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xf3b8);
        EXPECT(gbc.pc(), 0xda1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda19), 0xcb);
        EXPECT(gbc.readMem(0xda1a), 0x11);
        // CB 11 02DD
        gbc.setState(0xcee7, 0xac05, 0xb4b0, 0x92ea, 0x7d57, 0x746e, 0x0, 0x0);
        gbc.writeMem(0xcee7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xac05);
        EXPECT(gbc.pc(), 0xcee9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcee7), 0xcb);
        EXPECT(gbc.readMem(0xcee8), 0x11);
        // CB 11 02DE
        gbc.setState(0x405d, 0xb6b6, 0x1790, 0x5a31, 0x947f, 0x4e17, 0x1, 0x0);
        gbc.writeMem(0x405d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xb6b6);
        EXPECT(gbc.pc(), 0x405f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02DF
        gbc.setState(0xc9, 0x65f2, 0xc3e0, 0x9538, 0x73c0, 0xc00b, 0x0, 0x0);
        gbc.writeMem(0xc9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x65f2);
        EXPECT(gbc.pc(), 0xcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02E1
        gbc.setState(0xc8ac, 0xcb21, 0x67a0, 0xded, 0xad4c, 0x44b4, 0x1, 0x0);
        gbc.writeMem(0xc8ac, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xcb21);
        EXPECT(gbc.pc(), 0xc8ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8ac), 0xcb);
        EXPECT(gbc.readMem(0xc8ad), 0x11);
        // CB 11 02E2
        gbc.setState(0x9a41, 0xd27e, 0x5780, 0xcf5c, 0xbabe, 0xbe54, 0x0, 0x1);
        gbc.writeMem(0x9a41, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xd27e);
        EXPECT(gbc.pc(), 0x9a43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a41), 0xcb);
        EXPECT(gbc.readMem(0x9a42), 0x11);
        // CB 11 02E3
        gbc.setState(0x83d5, 0x8250, 0x12e0, 0x60e1, 0x80d6, 0x7930, 0x0, 0x0);
        gbc.writeMem(0x83d5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x8250);
        EXPECT(gbc.pc(), 0x83d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83d5), 0xcb);
        EXPECT(gbc.readMem(0x83d6), 0x11);
        // CB 11 02E4
        gbc.setState(0x10cf, 0x6735, 0xcc30, 0x4737, 0x1757, 0x1130, 0x0, 0x0);
        gbc.writeMem(0x10cf, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x6735);
        EXPECT(gbc.pc(), 0x10d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02E5
        gbc.setState(0xe2f6, 0xc88, 0x3490, 0xf3e7, 0xa87f, 0x5cb2, 0x0, 0x0);
        gbc.writeMem(0xe2f6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xc88);
        EXPECT(gbc.pc(), 0xe2f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2f6), 0xcb);
        EXPECT(gbc.readMem(0xe2f7), 0x11);
        // CB 11 02E6
        gbc.setState(0x1d4c, 0xfb69, 0x44e0, 0x8a68, 0xd61a, 0x4e5e, 0x1, 0x1);
        gbc.writeMem(0x1d4c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xfb69);
        EXPECT(gbc.pc(), 0x1d4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02E7
        gbc.setState(0x400c, 0x4c00, 0xa1b0, 0x4b0c, 0xa465, 0xae03, 0x0, 0x1);
        gbc.writeMem(0x400c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x4c00);
        EXPECT(gbc.pc(), 0x400e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02E8
        gbc.setState(0x93af, 0x579, 0xdde0, 0xa35f, 0xf105, 0x25ca, 0x1, 0x1);
        gbc.writeMem(0x93af, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x579);
        EXPECT(gbc.pc(), 0x93b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93af), 0xcb);
        EXPECT(gbc.readMem(0x93b0), 0x11);
        // CB 11 02E9
        gbc.setState(0x2740, 0x5d98, 0xe270, 0xb5fc, 0xd669, 0xee67, 0x0, 0x0);
        gbc.writeMem(0x2740, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x5d98);
        EXPECT(gbc.pc(), 0x2742);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02EA
        gbc.setState(0x5da6, 0x71d1, 0xf020, 0xb1f6, 0x7c2d, 0x625, 0x1, 0x0);
        gbc.writeMem(0x5da6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x71d1);
        EXPECT(gbc.pc(), 0x5da8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02EB
        gbc.setState(0x14f3, 0x8eec, 0x1490, 0xb743, 0x6422, 0x25e8, 0x0, 0x1);
        gbc.writeMem(0x14f3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x8eec);
        EXPECT(gbc.pc(), 0x14f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02EC
        gbc.setState(0x6bc, 0xae14, 0xa140, 0x802d, 0xe6a2, 0x82e4, 0x0, 0x0);
        gbc.writeMem(0x6bc, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xae14);
        EXPECT(gbc.pc(), 0x6be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02ED
        gbc.setState(0x5d70, 0x7421, 0x6c90, 0xb71e, 0x50b9, 0x2204, 0x1, 0x1);
        gbc.writeMem(0x5d70, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x7421);
        EXPECT(gbc.pc(), 0x5d72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02EE
        gbc.setState(0x9b9a, 0xbbd5, 0x83f0, 0x1f2, 0x9ca3, 0xd15f, 0x1, 0x0);
        gbc.writeMem(0x9b9a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xbbd5);
        EXPECT(gbc.pc(), 0x9b9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b9a), 0xcb);
        EXPECT(gbc.readMem(0x9b9b), 0x11);
        // CB 11 02EF
        gbc.setState(0xa004, 0x9be2, 0xe0c0, 0xa09d, 0xa584, 0xcdf2, 0x0, 0x0);
        gbc.writeMem(0xa004, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x9be2);
        EXPECT(gbc.pc(), 0xa006);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa004), 0xcb);
        EXPECT(gbc.readMem(0xa005), 0x11);
        // CB 11 02F0
        gbc.setState(0xc648, 0x54a9, 0xa10, 0xb771, 0x79b5, 0x16bb, 0x0, 0x0);
        gbc.writeMem(0xc648, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x54a9);
        EXPECT(gbc.pc(), 0xc64a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc648), 0xcb);
        EXPECT(gbc.readMem(0xc649), 0x11);
        // CB 11 02F1
        gbc.setState(0x332e, 0x69d9, 0x41d0, 0xf49e, 0xcdf4, 0xcfc6, 0x1, 0x1);
        gbc.writeMem(0x332e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x69d9);
        EXPECT(gbc.pc(), 0x3330);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02F2
        gbc.setState(0x9997, 0x52b1, 0x8e60, 0x4609, 0xcbb, 0xe0ed, 0x1, 0x1);
        gbc.writeMem(0x9997, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x52b1);
        EXPECT(gbc.pc(), 0x9999);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9997), 0xcb);
        EXPECT(gbc.readMem(0x9998), 0x11);
        // CB 11 02F3
        gbc.setState(0x80d1, 0x2b54, 0x2f20, 0xd04d, 0xf80d, 0x59a4, 0x0, 0x1);
        gbc.writeMem(0x80d1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x2b54);
        EXPECT(gbc.pc(), 0x80d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80d1), 0xcb);
        EXPECT(gbc.readMem(0x80d2), 0x11);
        // CB 11 02F4
        gbc.setState(0x986b, 0xda5e, 0xa4e0, 0x8a97, 0x44b6, 0xb9d2, 0x0, 0x0);
        gbc.writeMem(0x986b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xda5e);
        EXPECT(gbc.pc(), 0x986d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x986b), 0xcb);
        EXPECT(gbc.readMem(0x986c), 0x11);
        // CB 11 02F5
        gbc.setState(0x21ce, 0x7458, 0x7c90, 0x6151, 0x4225, 0x6837, 0x0, 0x1);
        gbc.writeMem(0x21ce, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x7458);
        EXPECT(gbc.pc(), 0x21d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02F6
        gbc.setState(0x1c20, 0x5932, 0xce60, 0xe398, 0x1c39, 0xaea6, 0x1, 0x1);
        gbc.writeMem(0x1c20, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x5932);
        EXPECT(gbc.pc(), 0x1c22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02F7
        gbc.setState(0xb23b, 0xa840, 0x1af0, 0x9b64, 0x9af7, 0x331a, 0x0, 0x1);
        gbc.writeMem(0xb23b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xa840);
        EXPECT(gbc.pc(), 0xb23d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb23b), 0xcb);
        EXPECT(gbc.readMem(0xb23c), 0x11);
        // CB 11 02F8
        gbc.setState(0x243e, 0xe1c6, 0xcd80, 0x30c6, 0x1fc5, 0xa6be, 0x0, 0x1);
        gbc.writeMem(0x243e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xe1c6);
        EXPECT(gbc.pc(), 0x2440);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 02FA
        gbc.setState(0xec16, 0xeed3, 0x31e0, 0x4fa1, 0x2df2, 0x30f9, 0x1, 0x0);
        gbc.writeMem(0xec16, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xeed3);
        EXPECT(gbc.pc(), 0xec18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec16), 0xcb);
        EXPECT(gbc.readMem(0xec17), 0x11);
        // CB 11 02FC
        gbc.setState(0xd8f9, 0x23e4, 0x6660, 0x5ce8, 0x2afb, 0x8f92, 0x1, 0x0);
        gbc.writeMem(0xd8f9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x23e4);
        EXPECT(gbc.pc(), 0xd8fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8f9), 0xcb);
        EXPECT(gbc.readMem(0xd8fa), 0x11);
        // CB 11 02FD
        gbc.setState(0xcf97, 0x35b7, 0x7bd0, 0x6c58, 0x7c60, 0x6c5d, 0x1, 0x0);
        gbc.writeMem(0xcf97, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x35b7);
        EXPECT(gbc.pc(), 0xcf99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf97), 0xcb);
        EXPECT(gbc.readMem(0xcf98), 0x11);
        // CB 11 02FE
        gbc.setState(0x4eff, 0xc86e, 0xda80, 0xbe5d, 0xb37c, 0x886d, 0x0, 0x1);
        gbc.writeMem(0x4eff, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xc86e);
        EXPECT(gbc.pc(), 0x4f01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 02FF
        gbc.setState(0xd2da, 0xa233, 0x6b30, 0xe9, 0xe1b, 0x1d2, 0x0, 0x0);
        gbc.writeMem(0xd2da, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xa233);
        EXPECT(gbc.pc(), 0xd2dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2da), 0xcb);
        EXPECT(gbc.readMem(0xd2db), 0x11);
        // CB 11 0300
        gbc.setState(0x3336, 0xa214, 0x1a40, 0x9279, 0xe962, 0xab5e, 0x0, 0x1);
        gbc.writeMem(0x3336, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xa214);
        EXPECT(gbc.pc(), 0x3338);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0302
        gbc.setState(0xe48c, 0x751a, 0x5420, 0x8604, 0x20e8, 0x17d0, 0x1, 0x1);
        gbc.writeMem(0xe48c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x751a);
        EXPECT(gbc.pc(), 0xe48e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe48c), 0xcb);
        EXPECT(gbc.readMem(0xe48d), 0x11);
        // CB 11 0303
        gbc.setState(0x444b, 0xb57d, 0x6450, 0x7519, 0xdfcd, 0x850e, 0x1, 0x1);
        gbc.writeMem(0x444b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xb57d);
        EXPECT(gbc.pc(), 0x444d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0304
        gbc.setState(0x4ea9, 0x4793, 0xaa70, 0xc7bc, 0xc516, 0xd4e3, 0x1, 0x0);
        gbc.writeMem(0x4ea9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x4793);
        EXPECT(gbc.pc(), 0x4eab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0305
        gbc.setState(0x6068, 0x1284, 0x8cf0, 0x771c, 0x2d1d, 0x8628, 0x1, 0x0);
        gbc.writeMem(0x6068, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x1284);
        EXPECT(gbc.pc(), 0x606a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0306
        gbc.setState(0xd164, 0xe225, 0x7960, 0x2bb5, 0x3888, 0x416, 0x0, 0x0);
        gbc.writeMem(0xd164, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xe225);
        EXPECT(gbc.pc(), 0xd166);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd164), 0xcb);
        EXPECT(gbc.readMem(0xd165), 0x11);
        // CB 11 0307
        gbc.setState(0x1b29, 0xd095, 0xc2e0, 0x42cb, 0x7765, 0xe0bf, 0x1, 0x1);
        gbc.writeMem(0x1b29, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xd095);
        EXPECT(gbc.pc(), 0x1b2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0308
        gbc.setState(0x35c, 0xe140, 0x22e0, 0x5217, 0xf66e, 0x9a6c, 0x1, 0x1);
        gbc.writeMem(0x35c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xe140);
        EXPECT(gbc.pc(), 0x35e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0309
        gbc.setState(0x8f50, 0x43ae, 0xdcd0, 0xe321, 0xad61, 0x379c, 0x0, 0x0);
        gbc.writeMem(0x8f50, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x43ae);
        EXPECT(gbc.pc(), 0x8f52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f50), 0xcb);
        EXPECT(gbc.readMem(0x8f51), 0x11);
        // CB 11 030A
        gbc.setState(0x374, 0xd821, 0x4130, 0xcfd4, 0xbdb2, 0x2328, 0x0, 0x1);
        gbc.writeMem(0x374, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xd821);
        EXPECT(gbc.pc(), 0x376);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 030C
        gbc.setState(0x4b21, 0xe0c2, 0x7190, 0x87dc, 0xa443, 0x6175, 0x1, 0x0);
        gbc.writeMem(0x4b21, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xe0c2);
        EXPECT(gbc.pc(), 0x4b23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 030D
        gbc.setState(0x38e0, 0x58d, 0x8540, 0x34d0, 0xd40c, 0xef65, 0x1, 0x1);
        gbc.writeMem(0x38e0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x58d);
        EXPECT(gbc.pc(), 0x38e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 030E
        gbc.setState(0x7e41, 0x6eb0, 0xb820, 0xc401, 0xfe7b, 0x80d1, 0x1, 0x1);
        gbc.writeMem(0x7e41, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x6eb0);
        EXPECT(gbc.pc(), 0x7e43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 030F
        gbc.setState(0xcd5d, 0x208c, 0xc330, 0x1b7c, 0x3028, 0x8ee9, 0x1, 0x0);
        gbc.writeMem(0xcd5d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x208c);
        EXPECT(gbc.pc(), 0xcd5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd5d), 0xcb);
        EXPECT(gbc.readMem(0xcd5e), 0x11);
        // CB 11 0310
        gbc.setState(0xdc25, 0x2871, 0x7be0, 0xae12, 0xd390, 0x94a1, 0x0, 0x0);
        gbc.writeMem(0xdc25, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x2871);
        EXPECT(gbc.pc(), 0xdc27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc25), 0xcb);
        EXPECT(gbc.readMem(0xdc26), 0x11);
        // CB 11 0311
        gbc.setState(0x1a71, 0x42b1, 0xbfb0, 0xd5dd, 0xe644, 0x37d8, 0x1, 0x0);
        gbc.writeMem(0x1a71, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x42b1);
        EXPECT(gbc.pc(), 0x1a73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0312
        gbc.setState(0x6d20, 0xd7ff, 0xbfd0, 0x2c0f, 0xfad0, 0x3b4f, 0x0, 0x0);
        gbc.writeMem(0x6d20, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xd7ff);
        EXPECT(gbc.pc(), 0x6d22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0313
        gbc.setState(0xa5bd, 0x5517, 0x21f0, 0xbc91, 0x9806, 0x66c7, 0x1, 0x0);
        gbc.writeMem(0xa5bd, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x5517);
        EXPECT(gbc.pc(), 0xa5bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5bd), 0xcb);
        EXPECT(gbc.readMem(0xa5be), 0x11);
        // CB 11 0314
        gbc.setState(0x13c3, 0xbe4b, 0x6530, 0xd2bb, 0xbc2b, 0x267c, 0x0, 0x0);
        gbc.writeMem(0x13c3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xbe4b);
        EXPECT(gbc.pc(), 0x13c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0315
        gbc.setState(0xdcb2, 0x5e95, 0xbc70, 0xf57f, 0x195e, 0xe3b8, 0x0, 0x1);
        gbc.writeMem(0xdcb2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x5e95);
        EXPECT(gbc.pc(), 0xdcb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcb2), 0xcb);
        EXPECT(gbc.readMem(0xdcb3), 0x11);
        // CB 11 0316
        gbc.setState(0x8456, 0xa31c, 0xa710, 0xde2, 0xe7df, 0x8f2a, 0x1, 0x0);
        gbc.writeMem(0x8456, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xa31c);
        EXPECT(gbc.pc(), 0x8458);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8456), 0xcb);
        EXPECT(gbc.readMem(0x8457), 0x11);
        // CB 11 0317
        gbc.setState(0xc2dc, 0x9147, 0xbf70, 0x12cd, 0xa027, 0x13df, 0x1, 0x0);
        gbc.writeMem(0xc2dc, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x9147);
        EXPECT(gbc.pc(), 0xc2de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2dc), 0xcb);
        EXPECT(gbc.readMem(0xc2dd), 0x11);
        // CB 11 0318
        gbc.setState(0x521d, 0xd2cf, 0x7eb0, 0x3c28, 0xe1bd, 0xdab1, 0x0, 0x1);
        gbc.writeMem(0x521d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xd2cf);
        EXPECT(gbc.pc(), 0x521f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0319
        gbc.setState(0x4a27, 0xe32d, 0x3580, 0x8ed9, 0x6187, 0x8d79, 0x0, 0x0);
        gbc.writeMem(0x4a27, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xe32d);
        EXPECT(gbc.pc(), 0x4a29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 031A
        gbc.setState(0x51dc, 0xf47d, 0x640, 0x9d68, 0xa5b6, 0x6ea0, 0x0, 0x0);
        gbc.writeMem(0x51dc, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xf47d);
        EXPECT(gbc.pc(), 0x51de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 031B
        gbc.setState(0x7f8c, 0x1509, 0xda40, 0xaf66, 0xb8b4, 0x5023, 0x1, 0x0);
        gbc.writeMem(0x7f8c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1509);
        EXPECT(gbc.pc(), 0x7f8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 031C
        gbc.setState(0x3dc1, 0xe205, 0x3bf0, 0xa474, 0x9caa, 0xfc7f, 0x0, 0x0);
        gbc.writeMem(0x3dc1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe205);
        EXPECT(gbc.pc(), 0x3dc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 031D
        gbc.setState(0x4ad0, 0x533, 0x2420, 0xeaed, 0xef6f, 0x4c4d, 0x1, 0x1);
        gbc.writeMem(0x4ad0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x533);
        EXPECT(gbc.pc(), 0x4ad2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 031E
        gbc.setState(0xdd87, 0x3086, 0x1d70, 0xbcc2, 0xe8e3, 0xbf3c, 0x0, 0x0);
        gbc.writeMem(0xdd87, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x3086);
        EXPECT(gbc.pc(), 0xdd89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd87), 0xcb);
        EXPECT(gbc.readMem(0xdd88), 0x11);
        // CB 11 0320
        gbc.setState(0xb6a, 0xb44a, 0xc7c0, 0x936d, 0x46ab, 0xb184, 0x0, 0x0);
        gbc.writeMem(0xb6a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xb44a);
        EXPECT(gbc.pc(), 0xb6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0321
        gbc.setState(0x2a3d, 0xea58, 0xe7f0, 0xd032, 0x4399, 0x93fa, 0x1, 0x0);
        gbc.writeMem(0x2a3d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xea58);
        EXPECT(gbc.pc(), 0x2a3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0322
        gbc.setState(0x6156, 0x6bfd, 0x67c0, 0x329f, 0x2ef6, 0x83bd, 0x1, 0x1);
        gbc.writeMem(0x6156, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x6bfd);
        EXPECT(gbc.pc(), 0x6158);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0323
        gbc.setState(0x11f9, 0xafda, 0x6300, 0x492a, 0x1f50, 0x7cae, 0x1, 0x0);
        gbc.writeMem(0x11f9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xafda);
        EXPECT(gbc.pc(), 0x11fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0324
        gbc.setState(0x6ad9, 0xb01e, 0x8b70, 0xe526, 0xdb01, 0xe936, 0x0, 0x0);
        gbc.writeMem(0x6ad9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xb01e);
        EXPECT(gbc.pc(), 0x6adb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0325
        gbc.setState(0xe823, 0x2deb, 0xe0e0, 0x4092, 0x439b, 0xd7b0, 0x0, 0x1);
        gbc.writeMem(0xe823, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x2deb);
        EXPECT(gbc.pc(), 0xe825);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe823), 0xcb);
        EXPECT(gbc.readMem(0xe824), 0x11);
        // CB 11 0326
        gbc.setState(0xe7c7, 0x9f96, 0x380, 0xf674, 0x776e, 0xcbac, 0x0, 0x0);
        gbc.writeMem(0xe7c7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x9f96);
        EXPECT(gbc.pc(), 0xe7c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7c7), 0xcb);
        EXPECT(gbc.readMem(0xe7c8), 0x11);
        // CB 11 0327
        gbc.setState(0x33e9, 0x58c3, 0xcd70, 0xd29, 0x26b4, 0xf84f, 0x1, 0x0);
        gbc.writeMem(0x33e9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x58c3);
        EXPECT(gbc.pc(), 0x33eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0329
        gbc.setState(0xce4f, 0x94b9, 0x73c0, 0x53af, 0x2b0c, 0x18d8, 0x1, 0x1);
        gbc.writeMem(0xce4f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x94b9);
        EXPECT(gbc.pc(), 0xce51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce4f), 0xcb);
        EXPECT(gbc.readMem(0xce50), 0x11);
        // CB 11 032C
        gbc.setState(0x104c, 0x40d0, 0xd7f0, 0xe506, 0x6d8, 0x360d, 0x1, 0x0);
        gbc.writeMem(0x104c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x40d0);
        EXPECT(gbc.pc(), 0x104e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 032D
        gbc.setState(0x62d8, 0x8657, 0x17c0, 0x4016, 0xbb75, 0xe073, 0x0, 0x0);
        gbc.writeMem(0x62d8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x8657);
        EXPECT(gbc.pc(), 0x62da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 032E
        gbc.setState(0xd4ff, 0x9225, 0x2400, 0xc514, 0x7ee, 0xadc, 0x0, 0x0);
        gbc.writeMem(0xd4ff, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x9225);
        EXPECT(gbc.pc(), 0xd501);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4ff), 0xcb);
        EXPECT(gbc.readMem(0xd500), 0x11);
        // CB 11 032F
        gbc.setState(0x43c6, 0x3563, 0x630, 0xcfb7, 0x9297, 0x678d, 0x0, 0x0);
        gbc.writeMem(0x43c6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x3563);
        EXPECT(gbc.pc(), 0x43c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0330
        gbc.setState(0x5681, 0xf9d3, 0x5dc0, 0xb392, 0xe41, 0xf209, 0x1, 0x1);
        gbc.writeMem(0x5681, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xf9d3);
        EXPECT(gbc.pc(), 0x5683);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0331
        gbc.setState(0x5fe0, 0x2d70, 0x4610, 0x8de4, 0x4036, 0xeb2f, 0x0, 0x0);
        gbc.writeMem(0x5fe0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x2d70);
        EXPECT(gbc.pc(), 0x5fe2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0332
        gbc.setState(0x61, 0x533, 0xc390, 0xb861, 0xf0d, 0x4e2f, 0x1, 0x1);
        gbc.writeMem(0x61, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x533);
        EXPECT(gbc.pc(), 0x63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0333
        gbc.setState(0x34d5, 0xfd8c, 0x5530, 0x901e, 0x693e, 0x16bd, 0x1, 0x1);
        gbc.writeMem(0x34d5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xfd8c);
        EXPECT(gbc.pc(), 0x34d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0334
        gbc.setState(0x9e27, 0xbfd2, 0x6ca0, 0xd371, 0x8962, 0xd8fb, 0x0, 0x1);
        gbc.writeMem(0x9e27, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xbfd2);
        EXPECT(gbc.pc(), 0x9e29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e27), 0xcb);
        EXPECT(gbc.readMem(0x9e28), 0x11);
        // CB 11 0337
        gbc.setState(0x97e6, 0xfd77, 0x2130, 0xa4d8, 0x8f6d, 0xf14b, 0x0, 0x0);
        gbc.writeMem(0x97e6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xfd77);
        EXPECT(gbc.pc(), 0x97e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97e6), 0xcb);
        EXPECT(gbc.readMem(0x97e7), 0x11);
        // CB 11 0338
        gbc.setState(0x9a35, 0xff3f, 0x1120, 0xa3a1, 0x6f7a, 0xeb65, 0x1, 0x1);
        gbc.writeMem(0x9a35, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xff3f);
        EXPECT(gbc.pc(), 0x9a37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a35), 0xcb);
        EXPECT(gbc.readMem(0x9a36), 0x11);
        // CB 11 0339
        gbc.setState(0xe0a1, 0xd9d2, 0xeac0, 0x9ed2, 0xdb70, 0x5fb5, 0x0, 0x1);
        gbc.writeMem(0xe0a1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xd9d2);
        EXPECT(gbc.pc(), 0xe0a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0a1), 0xcb);
        EXPECT(gbc.readMem(0xe0a2), 0x11);
        // CB 11 033A
        gbc.setState(0x1e92, 0x2f82, 0x92b0, 0x59e5, 0xbf45, 0x1695, 0x0, 0x1);
        gbc.writeMem(0x1e92, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x2f82);
        EXPECT(gbc.pc(), 0x1e94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 033B
        gbc.setState(0xbf8a, 0x4a33, 0xb3c0, 0x39b7, 0x9a1c, 0xaff2, 0x1, 0x1);
        gbc.writeMem(0xbf8a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x4a33);
        EXPECT(gbc.pc(), 0xbf8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf8a), 0xcb);
        EXPECT(gbc.readMem(0xbf8b), 0x11);
        // CB 11 033C
        gbc.setState(0xe87a, 0xecb2, 0x6d80, 0xf5fb, 0x2092, 0xd0e1, 0x1, 0x0);
        gbc.writeMem(0xe87a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xecb2);
        EXPECT(gbc.pc(), 0xe87c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe87a), 0xcb);
        EXPECT(gbc.readMem(0xe87b), 0x11);
        // CB 11 033D
        gbc.setState(0x13f5, 0x6f06, 0xc2b0, 0x165b, 0xc3ef, 0x6587, 0x1, 0x1);
        gbc.writeMem(0x13f5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x6f06);
        EXPECT(gbc.pc(), 0x13f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 033E
        gbc.setState(0x9208, 0xc186, 0xc3f0, 0x9f87, 0x5854, 0x5e48, 0x0, 0x0);
        gbc.writeMem(0x9208, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xc186);
        EXPECT(gbc.pc(), 0x920a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9208), 0xcb);
        EXPECT(gbc.readMem(0x9209), 0x11);
        // CB 11 033F
        gbc.setState(0x615b, 0xbac7, 0xe0d0, 0x1080, 0x9f15, 0xe50, 0x1, 0x1);
        gbc.writeMem(0x615b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xbac7);
        EXPECT(gbc.pc(), 0x615d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0340
        gbc.setState(0x6c93, 0x3817, 0x6050, 0x9e5, 0x8667, 0x9a16, 0x0, 0x1);
        gbc.writeMem(0x6c93, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x3817);
        EXPECT(gbc.pc(), 0x6c95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0341
        gbc.setState(0xdb3, 0xb127, 0x86e0, 0xddcf, 0xa86c, 0xf724, 0x1, 0x1);
        gbc.writeMem(0xdb3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xb127);
        EXPECT(gbc.pc(), 0xdb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0342
        gbc.setState(0x7bfa, 0xa50c, 0xb190, 0xab2f, 0x49f4, 0x35a5, 0x0, 0x0);
        gbc.writeMem(0x7bfa, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xa50c);
        EXPECT(gbc.pc(), 0x7bfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0343
        gbc.setState(0xc6d3, 0xc987, 0xfcf0, 0x4cc7, 0x81cc, 0xa805, 0x1, 0x1);
        gbc.writeMem(0xc6d3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xc987);
        EXPECT(gbc.pc(), 0xc6d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6d3), 0xcb);
        EXPECT(gbc.readMem(0xc6d4), 0x11);
        // CB 11 0344
        gbc.setState(0xc45e, 0x5975, 0x9fb0, 0x6ad1, 0xec7f, 0x9562, 0x0, 0x1);
        gbc.writeMem(0xc45e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x5975);
        EXPECT(gbc.pc(), 0xc460);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc45e), 0xcb);
        EXPECT(gbc.readMem(0xc45f), 0x11);
        // CB 11 0345
        gbc.setState(0xde93, 0xd68a, 0x7850, 0xe6b7, 0x416f, 0xfaca, 0x0, 0x1);
        gbc.writeMem(0xde93, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xd68a);
        EXPECT(gbc.pc(), 0xde95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde93), 0xcb);
        EXPECT(gbc.readMem(0xde94), 0x11);
        // CB 11 0346
        gbc.setState(0x6faa, 0xddd2, 0x24d0, 0x5308, 0x1cf7, 0x3f33, 0x1, 0x0);
        gbc.writeMem(0x6faa, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xddd2);
        EXPECT(gbc.pc(), 0x6fac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0347
        gbc.setState(0xad66, 0x5d8e, 0xf4a0, 0xfa9a, 0xc066, 0x8bbc, 0x1, 0x0);
        gbc.writeMem(0xad66, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x5d8e);
        EXPECT(gbc.pc(), 0xad68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad66), 0xcb);
        EXPECT(gbc.readMem(0xad67), 0x11);
        // CB 11 0348
        gbc.setState(0x1a05, 0x452b, 0x54d0, 0xa116, 0x8e8e, 0x14b0, 0x1, 0x0);
        gbc.writeMem(0x1a05, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x452b);
        EXPECT(gbc.pc(), 0x1a07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0349
        gbc.setState(0x3416, 0x65cf, 0x4510, 0x9ec8, 0xea47, 0xcd44, 0x1, 0x1);
        gbc.writeMem(0x3416, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x65cf);
        EXPECT(gbc.pc(), 0x3418);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 034A
        gbc.setState(0xda5e, 0x24ae, 0x2aa0, 0x100e, 0xe0e, 0x636e, 0x1, 0x1);
        gbc.writeMem(0xda5e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x24ae);
        EXPECT(gbc.pc(), 0xda60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda5e), 0xcb);
        EXPECT(gbc.readMem(0xda5f), 0x11);
        // CB 11 034B
        gbc.setState(0xddf4, 0xe585, 0x57a0, 0x860b, 0x95c8, 0x57c0, 0x1, 0x0);
        gbc.writeMem(0xddf4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xe585);
        EXPECT(gbc.pc(), 0xddf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddf4), 0xcb);
        EXPECT(gbc.readMem(0xddf5), 0x11);
        // CB 11 034C
        gbc.setState(0x765a, 0xfb4d, 0x42a0, 0xb0e3, 0x746a, 0x5ea, 0x0, 0x1);
        gbc.writeMem(0x765a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xfb4d);
        EXPECT(gbc.pc(), 0x765c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 034D
        gbc.setState(0x181b, 0xc015, 0x9c40, 0xc3aa, 0x6df6, 0xbe94, 0x0, 0x1);
        gbc.writeMem(0x181b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xc015);
        EXPECT(gbc.pc(), 0x181d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 034E
        gbc.setState(0x101, 0x6bd9, 0xdee0, 0xe8d3, 0x337, 0x466e, 0x0, 0x1);
        gbc.writeMem(0x101, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x6bd9);
        EXPECT(gbc.pc(), 0x103);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 034F
        gbc.setState(0x394b, 0x5fd6, 0xc850, 0xb838, 0xf6aa, 0xa7b8, 0x0, 0x0);
        gbc.writeMem(0x394b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x5fd6);
        EXPECT(gbc.pc(), 0x394d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0350
        gbc.setState(0xd0d7, 0x2182, 0x910, 0xf58f, 0x9783, 0x79b6, 0x0, 0x1);
        gbc.writeMem(0xd0d7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x2182);
        EXPECT(gbc.pc(), 0xd0d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0d7), 0xcb);
        EXPECT(gbc.readMem(0xd0d8), 0x11);
        // CB 11 0351
        gbc.setState(0x74bc, 0x9219, 0xd250, 0x9e27, 0x3e8c, 0xc64a, 0x1, 0x0);
        gbc.writeMem(0x74bc, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x9219);
        EXPECT(gbc.pc(), 0x74be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0352
        gbc.setState(0xc230, 0xa700, 0x57f0, 0xb9af, 0xb19c, 0xf453, 0x1, 0x0);
        gbc.writeMem(0xc230, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xa700);
        EXPECT(gbc.pc(), 0xc232);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc230), 0xcb);
        EXPECT(gbc.readMem(0xc231), 0x11);
        // CB 11 0353
        gbc.setState(0xeb81, 0xb60c, 0xd930, 0x3f97, 0x689f, 0xed36, 0x0, 0x0);
        gbc.writeMem(0xeb81, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xb60c);
        EXPECT(gbc.pc(), 0xeb83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb81), 0xcb);
        EXPECT(gbc.readMem(0xeb82), 0x11);
        // CB 11 0354
        gbc.setState(0xb24, 0x537e, 0x18d0, 0x3bff, 0xacdd, 0xec29, 0x1, 0x0);
        gbc.writeMem(0xb24, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x537e);
        EXPECT(gbc.pc(), 0xb26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0357
        gbc.setState(0x8a75, 0x3b19, 0xbcd0, 0x8220, 0x999d, 0xc7e2, 0x0, 0x1);
        gbc.writeMem(0x8a75, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x3b19);
        EXPECT(gbc.pc(), 0x8a77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a75), 0xcb);
        EXPECT(gbc.readMem(0x8a76), 0x11);
        // CB 11 0358
        gbc.setState(0x11b, 0x2c44, 0xe9d0, 0x29e4, 0xef56, 0x48d6, 0x1, 0x1);
        gbc.writeMem(0x11b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x2c44);
        EXPECT(gbc.pc(), 0x11d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0359
        gbc.setState(0x75b2, 0x6af, 0x7240, 0x14fa, 0xa2b3, 0xda4, 0x1, 0x1);
        gbc.writeMem(0x75b2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x6af);
        EXPECT(gbc.pc(), 0x75b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 035A
        gbc.setState(0xcf74, 0xe2a7, 0x210, 0xe2db, 0x3aae, 0xa5de, 0x1, 0x0);
        gbc.writeMem(0xcf74, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xe2a7);
        EXPECT(gbc.pc(), 0xcf76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf74), 0xcb);
        EXPECT(gbc.readMem(0xcf75), 0x11);
        // CB 11 035B
        gbc.setState(0x590c, 0x6988, 0x6300, 0x6437, 0x9e8d, 0xb805, 0x1, 0x0);
        gbc.writeMem(0x590c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x6988);
        EXPECT(gbc.pc(), 0x590e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 035C
        gbc.setState(0x7476, 0xf520, 0x8b00, 0x6f22, 0xc79, 0x7aad, 0x1, 0x0);
        gbc.writeMem(0x7476, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xf520);
        EXPECT(gbc.pc(), 0x7478);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 035D
        gbc.setState(0x92c1, 0x1217, 0x4960, 0x3f9e, 0xe64b, 0xc418, 0x1, 0x0);
        gbc.writeMem(0x92c1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x1217);
        EXPECT(gbc.pc(), 0x92c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92c1), 0xcb);
        EXPECT(gbc.readMem(0x92c2), 0x11);
        // CB 11 035E
        gbc.setState(0xb02e, 0xb10a, 0x1690, 0x849a, 0x78a2, 0x3828, 0x1, 0x0);
        gbc.writeMem(0xb02e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb10a);
        EXPECT(gbc.pc(), 0xb030);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb02e), 0xcb);
        EXPECT(gbc.readMem(0xb02f), 0x11);
        // CB 11 035F
        gbc.setState(0x4d23, 0x5599, 0xb830, 0x4749, 0x3278, 0x4241, 0x1, 0x0);
        gbc.writeMem(0x4d23, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x5599);
        EXPECT(gbc.pc(), 0x4d25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0360
        gbc.setState(0x1f63, 0xc0c4, 0xf890, 0xe6d, 0xda71, 0xe83b, 0x0, 0x0);
        gbc.writeMem(0x1f63, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc0c4);
        EXPECT(gbc.pc(), 0x1f65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0361
        gbc.setState(0x31ea, 0xd761, 0xc1a0, 0xa36f, 0x1cc9, 0x6fb2, 0x0, 0x0);
        gbc.writeMem(0x31ea, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xd761);
        EXPECT(gbc.pc(), 0x31ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0362
        gbc.setState(0xe747, 0x961f, 0xa490, 0x2e2, 0x6725, 0xca92, 0x0, 0x1);
        gbc.writeMem(0xe747, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x961f);
        EXPECT(gbc.pc(), 0xe749);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe747), 0xcb);
        EXPECT(gbc.readMem(0xe748), 0x11);
        // CB 11 0363
        gbc.setState(0xf2b, 0xb25d, 0x1020, 0x970e, 0xddcc, 0xbf47, 0x1, 0x1);
        gbc.writeMem(0xf2b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xb25d);
        EXPECT(gbc.pc(), 0xf2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0364
        gbc.setState(0xa016, 0xfda0, 0xfb90, 0x3447, 0xefdf, 0x9b68, 0x0, 0x1);
        gbc.writeMem(0xa016, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xfda0);
        EXPECT(gbc.pc(), 0xa018);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa016), 0xcb);
        EXPECT(gbc.readMem(0xa017), 0x11);
        // CB 11 0365
        gbc.setState(0xbc1e, 0xcb82, 0x69c0, 0xebbe, 0x5c3b, 0xae31, 0x0, 0x1);
        gbc.writeMem(0xbc1e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xcb82);
        EXPECT(gbc.pc(), 0xbc20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc1e), 0xcb);
        EXPECT(gbc.readMem(0xbc1f), 0x11);
        // CB 11 0366
        gbc.setState(0x5130, 0xf2a1, 0xfde0, 0xc092, 0x4699, 0x7460, 0x1, 0x1);
        gbc.writeMem(0x5130, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xf2a1);
        EXPECT(gbc.pc(), 0x5132);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0367
        gbc.setState(0x87e8, 0x4960, 0x8810, 0xa91e, 0x7aba, 0x83b8, 0x0, 0x0);
        gbc.writeMem(0x87e8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x4960);
        EXPECT(gbc.pc(), 0x87ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87e8), 0xcb);
        EXPECT(gbc.readMem(0x87e9), 0x11);
        // CB 11 0368
        gbc.setState(0x462e, 0x53a7, 0x1440, 0x77cd, 0x28c1, 0x2505, 0x0, 0x0);
        gbc.writeMem(0x462e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x53a7);
        EXPECT(gbc.pc(), 0x4630);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0369
        gbc.setState(0x33d8, 0x3745, 0x2940, 0x6679, 0xd724, 0x10ae, 0x1, 0x1);
        gbc.writeMem(0x33d8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x3745);
        EXPECT(gbc.pc(), 0x33da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 036A
        gbc.setState(0xcc80, 0xb678, 0x100, 0x6531, 0xdee0, 0xbef6, 0x1, 0x1);
        gbc.writeMem(0xcc80, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xb678);
        EXPECT(gbc.pc(), 0xcc82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc80), 0xcb);
        EXPECT(gbc.readMem(0xcc81), 0x11);
        // CB 11 036B
        gbc.setState(0xb747, 0x6e80, 0x9e40, 0x7ea1, 0x6fe1, 0x3e95, 0x0, 0x0);
        gbc.writeMem(0xb747, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x6e80);
        EXPECT(gbc.pc(), 0xb749);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb747), 0xcb);
        EXPECT(gbc.readMem(0xb748), 0x11);
        // CB 11 036C
        gbc.setState(0x5a93, 0xf198, 0x3190, 0xf29b, 0x27a1, 0x32de, 0x0, 0x0);
        gbc.writeMem(0x5a93, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xf198);
        EXPECT(gbc.pc(), 0x5a95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 036D
        gbc.setState(0x3dd7, 0xf2dc, 0x5860, 0x927c, 0xfac4, 0xf125, 0x1, 0x1);
        gbc.writeMem(0x3dd7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xf2dc);
        EXPECT(gbc.pc(), 0x3dd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 036E
        gbc.setState(0x6ed3, 0x84d9, 0xedc0, 0xc031, 0xe03f, 0xdaa2, 0x0, 0x0);
        gbc.writeMem(0x6ed3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x84d9);
        EXPECT(gbc.pc(), 0x6ed5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 036F
        gbc.setState(0xb9cb, 0x1b53, 0xddd0, 0x6496, 0x6b81, 0x64e5, 0x0, 0x1);
        gbc.writeMem(0xb9cb, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x1b53);
        EXPECT(gbc.pc(), 0xb9cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9cb), 0xcb);
        EXPECT(gbc.readMem(0xb9cc), 0x11);
        // CB 11 0370
        gbc.setState(0xdbc0, 0x9dac, 0xe330, 0xd553, 0xcfa7, 0xb038, 0x0, 0x1);
        gbc.writeMem(0xdbc0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x9dac);
        EXPECT(gbc.pc(), 0xdbc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbc0), 0xcb);
        EXPECT(gbc.readMem(0xdbc1), 0x11);
        // CB 11 0371
        gbc.setState(0xb908, 0x53af, 0x26d0, 0x497a, 0x3550, 0xf30a, 0x1, 0x0);
        gbc.writeMem(0xb908, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x53af);
        EXPECT(gbc.pc(), 0xb90a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb908), 0xcb);
        EXPECT(gbc.readMem(0xb909), 0x11);
        // CB 11 0372
        gbc.setState(0x7269, 0x2516, 0xc3c0, 0xa6b9, 0x22d0, 0x8f94, 0x0, 0x1);
        gbc.writeMem(0x7269, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x2516);
        EXPECT(gbc.pc(), 0x726b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0373
        gbc.setState(0x3c54, 0x3bf, 0x1520, 0xf287, 0xf054, 0xc9ee, 0x0, 0x1);
        gbc.writeMem(0x3c54, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x3bf);
        EXPECT(gbc.pc(), 0x3c56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0374
        gbc.setState(0x16ac, 0x63ee, 0x8a80, 0xdc0, 0xb240, 0x8191, 0x1, 0x1);
        gbc.writeMem(0x16ac, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x63ee);
        EXPECT(gbc.pc(), 0x16ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0375
        gbc.setState(0xeb0d, 0x421c, 0xeb80, 0xc726, 0x3d67, 0xa3dc, 0x1, 0x0);
        gbc.writeMem(0xeb0d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x421c);
        EXPECT(gbc.pc(), 0xeb0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb0d), 0xcb);
        EXPECT(gbc.readMem(0xeb0e), 0x11);
        // CB 11 0376
        gbc.setState(0xafb2, 0xa33, 0xb6b0, 0xf84, 0x8ff2, 0x1168, 0x0, 0x1);
        gbc.writeMem(0xafb2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xa33);
        EXPECT(gbc.pc(), 0xafb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafb2), 0xcb);
        EXPECT(gbc.readMem(0xafb3), 0x11);
        // CB 11 0377
        gbc.setState(0x8f6f, 0xbdbb, 0xbfb0, 0xaf00, 0x336f, 0x4465, 0x1, 0x0);
        gbc.writeMem(0x8f6f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xbdbb);
        EXPECT(gbc.pc(), 0x8f71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f6f), 0xcb);
        EXPECT(gbc.readMem(0x8f70), 0x11);
        // CB 11 0379
        gbc.setState(0x2454, 0x842a, 0x2420, 0xe5dc, 0x753f, 0x26d5, 0x1, 0x0);
        gbc.writeMem(0x2454, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x842a);
        EXPECT(gbc.pc(), 0x2456);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 037A
        gbc.setState(0x36d5, 0x1327, 0xc4c0, 0xb8c6, 0x3514, 0xf15b, 0x0, 0x1);
        gbc.writeMem(0x36d5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x1327);
        EXPECT(gbc.pc(), 0x36d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 037B
        gbc.setState(0xc1db, 0x910e, 0x9040, 0xc4b6, 0xb7a9, 0x46e1, 0x0, 0x0);
        gbc.writeMem(0xc1db, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x910e);
        EXPECT(gbc.pc(), 0xc1dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1db), 0xcb);
        EXPECT(gbc.readMem(0xc1dc), 0x11);
        // CB 11 037C
        gbc.setState(0xcc4a, 0x8a9b, 0xe340, 0x73de, 0xe2fc, 0x48e, 0x0, 0x1);
        gbc.writeMem(0xcc4a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x8a9b);
        EXPECT(gbc.pc(), 0xcc4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc4a), 0xcb);
        EXPECT(gbc.readMem(0xcc4b), 0x11);
        // CB 11 037D
        gbc.setState(0xd414, 0x3ef1, 0x9bf0, 0x67f7, 0xaece, 0xcb33, 0x1, 0x1);
        gbc.writeMem(0xd414, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x3ef1);
        EXPECT(gbc.pc(), 0xd416);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd414), 0xcb);
        EXPECT(gbc.readMem(0xd415), 0x11);
        // CB 11 037E
        gbc.setState(0x13ec, 0xb783, 0x8df0, 0x4cbf, 0x4c48, 0x1e94, 0x1, 0x0);
        gbc.writeMem(0x13ec, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xb783);
        EXPECT(gbc.pc(), 0x13ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0380
        gbc.setState(0x602c, 0xcaaa, 0x5b0, 0x451f, 0xd4dd, 0x86b0, 0x1, 0x1);
        gbc.writeMem(0x602c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xcaaa);
        EXPECT(gbc.pc(), 0x602e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0381
        gbc.setState(0x441, 0xf71d, 0x19b0, 0x1343, 0x57e5, 0x7b3, 0x0, 0x0);
        gbc.writeMem(0x441, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xf71d);
        EXPECT(gbc.pc(), 0x443);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0382
        gbc.setState(0x5151, 0xc31b, 0x64c0, 0x2c8, 0x4f27, 0x6221, 0x0, 0x0);
        gbc.writeMem(0x5151, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xc31b);
        EXPECT(gbc.pc(), 0x5153);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0383
        gbc.setState(0x5c6, 0x67a8, 0xd1b0, 0x35a6, 0xe281, 0x709a, 0x0, 0x1);
        gbc.writeMem(0x5c6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x67a8);
        EXPECT(gbc.pc(), 0x5c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0384
        gbc.setState(0xad2a, 0x74d6, 0x9cd0, 0xd1, 0xb859, 0xb0e6, 0x0, 0x1);
        gbc.writeMem(0xad2a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x74d6);
        EXPECT(gbc.pc(), 0xad2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad2a), 0xcb);
        EXPECT(gbc.readMem(0xad2b), 0x11);
        // CB 11 0385
        gbc.setState(0xb3a, 0xfc39, 0x1330, 0x1b36, 0x5e25, 0x5d5d, 0x1, 0x1);
        gbc.writeMem(0xb3a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xfc39);
        EXPECT(gbc.pc(), 0xb3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0386
        gbc.setState(0x9e5, 0xf893, 0x7330, 0x334f, 0xcc21, 0x2685, 0x1, 0x0);
        gbc.writeMem(0x9e5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xf893);
        EXPECT(gbc.pc(), 0x9e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0387
        gbc.setState(0xd33a, 0xaf0d, 0x4b90, 0x4904, 0xdf90, 0x8660, 0x1, 0x1);
        gbc.writeMem(0xd33a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xaf0d);
        EXPECT(gbc.pc(), 0xd33c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd33a), 0xcb);
        EXPECT(gbc.readMem(0xd33b), 0x11);
        // CB 11 0388
        gbc.setState(0xc2fe, 0x1efa, 0x96b0, 0x7c6f, 0xcabc, 0x467f, 0x1, 0x0);
        gbc.writeMem(0xc2fe, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x1efa);
        EXPECT(gbc.pc(), 0xc300);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2fe), 0xcb);
        EXPECT(gbc.readMem(0xc2ff), 0x11);
        // CB 11 0389
        gbc.setState(0x7686, 0x21ac, 0x9860, 0x69f, 0xc108, 0x9f7d, 0x1, 0x1);
        gbc.writeMem(0x7686, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x21ac);
        EXPECT(gbc.pc(), 0x7688);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 038B
        gbc.setState(0x4dda, 0xd4d1, 0x4d40, 0x79b8, 0xb059, 0xa29e, 0x1, 0x1);
        gbc.writeMem(0x4dda, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xd4d1);
        EXPECT(gbc.pc(), 0x4ddc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 038C
        gbc.setState(0x243f, 0x8662, 0x6f20, 0x229d, 0xd53c, 0x74bb, 0x1, 0x1);
        gbc.writeMem(0x243f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x8662);
        EXPECT(gbc.pc(), 0x2441);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 038D
        gbc.setState(0xb554, 0x5de9, 0x25d0, 0x1f26, 0xc485, 0x133c, 0x0, 0x1);
        gbc.writeMem(0xb554, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x5de9);
        EXPECT(gbc.pc(), 0xb556);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb554), 0xcb);
        EXPECT(gbc.readMem(0xb555), 0x11);
        // CB 11 038E
        gbc.setState(0x78f3, 0xa618, 0xb660, 0x837f, 0xa568, 0x3d3f, 0x1, 0x1);
        gbc.writeMem(0x78f3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xa618);
        EXPECT(gbc.pc(), 0x78f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 038F
        gbc.setState(0x3c30, 0x5325, 0x3110, 0x1b4f, 0xa8f5, 0xd151, 0x1, 0x1);
        gbc.writeMem(0x3c30, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x5325);
        EXPECT(gbc.pc(), 0x3c32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0390
        gbc.setState(0xaec6, 0xa779, 0x7b0, 0xfadf, 0xc2e3, 0x9bb1, 0x0, 0x1);
        gbc.writeMem(0xaec6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xa779);
        EXPECT(gbc.pc(), 0xaec8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaec6), 0xcb);
        EXPECT(gbc.readMem(0xaec7), 0x11);
        // CB 11 0391
        gbc.setState(0xa5f1, 0x701a, 0xc6e0, 0x47d6, 0x72b6, 0x972, 0x0, 0x0);
        gbc.writeMem(0xa5f1, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x701a);
        EXPECT(gbc.pc(), 0xa5f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5f1), 0xcb);
        EXPECT(gbc.readMem(0xa5f2), 0x11);
        // CB 11 0392
        gbc.setState(0xe6d5, 0xbdc6, 0xbd10, 0x35b5, 0x86a5, 0x1a6f, 0x1, 0x1);
        gbc.writeMem(0xe6d5, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xbdc6);
        EXPECT(gbc.pc(), 0xe6d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6d5), 0xcb);
        EXPECT(gbc.readMem(0xe6d6), 0x11);
        // CB 11 0393
        gbc.setState(0x15f4, 0x516e, 0xdfd0, 0xcdee, 0xc05c, 0x429f, 0x1, 0x1);
        gbc.writeMem(0x15f4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x516e);
        EXPECT(gbc.pc(), 0x15f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 0394
        gbc.setState(0x2d55, 0x9908, 0xf5a0, 0xc72a, 0x7251, 0xbd27, 0x1, 0x1);
        gbc.writeMem(0x2d55, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x9908);
        EXPECT(gbc.pc(), 0x2d57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0395
        gbc.setState(0x3ee0, 0x4b8c, 0x18d0, 0x9e4b, 0xff7f, 0x4894, 0x0, 0x0);
        gbc.writeMem(0x3ee0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x4b8c);
        EXPECT(gbc.pc(), 0x3ee2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0396
        gbc.setState(0x2536, 0x779, 0x3320, 0xf704, 0xf337, 0x3f4d, 0x0, 0x1);
        gbc.writeMem(0x2536, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x779);
        EXPECT(gbc.pc(), 0x2538);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 0397
        gbc.setState(0xe829, 0xcf8b, 0x5980, 0x6f20, 0x31a5, 0xccf2, 0x0, 0x0);
        gbc.writeMem(0xe829, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xcf8b);
        EXPECT(gbc.pc(), 0xe82b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe829), 0xcb);
        EXPECT(gbc.readMem(0xe82a), 0x11);
        // CB 11 0398
        gbc.setState(0x9c0b, 0x8634, 0xbfa0, 0x4484, 0x4508, 0xc032, 0x0, 0x0);
        gbc.writeMem(0x9c0b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x8634);
        EXPECT(gbc.pc(), 0x9c0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c0b), 0xcb);
        EXPECT(gbc.readMem(0x9c0c), 0x11);
        // CB 11 0399
        gbc.setState(0x7573, 0x94ec, 0x4120, 0xe32a, 0xf26f, 0xcf6b, 0x0, 0x1);
        gbc.writeMem(0x7573, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x94ec);
        EXPECT(gbc.pc(), 0x7575);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 039A
        gbc.setState(0x2f52, 0x79fc, 0xdc80, 0x7563, 0x2df6, 0x3629, 0x1, 0x1);
        gbc.writeMem(0x2f52, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x79fc);
        EXPECT(gbc.pc(), 0x2f54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 039B
        gbc.setState(0x3fb8, 0x9a0a, 0xfda0, 0x74ee, 0x55e4, 0x70dc, 0x1, 0x0);
        gbc.writeMem(0x3fb8, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x9a0a);
        EXPECT(gbc.pc(), 0x3fba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 039C
        gbc.setState(0x942d, 0xdd20, 0x9f00, 0xdbf8, 0xa5ba, 0xfab6, 0x1, 0x1);
        gbc.writeMem(0x942d, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xdd20);
        EXPECT(gbc.pc(), 0x942f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x942d), 0xcb);
        EXPECT(gbc.readMem(0x942e), 0x11);
        // CB 11 039D
        gbc.setState(0x1c62, 0x5a96, 0xec40, 0x23e1, 0x44a1, 0x21a0, 0x0, 0x0);
        gbc.writeMem(0x1c62, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x5a96);
        EXPECT(gbc.pc(), 0x1c64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 039E
        gbc.setState(0xb289, 0x1cd6, 0xbef0, 0x5eeb, 0xc183, 0x4731, 0x1, 0x1);
        gbc.writeMem(0xb289, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x1cd6);
        EXPECT(gbc.pc(), 0xb28b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb289), 0xcb);
        EXPECT(gbc.readMem(0xb28a), 0x11);
        // CB 11 039F
        gbc.setState(0xba91, 0xa121, 0x4f90, 0x38f9, 0xfce8, 0x1542, 0x1, 0x1);
        gbc.writeMem(0xba91, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xa121);
        EXPECT(gbc.pc(), 0xba93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba91), 0xcb);
        EXPECT(gbc.readMem(0xba92), 0x11);
        // CB 11 03A0
        gbc.setState(0x453e, 0x45e, 0x4190, 0xf122, 0xda3b, 0xe573, 0x0, 0x1);
        gbc.writeMem(0x453e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x45e);
        EXPECT(gbc.pc(), 0x4540);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03A1
        gbc.setState(0x6803, 0xc893, 0xecd0, 0x5f74, 0x39d, 0x95c6, 0x0, 0x1);
        gbc.writeMem(0x6803, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xc893);
        EXPECT(gbc.pc(), 0x6805);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03A2
        gbc.setState(0x2e2, 0x5f44, 0x5c0, 0x67ad, 0xdf4b, 0xb3ad, 0x1, 0x1);
        gbc.writeMem(0x2e2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x5f44);
        EXPECT(gbc.pc(), 0x2e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 03A5
        gbc.setState(0x934b, 0xa1c0, 0x8130, 0xd535, 0xce18, 0xf682, 0x1, 0x0);
        gbc.writeMem(0x934b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xa1c0);
        EXPECT(gbc.pc(), 0x934d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x934b), 0xcb);
        EXPECT(gbc.readMem(0x934c), 0x11);
        // CB 11 03A7
        gbc.setState(0xc9b6, 0x1a50, 0xdee0, 0x6f50, 0x76d1, 0xb0b6, 0x1, 0x0);
        gbc.writeMem(0xc9b6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x1a50);
        EXPECT(gbc.pc(), 0xc9b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9b6), 0xcb);
        EXPECT(gbc.readMem(0xc9b7), 0x11);
        // CB 11 03A8
        gbc.setState(0x4727, 0x69c5, 0xd1e0, 0xaeae, 0xd46d, 0xfa74, 0x1, 0x1);
        gbc.writeMem(0x4727, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x69c5);
        EXPECT(gbc.pc(), 0x4729);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 03AA
        gbc.setState(0x85d7, 0x85e0, 0x6820, 0x64b, 0xde4b, 0x6aee, 0x0, 0x1);
        gbc.writeMem(0x85d7, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x85e0);
        EXPECT(gbc.pc(), 0x85d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85d7), 0xcb);
        EXPECT(gbc.readMem(0x85d8), 0x11);
        // CB 11 03AB
        gbc.setState(0xc94e, 0x682a, 0x4340, 0x95f6, 0x25ab, 0x388f, 0x0, 0x1);
        gbc.writeMem(0xc94e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x682a);
        EXPECT(gbc.pc(), 0xc950);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc94e), 0xcb);
        EXPECT(gbc.readMem(0xc94f), 0x11);
        // CB 11 03AC
        gbc.setState(0x6379, 0x2598, 0x99c0, 0x497c, 0x9f26, 0x56b1, 0x0, 0x0);
        gbc.writeMem(0x6379, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x2598);
        EXPECT(gbc.pc(), 0x637b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03AD
        gbc.setState(0xa41a, 0x25c2, 0xc360, 0xe06f, 0x9197, 0xef95, 0x0, 0x0);
        gbc.writeMem(0xa41a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x25c2);
        EXPECT(gbc.pc(), 0xa41c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa41a), 0xcb);
        EXPECT(gbc.readMem(0xa41b), 0x11);
        // CB 11 03AE
        gbc.setState(0x9dc3, 0x257a, 0x7e30, 0x2db6, 0xe67, 0xc0f6, 0x1, 0x0);
        gbc.writeMem(0x9dc3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x257a);
        EXPECT(gbc.pc(), 0x9dc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dc3), 0xcb);
        EXPECT(gbc.readMem(0x9dc4), 0x11);
        // CB 11 03AF
        gbc.setState(0x8f01, 0x9b73, 0x93b0, 0x3602, 0xb736, 0xda93, 0x0, 0x0);
        gbc.writeMem(0x8f01, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x9b73);
        EXPECT(gbc.pc(), 0x8f03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f01), 0xcb);
        EXPECT(gbc.readMem(0x8f02), 0x11);
        // CB 11 03B0
        gbc.setState(0x378f, 0xc694, 0x62c0, 0x545, 0xe965, 0x4272, 0x0, 0x0);
        gbc.writeMem(0x378f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xc694);
        EXPECT(gbc.pc(), 0x3791);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03B1
        gbc.setState(0x6dbc, 0x5295, 0x7260, 0x4359, 0x7dd1, 0x6ecc, 0x0, 0x1);
        gbc.writeMem(0x6dbc, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x5295);
        EXPECT(gbc.pc(), 0x6dbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03B2
        gbc.setState(0x1af, 0xfffd, 0x5490, 0x2929, 0x4970, 0x28b2, 0x1, 0x1);
        gbc.writeMem(0x1af, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xfffd);
        EXPECT(gbc.pc(), 0x1b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03B3
        gbc.setState(0x56ae, 0x51f7, 0x36d0, 0xbb01, 0x91fe, 0x2cbe, 0x1, 0x1);
        gbc.writeMem(0x56ae, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x51f7);
        EXPECT(gbc.pc(), 0x56b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03B4
        gbc.setState(0xf75, 0xbbd9, 0x6340, 0xbcbe, 0xcfa0, 0x6878, 0x0, 0x1);
        gbc.writeMem(0xf75, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xbbd9);
        EXPECT(gbc.pc(), 0xf77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 03B5
        gbc.setState(0x6cc0, 0x7213, 0xbd10, 0x7dd8, 0x85f5, 0x7c35, 0x1, 0x0);
        gbc.writeMem(0x6cc0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x7213);
        EXPECT(gbc.pc(), 0x6cc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 03B6
        gbc.setState(0xd268, 0x8262, 0x61e0, 0xcad7, 0x9fb9, 0x8018, 0x0, 0x0);
        gbc.writeMem(0xd268, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x8262);
        EXPECT(gbc.pc(), 0xd26a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd268), 0xcb);
        EXPECT(gbc.readMem(0xd269), 0x11);
        // CB 11 03B7
        gbc.setState(0x3983, 0xfb9e, 0xeef0, 0x3be0, 0x8c49, 0x46b6, 0x0, 0x1);
        gbc.writeMem(0x3983, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xfb9e);
        EXPECT(gbc.pc(), 0x3985);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 03B8
        gbc.setState(0x35ce, 0xfa78, 0xba90, 0xf87, 0xe07b, 0x6ea2, 0x1, 0x0);
        gbc.writeMem(0x35ce, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xfa78);
        EXPECT(gbc.pc(), 0x35d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 03B9
        gbc.setState(0x9193, 0x5be9, 0x79d0, 0xee8e, 0xa96, 0x9d4, 0x0, 0x0);
        gbc.writeMem(0x9193, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x5be9);
        EXPECT(gbc.pc(), 0x9195);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9193), 0xcb);
        EXPECT(gbc.readMem(0x9194), 0x11);
        // CB 11 03BA
        gbc.setState(0x85e3, 0x3478, 0x15d0, 0xb639, 0xc71f, 0xf4ea, 0x0, 0x1);
        gbc.writeMem(0x85e3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x3478);
        EXPECT(gbc.pc(), 0x85e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85e3), 0xcb);
        EXPECT(gbc.readMem(0x85e4), 0x11);
        // CB 11 03BB
        gbc.setState(0x3c5e, 0x96ac, 0xef10, 0x677e, 0x8194, 0xf958, 0x1, 0x1);
        gbc.writeMem(0x3c5e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x96ac);
        EXPECT(gbc.pc(), 0x3c60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03BC
        gbc.setState(0x9af9, 0xf96f, 0xd510, 0x29f, 0x5a17, 0xce17, 0x1, 0x0);
        gbc.writeMem(0x9af9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf96f);
        EXPECT(gbc.pc(), 0x9afb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9af9), 0xcb);
        EXPECT(gbc.readMem(0x9afa), 0x11);
        // CB 11 03BD
        gbc.setState(0x197c, 0xbc27, 0x61e0, 0x285b, 0x7743, 0x1aba, 0x1, 0x1);
        gbc.writeMem(0x197c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xbc27);
        EXPECT(gbc.pc(), 0x197e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03BE
        gbc.setState(0x4c53, 0x5a16, 0x9390, 0x244a, 0xa432, 0x1508, 0x0, 0x1);
        gbc.writeMem(0x4c53, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x5a16);
        EXPECT(gbc.pc(), 0x4c55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03BF
        gbc.setState(0x4044, 0x8ba3, 0xafd0, 0x2c46, 0x189f, 0x6d52, 0x1, 0x1);
        gbc.writeMem(0x4044, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x8ba3);
        EXPECT(gbc.pc(), 0x4046);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03C1
        gbc.setState(0xc241, 0xdaca, 0x1730, 0x546b, 0x9174, 0x85fd, 0x0, 0x1);
        gbc.writeMem(0xc241, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xdaca);
        EXPECT(gbc.pc(), 0xc243);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc241), 0xcb);
        EXPECT(gbc.readMem(0xc242), 0x11);
        // CB 11 03C2
        gbc.setState(0x5d09, 0xa273, 0xce60, 0x120f, 0xe47, 0x995d, 0x0, 0x1);
        gbc.writeMem(0x5d09, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xa273);
        EXPECT(gbc.pc(), 0x5d0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03C3
        gbc.setState(0x38e4, 0x60b, 0x86b0, 0x6d21, 0x2ab4, 0x4600, 0x0, 0x1);
        gbc.writeMem(0x38e4, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x60b);
        EXPECT(gbc.pc(), 0x38e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03C4
        gbc.setState(0x5a1b, 0x75b5, 0x8ae0, 0xe91e, 0x2e75, 0x19dc, 0x0, 0x0);
        gbc.writeMem(0x5a1b, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x75b5);
        EXPECT(gbc.pc(), 0x5a1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03C6
        gbc.setState(0x380c, 0x3991, 0xc990, 0xca20, 0xa5b4, 0x7cfd, 0x1, 0x1);
        gbc.writeMem(0x380c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x3991);
        EXPECT(gbc.pc(), 0x380e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03C7
        gbc.setState(0xd085, 0x65e5, 0x9a30, 0xdfa5, 0x54ad, 0x6dbd, 0x0, 0x1);
        gbc.writeMem(0xd085, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x65e5);
        EXPECT(gbc.pc(), 0xd087);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd085), 0xcb);
        EXPECT(gbc.readMem(0xd086), 0x11);
        // CB 11 03C8
        gbc.setState(0xf0, 0x39a, 0x870, 0x70d6, 0xf087, 0x6e13, 0x0, 0x0);
        gbc.writeMem(0xf0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x39a);
        EXPECT(gbc.pc(), 0xf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 03C9
        gbc.setState(0x8cca, 0x542b, 0x6ef0, 0x48e9, 0xfce1, 0xbf9f, 0x1, 0x1);
        gbc.writeMem(0x8cca, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x542b);
        EXPECT(gbc.pc(), 0x8ccc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cca), 0xcb);
        EXPECT(gbc.readMem(0x8ccb), 0x11);
        // CB 11 03CA
        gbc.setState(0x848a, 0x1e5f, 0x3100, 0x1af2, 0x7ff, 0xc7e3, 0x0, 0x1);
        gbc.writeMem(0x848a, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x1e5f);
        EXPECT(gbc.pc(), 0x848c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x848a), 0xcb);
        EXPECT(gbc.readMem(0x848b), 0x11);
        // CB 11 03CC
        gbc.setState(0xea28, 0x675b, 0xdbf0, 0x742d, 0x9baf, 0xdeb6, 0x1, 0x0);
        gbc.writeMem(0xea28, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x675b);
        EXPECT(gbc.pc(), 0xea2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea28), 0xcb);
        EXPECT(gbc.readMem(0xea29), 0x11);
        // CB 11 03CD
        gbc.setState(0x917c, 0x3806, 0x6d60, 0xe363, 0x4b71, 0x3ee4, 0x0, 0x0);
        gbc.writeMem(0x917c, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x3806);
        EXPECT(gbc.pc(), 0x917e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x917c), 0xcb);
        EXPECT(gbc.readMem(0x917d), 0x11);
        // CB 11 03CE
        gbc.setState(0xd8b3, 0xdf3d, 0x1740, 0x90a5, 0x6513, 0x97c5, 0x1, 0x1);
        gbc.writeMem(0xd8b3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xdf3d);
        EXPECT(gbc.pc(), 0xd8b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8b3), 0xcb);
        EXPECT(gbc.readMem(0xd8b4), 0x11);
        // CB 11 03CF
        gbc.setState(0x4c1f, 0x3443, 0xad20, 0xd26, 0x3b3a, 0xb92, 0x0, 0x1);
        gbc.writeMem(0x4c1f, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x3443);
        EXPECT(gbc.pc(), 0x4c21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03D0
        gbc.setState(0x3610, 0x8d45, 0x9120, 0x9e6e, 0xc0e4, 0xea1a, 0x1, 0x0);
        gbc.writeMem(0x3610, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x8d45);
        EXPECT(gbc.pc(), 0x3612);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03D1
        gbc.setState(0x92a6, 0xdfda, 0x9560, 0xe1e0, 0xe6c4, 0x3ddb, 0x0, 0x1);
        gbc.writeMem(0x92a6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xdfda);
        EXPECT(gbc.pc(), 0x92a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92a6), 0xcb);
        EXPECT(gbc.readMem(0x92a7), 0x11);
        // CB 11 03D2
        gbc.setState(0xaf23, 0x53d4, 0x1450, 0x348c, 0x481, 0xb4c4, 0x0, 0x0);
        gbc.writeMem(0xaf23, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x53d4);
        EXPECT(gbc.pc(), 0xaf25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf23), 0xcb);
        EXPECT(gbc.readMem(0xaf24), 0x11);
        // CB 11 03D3
        gbc.setState(0xd5af, 0xeb35, 0xf2d0, 0x93e4, 0xd8eb, 0xfe92, 0x1, 0x0);
        gbc.writeMem(0xd5af, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xeb35);
        EXPECT(gbc.pc(), 0xd5b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5af), 0xcb);
        EXPECT(gbc.readMem(0xd5b0), 0x11);
        // CB 11 03D4
        gbc.setState(0x9100, 0xc16a, 0xfff0, 0x2e18, 0xa9a3, 0x93b9, 0x1, 0x0);
        gbc.writeMem(0x9100, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xc16a);
        EXPECT(gbc.pc(), 0x9102);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9100), 0xcb);
        EXPECT(gbc.readMem(0x9101), 0x11);
        // CB 11 03D5
        gbc.setState(0x5745, 0x525b, 0x4580, 0x66b8, 0xd1b5, 0x5d3, 0x0, 0x0);
        gbc.writeMem(0x5745, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x525b);
        EXPECT(gbc.pc(), 0x5747);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 03D6
        gbc.setState(0xcf44, 0x8b85, 0xa360, 0x4367, 0x4b6e, 0xc639, 0x1, 0x0);
        gbc.writeMem(0xcf44, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x8b85);
        EXPECT(gbc.pc(), 0xcf46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf44), 0xcb);
        EXPECT(gbc.readMem(0xcf45), 0x11);
        // CB 11 03D7
        gbc.setState(0x9e17, 0x50b5, 0x2870, 0x2ad2, 0x5bf2, 0x8e5, 0x1, 0x0);
        gbc.writeMem(0x9e17, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x50b5);
        EXPECT(gbc.pc(), 0x9e19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e17), 0xcb);
        EXPECT(gbc.readMem(0x9e18), 0x11);
        // CB 11 03D8
        gbc.setState(0xbae0, 0x122b, 0x85d0, 0x8c93, 0x558a, 0x5f58, 0x0, 0x0);
        gbc.writeMem(0xbae0, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x122b);
        EXPECT(gbc.pc(), 0xbae2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbae0), 0xcb);
        EXPECT(gbc.readMem(0xbae1), 0x11);
        // CB 11 03D9
        gbc.setState(0x5ed6, 0x10ba, 0xe320, 0x70eb, 0x9c10, 0xbc78, 0x0, 0x1);
        gbc.writeMem(0x5ed6, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x10ba);
        EXPECT(gbc.pc(), 0x5ed8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 03DA
        gbc.setState(0x38ab, 0x81d1, 0x89b0, 0xd76f, 0x33ac, 0x3bf3, 0x1, 0x0);
        gbc.writeMem(0x38ab, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x81d1);
        EXPECT(gbc.pc(), 0x38ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03DB
        gbc.setState(0x6b5e, 0xfb44, 0xa350, 0x91e8, 0x1081, 0x5156, 0x1, 0x1);
        gbc.writeMem(0x6b5e, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xfb44);
        EXPECT(gbc.pc(), 0x6b60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 03DD
        gbc.setState(0xd454, 0x6779, 0x8760, 0x772a, 0x1c0c, 0x3dae, 0x0, 0x1);
        gbc.writeMem(0xd454, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x6779);
        EXPECT(gbc.pc(), 0xd456);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd454), 0xcb);
        EXPECT(gbc.readMem(0xd455), 0x11);
        // CB 11 03DE
        gbc.setState(0x18a2, 0xa6ab, 0xf1a0, 0x464f, 0x9671, 0xaaef, 0x1, 0x1);
        gbc.writeMem(0x18a2, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xa6ab);
        EXPECT(gbc.pc(), 0x18a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 11 03DF
        gbc.setState(0xc164, 0x8328, 0xa7c0, 0x8ef9, 0x89ed, 0x2a4b, 0x0, 0x0);
        gbc.writeMem(0xc164, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x8328);
        EXPECT(gbc.pc(), 0xc166);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc164), 0xcb);
        EXPECT(gbc.readMem(0xc165), 0x11);
        // CB 11 03E0
        gbc.setState(0xea62, 0x2772, 0xf020, 0xc779, 0x469c, 0x60f5, 0x1, 0x0);
        gbc.writeMem(0xea62, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x2772);
        EXPECT(gbc.pc(), 0xea64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea62), 0xcb);
        EXPECT(gbc.readMem(0xea63), 0x11);
        // CB 11 03E1
        gbc.setState(0xc319, 0xec53, 0x4f10, 0x6b64, 0x859, 0xdcd7, 0x0, 0x1);
        gbc.writeMem(0xc319, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xec53);
        EXPECT(gbc.pc(), 0xc31b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc319), 0xcb);
        EXPECT(gbc.readMem(0xc31a), 0x11);
        // CB 11 03E2
        gbc.setState(0xe7fa, 0x1766, 0xb610, 0xf52d, 0x5e60, 0x51dd, 0x1, 0x0);
        gbc.writeMem(0xe7fa, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x1766);
        EXPECT(gbc.pc(), 0xe7fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7fa), 0xcb);
        EXPECT(gbc.readMem(0xe7fb), 0x11);
        // CB 11 03E3
        gbc.setState(0xe8c9, 0xe05c, 0x9920, 0xf7ad, 0xe1ce, 0xd9cd, 0x0, 0x0);
        gbc.writeMem(0xe8c9, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xe05c);
        EXPECT(gbc.pc(), 0xe8cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8c9), 0xcb);
        EXPECT(gbc.readMem(0xe8ca), 0x11);
        // CB 11 03E4
        gbc.setState(0x1a36, 0xcb24, 0xb630, 0x8fe1, 0xf5c9, 0x898d, 0x0, 0x0);
        gbc.writeMem(0x1a36, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xcb24);
        EXPECT(gbc.pc(), 0x1a38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 11 03E5
        gbc.setState(0xc0ac, 0xfb59, 0xfa00, 0x99ba, 0x4a40, 0x8819, 0x1, 0x0);
        gbc.writeMem(0xc0ac, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xfb59);
        EXPECT(gbc.pc(), 0xc0ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0ac), 0xcb);
        EXPECT(gbc.readMem(0xc0ad), 0x11);
        // CB 11 03E6
        gbc.setState(0xcce3, 0x5ecb, 0xb990, 0xa750, 0xadd3, 0x42e4, 0x1, 0x1);
        gbc.writeMem(0xcce3, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x5ecb);
        EXPECT(gbc.pc(), 0xcce5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcce3), 0xcb);
        EXPECT(gbc.readMem(0xcce4), 0x11);
        // CB 11 03E7
        gbc.setState(0x5178, 0x3f1, 0x5690, 0xf11e, 0xe8e, 0xca63, 0x1, 0x0);
        gbc.writeMem(0x5178, { 0xcb, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x3f1);
        EXPECT(gbc.pc(), 0x517a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
    }
