    TEST(gbcemu, opcode_cb_57) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 57 0000
        gbc.setState(0x3876, 0xb52, 0x5000, 0x66da, 0x938b, 0xe36d, 0x0, 0x1);
        gbc.writeMem(0x3876, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb52);
        EXPECT(gbc.pc(), 0x3878);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0001
        gbc.setState(0x822f, 0x6761, 0x86b0, 0xb7cd, 0x5cfb, 0x2919, 0x0, 0x0);
        gbc.writeMem(0x822f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x6761);
        EXPECT(gbc.pc(), 0x8231);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x822f), 0xcb);
        EXPECT(gbc.readMem(0x8230), 0x57);
        // CB 57 0002
        gbc.setState(0xa48, 0xb3db, 0xe2c0, 0x1a0d, 0x393, 0xb0fa, 0x0, 0x1);
        gbc.writeMem(0xa48, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xb3db);
        EXPECT(gbc.pc(), 0xa4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0003
        gbc.setState(0xea6, 0xd3a, 0xbb00, 0x77e1, 0xe551, 0x6226, 0x1, 0x1);
        gbc.writeMem(0xea6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xd3a);
        EXPECT(gbc.pc(), 0xea8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0004
        gbc.setState(0xe295, 0x63bd, 0x1700, 0xf4c2, 0xc8fe, 0xa0de, 0x1, 0x1);
        gbc.writeMem(0xe295, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x63bd);
        EXPECT(gbc.pc(), 0xe297);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe295), 0xcb);
        EXPECT(gbc.readMem(0xe296), 0x57);
        // CB 57 0005
        gbc.setState(0x5528, 0x3317, 0xa1c0, 0x2279, 0x562c, 0xfcba, 0x0, 0x0);
        gbc.writeMem(0x5528, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x3317);
        EXPECT(gbc.pc(), 0x552a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0006
        gbc.setState(0x4593, 0x2fe2, 0x31c0, 0x16b4, 0xc21, 0x8f17, 0x0, 0x0);
        gbc.writeMem(0x4593, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x2fe2);
        EXPECT(gbc.pc(), 0x4595);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0007
        gbc.setState(0x1d5e, 0xbf12, 0x46c0, 0xc88a, 0x971e, 0x3a97, 0x1, 0x0);
        gbc.writeMem(0x1d5e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xbf12);
        EXPECT(gbc.pc(), 0x1d60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0008
        gbc.setState(0xc2ab, 0xa0d8, 0x8900, 0xa175, 0x91ba, 0xa875, 0x0, 0x1);
        gbc.writeMem(0xc2ab, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa0d8);
        EXPECT(gbc.pc(), 0xc2ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2ab), 0xcb);
        EXPECT(gbc.readMem(0xc2ac), 0x57);
        // CB 57 0009
        gbc.setState(0x71ed, 0xc31e, 0x420, 0xbb64, 0xe3b5, 0xea83, 0x0, 0x1);
        gbc.writeMem(0x71ed, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xc31e);
        EXPECT(gbc.pc(), 0x71ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 000A
        gbc.setState(0xdb0, 0xdfce, 0x27d0, 0x9760, 0x94ac, 0x1517, 0x0, 0x1);
        gbc.writeMem(0xdb0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xdfce);
        EXPECT(gbc.pc(), 0xdb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 000B
        gbc.setState(0x3dc5, 0x146b, 0x5510, 0x2aff, 0x949c, 0x48c7, 0x0, 0x0);
        gbc.writeMem(0x3dc5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x146b);
        EXPECT(gbc.pc(), 0x3dc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 000C
        gbc.setState(0x8c76, 0x6ddb, 0x5b0, 0xa9fc, 0xd134, 0x789b, 0x1, 0x0);
        gbc.writeMem(0x8c76, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6ddb);
        EXPECT(gbc.pc(), 0x8c78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c76), 0xcb);
        EXPECT(gbc.readMem(0x8c77), 0x57);
        // CB 57 000D
        gbc.setState(0xb06d, 0xe6c9, 0xec50, 0xce2c, 0x2bdf, 0x7340, 0x0, 0x0);
        gbc.writeMem(0xb06d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xe6c9);
        EXPECT(gbc.pc(), 0xb06f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb06d), 0xcb);
        EXPECT(gbc.readMem(0xb06e), 0x57);
        // CB 57 000E
        gbc.setState(0x9fba, 0xcc8, 0xa700, 0x4999, 0x279c, 0xa319, 0x0, 0x1);
        gbc.writeMem(0x9fba, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xcc8);
        EXPECT(gbc.pc(), 0x9fbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fba), 0xcb);
        EXPECT(gbc.readMem(0x9fbb), 0x57);
        // CB 57 000F
        gbc.setState(0x2755, 0x6005, 0x3370, 0xc83f, 0xf3c2, 0xf75c, 0x0, 0x0);
        gbc.writeMem(0x2755, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x6005);
        EXPECT(gbc.pc(), 0x2757);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0010
        gbc.setState(0x19d7, 0x7d8c, 0xee00, 0x5e19, 0x3d2f, 0x265a, 0x1, 0x1);
        gbc.writeMem(0x19d7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x7d8c);
        EXPECT(gbc.pc(), 0x19d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0011
        gbc.setState(0xba1d, 0xed97, 0x7ae0, 0x1c23, 0x9713, 0xefae, 0x1, 0x1);
        gbc.writeMem(0xba1d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xed97);
        EXPECT(gbc.pc(), 0xba1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba1d), 0xcb);
        EXPECT(gbc.readMem(0xba1e), 0x57);
        // CB 57 0012
        gbc.setState(0x6250, 0x2677, 0x8ce0, 0x30f0, 0xa62, 0xf439, 0x0, 0x0);
        gbc.writeMem(0x6250, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x2677);
        EXPECT(gbc.pc(), 0x6252);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0013
        gbc.setState(0x40e2, 0xb6a5, 0x9340, 0xf55b, 0x585c, 0x84c5, 0x1, 0x1);
        gbc.writeMem(0x40e2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xb6a5);
        EXPECT(gbc.pc(), 0x40e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0014
        gbc.setState(0x1bd5, 0xff45, 0xdd30, 0x53ea, 0xf3e1, 0xeb83, 0x0, 0x0);
        gbc.writeMem(0x1bd5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xff45);
        EXPECT(gbc.pc(), 0x1bd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0015
        gbc.setState(0x829a, 0x9788, 0x9020, 0xe9ae, 0x370d, 0x15c8, 0x0, 0x0);
        gbc.writeMem(0x829a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x9788);
        EXPECT(gbc.pc(), 0x829c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x829a), 0xcb);
        EXPECT(gbc.readMem(0x829b), 0x57);
        // CB 57 0017
        gbc.setState(0x8b36, 0xf0e8, 0x37e0, 0xb8c3, 0xdeda, 0x94e5, 0x0, 0x1);
        gbc.writeMem(0x8b36, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xf0e8);
        EXPECT(gbc.pc(), 0x8b38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b36), 0xcb);
        EXPECT(gbc.readMem(0x8b37), 0x57);
        // CB 57 0018
        gbc.setState(0xd144, 0x1ba3, 0xc5b0, 0x9683, 0x5aab, 0xd528, 0x0, 0x1);
        gbc.writeMem(0xd144, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x1ba3);
        EXPECT(gbc.pc(), 0xd146);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd144), 0xcb);
        EXPECT(gbc.readMem(0xd145), 0x57);
        // CB 57 0019
        gbc.setState(0x43c5, 0x921a, 0x1c10, 0x6846, 0x2a55, 0x6c53, 0x1, 0x0);
        gbc.writeMem(0x43c5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x921a);
        EXPECT(gbc.pc(), 0x43c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 001A
        gbc.setState(0x13c3, 0x6dfa, 0x8140, 0x1437, 0x4482, 0xcaf2, 0x0, 0x1);
        gbc.writeMem(0x13c3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6dfa);
        EXPECT(gbc.pc(), 0x13c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 001B
        gbc.setState(0x181f, 0xd1e4, 0x87f0, 0x810a, 0x3c85, 0x568d, 0x0, 0x1);
        gbc.writeMem(0x181f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xd1e4);
        EXPECT(gbc.pc(), 0x1821);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 001D
        gbc.setState(0x4d38, 0x25f6, 0x6bf0, 0x4144, 0xca3d, 0x7f5f, 0x1, 0x1);
        gbc.writeMem(0x4d38, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x25f6);
        EXPECT(gbc.pc(), 0x4d3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 001E
        gbc.setState(0xbc1, 0xd6d4, 0xa7b0, 0xbf6a, 0x80e1, 0xeb59, 0x1, 0x1);
        gbc.writeMem(0xbc1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd6d4);
        EXPECT(gbc.pc(), 0xbc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 001F
        gbc.setState(0x2e9c, 0xfec3, 0x9670, 0xe3c8, 0x7a75, 0xc914, 0x0, 0x0);
        gbc.writeMem(0x2e9c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xfec3);
        EXPECT(gbc.pc(), 0x2e9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0020
        gbc.setState(0xc451, 0x7146, 0x4e70, 0xf045, 0x8d76, 0x5e10, 0x0, 0x0);
        gbc.writeMem(0xc451, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x7146);
        EXPECT(gbc.pc(), 0xc453);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc451), 0xcb);
        EXPECT(gbc.readMem(0xc452), 0x57);
        // CB 57 0021
        gbc.setState(0xf78, 0x7e24, 0x33e0, 0xe453, 0x7d24, 0xadc0, 0x1, 0x0);
        gbc.writeMem(0xf78, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x7e24);
        EXPECT(gbc.pc(), 0xf7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0022
        gbc.setState(0x3c2d, 0x4a9b, 0x91a0, 0x17d8, 0x99fd, 0xdb12, 0x1, 0x0);
        gbc.writeMem(0x3c2d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x4a9b);
        EXPECT(gbc.pc(), 0x3c2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0023
        gbc.setState(0x864a, 0xa746, 0x8ed0, 0xbae0, 0x7d13, 0xfe, 0x0, 0x0);
        gbc.writeMem(0x864a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xa746);
        EXPECT(gbc.pc(), 0x864c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x864a), 0xcb);
        EXPECT(gbc.readMem(0x864b), 0x57);
        // CB 57 0024
        gbc.setState(0x9876, 0x66be, 0x7a60, 0x8d6c, 0xd6a5, 0x1f20, 0x0, 0x0);
        gbc.writeMem(0x9876, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x66be);
        EXPECT(gbc.pc(), 0x9878);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9876), 0xcb);
        EXPECT(gbc.readMem(0x9877), 0x57);
        // CB 57 0025
        gbc.setState(0x6dde, 0xe374, 0x6ca0, 0x53f, 0xbbbc, 0xd894, 0x0, 0x0);
        gbc.writeMem(0x6dde, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xe374);
        EXPECT(gbc.pc(), 0x6de0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0026
        gbc.setState(0xebe5, 0x8157, 0xcc20, 0x8c3f, 0x9463, 0x41e0, 0x0, 0x0);
        gbc.writeMem(0xebe5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x8157);
        EXPECT(gbc.pc(), 0xebe7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebe5), 0xcb);
        EXPECT(gbc.readMem(0xebe6), 0x57);
        // CB 57 0027
        gbc.setState(0x8e17, 0x588, 0xcc50, 0x246c, 0x607b, 0xa9d2, 0x0, 0x0);
        gbc.writeMem(0x8e17, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x588);
        EXPECT(gbc.pc(), 0x8e19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e17), 0xcb);
        EXPECT(gbc.readMem(0x8e18), 0x57);
        // CB 57 0028
        gbc.setState(0x458c, 0x94bb, 0x7cd0, 0x842a, 0x8692, 0xdab4, 0x1, 0x0);
        gbc.writeMem(0x458c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x94bb);
        EXPECT(gbc.pc(), 0x458e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0029
        gbc.setState(0x73f5, 0x2fa3, 0x1b60, 0x889a, 0x3da4, 0x8b3a, 0x1, 0x1);
        gbc.writeMem(0x73f5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x2fa3);
        EXPECT(gbc.pc(), 0x73f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 002A
        gbc.setState(0x997f, 0xf714, 0x3fa0, 0xccfc, 0x2092, 0xa635, 0x0, 0x0);
        gbc.writeMem(0x997f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xf714);
        EXPECT(gbc.pc(), 0x9981);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x997f), 0xcb);
        EXPECT(gbc.readMem(0x9980), 0x57);
        // CB 57 002B
        gbc.setState(0xd00d, 0x9ea4, 0xc260, 0xa4c8, 0xff17, 0xa45d, 0x0, 0x0);
        gbc.writeMem(0xd00d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x9ea4);
        EXPECT(gbc.pc(), 0xd00f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd00d), 0xcb);
        EXPECT(gbc.readMem(0xd00e), 0x57);
        // CB 57 002C
        gbc.setState(0xeff, 0xd72d, 0xf0, 0xf31d, 0x475e, 0x9012, 0x0, 0x0);
        gbc.writeMem(0xeff, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xd72d);
        EXPECT(gbc.pc(), 0xf01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 002D
        gbc.setState(0xced, 0x158e, 0x9990, 0x2bcf, 0x11a1, 0x3172, 0x0, 0x0);
        gbc.writeMem(0xced, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x158e);
        EXPECT(gbc.pc(), 0xcef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 002E
        gbc.setState(0x4f68, 0x2450, 0x74a0, 0x3c7b, 0x2053, 0x5c5c, 0x1, 0x1);
        gbc.writeMem(0x4f68, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x2450);
        EXPECT(gbc.pc(), 0x4f6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 002F
        gbc.setState(0x3f60, 0xfdf7, 0xb8e0, 0x916, 0xf97d, 0x210c, 0x0, 0x0);
        gbc.writeMem(0x3f60, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xfdf7);
        EXPECT(gbc.pc(), 0x3f62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0031
        gbc.setState(0xbf2a, 0x5f8c, 0xb470, 0xf533, 0x1092, 0x89df, 0x0, 0x1);
        gbc.writeMem(0xbf2a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x5f8c);
        EXPECT(gbc.pc(), 0xbf2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf2a), 0xcb);
        EXPECT(gbc.readMem(0xbf2b), 0x57);
        // CB 57 0032
        gbc.setState(0x4f65, 0x407e, 0x8670, 0x5e1a, 0x96b6, 0xd622, 0x0, 0x1);
        gbc.writeMem(0x4f65, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x407e);
        EXPECT(gbc.pc(), 0x4f67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0033
        gbc.setState(0x69f7, 0x10dc, 0x2950, 0x5430, 0x8afa, 0x1591, 0x1, 0x1);
        gbc.writeMem(0x69f7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x10dc);
        EXPECT(gbc.pc(), 0x69f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0034
        gbc.setState(0x6a93, 0xd06d, 0x5da0, 0xc900, 0xc8f2, 0xff8, 0x0, 0x1);
        gbc.writeMem(0x6a93, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xd06d);
        EXPECT(gbc.pc(), 0x6a95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0035
        gbc.setState(0xd20a, 0x832, 0x6200, 0xc8be, 0xd358, 0xf56b, 0x0, 0x0);
        gbc.writeMem(0xd20a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x832);
        EXPECT(gbc.pc(), 0xd20c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd20a), 0xcb);
        EXPECT(gbc.readMem(0xd20b), 0x57);
        // CB 57 0036
        gbc.setState(0xc945, 0xa44a, 0xb7b0, 0xaebe, 0xf5a5, 0x4375, 0x1, 0x1);
        gbc.writeMem(0xc945, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa44a);
        EXPECT(gbc.pc(), 0xc947);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc945), 0xcb);
        EXPECT(gbc.readMem(0xc946), 0x57);
        // CB 57 0037
        gbc.setState(0x76ce, 0xa6cc, 0xabc0, 0xd260, 0xbadb, 0xf591, 0x1, 0x0);
        gbc.writeMem(0x76ce, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xa6cc);
        EXPECT(gbc.pc(), 0x76d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0038
        gbc.setState(0xa9c, 0x7b89, 0x5470, 0x4ca4, 0x7407, 0x776a, 0x0, 0x0);
        gbc.writeMem(0xa9c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x7b89);
        EXPECT(gbc.pc(), 0xa9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0039
        gbc.setState(0xa3d5, 0x8274, 0xf2a0, 0x62c7, 0x16f8, 0x598a, 0x1, 0x1);
        gbc.writeMem(0xa3d5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x8274);
        EXPECT(gbc.pc(), 0xa3d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3d5), 0xcb);
        EXPECT(gbc.readMem(0xa3d6), 0x57);
        // CB 57 003A
        gbc.setState(0x8fe2, 0xb1b2, 0x4710, 0xfd9b, 0x4ab7, 0xe269, 0x1, 0x0);
        gbc.writeMem(0x8fe2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xb1b2);
        EXPECT(gbc.pc(), 0x8fe4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fe2), 0xcb);
        EXPECT(gbc.readMem(0x8fe3), 0x57);
        // CB 57 003B
        gbc.setState(0x95a0, 0x29d1, 0xbe40, 0x5550, 0xdb33, 0x1538, 0x0, 0x0);
        gbc.writeMem(0x95a0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x29d1);
        EXPECT(gbc.pc(), 0x95a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95a0), 0xcb);
        EXPECT(gbc.readMem(0x95a1), 0x57);
        // CB 57 003C
        gbc.setState(0x16e9, 0x1b6c, 0x8b30, 0x12d8, 0x7aef, 0x3c1f, 0x1, 0x0);
        gbc.writeMem(0x16e9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x1b6c);
        EXPECT(gbc.pc(), 0x16eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 003D
        gbc.setState(0x8ce5, 0x8f00, 0xe2e0, 0x170f, 0x6fbf, 0xfcd0, 0x1, 0x0);
        gbc.writeMem(0x8ce5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x8f00);
        EXPECT(gbc.pc(), 0x8ce7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ce5), 0xcb);
        EXPECT(gbc.readMem(0x8ce6), 0x57);
        // CB 57 003E
        gbc.setState(0x72c1, 0xd2e8, 0x9b20, 0xa033, 0x2507, 0xca, 0x1, 0x0);
        gbc.writeMem(0x72c1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xd2e8);
        EXPECT(gbc.pc(), 0x72c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 003F
        gbc.setState(0xa040, 0x500c, 0xb150, 0x34c4, 0x56aa, 0x66cf, 0x0, 0x0);
        gbc.writeMem(0xa040, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x500c);
        EXPECT(gbc.pc(), 0xa042);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa040), 0xcb);
        EXPECT(gbc.readMem(0xa041), 0x57);
        // CB 57 0040
        gbc.setState(0x6a6a, 0xa786, 0xd30, 0x1e34, 0xe8f7, 0xcd1d, 0x1, 0x0);
        gbc.writeMem(0x6a6a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xa786);
        EXPECT(gbc.pc(), 0x6a6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0041
        gbc.setState(0xc5c5, 0x1f91, 0xcf70, 0xc786, 0xd40b, 0x565d, 0x1, 0x1);
        gbc.writeMem(0xc5c5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x1f91);
        EXPECT(gbc.pc(), 0xc5c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5c5), 0xcb);
        EXPECT(gbc.readMem(0xc5c6), 0x57);
        // CB 57 0042
        gbc.setState(0xe2b1, 0x6205, 0x1a80, 0xd3f8, 0xcbd0, 0xb051, 0x0, 0x0);
        gbc.writeMem(0xe2b1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x6205);
        EXPECT(gbc.pc(), 0xe2b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2b1), 0xcb);
        EXPECT(gbc.readMem(0xe2b2), 0x57);
        // CB 57 0043
        gbc.setState(0xebbc, 0xfbe9, 0xde00, 0x7f94, 0x3dbf, 0x7468, 0x1, 0x1);
        gbc.writeMem(0xebbc, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xfbe9);
        EXPECT(gbc.pc(), 0xebbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebbc), 0xcb);
        EXPECT(gbc.readMem(0xebbd), 0x57);
        // CB 57 0044
        gbc.setState(0xa065, 0xd135, 0xb790, 0xbbc2, 0x8567, 0xfe43, 0x0, 0x1);
        gbc.writeMem(0xa065, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xd135);
        EXPECT(gbc.pc(), 0xa067);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa065), 0xcb);
        EXPECT(gbc.readMem(0xa066), 0x57);
        // CB 57 0045
        gbc.setState(0x4b31, 0xb1f1, 0x7840, 0x5097, 0xbd24, 0xefbe, 0x1, 0x0);
        gbc.writeMem(0x4b31, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xb1f1);
        EXPECT(gbc.pc(), 0x4b33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0047
        gbc.setState(0xd6be, 0x5d4c, 0x46d0, 0x806e, 0x307, 0x4260, 0x0, 0x1);
        gbc.writeMem(0xd6be, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x5d4c);
        EXPECT(gbc.pc(), 0xd6c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6be), 0xcb);
        EXPECT(gbc.readMem(0xd6bf), 0x57);
        // CB 57 0048
        gbc.setState(0x84f6, 0xbb3d, 0xd670, 0x9295, 0xaf3e, 0x4742, 0x1, 0x1);
        gbc.writeMem(0x84f6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xbb3d);
        EXPECT(gbc.pc(), 0x84f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84f6), 0xcb);
        EXPECT(gbc.readMem(0x84f7), 0x57);
        // CB 57 0049
        gbc.setState(0xcb4, 0xf7da, 0x91e0, 0xde4, 0xbd8b, 0xdf14, 0x0, 0x0);
        gbc.writeMem(0xcb4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xf7da);
        EXPECT(gbc.pc(), 0xcb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 004A
        gbc.setState(0x3418, 0xb522, 0xa00, 0xd57a, 0xc9c1, 0xe74e, 0x0, 0x1);
        gbc.writeMem(0x3418, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xb522);
        EXPECT(gbc.pc(), 0x341a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 004B
        gbc.setState(0xe6a3, 0x3cf, 0x4df0, 0xf686, 0xaf35, 0x6a8f, 0x1, 0x1);
        gbc.writeMem(0xe6a3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x3cf);
        EXPECT(gbc.pc(), 0xe6a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6a3), 0xcb);
        EXPECT(gbc.readMem(0xe6a4), 0x57);
        // CB 57 004C
        gbc.setState(0x3439, 0x8e7b, 0xbcf0, 0xd8bd, 0x4025, 0x4779, 0x0, 0x0);
        gbc.writeMem(0x3439, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x8e7b);
        EXPECT(gbc.pc(), 0x343b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 004D
        gbc.setState(0xbc8f, 0x78eb, 0x7730, 0xe6f6, 0x8fa9, 0xeac7, 0x1, 0x0);
        gbc.writeMem(0xbc8f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x78eb);
        EXPECT(gbc.pc(), 0xbc91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc8f), 0xcb);
        EXPECT(gbc.readMem(0xbc90), 0x57);
        // CB 57 004E
        gbc.setState(0xbf23, 0xec39, 0x9950, 0xa631, 0xc626, 0x9420, 0x0, 0x0);
        gbc.writeMem(0xbf23, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xec39);
        EXPECT(gbc.pc(), 0xbf25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf23), 0xcb);
        EXPECT(gbc.readMem(0xbf24), 0x57);
        // CB 57 004F
        gbc.setState(0xc1ef, 0x9c08, 0x4cd0, 0xef6, 0xa58a, 0x7c8, 0x0, 0x1);
        gbc.writeMem(0xc1ef, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x9c08);
        EXPECT(gbc.pc(), 0xc1f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1ef), 0xcb);
        EXPECT(gbc.readMem(0xc1f0), 0x57);
        // CB 57 0050
        gbc.setState(0xbc62, 0x6028, 0x7670, 0xca54, 0xfcae, 0xd1f2, 0x1, 0x1);
        gbc.writeMem(0xbc62, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6028);
        EXPECT(gbc.pc(), 0xbc64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc62), 0xcb);
        EXPECT(gbc.readMem(0xbc63), 0x57);
        // CB 57 0051
        gbc.setState(0x7392, 0xd3a1, 0xbbd0, 0x2bbf, 0x87d3, 0x2483, 0x1, 0x0);
        gbc.writeMem(0x7392, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xd3a1);
        EXPECT(gbc.pc(), 0x7394);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0052
        gbc.setState(0x3c4e, 0x13d5, 0x15a0, 0x6812, 0x63cb, 0x6708, 0x0, 0x1);
        gbc.writeMem(0x3c4e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x13d5);
        EXPECT(gbc.pc(), 0x3c50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0053
        gbc.setState(0x5520, 0xef76, 0x7c40, 0x14ce, 0x3375, 0x101, 0x1, 0x1);
        gbc.writeMem(0x5520, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xef76);
        EXPECT(gbc.pc(), 0x5522);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0054
        gbc.setState(0x9c6, 0xe0b7, 0x5560, 0xd059, 0x5576, 0x12d2, 0x1, 0x0);
        gbc.writeMem(0x9c6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xe0b7);
        EXPECT(gbc.pc(), 0x9c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0055
        gbc.setState(0x9392, 0xe486, 0xacb0, 0xd158, 0xa7b6, 0x1a19, 0x0, 0x0);
        gbc.writeMem(0x9392, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xe486);
        EXPECT(gbc.pc(), 0x9394);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9392), 0xcb);
        EXPECT(gbc.readMem(0x9393), 0x57);
        // CB 57 0056
        gbc.setState(0x1c44, 0xb955, 0xaeb0, 0x6748, 0xdf66, 0xf9be, 0x0, 0x1);
        gbc.writeMem(0x1c44, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xb955);
        EXPECT(gbc.pc(), 0x1c46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0057
        gbc.setState(0xc033, 0xc95e, 0xe920, 0xb205, 0xec1e, 0xdfd8, 0x1, 0x0);
        gbc.writeMem(0xc033, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xc95e);
        EXPECT(gbc.pc(), 0xc035);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc033), 0xcb);
        EXPECT(gbc.readMem(0xc034), 0x57);
        // CB 57 0058
        gbc.setState(0x9dee, 0xe638, 0x3f70, 0xab1b, 0x9490, 0xb04d, 0x0, 0x1);
        gbc.writeMem(0x9dee, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xe638);
        EXPECT(gbc.pc(), 0x9df0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dee), 0xcb);
        EXPECT(gbc.readMem(0x9def), 0x57);
        // CB 57 0059
        gbc.setState(0x35f9, 0x628c, 0xbb50, 0x1645, 0x4256, 0x3490, 0x1, 0x0);
        gbc.writeMem(0x35f9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x628c);
        EXPECT(gbc.pc(), 0x35fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 005A
        gbc.setState(0x8f2a, 0x1243, 0x9340, 0x167c, 0xf5f4, 0x277, 0x0, 0x1);
        gbc.writeMem(0x8f2a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x1243);
        EXPECT(gbc.pc(), 0x8f2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f2a), 0xcb);
        EXPECT(gbc.readMem(0x8f2b), 0x57);
        // CB 57 005B
        gbc.setState(0xa4ef, 0xb742, 0xeb0, 0xd294, 0xf1ca, 0x1508, 0x0, 0x0);
        gbc.writeMem(0xa4ef, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xb742);
        EXPECT(gbc.pc(), 0xa4f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4ef), 0xcb);
        EXPECT(gbc.readMem(0xa4f0), 0x57);
        // CB 57 005C
        gbc.setState(0x252d, 0xedad, 0xa420, 0xdda8, 0xf92f, 0x87ec, 0x0, 0x1);
        gbc.writeMem(0x252d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xedad);
        EXPECT(gbc.pc(), 0x252f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 005D
        gbc.setState(0x50f8, 0x3a6c, 0x3a30, 0x33b9, 0x2b05, 0x9b75, 0x0, 0x1);
        gbc.writeMem(0x50f8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x3a6c);
        EXPECT(gbc.pc(), 0x50fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 005E
        gbc.setState(0x29e, 0x3603, 0xcf70, 0x2f33, 0x10f9, 0xcdc5, 0x0, 0x1);
        gbc.writeMem(0x29e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x3603);
        EXPECT(gbc.pc(), 0x2a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 005F
        gbc.setState(0x52ee, 0xc946, 0x5f80, 0x7dac, 0x764f, 0xed21, 0x0, 0x1);
        gbc.writeMem(0x52ee, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xc946);
        EXPECT(gbc.pc(), 0x52f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0061
        gbc.setState(0xb2e0, 0xc2e0, 0x6910, 0x728a, 0x56b8, 0x8499, 0x1, 0x1);
        gbc.writeMem(0xb2e0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xc2e0);
        EXPECT(gbc.pc(), 0xb2e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2e0), 0xcb);
        EXPECT(gbc.readMem(0xb2e1), 0x57);
        // CB 57 0062
        gbc.setState(0x6f8c, 0x9198, 0x5000, 0xc9f5, 0x18c1, 0x15db, 0x0, 0x0);
        gbc.writeMem(0x6f8c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x9198);
        EXPECT(gbc.pc(), 0x6f8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0063
        gbc.setState(0xcfdf, 0xa968, 0xa110, 0x32a8, 0xe5a1, 0xadad, 0x0, 0x0);
        gbc.writeMem(0xcfdf, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xa968);
        EXPECT(gbc.pc(), 0xcfe1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfdf), 0xcb);
        EXPECT(gbc.readMem(0xcfe0), 0x57);
        // CB 57 0064
        gbc.setState(0x95cb, 0xa737, 0x9e50, 0xc473, 0xcf87, 0x61cc, 0x1, 0x0);
        gbc.writeMem(0x95cb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xa737);
        EXPECT(gbc.pc(), 0x95cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95cb), 0xcb);
        EXPECT(gbc.readMem(0x95cc), 0x57);
        // CB 57 0065
        gbc.setState(0xeb4a, 0x995a, 0x5580, 0x46a6, 0x6d8f, 0x428e, 0x1, 0x0);
        gbc.writeMem(0xeb4a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x995a);
        EXPECT(gbc.pc(), 0xeb4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb4a), 0xcb);
        EXPECT(gbc.readMem(0xeb4b), 0x57);
        // CB 57 0066
        gbc.setState(0x7f01, 0x8246, 0x6430, 0x73ae, 0xff48, 0x4e93, 0x1, 0x1);
        gbc.writeMem(0x7f01, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x8246);
        EXPECT(gbc.pc(), 0x7f03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0067
        gbc.setState(0xd9d9, 0xfd1a, 0x44f0, 0x6d73, 0xb29e, 0x5411, 0x1, 0x0);
        gbc.writeMem(0xd9d9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xfd1a);
        EXPECT(gbc.pc(), 0xd9db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9d9), 0xcb);
        EXPECT(gbc.readMem(0xd9da), 0x57);
        // CB 57 0068
        gbc.setState(0xc991, 0x4380, 0xc3e0, 0x8b07, 0xe1bb, 0xbaad, 0x1, 0x0);
        gbc.writeMem(0xc991, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x4380);
        EXPECT(gbc.pc(), 0xc993);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc991), 0xcb);
        EXPECT(gbc.readMem(0xc992), 0x57);
        // CB 57 0069
        gbc.setState(0xac91, 0xb16f, 0xa50, 0xdb4d, 0x2e25, 0x3942, 0x1, 0x0);
        gbc.writeMem(0xac91, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xb16f);
        EXPECT(gbc.pc(), 0xac93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac91), 0xcb);
        EXPECT(gbc.readMem(0xac92), 0x57);
        // CB 57 006A
        gbc.setState(0xcc21, 0x80b3, 0xe670, 0xc3f1, 0xcc06, 0xbf5a, 0x1, 0x1);
        gbc.writeMem(0xcc21, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x80b3);
        EXPECT(gbc.pc(), 0xcc23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc21), 0xcb);
        EXPECT(gbc.readMem(0xcc22), 0x57);
        // CB 57 006B
        gbc.setState(0x1ceb, 0x9254, 0x86f0, 0x35f5, 0xede1, 0x537d, 0x1, 0x0);
        gbc.writeMem(0x1ceb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x9254);
        EXPECT(gbc.pc(), 0x1ced);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 006C
        gbc.setState(0xcf8, 0xff36, 0x4330, 0x5060, 0xd8c9, 0x5ada, 0x0, 0x0);
        gbc.writeMem(0xcf8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xff36);
        EXPECT(gbc.pc(), 0xcfa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 006D
        gbc.setState(0x45e0, 0x7d70, 0xfe00, 0xa65d, 0xde18, 0x4295, 0x0, 0x1);
        gbc.writeMem(0x45e0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x7d70);
        EXPECT(gbc.pc(), 0x45e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 006E
        gbc.setState(0x7f32, 0x50d8, 0x1280, 0x1e75, 0xd1, 0x7736, 0x0, 0x1);
        gbc.writeMem(0x7f32, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x50d8);
        EXPECT(gbc.pc(), 0x7f34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 006F
        gbc.setState(0x7bd3, 0x5cd0, 0x1080, 0x775d, 0x67b8, 0xbf02, 0x0, 0x0);
        gbc.writeMem(0x7bd3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x5cd0);
        EXPECT(gbc.pc(), 0x7bd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0070
        gbc.setState(0xd687, 0xf1f6, 0xd960, 0x9d9e, 0x8e7c, 0xe3a7, 0x0, 0x0);
        gbc.writeMem(0xd687, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xf1f6);
        EXPECT(gbc.pc(), 0xd689);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd687), 0xcb);
        EXPECT(gbc.readMem(0xd688), 0x57);
        // CB 57 0071
        gbc.setState(0x403c, 0xb293, 0xadb0, 0xa9c3, 0xd60c, 0xf3ad, 0x1, 0x1);
        gbc.writeMem(0x403c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xb293);
        EXPECT(gbc.pc(), 0x403e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0072
        gbc.setState(0x8522, 0x63bb, 0x95b0, 0x131f, 0x2d54, 0xdfd8, 0x0, 0x1);
        gbc.writeMem(0x8522, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x63bb);
        EXPECT(gbc.pc(), 0x8524);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8522), 0xcb);
        EXPECT(gbc.readMem(0x8523), 0x57);
        // CB 57 0073
        gbc.setState(0xa97a, 0x5e9, 0xea30, 0x77c9, 0x27d5, 0x6b9f, 0x0, 0x1);
        gbc.writeMem(0xa97a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x5e9);
        EXPECT(gbc.pc(), 0xa97c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa97a), 0xcb);
        EXPECT(gbc.readMem(0xa97b), 0x57);
        // CB 57 0074
        gbc.setState(0x1cd9, 0xb4e, 0x1180, 0x68e1, 0x550e, 0x80c2, 0x0, 0x0);
        gbc.writeMem(0x1cd9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xb4e);
        EXPECT(gbc.pc(), 0x1cdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0075
        gbc.setState(0xa7d0, 0xa438, 0x7500, 0xc290, 0xd8c9, 0xe7bc, 0x0, 0x1);
        gbc.writeMem(0xa7d0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xa438);
        EXPECT(gbc.pc(), 0xa7d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7d0), 0xcb);
        EXPECT(gbc.readMem(0xa7d1), 0x57);
        // CB 57 0076
        gbc.setState(0x5f85, 0x423a, 0x4590, 0xfc9c, 0xc200, 0x19a8, 0x1, 0x0);
        gbc.writeMem(0x5f85, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x423a);
        EXPECT(gbc.pc(), 0x5f87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0077
        gbc.setState(0x35cd, 0xee5b, 0x6880, 0x597a, 0x8265, 0x574a, 0x0, 0x0);
        gbc.writeMem(0x35cd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xee5b);
        EXPECT(gbc.pc(), 0x35cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0078
        gbc.setState(0x36fd, 0xb05b, 0xbe40, 0xd197, 0x4072, 0xa7b6, 0x0, 0x0);
        gbc.writeMem(0x36fd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xb05b);
        EXPECT(gbc.pc(), 0x36ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0079
        gbc.setState(0x3943, 0x7b70, 0x2d20, 0xe129, 0xab33, 0xd66d, 0x0, 0x0);
        gbc.writeMem(0x3943, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x7b70);
        EXPECT(gbc.pc(), 0x3945);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 007A
        gbc.setState(0xd33f, 0x8d98, 0x4e30, 0xe4d5, 0xdd2e, 0x2f2f, 0x0, 0x0);
        gbc.writeMem(0xd33f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8d98);
        EXPECT(gbc.pc(), 0xd341);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd33f), 0xcb);
        EXPECT(gbc.readMem(0xd340), 0x57);
        // CB 57 007B
        gbc.setState(0x5d9, 0x94e6, 0x5080, 0x6bc3, 0xc030, 0xffef, 0x1, 0x0);
        gbc.writeMem(0x5d9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x94e6);
        EXPECT(gbc.pc(), 0x5db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 007C
        gbc.setState(0x6ed6, 0xeb5f, 0xf160, 0x4c1e, 0x446b, 0xd097, 0x1, 0x0);
        gbc.writeMem(0x6ed6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xeb5f);
        EXPECT(gbc.pc(), 0x6ed8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 007D
        gbc.setState(0x934c, 0xd021, 0xa650, 0xa457, 0xd10d, 0xd062, 0x1, 0x0);
        gbc.writeMem(0x934c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xd021);
        EXPECT(gbc.pc(), 0x934e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x934c), 0xcb);
        EXPECT(gbc.readMem(0x934d), 0x57);
        // CB 57 007E
        gbc.setState(0x81dd, 0xae17, 0xdf80, 0x7648, 0x5ade, 0x34f7, 0x1, 0x1);
        gbc.writeMem(0x81dd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xae17);
        EXPECT(gbc.pc(), 0x81df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81dd), 0xcb);
        EXPECT(gbc.readMem(0x81de), 0x57);
        // CB 57 0080
        gbc.setState(0x32b7, 0xbf6f, 0xd710, 0xbd20, 0x4ef0, 0x80a0, 0x0, 0x1);
        gbc.writeMem(0x32b7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xbf6f);
        EXPECT(gbc.pc(), 0x32b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0081
        gbc.setState(0x22d3, 0x8b1a, 0xf430, 0x9663, 0x87d6, 0x212, 0x0, 0x1);
        gbc.writeMem(0x22d3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x8b1a);
        EXPECT(gbc.pc(), 0x22d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0082
        gbc.setState(0xa00a, 0xb828, 0x3a30, 0xcb2, 0x5846, 0xcdad, 0x1, 0x0);
        gbc.writeMem(0xa00a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xb828);
        EXPECT(gbc.pc(), 0xa00c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa00a), 0xcb);
        EXPECT(gbc.readMem(0xa00b), 0x57);
        // CB 57 0085
        gbc.setState(0x4737, 0x8c14, 0x90, 0xaeea, 0x2b65, 0xa484, 0x1, 0x1);
        gbc.writeMem(0x4737, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x8c14);
        EXPECT(gbc.pc(), 0x4739);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0086
        gbc.setState(0xb06f, 0x2413, 0x4c70, 0x5a4d, 0x2b60, 0xa275, 0x0, 0x1);
        gbc.writeMem(0xb06f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x2413);
        EXPECT(gbc.pc(), 0xb071);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb06f), 0xcb);
        EXPECT(gbc.readMem(0xb070), 0x57);
        // CB 57 0087
        gbc.setState(0x60bf, 0x296b, 0x6ac0, 0xa7a, 0xa8c5, 0x8c16, 0x1, 0x1);
        gbc.writeMem(0x60bf, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x296b);
        EXPECT(gbc.pc(), 0x60c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0088
        gbc.setState(0x7ede, 0xcab, 0xcc40, 0x5330, 0x7a24, 0xc855, 0x0, 0x0);
        gbc.writeMem(0x7ede, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xcab);
        EXPECT(gbc.pc(), 0x7ee0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0089
        gbc.setState(0x2cc2, 0xd4fe, 0x7e80, 0x8a2c, 0xe93e, 0xef0b, 0x0, 0x1);
        gbc.writeMem(0x2cc2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xd4fe);
        EXPECT(gbc.pc(), 0x2cc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 008A
        gbc.setState(0xd87d, 0x8f10, 0x7fe0, 0x4975, 0x3175, 0xc5f0, 0x0, 0x0);
        gbc.writeMem(0xd87d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x8f10);
        EXPECT(gbc.pc(), 0xd87f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd87d), 0xcb);
        EXPECT(gbc.readMem(0xd87e), 0x57);
        // CB 57 008C
        gbc.setState(0x5668, 0x5477, 0x6a70, 0xb5ea, 0x9000, 0xa3c9, 0x0, 0x1);
        gbc.writeMem(0x5668, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x5477);
        EXPECT(gbc.pc(), 0x566a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 008D
        gbc.setState(0x180e, 0x7a1e, 0x300, 0x1388, 0x5fd2, 0xd058, 0x1, 0x1);
        gbc.writeMem(0x180e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x7a1e);
        EXPECT(gbc.pc(), 0x1810);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 008F
        gbc.setState(0xe3af, 0x96c1, 0xfee0, 0xa7ed, 0x2332, 0xa089, 0x0, 0x1);
        gbc.writeMem(0xe3af, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x96c1);
        EXPECT(gbc.pc(), 0xe3b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3af), 0xcb);
        EXPECT(gbc.readMem(0xe3b0), 0x57);
        // CB 57 0090
        gbc.setState(0x5b58, 0xc839, 0xbd60, 0x783b, 0x59ad, 0x7bfd, 0x0, 0x0);
        gbc.writeMem(0x5b58, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc839);
        EXPECT(gbc.pc(), 0x5b5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0091
        gbc.setState(0x5caa, 0xb0fe, 0x6c10, 0xc95d, 0x8820, 0x1524, 0x0, 0x0);
        gbc.writeMem(0x5caa, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xb0fe);
        EXPECT(gbc.pc(), 0x5cac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0092
        gbc.setState(0x8321, 0xcc40, 0x19b0, 0xb2a4, 0x8b0c, 0xd1f6, 0x0, 0x1);
        gbc.writeMem(0x8321, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xcc40);
        EXPECT(gbc.pc(), 0x8323);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8321), 0xcb);
        EXPECT(gbc.readMem(0x8322), 0x57);
        // CB 57 0094
        gbc.setState(0xc006, 0x3174, 0xd870, 0x42b0, 0x77b1, 0xfde, 0x1, 0x0);
        gbc.writeMem(0xc006, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x3174);
        EXPECT(gbc.pc(), 0xc008);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc006), 0xcb);
        EXPECT(gbc.readMem(0xc007), 0x57);
        // CB 57 0095
        gbc.setState(0xdd7d, 0x3374, 0x54d0, 0xf58d, 0x6ae3, 0xda3, 0x1, 0x0);
        gbc.writeMem(0xdd7d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x3374);
        EXPECT(gbc.pc(), 0xdd7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd7d), 0xcb);
        EXPECT(gbc.readMem(0xdd7e), 0x57);
        // CB 57 0096
        gbc.setState(0x6344, 0x54a0, 0xae40, 0xc2a9, 0x3851, 0x40c3, 0x1, 0x1);
        gbc.writeMem(0x6344, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x54a0);
        EXPECT(gbc.pc(), 0x6346);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0097
        gbc.setState(0xadd5, 0x17b9, 0x5f00, 0x4f52, 0x343b, 0xe341, 0x0, 0x1);
        gbc.writeMem(0xadd5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x17b9);
        EXPECT(gbc.pc(), 0xadd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadd5), 0xcb);
        EXPECT(gbc.readMem(0xadd6), 0x57);
        // CB 57 0098
        gbc.setState(0x6d0b, 0x657c, 0x630, 0x9a06, 0x4bac, 0x59b9, 0x1, 0x1);
        gbc.writeMem(0x6d0b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x657c);
        EXPECT(gbc.pc(), 0x6d0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0099
        gbc.setState(0x7c3d, 0x5580, 0xf920, 0x9d06, 0xc882, 0x459c, 0x1, 0x0);
        gbc.writeMem(0x7c3d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x5580);
        EXPECT(gbc.pc(), 0x7c3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 009A
        gbc.setState(0x1a22, 0x73de, 0x83d0, 0xd29c, 0xee03, 0x4463, 0x1, 0x0);
        gbc.writeMem(0x1a22, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x73de);
        EXPECT(gbc.pc(), 0x1a24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 009B
        gbc.setState(0x4ef9, 0x152f, 0x43b0, 0x7d2e, 0xd271, 0xe08a, 0x0, 0x1);
        gbc.writeMem(0x4ef9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x152f);
        EXPECT(gbc.pc(), 0x4efb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 009C
        gbc.setState(0x4cf0, 0x1b77, 0x4cd0, 0x346f, 0xcebc, 0x97aa, 0x1, 0x0);
        gbc.writeMem(0x4cf0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x1b77);
        EXPECT(gbc.pc(), 0x4cf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 009D
        gbc.setState(0x8762, 0x1146, 0x9b50, 0x418b, 0x81ad, 0x194a, 0x1, 0x1);
        gbc.writeMem(0x8762, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x1146);
        EXPECT(gbc.pc(), 0x8764);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8762), 0xcb);
        EXPECT(gbc.readMem(0x8763), 0x57);
        // CB 57 009E
        gbc.setState(0x6b49, 0x204f, 0x6170, 0x8ffd, 0xd61b, 0xb9c1, 0x1, 0x1);
        gbc.writeMem(0x6b49, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x204f);
        EXPECT(gbc.pc(), 0x6b4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00A0
        gbc.setState(0xc9b7, 0x7315, 0xfbe0, 0xb1b3, 0x2bbd, 0xe59a, 0x0, 0x0);
        gbc.writeMem(0xc9b7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x7315);
        EXPECT(gbc.pc(), 0xc9b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9b7), 0xcb);
        EXPECT(gbc.readMem(0xc9b8), 0x57);
        // CB 57 00A1
        gbc.setState(0xd451, 0xc4fd, 0xcdc0, 0x752, 0xc6b6, 0x96e, 0x1, 0x1);
        gbc.writeMem(0xd451, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xc4fd);
        EXPECT(gbc.pc(), 0xd453);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd451), 0xcb);
        EXPECT(gbc.readMem(0xd452), 0x57);
        // CB 57 00A2
        gbc.setState(0xafcd, 0xe080, 0x6a90, 0xe5f, 0x9b76, 0x14d, 0x0, 0x1);
        gbc.writeMem(0xafcd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xe080);
        EXPECT(gbc.pc(), 0xafcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafcd), 0xcb);
        EXPECT(gbc.readMem(0xafce), 0x57);
        // CB 57 00A3
        gbc.setState(0x93bb, 0xcf5f, 0x8aa0, 0xe61d, 0x299c, 0x5efb, 0x1, 0x0);
        gbc.writeMem(0x93bb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xcf5f);
        EXPECT(gbc.pc(), 0x93bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93bb), 0xcb);
        EXPECT(gbc.readMem(0x93bc), 0x57);
        // CB 57 00A4
        gbc.setState(0x36bc, 0xc79d, 0x5c20, 0x11ea, 0x3d86, 0xee5c, 0x0, 0x1);
        gbc.writeMem(0x36bc, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xc79d);
        EXPECT(gbc.pc(), 0x36be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00A5
        gbc.setState(0x2a5c, 0xb461, 0xac00, 0xbf99, 0xfd42, 0xbbd5, 0x0, 0x0);
        gbc.writeMem(0x2a5c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xb461);
        EXPECT(gbc.pc(), 0x2a5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00A6
        gbc.setState(0xadce, 0x2bcc, 0x88f0, 0x3ce7, 0xe793, 0x959d, 0x1, 0x1);
        gbc.writeMem(0xadce, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x2bcc);
        EXPECT(gbc.pc(), 0xadd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadce), 0xcb);
        EXPECT(gbc.readMem(0xadcf), 0x57);
        // CB 57 00A7
        gbc.setState(0xefa5, 0xaa76, 0xa440, 0x8bca, 0x1d1e, 0xc28b, 0x0, 0x0);
        gbc.writeMem(0xefa5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xaa76);
        EXPECT(gbc.pc(), 0xefa7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefa5), 0xcb);
        EXPECT(gbc.readMem(0xefa6), 0x57);
        // CB 57 00A8
        gbc.setState(0x64bb, 0xf762, 0x7a70, 0xb50, 0x5e71, 0xc23e, 0x0, 0x0);
        gbc.writeMem(0x64bb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xf762);
        EXPECT(gbc.pc(), 0x64bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00A9
        gbc.setState(0x19eb, 0x2818, 0xe430, 0x98fd, 0xa23b, 0xb290, 0x1, 0x1);
        gbc.writeMem(0x19eb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x2818);
        EXPECT(gbc.pc(), 0x19ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00AA
        gbc.setState(0x33f3, 0xcd87, 0xd2c0, 0x44ad, 0xc116, 0x155, 0x1, 0x1);
        gbc.writeMem(0x33f3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xcd87);
        EXPECT(gbc.pc(), 0x33f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00AB
        gbc.setState(0x3907, 0xe9b5, 0xef80, 0x69b8, 0x962d, 0x739b, 0x1, 0x1);
        gbc.writeMem(0x3907, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xe9b5);
        EXPECT(gbc.pc(), 0x3909);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00AC
        gbc.setState(0x528c, 0xe12e, 0x5270, 0x2b67, 0xad08, 0x3848, 0x1, 0x0);
        gbc.writeMem(0x528c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xe12e);
        EXPECT(gbc.pc(), 0x528e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00AD
        gbc.setState(0xc180, 0x12c2, 0x8420, 0xae2f, 0xbb72, 0x69ed, 0x0, 0x0);
        gbc.writeMem(0xc180, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x12c2);
        EXPECT(gbc.pc(), 0xc182);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc180), 0xcb);
        EXPECT(gbc.readMem(0xc181), 0x57);
        // CB 57 00AE
        gbc.setState(0x4ef4, 0x578f, 0xdd60, 0xe7d0, 0x656d, 0x900f, 0x0, 0x0);
        gbc.writeMem(0x4ef4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x578f);
        EXPECT(gbc.pc(), 0x4ef6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00AF
        gbc.setState(0x7058, 0xb90f, 0x2980, 0x60c5, 0x101d, 0x1078, 0x1, 0x0);
        gbc.writeMem(0x7058, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xb90f);
        EXPECT(gbc.pc(), 0x705a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00B0
        gbc.setState(0xecd9, 0x4e3e, 0x8c70, 0xa953, 0x86e, 0x779, 0x1, 0x1);
        gbc.writeMem(0xecd9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x4e3e);
        EXPECT(gbc.pc(), 0xecdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecd9), 0xcb);
        EXPECT(gbc.readMem(0xecda), 0x57);
        // CB 57 00B1
        gbc.setState(0xe1d4, 0x1623, 0xf530, 0xb7ab, 0x1989, 0x1c62, 0x0, 0x0);
        gbc.writeMem(0xe1d4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x1623);
        EXPECT(gbc.pc(), 0xe1d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1d4), 0xcb);
        EXPECT(gbc.readMem(0xe1d5), 0x57);
        // CB 57 00B3
        gbc.setState(0xdc77, 0x90f9, 0x6120, 0xd36e, 0x1ed3, 0x662f, 0x1, 0x1);
        gbc.writeMem(0xdc77, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x90f9);
        EXPECT(gbc.pc(), 0xdc79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc77), 0xcb);
        EXPECT(gbc.readMem(0xdc78), 0x57);
        // CB 57 00B5
        gbc.setState(0xe755, 0x48c8, 0x8640, 0xd0c8, 0xf6cc, 0x1666, 0x1, 0x0);
        gbc.writeMem(0xe755, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x48c8);
        EXPECT(gbc.pc(), 0xe757);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe755), 0xcb);
        EXPECT(gbc.readMem(0xe756), 0x57);
        // CB 57 00B6
        gbc.setState(0xa91b, 0x55a6, 0x98e0, 0x102b, 0x73b7, 0x4f41, 0x1, 0x0);
        gbc.writeMem(0xa91b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x55a6);
        EXPECT(gbc.pc(), 0xa91d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa91b), 0xcb);
        EXPECT(gbc.readMem(0xa91c), 0x57);
        // CB 57 00B7
        gbc.setState(0xb4c0, 0x669c, 0x64e0, 0x3bb8, 0x1040, 0x5d04, 0x1, 0x1);
        gbc.writeMem(0xb4c0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x669c);
        EXPECT(gbc.pc(), 0xb4c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4c0), 0xcb);
        EXPECT(gbc.readMem(0xb4c1), 0x57);
        // CB 57 00B8
        gbc.setState(0xcb4d, 0xd7a0, 0xa0b0, 0x6f72, 0x1720, 0xe504, 0x0, 0x0);
        gbc.writeMem(0xcb4d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xd7a0);
        EXPECT(gbc.pc(), 0xcb4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb4d), 0xcb);
        EXPECT(gbc.readMem(0xcb4e), 0x57);
        // CB 57 00B9
        gbc.setState(0xe000, 0x89ca, 0x7cb0, 0xa973, 0x7e06, 0x7f6, 0x0, 0x0);
        gbc.writeMem(0xe000, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x89ca);
        EXPECT(gbc.pc(), 0xe002);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe000), 0xcb);
        EXPECT(gbc.readMem(0xe001), 0x57);
        // CB 57 00BA
        gbc.setState(0x310, 0xb9cc, 0x3e50, 0x4c01, 0x25b1, 0xa38b, 0x1, 0x0);
        gbc.writeMem(0x310, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xb9cc);
        EXPECT(gbc.pc(), 0x312);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00BB
        gbc.setState(0xbab5, 0x90ed, 0x410, 0xf70a, 0xae4a, 0xc917, 0x1, 0x0);
        gbc.writeMem(0xbab5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x90ed);
        EXPECT(gbc.pc(), 0xbab7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbab5), 0xcb);
        EXPECT(gbc.readMem(0xbab6), 0x57);
        // CB 57 00BD
        gbc.setState(0x702c, 0x9876, 0x3b0, 0x722, 0x9601, 0xe18e, 0x0, 0x1);
        gbc.writeMem(0x702c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x9876);
        EXPECT(gbc.pc(), 0x702e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00BE
        gbc.setState(0xd397, 0x358d, 0xfca0, 0xfa8c, 0xac1a, 0x5bd9, 0x0, 0x1);
        gbc.writeMem(0xd397, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x358d);
        EXPECT(gbc.pc(), 0xd399);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd397), 0xcb);
        EXPECT(gbc.readMem(0xd398), 0x57);
        // CB 57 00BF
        gbc.setState(0x4241, 0x6008, 0x7080, 0xb3ae, 0x1089, 0xf72b, 0x0, 0x1);
        gbc.writeMem(0x4241, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x6008);
        EXPECT(gbc.pc(), 0x4243);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00C0
        gbc.setState(0x9748, 0xacd9, 0x3250, 0x3eda, 0x376, 0x47c7, 0x1, 0x0);
        gbc.writeMem(0x9748, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xacd9);
        EXPECT(gbc.pc(), 0x974a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9748), 0xcb);
        EXPECT(gbc.readMem(0x9749), 0x57);
        // CB 57 00C1
        gbc.setState(0x9408, 0xc434, 0xe80, 0x2610, 0x71df, 0x9074, 0x0, 0x0);
        gbc.writeMem(0x9408, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xc434);
        EXPECT(gbc.pc(), 0x940a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9408), 0xcb);
        EXPECT(gbc.readMem(0x9409), 0x57);
        // CB 57 00C2
        gbc.setState(0x678d, 0xbd4, 0x89c0, 0xa99e, 0x408a, 0x923b, 0x1, 0x0);
        gbc.writeMem(0x678d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xbd4);
        EXPECT(gbc.pc(), 0x678f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00C3
        gbc.setState(0xee6d, 0x21c1, 0x7bf0, 0x62e0, 0x4883, 0xaa3d, 0x1, 0x0);
        gbc.writeMem(0xee6d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x21c1);
        EXPECT(gbc.pc(), 0xee6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee6d), 0xcb);
        EXPECT(gbc.readMem(0xee6e), 0x57);
        // CB 57 00C4
        gbc.setState(0x9253, 0x812e, 0x5f40, 0x574f, 0x6ab4, 0xab9b, 0x0, 0x1);
        gbc.writeMem(0x9253, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x812e);
        EXPECT(gbc.pc(), 0x9255);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9253), 0xcb);
        EXPECT(gbc.readMem(0x9254), 0x57);
        // CB 57 00C5
        gbc.setState(0x3550, 0x38ed, 0xcf00, 0x761a, 0xf747, 0xd0f7, 0x1, 0x1);
        gbc.writeMem(0x3550, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x38ed);
        EXPECT(gbc.pc(), 0x3552);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00C6
        gbc.setState(0x7bc1, 0xe7a2, 0x8550, 0xf845, 0x2c30, 0x9872, 0x0, 0x0);
        gbc.writeMem(0x7bc1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xe7a2);
        EXPECT(gbc.pc(), 0x7bc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00C7
        gbc.setState(0x1f49, 0x769f, 0x8bf0, 0xc8a, 0x4eea, 0xaafd, 0x0, 0x0);
        gbc.writeMem(0x1f49, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x769f);
        EXPECT(gbc.pc(), 0x1f4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00C8
        gbc.setState(0x9ec3, 0x9306, 0xb170, 0x2a25, 0xbf30, 0x8c78, 0x0, 0x0);
        gbc.writeMem(0x9ec3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x9306);
        EXPECT(gbc.pc(), 0x9ec5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ec3), 0xcb);
        EXPECT(gbc.readMem(0x9ec4), 0x57);
        // CB 57 00C9
        gbc.setState(0xc3ad, 0x72a8, 0xe6f0, 0xbd6f, 0x8ef2, 0xb558, 0x0, 0x1);
        gbc.writeMem(0xc3ad, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x72a8);
        EXPECT(gbc.pc(), 0xc3af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3ad), 0xcb);
        EXPECT(gbc.readMem(0xc3ae), 0x57);
        // CB 57 00CA
        gbc.setState(0xeddf, 0xbc3f, 0xc130, 0xec74, 0x89a1, 0x418, 0x0, 0x1);
        gbc.writeMem(0xeddf, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xbc3f);
        EXPECT(gbc.pc(), 0xede1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeddf), 0xcb);
        EXPECT(gbc.readMem(0xede0), 0x57);
        // CB 57 00CB
        gbc.setState(0xd496, 0x8c20, 0xf210, 0x45f, 0x6253, 0x8f60, 0x0, 0x0);
        gbc.writeMem(0xd496, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x8c20);
        EXPECT(gbc.pc(), 0xd498);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd496), 0xcb);
        EXPECT(gbc.readMem(0xd497), 0x57);
        // CB 57 00CC
        gbc.setState(0x51bf, 0x8197, 0x9d90, 0xa23d, 0x4bb5, 0x11c0, 0x1, 0x1);
        gbc.writeMem(0x51bf, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x8197);
        EXPECT(gbc.pc(), 0x51c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00CD
        gbc.setState(0x4ab, 0x3c6b, 0x65d0, 0x8ba2, 0x36c6, 0xfe4, 0x0, 0x0);
        gbc.writeMem(0x4ab, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x3c6b);
        EXPECT(gbc.pc(), 0x4ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00CE
        gbc.setState(0xbc3f, 0x704e, 0x1f30, 0xb874, 0x9dfd, 0x6902, 0x1, 0x1);
        gbc.writeMem(0xbc3f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x704e);
        EXPECT(gbc.pc(), 0xbc41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc3f), 0xcb);
        EXPECT(gbc.readMem(0xbc40), 0x57);
        // CB 57 00CF
        gbc.setState(0xedea, 0x4664, 0x8600, 0xabc1, 0x4f79, 0x12ca, 0x1, 0x1);
        gbc.writeMem(0xedea, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x4664);
        EXPECT(gbc.pc(), 0xedec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedea), 0xcb);
        EXPECT(gbc.readMem(0xedeb), 0x57);
        // CB 57 00D0
        gbc.setState(0xae6c, 0x5656, 0x1620, 0xbc59, 0xbf37, 0xf2d9, 0x1, 0x0);
        gbc.writeMem(0xae6c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x5656);
        EXPECT(gbc.pc(), 0xae6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae6c), 0xcb);
        EXPECT(gbc.readMem(0xae6d), 0x57);
        // CB 57 00D1
        gbc.setState(0x72aa, 0xe4a7, 0x2530, 0x9ac5, 0x22bb, 0xba98, 0x0, 0x0);
        gbc.writeMem(0x72aa, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xe4a7);
        EXPECT(gbc.pc(), 0x72ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00D2
        gbc.setState(0xd542, 0xef2a, 0x9980, 0x9c13, 0x2bf6, 0x699b, 0x1, 0x0);
        gbc.writeMem(0xd542, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xef2a);
        EXPECT(gbc.pc(), 0xd544);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd542), 0xcb);
        EXPECT(gbc.readMem(0xd543), 0x57);
        // CB 57 00D3
        gbc.setState(0xd736, 0x72d5, 0x4a40, 0x7c7b, 0xa7d5, 0x6173, 0x0, 0x0);
        gbc.writeMem(0xd736, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x72d5);
        EXPECT(gbc.pc(), 0xd738);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd736), 0xcb);
        EXPECT(gbc.readMem(0xd737), 0x57);
        // CB 57 00D4
        gbc.setState(0xe4d7, 0xdac0, 0xfca0, 0x5718, 0x19b2, 0xf4e, 0x0, 0x1);
        gbc.writeMem(0xe4d7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xdac0);
        EXPECT(gbc.pc(), 0xe4d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4d7), 0xcb);
        EXPECT(gbc.readMem(0xe4d8), 0x57);
        // CB 57 00D5
        gbc.setState(0x6a74, 0xc62b, 0x5fc0, 0x96ce, 0xa1ed, 0xeccc, 0x1, 0x0);
        gbc.writeMem(0x6a74, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xc62b);
        EXPECT(gbc.pc(), 0x6a76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00D6
        gbc.setState(0x8aba, 0xe415, 0xbde0, 0x30dc, 0x6789, 0x8212, 0x0, 0x0);
        gbc.writeMem(0x8aba, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xe415);
        EXPECT(gbc.pc(), 0x8abc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8aba), 0xcb);
        EXPECT(gbc.readMem(0x8abb), 0x57);
        // CB 57 00D7
        gbc.setState(0x4f44, 0x4a0b, 0x52e0, 0x1d96, 0x7c62, 0x4ffd, 0x1, 0x1);
        gbc.writeMem(0x4f44, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x4a0b);
        EXPECT(gbc.pc(), 0x4f46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00D8
        gbc.setState(0x711c, 0xf873, 0x1280, 0xbffb, 0x25ae, 0x8e80, 0x1, 0x0);
        gbc.writeMem(0x711c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xf873);
        EXPECT(gbc.pc(), 0x711e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00D9
        gbc.setState(0x5bad, 0xb229, 0x29a0, 0xcc4b, 0x6a59, 0xa655, 0x1, 0x0);
        gbc.writeMem(0x5bad, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xb229);
        EXPECT(gbc.pc(), 0x5baf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00DA
        gbc.setState(0x2459, 0x4729, 0x49f0, 0x2eef, 0x47b5, 0xb713, 0x1, 0x1);
        gbc.writeMem(0x2459, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x4729);
        EXPECT(gbc.pc(), 0x245b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00DB
        gbc.setState(0xa632, 0xfc13, 0x9030, 0xba0, 0xc3b6, 0x8d69, 0x1, 0x1);
        gbc.writeMem(0xa632, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xfc13);
        EXPECT(gbc.pc(), 0xa634);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa632), 0xcb);
        EXPECT(gbc.readMem(0xa633), 0x57);
        // CB 57 00DC
        gbc.setState(0x3dfe, 0x6848, 0xa930, 0xbfaf, 0x908c, 0xc5b1, 0x0, 0x0);
        gbc.writeMem(0x3dfe, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x6848);
        EXPECT(gbc.pc(), 0x3e00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00DD
        gbc.setState(0xeec1, 0x4631, 0x5e80, 0x56e6, 0x6971, 0xb6c, 0x1, 0x0);
        gbc.writeMem(0xeec1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x4631);
        EXPECT(gbc.pc(), 0xeec3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeec1), 0xcb);
        EXPECT(gbc.readMem(0xeec2), 0x57);
        // CB 57 00DE
        gbc.setState(0xda0c, 0x3352, 0xb190, 0x9170, 0xbe58, 0x4c5d, 0x0, 0x1);
        gbc.writeMem(0xda0c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x3352);
        EXPECT(gbc.pc(), 0xda0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda0c), 0xcb);
        EXPECT(gbc.readMem(0xda0d), 0x57);
        // CB 57 00DF
        gbc.setState(0xce4b, 0xdfe2, 0xa1f0, 0xe326, 0x431b, 0xdbfb, 0x0, 0x0);
        gbc.writeMem(0xce4b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xdfe2);
        EXPECT(gbc.pc(), 0xce4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce4b), 0xcb);
        EXPECT(gbc.readMem(0xce4c), 0x57);
        // CB 57 00E0
        gbc.setState(0x4313, 0xd7fc, 0x1f90, 0xe539, 0xd5b8, 0xc582, 0x0, 0x1);
        gbc.writeMem(0x4313, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xd7fc);
        EXPECT(gbc.pc(), 0x4315);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00E1
        gbc.setState(0x4568, 0xaac4, 0x70f0, 0x3fe2, 0x37df, 0xccfa, 0x1, 0x1);
        gbc.writeMem(0x4568, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xaac4);
        EXPECT(gbc.pc(), 0x456a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00E2
        gbc.setState(0x7b8f, 0xe17d, 0x5160, 0xb0c9, 0x4ea0, 0xfded, 0x0, 0x0);
        gbc.writeMem(0x7b8f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xe17d);
        EXPECT(gbc.pc(), 0x7b91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00E4
        gbc.setState(0x68b3, 0x793b, 0xe340, 0x27c, 0xdf36, 0xd8f3, 0x0, 0x1);
        gbc.writeMem(0x68b3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x793b);
        EXPECT(gbc.pc(), 0x68b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00E5
        gbc.setState(0x5c01, 0xa315, 0x3e30, 0x41a1, 0x2949, 0xe145, 0x0, 0x0);
        gbc.writeMem(0x5c01, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xa315);
        EXPECT(gbc.pc(), 0x5c03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00E6
        gbc.setState(0x74f2, 0x29ae, 0x2400, 0x6e8c, 0x8aea, 0xf957, 0x1, 0x1);
        gbc.writeMem(0x74f2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x29ae);
        EXPECT(gbc.pc(), 0x74f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00E7
        gbc.setState(0xd286, 0xaf3, 0x9f70, 0x61ea, 0xb9af, 0x1772, 0x0, 0x0);
        gbc.writeMem(0xd286, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xaf3);
        EXPECT(gbc.pc(), 0xd288);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd286), 0xcb);
        EXPECT(gbc.readMem(0xd287), 0x57);
        // CB 57 00E8
        gbc.setState(0x3815, 0xa83e, 0x12d0, 0x1be2, 0x60c3, 0xbc1c, 0x0, 0x1);
        gbc.writeMem(0x3815, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xa83e);
        EXPECT(gbc.pc(), 0x3817);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00E9
        gbc.setState(0x6be9, 0xe8cd, 0xef50, 0x6969, 0xf3d9, 0x5165, 0x1, 0x0);
        gbc.writeMem(0x6be9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xe8cd);
        EXPECT(gbc.pc(), 0x6beb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00EA
        gbc.setState(0x6a32, 0x3a2, 0x68d0, 0x19e7, 0x32ab, 0x69df, 0x1, 0x1);
        gbc.writeMem(0x6a32, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x3a2);
        EXPECT(gbc.pc(), 0x6a34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00EB
        gbc.setState(0xbadd, 0x986f, 0x2bf0, 0x5100, 0x28f3, 0x3d64, 0x0, 0x1);
        gbc.writeMem(0xbadd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x986f);
        EXPECT(gbc.pc(), 0xbadf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbadd), 0xcb);
        EXPECT(gbc.readMem(0xbade), 0x57);
        // CB 57 00EC
        gbc.setState(0x87cd, 0xc13b, 0x230, 0x1f6d, 0x2d7a, 0x5c3d, 0x1, 0x0);
        gbc.writeMem(0x87cd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xc13b);
        EXPECT(gbc.pc(), 0x87cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87cd), 0xcb);
        EXPECT(gbc.readMem(0x87ce), 0x57);
        // CB 57 00ED
        gbc.setState(0x81ee, 0xaa49, 0x7140, 0xd667, 0x81c0, 0x25c9, 0x0, 0x0);
        gbc.writeMem(0x81ee, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xaa49);
        EXPECT(gbc.pc(), 0x81f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81ee), 0xcb);
        EXPECT(gbc.readMem(0x81ef), 0x57);
        // CB 57 00EE
        gbc.setState(0x78c9, 0x3008, 0x40a0, 0x6a83, 0x98d2, 0x81fc, 0x0, 0x1);
        gbc.writeMem(0x78c9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x3008);
        EXPECT(gbc.pc(), 0x78cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00EF
        gbc.setState(0x139a, 0xc895, 0xa6f0, 0x9ab3, 0xec3f, 0xf204, 0x1, 0x0);
        gbc.writeMem(0x139a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xc895);
        EXPECT(gbc.pc(), 0x139c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00F0
        gbc.setState(0x6662, 0x72ee, 0x2800, 0x4b72, 0xb030, 0xb5da, 0x1, 0x1);
        gbc.writeMem(0x6662, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x72ee);
        EXPECT(gbc.pc(), 0x6664);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00F1
        gbc.setState(0x44db, 0xf001, 0xba00, 0xdb62, 0xa00e, 0x2cac, 0x1, 0x0);
        gbc.writeMem(0x44db, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf001);
        EXPECT(gbc.pc(), 0x44dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00F2
        gbc.setState(0x3642, 0x3397, 0xab60, 0x386c, 0xf8c3, 0x88d3, 0x0, 0x0);
        gbc.writeMem(0x3642, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x3397);
        EXPECT(gbc.pc(), 0x3644);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00F3
        gbc.setState(0xdc67, 0x74bc, 0xd920, 0x41c2, 0xbb96, 0xc11a, 0x0, 0x0);
        gbc.writeMem(0xdc67, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x74bc);
        EXPECT(gbc.pc(), 0xdc69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc67), 0xcb);
        EXPECT(gbc.readMem(0xdc68), 0x57);
        // CB 57 00F4
        gbc.setState(0x3023, 0x39e2, 0x1250, 0x3605, 0xdd3, 0x4b9d, 0x0, 0x1);
        gbc.writeMem(0x3023, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x39e2);
        EXPECT(gbc.pc(), 0x3025);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00F5
        gbc.setState(0x7ca8, 0xa49a, 0x2440, 0x8c5e, 0xc168, 0x9c7e, 0x1, 0x0);
        gbc.writeMem(0x7ca8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xa49a);
        EXPECT(gbc.pc(), 0x7caa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00F6
        gbc.setState(0x5079, 0x20ae, 0x6e40, 0x8669, 0x1178, 0xaac2, 0x1, 0x0);
        gbc.writeMem(0x5079, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x20ae);
        EXPECT(gbc.pc(), 0x507b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00F7
        gbc.setState(0xb7e1, 0x37a8, 0x1fb0, 0x571c, 0x77f9, 0xfefe, 0x0, 0x0);
        gbc.writeMem(0xb7e1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x37a8);
        EXPECT(gbc.pc(), 0xb7e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7e1), 0xcb);
        EXPECT(gbc.readMem(0xb7e2), 0x57);
        // CB 57 00F8
        gbc.setState(0x2137, 0xcdc1, 0xa2a0, 0xdd85, 0x5a00, 0x2212, 0x1, 0x0);
        gbc.writeMem(0x2137, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xcdc1);
        EXPECT(gbc.pc(), 0x2139);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00F9
        gbc.setState(0xdab, 0x4ed4, 0xbad0, 0xc1be, 0x5fa6, 0x27d1, 0x0, 0x1);
        gbc.writeMem(0xdab, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x4ed4);
        EXPECT(gbc.pc(), 0xdad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00FA
        gbc.setState(0xed58, 0x1f6, 0xa3c0, 0x8c52, 0x7584, 0x63d5, 0x1, 0x1);
        gbc.writeMem(0xed58, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x1f6);
        EXPECT(gbc.pc(), 0xed5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed58), 0xcb);
        EXPECT(gbc.readMem(0xed59), 0x57);
        // CB 57 00FB
        gbc.setState(0x9a5a, 0x55e4, 0xea70, 0x65ad, 0x42e9, 0x9527, 0x0, 0x0);
        gbc.writeMem(0x9a5a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x55e4);
        EXPECT(gbc.pc(), 0x9a5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a5a), 0xcb);
        EXPECT(gbc.readMem(0x9a5b), 0x57);
        // CB 57 00FC
        gbc.setState(0x64e9, 0x2711, 0x5460, 0x2b22, 0x7adc, 0x8c3f, 0x1, 0x0);
        gbc.writeMem(0x64e9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x2711);
        EXPECT(gbc.pc(), 0x64eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 00FD
        gbc.setState(0x93d5, 0x7b2c, 0x9de0, 0x207a, 0xfb5b, 0xb8f8, 0x1, 0x0);
        gbc.writeMem(0x93d5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x7b2c);
        EXPECT(gbc.pc(), 0x93d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93d5), 0xcb);
        EXPECT(gbc.readMem(0x93d6), 0x57);
        // CB 57 00FE
        gbc.setState(0x33f0, 0xbc2d, 0xdbd0, 0xdeca, 0x79ca, 0xc8a2, 0x0, 0x0);
        gbc.writeMem(0x33f0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xbc2d);
        EXPECT(gbc.pc(), 0x33f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 00FF
        gbc.setState(0x733e, 0x4b8b, 0xa30, 0xe5c, 0x4d11, 0xe3d6, 0x1, 0x1);
        gbc.writeMem(0x733e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x4b8b);
        EXPECT(gbc.pc(), 0x7340);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0100
        gbc.setState(0x2f79, 0xdedf, 0x250, 0x65e1, 0xa158, 0xc1c9, 0x1, 0x1);
        gbc.writeMem(0x2f79, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xdedf);
        EXPECT(gbc.pc(), 0x2f7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0101
        gbc.setState(0xbec8, 0x9280, 0x7c40, 0x628d, 0x9246, 0x52ac, 0x0, 0x1);
        gbc.writeMem(0xbec8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x9280);
        EXPECT(gbc.pc(), 0xbeca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbec8), 0xcb);
        EXPECT(gbc.readMem(0xbec9), 0x57);
        // CB 57 0102
        gbc.setState(0xafec, 0x9ae9, 0x9970, 0xfe91, 0x1a22, 0x9c5f, 0x0, 0x1);
        gbc.writeMem(0xafec, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x9ae9);
        EXPECT(gbc.pc(), 0xafee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafec), 0xcb);
        EXPECT(gbc.readMem(0xafed), 0x57);
        // CB 57 0103
        gbc.setState(0x3652, 0xb071, 0x6d00, 0x1be3, 0x6246, 0xc792, 0x0, 0x1);
        gbc.writeMem(0x3652, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xb071);
        EXPECT(gbc.pc(), 0x3654);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0104
        gbc.setState(0x543d, 0xf341, 0x4b20, 0xa3b0, 0xe745, 0xd11e, 0x1, 0x0);
        gbc.writeMem(0x543d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xf341);
        EXPECT(gbc.pc(), 0x543f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0105
        gbc.setState(0xeac9, 0x3bb8, 0x3990, 0xef25, 0xb31d, 0x1993, 0x0, 0x0);
        gbc.writeMem(0xeac9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x3bb8);
        EXPECT(gbc.pc(), 0xeacb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeac9), 0xcb);
        EXPECT(gbc.readMem(0xeaca), 0x57);
        // CB 57 0106
        gbc.setState(0xcb12, 0xab2f, 0x6e70, 0x466f, 0x7ce, 0xb485, 0x1, 0x1);
        gbc.writeMem(0xcb12, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xab2f);
        EXPECT(gbc.pc(), 0xcb14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb12), 0xcb);
        EXPECT(gbc.readMem(0xcb13), 0x57);
        // CB 57 0107
        gbc.setState(0x1e44, 0x426c, 0x37a0, 0xa49d, 0xa57d, 0x25a0, 0x1, 0x1);
        gbc.writeMem(0x1e44, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x426c);
        EXPECT(gbc.pc(), 0x1e46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0108
        gbc.setState(0xd1a8, 0x504, 0x8a90, 0xb512, 0x2653, 0x7b87, 0x1, 0x0);
        gbc.writeMem(0xd1a8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x504);
        EXPECT(gbc.pc(), 0xd1aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1a8), 0xcb);
        EXPECT(gbc.readMem(0xd1a9), 0x57);
        // CB 57 0109
        gbc.setState(0x2a7f, 0x280a, 0x4440, 0x4684, 0xcd2, 0x7d1c, 0x0, 0x1);
        gbc.writeMem(0x2a7f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x280a);
        EXPECT(gbc.pc(), 0x2a81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 010A
        gbc.setState(0x9439, 0x744b, 0x5380, 0xabae, 0xa8ca, 0xfca6, 0x0, 0x1);
        gbc.writeMem(0x9439, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x744b);
        EXPECT(gbc.pc(), 0x943b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9439), 0xcb);
        EXPECT(gbc.readMem(0x943a), 0x57);
        // CB 57 010B
        gbc.setState(0x2301, 0xeb5, 0xe270, 0xe4d6, 0x46ee, 0x99bc, 0x0, 0x0);
        gbc.writeMem(0x2301, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xeb5);
        EXPECT(gbc.pc(), 0x2303);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 010C
        gbc.setState(0xe385, 0x159a, 0x2aa0, 0xc4ba, 0x2879, 0x13c4, 0x0, 0x0);
        gbc.writeMem(0xe385, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x159a);
        EXPECT(gbc.pc(), 0xe387);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe385), 0xcb);
        EXPECT(gbc.readMem(0xe386), 0x57);
        // CB 57 010D
        gbc.setState(0xa8c4, 0x9f11, 0x7fd0, 0x7fb7, 0xbf74, 0x99d1, 0x1, 0x1);
        gbc.writeMem(0xa8c4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x9f11);
        EXPECT(gbc.pc(), 0xa8c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8c4), 0xcb);
        EXPECT(gbc.readMem(0xa8c5), 0x57);
        // CB 57 010F
        gbc.setState(0xdd80, 0xd833, 0xd950, 0xcb51, 0x4a48, 0xce9a, 0x1, 0x1);
        gbc.writeMem(0xdd80, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xd833);
        EXPECT(gbc.pc(), 0xdd82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd80), 0xcb);
        EXPECT(gbc.readMem(0xdd81), 0x57);
        // CB 57 0110
        gbc.setState(0x5675, 0x45a6, 0x1160, 0xc8eb, 0x74f2, 0x2f93, 0x0, 0x0);
        gbc.writeMem(0x5675, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x45a6);
        EXPECT(gbc.pc(), 0x5677);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0111
        gbc.setState(0x12a9, 0xb259, 0x25f0, 0x81f6, 0xdb4b, 0x144b, 0x0, 0x1);
        gbc.writeMem(0x12a9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xb259);
        EXPECT(gbc.pc(), 0x12ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0112
        gbc.setState(0x5fc7, 0x4fd, 0x290, 0xaa6e, 0x82e7, 0x7bc0, 0x1, 0x0);
        gbc.writeMem(0x5fc7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x4fd);
        EXPECT(gbc.pc(), 0x5fc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0113
        gbc.setState(0xf38, 0x8fd1, 0x4900, 0x3d29, 0x679d, 0x9485, 0x1, 0x0);
        gbc.writeMem(0xf38, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x8fd1);
        EXPECT(gbc.pc(), 0xf3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0115
        gbc.setState(0x3993, 0xa153, 0x3b0, 0x41f1, 0x5c77, 0x1fd7, 0x1, 0x1);
        gbc.writeMem(0x3993, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xa153);
        EXPECT(gbc.pc(), 0x3995);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0116
        gbc.setState(0x8e56, 0x3a10, 0xecd0, 0x1db9, 0x11a5, 0x165e, 0x0, 0x0);
        gbc.writeMem(0x8e56, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x3a10);
        EXPECT(gbc.pc(), 0x8e58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e56), 0xcb);
        EXPECT(gbc.readMem(0x8e57), 0x57);
        // CB 57 0117
        gbc.setState(0xe68b, 0x78ec, 0x3a90, 0xbaeb, 0xbbf4, 0xbfec, 0x0, 0x1);
        gbc.writeMem(0xe68b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x78ec);
        EXPECT(gbc.pc(), 0xe68d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe68b), 0xcb);
        EXPECT(gbc.readMem(0xe68c), 0x57);
        // CB 57 0118
        gbc.setState(0xc1bc, 0xd2c4, 0x5860, 0x1aa4, 0x7433, 0x77cf, 0x1, 0x1);
        gbc.writeMem(0xc1bc, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xd2c4);
        EXPECT(gbc.pc(), 0xc1be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1bc), 0xcb);
        EXPECT(gbc.readMem(0xc1bd), 0x57);
        // CB 57 0119
        gbc.setState(0xe7f8, 0xf7e8, 0x50a0, 0x9e36, 0x37a, 0x6d8c, 0x1, 0x0);
        gbc.writeMem(0xe7f8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xf7e8);
        EXPECT(gbc.pc(), 0xe7fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7f8), 0xcb);
        EXPECT(gbc.readMem(0xe7f9), 0x57);
        // CB 57 011A
        gbc.setState(0xca59, 0x7059, 0xbe10, 0x9685, 0xecc7, 0xd1e1, 0x1, 0x1);
        gbc.writeMem(0xca59, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x7059);
        EXPECT(gbc.pc(), 0xca5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca59), 0xcb);
        EXPECT(gbc.readMem(0xca5a), 0x57);
        // CB 57 011B
        gbc.setState(0xdfc4, 0x16ce, 0xdf90, 0x6284, 0x5878, 0x92c0, 0x1, 0x1);
        gbc.writeMem(0xdfc4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x16ce);
        EXPECT(gbc.pc(), 0xdfc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfc4), 0xcb);
        EXPECT(gbc.readMem(0xdfc5), 0x57);
        // CB 57 011C
        gbc.setState(0x68ea, 0x5a75, 0xc4b0, 0x3c31, 0x5e06, 0x44d3, 0x0, 0x1);
        gbc.writeMem(0x68ea, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x5a75);
        EXPECT(gbc.pc(), 0x68ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 011D
        gbc.setState(0x860a, 0x428a, 0x1e30, 0x9c9a, 0x4927, 0x69f5, 0x0, 0x1);
        gbc.writeMem(0x860a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x428a);
        EXPECT(gbc.pc(), 0x860c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x860a), 0xcb);
        EXPECT(gbc.readMem(0x860b), 0x57);
        // CB 57 011E
        gbc.setState(0x6d, 0x1b81, 0x3050, 0xf87d, 0x420, 0xffb7, 0x1, 0x1);
        gbc.writeMem(0x6d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x1b81);
        EXPECT(gbc.pc(), 0x6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 011F
        gbc.setState(0x2407, 0x8037, 0xf2b0, 0xd34, 0x41fe, 0xd19, 0x0, 0x1);
        gbc.writeMem(0x2407, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x8037);
        EXPECT(gbc.pc(), 0x2409);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0120
        gbc.setState(0x6b11, 0x13b7, 0x9d60, 0x84f5, 0x733c, 0x9db9, 0x0, 0x1);
        gbc.writeMem(0x6b11, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x13b7);
        EXPECT(gbc.pc(), 0x6b13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0121
        gbc.setState(0x55b8, 0xdb52, 0x6d40, 0x868e, 0x9f6c, 0x2771, 0x1, 0x0);
        gbc.writeMem(0x55b8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xdb52);
        EXPECT(gbc.pc(), 0x55ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0122
        gbc.setState(0xa85f, 0xabc3, 0x5a10, 0x1d1a, 0xc084, 0x3c8e, 0x0, 0x1);
        gbc.writeMem(0xa85f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xabc3);
        EXPECT(gbc.pc(), 0xa861);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa85f), 0xcb);
        EXPECT(gbc.readMem(0xa860), 0x57);
        // CB 57 0123
        gbc.setState(0xdfcc, 0xf839, 0xb190, 0x80b3, 0xdf10, 0x4884, 0x1, 0x1);
        gbc.writeMem(0xdfcc, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xf839);
        EXPECT(gbc.pc(), 0xdfce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfcc), 0xcb);
        EXPECT(gbc.readMem(0xdfcd), 0x57);
        // CB 57 0124
        gbc.setState(0x5d2e, 0x10b1, 0xbaa0, 0x3ae1, 0xe37e, 0xe705, 0x1, 0x0);
        gbc.writeMem(0x5d2e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x10b1);
        EXPECT(gbc.pc(), 0x5d30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0125
        gbc.setState(0xcabb, 0xc67a, 0x3a10, 0xd1f5, 0xf159, 0xb976, 0x1, 0x0);
        gbc.writeMem(0xcabb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xc67a);
        EXPECT(gbc.pc(), 0xcabd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcabb), 0xcb);
        EXPECT(gbc.readMem(0xcabc), 0x57);
        // CB 57 0126
        gbc.setState(0x739c, 0x2bd, 0xe290, 0x8f9d, 0x76ff, 0x8094, 0x1, 0x1);
        gbc.writeMem(0x739c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x2bd);
        EXPECT(gbc.pc(), 0x739e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0127
        gbc.setState(0xd565, 0x505c, 0xe070, 0x5b56, 0xfbed, 0x3099, 0x1, 0x1);
        gbc.writeMem(0xd565, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x505c);
        EXPECT(gbc.pc(), 0xd567);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd565), 0xcb);
        EXPECT(gbc.readMem(0xd566), 0x57);
        // CB 57 0128
        gbc.setState(0xccb0, 0x1918, 0x7b0, 0x5e3e, 0x408f, 0x3f74, 0x1, 0x1);
        gbc.writeMem(0xccb0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x1918);
        EXPECT(gbc.pc(), 0xccb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccb0), 0xcb);
        EXPECT(gbc.readMem(0xccb1), 0x57);
        // CB 57 0129
        gbc.setState(0x68d0, 0xcca, 0x4510, 0xcee1, 0xb1fe, 0x1227, 0x1, 0x0);
        gbc.writeMem(0x68d0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xcca);
        EXPECT(gbc.pc(), 0x68d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 012A
        gbc.setState(0xb500, 0xb6eb, 0x9ce0, 0xdf40, 0x4104, 0x15f7, 0x1, 0x1);
        gbc.writeMem(0xb500, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xb6eb);
        EXPECT(gbc.pc(), 0xb502);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb500), 0xcb);
        EXPECT(gbc.readMem(0xb501), 0x57);
        // CB 57 012B
        gbc.setState(0xd453, 0xbe54, 0xd070, 0x1867, 0xcae9, 0x5613, 0x0, 0x0);
        gbc.writeMem(0xd453, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xbe54);
        EXPECT(gbc.pc(), 0xd455);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd453), 0xcb);
        EXPECT(gbc.readMem(0xd454), 0x57);
        // CB 57 012C
        gbc.setState(0x556a, 0xd34c, 0xf930, 0x1959, 0xef6e, 0xe9, 0x0, 0x0);
        gbc.writeMem(0x556a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xd34c);
        EXPECT(gbc.pc(), 0x556c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 012D
        gbc.setState(0xe918, 0x3cbf, 0xeeb0, 0x82cd, 0x9671, 0xe5b4, 0x1, 0x1);
        gbc.writeMem(0xe918, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x3cbf);
        EXPECT(gbc.pc(), 0xe91a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe918), 0xcb);
        EXPECT(gbc.readMem(0xe919), 0x57);
        // CB 57 012E
        gbc.setState(0x2f70, 0x8a8f, 0x4ed0, 0x4bd, 0xb24a, 0x8736, 0x0, 0x0);
        gbc.writeMem(0x2f70, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x8a8f);
        EXPECT(gbc.pc(), 0x2f72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 012F
        gbc.setState(0xb329, 0xaa97, 0x7e80, 0xc10, 0xe15, 0x9902, 0x0, 0x1);
        gbc.writeMem(0xb329, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xaa97);
        EXPECT(gbc.pc(), 0xb32b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb329), 0xcb);
        EXPECT(gbc.readMem(0xb32a), 0x57);
        // CB 57 0130
        gbc.setState(0xe740, 0x8e6d, 0xd6b0, 0xb11b, 0x8cb4, 0xf64c, 0x0, 0x1);
        gbc.writeMem(0xe740, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x8e6d);
        EXPECT(gbc.pc(), 0xe742);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe740), 0xcb);
        EXPECT(gbc.readMem(0xe741), 0x57);
        // CB 57 0131
        gbc.setState(0x8a5, 0x9b25, 0x49b0, 0x226b, 0x5e43, 0xaf3, 0x0, 0x1);
        gbc.writeMem(0x8a5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x9b25);
        EXPECT(gbc.pc(), 0x8a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0132
        gbc.setState(0x9fcf, 0xeb0b, 0x2360, 0x25f6, 0x25b, 0x8dc3, 0x1, 0x1);
        gbc.writeMem(0x9fcf, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xeb0b);
        EXPECT(gbc.pc(), 0x9fd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fcf), 0xcb);
        EXPECT(gbc.readMem(0x9fd0), 0x57);
        // CB 57 0134
        gbc.setState(0x857c, 0x89b7, 0xb8e0, 0xae03, 0xc9f9, 0x4ebf, 0x0, 0x0);
        gbc.writeMem(0x857c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x89b7);
        EXPECT(gbc.pc(), 0x857e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x857c), 0xcb);
        EXPECT(gbc.readMem(0x857d), 0x57);
        // CB 57 0135
        gbc.setState(0x30b2, 0x8e11, 0x6d70, 0xed01, 0x71de, 0xbb3d, 0x0, 0x1);
        gbc.writeMem(0x30b2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x8e11);
        EXPECT(gbc.pc(), 0x30b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0136
        gbc.setState(0x5213, 0x4beb, 0xf760, 0xfb99, 0xd7ec, 0x1036, 0x0, 0x1);
        gbc.writeMem(0x5213, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x4beb);
        EXPECT(gbc.pc(), 0x5215);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0137
        gbc.setState(0x6e8c, 0x354c, 0x4000, 0xc47e, 0x7c9e, 0x5f82, 0x0, 0x1);
        gbc.writeMem(0x6e8c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x354c);
        EXPECT(gbc.pc(), 0x6e8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0138
        gbc.setState(0x2625, 0xbfce, 0xcd00, 0x985e, 0x82ec, 0xd778, 0x1, 0x0);
        gbc.writeMem(0x2625, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xbfce);
        EXPECT(gbc.pc(), 0x2627);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 013A
        gbc.setState(0xa791, 0x2737, 0xd670, 0x7aca, 0x92bd, 0x372d, 0x0, 0x1);
        gbc.writeMem(0xa791, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x2737);
        EXPECT(gbc.pc(), 0xa793);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa791), 0xcb);
        EXPECT(gbc.readMem(0xa792), 0x57);
        // CB 57 013B
        gbc.setState(0xbea5, 0xc997, 0x8f70, 0x4d3c, 0xf126, 0xc7b1, 0x0, 0x0);
        gbc.writeMem(0xbea5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xc997);
        EXPECT(gbc.pc(), 0xbea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbea5), 0xcb);
        EXPECT(gbc.readMem(0xbea6), 0x57);
        // CB 57 013C
        gbc.setState(0xc688, 0x34d4, 0xe020, 0x6ae2, 0x974b, 0x518b, 0x0, 0x1);
        gbc.writeMem(0xc688, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x34d4);
        EXPECT(gbc.pc(), 0xc68a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc688), 0xcb);
        EXPECT(gbc.readMem(0xc689), 0x57);
        // CB 57 013D
        gbc.setState(0xc82a, 0x7321, 0x120, 0x8321, 0x8119, 0x331e, 0x1, 0x1);
        gbc.writeMem(0xc82a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x7321);
        EXPECT(gbc.pc(), 0xc82c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc82a), 0xcb);
        EXPECT(gbc.readMem(0xc82b), 0x57);
        // CB 57 013E
        gbc.setState(0xaea0, 0x3ad3, 0xd360, 0xb167, 0xd757, 0x16a1, 0x0, 0x0);
        gbc.writeMem(0xaea0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x3ad3);
        EXPECT(gbc.pc(), 0xaea2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaea0), 0xcb);
        EXPECT(gbc.readMem(0xaea1), 0x57);
        // CB 57 013F
        gbc.setState(0x5412, 0xefc6, 0x8910, 0x20e1, 0x7196, 0x87ce, 0x0, 0x1);
        gbc.writeMem(0x5412, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xefc6);
        EXPECT(gbc.pc(), 0x5414);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0140
        gbc.setState(0x31f5, 0x522d, 0xf130, 0xf8bc, 0x2112, 0xc03e, 0x1, 0x1);
        gbc.writeMem(0x31f5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x522d);
        EXPECT(gbc.pc(), 0x31f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0141
        gbc.setState(0x9d5c, 0x8b73, 0x1240, 0xe2a6, 0xc201, 0x7109, 0x1, 0x0);
        gbc.writeMem(0x9d5c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x8b73);
        EXPECT(gbc.pc(), 0x9d5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d5c), 0xcb);
        EXPECT(gbc.readMem(0x9d5d), 0x57);
        // CB 57 0142
        gbc.setState(0x46cd, 0x715c, 0x7190, 0x8e21, 0x58b2, 0x600a, 0x1, 0x1);
        gbc.writeMem(0x46cd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x715c);
        EXPECT(gbc.pc(), 0x46cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0143
        gbc.setState(0x1965, 0x24b8, 0xa860, 0x1adc, 0x7fb, 0x5411, 0x1, 0x0);
        gbc.writeMem(0x1965, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x24b8);
        EXPECT(gbc.pc(), 0x1967);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0144
        gbc.setState(0xe875, 0xfb2c, 0x6960, 0xfe7c, 0x85d, 0x1132, 0x1, 0x0);
        gbc.writeMem(0xe875, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xfb2c);
        EXPECT(gbc.pc(), 0xe877);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe875), 0xcb);
        EXPECT(gbc.readMem(0xe876), 0x57);
        // CB 57 0145
        gbc.setState(0x8f2d, 0xe241, 0x4a40, 0x7196, 0xa8cd, 0xb624, 0x1, 0x1);
        gbc.writeMem(0x8f2d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xe241);
        EXPECT(gbc.pc(), 0x8f2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f2d), 0xcb);
        EXPECT(gbc.readMem(0x8f2e), 0x57);
        // CB 57 0146
        gbc.setState(0xa09d, 0xe3eb, 0x5f10, 0xba2b, 0x744e, 0xf84e, 0x0, 0x1);
        gbc.writeMem(0xa09d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe3eb);
        EXPECT(gbc.pc(), 0xa09f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa09d), 0xcb);
        EXPECT(gbc.readMem(0xa09e), 0x57);
        // CB 57 0147
        gbc.setState(0x84ab, 0x3854, 0x22d0, 0x994b, 0xa1a2, 0xa73c, 0x0, 0x1);
        gbc.writeMem(0x84ab, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x3854);
        EXPECT(gbc.pc(), 0x84ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84ab), 0xcb);
        EXPECT(gbc.readMem(0x84ac), 0x57);
        // CB 57 0148
        gbc.setState(0x855d, 0xdf59, 0x87c0, 0x2166, 0xb9cc, 0x2dd2, 0x1, 0x0);
        gbc.writeMem(0x855d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xdf59);
        EXPECT(gbc.pc(), 0x855f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x855d), 0xcb);
        EXPECT(gbc.readMem(0x855e), 0x57);
        // CB 57 0149
        gbc.setState(0x9f0d, 0x5467, 0x8750, 0xc4ed, 0xa692, 0x8132, 0x0, 0x0);
        gbc.writeMem(0x9f0d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x5467);
        EXPECT(gbc.pc(), 0x9f0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f0d), 0xcb);
        EXPECT(gbc.readMem(0x9f0e), 0x57);
        // CB 57 014B
        gbc.setState(0x3ca3, 0x49ab, 0x9490, 0xc8d2, 0x64fb, 0xad5a, 0x1, 0x0);
        gbc.writeMem(0x3ca3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x49ab);
        EXPECT(gbc.pc(), 0x3ca5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 014D
        gbc.setState(0x8a03, 0x5212, 0x6ae0, 0xf472, 0x67b4, 0x513d, 0x1, 0x1);
        gbc.writeMem(0x8a03, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x5212);
        EXPECT(gbc.pc(), 0x8a05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a03), 0xcb);
        EXPECT(gbc.readMem(0x8a04), 0x57);
        // CB 57 014E
        gbc.setState(0xaa0, 0x8344, 0x3c0, 0xd44, 0x4c33, 0x1346, 0x1, 0x0);
        gbc.writeMem(0xaa0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x8344);
        EXPECT(gbc.pc(), 0xaa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 014F
        gbc.setState(0x68c5, 0x7845, 0x6e30, 0x1081, 0x1b65, 0x824a, 0x0, 0x0);
        gbc.writeMem(0x68c5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x7845);
        EXPECT(gbc.pc(), 0x68c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0150
        gbc.setState(0xfd6, 0x97aa, 0x830, 0x98a3, 0x4bba, 0x67e1, 0x1, 0x1);
        gbc.writeMem(0xfd6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x97aa);
        EXPECT(gbc.pc(), 0xfd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0151
        gbc.setState(0xdfcd, 0x8fe5, 0x6e40, 0x8086, 0x8f1f, 0x9d5c, 0x1, 0x0);
        gbc.writeMem(0xdfcd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x8fe5);
        EXPECT(gbc.pc(), 0xdfcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfcd), 0xcb);
        EXPECT(gbc.readMem(0xdfce), 0x57);
        // CB 57 0152
        gbc.setState(0x8ee0, 0x49ad, 0x5ab0, 0x6b7a, 0x3fff, 0x8332, 0x0, 0x1);
        gbc.writeMem(0x8ee0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x49ad);
        EXPECT(gbc.pc(), 0x8ee2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ee0), 0xcb);
        EXPECT(gbc.readMem(0x8ee1), 0x57);
        // CB 57 0153
        gbc.setState(0x4b19, 0x53ac, 0xf070, 0x392b, 0x4c21, 0x3c0, 0x0, 0x1);
        gbc.writeMem(0x4b19, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x53ac);
        EXPECT(gbc.pc(), 0x4b1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0154
        gbc.setState(0x7eaf, 0x9b0, 0x3f00, 0xdcfc, 0x8097, 0x31a1, 0x0, 0x0);
        gbc.writeMem(0x7eaf, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x9b0);
        EXPECT(gbc.pc(), 0x7eb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0155
        gbc.setState(0xc4a0, 0x3cff, 0x46d0, 0x6d73, 0xce06, 0xa798, 0x0, 0x0);
        gbc.writeMem(0xc4a0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x3cff);
        EXPECT(gbc.pc(), 0xc4a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4a0), 0xcb);
        EXPECT(gbc.readMem(0xc4a1), 0x57);
        // CB 57 0156
        gbc.setState(0xebd5, 0x609b, 0xeb50, 0x872a, 0xf799, 0x4ae0, 0x0, 0x0);
        gbc.writeMem(0xebd5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x609b);
        EXPECT(gbc.pc(), 0xebd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebd5), 0xcb);
        EXPECT(gbc.readMem(0xebd6), 0x57);
        // CB 57 0157
        gbc.setState(0x7b25, 0x9e77, 0x8ee0, 0x3214, 0x56da, 0x2c1a, 0x0, 0x1);
        gbc.writeMem(0x7b25, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x9e77);
        EXPECT(gbc.pc(), 0x7b27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0158
        gbc.setState(0x399a, 0x4a76, 0x3410, 0x34c0, 0x63ba, 0x3235, 0x0, 0x0);
        gbc.writeMem(0x399a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x4a76);
        EXPECT(gbc.pc(), 0x399c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0159
        gbc.setState(0x6b83, 0xe1e1, 0xb630, 0x6bf5, 0x1548, 0x1bbb, 0x1, 0x1);
        gbc.writeMem(0x6b83, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xe1e1);
        EXPECT(gbc.pc(), 0x6b85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 015A
        gbc.setState(0x15, 0xf031, 0xc030, 0xd372, 0xce9c, 0xc75b, 0x0, 0x0);
        gbc.writeMem(0x15, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xf031);
        EXPECT(gbc.pc(), 0x17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 015B
        gbc.setState(0x6b15, 0x871a, 0xfb00, 0x6e63, 0xe83, 0x5526, 0x1, 0x1);
        gbc.writeMem(0x6b15, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x871a);
        EXPECT(gbc.pc(), 0x6b17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 015C
        gbc.setState(0x8a1a, 0x3348, 0x38f0, 0x3029, 0xede6, 0xad9b, 0x0, 0x1);
        gbc.writeMem(0x8a1a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x3348);
        EXPECT(gbc.pc(), 0x8a1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a1a), 0xcb);
        EXPECT(gbc.readMem(0x8a1b), 0x57);
        // CB 57 015D
        gbc.setState(0x2033, 0xfb1f, 0xb1b0, 0x8397, 0x7c29, 0xffb8, 0x1, 0x1);
        gbc.writeMem(0x2033, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xfb1f);
        EXPECT(gbc.pc(), 0x2035);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 015E
        gbc.setState(0x27ce, 0x21ae, 0xb370, 0x912, 0x1055, 0x3b98, 0x0, 0x1);
        gbc.writeMem(0x27ce, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x21ae);
        EXPECT(gbc.pc(), 0x27d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 015F
        gbc.setState(0x56ae, 0x92bf, 0x7ca0, 0xedb7, 0xdc8d, 0xb1c1, 0x0, 0x1);
        gbc.writeMem(0x56ae, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x92bf);
        EXPECT(gbc.pc(), 0x56b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0161
        gbc.setState(0x8c14, 0x1401, 0xaf50, 0xa47a, 0x98af, 0x48ee, 0x1, 0x1);
        gbc.writeMem(0x8c14, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x1401);
        EXPECT(gbc.pc(), 0x8c16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c14), 0xcb);
        EXPECT(gbc.readMem(0x8c15), 0x57);
        // CB 57 0162
        gbc.setState(0x5709, 0x9567, 0xeb50, 0x2e34, 0x7b8b, 0x42e7, 0x0, 0x1);
        gbc.writeMem(0x5709, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9567);
        EXPECT(gbc.pc(), 0x570b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0163
        gbc.setState(0x9b86, 0xf9aa, 0x22e0, 0x5fea, 0x3c61, 0xce8f, 0x1, 0x0);
        gbc.writeMem(0x9b86, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf9aa);
        EXPECT(gbc.pc(), 0x9b88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b86), 0xcb);
        EXPECT(gbc.readMem(0x9b87), 0x57);
        // CB 57 0165
        gbc.setState(0xbd57, 0x701d, 0xba40, 0x9078, 0x8208, 0x9e65, 0x0, 0x0);
        gbc.writeMem(0xbd57, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x701d);
        EXPECT(gbc.pc(), 0xbd59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd57), 0xcb);
        EXPECT(gbc.readMem(0xbd58), 0x57);
        // CB 57 0166
        gbc.setState(0x3e6d, 0x1d1d, 0x2360, 0x7faf, 0x776f, 0x1e88, 0x0, 0x1);
        gbc.writeMem(0x3e6d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x1d1d);
        EXPECT(gbc.pc(), 0x3e6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0167
        gbc.setState(0x85ac, 0x23af, 0x5d50, 0xb348, 0x5ec0, 0xe3f0, 0x1, 0x1);
        gbc.writeMem(0x85ac, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x23af);
        EXPECT(gbc.pc(), 0x85ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85ac), 0xcb);
        EXPECT(gbc.readMem(0x85ad), 0x57);
        // CB 57 0168
        gbc.setState(0xbc37, 0xc344, 0x6950, 0xffd0, 0x7524, 0xa80f, 0x1, 0x0);
        gbc.writeMem(0xbc37, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xc344);
        EXPECT(gbc.pc(), 0xbc39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc37), 0xcb);
        EXPECT(gbc.readMem(0xbc38), 0x57);
        // CB 57 0169
        gbc.setState(0xcfa9, 0x60d, 0x7fb0, 0x3cd2, 0x7fab, 0xd8f7, 0x0, 0x1);
        gbc.writeMem(0xcfa9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x60d);
        EXPECT(gbc.pc(), 0xcfab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfa9), 0xcb);
        EXPECT(gbc.readMem(0xcfaa), 0x57);
        // CB 57 016B
        gbc.setState(0x7482, 0xa502, 0xcd0, 0x7738, 0xcb08, 0x8829, 0x1, 0x0);
        gbc.writeMem(0x7482, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xa502);
        EXPECT(gbc.pc(), 0x7484);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 016C
        gbc.setState(0xdc48, 0x44c5, 0x7420, 0x9c2f, 0xd44d, 0xc49e, 0x0, 0x1);
        gbc.writeMem(0xdc48, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x44c5);
        EXPECT(gbc.pc(), 0xdc4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc48), 0xcb);
        EXPECT(gbc.readMem(0xdc49), 0x57);
        // CB 57 016D
        gbc.setState(0x94cd, 0xd15b, 0x3960, 0x7e06, 0x542c, 0x657a, 0x0, 0x1);
        gbc.writeMem(0x94cd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xd15b);
        EXPECT(gbc.pc(), 0x94cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94cd), 0xcb);
        EXPECT(gbc.readMem(0x94ce), 0x57);
        // CB 57 016E
        gbc.setState(0x5177, 0x4c65, 0xda70, 0x7504, 0xc2e1, 0x62d7, 0x0, 0x0);
        gbc.writeMem(0x5177, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x4c65);
        EXPECT(gbc.pc(), 0x5179);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 016F
        gbc.setState(0xd33a, 0xa83c, 0xf140, 0xaced, 0xd7f1, 0x1abd, 0x1, 0x1);
        gbc.writeMem(0xd33a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xa83c);
        EXPECT(gbc.pc(), 0xd33c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd33a), 0xcb);
        EXPECT(gbc.readMem(0xd33b), 0x57);
        // CB 57 0170
        gbc.setState(0x70b3, 0xb832, 0xa4f0, 0x8931, 0x6b2e, 0x533e, 0x1, 0x0);
        gbc.writeMem(0x70b3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xb832);
        EXPECT(gbc.pc(), 0x70b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0171
        gbc.setState(0xe9ff, 0x4724, 0x900, 0xe16d, 0xab02, 0x53f6, 0x0, 0x0);
        gbc.writeMem(0xe9ff, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x4724);
        EXPECT(gbc.pc(), 0xea01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9ff), 0xcb);
        EXPECT(gbc.readMem(0xea00), 0x57);
        // CB 57 0172
        gbc.setState(0x7de1, 0xbf8d, 0xb1a0, 0xab39, 0xe57e, 0x1a66, 0x0, 0x0);
        gbc.writeMem(0x7de1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xbf8d);
        EXPECT(gbc.pc(), 0x7de3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0173
        gbc.setState(0xfbd, 0x5a4d, 0xf20, 0x4d6e, 0xae4c, 0x2934, 0x1, 0x1);
        gbc.writeMem(0xfbd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x5a4d);
        EXPECT(gbc.pc(), 0xfbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0174
        gbc.setState(0x2ad9, 0xf9e7, 0x1fe0, 0x6ba3, 0x6f85, 0x5a04, 0x0, 0x0);
        gbc.writeMem(0x2ad9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xf9e7);
        EXPECT(gbc.pc(), 0x2adb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0175
        gbc.setState(0x8cb3, 0xec74, 0x4740, 0x11ec, 0xb5cc, 0xf9ac, 0x1, 0x0);
        gbc.writeMem(0x8cb3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xec74);
        EXPECT(gbc.pc(), 0x8cb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cb3), 0xcb);
        EXPECT(gbc.readMem(0x8cb4), 0x57);
        // CB 57 0176
        gbc.setState(0x3839, 0x2547, 0xf2f0, 0x67f7, 0x6b62, 0x964c, 0x0, 0x0);
        gbc.writeMem(0x3839, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x2547);
        EXPECT(gbc.pc(), 0x383b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0177
        gbc.setState(0x1469, 0x95d4, 0x9790, 0xa1c1, 0xec62, 0xd8f5, 0x1, 0x0);
        gbc.writeMem(0x1469, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x95d4);
        EXPECT(gbc.pc(), 0x146b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0178
        gbc.setState(0x332e, 0xcf23, 0x7570, 0xf610, 0x915b, 0x8488, 0x0, 0x0);
        gbc.writeMem(0x332e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xcf23);
        EXPECT(gbc.pc(), 0x3330);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0179
        gbc.setState(0x8338, 0x380e, 0x2050, 0x323, 0xfaed, 0xf3bd, 0x0, 0x0);
        gbc.writeMem(0x8338, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x380e);
        EXPECT(gbc.pc(), 0x833a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8338), 0xcb);
        EXPECT(gbc.readMem(0x8339), 0x57);
        // CB 57 017A
        gbc.setState(0x6329, 0x16f5, 0x3490, 0xda1a, 0x20f9, 0xf943, 0x1, 0x0);
        gbc.writeMem(0x6329, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x16f5);
        EXPECT(gbc.pc(), 0x632b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 017B
        gbc.setState(0x787f, 0xd525, 0xfc50, 0x5c67, 0x19bb, 0x63cb, 0x0, 0x0);
        gbc.writeMem(0x787f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xd525);
        EXPECT(gbc.pc(), 0x7881);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 017C
        gbc.setState(0x8613, 0xdda8, 0x39a0, 0x7633, 0xe371, 0x118c, 0x0, 0x1);
        gbc.writeMem(0x8613, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xdda8);
        EXPECT(gbc.pc(), 0x8615);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8613), 0xcb);
        EXPECT(gbc.readMem(0x8614), 0x57);
        // CB 57 017D
        gbc.setState(0x1f86, 0xd6b8, 0x1d00, 0x8a75, 0xcce5, 0x13ca, 0x1, 0x1);
        gbc.writeMem(0x1f86, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xd6b8);
        EXPECT(gbc.pc(), 0x1f88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 017E
        gbc.setState(0x6e58, 0xf4ee, 0x9ee0, 0xb574, 0xac25, 0xedbd, 0x0, 0x1);
        gbc.writeMem(0x6e58, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xf4ee);
        EXPECT(gbc.pc(), 0x6e5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 017F
        gbc.setState(0x192b, 0x7467, 0x9250, 0x89a0, 0xc1a0, 0x3455, 0x0, 0x1);
        gbc.writeMem(0x192b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x7467);
        EXPECT(gbc.pc(), 0x192d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0180
        gbc.setState(0x8de8, 0x6772, 0xb350, 0xf3b5, 0xeb0, 0xe47d, 0x1, 0x0);
        gbc.writeMem(0x8de8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x6772);
        EXPECT(gbc.pc(), 0x8dea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8de8), 0xcb);
        EXPECT(gbc.readMem(0x8de9), 0x57);
        // CB 57 0181
        gbc.setState(0x63e, 0x25da, 0xc2d0, 0x2b6b, 0xd280, 0xc94b, 0x0, 0x0);
        gbc.writeMem(0x63e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x25da);
        EXPECT(gbc.pc(), 0x640);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0182
        gbc.setState(0x11aa, 0x1f4e, 0x2960, 0xa402, 0xd7a6, 0xf12d, 0x0, 0x1);
        gbc.writeMem(0x11aa, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x1f4e);
        EXPECT(gbc.pc(), 0x11ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0184
        gbc.setState(0xbf8a, 0x8b15, 0xa3f0, 0xae5f, 0x1696, 0x308a, 0x1, 0x0);
        gbc.writeMem(0xbf8a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x8b15);
        EXPECT(gbc.pc(), 0xbf8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf8a), 0xcb);
        EXPECT(gbc.readMem(0xbf8b), 0x57);
        // CB 57 0185
        gbc.setState(0x574a, 0x28b8, 0x4d20, 0x307e, 0xaf4f, 0x4f15, 0x0, 0x0);
        gbc.writeMem(0x574a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x28b8);
        EXPECT(gbc.pc(), 0x574c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0186
        gbc.setState(0xcae9, 0x3b48, 0x6030, 0x5922, 0xd199, 0xa82c, 0x1, 0x1);
        gbc.writeMem(0xcae9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x3b48);
        EXPECT(gbc.pc(), 0xcaeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcae9), 0xcb);
        EXPECT(gbc.readMem(0xcaea), 0x57);
        // CB 57 0187
        gbc.setState(0x7c27, 0x207c, 0xa650, 0x872, 0x3e0, 0x565e, 0x1, 0x1);
        gbc.writeMem(0x7c27, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x207c);
        EXPECT(gbc.pc(), 0x7c29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0188
        gbc.setState(0x28fc, 0x8727, 0xbc60, 0x3b78, 0x3e1c, 0x7598, 0x0, 0x0);
        gbc.writeMem(0x28fc, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x8727);
        EXPECT(gbc.pc(), 0x28fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0189
        gbc.setState(0x37fc, 0xb52a, 0x13c0, 0xde33, 0x3b23, 0xfeb6, 0x0, 0x1);
        gbc.writeMem(0x37fc, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xb52a);
        EXPECT(gbc.pc(), 0x37fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 018A
        gbc.setState(0x7ddc, 0xee29, 0xaf70, 0x169e, 0xeca1, 0x3db4, 0x0, 0x0);
        gbc.writeMem(0x7ddc, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xee29);
        EXPECT(gbc.pc(), 0x7dde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 018C
        gbc.setState(0x440a, 0xf11, 0x7100, 0xc1bd, 0xfa3, 0x1a0f, 0x1, 0x0);
        gbc.writeMem(0x440a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xf11);
        EXPECT(gbc.pc(), 0x440c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 018D
        gbc.setState(0xe16b, 0xa2cf, 0x3e40, 0xa685, 0x5fa5, 0x7e13, 0x0, 0x1);
        gbc.writeMem(0xe16b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xa2cf);
        EXPECT(gbc.pc(), 0xe16d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe16b), 0xcb);
        EXPECT(gbc.readMem(0xe16c), 0x57);
        // CB 57 018E
        gbc.setState(0x48ec, 0x5217, 0xedc0, 0xdc87, 0xf46e, 0xf112, 0x0, 0x0);
        gbc.writeMem(0x48ec, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x5217);
        EXPECT(gbc.pc(), 0x48ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 018F
        gbc.setState(0xccba, 0x7c12, 0xc240, 0x15b2, 0x2904, 0x2b, 0x0, 0x1);
        gbc.writeMem(0xccba, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x7c12);
        EXPECT(gbc.pc(), 0xccbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccba), 0xcb);
        EXPECT(gbc.readMem(0xccbb), 0x57);
        // CB 57 0190
        gbc.setState(0x1a75, 0xb28b, 0xbaa0, 0xa6ec, 0x7d4f, 0xbdc4, 0x0, 0x0);
        gbc.writeMem(0x1a75, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xb28b);
        EXPECT(gbc.pc(), 0x1a77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0191
        gbc.setState(0x795f, 0xf063, 0x9c0, 0x1653, 0xaa2c, 0x6ccc, 0x0, 0x1);
        gbc.writeMem(0x795f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xf063);
        EXPECT(gbc.pc(), 0x7961);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0192
        gbc.setState(0xbfe9, 0x45e4, 0x39b0, 0xf1e6, 0xc556, 0xc2d9, 0x1, 0x1);
        gbc.writeMem(0xbfe9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x45e4);
        EXPECT(gbc.pc(), 0xbfeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfe9), 0xcb);
        EXPECT(gbc.readMem(0xbfea), 0x57);
        // CB 57 0193
        gbc.setState(0x1d26, 0xa0bc, 0x69b0, 0x7efd, 0xef1e, 0x2234, 0x0, 0x0);
        gbc.writeMem(0x1d26, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xa0bc);
        EXPECT(gbc.pc(), 0x1d28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0194
        gbc.setState(0x132c, 0xd014, 0xc5c0, 0xb3cf, 0x8712, 0x7d7e, 0x0, 0x1);
        gbc.writeMem(0x132c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xd014);
        EXPECT(gbc.pc(), 0x132e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0195
        gbc.setState(0x7024, 0x2719, 0x8a10, 0x326c, 0x832, 0x9b55, 0x1, 0x0);
        gbc.writeMem(0x7024, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x2719);
        EXPECT(gbc.pc(), 0x7026);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0196
        gbc.setState(0x3629, 0x58d8, 0x7880, 0x3887, 0x1c5f, 0xe594, 0x0, 0x1);
        gbc.writeMem(0x3629, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x58d8);
        EXPECT(gbc.pc(), 0x362b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0197
        gbc.setState(0x3c08, 0xca28, 0x4b0, 0x2aaa, 0x19ad, 0xaeb4, 0x1, 0x0);
        gbc.writeMem(0x3c08, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xca28);
        EXPECT(gbc.pc(), 0x3c0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0198
        gbc.setState(0x5891, 0x4260, 0x5d00, 0xb837, 0x5c1b, 0x9c3, 0x1, 0x1);
        gbc.writeMem(0x5891, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x4260);
        EXPECT(gbc.pc(), 0x5893);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0199
        gbc.setState(0x7f69, 0x9188, 0x4ed0, 0x7035, 0x60dd, 0x2742, 0x0, 0x0);
        gbc.writeMem(0x7f69, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x9188);
        EXPECT(gbc.pc(), 0x7f6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 019A
        gbc.setState(0xee8f, 0xcdf8, 0xeb0, 0x7bf9, 0x25ea, 0xef77, 0x1, 0x0);
        gbc.writeMem(0xee8f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xcdf8);
        EXPECT(gbc.pc(), 0xee91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee8f), 0xcb);
        EXPECT(gbc.readMem(0xee90), 0x57);
        // CB 57 019B
        gbc.setState(0x2354, 0x4295, 0xa8d0, 0xb6a9, 0xafd2, 0x32ad, 0x0, 0x1);
        gbc.writeMem(0x2354, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x4295);
        EXPECT(gbc.pc(), 0x2356);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 019C
        gbc.setState(0x3478, 0xb379, 0xa270, 0xe5a, 0x8e87, 0x7052, 0x1, 0x1);
        gbc.writeMem(0x3478, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xb379);
        EXPECT(gbc.pc(), 0x347a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 019D
        gbc.setState(0x3345, 0x8603, 0x5490, 0x5f86, 0xed63, 0xcf0a, 0x1, 0x1);
        gbc.writeMem(0x3345, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x8603);
        EXPECT(gbc.pc(), 0x3347);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 019E
        gbc.setState(0x9220, 0xeb5f, 0x3cf0, 0xc236, 0xba9a, 0xbdad, 0x0, 0x0);
        gbc.writeMem(0x9220, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xeb5f);
        EXPECT(gbc.pc(), 0x9222);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9220), 0xcb);
        EXPECT(gbc.readMem(0x9221), 0x57);
        // CB 57 019F
        gbc.setState(0xa13, 0x5f01, 0x4640, 0xdcfc, 0xfbb7, 0x93d5, 0x1, 0x1);
        gbc.writeMem(0xa13, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x5f01);
        EXPECT(gbc.pc(), 0xa15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01A0
        gbc.setState(0xc17a, 0x1e09, 0x44c0, 0x4d22, 0xfa27, 0xfef8, 0x1, 0x1);
        gbc.writeMem(0xc17a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x1e09);
        EXPECT(gbc.pc(), 0xc17c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc17a), 0xcb);
        EXPECT(gbc.readMem(0xc17b), 0x57);
        // CB 57 01A1
        gbc.setState(0xa7e, 0x5a94, 0xbf40, 0x4405, 0xeac, 0x6eba, 0x1, 0x0);
        gbc.writeMem(0xa7e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x5a94);
        EXPECT(gbc.pc(), 0xa80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01A2
        gbc.setState(0xde4a, 0x1a5f, 0x900, 0xc3b4, 0x6a56, 0xd9bb, 0x1, 0x1);
        gbc.writeMem(0xde4a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x1a5f);
        EXPECT(gbc.pc(), 0xde4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde4a), 0xcb);
        EXPECT(gbc.readMem(0xde4b), 0x57);
        // CB 57 01A3
        gbc.setState(0x5b63, 0x775e, 0xa6c0, 0xf91, 0xe458, 0x49f9, 0x0, 0x1);
        gbc.writeMem(0x5b63, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x775e);
        EXPECT(gbc.pc(), 0x5b65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01A4
        gbc.setState(0xd869, 0x9e81, 0xf6c0, 0x81aa, 0xb6d4, 0x1f4b, 0x1, 0x1);
        gbc.writeMem(0xd869, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x9e81);
        EXPECT(gbc.pc(), 0xd86b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd869), 0xcb);
        EXPECT(gbc.readMem(0xd86a), 0x57);
        // CB 57 01A5
        gbc.setState(0x4508, 0xaa4b, 0xf360, 0x70d3, 0xd444, 0x5909, 0x1, 0x0);
        gbc.writeMem(0x4508, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xaa4b);
        EXPECT(gbc.pc(), 0x450a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01A6
        gbc.setState(0x719b, 0xfd47, 0x6b20, 0x178b, 0xa15d, 0x50fb, 0x1, 0x0);
        gbc.writeMem(0x719b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xfd47);
        EXPECT(gbc.pc(), 0x719d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01A7
        gbc.setState(0x650f, 0xa1e1, 0x7ad0, 0x80bd, 0xe2a4, 0x6f96, 0x1, 0x1);
        gbc.writeMem(0x650f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xa1e1);
        EXPECT(gbc.pc(), 0x6511);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01A8
        gbc.setState(0xd240, 0x4f55, 0x8f50, 0x887a, 0x11bd, 0xbbe3, 0x1, 0x1);
        gbc.writeMem(0xd240, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x4f55);
        EXPECT(gbc.pc(), 0xd242);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd240), 0xcb);
        EXPECT(gbc.readMem(0xd241), 0x57);
        // CB 57 01A9
        gbc.setState(0x59a5, 0x84ce, 0x95e0, 0x460d, 0x731f, 0x4a9d, 0x0, 0x1);
        gbc.writeMem(0x59a5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x84ce);
        EXPECT(gbc.pc(), 0x59a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01AB
        gbc.setState(0x4163, 0x64f9, 0x2820, 0x3318, 0x5e73, 0xb35d, 0x0, 0x1);
        gbc.writeMem(0x4163, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x64f9);
        EXPECT(gbc.pc(), 0x4165);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01AC
        gbc.setState(0xcc46, 0xf022, 0x7fc0, 0xadfc, 0xe8df, 0xd789, 0x0, 0x0);
        gbc.writeMem(0xcc46, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xf022);
        EXPECT(gbc.pc(), 0xcc48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc46), 0xcb);
        EXPECT(gbc.readMem(0xcc47), 0x57);
        // CB 57 01AE
        gbc.setState(0x1444, 0x7393, 0x67b0, 0xa81d, 0xb0af, 0x9733, 0x1, 0x1);
        gbc.writeMem(0x1444, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x7393);
        EXPECT(gbc.pc(), 0x1446);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01B0
        gbc.setState(0xdfeb, 0x84e0, 0xb4b0, 0xe5dd, 0xece4, 0x96ef, 0x1, 0x0);
        gbc.writeMem(0xdfeb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x84e0);
        EXPECT(gbc.pc(), 0xdfed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfeb), 0xcb);
        EXPECT(gbc.readMem(0xdfec), 0x57);
        // CB 57 01B1
        gbc.setState(0x781, 0x329f, 0x5670, 0xb7e8, 0x38e2, 0xe990, 0x0, 0x1);
        gbc.writeMem(0x781, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x329f);
        EXPECT(gbc.pc(), 0x783);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01B2
        gbc.setState(0x6864, 0xe46c, 0x89e0, 0xdcff, 0x42b8, 0xd4d5, 0x1, 0x1);
        gbc.writeMem(0x6864, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xe46c);
        EXPECT(gbc.pc(), 0x6866);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01B3
        gbc.setState(0x6189, 0x43f7, 0x9350, 0xeaa6, 0x1709, 0x8edf, 0x1, 0x1);
        gbc.writeMem(0x6189, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x43f7);
        EXPECT(gbc.pc(), 0x618b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01B4
        gbc.setState(0xe54a, 0x6bb0, 0x1c30, 0xbf0b, 0x9125, 0x907c, 0x0, 0x1);
        gbc.writeMem(0xe54a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x6bb0);
        EXPECT(gbc.pc(), 0xe54c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe54a), 0xcb);
        EXPECT(gbc.readMem(0xe54b), 0x57);
        // CB 57 01B5
        gbc.setState(0x3500, 0xf9b9, 0x6f50, 0xe4d6, 0x5bfd, 0xb4aa, 0x1, 0x0);
        gbc.writeMem(0x3500, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xf9b9);
        EXPECT(gbc.pc(), 0x3502);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01B6
        gbc.setState(0x30a8, 0x2f69, 0x8ef0, 0x9de0, 0x40b4, 0x20d3, 0x0, 0x1);
        gbc.writeMem(0x30a8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x2f69);
        EXPECT(gbc.pc(), 0x30aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01B7
        gbc.setState(0xa233, 0xb8b7, 0x6aa0, 0x74f, 0xb6c, 0xbd85, 0x1, 0x1);
        gbc.writeMem(0xa233, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xb8b7);
        EXPECT(gbc.pc(), 0xa235);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa233), 0xcb);
        EXPECT(gbc.readMem(0xa234), 0x57);
        // CB 57 01B8
        gbc.setState(0x1f16, 0x8858, 0xc4f0, 0x8b78, 0x431, 0xe02, 0x1, 0x1);
        gbc.writeMem(0x1f16, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x8858);
        EXPECT(gbc.pc(), 0x1f18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01B9
        gbc.setState(0xe28a, 0x51e6, 0xb8a0, 0xa357, 0x80b3, 0x5ace, 0x0, 0x0);
        gbc.writeMem(0xe28a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x51e6);
        EXPECT(gbc.pc(), 0xe28c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe28a), 0xcb);
        EXPECT(gbc.readMem(0xe28b), 0x57);
        // CB 57 01BA
        gbc.setState(0x35eb, 0x6ce2, 0x5710, 0x8ecf, 0x582d, 0x31b0, 0x1, 0x1);
        gbc.writeMem(0x35eb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x6ce2);
        EXPECT(gbc.pc(), 0x35ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01BB
        gbc.setState(0xd90, 0xf12d, 0x4060, 0x1473, 0x25b5, 0x112b, 0x1, 0x1);
        gbc.writeMem(0xd90, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xf12d);
        EXPECT(gbc.pc(), 0xd92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01BC
        gbc.setState(0xe0fd, 0x7692, 0x61b0, 0xef23, 0x9e72, 0x103e, 0x0, 0x0);
        gbc.writeMem(0xe0fd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x7692);
        EXPECT(gbc.pc(), 0xe0ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0fd), 0xcb);
        EXPECT(gbc.readMem(0xe0fe), 0x57);
        // CB 57 01BD
        gbc.setState(0x6d48, 0x1b98, 0x15e0, 0xf703, 0xde10, 0x4f8e, 0x0, 0x0);
        gbc.writeMem(0x6d48, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x1b98);
        EXPECT(gbc.pc(), 0x6d4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01BE
        gbc.setState(0x5aa3, 0x9602, 0x2de0, 0x34df, 0xccda, 0x73c6, 0x1, 0x0);
        gbc.writeMem(0x5aa3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x9602);
        EXPECT(gbc.pc(), 0x5aa5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01BF
        gbc.setState(0x6bdf, 0x3433, 0x680, 0x3c38, 0xcdc6, 0x9b1b, 0x1, 0x0);
        gbc.writeMem(0x6bdf, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x3433);
        EXPECT(gbc.pc(), 0x6be1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01C0
        gbc.setState(0xc29, 0xae81, 0x9c40, 0x6084, 0xcec1, 0x8025, 0x1, 0x0);
        gbc.writeMem(0xc29, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xae81);
        EXPECT(gbc.pc(), 0xc2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01C1
        gbc.setState(0x5cb4, 0xdd4, 0xfdb0, 0x20a2, 0x1ef6, 0x1495, 0x0, 0x1);
        gbc.writeMem(0x5cb4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xdd4);
        EXPECT(gbc.pc(), 0x5cb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01C3
        gbc.setState(0x9be0, 0x98f7, 0xd3f0, 0x6266, 0xef6f, 0x4039, 0x1, 0x1);
        gbc.writeMem(0x9be0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x98f7);
        EXPECT(gbc.pc(), 0x9be2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9be0), 0xcb);
        EXPECT(gbc.readMem(0x9be1), 0x57);
        // CB 57 01C5
        gbc.setState(0x4364, 0x6503, 0x4710, 0xe1be, 0xc30f, 0x133a, 0x0, 0x1);
        gbc.writeMem(0x4364, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x6503);
        EXPECT(gbc.pc(), 0x4366);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01C6
        gbc.setState(0xfc2, 0x127, 0xac40, 0xe9cf, 0x3ae0, 0x1771, 0x0, 0x0);
        gbc.writeMem(0xfc2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x127);
        EXPECT(gbc.pc(), 0xfc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01C7
        gbc.setState(0xb478, 0x739, 0x9340, 0x52d9, 0x66e4, 0x3265, 0x1, 0x1);
        gbc.writeMem(0xb478, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x739);
        EXPECT(gbc.pc(), 0xb47a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb478), 0xcb);
        EXPECT(gbc.readMem(0xb479), 0x57);
        // CB 57 01C8
        gbc.setState(0x6e91, 0xfc3b, 0x3730, 0x75e9, 0x9f35, 0x3226, 0x0, 0x1);
        gbc.writeMem(0x6e91, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xfc3b);
        EXPECT(gbc.pc(), 0x6e93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01C9
        gbc.setState(0x1a89, 0x3d2c, 0x7ae0, 0x8f65, 0x6708, 0x5d, 0x0, 0x1);
        gbc.writeMem(0x1a89, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x3d2c);
        EXPECT(gbc.pc(), 0x1a8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01CA
        gbc.setState(0xde94, 0xe6f4, 0xc580, 0x19da, 0x77ec, 0xdf56, 0x0, 0x0);
        gbc.writeMem(0xde94, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xe6f4);
        EXPECT(gbc.pc(), 0xde96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde94), 0xcb);
        EXPECT(gbc.readMem(0xde95), 0x57);
        // CB 57 01CB
        gbc.setState(0x645d, 0x1a63, 0xd750, 0xc378, 0x6f61, 0x664, 0x1, 0x1);
        gbc.writeMem(0x645d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x1a63);
        EXPECT(gbc.pc(), 0x645f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01CC
        gbc.setState(0x808a, 0xb477, 0x49c0, 0xe30c, 0x61f, 0xf26f, 0x1, 0x1);
        gbc.writeMem(0x808a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xb477);
        EXPECT(gbc.pc(), 0x808c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x808a), 0xcb);
        EXPECT(gbc.readMem(0x808b), 0x57);
        // CB 57 01CD
        gbc.setState(0xb170, 0x65ca, 0xd310, 0x4655, 0x547b, 0x3685, 0x1, 0x1);
        gbc.writeMem(0xb170, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x65ca);
        EXPECT(gbc.pc(), 0xb172);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb170), 0xcb);
        EXPECT(gbc.readMem(0xb171), 0x57);
        // CB 57 01CE
        gbc.setState(0x62e6, 0x6db7, 0x680, 0x9881, 0x5eaf, 0x9069, 0x1, 0x0);
        gbc.writeMem(0x62e6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x6db7);
        EXPECT(gbc.pc(), 0x62e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01CF
        gbc.setState(0xbca3, 0x4b0c, 0x6e60, 0x8cdb, 0xb13c, 0x2404, 0x1, 0x1);
        gbc.writeMem(0xbca3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x4b0c);
        EXPECT(gbc.pc(), 0xbca5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbca3), 0xcb);
        EXPECT(gbc.readMem(0xbca4), 0x57);
        // CB 57 01D0
        gbc.setState(0x8aad, 0x48b9, 0x7110, 0xba21, 0x5c7c, 0x1345, 0x1, 0x0);
        gbc.writeMem(0x8aad, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x48b9);
        EXPECT(gbc.pc(), 0x8aaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8aad), 0xcb);
        EXPECT(gbc.readMem(0x8aae), 0x57);
        // CB 57 01D1
        gbc.setState(0x8d13, 0x7473, 0x9b50, 0x70fd, 0xe988, 0x9e5f, 0x1, 0x0);
        gbc.writeMem(0x8d13, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x7473);
        EXPECT(gbc.pc(), 0x8d15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d13), 0xcb);
        EXPECT(gbc.readMem(0x8d14), 0x57);
        // CB 57 01D2
        gbc.setState(0x5419, 0x4bc6, 0x5340, 0x82e7, 0x5d1f, 0x70fd, 0x1, 0x1);
        gbc.writeMem(0x5419, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x4bc6);
        EXPECT(gbc.pc(), 0x541b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01D3
        gbc.setState(0x5d46, 0xf570, 0x8e70, 0x4ebf, 0xb3a1, 0x3016, 0x1, 0x1);
        gbc.writeMem(0x5d46, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xf570);
        EXPECT(gbc.pc(), 0x5d48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01D4
        gbc.setState(0x55c1, 0xfaa, 0xf410, 0xe9b3, 0x2ec1, 0x1b08, 0x1, 0x0);
        gbc.writeMem(0x55c1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xfaa);
        EXPECT(gbc.pc(), 0x55c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01D5
        gbc.setState(0x7e04, 0xa089, 0xa920, 0x2511, 0xe9ba, 0x8e11, 0x1, 0x1);
        gbc.writeMem(0x7e04, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xa089);
        EXPECT(gbc.pc(), 0x7e06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01D6
        gbc.setState(0x373d, 0xb87b, 0xdde0, 0xd8cc, 0xfe4, 0x49cf, 0x1, 0x0);
        gbc.writeMem(0x373d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xb87b);
        EXPECT(gbc.pc(), 0x373f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01D7
        gbc.setState(0xc4e4, 0x3321, 0x3760, 0x5aa0, 0xbe08, 0x432b, 0x1, 0x1);
        gbc.writeMem(0xc4e4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x3321);
        EXPECT(gbc.pc(), 0xc4e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4e4), 0xcb);
        EXPECT(gbc.readMem(0xc4e5), 0x57);
        // CB 57 01D8
        gbc.setState(0xf9, 0xc4de, 0xde0, 0x5ea5, 0xa208, 0x8258, 0x0, 0x1);
        gbc.writeMem(0xf9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xc4de);
        EXPECT(gbc.pc(), 0xfb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01D9
        gbc.setState(0x3eaa, 0x1b2a, 0x91b0, 0x80f7, 0xce08, 0x9a61, 0x0, 0x1);
        gbc.writeMem(0x3eaa, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x1b2a);
        EXPECT(gbc.pc(), 0x3eac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01DA
        gbc.setState(0xd26e, 0x5564, 0x1f20, 0xc74c, 0xc235, 0xd9cd, 0x0, 0x1);
        gbc.writeMem(0xd26e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x5564);
        EXPECT(gbc.pc(), 0xd270);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd26e), 0xcb);
        EXPECT(gbc.readMem(0xd26f), 0x57);
        // CB 57 01DB
        gbc.setState(0xca7f, 0x3dfd, 0x9570, 0x7b28, 0x8935, 0x6200, 0x0, 0x1);
        gbc.writeMem(0xca7f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x3dfd);
        EXPECT(gbc.pc(), 0xca81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca7f), 0xcb);
        EXPECT(gbc.readMem(0xca80), 0x57);
        // CB 57 01DC
        gbc.setState(0x7868, 0x164d, 0x810, 0xe94, 0x1936, 0x2ca, 0x0, 0x1);
        gbc.writeMem(0x7868, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x164d);
        EXPECT(gbc.pc(), 0x786a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01DD
        gbc.setState(0x9f54, 0xd41e, 0x19a0, 0xf84c, 0xc4bd, 0x44c9, 0x0, 0x1);
        gbc.writeMem(0x9f54, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xd41e);
        EXPECT(gbc.pc(), 0x9f56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f54), 0xcb);
        EXPECT(gbc.readMem(0x9f55), 0x57);
        // CB 57 01DE
        gbc.setState(0xce7b, 0x7dc5, 0xbf60, 0xdd71, 0x6021, 0xe844, 0x0, 0x1);
        gbc.writeMem(0xce7b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x7dc5);
        EXPECT(gbc.pc(), 0xce7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce7b), 0xcb);
        EXPECT(gbc.readMem(0xce7c), 0x57);
        // CB 57 01DF
        gbc.setState(0xe4c8, 0xe52f, 0xa230, 0x92a0, 0x1569, 0x9bf, 0x1, 0x0);
        gbc.writeMem(0xe4c8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xe52f);
        EXPECT(gbc.pc(), 0xe4ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4c8), 0xcb);
        EXPECT(gbc.readMem(0xe4c9), 0x57);
        // CB 57 01E0
        gbc.setState(0x494d, 0x862a, 0x59d0, 0x46ab, 0x5c5f, 0x7cb7, 0x1, 0x1);
        gbc.writeMem(0x494d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x862a);
        EXPECT(gbc.pc(), 0x494f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01E1
        gbc.setState(0x3a17, 0x5fe5, 0x3250, 0x7767, 0x8a61, 0xb266, 0x1, 0x0);
        gbc.writeMem(0x3a17, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x5fe5);
        EXPECT(gbc.pc(), 0x3a19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01E2
        gbc.setState(0x7723, 0x5eb4, 0x91f0, 0x1d99, 0xe8e3, 0xba33, 0x0, 0x1);
        gbc.writeMem(0x7723, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x5eb4);
        EXPECT(gbc.pc(), 0x7725);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01E3
        gbc.setState(0xc76e, 0x3ce8, 0x26b0, 0x89c8, 0x3007, 0x80e0, 0x0, 0x0);
        gbc.writeMem(0xc76e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x3ce8);
        EXPECT(gbc.pc(), 0xc770);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc76e), 0xcb);
        EXPECT(gbc.readMem(0xc76f), 0x57);
        // CB 57 01E4
        gbc.setState(0x3e3a, 0x6da3, 0xbf60, 0x2391, 0xfabb, 0xfb49, 0x1, 0x0);
        gbc.writeMem(0x3e3a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x6da3);
        EXPECT(gbc.pc(), 0x3e3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01E5
        gbc.setState(0x4aa9, 0x4804, 0x7bd0, 0xf48c, 0x6e78, 0x3e31, 0x1, 0x0);
        gbc.writeMem(0x4aa9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x4804);
        EXPECT(gbc.pc(), 0x4aab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01E6
        gbc.setState(0x7fec, 0xf6cf, 0xc240, 0x2035, 0x7498, 0x5ad1, 0x1, 0x1);
        gbc.writeMem(0x7fec, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xf6cf);
        EXPECT(gbc.pc(), 0x7fee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01E7
        gbc.setState(0x5ba3, 0x6b1, 0x25b0, 0xa350, 0xec23, 0xb742, 0x0, 0x1);
        gbc.writeMem(0x5ba3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x6b1);
        EXPECT(gbc.pc(), 0x5ba5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01E8
        gbc.setState(0x51a0, 0x4a97, 0xa5f0, 0x7d9e, 0xa40b, 0xffeb, 0x1, 0x0);
        gbc.writeMem(0x51a0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x4a97);
        EXPECT(gbc.pc(), 0x51a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01E9
        gbc.setState(0xb1a9, 0x5791, 0x5be0, 0xf1ff, 0x159a, 0x80e3, 0x0, 0x1);
        gbc.writeMem(0xb1a9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x5791);
        EXPECT(gbc.pc(), 0xb1ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1a9), 0xcb);
        EXPECT(gbc.readMem(0xb1aa), 0x57);
        // CB 57 01EA
        gbc.setState(0x17b2, 0xd8d0, 0xa040, 0x4e4b, 0xf00a, 0x3d0a, 0x1, 0x0);
        gbc.writeMem(0x17b2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xd8d0);
        EXPECT(gbc.pc(), 0x17b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01EB
        gbc.setState(0xc559, 0x2097, 0x9810, 0x36b9, 0x7935, 0xfdaa, 0x0, 0x1);
        gbc.writeMem(0xc559, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x2097);
        EXPECT(gbc.pc(), 0xc55b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc559), 0xcb);
        EXPECT(gbc.readMem(0xc55a), 0x57);
        // CB 57 01EC
        gbc.setState(0xb1ce, 0x2536, 0xa3e0, 0xd65c, 0x8135, 0x678a, 0x0, 0x1);
        gbc.writeMem(0xb1ce, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x2536);
        EXPECT(gbc.pc(), 0xb1d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1ce), 0xcb);
        EXPECT(gbc.readMem(0xb1cf), 0x57);
        // CB 57 01ED
        gbc.setState(0x1682, 0x2058, 0x6f70, 0x2b3b, 0x10af, 0x276, 0x1, 0x0);
        gbc.writeMem(0x1682, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x2058);
        EXPECT(gbc.pc(), 0x1684);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01EE
        gbc.setState(0x5016, 0x3f2d, 0x37a0, 0x98ba, 0x530, 0xe468, 0x1, 0x1);
        gbc.writeMem(0x5016, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x3f2d);
        EXPECT(gbc.pc(), 0x5018);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01EF
        gbc.setState(0x5a6d, 0xc4c6, 0x5970, 0x4232, 0xf039, 0xc31c, 0x0, 0x1);
        gbc.writeMem(0x5a6d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xc4c6);
        EXPECT(gbc.pc(), 0x5a6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01F0
        gbc.setState(0x2e6, 0xc8f4, 0x9050, 0xc8f7, 0x62a8, 0x55d8, 0x0, 0x0);
        gbc.writeMem(0x2e6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xc8f4);
        EXPECT(gbc.pc(), 0x2e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01F1
        gbc.setState(0x3af2, 0x7064, 0xd00, 0xc3cb, 0x7e94, 0x3ffb, 0x0, 0x1);
        gbc.writeMem(0x3af2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x7064);
        EXPECT(gbc.pc(), 0x3af4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01F2
        gbc.setState(0x302d, 0xc39b, 0xd6f0, 0xf926, 0xdbbb, 0x87ac, 0x0, 0x1);
        gbc.writeMem(0x302d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xc39b);
        EXPECT(gbc.pc(), 0x302f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01F3
        gbc.setState(0xc475, 0x6e5d, 0xdce0, 0x2177, 0x8e7e, 0x3218, 0x0, 0x1);
        gbc.writeMem(0xc475, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x6e5d);
        EXPECT(gbc.pc(), 0xc477);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc475), 0xcb);
        EXPECT(gbc.readMem(0xc476), 0x57);
        // CB 57 01F5
        gbc.setState(0x7965, 0xfb03, 0x91a0, 0x771b, 0xe6cc, 0x196f, 0x1, 0x1);
        gbc.writeMem(0x7965, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xfb03);
        EXPECT(gbc.pc(), 0x7967);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01F6
        gbc.setState(0x5fb6, 0xbdf, 0xc3c0, 0xd823, 0x407f, 0x2e5a, 0x1, 0x0);
        gbc.writeMem(0x5fb6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xbdf);
        EXPECT(gbc.pc(), 0x5fb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01F7
        gbc.setState(0xc35, 0x4b14, 0xb130, 0x3313, 0xdec6, 0xd153, 0x1, 0x1);
        gbc.writeMem(0xc35, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x4b14);
        EXPECT(gbc.pc(), 0xc37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01F8
        gbc.setState(0xd5cc, 0xc905, 0x9de0, 0x70a, 0xabcf, 0xbc77, 0x1, 0x0);
        gbc.writeMem(0xd5cc, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xc905);
        EXPECT(gbc.pc(), 0xd5ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5cc), 0xcb);
        EXPECT(gbc.readMem(0xd5cd), 0x57);
        // CB 57 01FA
        gbc.setState(0x51b6, 0x9565, 0xbab0, 0xed86, 0x1b0b, 0x9445, 0x1, 0x0);
        gbc.writeMem(0x51b6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x9565);
        EXPECT(gbc.pc(), 0x51b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 01FB
        gbc.setState(0xa49d, 0x6199, 0x600, 0x8922, 0x49a2, 0x1e25, 0x1, 0x1);
        gbc.writeMem(0xa49d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x6199);
        EXPECT(gbc.pc(), 0xa49f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa49d), 0xcb);
        EXPECT(gbc.readMem(0xa49e), 0x57);
        // CB 57 01FC
        gbc.setState(0x2309, 0xcbbb, 0x3880, 0xb592, 0xb18b, 0x5e1f, 0x1, 0x1);
        gbc.writeMem(0x2309, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xcbbb);
        EXPECT(gbc.pc(), 0x230b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01FD
        gbc.setState(0x615a, 0xc804, 0x11c0, 0x6465, 0xf4a9, 0x3d07, 0x0, 0x1);
        gbc.writeMem(0x615a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xc804);
        EXPECT(gbc.pc(), 0x615c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 01FE
        gbc.setState(0xc39e, 0x43c7, 0xc6b0, 0x2707, 0xa194, 0x6088, 0x0, 0x1);
        gbc.writeMem(0xc39e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x43c7);
        EXPECT(gbc.pc(), 0xc3a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc39e), 0xcb);
        EXPECT(gbc.readMem(0xc39f), 0x57);
        // CB 57 01FF
        gbc.setState(0xafc9, 0x4efd, 0x4b60, 0x5801, 0xe30e, 0xa0e9, 0x0, 0x1);
        gbc.writeMem(0xafc9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x4efd);
        EXPECT(gbc.pc(), 0xafcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafc9), 0xcb);
        EXPECT(gbc.readMem(0xafca), 0x57);
        // CB 57 0200
        gbc.setState(0x6834, 0x1e29, 0xf0e0, 0xe13b, 0x11b9, 0xfbaf, 0x1, 0x1);
        gbc.writeMem(0x6834, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x1e29);
        EXPECT(gbc.pc(), 0x6836);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0202
        gbc.setState(0x1e1c, 0xeed3, 0xb450, 0x7cd, 0x9d1a, 0x56e3, 0x0, 0x0);
        gbc.writeMem(0x1e1c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xeed3);
        EXPECT(gbc.pc(), 0x1e1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0203
        gbc.setState(0xdb74, 0xa17c, 0x1d30, 0xe563, 0xfece, 0xbecc, 0x1, 0x0);
        gbc.writeMem(0xdb74, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xa17c);
        EXPECT(gbc.pc(), 0xdb76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb74), 0xcb);
        EXPECT(gbc.readMem(0xdb75), 0x57);
        // CB 57 0204
        gbc.setState(0xef8f, 0xeb61, 0x9780, 0x69a7, 0x87ae, 0x3887, 0x1, 0x1);
        gbc.writeMem(0xef8f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xeb61);
        EXPECT(gbc.pc(), 0xef91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef8f), 0xcb);
        EXPECT(gbc.readMem(0xef90), 0x57);
        // CB 57 0205
        gbc.setState(0x3ef3, 0x5b0b, 0xcc80, 0xb7db, 0x144d, 0xdc9d, 0x0, 0x0);
        gbc.writeMem(0x3ef3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x5b0b);
        EXPECT(gbc.pc(), 0x3ef5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0206
        gbc.setState(0x5060, 0xb17f, 0x3670, 0xb3d1, 0x7e90, 0xbf26, 0x1, 0x1);
        gbc.writeMem(0x5060, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xb17f);
        EXPECT(gbc.pc(), 0x5062);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0207
        gbc.setState(0x7bfb, 0x3da7, 0xbb90, 0x1da1, 0xff3d, 0xd8fa, 0x0, 0x1);
        gbc.writeMem(0x7bfb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x3da7);
        EXPECT(gbc.pc(), 0x7bfd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0209
        gbc.setState(0x54b6, 0x6f4f, 0x41b0, 0x5e8, 0xc4ec, 0x751f, 0x0, 0x1);
        gbc.writeMem(0x54b6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x6f4f);
        EXPECT(gbc.pc(), 0x54b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 020A
        gbc.setState(0x1e28, 0x88e9, 0x4d50, 0xa643, 0x4df0, 0x8725, 0x0, 0x1);
        gbc.writeMem(0x1e28, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x88e9);
        EXPECT(gbc.pc(), 0x1e2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 020B
        gbc.setState(0xde53, 0x580b, 0xad40, 0x67f5, 0x8e53, 0xa38e, 0x0, 0x0);
        gbc.writeMem(0xde53, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x580b);
        EXPECT(gbc.pc(), 0xde55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde53), 0xcb);
        EXPECT(gbc.readMem(0xde54), 0x57);
        // CB 57 020C
        gbc.setState(0xe178, 0xa6fc, 0x1cf0, 0x8353, 0x55, 0xe0c2, 0x0, 0x1);
        gbc.writeMem(0xe178, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xa6fc);
        EXPECT(gbc.pc(), 0xe17a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe178), 0xcb);
        EXPECT(gbc.readMem(0xe179), 0x57);
        // CB 57 020D
        gbc.setState(0x13e8, 0xdafc, 0x140, 0x19d5, 0x56ae, 0x571, 0x0, 0x1);
        gbc.writeMem(0x13e8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xdafc);
        EXPECT(gbc.pc(), 0x13ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 020F
        gbc.setState(0x3809, 0x400e, 0x9860, 0x498a, 0x875c, 0xa37b, 0x0, 0x1);
        gbc.writeMem(0x3809, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x400e);
        EXPECT(gbc.pc(), 0x380b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0210
        gbc.setState(0xc2cd, 0x1ddd, 0x3040, 0x8a42, 0x2394, 0xea85, 0x0, 0x0);
        gbc.writeMem(0xc2cd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x1ddd);
        EXPECT(gbc.pc(), 0xc2cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2cd), 0xcb);
        EXPECT(gbc.readMem(0xc2ce), 0x57);
        // CB 57 0211
        gbc.setState(0xef95, 0x7248, 0x92d0, 0x5324, 0x6f2c, 0xc9eb, 0x0, 0x1);
        gbc.writeMem(0xef95, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x7248);
        EXPECT(gbc.pc(), 0xef97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef95), 0xcb);
        EXPECT(gbc.readMem(0xef96), 0x57);
        // CB 57 0212
        gbc.setState(0x1572, 0x839d, 0x5910, 0xf1b5, 0xa80, 0x6034, 0x1, 0x0);
        gbc.writeMem(0x1572, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x839d);
        EXPECT(gbc.pc(), 0x1574);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0213
        gbc.setState(0x62cd, 0x22b8, 0xb7c0, 0x6b18, 0xd3f0, 0x7542, 0x0, 0x1);
        gbc.writeMem(0x62cd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x22b8);
        EXPECT(gbc.pc(), 0x62cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0214
        gbc.setState(0x3c77, 0x956b, 0x1690, 0x81a1, 0xe81c, 0x4df9, 0x0, 0x1);
        gbc.writeMem(0x3c77, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x956b);
        EXPECT(gbc.pc(), 0x3c79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0215
        gbc.setState(0xce20, 0xedd2, 0x780, 0xbbd8, 0xc6fa, 0xd21a, 0x1, 0x1);
        gbc.writeMem(0xce20, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xedd2);
        EXPECT(gbc.pc(), 0xce22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce20), 0xcb);
        EXPECT(gbc.readMem(0xce21), 0x57);
        // CB 57 0216
        gbc.setState(0x23b7, 0xfeef, 0xda30, 0xe91a, 0x63b5, 0xb052, 0x0, 0x1);
        gbc.writeMem(0x23b7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xfeef);
        EXPECT(gbc.pc(), 0x23b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0217
        gbc.setState(0xc3dc, 0x4a27, 0x5be0, 0x2e74, 0x3ab4, 0xbf3b, 0x0, 0x1);
        gbc.writeMem(0xc3dc, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x4a27);
        EXPECT(gbc.pc(), 0xc3de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3dc), 0xcb);
        EXPECT(gbc.readMem(0xc3dd), 0x57);
        // CB 57 0219
        gbc.setState(0xbec7, 0x835b, 0xa890, 0x4b3f, 0x3898, 0x4032, 0x1, 0x0);
        gbc.writeMem(0xbec7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x835b);
        EXPECT(gbc.pc(), 0xbec9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbec7), 0xcb);
        EXPECT(gbc.readMem(0xbec8), 0x57);
        // CB 57 021A
        gbc.setState(0x9238, 0xe99, 0x95f0, 0xac14, 0x7313, 0x138c, 0x1, 0x0);
        gbc.writeMem(0x9238, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xe99);
        EXPECT(gbc.pc(), 0x923a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9238), 0xcb);
        EXPECT(gbc.readMem(0x9239), 0x57);
        // CB 57 021B
        gbc.setState(0x1b99, 0x6460, 0xe740, 0x889d, 0x136b, 0xf1ff, 0x1, 0x0);
        gbc.writeMem(0x1b99, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x6460);
        EXPECT(gbc.pc(), 0x1b9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 021C
        gbc.setState(0x2a4c, 0x9d2, 0xad60, 0x3f19, 0xd2ff, 0x1cc8, 0x0, 0x0);
        gbc.writeMem(0x2a4c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x9d2);
        EXPECT(gbc.pc(), 0x2a4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 021D
        gbc.setState(0x103f, 0xf7d0, 0xc280, 0x7c4b, 0xfbf0, 0x8726, 0x0, 0x0);
        gbc.writeMem(0x103f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xf7d0);
        EXPECT(gbc.pc(), 0x1041);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 021E
        gbc.setState(0xedc2, 0xc6a7, 0x17c0, 0xa8d7, 0xf848, 0x71a6, 0x1, 0x0);
        gbc.writeMem(0xedc2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xc6a7);
        EXPECT(gbc.pc(), 0xedc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedc2), 0xcb);
        EXPECT(gbc.readMem(0xedc3), 0x57);
        // CB 57 021F
        gbc.setState(0x888a, 0x51c8, 0xf370, 0x2d0b, 0x30bd, 0xc1c0, 0x1, 0x0);
        gbc.writeMem(0x888a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x51c8);
        EXPECT(gbc.pc(), 0x888c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x888a), 0xcb);
        EXPECT(gbc.readMem(0x888b), 0x57);
        // CB 57 0220
        gbc.setState(0x809f, 0xf56b, 0xc070, 0xdf73, 0xab9b, 0x3826, 0x0, 0x0);
        gbc.writeMem(0x809f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xf56b);
        EXPECT(gbc.pc(), 0x80a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x809f), 0xcb);
        EXPECT(gbc.readMem(0x80a0), 0x57);
        // CB 57 0221
        gbc.setState(0x1925, 0xe17d, 0xeb80, 0xbfcb, 0x7c2b, 0x82e8, 0x0, 0x0);
        gbc.writeMem(0x1925, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xe17d);
        EXPECT(gbc.pc(), 0x1927);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0222
        gbc.setState(0x3293, 0xa061, 0x51d0, 0xd8c2, 0x21f1, 0xe99d, 0x0, 0x1);
        gbc.writeMem(0x3293, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xa061);
        EXPECT(gbc.pc(), 0x3295);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0223
        gbc.setState(0x13b3, 0xe4fe, 0x4630, 0x106a, 0xa90f, 0xb43d, 0x0, 0x1);
        gbc.writeMem(0x13b3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xe4fe);
        EXPECT(gbc.pc(), 0x13b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0224
        gbc.setState(0xeeb9, 0x5ae0, 0x7dd0, 0x902e, 0x5930, 0x5a6b, 0x0, 0x1);
        gbc.writeMem(0xeeb9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x5ae0);
        EXPECT(gbc.pc(), 0xeebb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeeb9), 0xcb);
        EXPECT(gbc.readMem(0xeeba), 0x57);
        // CB 57 0225
        gbc.setState(0x6bc3, 0xe90a, 0x8610, 0x922, 0x8fb8, 0xcd7f, 0x1, 0x1);
        gbc.writeMem(0x6bc3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe90a);
        EXPECT(gbc.pc(), 0x6bc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0226
        gbc.setState(0x19b9, 0xb90d, 0xace0, 0xe974, 0xd9a4, 0xe3aa, 0x1, 0x1);
        gbc.writeMem(0x19b9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xb90d);
        EXPECT(gbc.pc(), 0x19bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0227
        gbc.setState(0x383c, 0xa0c0, 0x8110, 0x91e5, 0xe99f, 0xf8d7, 0x1, 0x1);
        gbc.writeMem(0x383c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xa0c0);
        EXPECT(gbc.pc(), 0x383e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0228
        gbc.setState(0xb894, 0x787c, 0x9340, 0xe612, 0x77dd, 0xec7e, 0x0, 0x0);
        gbc.writeMem(0xb894, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x787c);
        EXPECT(gbc.pc(), 0xb896);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb894), 0xcb);
        EXPECT(gbc.readMem(0xb895), 0x57);
        // CB 57 0229
        gbc.setState(0x498, 0x9b3a, 0x7c60, 0xf695, 0xb302, 0x3e4d, 0x1, 0x1);
        gbc.writeMem(0x498, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x9b3a);
        EXPECT(gbc.pc(), 0x49a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 022B
        gbc.setState(0x6592, 0xd987, 0xccd0, 0xba5f, 0x132c, 0xcc92, 0x1, 0x0);
        gbc.writeMem(0x6592, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xd987);
        EXPECT(gbc.pc(), 0x6594);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 022C
        gbc.setState(0x976c, 0x8ed5, 0x7d50, 0x7987, 0xa63f, 0x561d, 0x0, 0x1);
        gbc.writeMem(0x976c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x8ed5);
        EXPECT(gbc.pc(), 0x976e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x976c), 0xcb);
        EXPECT(gbc.readMem(0x976d), 0x57);
        // CB 57 022D
        gbc.setState(0x7406, 0x1ff4, 0x480, 0x3342, 0x5861, 0x8810, 0x0, 0x1);
        gbc.writeMem(0x7406, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x1ff4);
        EXPECT(gbc.pc(), 0x7408);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 022E
        gbc.setState(0xb997, 0xbbf7, 0x1100, 0x8be0, 0x8f6, 0x8313, 0x1, 0x0);
        gbc.writeMem(0xb997, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xbbf7);
        EXPECT(gbc.pc(), 0xb999);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb997), 0xcb);
        EXPECT(gbc.readMem(0xb998), 0x57);
        // CB 57 022F
        gbc.setState(0xa5da, 0x299d, 0xdb30, 0x9520, 0x539b, 0xfc65, 0x1, 0x0);
        gbc.writeMem(0xa5da, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x299d);
        EXPECT(gbc.pc(), 0xa5dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5da), 0xcb);
        EXPECT(gbc.readMem(0xa5db), 0x57);
        // CB 57 0230
        gbc.setState(0xf6f, 0xabaf, 0xf710, 0xdad2, 0xc97, 0x8548, 0x1, 0x0);
        gbc.writeMem(0xf6f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xabaf);
        EXPECT(gbc.pc(), 0xf71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0231
        gbc.setState(0x2f4a, 0x1e92, 0x6090, 0xd942, 0xad38, 0xc818, 0x0, 0x0);
        gbc.writeMem(0x2f4a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x1e92);
        EXPECT(gbc.pc(), 0x2f4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0232
        gbc.setState(0xd2c5, 0x85f7, 0xc350, 0x9b01, 0x8af1, 0xa11f, 0x1, 0x1);
        gbc.writeMem(0xd2c5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x85f7);
        EXPECT(gbc.pc(), 0xd2c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2c5), 0xcb);
        EXPECT(gbc.readMem(0xd2c6), 0x57);
        // CB 57 0233
        gbc.setState(0x117d, 0xa75f, 0x2710, 0x16a1, 0xc106, 0x1105, 0x1, 0x1);
        gbc.writeMem(0x117d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xa75f);
        EXPECT(gbc.pc(), 0x117f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0234
        gbc.setState(0xcda4, 0xa201, 0xf2c0, 0xc630, 0x2af, 0x46d3, 0x0, 0x0);
        gbc.writeMem(0xcda4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xa201);
        EXPECT(gbc.pc(), 0xcda6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcda4), 0xcb);
        EXPECT(gbc.readMem(0xcda5), 0x57);
        // CB 57 0235
        gbc.setState(0xb58d, 0x6a58, 0xbf00, 0x666f, 0x1386, 0x4d62, 0x1, 0x1);
        gbc.writeMem(0xb58d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x6a58);
        EXPECT(gbc.pc(), 0xb58f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb58d), 0xcb);
        EXPECT(gbc.readMem(0xb58e), 0x57);
        // CB 57 0236
        gbc.setState(0x6af1, 0xf379, 0xb130, 0x6ae, 0x4cd, 0x8726, 0x1, 0x0);
        gbc.writeMem(0x6af1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xf379);
        EXPECT(gbc.pc(), 0x6af3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0237
        gbc.setState(0x72ca, 0xe56a, 0x6be0, 0xf5ff, 0x5f5b, 0x5dc2, 0x0, 0x1);
        gbc.writeMem(0x72ca, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xe56a);
        EXPECT(gbc.pc(), 0x72cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0239
        gbc.setState(0xc2c2, 0xc98b, 0x2180, 0x8dc9, 0x865a, 0x1fc3, 0x1, 0x1);
        gbc.writeMem(0xc2c2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xc98b);
        EXPECT(gbc.pc(), 0xc2c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2c2), 0xcb);
        EXPECT(gbc.readMem(0xc2c3), 0x57);
        // CB 57 023A
        gbc.setState(0x9ce8, 0xe7db, 0x6850, 0xf28c, 0x83cb, 0xa844, 0x1, 0x1);
        gbc.writeMem(0x9ce8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xe7db);
        EXPECT(gbc.pc(), 0x9cea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ce8), 0xcb);
        EXPECT(gbc.readMem(0x9ce9), 0x57);
        // CB 57 023B
        gbc.setState(0x9739, 0x487d, 0x9520, 0x200f, 0x2fd0, 0x897, 0x0, 0x1);
        gbc.writeMem(0x9739, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x487d);
        EXPECT(gbc.pc(), 0x973b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9739), 0xcb);
        EXPECT(gbc.readMem(0x973a), 0x57);
        // CB 57 023C
        gbc.setState(0xc0a6, 0x4a83, 0xcd0, 0xc9b6, 0xb5e9, 0x67e0, 0x1, 0x0);
        gbc.writeMem(0xc0a6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x4a83);
        EXPECT(gbc.pc(), 0xc0a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0a6), 0xcb);
        EXPECT(gbc.readMem(0xc0a7), 0x57);
        // CB 57 023D
        gbc.setState(0x6e8f, 0xa7aa, 0x2a20, 0x2989, 0xe15f, 0x22e, 0x0, 0x0);
        gbc.writeMem(0x6e8f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xa7aa);
        EXPECT(gbc.pc(), 0x6e91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 023E
        gbc.setState(0x93d7, 0xc6ad, 0xd970, 0xd02d, 0x54e4, 0xc3a5, 0x1, 0x0);
        gbc.writeMem(0x93d7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xc6ad);
        EXPECT(gbc.pc(), 0x93d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93d7), 0xcb);
        EXPECT(gbc.readMem(0x93d8), 0x57);
        // CB 57 023F
        gbc.setState(0xca2b, 0x5ac9, 0xefc0, 0xd570, 0xd82e, 0x137c, 0x1, 0x1);
        gbc.writeMem(0xca2b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x5ac9);
        EXPECT(gbc.pc(), 0xca2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca2b), 0xcb);
        EXPECT(gbc.readMem(0xca2c), 0x57);
        // CB 57 0240
        gbc.setState(0xb7e1, 0xf8c8, 0x97a0, 0xe2bf, 0xfc39, 0x9a5e, 0x0, 0x0);
        gbc.writeMem(0xb7e1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xf8c8);
        EXPECT(gbc.pc(), 0xb7e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7e1), 0xcb);
        EXPECT(gbc.readMem(0xb7e2), 0x57);
        // CB 57 0241
        gbc.setState(0xbe81, 0xbd6e, 0x5860, 0x8329, 0xe5b6, 0x2fac, 0x0, 0x0);
        gbc.writeMem(0xbe81, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xbd6e);
        EXPECT(gbc.pc(), 0xbe83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe81), 0xcb);
        EXPECT(gbc.readMem(0xbe82), 0x57);
        // CB 57 0242
        gbc.setState(0x696a, 0xe2e5, 0x2f70, 0x64fe, 0xa24, 0xc801, 0x1, 0x1);
        gbc.writeMem(0x696a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xe2e5);
        EXPECT(gbc.pc(), 0x696c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0243
        gbc.setState(0x2e2d, 0x696a, 0xdb10, 0x3153, 0x5916, 0x45ff, 0x0, 0x1);
        gbc.writeMem(0x2e2d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x696a);
        EXPECT(gbc.pc(), 0x2e2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0246
        gbc.setState(0x482, 0x6def, 0x56b0, 0xd16b, 0x583d, 0x70c5, 0x0, 0x0);
        gbc.writeMem(0x482, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x6def);
        EXPECT(gbc.pc(), 0x484);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0247
        gbc.setState(0x2725, 0xc5a8, 0x56f0, 0x697, 0xf177, 0x385, 0x0, 0x0);
        gbc.writeMem(0x2725, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xc5a8);
        EXPECT(gbc.pc(), 0x2727);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0248
        gbc.setState(0x2671, 0x90c, 0x400, 0x964e, 0x6ccb, 0x9e00, 0x0, 0x0);
        gbc.writeMem(0x2671, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x90c);
        EXPECT(gbc.pc(), 0x2673);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0249
        gbc.setState(0x249f, 0x82fa, 0x7250, 0x5f8a, 0xcabf, 0x47a, 0x1, 0x1);
        gbc.writeMem(0x249f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x82fa);
        EXPECT(gbc.pc(), 0x24a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 024A
        gbc.setState(0x74f6, 0x3330, 0xdfb0, 0x28bb, 0xb99b, 0xb0b3, 0x0, 0x1);
        gbc.writeMem(0x74f6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x3330);
        EXPECT(gbc.pc(), 0x74f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 024B
        gbc.setState(0x9f28, 0x55a4, 0xd10, 0x3daa, 0x3218, 0xf626, 0x0, 0x0);
        gbc.writeMem(0x9f28, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x55a4);
        EXPECT(gbc.pc(), 0x9f2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f28), 0xcb);
        EXPECT(gbc.readMem(0x9f29), 0x57);
        // CB 57 024C
        gbc.setState(0xbb59, 0x45c3, 0x23d0, 0xd4f5, 0xd995, 0xe371, 0x0, 0x0);
        gbc.writeMem(0xbb59, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x45c3);
        EXPECT(gbc.pc(), 0xbb5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb59), 0xcb);
        EXPECT(gbc.readMem(0xbb5a), 0x57);
        // CB 57 024D
        gbc.setState(0x7e34, 0xe81e, 0x1300, 0xd380, 0x9e2d, 0x314e, 0x1, 0x0);
        gbc.writeMem(0x7e34, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe81e);
        EXPECT(gbc.pc(), 0x7e36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 024E
        gbc.setState(0xc952, 0x151d, 0x2340, 0x79e, 0x82ec, 0xbcf0, 0x0, 0x0);
        gbc.writeMem(0xc952, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x151d);
        EXPECT(gbc.pc(), 0xc954);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc952), 0xcb);
        EXPECT(gbc.readMem(0xc953), 0x57);
        // CB 57 024F
        gbc.setState(0x4abf, 0x35f9, 0x6880, 0x786d, 0xf22c, 0x7b6c, 0x0, 0x0);
        gbc.writeMem(0x4abf, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x35f9);
        EXPECT(gbc.pc(), 0x4ac1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0251
        gbc.setState(0x21e8, 0x20b0, 0x19c0, 0x931f, 0xfc49, 0xe9ab, 0x0, 0x0);
        gbc.writeMem(0x21e8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x20b0);
        EXPECT(gbc.pc(), 0x21ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0252
        gbc.setState(0x2b84, 0x8aac, 0xba10, 0x9ece, 0x1b6b, 0x723, 0x1, 0x1);
        gbc.writeMem(0x2b84, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x8aac);
        EXPECT(gbc.pc(), 0x2b86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0253
        gbc.setState(0x34f1, 0x1c56, 0x35a0, 0xee36, 0x6aec, 0xd0f6, 0x0, 0x0);
        gbc.writeMem(0x34f1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x1c56);
        EXPECT(gbc.pc(), 0x34f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0254
        gbc.setState(0x1257, 0x734f, 0x83a0, 0xe348, 0xc95a, 0x2520, 0x1, 0x0);
        gbc.writeMem(0x1257, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x734f);
        EXPECT(gbc.pc(), 0x1259);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0255
        gbc.setState(0x4e84, 0x8391, 0x88d0, 0x16e8, 0xbf3, 0xa518, 0x0, 0x1);
        gbc.writeMem(0x4e84, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x8391);
        EXPECT(gbc.pc(), 0x4e86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0256
        gbc.setState(0x4cf, 0x992f, 0x9f00, 0x4050, 0xce38, 0x87dc, 0x1, 0x1);
        gbc.writeMem(0x4cf, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x992f);
        EXPECT(gbc.pc(), 0x4d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0258
        gbc.setState(0x2763, 0x4da0, 0xd2f0, 0x1eaf, 0xd756, 0x2841, 0x1, 0x0);
        gbc.writeMem(0x2763, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x4da0);
        EXPECT(gbc.pc(), 0x2765);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0259
        gbc.setState(0xcc6, 0x9c07, 0x7fd0, 0x260e, 0x45a5, 0xe0b8, 0x0, 0x0);
        gbc.writeMem(0xcc6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x9c07);
        EXPECT(gbc.pc(), 0xcc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 025A
        gbc.setState(0x9ff, 0x66f5, 0xb40, 0x6901, 0xc8fb, 0x1e84, 0x0, 0x1);
        gbc.writeMem(0x9ff, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x66f5);
        EXPECT(gbc.pc(), 0xa01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 025B
        gbc.setState(0xef13, 0xcdc9, 0xd440, 0x121b, 0xed13, 0x403, 0x0, 0x1);
        gbc.writeMem(0xef13, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xcdc9);
        EXPECT(gbc.pc(), 0xef15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef13), 0xcb);
        EXPECT(gbc.readMem(0xef14), 0x57);
        // CB 57 025C
        gbc.setState(0x368c, 0x8441, 0x37d0, 0x3d75, 0x5545, 0xa9a7, 0x1, 0x0);
        gbc.writeMem(0x368c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x8441);
        EXPECT(gbc.pc(), 0x368e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 025D
        gbc.setState(0xc9ad, 0x5a3f, 0x9fb0, 0x9b7a, 0x807e, 0x9ac9, 0x1, 0x1);
        gbc.writeMem(0xc9ad, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x5a3f);
        EXPECT(gbc.pc(), 0xc9af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9ad), 0xcb);
        EXPECT(gbc.readMem(0xc9ae), 0x57);
        // CB 57 025F
        gbc.setState(0x7af6, 0xcf9c, 0x72e0, 0xf973, 0xc23e, 0x2c29, 0x0, 0x1);
        gbc.writeMem(0x7af6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xcf9c);
        EXPECT(gbc.pc(), 0x7af8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0260
        gbc.setState(0x8aaa, 0x5797, 0xbfd0, 0x2fec, 0xcd17, 0xf179, 0x1, 0x0);
        gbc.writeMem(0x8aaa, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x5797);
        EXPECT(gbc.pc(), 0x8aac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8aaa), 0xcb);
        EXPECT(gbc.readMem(0x8aab), 0x57);
        // CB 57 0261
        gbc.setState(0xd147, 0xccc8, 0x74f0, 0x7c6e, 0x906, 0xfde2, 0x0, 0x0);
        gbc.writeMem(0xd147, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xccc8);
        EXPECT(gbc.pc(), 0xd149);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd147), 0xcb);
        EXPECT(gbc.readMem(0xd148), 0x57);
        // CB 57 0262
        gbc.setState(0x17d6, 0x5a59, 0xed80, 0x2a8a, 0x1a70, 0x302e, 0x1, 0x1);
        gbc.writeMem(0x17d6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x5a59);
        EXPECT(gbc.pc(), 0x17d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0263
        gbc.setState(0xd43b, 0xa6c9, 0x6110, 0x7602, 0x814a, 0xb36f, 0x0, 0x0);
        gbc.writeMem(0xd43b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa6c9);
        EXPECT(gbc.pc(), 0xd43d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd43b), 0xcb);
        EXPECT(gbc.readMem(0xd43c), 0x57);
        // CB 57 0264
        gbc.setState(0xcc0d, 0xe8e5, 0x27c0, 0x502d, 0x6710, 0xd6d2, 0x0, 0x1);
        gbc.writeMem(0xcc0d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xe8e5);
        EXPECT(gbc.pc(), 0xcc0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc0d), 0xcb);
        EXPECT(gbc.readMem(0xcc0e), 0x57);
        // CB 57 0265
        gbc.setState(0x2862, 0xd027, 0xf860, 0xf7ef, 0x2a8c, 0xaf65, 0x0, 0x0);
        gbc.writeMem(0x2862, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xd027);
        EXPECT(gbc.pc(), 0x2864);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0266
        gbc.setState(0x90df, 0x4cbe, 0xbb80, 0x7137, 0x3e29, 0x766, 0x0, 0x0);
        gbc.writeMem(0x90df, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x4cbe);
        EXPECT(gbc.pc(), 0x90e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90df), 0xcb);
        EXPECT(gbc.readMem(0x90e0), 0x57);
        // CB 57 0268
        gbc.setState(0x58ae, 0x553e, 0x4900, 0xf2cf, 0x8499, 0x90fd, 0x0, 0x1);
        gbc.writeMem(0x58ae, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x553e);
        EXPECT(gbc.pc(), 0x58b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0269
        gbc.setState(0x20cf, 0xa774, 0x16e0, 0x7af6, 0x7340, 0x7118, 0x1, 0x0);
        gbc.writeMem(0x20cf, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xa774);
        EXPECT(gbc.pc(), 0x20d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 026A
        gbc.setState(0xaec4, 0x92e3, 0x8f50, 0xbb1d, 0xab3, 0x6fee, 0x0, 0x1);
        gbc.writeMem(0xaec4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x92e3);
        EXPECT(gbc.pc(), 0xaec6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaec4), 0xcb);
        EXPECT(gbc.readMem(0xaec5), 0x57);
        // CB 57 026B
        gbc.setState(0x5997, 0x3a08, 0xae70, 0xba23, 0x6cac, 0x1978, 0x1, 0x1);
        gbc.writeMem(0x5997, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x3a08);
        EXPECT(gbc.pc(), 0x5999);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 026C
        gbc.setState(0x4db7, 0x18e, 0x2e90, 0xbca8, 0x64a2, 0xcadd, 0x0, 0x1);
        gbc.writeMem(0x4db7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x18e);
        EXPECT(gbc.pc(), 0x4db9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 026E
        gbc.setState(0xed7f, 0xb828, 0x5f60, 0x7abc, 0xb68c, 0xdb39, 0x1, 0x0);
        gbc.writeMem(0xed7f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xb828);
        EXPECT(gbc.pc(), 0xed81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed7f), 0xcb);
        EXPECT(gbc.readMem(0xed80), 0x57);
        // CB 57 026F
        gbc.setState(0x4fb5, 0xe5eb, 0x630, 0x52ad, 0xa478, 0xf5c4, 0x1, 0x0);
        gbc.writeMem(0x4fb5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xe5eb);
        EXPECT(gbc.pc(), 0x4fb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0270
        gbc.setState(0x578b, 0x2830, 0xdd80, 0x9542, 0x734a, 0x6d51, 0x0, 0x1);
        gbc.writeMem(0x578b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2830);
        EXPECT(gbc.pc(), 0x578d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0271
        gbc.setState(0x4fc3, 0xa13f, 0x6b70, 0x32e5, 0x1865, 0x6193, 0x1, 0x0);
        gbc.writeMem(0x4fc3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xa13f);
        EXPECT(gbc.pc(), 0x4fc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0272
        gbc.setState(0xab90, 0x9e5f, 0xfa50, 0x89a4, 0xef2b, 0x1e34, 0x0, 0x1);
        gbc.writeMem(0xab90, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x9e5f);
        EXPECT(gbc.pc(), 0xab92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab90), 0xcb);
        EXPECT(gbc.readMem(0xab91), 0x57);
        // CB 57 0273
        gbc.setState(0x6d7b, 0xe978, 0x1140, 0x5615, 0xed14, 0x73f5, 0x0, 0x0);
        gbc.writeMem(0x6d7b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xe978);
        EXPECT(gbc.pc(), 0x6d7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0274
        gbc.setState(0x20f6, 0x5074, 0xd3f0, 0xa273, 0xd807, 0x1f3e, 0x0, 0x0);
        gbc.writeMem(0x20f6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x5074);
        EXPECT(gbc.pc(), 0x20f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0276
        gbc.setState(0x667c, 0x4791, 0xfc50, 0xe0c4, 0x9d27, 0xd4ec, 0x1, 0x0);
        gbc.writeMem(0x667c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x4791);
        EXPECT(gbc.pc(), 0x667e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0277
        gbc.setState(0xe29a, 0xd049, 0x23a0, 0x3de5, 0xbc04, 0xf1c0, 0x1, 0x0);
        gbc.writeMem(0xe29a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xd049);
        EXPECT(gbc.pc(), 0xe29c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe29a), 0xcb);
        EXPECT(gbc.readMem(0xe29b), 0x57);
        // CB 57 0278
        gbc.setState(0xeaba, 0x5f28, 0xdc80, 0x957d, 0x284a, 0x9a53, 0x1, 0x1);
        gbc.writeMem(0xeaba, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x5f28);
        EXPECT(gbc.pc(), 0xeabc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaba), 0xcb);
        EXPECT(gbc.readMem(0xeabb), 0x57);
        // CB 57 0279
        gbc.setState(0xdc95, 0xd748, 0x9ea0, 0xb47a, 0x7032, 0x3b1f, 0x0, 0x0);
        gbc.writeMem(0xdc95, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xd748);
        EXPECT(gbc.pc(), 0xdc97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc95), 0xcb);
        EXPECT(gbc.readMem(0xdc96), 0x57);
        // CB 57 027A
        gbc.setState(0x436f, 0x59df, 0x9300, 0x5bac, 0xffe9, 0x91fd, 0x0, 0x0);
        gbc.writeMem(0x436f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x59df);
        EXPECT(gbc.pc(), 0x4371);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 027B
        gbc.setState(0xc8d9, 0x576a, 0xa910, 0x9c63, 0xe19, 0x919c, 0x1, 0x0);
        gbc.writeMem(0xc8d9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x576a);
        EXPECT(gbc.pc(), 0xc8db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8d9), 0xcb);
        EXPECT(gbc.readMem(0xc8da), 0x57);
        // CB 57 027C
        gbc.setState(0x22f5, 0xf068, 0x6830, 0x27ad, 0x8602, 0x8259, 0x0, 0x1);
        gbc.writeMem(0x22f5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xf068);
        EXPECT(gbc.pc(), 0x22f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 027D
        gbc.setState(0xba57, 0xa1cf, 0x30b0, 0xb12c, 0x4791, 0xa222, 0x0, 0x0);
        gbc.writeMem(0xba57, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xa1cf);
        EXPECT(gbc.pc(), 0xba59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba57), 0xcb);
        EXPECT(gbc.readMem(0xba58), 0x57);
        // CB 57 027E
        gbc.setState(0xacbe, 0xd215, 0x4560, 0xecb, 0x3f39, 0x41c2, 0x0, 0x1);
        gbc.writeMem(0xacbe, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xd215);
        EXPECT(gbc.pc(), 0xacc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacbe), 0xcb);
        EXPECT(gbc.readMem(0xacbf), 0x57);
        // CB 57 0280
        gbc.setState(0x40a1, 0xbdee, 0xe140, 0xd678, 0x2ff3, 0x6380, 0x0, 0x0);
        gbc.writeMem(0x40a1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xbdee);
        EXPECT(gbc.pc(), 0x40a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0281
        gbc.setState(0x141f, 0x1aa4, 0x2b20, 0xb3a6, 0xa7bc, 0xe27e, 0x1, 0x1);
        gbc.writeMem(0x141f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x1aa4);
        EXPECT(gbc.pc(), 0x1421);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0282
        gbc.setState(0x9677, 0xc59a, 0x7af0, 0xd138, 0xa39b, 0x32cf, 0x0, 0x1);
        gbc.writeMem(0x9677, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xc59a);
        EXPECT(gbc.pc(), 0x9679);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9677), 0xcb);
        EXPECT(gbc.readMem(0x9678), 0x57);
        // CB 57 0283
        gbc.setState(0xabbf, 0x95e2, 0xb600, 0x7893, 0xfac8, 0x28c4, 0x0, 0x0);
        gbc.writeMem(0xabbf, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x95e2);
        EXPECT(gbc.pc(), 0xabc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabbf), 0xcb);
        EXPECT(gbc.readMem(0xabc0), 0x57);
        // CB 57 0284
        gbc.setState(0x96d6, 0x7581, 0xd260, 0xaf02, 0xf9f7, 0xcadb, 0x1, 0x0);
        gbc.writeMem(0x96d6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x7581);
        EXPECT(gbc.pc(), 0x96d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96d6), 0xcb);
        EXPECT(gbc.readMem(0x96d7), 0x57);
        // CB 57 0285
        gbc.setState(0xb836, 0x9001, 0xf1c0, 0xf84c, 0x24, 0xc1d3, 0x0, 0x1);
        gbc.writeMem(0xb836, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x9001);
        EXPECT(gbc.pc(), 0xb838);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb836), 0xcb);
        EXPECT(gbc.readMem(0xb837), 0x57);
        // CB 57 0286
        gbc.setState(0xa1d5, 0x5fcd, 0x5de0, 0xa638, 0xbbbd, 0xd8d4, 0x0, 0x0);
        gbc.writeMem(0xa1d5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x5fcd);
        EXPECT(gbc.pc(), 0xa1d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1d5), 0xcb);
        EXPECT(gbc.readMem(0xa1d6), 0x57);
        // CB 57 0287
        gbc.setState(0x51b1, 0x14a8, 0xc920, 0x59ca, 0x9987, 0x640a, 0x1, 0x0);
        gbc.writeMem(0x51b1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x14a8);
        EXPECT(gbc.pc(), 0x51b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0288
        gbc.setState(0x58c1, 0x8f7, 0xcb40, 0xf825, 0xea7a, 0x8ba4, 0x1, 0x0);
        gbc.writeMem(0x58c1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x8f7);
        EXPECT(gbc.pc(), 0x58c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0289
        gbc.setState(0xa5d0, 0xf08d, 0xe260, 0x420, 0x32f9, 0x1ff, 0x0, 0x0);
        gbc.writeMem(0xa5d0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xf08d);
        EXPECT(gbc.pc(), 0xa5d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5d0), 0xcb);
        EXPECT(gbc.readMem(0xa5d1), 0x57);
        // CB 57 028B
        gbc.setState(0x4929, 0x45a8, 0xf40, 0x3664, 0x14b6, 0xe941, 0x1, 0x0);
        gbc.writeMem(0x4929, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x45a8);
        EXPECT(gbc.pc(), 0x492b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 028C
        gbc.setState(0x7d71, 0x86da, 0x4d20, 0x37a2, 0x5ca1, 0xa6c, 0x1, 0x1);
        gbc.writeMem(0x7d71, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x86da);
        EXPECT(gbc.pc(), 0x7d73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 028D
        gbc.setState(0xe868, 0x1068, 0x29c0, 0xc35c, 0xac45, 0xfca4, 0x0, 0x0);
        gbc.writeMem(0xe868, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x1068);
        EXPECT(gbc.pc(), 0xe86a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe868), 0xcb);
        EXPECT(gbc.readMem(0xe869), 0x57);
        // CB 57 028E
        gbc.setState(0x9894, 0xc116, 0x32e0, 0xf193, 0xd40d, 0xbdfd, 0x0, 0x1);
        gbc.writeMem(0x9894, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc116);
        EXPECT(gbc.pc(), 0x9896);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9894), 0xcb);
        EXPECT(gbc.readMem(0x9895), 0x57);
        // CB 57 028F
        gbc.setState(0x1119, 0xa438, 0x9c00, 0x9f4f, 0x64c9, 0x2a29, 0x1, 0x1);
        gbc.writeMem(0x1119, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xa438);
        EXPECT(gbc.pc(), 0x111b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0290
        gbc.setState(0xe164, 0x7f07, 0x1990, 0x7516, 0xd41d, 0xa6d9, 0x0, 0x1);
        gbc.writeMem(0xe164, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x7f07);
        EXPECT(gbc.pc(), 0xe166);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe164), 0xcb);
        EXPECT(gbc.readMem(0xe165), 0x57);
        // CB 57 0291
        gbc.setState(0x3bd4, 0xaccf, 0x65d0, 0xaa6c, 0xfea9, 0x6cac, 0x0, 0x0);
        gbc.writeMem(0x3bd4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xaccf);
        EXPECT(gbc.pc(), 0x3bd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0292
        gbc.setState(0xb6fa, 0xdd1f, 0xc910, 0x56e6, 0x709a, 0xacca, 0x0, 0x0);
        gbc.writeMem(0xb6fa, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xdd1f);
        EXPECT(gbc.pc(), 0xb6fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6fa), 0xcb);
        EXPECT(gbc.readMem(0xb6fb), 0x57);
        // CB 57 0293
        gbc.setState(0xeaca, 0xbfa0, 0xb340, 0xf72f, 0xd0e2, 0x62d2, 0x1, 0x1);
        gbc.writeMem(0xeaca, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xbfa0);
        EXPECT(gbc.pc(), 0xeacc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaca), 0xcb);
        EXPECT(gbc.readMem(0xeacb), 0x57);
        // CB 57 0294
        gbc.setState(0xbde2, 0xe80e, 0x2160, 0xbd46, 0xcd5d, 0x211d, 0x1, 0x1);
        gbc.writeMem(0xbde2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xe80e);
        EXPECT(gbc.pc(), 0xbde4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbde2), 0xcb);
        EXPECT(gbc.readMem(0xbde3), 0x57);
        // CB 57 0295
        gbc.setState(0xde5f, 0xc346, 0xd8f0, 0x91c8, 0x6f4, 0xeb7e, 0x0, 0x1);
        gbc.writeMem(0xde5f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xc346);
        EXPECT(gbc.pc(), 0xde61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde5f), 0xcb);
        EXPECT(gbc.readMem(0xde60), 0x57);
        // CB 57 0296
        gbc.setState(0xb466, 0x2b1b, 0x4740, 0x8ba3, 0xfab9, 0x2831, 0x0, 0x1);
        gbc.writeMem(0xb466, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x2b1b);
        EXPECT(gbc.pc(), 0xb468);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb466), 0xcb);
        EXPECT(gbc.readMem(0xb467), 0x57);
        // CB 57 0297
        gbc.setState(0x6348, 0x79df, 0x44a0, 0x293d, 0xd0d8, 0xa641, 0x1, 0x1);
        gbc.writeMem(0x6348, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x79df);
        EXPECT(gbc.pc(), 0x634a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0298
        gbc.setState(0x442a, 0x460d, 0xc8a0, 0xda5d, 0x9845, 0x4f81, 0x1, 0x1);
        gbc.writeMem(0x442a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x460d);
        EXPECT(gbc.pc(), 0x442c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 029A
        gbc.setState(0x42b4, 0x6816, 0xabe0, 0xcec5, 0x7d85, 0xec92, 0x0, 0x0);
        gbc.writeMem(0x42b4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x6816);
        EXPECT(gbc.pc(), 0x42b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 029B
        gbc.setState(0x4c34, 0xafa6, 0x70c0, 0xd76e, 0x4848, 0x584b, 0x0, 0x0);
        gbc.writeMem(0x4c34, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xafa6);
        EXPECT(gbc.pc(), 0x4c36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 029C
        gbc.setState(0x162, 0xb246, 0x990, 0x569d, 0xc4ff, 0xa94b, 0x1, 0x1);
        gbc.writeMem(0x162, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xb246);
        EXPECT(gbc.pc(), 0x164);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 029D
        gbc.setState(0x6d1d, 0x7fdc, 0x76c0, 0xf169, 0xe80b, 0xd0d6, 0x0, 0x0);
        gbc.writeMem(0x6d1d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x7fdc);
        EXPECT(gbc.pc(), 0x6d1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 029E
        gbc.setState(0xb540, 0x82ca, 0xce10, 0x66ed, 0xaffd, 0xb599, 0x0, 0x1);
        gbc.writeMem(0xb540, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x82ca);
        EXPECT(gbc.pc(), 0xb542);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb540), 0xcb);
        EXPECT(gbc.readMem(0xb541), 0x57);
        // CB 57 029F
        gbc.setState(0xb6b0, 0xff44, 0x1ac0, 0x9879, 0xcd2a, 0x3bf, 0x0, 0x0);
        gbc.writeMem(0xb6b0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xff44);
        EXPECT(gbc.pc(), 0xb6b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6b0), 0xcb);
        EXPECT(gbc.readMem(0xb6b1), 0x57);
        // CB 57 02A0
        gbc.setState(0xb20d, 0x350, 0xe2d0, 0x5c13, 0xbb4a, 0x9e20, 0x1, 0x1);
        gbc.writeMem(0xb20d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x350);
        EXPECT(gbc.pc(), 0xb20f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb20d), 0xcb);
        EXPECT(gbc.readMem(0xb20e), 0x57);
        // CB 57 02A1
        gbc.setState(0x9b09, 0x4e6a, 0xe820, 0xbfd9, 0x15ed, 0x26c1, 0x1, 0x0);
        gbc.writeMem(0x9b09, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x4e6a);
        EXPECT(gbc.pc(), 0x9b0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b09), 0xcb);
        EXPECT(gbc.readMem(0x9b0a), 0x57);
        // CB 57 02A2
        gbc.setState(0x16d5, 0xe852, 0x5570, 0x9ba4, 0x128f, 0x8cec, 0x0, 0x0);
        gbc.writeMem(0x16d5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xe852);
        EXPECT(gbc.pc(), 0x16d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02A3
        gbc.setState(0x9fa9, 0xe13b, 0xcbf0, 0x7410, 0x639e, 0x11ec, 0x0, 0x0);
        gbc.writeMem(0x9fa9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xe13b);
        EXPECT(gbc.pc(), 0x9fab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fa9), 0xcb);
        EXPECT(gbc.readMem(0x9faa), 0x57);
        // CB 57 02A4
        gbc.setState(0x1725, 0x956f, 0x63e0, 0xbb32, 0x7551, 0x7105, 0x1, 0x0);
        gbc.writeMem(0x1725, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x956f);
        EXPECT(gbc.pc(), 0x1727);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02A5
        gbc.setState(0x2355, 0xb44b, 0x7730, 0x5f4f, 0x9c8d, 0x6c00, 0x0, 0x1);
        gbc.writeMem(0x2355, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xb44b);
        EXPECT(gbc.pc(), 0x2357);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02A7
        gbc.setState(0x44a7, 0xe813, 0x4cf0, 0x697b, 0xc09b, 0x7b8, 0x1, 0x0);
        gbc.writeMem(0x44a7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xe813);
        EXPECT(gbc.pc(), 0x44a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02A8
        gbc.setState(0x859e, 0xed4b, 0x3b20, 0x323d, 0xa9eb, 0xeb0, 0x1, 0x1);
        gbc.writeMem(0x859e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xed4b);
        EXPECT(gbc.pc(), 0x85a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x859e), 0xcb);
        EXPECT(gbc.readMem(0x859f), 0x57);
        // CB 57 02A9
        gbc.setState(0x98d5, 0xe637, 0xf8f0, 0xa981, 0x39c8, 0x6c51, 0x1, 0x1);
        gbc.writeMem(0x98d5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xe637);
        EXPECT(gbc.pc(), 0x98d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98d5), 0xcb);
        EXPECT(gbc.readMem(0x98d6), 0x57);
        // CB 57 02AA
        gbc.setState(0x9e9f, 0xb3be, 0x5840, 0x5eab, 0xad14, 0x6085, 0x1, 0x0);
        gbc.writeMem(0x9e9f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xb3be);
        EXPECT(gbc.pc(), 0x9ea1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e9f), 0xcb);
        EXPECT(gbc.readMem(0x9ea0), 0x57);
        // CB 57 02AB
        gbc.setState(0x7e0, 0xfbb9, 0x1cc0, 0x9761, 0x1703, 0x873d, 0x1, 0x1);
        gbc.writeMem(0x7e0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xfbb9);
        EXPECT(gbc.pc(), 0x7e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02AC
        gbc.setState(0xad60, 0x325d, 0x45f0, 0x2ff2, 0x8a4e, 0x26bd, 0x0, 0x0);
        gbc.writeMem(0xad60, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x325d);
        EXPECT(gbc.pc(), 0xad62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad60), 0xcb);
        EXPECT(gbc.readMem(0xad61), 0x57);
        // CB 57 02AD
        gbc.setState(0x891d, 0xb53a, 0x3880, 0x53d, 0x5452, 0xd0b3, 0x0, 0x1);
        gbc.writeMem(0x891d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xb53a);
        EXPECT(gbc.pc(), 0x891f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x891d), 0xcb);
        EXPECT(gbc.readMem(0x891e), 0x57);
        // CB 57 02AE
        gbc.setState(0x4438, 0xc7b0, 0xb670, 0xb8c3, 0xe71c, 0x1cc7, 0x0, 0x1);
        gbc.writeMem(0x4438, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xc7b0);
        EXPECT(gbc.pc(), 0x443a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02B0
        gbc.setState(0xece6, 0xbf4c, 0x9240, 0xb1ab, 0x7861, 0x4c20, 0x1, 0x0);
        gbc.writeMem(0xece6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xbf4c);
        EXPECT(gbc.pc(), 0xece8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xece6), 0xcb);
        EXPECT(gbc.readMem(0xece7), 0x57);
        // CB 57 02B2
        gbc.setState(0xa7d8, 0xc17b, 0x40d0, 0x2de9, 0xf897, 0x89a, 0x0, 0x1);
        gbc.writeMem(0xa7d8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xc17b);
        EXPECT(gbc.pc(), 0xa7da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7d8), 0xcb);
        EXPECT(gbc.readMem(0xa7d9), 0x57);
        // CB 57 02B3
        gbc.setState(0x8bf3, 0xdb68, 0xae10, 0xeae9, 0x4eed, 0xfad0, 0x0, 0x0);
        gbc.writeMem(0x8bf3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xdb68);
        EXPECT(gbc.pc(), 0x8bf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bf3), 0xcb);
        EXPECT(gbc.readMem(0x8bf4), 0x57);
        // CB 57 02B4
        gbc.setState(0x4ba8, 0xcf48, 0xc590, 0x279b, 0xd4f1, 0xc0f0, 0x0, 0x1);
        gbc.writeMem(0x4ba8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xcf48);
        EXPECT(gbc.pc(), 0x4baa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02B5
        gbc.setState(0xa6f0, 0x4dc2, 0x5920, 0x6be2, 0x5513, 0x1035, 0x0, 0x0);
        gbc.writeMem(0xa6f0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x4dc2);
        EXPECT(gbc.pc(), 0xa6f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6f0), 0xcb);
        EXPECT(gbc.readMem(0xa6f1), 0x57);
        // CB 57 02B6
        gbc.setState(0x5fe8, 0x69cc, 0x5350, 0xfa48, 0x571e, 0x2818, 0x1, 0x1);
        gbc.writeMem(0x5fe8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x69cc);
        EXPECT(gbc.pc(), 0x5fea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02B8
        gbc.setState(0x9b5f, 0x6c04, 0x8ce0, 0xb745, 0xd458, 0x6696, 0x1, 0x0);
        gbc.writeMem(0x9b5f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x6c04);
        EXPECT(gbc.pc(), 0x9b61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b5f), 0xcb);
        EXPECT(gbc.readMem(0x9b60), 0x57);
        // CB 57 02B9
        gbc.setState(0xf09, 0xb428, 0x7eb0, 0x8fef, 0xf641, 0x5412, 0x0, 0x0);
        gbc.writeMem(0xf09, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xb428);
        EXPECT(gbc.pc(), 0xf0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02BA
        gbc.setState(0xd04b, 0x5676, 0xd450, 0x20d5, 0x2052, 0x1213, 0x1, 0x0);
        gbc.writeMem(0xd04b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x5676);
        EXPECT(gbc.pc(), 0xd04d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd04b), 0xcb);
        EXPECT(gbc.readMem(0xd04c), 0x57);
        // CB 57 02BC
        gbc.setState(0xb93, 0xc05a, 0x8d10, 0xf6a3, 0x3eb1, 0xbeb7, 0x1, 0x0);
        gbc.writeMem(0xb93, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xc05a);
        EXPECT(gbc.pc(), 0xb95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02BE
        gbc.setState(0x1ff2, 0x72a6, 0x50, 0x323f, 0xd5f7, 0x3a1b, 0x0, 0x1);
        gbc.writeMem(0x1ff2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x72a6);
        EXPECT(gbc.pc(), 0x1ff4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02BF
        gbc.setState(0x903b, 0xf0bc, 0xd860, 0xad29, 0x4445, 0x971, 0x0, 0x0);
        gbc.writeMem(0x903b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xf0bc);
        EXPECT(gbc.pc(), 0x903d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x903b), 0xcb);
        EXPECT(gbc.readMem(0x903c), 0x57);
        // CB 57 02C1
        gbc.setState(0x9b71, 0x31ea, 0xc2d0, 0xd4a8, 0x1a26, 0xdb07, 0x1, 0x1);
        gbc.writeMem(0x9b71, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x31ea);
        EXPECT(gbc.pc(), 0x9b73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b71), 0xcb);
        EXPECT(gbc.readMem(0x9b72), 0x57);
        // CB 57 02C2
        gbc.setState(0xd9ee, 0x21cf, 0x4b70, 0x156f, 0x36f1, 0x93fd, 0x0, 0x0);
        gbc.writeMem(0xd9ee, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x21cf);
        EXPECT(gbc.pc(), 0xd9f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9ee), 0xcb);
        EXPECT(gbc.readMem(0xd9ef), 0x57);
        // CB 57 02C3
        gbc.setState(0x6bd6, 0x620a, 0x14a0, 0x40df, 0x33e3, 0x9972, 0x1, 0x0);
        gbc.writeMem(0x6bd6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x620a);
        EXPECT(gbc.pc(), 0x6bd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02C4
        gbc.setState(0x7e48, 0x8d8b, 0x5e20, 0x1496, 0x4dae, 0xfbc8, 0x1, 0x0);
        gbc.writeMem(0x7e48, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x8d8b);
        EXPECT(gbc.pc(), 0x7e4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02C5
        gbc.setState(0x8616, 0x8d61, 0x4110, 0x98b1, 0x7f7, 0xb909, 0x0, 0x0);
        gbc.writeMem(0x8616, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x8d61);
        EXPECT(gbc.pc(), 0x8618);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8616), 0xcb);
        EXPECT(gbc.readMem(0x8617), 0x57);
        // CB 57 02C6
        gbc.setState(0xc977, 0x1eb1, 0xf6e0, 0xfb58, 0x10bf, 0xd118, 0x0, 0x0);
        gbc.writeMem(0xc977, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x1eb1);
        EXPECT(gbc.pc(), 0xc979);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc977), 0xcb);
        EXPECT(gbc.readMem(0xc978), 0x57);
        // CB 57 02C7
        gbc.setState(0xd614, 0xcd68, 0x89c0, 0x981f, 0x66e2, 0xc917, 0x1, 0x0);
        gbc.writeMem(0xd614, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xcd68);
        EXPECT(gbc.pc(), 0xd616);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd614), 0xcb);
        EXPECT(gbc.readMem(0xd615), 0x57);
        // CB 57 02C8
        gbc.setState(0x190, 0x3640, 0x6a10, 0x52b1, 0x2512, 0x40ee, 0x1, 0x1);
        gbc.writeMem(0x190, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x3640);
        EXPECT(gbc.pc(), 0x192);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02C9
        gbc.setState(0xa9c, 0x2f7d, 0x6a50, 0xe350, 0xa5c8, 0x203c, 0x0, 0x1);
        gbc.writeMem(0xa9c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x2f7d);
        EXPECT(gbc.pc(), 0xa9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02CA
        gbc.setState(0x7c9e, 0x4b2b, 0x8a80, 0x83da, 0xe539, 0x3abc, 0x1, 0x1);
        gbc.writeMem(0x7c9e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x4b2b);
        EXPECT(gbc.pc(), 0x7ca0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02CB
        gbc.setState(0x8d8f, 0x5957, 0x8850, 0x86ed, 0x937, 0xa374, 0x1, 0x1);
        gbc.writeMem(0x8d8f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x5957);
        EXPECT(gbc.pc(), 0x8d91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d8f), 0xcb);
        EXPECT(gbc.readMem(0x8d90), 0x57);
        // CB 57 02CC
        gbc.setState(0x66be, 0xb94f, 0x8510, 0xca0a, 0x7e88, 0xc03d, 0x0, 0x1);
        gbc.writeMem(0x66be, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xb94f);
        EXPECT(gbc.pc(), 0x66c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02CD
        gbc.setState(0xc020, 0xbba9, 0x6870, 0xaf7a, 0x5ab6, 0x1b1b, 0x0, 0x0);
        gbc.writeMem(0xc020, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xbba9);
        EXPECT(gbc.pc(), 0xc022);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc020), 0xcb);
        EXPECT(gbc.readMem(0xc021), 0x57);
        // CB 57 02CE
        gbc.setState(0x90ad, 0xde61, 0xe2e0, 0x8dfd, 0xbe8d, 0xd937, 0x0, 0x0);
        gbc.writeMem(0x90ad, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xde61);
        EXPECT(gbc.pc(), 0x90af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90ad), 0xcb);
        EXPECT(gbc.readMem(0x90ae), 0x57);
        // CB 57 02D0
        gbc.setState(0xc9a5, 0xde36, 0x9300, 0xefb8, 0xb72a, 0x5235, 0x1, 0x1);
        gbc.writeMem(0xc9a5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xde36);
        EXPECT(gbc.pc(), 0xc9a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9a5), 0xcb);
        EXPECT(gbc.readMem(0xc9a6), 0x57);
        // CB 57 02D1
        gbc.setState(0xe116, 0xc052, 0x39e0, 0xbee, 0x3df7, 0x3c21, 0x1, 0x0);
        gbc.writeMem(0xe116, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xc052);
        EXPECT(gbc.pc(), 0xe118);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe116), 0xcb);
        EXPECT(gbc.readMem(0xe117), 0x57);
        // CB 57 02D2
        gbc.setState(0x60f0, 0xa263, 0xbfc0, 0x5024, 0xe311, 0xb1dc, 0x0, 0x0);
        gbc.writeMem(0x60f0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xa263);
        EXPECT(gbc.pc(), 0x60f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02D3
        gbc.setState(0xb802, 0x568f, 0x3100, 0x9bcf, 0xfff9, 0xe585, 0x0, 0x1);
        gbc.writeMem(0xb802, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x568f);
        EXPECT(gbc.pc(), 0xb804);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb802), 0xcb);
        EXPECT(gbc.readMem(0xb803), 0x57);
        // CB 57 02D4
        gbc.setState(0x823b, 0x35f3, 0x6190, 0x7a45, 0xa6bc, 0xb524, 0x1, 0x1);
        gbc.writeMem(0x823b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x35f3);
        EXPECT(gbc.pc(), 0x823d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x823b), 0xcb);
        EXPECT(gbc.readMem(0x823c), 0x57);
        // CB 57 02D5
        gbc.setState(0xd851, 0xbe1a, 0xda0, 0x613e, 0x23f4, 0x69d5, 0x1, 0x1);
        gbc.writeMem(0xd851, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xbe1a);
        EXPECT(gbc.pc(), 0xd853);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd851), 0xcb);
        EXPECT(gbc.readMem(0xd852), 0x57);
        // CB 57 02D7
        gbc.setState(0x7a36, 0x1217, 0x1110, 0xda3d, 0x64ee, 0x2601, 0x0, 0x1);
        gbc.writeMem(0x7a36, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x1217);
        EXPECT(gbc.pc(), 0x7a38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02D8
        gbc.setState(0xd54e, 0xe90f, 0x6490, 0x8679, 0x2045, 0x4dc5, 0x1, 0x0);
        gbc.writeMem(0xd54e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe90f);
        EXPECT(gbc.pc(), 0xd550);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd54e), 0xcb);
        EXPECT(gbc.readMem(0xd54f), 0x57);
        // CB 57 02D9
        gbc.setState(0x1945, 0x4e49, 0x97e0, 0xe1de, 0x92a, 0xccad, 0x0, 0x1);
        gbc.writeMem(0x1945, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x4e49);
        EXPECT(gbc.pc(), 0x1947);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02DA
        gbc.setState(0x27d4, 0x9ba3, 0x8340, 0xd6cf, 0xdde4, 0xb5b4, 0x1, 0x1);
        gbc.writeMem(0x27d4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x9ba3);
        EXPECT(gbc.pc(), 0x27d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02DB
        gbc.setState(0x5a1d, 0x5cbd, 0x2560, 0x64ef, 0x5e5f, 0x8ac6, 0x0, 0x0);
        gbc.writeMem(0x5a1d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x5cbd);
        EXPECT(gbc.pc(), 0x5a1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02DC
        gbc.setState(0xc263, 0xcb4e, 0xff20, 0x86d4, 0xd0ed, 0xe03a, 0x1, 0x1);
        gbc.writeMem(0xc263, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xcb4e);
        EXPECT(gbc.pc(), 0xc265);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc263), 0xcb);
        EXPECT(gbc.readMem(0xc264), 0x57);
        // CB 57 02DD
        gbc.setState(0x7f37, 0x27b0, 0xf7b0, 0x2814, 0x5688, 0x297, 0x0, 0x1);
        gbc.writeMem(0x7f37, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x27b0);
        EXPECT(gbc.pc(), 0x7f39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02DE
        gbc.setState(0xe4d5, 0xdf29, 0xd420, 0x7ac3, 0xc95a, 0xf203, 0x1, 0x0);
        gbc.writeMem(0xe4d5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xdf29);
        EXPECT(gbc.pc(), 0xe4d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4d5), 0xcb);
        EXPECT(gbc.readMem(0xe4d6), 0x57);
        // CB 57 02DF
        gbc.setState(0x4015, 0xa1ad, 0x97f0, 0xff87, 0xdde5, 0xe189, 0x0, 0x0);
        gbc.writeMem(0x4015, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xa1ad);
        EXPECT(gbc.pc(), 0x4017);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02E0
        gbc.setState(0x5742, 0xe15e, 0x8800, 0x4431, 0x7bcc, 0xb9ac, 0x0, 0x1);
        gbc.writeMem(0x5742, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xe15e);
        EXPECT(gbc.pc(), 0x5744);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02E1
        gbc.setState(0x219d, 0x9e7a, 0x1de0, 0x1b69, 0x9e1d, 0x7476, 0x1, 0x0);
        gbc.writeMem(0x219d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x9e7a);
        EXPECT(gbc.pc(), 0x219f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02E2
        gbc.setState(0x232a, 0x224a, 0xceb0, 0xbc3a, 0x341b, 0x872a, 0x0, 0x0);
        gbc.writeMem(0x232a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x224a);
        EXPECT(gbc.pc(), 0x232c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02E4
        gbc.setState(0xb238, 0x502a, 0x9d60, 0x7767, 0xfea9, 0x2590, 0x0, 0x1);
        gbc.writeMem(0xb238, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x502a);
        EXPECT(gbc.pc(), 0xb23a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb238), 0xcb);
        EXPECT(gbc.readMem(0xb239), 0x57);
        // CB 57 02E5
        gbc.setState(0x9e, 0x35c4, 0x4ed0, 0x98ad, 0xb39d, 0xef47, 0x0, 0x0);
        gbc.writeMem(0x9e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x35c4);
        EXPECT(gbc.pc(), 0xa0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02E6
        gbc.setState(0x94ee, 0x9ac1, 0xed0, 0x149b, 0x725, 0xb2c0, 0x0, 0x0);
        gbc.writeMem(0x94ee, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x9ac1);
        EXPECT(gbc.pc(), 0x94f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94ee), 0xcb);
        EXPECT(gbc.readMem(0x94ef), 0x57);
        // CB 57 02E7
        gbc.setState(0x9fe9, 0xd482, 0x9130, 0x3bea, 0x687c, 0xff62, 0x0, 0x1);
        gbc.writeMem(0x9fe9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xd482);
        EXPECT(gbc.pc(), 0x9feb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fe9), 0xcb);
        EXPECT(gbc.readMem(0x9fea), 0x57);
        // CB 57 02E8
        gbc.setState(0xcb31, 0xe15e, 0x3020, 0xcc07, 0xfd7f, 0xdb9, 0x0, 0x1);
        gbc.writeMem(0xcb31, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xe15e);
        EXPECT(gbc.pc(), 0xcb33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb31), 0xcb);
        EXPECT(gbc.readMem(0xcb32), 0x57);
        // CB 57 02E9
        gbc.setState(0xda76, 0x3958, 0x17e0, 0x9386, 0xa877, 0xca6e, 0x1, 0x1);
        gbc.writeMem(0xda76, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x3958);
        EXPECT(gbc.pc(), 0xda78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda76), 0xcb);
        EXPECT(gbc.readMem(0xda77), 0x57);
        // CB 57 02EA
        gbc.setState(0x333f, 0x7604, 0x4260, 0xfa71, 0xd6ec, 0xce82, 0x0, 0x0);
        gbc.writeMem(0x333f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x7604);
        EXPECT(gbc.pc(), 0x3341);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02EB
        gbc.setState(0x5174, 0x8c8f, 0xd7b0, 0xd14a, 0x3b1d, 0x9e87, 0x0, 0x0);
        gbc.writeMem(0x5174, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x8c8f);
        EXPECT(gbc.pc(), 0x5176);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02EC
        gbc.setState(0x9017, 0xd1bd, 0x1620, 0x84e3, 0xc4ef, 0x44de, 0x0, 0x1);
        gbc.writeMem(0x9017, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xd1bd);
        EXPECT(gbc.pc(), 0x9019);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9017), 0xcb);
        EXPECT(gbc.readMem(0x9018), 0x57);
        // CB 57 02ED
        gbc.setState(0x95fb, 0xf0d0, 0xa320, 0x3c5f, 0x6f43, 0xdb3c, 0x0, 0x1);
        gbc.writeMem(0x95fb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xf0d0);
        EXPECT(gbc.pc(), 0x95fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95fb), 0xcb);
        EXPECT(gbc.readMem(0x95fc), 0x57);
        // CB 57 02EE
        gbc.setState(0xa9d0, 0x33bc, 0x61f0, 0xb1aa, 0xedf3, 0xa686, 0x1, 0x0);
        gbc.writeMem(0xa9d0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x33bc);
        EXPECT(gbc.pc(), 0xa9d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9d0), 0xcb);
        EXPECT(gbc.readMem(0xa9d1), 0x57);
        // CB 57 02EF
        gbc.setState(0x86a4, 0x922f, 0xd9f0, 0xff82, 0xde92, 0x9cd5, 0x0, 0x1);
        gbc.writeMem(0x86a4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x922f);
        EXPECT(gbc.pc(), 0x86a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86a4), 0xcb);
        EXPECT(gbc.readMem(0x86a5), 0x57);
        // CB 57 02F0
        gbc.setState(0x40ab, 0x2249, 0xaad0, 0x68d0, 0x93aa, 0x1a95, 0x1, 0x0);
        gbc.writeMem(0x40ab, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x2249);
        EXPECT(gbc.pc(), 0x40ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02F1
        gbc.setState(0xafd9, 0xb7ce, 0x7330, 0x7005, 0xc007, 0x83cd, 0x0, 0x1);
        gbc.writeMem(0xafd9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xb7ce);
        EXPECT(gbc.pc(), 0xafdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafd9), 0xcb);
        EXPECT(gbc.readMem(0xafda), 0x57);
        // CB 57 02F2
        gbc.setState(0xb408, 0xf7e8, 0x5860, 0x2f83, 0xc260, 0x40ec, 0x1, 0x0);
        gbc.writeMem(0xb408, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xf7e8);
        EXPECT(gbc.pc(), 0xb40a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb408), 0xcb);
        EXPECT(gbc.readMem(0xb409), 0x57);
        // CB 57 02F3
        gbc.setState(0xda7c, 0xcd6e, 0xd210, 0x8f04, 0xac1f, 0xe57, 0x0, 0x1);
        gbc.writeMem(0xda7c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xcd6e);
        EXPECT(gbc.pc(), 0xda7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda7c), 0xcb);
        EXPECT(gbc.readMem(0xda7d), 0x57);
        // CB 57 02F4
        gbc.setState(0x1a32, 0xab50, 0x3c50, 0x34ea, 0x4066, 0xb413, 0x1, 0x1);
        gbc.writeMem(0x1a32, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xab50);
        EXPECT(gbc.pc(), 0x1a34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02F5
        gbc.setState(0x2020, 0x7aa1, 0xb580, 0x8382, 0xd67a, 0x5184, 0x1, 0x0);
        gbc.writeMem(0x2020, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x7aa1);
        EXPECT(gbc.pc(), 0x2022);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02F6
        gbc.setState(0xd0c9, 0x4ee3, 0x7910, 0x733d, 0x159f, 0xf730, 0x0, 0x1);
        gbc.writeMem(0xd0c9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x4ee3);
        EXPECT(gbc.pc(), 0xd0cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0c9), 0xcb);
        EXPECT(gbc.readMem(0xd0ca), 0x57);
        // CB 57 02F7
        gbc.setState(0xc2eb, 0x6e4d, 0x62b0, 0x11be, 0x9d8d, 0x7435, 0x0, 0x0);
        gbc.writeMem(0xc2eb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x6e4d);
        EXPECT(gbc.pc(), 0xc2ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2eb), 0xcb);
        EXPECT(gbc.readMem(0xc2ec), 0x57);
        // CB 57 02F8
        gbc.setState(0xa574, 0x153, 0xccc0, 0xd658, 0xe871, 0xc3ef, 0x1, 0x1);
        gbc.writeMem(0xa574, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x153);
        EXPECT(gbc.pc(), 0xa576);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa574), 0xcb);
        EXPECT(gbc.readMem(0xa575), 0x57);
        // CB 57 02F9
        gbc.setState(0x5f6a, 0xd44e, 0x6580, 0xea97, 0xeba, 0xd866, 0x1, 0x1);
        gbc.writeMem(0x5f6a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xd44e);
        EXPECT(gbc.pc(), 0x5f6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02FA
        gbc.setState(0x4bec, 0xa88, 0x21b0, 0x991f, 0x2f05, 0xa90d, 0x1, 0x1);
        gbc.writeMem(0x4bec, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xa88);
        EXPECT(gbc.pc(), 0x4bee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 02FB
        gbc.setState(0x9a4, 0x522c, 0x7fc0, 0x3128, 0x8227, 0xcc89, 0x0, 0x0);
        gbc.writeMem(0x9a4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x522c);
        EXPECT(gbc.pc(), 0x9a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02FC
        gbc.setState(0x1f31, 0x3e2, 0x6ea0, 0xbbb5, 0xd132, 0xa479, 0x0, 0x0);
        gbc.writeMem(0x1f31, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x3e2);
        EXPECT(gbc.pc(), 0x1f33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 02FD
        gbc.setState(0xe9be, 0x8010, 0xa5e0, 0xe1fb, 0xee1d, 0xf34c, 0x0, 0x0);
        gbc.writeMem(0xe9be, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x8010);
        EXPECT(gbc.pc(), 0xe9c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9be), 0xcb);
        EXPECT(gbc.readMem(0xe9bf), 0x57);
        // CB 57 02FE
        gbc.setState(0x9f08, 0x6056, 0xd400, 0xea18, 0xda6e, 0x263e, 0x1, 0x1);
        gbc.writeMem(0x9f08, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x6056);
        EXPECT(gbc.pc(), 0x9f0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f08), 0xcb);
        EXPECT(gbc.readMem(0x9f09), 0x57);
        // CB 57 02FF
        gbc.setState(0x3845, 0x151c, 0xa170, 0x99d5, 0x66c3, 0x80eb, 0x1, 0x0);
        gbc.writeMem(0x3845, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x151c);
        EXPECT(gbc.pc(), 0x3847);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0300
        gbc.setState(0x54a8, 0xa460, 0xa5b0, 0xec84, 0x8fe5, 0x4112, 0x1, 0x1);
        gbc.writeMem(0x54a8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xa460);
        EXPECT(gbc.pc(), 0x54aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0301
        gbc.setState(0xc062, 0xbb74, 0xf810, 0xfb08, 0x9154, 0xc640, 0x1, 0x1);
        gbc.writeMem(0xc062, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xbb74);
        EXPECT(gbc.pc(), 0xc064);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc062), 0xcb);
        EXPECT(gbc.readMem(0xc063), 0x57);
        // CB 57 0303
        gbc.setState(0xc62d, 0xa05, 0x8ac0, 0x4964, 0x3288, 0x837e, 0x1, 0x1);
        gbc.writeMem(0xc62d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xa05);
        EXPECT(gbc.pc(), 0xc62f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc62d), 0xcb);
        EXPECT(gbc.readMem(0xc62e), 0x57);
        // CB 57 0304
        gbc.setState(0x338d, 0xf0f9, 0x9860, 0x94b1, 0x2dbb, 0xc156, 0x1, 0x0);
        gbc.writeMem(0x338d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xf0f9);
        EXPECT(gbc.pc(), 0x338f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0305
        gbc.setState(0xd520, 0x7c33, 0x6d60, 0x67ea, 0x2524, 0x8562, 0x1, 0x1);
        gbc.writeMem(0xd520, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x7c33);
        EXPECT(gbc.pc(), 0xd522);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd520), 0xcb);
        EXPECT(gbc.readMem(0xd521), 0x57);
        // CB 57 0307
        gbc.setState(0x308, 0x719e, 0xc4a0, 0x7d63, 0x3015, 0xa3d8, 0x0, 0x1);
        gbc.writeMem(0x308, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x719e);
        EXPECT(gbc.pc(), 0x30a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0308
        gbc.setState(0xc893, 0x8b3d, 0x7a90, 0xe243, 0xe7c9, 0x348f, 0x0, 0x0);
        gbc.writeMem(0xc893, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x8b3d);
        EXPECT(gbc.pc(), 0xc895);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc893), 0xcb);
        EXPECT(gbc.readMem(0xc894), 0x57);
        // CB 57 0309
        gbc.setState(0xebee, 0x47ac, 0xa030, 0xd72b, 0x82ba, 0x48e2, 0x0, 0x0);
        gbc.writeMem(0xebee, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x47ac);
        EXPECT(gbc.pc(), 0xebf0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebee), 0xcb);
        EXPECT(gbc.readMem(0xebef), 0x57);
        // CB 57 030A
        gbc.setState(0x72fe, 0x9599, 0x37a0, 0x5efd, 0xb343, 0x963f, 0x1, 0x0);
        gbc.writeMem(0x72fe, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x9599);
        EXPECT(gbc.pc(), 0x7300);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 030B
        gbc.setState(0x43cf, 0x43a3, 0x3170, 0x2371, 0x5560, 0x65aa, 0x1, 0x0);
        gbc.writeMem(0x43cf, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x43a3);
        EXPECT(gbc.pc(), 0x43d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 030D
        gbc.setState(0xc317, 0x52ee, 0x2040, 0xcc12, 0xd33f, 0x1f46, 0x1, 0x0);
        gbc.writeMem(0xc317, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x52ee);
        EXPECT(gbc.pc(), 0xc319);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc317), 0xcb);
        EXPECT(gbc.readMem(0xc318), 0x57);
        // CB 57 030E
        gbc.setState(0xbfbe, 0xf1a0, 0x3d50, 0x4fad, 0x48e8, 0xf8da, 0x1, 0x0);
        gbc.writeMem(0xbfbe, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xf1a0);
        EXPECT(gbc.pc(), 0xbfc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfbe), 0xcb);
        EXPECT(gbc.readMem(0xbfbf), 0x57);
        // CB 57 030F
        gbc.setState(0x37ca, 0x182b, 0x23c0, 0xd394, 0x3003, 0x73a4, 0x0, 0x0);
        gbc.writeMem(0x37ca, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x182b);
        EXPECT(gbc.pc(), 0x37cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0310
        gbc.setState(0x1c02, 0x1853, 0x9340, 0x2f17, 0x74c3, 0xc9f, 0x0, 0x0);
        gbc.writeMem(0x1c02, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x1853);
        EXPECT(gbc.pc(), 0x1c04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0311
        gbc.setState(0xc11b, 0x7517, 0xaa80, 0x5536, 0x5e9d, 0xbdff, 0x1, 0x0);
        gbc.writeMem(0xc11b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x7517);
        EXPECT(gbc.pc(), 0xc11d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc11b), 0xcb);
        EXPECT(gbc.readMem(0xc11c), 0x57);
        // CB 57 0312
        gbc.setState(0x4181, 0xe33c, 0x7310, 0xd2, 0x9823, 0xf6ac, 0x1, 0x0);
        gbc.writeMem(0x4181, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xe33c);
        EXPECT(gbc.pc(), 0x4183);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0313
        gbc.setState(0x5795, 0x978c, 0x69d0, 0x5deb, 0x5781, 0xc4ba, 0x0, 0x0);
        gbc.writeMem(0x5795, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x978c);
        EXPECT(gbc.pc(), 0x5797);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0314
        gbc.setState(0x14c9, 0x9565, 0x18f0, 0x2f77, 0x3075, 0x6c88, 0x0, 0x1);
        gbc.writeMem(0x14c9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x9565);
        EXPECT(gbc.pc(), 0x14cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0315
        gbc.setState(0x425a, 0x563e, 0xd330, 0x25d2, 0xa24e, 0xccf3, 0x1, 0x1);
        gbc.writeMem(0x425a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x563e);
        EXPECT(gbc.pc(), 0x425c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0316
        gbc.setState(0xe8c6, 0x4d6a, 0x7520, 0xcf3e, 0x6d24, 0x560d, 0x1, 0x1);
        gbc.writeMem(0xe8c6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x4d6a);
        EXPECT(gbc.pc(), 0xe8c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8c6), 0xcb);
        EXPECT(gbc.readMem(0xe8c7), 0x57);
        // CB 57 0317
        gbc.setState(0x6c65, 0x684c, 0x3eb0, 0xb449, 0x5d31, 0xcdf4, 0x1, 0x0);
        gbc.writeMem(0x6c65, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x684c);
        EXPECT(gbc.pc(), 0x6c67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0318
        gbc.setState(0xea18, 0x5e9c, 0x1020, 0xcd3a, 0xf228, 0x5cf9, 0x1, 0x0);
        gbc.writeMem(0xea18, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x5e9c);
        EXPECT(gbc.pc(), 0xea1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea18), 0xcb);
        EXPECT(gbc.readMem(0xea19), 0x57);
        // CB 57 0319
        gbc.setState(0xa4a2, 0xa2a2, 0xb50, 0xcec5, 0x1384, 0xbd70, 0x1, 0x1);
        gbc.writeMem(0xa4a2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xa2a2);
        EXPECT(gbc.pc(), 0xa4a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4a2), 0xcb);
        EXPECT(gbc.readMem(0xa4a3), 0x57);
        // CB 57 031A
        gbc.setState(0x9544, 0x561b, 0x85a0, 0x6393, 0xefba, 0x9244, 0x1, 0x0);
        gbc.writeMem(0x9544, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x561b);
        EXPECT(gbc.pc(), 0x9546);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9544), 0xcb);
        EXPECT(gbc.readMem(0x9545), 0x57);
        // CB 57 031B
        gbc.setState(0x5e6b, 0x49d, 0x7d70, 0x9ee4, 0x9299, 0x9473, 0x1, 0x1);
        gbc.writeMem(0x5e6b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x49d);
        EXPECT(gbc.pc(), 0x5e6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 031C
        gbc.setState(0x7501, 0x308d, 0x3950, 0x61b4, 0xe323, 0x511b, 0x1, 0x1);
        gbc.writeMem(0x7501, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x308d);
        EXPECT(gbc.pc(), 0x7503);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 031D
        gbc.setState(0x78fb, 0xfc07, 0x890, 0x824c, 0x3a04, 0xb218, 0x1, 0x0);
        gbc.writeMem(0x78fb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xfc07);
        EXPECT(gbc.pc(), 0x78fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 031E
        gbc.setState(0x2eb9, 0x911e, 0xd050, 0x312c, 0x1694, 0x4f18, 0x1, 0x0);
        gbc.writeMem(0x2eb9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x911e);
        EXPECT(gbc.pc(), 0x2ebb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 031F
        gbc.setState(0x9fa9, 0x1ce, 0xf800, 0x8cdf, 0xa884, 0xd5c7, 0x0, 0x1);
        gbc.writeMem(0x9fa9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x1ce);
        EXPECT(gbc.pc(), 0x9fab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fa9), 0xcb);
        EXPECT(gbc.readMem(0x9faa), 0x57);
        // CB 57 0320
        gbc.setState(0x2c7c, 0x26ef, 0x2f30, 0x29a0, 0xaff4, 0x1efb, 0x1, 0x1);
        gbc.writeMem(0x2c7c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x26ef);
        EXPECT(gbc.pc(), 0x2c7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0322
        gbc.setState(0xcbc1, 0x8fb0, 0x8ea0, 0x9ae3, 0x487d, 0x6a16, 0x0, 0x0);
        gbc.writeMem(0xcbc1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x8fb0);
        EXPECT(gbc.pc(), 0xcbc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbc1), 0xcb);
        EXPECT(gbc.readMem(0xcbc2), 0x57);
        // CB 57 0323
        gbc.setState(0x55bd, 0xb8e7, 0xc6b0, 0x8144, 0xb097, 0x883f, 0x1, 0x1);
        gbc.writeMem(0x55bd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xb8e7);
        EXPECT(gbc.pc(), 0x55bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0325
        gbc.setState(0xa0de, 0x566e, 0x73c0, 0xafe1, 0x37f8, 0x8d28, 0x1, 0x1);
        gbc.writeMem(0xa0de, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x566e);
        EXPECT(gbc.pc(), 0xa0e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0de), 0xcb);
        EXPECT(gbc.readMem(0xa0df), 0x57);
        // CB 57 0326
        gbc.setState(0x3b0b, 0xe90a, 0xbde0, 0x9312, 0x6298, 0xf3f4, 0x0, 0x1);
        gbc.writeMem(0x3b0b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xe90a);
        EXPECT(gbc.pc(), 0x3b0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0327
        gbc.setState(0xe89e, 0x45a4, 0x59d0, 0x8db3, 0x84a9, 0x1468, 0x0, 0x1);
        gbc.writeMem(0xe89e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x45a4);
        EXPECT(gbc.pc(), 0xe8a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe89e), 0xcb);
        EXPECT(gbc.readMem(0xe89f), 0x57);
        // CB 57 0328
        gbc.setState(0xb839, 0xfe5d, 0xa760, 0xae0f, 0xf4fa, 0x56f0, 0x1, 0x0);
        gbc.writeMem(0xb839, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xfe5d);
        EXPECT(gbc.pc(), 0xb83b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb839), 0xcb);
        EXPECT(gbc.readMem(0xb83a), 0x57);
        // CB 57 0329
        gbc.setState(0x7419, 0x9f0, 0x2f00, 0x1047, 0xfbb0, 0x31eb, 0x1, 0x0);
        gbc.writeMem(0x7419, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x9f0);
        EXPECT(gbc.pc(), 0x741b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 032A
        gbc.setState(0x8ab1, 0x946a, 0x53b0, 0x3b7e, 0x5af7, 0x9d46, 0x0, 0x1);
        gbc.writeMem(0x8ab1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x946a);
        EXPECT(gbc.pc(), 0x8ab3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ab1), 0xcb);
        EXPECT(gbc.readMem(0x8ab2), 0x57);
        // CB 57 032B
        gbc.setState(0xd4f9, 0x96d8, 0x3f0, 0x4d58, 0x94c0, 0xa120, 0x1, 0x0);
        gbc.writeMem(0xd4f9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x96d8);
        EXPECT(gbc.pc(), 0xd4fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4f9), 0xcb);
        EXPECT(gbc.readMem(0xd4fa), 0x57);
        // CB 57 032C
        gbc.setState(0x34d4, 0x3879, 0x6a80, 0x9c5b, 0x8850, 0xa60c, 0x0, 0x0);
        gbc.writeMem(0x34d4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x3879);
        EXPECT(gbc.pc(), 0x34d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 032D
        gbc.setState(0xdace, 0x3a1a, 0xe380, 0x1a32, 0x69bc, 0x5872, 0x0, 0x0);
        gbc.writeMem(0xdace, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x3a1a);
        EXPECT(gbc.pc(), 0xdad0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdace), 0xcb);
        EXPECT(gbc.readMem(0xdacf), 0x57);
        // CB 57 032E
        gbc.setState(0x5d62, 0x12aa, 0x9580, 0x46b8, 0xd8cf, 0x9ef4, 0x0, 0x1);
        gbc.writeMem(0x5d62, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x12aa);
        EXPECT(gbc.pc(), 0x5d64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 032F
        gbc.setState(0x3e69, 0xf5e6, 0xf0e0, 0xede6, 0x6d18, 0x8e90, 0x0, 0x0);
        gbc.writeMem(0x3e69, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xf5e6);
        EXPECT(gbc.pc(), 0x3e6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0331
        gbc.setState(0x865b, 0x1945, 0xd150, 0x6d03, 0x3ddc, 0x5f15, 0x1, 0x1);
        gbc.writeMem(0x865b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x1945);
        EXPECT(gbc.pc(), 0x865d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x865b), 0xcb);
        EXPECT(gbc.readMem(0x865c), 0x57);
        // CB 57 0332
        gbc.setState(0xd391, 0xab9a, 0x3310, 0x3b3b, 0xb979, 0x1a49, 0x1, 0x0);
        gbc.writeMem(0xd391, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xab9a);
        EXPECT(gbc.pc(), 0xd393);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd391), 0xcb);
        EXPECT(gbc.readMem(0xd392), 0x57);
        // CB 57 0333
        gbc.setState(0x50d7, 0xdcdb, 0xc0f0, 0x441a, 0x88fb, 0x6984, 0x0, 0x0);
        gbc.writeMem(0x50d7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xdcdb);
        EXPECT(gbc.pc(), 0x50d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0335
        gbc.setState(0x6388, 0xe942, 0xd00, 0x25e2, 0xf5b5, 0x66e9, 0x0, 0x1);
        gbc.writeMem(0x6388, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xe942);
        EXPECT(gbc.pc(), 0x638a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0336
        gbc.setState(0x60ce, 0xcbb6, 0x4300, 0xda64, 0xfc09, 0x5d9f, 0x1, 0x1);
        gbc.writeMem(0x60ce, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xcbb6);
        EXPECT(gbc.pc(), 0x60d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0337
        gbc.setState(0xdbf2, 0x207, 0xa9f0, 0x54c4, 0x1ac, 0x76e8, 0x1, 0x0);
        gbc.writeMem(0xdbf2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x207);
        EXPECT(gbc.pc(), 0xdbf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbf2), 0xcb);
        EXPECT(gbc.readMem(0xdbf3), 0x57);
        // CB 57 0338
        gbc.setState(0x9a1c, 0x3969, 0x6da0, 0x18c8, 0xbb82, 0xdae4, 0x1, 0x0);
        gbc.writeMem(0x9a1c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x3969);
        EXPECT(gbc.pc(), 0x9a1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a1c), 0xcb);
        EXPECT(gbc.readMem(0x9a1d), 0x57);
        // CB 57 0339
        gbc.setState(0xae33, 0x1174, 0xe100, 0x520f, 0x2424, 0x29b7, 0x1, 0x1);
        gbc.writeMem(0xae33, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x1174);
        EXPECT(gbc.pc(), 0xae35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae33), 0xcb);
        EXPECT(gbc.readMem(0xae34), 0x57);
        // CB 57 033A
        gbc.setState(0xb2d9, 0x927, 0x3190, 0x52ff, 0xac1c, 0x4195, 0x0, 0x0);
        gbc.writeMem(0xb2d9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x927);
        EXPECT(gbc.pc(), 0xb2db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2d9), 0xcb);
        EXPECT(gbc.readMem(0xb2da), 0x57);
        // CB 57 033B
        gbc.setState(0x25ca, 0x651c, 0xea60, 0x9d9b, 0xb29d, 0x8a68, 0x0, 0x1);
        gbc.writeMem(0x25ca, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x651c);
        EXPECT(gbc.pc(), 0x25cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 033C
        gbc.setState(0x38a4, 0x47d9, 0x5870, 0x35a7, 0x773c, 0xc63c, 0x1, 0x1);
        gbc.writeMem(0x38a4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x47d9);
        EXPECT(gbc.pc(), 0x38a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 033D
        gbc.setState(0x2f9a, 0x3a8c, 0xa120, 0x41a6, 0xc25e, 0xf107, 0x1, 0x1);
        gbc.writeMem(0x2f9a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x3a8c);
        EXPECT(gbc.pc(), 0x2f9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 033F
        gbc.setState(0x2c47, 0xd136, 0xbb00, 0x3ba3, 0x3e9a, 0xddd4, 0x1, 0x0);
        gbc.writeMem(0x2c47, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xd136);
        EXPECT(gbc.pc(), 0x2c49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0340
        gbc.setState(0x51b0, 0xb354, 0xacb0, 0xc3f1, 0xc69e, 0xbe1c, 0x0, 0x1);
        gbc.writeMem(0x51b0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xb354);
        EXPECT(gbc.pc(), 0x51b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0341
        gbc.setState(0xca4c, 0xb8de, 0x4130, 0xc62a, 0xed20, 0x493e, 0x0, 0x1);
        gbc.writeMem(0xca4c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xb8de);
        EXPECT(gbc.pc(), 0xca4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca4c), 0xcb);
        EXPECT(gbc.readMem(0xca4d), 0x57);
        // CB 57 0342
        gbc.setState(0xd01, 0x69e3, 0x7f20, 0xaad, 0xc53, 0xf745, 0x1, 0x0);
        gbc.writeMem(0xd01, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x69e3);
        EXPECT(gbc.pc(), 0xd03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0343
        gbc.setState(0x4b1e, 0x1999, 0x4c0, 0xbede, 0xa526, 0xf743, 0x1, 0x0);
        gbc.writeMem(0x4b1e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x1999);
        EXPECT(gbc.pc(), 0x4b20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0344
        gbc.setState(0x6439, 0xfe33, 0xa2a0, 0x91cd, 0x3814, 0xfcec, 0x0, 0x0);
        gbc.writeMem(0x6439, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xfe33);
        EXPECT(gbc.pc(), 0x643b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0345
        gbc.setState(0xcb56, 0xae12, 0xfd60, 0xf7cc, 0x9f4d, 0xf6af, 0x0, 0x0);
        gbc.writeMem(0xcb56, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xae12);
        EXPECT(gbc.pc(), 0xcb58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb56), 0xcb);
        EXPECT(gbc.readMem(0xcb57), 0x57);
        // CB 57 0346
        gbc.setState(0xa68e, 0x4f9a, 0x40c0, 0xbe74, 0x3905, 0xe590, 0x1, 0x0);
        gbc.writeMem(0xa68e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x4f9a);
        EXPECT(gbc.pc(), 0xa690);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa68e), 0xcb);
        EXPECT(gbc.readMem(0xa68f), 0x57);
        // CB 57 0347
        gbc.setState(0x813c, 0x4571, 0x7ef0, 0xd0ed, 0x34dc, 0xa13d, 0x1, 0x1);
        gbc.writeMem(0x813c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x4571);
        EXPECT(gbc.pc(), 0x813e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x813c), 0xcb);
        EXPECT(gbc.readMem(0x813d), 0x57);
        // CB 57 0348
        gbc.setState(0x7acd, 0x9f4e, 0x1a80, 0x24fd, 0xa958, 0x2da0, 0x0, 0x0);
        gbc.writeMem(0x7acd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x9f4e);
        EXPECT(gbc.pc(), 0x7acf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0349
        gbc.setState(0xe078, 0x60aa, 0xc5a0, 0x7663, 0x2e8d, 0x799f, 0x1, 0x1);
        gbc.writeMem(0xe078, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x60aa);
        EXPECT(gbc.pc(), 0xe07a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe078), 0xcb);
        EXPECT(gbc.readMem(0xe079), 0x57);
        // CB 57 034A
        gbc.setState(0x3f4, 0xd55f, 0x4710, 0x3361, 0x6f05, 0x43bf, 0x0, 0x1);
        gbc.writeMem(0x3f4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xd55f);
        EXPECT(gbc.pc(), 0x3f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 034C
        gbc.setState(0x38f8, 0x946a, 0x15d0, 0x8e54, 0xe9c7, 0xea93, 0x0, 0x0);
        gbc.writeMem(0x38f8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x946a);
        EXPECT(gbc.pc(), 0x38fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 034D
        gbc.setState(0xf92, 0xdf19, 0x5600, 0x241b, 0x3f8b, 0x5b5d, 0x0, 0x0);
        gbc.writeMem(0xf92, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xdf19);
        EXPECT(gbc.pc(), 0xf94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 034E
        gbc.setState(0x7d0f, 0xc37, 0x67a0, 0xeefe, 0xca05, 0xdb26, 0x1, 0x0);
        gbc.writeMem(0x7d0f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xc37);
        EXPECT(gbc.pc(), 0x7d11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 034F
        gbc.setState(0xe2e7, 0x9c54, 0x4ec0, 0x1e38, 0xfd36, 0x263d, 0x0, 0x0);
        gbc.writeMem(0xe2e7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x9c54);
        EXPECT(gbc.pc(), 0xe2e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2e7), 0xcb);
        EXPECT(gbc.readMem(0xe2e8), 0x57);
        // CB 57 0351
        gbc.setState(0xbf72, 0xade4, 0xf600, 0x7aa7, 0x55ed, 0x148f, 0x1, 0x0);
        gbc.writeMem(0xbf72, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xade4);
        EXPECT(gbc.pc(), 0xbf74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf72), 0xcb);
        EXPECT(gbc.readMem(0xbf73), 0x57);
        // CB 57 0352
        gbc.setState(0x6070, 0x76c0, 0x1840, 0xdf63, 0xf307, 0xcfab, 0x0, 0x1);
        gbc.writeMem(0x6070, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x76c0);
        EXPECT(gbc.pc(), 0x6072);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0353
        gbc.setState(0xd960, 0xa8b7, 0x4af0, 0xdb88, 0x4de3, 0xc137, 0x0, 0x0);
        gbc.writeMem(0xd960, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xa8b7);
        EXPECT(gbc.pc(), 0xd962);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd960), 0xcb);
        EXPECT(gbc.readMem(0xd961), 0x57);
        // CB 57 0354
        gbc.setState(0xaaf9, 0xfea, 0x46e0, 0xd1cd, 0x9310, 0xa665, 0x1, 0x0);
        gbc.writeMem(0xaaf9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xfea);
        EXPECT(gbc.pc(), 0xaafb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaf9), 0xcb);
        EXPECT(gbc.readMem(0xaafa), 0x57);
        // CB 57 0356
        gbc.setState(0x64f0, 0xac13, 0xa8c0, 0x46c6, 0xf85, 0x7656, 0x0, 0x1);
        gbc.writeMem(0x64f0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xac13);
        EXPECT(gbc.pc(), 0x64f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0357
        gbc.setState(0x9ff5, 0xf12c, 0xd320, 0x2429, 0xb15a, 0x71aa, 0x0, 0x1);
        gbc.writeMem(0x9ff5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xf12c);
        EXPECT(gbc.pc(), 0x9ff7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ff5), 0xcb);
        EXPECT(gbc.readMem(0x9ff6), 0x57);
        // CB 57 0358
        gbc.setState(0xdc3f, 0xaa69, 0xea50, 0x82cb, 0x1592, 0x708d, 0x0, 0x1);
        gbc.writeMem(0xdc3f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xaa69);
        EXPECT(gbc.pc(), 0xdc41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc3f), 0xcb);
        EXPECT(gbc.readMem(0xdc40), 0x57);
        // CB 57 0359
        gbc.setState(0xcdbb, 0x63d8, 0x6470, 0x2a3d, 0x2203, 0x1cd7, 0x0, 0x1);
        gbc.writeMem(0xcdbb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x63d8);
        EXPECT(gbc.pc(), 0xcdbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdbb), 0xcb);
        EXPECT(gbc.readMem(0xcdbc), 0x57);
        // CB 57 035A
        gbc.setState(0x3ae3, 0xc5dc, 0x7370, 0x7608, 0x7954, 0x3a50, 0x1, 0x1);
        gbc.writeMem(0x3ae3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xc5dc);
        EXPECT(gbc.pc(), 0x3ae5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 035B
        gbc.setState(0x2f76, 0xdbe2, 0xdd50, 0xa136, 0xb1e5, 0xd34d, 0x0, 0x0);
        gbc.writeMem(0x2f76, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xdbe2);
        EXPECT(gbc.pc(), 0x2f78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 035C
        gbc.setState(0x66c3, 0xfd8f, 0x44c0, 0xdac9, 0xe4de, 0xbacd, 0x0, 0x1);
        gbc.writeMem(0x66c3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xfd8f);
        EXPECT(gbc.pc(), 0x66c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 035D
        gbc.setState(0x910d, 0xc6f, 0x3a0, 0x6dcd, 0xb502, 0x4f23, 0x0, 0x1);
        gbc.writeMem(0x910d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xc6f);
        EXPECT(gbc.pc(), 0x910f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x910d), 0xcb);
        EXPECT(gbc.readMem(0x910e), 0x57);
        // CB 57 035E
        gbc.setState(0x3a06, 0x46de, 0xc90, 0xc32d, 0x815e, 0x1468, 0x1, 0x1);
        gbc.writeMem(0x3a06, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x46de);
        EXPECT(gbc.pc(), 0x3a08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 035F
        gbc.setState(0xb2d0, 0x155b, 0xfb90, 0xb95f, 0xf45a, 0x2106, 0x1, 0x1);
        gbc.writeMem(0xb2d0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x155b);
        EXPECT(gbc.pc(), 0xb2d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2d0), 0xcb);
        EXPECT(gbc.readMem(0xb2d1), 0x57);
        // CB 57 0360
        gbc.setState(0x69c5, 0xc20d, 0xab20, 0x74b, 0x7010, 0xf1a, 0x0, 0x0);
        gbc.writeMem(0x69c5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xc20d);
        EXPECT(gbc.pc(), 0x69c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0361
        gbc.setState(0x63d7, 0x73c, 0xe90, 0x54a0, 0xa54c, 0x1e42, 0x1, 0x1);
        gbc.writeMem(0x63d7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x73c);
        EXPECT(gbc.pc(), 0x63d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0362
        gbc.setState(0x2047, 0x66c1, 0x80d0, 0x1ae9, 0x9567, 0xd8b1, 0x1, 0x1);
        gbc.writeMem(0x2047, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x66c1);
        EXPECT(gbc.pc(), 0x2049);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0363
        gbc.setState(0x4d6d, 0x73d, 0xe340, 0x2979, 0xa142, 0x560, 0x1, 0x0);
        gbc.writeMem(0x4d6d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x73d);
        EXPECT(gbc.pc(), 0x4d6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0364
        gbc.setState(0x14d9, 0x7a96, 0x8990, 0xd570, 0x7277, 0x9611, 0x0, 0x1);
        gbc.writeMem(0x14d9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x7a96);
        EXPECT(gbc.pc(), 0x14db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0365
        gbc.setState(0x1bf3, 0xa4d9, 0xb9d0, 0x7c63, 0xf291, 0xa192, 0x0, 0x1);
        gbc.writeMem(0x1bf3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xa4d9);
        EXPECT(gbc.pc(), 0x1bf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0366
        gbc.setState(0xd63a, 0x83ca, 0x7450, 0xc592, 0x984e, 0xc6d8, 0x1, 0x1);
        gbc.writeMem(0xd63a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x83ca);
        EXPECT(gbc.pc(), 0xd63c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd63a), 0xcb);
        EXPECT(gbc.readMem(0xd63b), 0x57);
        // CB 57 0367
        gbc.setState(0x8581, 0xb22f, 0xa640, 0x21b, 0x1882, 0x72b0, 0x0, 0x0);
        gbc.writeMem(0x8581, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xb22f);
        EXPECT(gbc.pc(), 0x8583);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8581), 0xcb);
        EXPECT(gbc.readMem(0x8582), 0x57);
        // CB 57 0368
        gbc.setState(0x22c1, 0x3bf0, 0x4050, 0x40ab, 0x2ffa, 0xe50c, 0x1, 0x1);
        gbc.writeMem(0x22c1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x3bf0);
        EXPECT(gbc.pc(), 0x22c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0369
        gbc.setState(0x91d, 0x1c50, 0xb160, 0xf1fe, 0x27f0, 0xb3ba, 0x0, 0x1);
        gbc.writeMem(0x91d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x1c50);
        EXPECT(gbc.pc(), 0x91f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 036A
        gbc.setState(0xed5b, 0xf8e1, 0xaae0, 0x3ffa, 0x441, 0x15bc, 0x1, 0x0);
        gbc.writeMem(0xed5b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xf8e1);
        EXPECT(gbc.pc(), 0xed5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed5b), 0xcb);
        EXPECT(gbc.readMem(0xed5c), 0x57);
        // CB 57 036B
        gbc.setState(0x3928, 0x2034, 0x7400, 0x680b, 0x39d0, 0xe9e0, 0x1, 0x0);
        gbc.writeMem(0x3928, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x2034);
        EXPECT(gbc.pc(), 0x392a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 036C
        gbc.setState(0x6f0f, 0x9cf6, 0x5240, 0x21c3, 0x2f86, 0x608f, 0x0, 0x1);
        gbc.writeMem(0x6f0f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x9cf6);
        EXPECT(gbc.pc(), 0x6f11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 036D
        gbc.setState(0x3985, 0x6e04, 0xf970, 0xc2e9, 0xdca5, 0x379a, 0x0, 0x1);
        gbc.writeMem(0x3985, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x6e04);
        EXPECT(gbc.pc(), 0x3987);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 036E
        gbc.setState(0xe9b0, 0x1fe4, 0xf1f0, 0x4a7e, 0x348e, 0x9fc, 0x1, 0x0);
        gbc.writeMem(0xe9b0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x1fe4);
        EXPECT(gbc.pc(), 0xe9b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9b0), 0xcb);
        EXPECT(gbc.readMem(0xe9b1), 0x57);
        // CB 57 036F
        gbc.setState(0x26ab, 0x8769, 0xd780, 0x836d, 0xb938, 0xd302, 0x0, 0x0);
        gbc.writeMem(0x26ab, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x8769);
        EXPECT(gbc.pc(), 0x26ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0370
        gbc.setState(0x3dd5, 0xe7b1, 0xc6e0, 0xb045, 0x3e9, 0xa0fe, 0x1, 0x0);
        gbc.writeMem(0x3dd5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe7b1);
        EXPECT(gbc.pc(), 0x3dd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0371
        gbc.setState(0x2b75, 0xa90, 0xfab0, 0xa741, 0x1029, 0xb092, 0x0, 0x0);
        gbc.writeMem(0x2b75, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xa90);
        EXPECT(gbc.pc(), 0x2b77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0372
        gbc.setState(0xc345, 0xe720, 0x6930, 0x23d6, 0xc4bd, 0x408f, 0x1, 0x0);
        gbc.writeMem(0xc345, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe720);
        EXPECT(gbc.pc(), 0xc347);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc345), 0xcb);
        EXPECT(gbc.readMem(0xc346), 0x57);
        // CB 57 0373
        gbc.setState(0x3366, 0xa23b, 0x3260, 0xf2c6, 0xc354, 0x958b, 0x1, 0x1);
        gbc.writeMem(0x3366, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xa23b);
        EXPECT(gbc.pc(), 0x3368);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0374
        gbc.setState(0x51ab, 0x3b3d, 0x1f70, 0xc7b5, 0x1a6e, 0xb5c1, 0x1, 0x1);
        gbc.writeMem(0x51ab, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x3b3d);
        EXPECT(gbc.pc(), 0x51ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0375
        gbc.setState(0xd92a, 0x39b6, 0xc620, 0x9aa7, 0x2bf2, 0x6f54, 0x1, 0x0);
        gbc.writeMem(0xd92a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x39b6);
        EXPECT(gbc.pc(), 0xd92c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd92a), 0xcb);
        EXPECT(gbc.readMem(0xd92b), 0x57);
        // CB 57 0376
        gbc.setState(0xaf44, 0x3bff, 0xedc0, 0xced4, 0x853a, 0xbb47, 0x1, 0x1);
        gbc.writeMem(0xaf44, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x3bff);
        EXPECT(gbc.pc(), 0xaf46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf44), 0xcb);
        EXPECT(gbc.readMem(0xaf45), 0x57);
        // CB 57 0377
        gbc.setState(0xb3a3, 0x39d1, 0xd80, 0x9666, 0xd577, 0xf73d, 0x1, 0x1);
        gbc.writeMem(0xb3a3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x39d1);
        EXPECT(gbc.pc(), 0xb3a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3a3), 0xcb);
        EXPECT(gbc.readMem(0xb3a4), 0x57);
        // CB 57 0378
        gbc.setState(0x6afa, 0xb0d2, 0x7cf0, 0x746, 0xb595, 0xd208, 0x0, 0x0);
        gbc.writeMem(0x6afa, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xb0d2);
        EXPECT(gbc.pc(), 0x6afc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0379
        gbc.setState(0x76ee, 0xaa64, 0x7a70, 0x8369, 0xc2f3, 0xd05c, 0x0, 0x0);
        gbc.writeMem(0x76ee, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xaa64);
        EXPECT(gbc.pc(), 0x76f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 037A
        gbc.setState(0x22fb, 0xcdd0, 0xd4b0, 0x3c5b, 0xaa5c, 0xc2b8, 0x1, 0x1);
        gbc.writeMem(0x22fb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xcdd0);
        EXPECT(gbc.pc(), 0x22fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 037B
        gbc.setState(0x936, 0xb374, 0x5510, 0xf457, 0xa19, 0x1197, 0x0, 0x0);
        gbc.writeMem(0x936, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xb374);
        EXPECT(gbc.pc(), 0x938);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 037C
        gbc.setState(0xce24, 0x5f4a, 0x7070, 0x64af, 0x8ebc, 0x1e6b, 0x1, 0x1);
        gbc.writeMem(0xce24, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x5f4a);
        EXPECT(gbc.pc(), 0xce26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce24), 0xcb);
        EXPECT(gbc.readMem(0xce25), 0x57);
        // CB 57 037D
        gbc.setState(0xc94c, 0xde91, 0xb630, 0xa404, 0x98a3, 0x7097, 0x1, 0x1);
        gbc.writeMem(0xc94c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xde91);
        EXPECT(gbc.pc(), 0xc94e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc94c), 0xcb);
        EXPECT(gbc.readMem(0xc94d), 0x57);
        // CB 57 037E
        gbc.setState(0x6d96, 0xc0d2, 0xd570, 0x45ae, 0x6e38, 0x1435, 0x1, 0x0);
        gbc.writeMem(0x6d96, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc0d2);
        EXPECT(gbc.pc(), 0x6d98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 037F
        gbc.setState(0x5e47, 0x63b4, 0xdb10, 0x8b2c, 0xedb7, 0xb2af, 0x0, 0x1);
        gbc.writeMem(0x5e47, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x63b4);
        EXPECT(gbc.pc(), 0x5e49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0380
        gbc.setState(0xb6aa, 0xdccb, 0xce00, 0x8ae, 0xae2d, 0x8ae3, 0x1, 0x0);
        gbc.writeMem(0xb6aa, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xdccb);
        EXPECT(gbc.pc(), 0xb6ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6aa), 0xcb);
        EXPECT(gbc.readMem(0xb6ab), 0x57);
        // CB 57 0381
        gbc.setState(0x6e17, 0x2772, 0x8860, 0x42a9, 0xbaa8, 0xec19, 0x1, 0x1);
        gbc.writeMem(0x6e17, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x2772);
        EXPECT(gbc.pc(), 0x6e19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0382
        gbc.setState(0xc38c, 0x2bce, 0x4c0, 0xe2f6, 0xb15d, 0x93b4, 0x0, 0x0);
        gbc.writeMem(0xc38c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x2bce);
        EXPECT(gbc.pc(), 0xc38e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc38c), 0xcb);
        EXPECT(gbc.readMem(0xc38d), 0x57);
        // CB 57 0383
        gbc.setState(0x7390, 0x42c6, 0x35d0, 0x604d, 0x98a2, 0x2f47, 0x0, 0x1);
        gbc.writeMem(0x7390, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x42c6);
        EXPECT(gbc.pc(), 0x7392);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0384
        gbc.setState(0x410d, 0x1988, 0x5d0, 0xe7c, 0x31d0, 0x19b, 0x1, 0x0);
        gbc.writeMem(0x410d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x1988);
        EXPECT(gbc.pc(), 0x410f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0385
        gbc.setState(0x7945, 0x3ffa, 0xfc20, 0x2f43, 0xd95e, 0x86ed, 0x1, 0x0);
        gbc.writeMem(0x7945, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x3ffa);
        EXPECT(gbc.pc(), 0x7947);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0386
        gbc.setState(0x6fc8, 0x32f2, 0x7e60, 0x4285, 0xd1c, 0x5528, 0x0, 0x0);
        gbc.writeMem(0x6fc8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x32f2);
        EXPECT(gbc.pc(), 0x6fca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0387
        gbc.setState(0x4764, 0x50fe, 0xa1b0, 0xe3f, 0x8ad0, 0x5e2, 0x0, 0x0);
        gbc.writeMem(0x4764, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x50fe);
        EXPECT(gbc.pc(), 0x4766);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0388
        gbc.setState(0x6fe8, 0x4bb7, 0xd830, 0xb7c5, 0x2c87, 0x16b, 0x0, 0x0);
        gbc.writeMem(0x6fe8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x4bb7);
        EXPECT(gbc.pc(), 0x6fea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0389
        gbc.setState(0x2be1, 0xf681, 0xc790, 0x134e, 0xb8f9, 0x6d1b, 0x0, 0x0);
        gbc.writeMem(0x2be1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xf681);
        EXPECT(gbc.pc(), 0x2be3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 038A
        gbc.setState(0x6f75, 0xfefb, 0x34a0, 0x7cc5, 0x1a54, 0xc62, 0x0, 0x0);
        gbc.writeMem(0x6f75, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xfefb);
        EXPECT(gbc.pc(), 0x6f77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 038B
        gbc.setState(0xd11e, 0x4632, 0x5cb0, 0xd447, 0xefd6, 0x52cd, 0x0, 0x1);
        gbc.writeMem(0xd11e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x4632);
        EXPECT(gbc.pc(), 0xd120);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd11e), 0xcb);
        EXPECT(gbc.readMem(0xd11f), 0x57);
        // CB 57 038C
        gbc.setState(0x660a, 0x42ee, 0x1420, 0x3d1f, 0x72b0, 0xa926, 0x1, 0x1);
        gbc.writeMem(0x660a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x42ee);
        EXPECT(gbc.pc(), 0x660c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 038D
        gbc.setState(0xcec4, 0x5d5e, 0xcb00, 0xd688, 0xcc5f, 0xfb78, 0x0, 0x1);
        gbc.writeMem(0xcec4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x5d5e);
        EXPECT(gbc.pc(), 0xcec6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcec4), 0xcb);
        EXPECT(gbc.readMem(0xcec5), 0x57);
        // CB 57 038E
        gbc.setState(0x16b5, 0xba7, 0x2680, 0xc44a, 0xd5ff, 0x9588, 0x1, 0x1);
        gbc.writeMem(0x16b5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xba7);
        EXPECT(gbc.pc(), 0x16b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 038F
        gbc.setState(0xb895, 0x487a, 0xb140, 0x2826, 0x41a3, 0xa0be, 0x1, 0x1);
        gbc.writeMem(0xb895, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x487a);
        EXPECT(gbc.pc(), 0xb897);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb895), 0xcb);
        EXPECT(gbc.readMem(0xb896), 0x57);
        // CB 57 0390
        gbc.setState(0x182b, 0x869c, 0xc040, 0x6776, 0xad86, 0xc47e, 0x1, 0x1);
        gbc.writeMem(0x182b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x869c);
        EXPECT(gbc.pc(), 0x182d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0391
        gbc.setState(0x9e7c, 0x9fa6, 0x3f90, 0x4051, 0xc239, 0x6866, 0x0, 0x1);
        gbc.writeMem(0x9e7c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x9fa6);
        EXPECT(gbc.pc(), 0x9e7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e7c), 0xcb);
        EXPECT(gbc.readMem(0x9e7d), 0x57);
        // CB 57 0392
        gbc.setState(0x576c, 0x1f86, 0x8710, 0x7ac2, 0x31e6, 0x9b86, 0x0, 0x1);
        gbc.writeMem(0x576c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x1f86);
        EXPECT(gbc.pc(), 0x576e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 0393
        gbc.setState(0x4057, 0xc2ac, 0xf860, 0x573a, 0xdeda, 0x454d, 0x0, 0x0);
        gbc.writeMem(0x4057, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xc2ac);
        EXPECT(gbc.pc(), 0x4059);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0394
        gbc.setState(0x886f, 0x72b7, 0xb480, 0x6507, 0xd0e1, 0x8b9a, 0x1, 0x1);
        gbc.writeMem(0x886f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x72b7);
        EXPECT(gbc.pc(), 0x8871);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x886f), 0xcb);
        EXPECT(gbc.readMem(0x8870), 0x57);
        // CB 57 0395
        gbc.setState(0xcdf4, 0x473e, 0x8ef0, 0xe042, 0x5c6f, 0x31e8, 0x0, 0x0);
        gbc.writeMem(0xcdf4, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x473e);
        EXPECT(gbc.pc(), 0xcdf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdf4), 0xcb);
        EXPECT(gbc.readMem(0xcdf5), 0x57);
        // CB 57 0396
        gbc.setState(0x4968, 0xbb4, 0xd160, 0x6739, 0x1a26, 0x68f2, 0x1, 0x0);
        gbc.writeMem(0x4968, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xbb4);
        EXPECT(gbc.pc(), 0x496a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 0397
        gbc.setState(0x8aba, 0x4b8d, 0x5400, 0x9cdc, 0xbddf, 0x1d57, 0x0, 0x0);
        gbc.writeMem(0x8aba, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x4b8d);
        EXPECT(gbc.pc(), 0x8abc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8aba), 0xcb);
        EXPECT(gbc.readMem(0x8abb), 0x57);
        // CB 57 0398
        gbc.setState(0xc2a2, 0xc2f3, 0xc210, 0x57f8, 0xbc9c, 0xa4b1, 0x0, 0x1);
        gbc.writeMem(0xc2a2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xc2f3);
        EXPECT(gbc.pc(), 0xc2a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2a2), 0xcb);
        EXPECT(gbc.readMem(0xc2a3), 0x57);
        // CB 57 0399
        gbc.setState(0xb49, 0xafcb, 0x99d0, 0xeccd, 0xf936, 0xe901, 0x1, 0x1);
        gbc.writeMem(0xb49, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xafcb);
        EXPECT(gbc.pc(), 0xb4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 039A
        gbc.setState(0x7fed, 0x20be, 0xd760, 0xc116, 0x658e, 0x7aed, 0x0, 0x1);
        gbc.writeMem(0x7fed, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x20be);
        EXPECT(gbc.pc(), 0x7fef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 039B
        gbc.setState(0xd77, 0xbca6, 0xd300, 0xc40a, 0xe2ab, 0xc49c, 0x0, 0x0);
        gbc.writeMem(0xd77, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xbca6);
        EXPECT(gbc.pc(), 0xd79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 039C
        gbc.setState(0xb31e, 0x7b8e, 0x5510, 0x332c, 0x655a, 0x6e2e, 0x0, 0x0);
        gbc.writeMem(0xb31e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x7b8e);
        EXPECT(gbc.pc(), 0xb320);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb31e), 0xcb);
        EXPECT(gbc.readMem(0xb31f), 0x57);
        // CB 57 039D
        gbc.setState(0x4a89, 0xf9f3, 0xcc0, 0x47b6, 0xb7d4, 0x438f, 0x0, 0x1);
        gbc.writeMem(0x4a89, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf9f3);
        EXPECT(gbc.pc(), 0x4a8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 039E
        gbc.setState(0xc746, 0x2809, 0x2b00, 0xc082, 0x6312, 0xce50, 0x0, 0x0);
        gbc.writeMem(0xc746, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x2809);
        EXPECT(gbc.pc(), 0xc748);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc746), 0xcb);
        EXPECT(gbc.readMem(0xc747), 0x57);
        // CB 57 039F
        gbc.setState(0xb165, 0xfcea, 0xffc0, 0x9717, 0xab71, 0x853a, 0x1, 0x1);
        gbc.writeMem(0xb165, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xfcea);
        EXPECT(gbc.pc(), 0xb167);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb165), 0xcb);
        EXPECT(gbc.readMem(0xb166), 0x57);
        // CB 57 03A0
        gbc.setState(0x6de5, 0x1690, 0x3ba0, 0x6b47, 0x9301, 0xadf2, 0x0, 0x1);
        gbc.writeMem(0x6de5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x1690);
        EXPECT(gbc.pc(), 0x6de7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03A1
        gbc.setState(0xe9a3, 0x9ad4, 0xa870, 0x1ea, 0xd512, 0x276e, 0x0, 0x0);
        gbc.writeMem(0xe9a3, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x9ad4);
        EXPECT(gbc.pc(), 0xe9a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9a3), 0xcb);
        EXPECT(gbc.readMem(0xe9a4), 0x57);
        // CB 57 03A2
        gbc.setState(0x7350, 0xe729, 0x9d00, 0xd10a, 0x3497, 0xbe44, 0x1, 0x0);
        gbc.writeMem(0x7350, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xe729);
        EXPECT(gbc.pc(), 0x7352);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03A3
        gbc.setState(0x5a78, 0xab46, 0x9410, 0x40a2, 0x71ed, 0x10e6, 0x0, 0x1);
        gbc.writeMem(0x5a78, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xab46);
        EXPECT(gbc.pc(), 0x5a7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03A4
        gbc.setState(0x7948, 0xe777, 0xe690, 0x2aaf, 0x2f6a, 0xee11, 0x0, 0x0);
        gbc.writeMem(0x7948, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xe777);
        EXPECT(gbc.pc(), 0x794a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03A5
        gbc.setState(0xe66f, 0xd843, 0x7490, 0x45d7, 0x3975, 0x3a58, 0x1, 0x0);
        gbc.writeMem(0xe66f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xd843);
        EXPECT(gbc.pc(), 0xe671);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe66f), 0xcb);
        EXPECT(gbc.readMem(0xe670), 0x57);
        // CB 57 03A6
        gbc.setState(0x56b8, 0xf9ef, 0x3e40, 0x1658, 0x2010, 0x82f6, 0x0, 0x0);
        gbc.writeMem(0x56b8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xf9ef);
        EXPECT(gbc.pc(), 0x56ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03A7
        gbc.setState(0x8e6c, 0x3e84, 0x1a60, 0xa55, 0x1700, 0xe2ec, 0x0, 0x0);
        gbc.writeMem(0x8e6c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x3e84);
        EXPECT(gbc.pc(), 0x8e6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e6c), 0xcb);
        EXPECT(gbc.readMem(0x8e6d), 0x57);
        // CB 57 03A8
        gbc.setState(0x123a, 0x7997, 0xe10, 0x9db3, 0x6c43, 0x8ce8, 0x0, 0x1);
        gbc.writeMem(0x123a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x7997);
        EXPECT(gbc.pc(), 0x123c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03A9
        gbc.setState(0x3fad, 0x903b, 0x5ec0, 0x4a6a, 0x262, 0xc2cc, 0x0, 0x1);
        gbc.writeMem(0x3fad, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x903b);
        EXPECT(gbc.pc(), 0x3faf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03AA
        gbc.setState(0xa7f7, 0xc30a, 0x220, 0x49a8, 0x26d5, 0xdf14, 0x0, 0x0);
        gbc.writeMem(0xa7f7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xc30a);
        EXPECT(gbc.pc(), 0xa7f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7f7), 0xcb);
        EXPECT(gbc.readMem(0xa7f8), 0x57);
        // CB 57 03AB
        gbc.setState(0x5df5, 0xc9ad, 0x17b0, 0x2c03, 0xea0e, 0x2551, 0x1, 0x0);
        gbc.writeMem(0x5df5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xc9ad);
        EXPECT(gbc.pc(), 0x5df7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03AC
        gbc.setState(0x5107, 0x9a1c, 0xa200, 0xb406, 0xa2e9, 0x4a2f, 0x1, 0x1);
        gbc.writeMem(0x5107, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x9a1c);
        EXPECT(gbc.pc(), 0x5109);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03AD
        gbc.setState(0x7924, 0xd4de, 0xdec0, 0x4f8c, 0x7067, 0x7683, 0x1, 0x1);
        gbc.writeMem(0x7924, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xd4de);
        EXPECT(gbc.pc(), 0x7926);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03AE
        gbc.setState(0x655c, 0x8099, 0xb4b0, 0xeb7d, 0x5fca, 0x9403, 0x1, 0x1);
        gbc.writeMem(0x655c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x8099);
        EXPECT(gbc.pc(), 0x655e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03B0
        gbc.setState(0x6ba2, 0xa776, 0x8050, 0x89e3, 0xaf28, 0x8484, 0x0, 0x0);
        gbc.writeMem(0x6ba2, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xa776);
        EXPECT(gbc.pc(), 0x6ba4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03B1
        gbc.setState(0x796a, 0x9095, 0x6370, 0x444d, 0x4c5e, 0xd4f, 0x1, 0x0);
        gbc.writeMem(0x796a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x9095);
        EXPECT(gbc.pc(), 0x796c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03B2
        gbc.setState(0x65ee, 0x2946, 0xc50, 0x6479, 0x93ea, 0x7743, 0x0, 0x0);
        gbc.writeMem(0x65ee, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x2946);
        EXPECT(gbc.pc(), 0x65f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03B3
        gbc.setState(0x9943, 0x240a, 0xe3c0, 0xf90b, 0x9ec4, 0x3668, 0x0, 0x1);
        gbc.writeMem(0x9943, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x240a);
        EXPECT(gbc.pc(), 0x9945);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9943), 0xcb);
        EXPECT(gbc.readMem(0x9944), 0x57);
        // CB 57 03B4
        gbc.setState(0x5cff, 0xb41a, 0x54f0, 0xdd96, 0x9e69, 0x71fa, 0x0, 0x1);
        gbc.writeMem(0x5cff, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xb41a);
        EXPECT(gbc.pc(), 0x5d01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03B5
        gbc.setState(0x902c, 0x6d45, 0xa830, 0x9a9c, 0xf814, 0x7946, 0x0, 0x0);
        gbc.writeMem(0x902c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x6d45);
        EXPECT(gbc.pc(), 0x902e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x902c), 0xcb);
        EXPECT(gbc.readMem(0x902d), 0x57);
        // CB 57 03B6
        gbc.setState(0xc75a, 0x4466, 0x6e90, 0xa346, 0xa073, 0x2e5, 0x0, 0x1);
        gbc.writeMem(0xc75a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x4466);
        EXPECT(gbc.pc(), 0xc75c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc75a), 0xcb);
        EXPECT(gbc.readMem(0xc75b), 0x57);
        // CB 57 03B7
        gbc.setState(0x7c5a, 0x2971, 0xfa30, 0xa14a, 0x206f, 0x76b, 0x0, 0x1);
        gbc.writeMem(0x7c5a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x2971);
        EXPECT(gbc.pc(), 0x7c5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03B8
        gbc.setState(0x6bdd, 0x4afc, 0xc7b0, 0x7c2b, 0x56e4, 0x2be9, 0x0, 0x1);
        gbc.writeMem(0x6bdd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x4afc);
        EXPECT(gbc.pc(), 0x6bdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03B9
        gbc.setState(0xc090, 0x9631, 0x7930, 0x611a, 0xf583, 0xb4e1, 0x0, 0x0);
        gbc.writeMem(0xc090, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x9631);
        EXPECT(gbc.pc(), 0xc092);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc090), 0xcb);
        EXPECT(gbc.readMem(0xc091), 0x57);
        // CB 57 03BA
        gbc.setState(0x1b07, 0xc386, 0xe630, 0xe21e, 0x1769, 0x66ce, 0x1, 0x0);
        gbc.writeMem(0x1b07, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xc386);
        EXPECT(gbc.pc(), 0x1b09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03BB
        gbc.setState(0xa426, 0x973f, 0xb4c0, 0x8f16, 0xb29c, 0xee6c, 0x0, 0x0);
        gbc.writeMem(0xa426, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x973f);
        EXPECT(gbc.pc(), 0xa428);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa426), 0xcb);
        EXPECT(gbc.readMem(0xa427), 0x57);
        // CB 57 03BC
        gbc.setState(0x46e0, 0xec2d, 0x5670, 0xa38f, 0x2168, 0xc181, 0x1, 0x1);
        gbc.writeMem(0x46e0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xec2d);
        EXPECT(gbc.pc(), 0x46e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03BD
        gbc.setState(0x69f9, 0xc0ca, 0x2e80, 0x899, 0xa7f, 0xed68, 0x1, 0x0);
        gbc.writeMem(0x69f9, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xc0ca);
        EXPECT(gbc.pc(), 0x69fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03BE
        gbc.setState(0x18, 0x8078, 0xbce0, 0xab3a, 0x23d1, 0xea02, 0x0, 0x0);
        gbc.writeMem(0x18, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x8078);
        EXPECT(gbc.pc(), 0x1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03BF
        gbc.setState(0x95eb, 0xa4d1, 0xd890, 0x46fa, 0x94f, 0xccc5, 0x1, 0x0);
        gbc.writeMem(0x95eb, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xa4d1);
        EXPECT(gbc.pc(), 0x95ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95eb), 0xcb);
        EXPECT(gbc.readMem(0x95ec), 0x57);
        // CB 57 03C0
        gbc.setState(0xdc66, 0x7471, 0xbdd0, 0xa088, 0xa057, 0xa968, 0x1, 0x0);
        gbc.writeMem(0xdc66, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x7471);
        EXPECT(gbc.pc(), 0xdc68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc66), 0xcb);
        EXPECT(gbc.readMem(0xdc67), 0x57);
        // CB 57 03C1
        gbc.setState(0x399, 0x709a, 0xe00, 0x90d1, 0x857f, 0xf550, 0x1, 0x0);
        gbc.writeMem(0x399, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x709a);
        EXPECT(gbc.pc(), 0x39b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03C2
        gbc.setState(0xc34b, 0xe2ff, 0x84e0, 0xc418, 0xd734, 0x34a6, 0x1, 0x1);
        gbc.writeMem(0xc34b, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xe2ff);
        EXPECT(gbc.pc(), 0xc34d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc34b), 0xcb);
        EXPECT(gbc.readMem(0xc34c), 0x57);
        // CB 57 03C3
        gbc.setState(0xd952, 0xc7d1, 0x52c0, 0x300, 0xb3ed, 0x5bcc, 0x1, 0x1);
        gbc.writeMem(0xd952, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xc7d1);
        EXPECT(gbc.pc(), 0xd954);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd952), 0xcb);
        EXPECT(gbc.readMem(0xd953), 0x57);
        // CB 57 03C4
        gbc.setState(0xddf7, 0x46f0, 0xf5a0, 0xdf64, 0x9d18, 0x46dc, 0x1, 0x1);
        gbc.writeMem(0xddf7, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x46f0);
        EXPECT(gbc.pc(), 0xddf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddf7), 0xcb);
        EXPECT(gbc.readMem(0xddf8), 0x57);
        // CB 57 03C5
        gbc.setState(0x3bb0, 0x5b63, 0x7f20, 0xef77, 0x4172, 0xc941, 0x0, 0x1);
        gbc.writeMem(0x3bb0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x5b63);
        EXPECT(gbc.pc(), 0x3bb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03C6
        gbc.setState(0xee71, 0x7d1a, 0x3b70, 0xce4f, 0x4eb5, 0xdbf3, 0x1, 0x0);
        gbc.writeMem(0xee71, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x7d1a);
        EXPECT(gbc.pc(), 0xee73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee71), 0xcb);
        EXPECT(gbc.readMem(0xee72), 0x57);
        // CB 57 03C7
        gbc.setState(0x6561, 0x6a76, 0xc300, 0x6354, 0xe20e, 0x3576, 0x0, 0x1);
        gbc.writeMem(0x6561, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x6a76);
        EXPECT(gbc.pc(), 0x6563);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03C8
        gbc.setState(0x949e, 0xadef, 0xecc0, 0x846c, 0xd910, 0xa11a, 0x0, 0x0);
        gbc.writeMem(0x949e, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xadef);
        EXPECT(gbc.pc(), 0x94a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x949e), 0xcb);
        EXPECT(gbc.readMem(0x949f), 0x57);
        // CB 57 03C9
        gbc.setState(0xe329, 0x2cb3, 0xbf70, 0x4ad8, 0x25fa, 0xe46a, 0x0, 0x1);
        gbc.writeMem(0xe329, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2cb3);
        EXPECT(gbc.pc(), 0xe32b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe329), 0xcb);
        EXPECT(gbc.readMem(0xe32a), 0x57);
        // CB 57 03CB
        gbc.setState(0xbf9d, 0x5595, 0x43d0, 0xfc6, 0x9d3b, 0xef83, 0x0, 0x1);
        gbc.writeMem(0xbf9d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x5595);
        EXPECT(gbc.pc(), 0xbf9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf9d), 0xcb);
        EXPECT(gbc.readMem(0xbf9e), 0x57);
        // CB 57 03CC
        gbc.setState(0x43bd, 0xdbf7, 0x80d0, 0xe518, 0xb4d6, 0x1600, 0x1, 0x0);
        gbc.writeMem(0x43bd, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xdbf7);
        EXPECT(gbc.pc(), 0x43bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03CD
        gbc.setState(0xa17c, 0xe201, 0x29f0, 0x9ff7, 0xb0c, 0x54a5, 0x1, 0x1);
        gbc.writeMem(0xa17c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xe201);
        EXPECT(gbc.pc(), 0xa17e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa17c), 0xcb);
        EXPECT(gbc.readMem(0xa17d), 0x57);
        // CB 57 03CE
        gbc.setState(0x9ede, 0x6058, 0x6c10, 0x7a4e, 0xaf3, 0x96b5, 0x0, 0x1);
        gbc.writeMem(0x9ede, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x6058);
        EXPECT(gbc.pc(), 0x9ee0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ede), 0xcb);
        EXPECT(gbc.readMem(0x9edf), 0x57);
        // CB 57 03CF
        gbc.setState(0xa89c, 0x4f1b, 0xa670, 0x3c95, 0xd19f, 0xea34, 0x0, 0x1);
        gbc.writeMem(0xa89c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x4f1b);
        EXPECT(gbc.pc(), 0xa89e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa89c), 0xcb);
        EXPECT(gbc.readMem(0xa89d), 0x57);
        // CB 57 03D0
        gbc.setState(0x76a, 0x7f91, 0xb3a0, 0x749a, 0x5c04, 0xdc7, 0x1, 0x1);
        gbc.writeMem(0x76a, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x7f91);
        EXPECT(gbc.pc(), 0x76c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03D1
        gbc.setState(0x2fe1, 0xa92f, 0x5d80, 0x2dcb, 0xe7c3, 0xbbdc, 0x1, 0x0);
        gbc.writeMem(0x2fe1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xa92f);
        EXPECT(gbc.pc(), 0x2fe3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03D2
        gbc.setState(0x9d9f, 0xc4d9, 0x1060, 0xd484, 0xa9f4, 0xc31c, 0x0, 0x0);
        gbc.writeMem(0x9d9f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xc4d9);
        EXPECT(gbc.pc(), 0x9da1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d9f), 0xcb);
        EXPECT(gbc.readMem(0x9da0), 0x57);
        // CB 57 03D3
        gbc.setState(0x87b0, 0xceec, 0x180, 0x8adb, 0xd194, 0xe8e7, 0x1, 0x0);
        gbc.writeMem(0x87b0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xceec);
        EXPECT(gbc.pc(), 0x87b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87b0), 0xcb);
        EXPECT(gbc.readMem(0x87b1), 0x57);
        // CB 57 03D4
        gbc.setState(0x7d29, 0x9ab5, 0x4630, 0xb649, 0xe25c, 0x89a3, 0x0, 0x1);
        gbc.writeMem(0x7d29, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x9ab5);
        EXPECT(gbc.pc(), 0x7d2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03D5
        gbc.setState(0xed, 0xdd8d, 0x7e20, 0xff15, 0x37a0, 0x2d0f, 0x0, 0x1);
        gbc.writeMem(0xed, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xdd8d);
        EXPECT(gbc.pc(), 0xef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03D6
        gbc.setState(0xc66c, 0x5267, 0xa380, 0xfc1d, 0xe2ea, 0xeea8, 0x0, 0x0);
        gbc.writeMem(0xc66c, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x5267);
        EXPECT(gbc.pc(), 0xc66e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc66c), 0xcb);
        EXPECT(gbc.readMem(0xc66d), 0x57);
        // CB 57 03D7
        gbc.setState(0xdd0f, 0xbc95, 0x1f10, 0xad29, 0xb1e6, 0x6bc8, 0x1, 0x1);
        gbc.writeMem(0xdd0f, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xbc95);
        EXPECT(gbc.pc(), 0xdd11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd0f), 0xcb);
        EXPECT(gbc.readMem(0xdd10), 0x57);
        // CB 57 03D8
        gbc.setState(0xd982, 0x90aa, 0x14c0, 0x825, 0x5151, 0xa2d8, 0x0, 0x1);
        gbc.writeMem(0xd982, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x90aa);
        EXPECT(gbc.pc(), 0xd984);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd982), 0xcb);
        EXPECT(gbc.readMem(0xd983), 0x57);
        // CB 57 03D9
        gbc.setState(0x29c8, 0x9fdf, 0x8360, 0x6e5a, 0x8ba0, 0xec74, 0x0, 0x0);
        gbc.writeMem(0x29c8, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x9fdf);
        EXPECT(gbc.pc(), 0x29ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03DA
        gbc.setState(0x4d01, 0xce0e, 0x8a20, 0x82d9, 0x5f99, 0x15f5, 0x0, 0x0);
        gbc.writeMem(0x4d01, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xce0e);
        EXPECT(gbc.pc(), 0x4d03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03DB
        gbc.setState(0x1f5d, 0x1f9f, 0xfa60, 0xad78, 0x95f, 0x3bdd, 0x1, 0x1);
        gbc.writeMem(0x1f5d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x1f9f);
        EXPECT(gbc.pc(), 0x1f5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03DC
        gbc.setState(0xc3e6, 0xf074, 0x6b40, 0x3001, 0x34ea, 0xb76c, 0x1, 0x0);
        gbc.writeMem(0xc3e6, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xf074);
        EXPECT(gbc.pc(), 0xc3e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3e6), 0xcb);
        EXPECT(gbc.readMem(0xc3e7), 0x57);
        // CB 57 03DD
        gbc.setState(0x6374, 0x4817, 0x1140, 0x383f, 0x2fe0, 0x95fb, 0x0, 0x0);
        gbc.writeMem(0x6374, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x4817);
        EXPECT(gbc.pc(), 0x6376);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03DE
        gbc.setState(0xa5bc, 0x8071, 0x7ae0, 0x77af, 0x11ea, 0xaf2f, 0x0, 0x1);
        gbc.writeMem(0xa5bc, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8071);
        EXPECT(gbc.pc(), 0xa5be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5bc), 0xcb);
        EXPECT(gbc.readMem(0xa5bd), 0x57);
        // CB 57 03DF
        gbc.setState(0x89ad, 0xd53c, 0xb910, 0x5077, 0xd177, 0xb8e, 0x0, 0x0);
        gbc.writeMem(0x89ad, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xd53c);
        EXPECT(gbc.pc(), 0x89af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89ad), 0xcb);
        EXPECT(gbc.readMem(0x89ae), 0x57);
        // CB 57 03E0
        gbc.setState(0xa3e5, 0x7622, 0x1b0, 0x4259, 0x9649, 0x976b, 0x1, 0x0);
        gbc.writeMem(0xa3e5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x7622);
        EXPECT(gbc.pc(), 0xa3e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3e5), 0xcb);
        EXPECT(gbc.readMem(0xa3e6), 0x57);
        // CB 57 03E1
        gbc.setState(0xd8d0, 0x1486, 0x5740, 0x2f6e, 0xa3c6, 0x73b4, 0x0, 0x0);
        gbc.writeMem(0xd8d0, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x1486);
        EXPECT(gbc.pc(), 0xd8d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8d0), 0xcb);
        EXPECT(gbc.readMem(0xd8d1), 0x57);
        // CB 57 03E2
        gbc.setState(0x56d5, 0x2212, 0x58e0, 0x1935, 0x4787, 0xd855, 0x1, 0x1);
        gbc.writeMem(0x56d5, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x2212);
        EXPECT(gbc.pc(), 0x56d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03E3
        gbc.setState(0x6d75, 0x9678, 0x3f80, 0xa2b7, 0x6661, 0xb653, 0x0, 0x0);
        gbc.writeMem(0x6d75, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x9678);
        EXPECT(gbc.pc(), 0x6d77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 57 03E4
        gbc.setState(0x3096, 0x6218, 0x92b0, 0xea7d, 0xb92c, 0xbb4f, 0x0, 0x0);
        gbc.writeMem(0x3096, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x6218);
        EXPECT(gbc.pc(), 0x3098);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03E5
        gbc.setState(0xed0d, 0x4c69, 0x5840, 0xfb24, 0xb7f1, 0x5755, 0x0, 0x1);
        gbc.writeMem(0xed0d, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x4c69);
        EXPECT(gbc.pc(), 0xed0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed0d), 0xcb);
        EXPECT(gbc.readMem(0xed0e), 0x57);
        // CB 57 03E6
        gbc.setState(0x6911, 0x96a9, 0x9df0, 0xfcb2, 0x2709, 0x919c, 0x1, 0x1);
        gbc.writeMem(0x6911, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x96a9);
        EXPECT(gbc.pc(), 0x6913);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 57 03E7
        gbc.setState(0xa9a1, 0x13cb, 0x44f0, 0x8336, 0x7390, 0x25d3, 0x0, 0x0);
        gbc.writeMem(0xa9a1, { 0xcb, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x13cb);
        EXPECT(gbc.pc(), 0xa9a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9a1), 0xcb);
        EXPECT(gbc.readMem(0xa9a2), 0x57);
    }
