#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_34)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_34) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 34 0000
        gbc.setState(0x4c94, 0xdf02, 0xf2a0, 0xbfd4, 0x64b2, 0x8d10, 0x1, 0x0);
        gbc.writeMem(0x4c94, { 0x34 });
        gbc.writeMem(0x8d10, { 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xdf02);
        EXPECT(gbc.pc(), 0x4c95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d10), 0x8c);
        // 34 0001
        gbc.setState(0x2a7, 0x37e9, 0x2020, 0x707a, 0x2d31, 0xcf97, 0x1, 0x1);
        gbc.writeMem(0x2a7, { 0x34 });
        gbc.writeMem(0xcf97, { 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x37e9);
        EXPECT(gbc.pc(), 0x2a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf97), 0x4c);
        // 34 0007
        gbc.setState(0xa5a3, 0x4e1c, 0x2da0, 0x96e4, 0x49c7, 0x97c5, 0x0, 0x0);
        gbc.writeMem(0x97c5, { 0xbf });
        gbc.writeMem(0xa5a3, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x4e1c);
        EXPECT(gbc.pc(), 0xa5a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97c5), 0xc0);
        EXPECT(gbc.readMem(0xa5a3), 0x34);
        // 34 000D
        gbc.setState(0xa269, 0x154f, 0x2580, 0x19bc, 0x31b0, 0xfd44, 0x1, 0x0);
        gbc.writeMem(0xa269, { 0x34 });
        gbc.writeMem(0xfd44, { 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x154f);
        EXPECT(gbc.pc(), 0xa26a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa269), 0x34);
        EXPECT(gbc.readMem(0xfd44), 0xc5);
        // 34 0013
        gbc.setState(0xa7bc, 0xa199, 0x2e40, 0xe916, 0x53e5, 0x9df0, 0x0, 0x0);
        gbc.writeMem(0x9df0, { 0x93 });
        gbc.writeMem(0xa7bc, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xa199);
        EXPECT(gbc.pc(), 0xa7bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9df0), 0x94);
        EXPECT(gbc.readMem(0xa7bc), 0x34);
        // 34 0014
        gbc.setState(0x43ff, 0x76dd, 0xc600, 0x271, 0x6843, 0x9cf7, 0x1, 0x1);
        gbc.writeMem(0x43ff, { 0x34 });
        gbc.writeMem(0x9cf7, { 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x76dd);
        EXPECT(gbc.pc(), 0x4400);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cf7), 0x40);
        // 34 0016
        gbc.setState(0x4774, 0x2a3b, 0x2cf0, 0xc276, 0xcf0b, 0xfb30, 0x1, 0x1);
        gbc.writeMem(0x4774, { 0x34 });
        gbc.writeMem(0xfb30, { 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x2a3b);
        EXPECT(gbc.pc(), 0x4775);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xfb30), 0x3);
        // 34 001C
        gbc.setState(0x2ccc, 0x26a, 0x9b10, 0xae2a, 0xdd25, 0xe318, 0x1, 0x1);
        gbc.writeMem(0x2ccc, { 0x34 });
        gbc.writeMem(0xe318, { 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x26a);
        EXPECT(gbc.pc(), 0x2ccd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe318), 0x23);
        // 34 001E
        gbc.setState(0xa78, 0xa0dd, 0x4e10, 0x2ebd, 0xa6c2, 0x97b7, 0x0, 0x0);
        gbc.writeMem(0xa78, { 0x34 });
        gbc.writeMem(0x97b7, { 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xa0dd);
        EXPECT(gbc.pc(), 0xa79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97b7), 0xf2);
        // 34 001F
        gbc.setState(0x2b5e, 0x79eb, 0xc840, 0x4f93, 0x9209, 0xccac, 0x0, 0x0);
        gbc.writeMem(0x2b5e, { 0x34 });
        gbc.writeMem(0xccac, { 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x79eb);
        EXPECT(gbc.pc(), 0x2b5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccac), 0x6c);
        // 34 0022
        gbc.setState(0x185f, 0x8825, 0x2690, 0x4e7f, 0x9dff, 0xc26b, 0x1, 0x1);
        gbc.writeMem(0x185f, { 0x34 });
        gbc.writeMem(0xc26b, { 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x8825);
        EXPECT(gbc.pc(), 0x1860);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc26b), 0x1d);
        // 34 0023
        gbc.setState(0x3344, 0x199e, 0xec70, 0xebee, 0x7f48, 0xc4ab, 0x1, 0x0);
        gbc.writeMem(0x3344, { 0x34 });
        gbc.writeMem(0xc4ab, { 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x199e);
        EXPECT(gbc.pc(), 0x3345);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4ab), 0x6e);
        // 34 0026
        gbc.setState(0xe0e8, 0xd090, 0x48f0, 0xa63b, 0x6513, 0xd5b6, 0x0, 0x1);
        gbc.writeMem(0xd5b6, { 0x8f });
        gbc.writeMem(0xe0e8, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xd090);
        EXPECT(gbc.pc(), 0xe0e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5b6), 0x90);
        EXPECT(gbc.readMem(0xe0e8), 0x34);
        // 34 0030
        gbc.setState(0x3c43, 0x70be, 0xa870, 0xeaec, 0xc1cf, 0xc9e0, 0x0, 0x0);
        gbc.writeMem(0x3c43, { 0x34 });
        gbc.writeMem(0xc9e0, { 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x70be);
        EXPECT(gbc.pc(), 0x3c44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9e0), 0x91);
        // 34 0032
        gbc.setState(0xeb4d, 0xa33e, 0x1d50, 0xcf1c, 0x4cd1, 0xe018, 0x1, 0x0);
        gbc.writeMem(0xe018, { 0x35 });
        gbc.writeMem(0xeb4d, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xa33e);
        EXPECT(gbc.pc(), 0xeb4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe018), 0x36);
        EXPECT(gbc.readMem(0xeb4d), 0x34);
        // 34 0034
        gbc.setState(0x7272, 0x4ee8, 0x7b10, 0xdcaf, 0xe1dd, 0xeb86, 0x0, 0x0);
        gbc.writeMem(0x7272, { 0x34 });
        gbc.writeMem(0xeb86, { 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x4ee8);
        EXPECT(gbc.pc(), 0x7273);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb86), 0x72);
        // 34 0036
        gbc.setState(0x193f, 0xec6a, 0xc4b0, 0x55bf, 0xf175, 0xc163, 0x0, 0x1);
        gbc.writeMem(0x193f, { 0x34 });
        gbc.writeMem(0xc163, { 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xec6a);
        EXPECT(gbc.pc(), 0x1940);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc163), 0xb0);
        // 34 003A
        gbc.setState(0x9994, 0xc35, 0x9ef0, 0xebd9, 0x1416, 0xa633, 0x0, 0x0);
        gbc.writeMem(0x9994, { 0x34 });
        gbc.writeMem(0xa633, { 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xc35);
        EXPECT(gbc.pc(), 0x9995);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9994), 0x34);
        EXPECT(gbc.readMem(0xa633), 0xb2);
        // 34 003D
        gbc.setState(0xe6d4, 0x69f9, 0x2510, 0x18ab, 0xd728, 0xce78, 0x1, 0x0);
        gbc.writeMem(0xce78, { 0x31 });
        gbc.writeMem(0xe6d4, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x69f9);
        EXPECT(gbc.pc(), 0xe6d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce78), 0x32);
        EXPECT(gbc.readMem(0xe6d4), 0x34);
        // 34 003E
        gbc.setState(0x8cc0, 0x8f7a, 0x2910, 0xed0f, 0x7b8e, 0xec4d, 0x1, 0x1);
        gbc.writeMem(0x8cc0, { 0x34 });
        gbc.writeMem(0xec4d, { 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x8f7a);
        EXPECT(gbc.pc(), 0x8cc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cc0), 0x34);
        EXPECT(gbc.readMem(0xec4d), 0x55);
        // 34 003F
        gbc.setState(0xcd90, 0xdbf4, 0xe790, 0x81a7, 0x2b6a, 0xe0fb, 0x0, 0x1);
        gbc.writeMem(0xcd90, { 0x34 });
        gbc.writeMem(0xe0fb, { 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xdbf4);
        EXPECT(gbc.pc(), 0xcd91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd90), 0x34);
        EXPECT(gbc.readMem(0xe0fb), 0xb9);
        // 34 0040
        gbc.setState(0xa356, 0x56b1, 0x5de0, 0xd22b, 0x5908, 0xa020, 0x1, 0x1);
        gbc.writeMem(0xa020, { 0xec });
        gbc.writeMem(0xa356, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x56b1);
        EXPECT(gbc.pc(), 0xa357);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa020), 0xed);
        EXPECT(gbc.readMem(0xa356), 0x34);
        // 34 0044
        gbc.setState(0x8bf, 0xe7b9, 0x1d20, 0xafb4, 0x7deb, 0xd807, 0x0, 0x1);
        gbc.writeMem(0x8bf, { 0x34 });
        gbc.writeMem(0xd807, { 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xe7b9);
        EXPECT(gbc.pc(), 0x8c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd807), 0x4c);
        // 34 0045
        gbc.setState(0x45ba, 0x9acf, 0x6b10, 0x2c84, 0xdd69, 0xbfc9, 0x1, 0x0);
        gbc.writeMem(0x45ba, { 0x34 });
        gbc.writeMem(0xbfc9, { 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x9acf);
        EXPECT(gbc.pc(), 0x45bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfc9), 0x58);
        // 34 0047
        gbc.setState(0x1408, 0x2965, 0xc670, 0xf1d9, 0xce69, 0xe2c2, 0x0, 0x0);
        gbc.writeMem(0x1408, { 0x34 });
        gbc.writeMem(0xe2c2, { 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x2965);
        EXPECT(gbc.pc(), 0x1409);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2c2), 0xe4);
        // 34 0048
        gbc.setState(0x577e, 0x4d3b, 0x8330, 0x103, 0x1639, 0x8b60, 0x0, 0x0);
        gbc.writeMem(0x577e, { 0x34 });
        gbc.writeMem(0x8b60, { 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x4d3b);
        EXPECT(gbc.pc(), 0x577f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b60), 0x5e);
        // 34 0049
        gbc.setState(0xa149, 0x4970, 0x2870, 0xa670, 0x8cda, 0xe931, 0x1, 0x0);
        gbc.writeMem(0xa149, { 0x34 });
        gbc.writeMem(0xe931, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x4970);
        EXPECT(gbc.pc(), 0xa14a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa149), 0x34);
        EXPECT(gbc.readMem(0xe931), 0xc6);
        // 34 004E
        gbc.setState(0xb35c, 0x9561, 0xcd80, 0xe34, 0x6d0b, 0xc1f2, 0x0, 0x0);
        gbc.writeMem(0xb35c, { 0x34 });
        gbc.writeMem(0xc1f2, { 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x9561);
        EXPECT(gbc.pc(), 0xb35d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb35c), 0x34);
        EXPECT(gbc.readMem(0xc1f2), 0xb);
        // 34 0052
        gbc.setState(0x3e53, 0xa372, 0x5f40, 0x5afe, 0xbcb9, 0x9820, 0x0, 0x0);
        gbc.writeMem(0x3e53, { 0x34 });
        gbc.writeMem(0x9820, { 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xa372);
        EXPECT(gbc.pc(), 0x3e54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9820), 0x5e);
        // 34 0055
        gbc.setState(0x4105, 0xc7c7, 0xbf70, 0xd0b5, 0x1224, 0xf936, 0x0, 0x0);
        gbc.writeMem(0x4105, { 0x34 });
        gbc.writeMem(0xf936, { 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xc7c7);
        EXPECT(gbc.pc(), 0x4106);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf936), 0xdf);
        // 34 0056
        gbc.setState(0x999e, 0x4549, 0x8770, 0xe71f, 0xf8a9, 0xce2b, 0x0, 0x0);
        gbc.writeMem(0x999e, { 0x34 });
        gbc.writeMem(0xce2b, { 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x4549);
        EXPECT(gbc.pc(), 0x999f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x999e), 0x34);
        EXPECT(gbc.readMem(0xce2b), 0x2c);
        // 34 0057
        gbc.setState(0xfd5, 0x84ba, 0xd170, 0x6b7f, 0x540a, 0x984f, 0x0, 0x1);
        gbc.writeMem(0xfd5, { 0x34 });
        gbc.writeMem(0x984f, { 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x84ba);
        EXPECT(gbc.pc(), 0xfd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x984f), 0x8b);
        // 34 0058
        gbc.setState(0xb2, 0x428a, 0x9d60, 0xc47d, 0x4924, 0xa9a1, 0x1, 0x1);
        gbc.writeMem(0xb2, { 0x34 });
        gbc.writeMem(0xa9a1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x428a);
        EXPECT(gbc.pc(), 0xb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9a1), 0x10);
        // 34 005A
        gbc.setState(0x81b4, 0x8492, 0x5560, 0x364f, 0x3e26, 0xb0f3, 0x1, 0x1);
        gbc.writeMem(0x81b4, { 0x34 });
        gbc.writeMem(0xb0f3, { 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x8492);
        EXPECT(gbc.pc(), 0x81b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81b4), 0x34);
        EXPECT(gbc.readMem(0xb0f3), 0x8f);
        // 34 005E
        gbc.setState(0x6a9f, 0x2f7f, 0xe3d0, 0x5660, 0x2526, 0xfe3a, 0x1, 0x0);
        gbc.writeMem(0x6a9f, { 0x34 });
        gbc.writeMem(0xfe3a, { 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x2f7f);
        EXPECT(gbc.pc(), 0x6aa0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xfe3a), 0x95);
        // 34 0066
        gbc.setState(0x55d0, 0xd4f, 0xf9a0, 0xd9d3, 0xc24e, 0xe8ce, 0x0, 0x0);
        gbc.writeMem(0x55d0, { 0x34 });
        gbc.writeMem(0xe8ce, { 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xd4f);
        EXPECT(gbc.pc(), 0x55d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8ce), 0xa8);
        // 34 0068
        gbc.setState(0x895e, 0xf5d5, 0x9210, 0x5549, 0xbd6c, 0xacce, 0x1, 0x0);
        gbc.writeMem(0x895e, { 0x34 });
        gbc.writeMem(0xacce, { 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xf5d5);
        EXPECT(gbc.pc(), 0x895f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x895e), 0x34);
        EXPECT(gbc.readMem(0xacce), 0x4f);
        // 34 006A
        gbc.setState(0x5071, 0xba35, 0x2960, 0x3951, 0x93d8, 0xf9d5, 0x1, 0x1);
        gbc.writeMem(0x5071, { 0x34 });
        gbc.writeMem(0xf9d5, { 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xba35);
        EXPECT(gbc.pc(), 0x5072);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf9d5), 0x95);
        // 34 006B
        gbc.setState(0x6a37, 0xcb81, 0xca30, 0x1b9f, 0x430b, 0xd01e, 0x0, 0x1);
        gbc.writeMem(0x6a37, { 0x34 });
        gbc.writeMem(0xd01e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xcb81);
        EXPECT(gbc.pc(), 0x6a38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd01e), 0x2e);
        // 34 006C
        gbc.setState(0xe6de, 0x3ee0, 0x21e0, 0xa225, 0x42a1, 0x9842, 0x0, 0x0);
        gbc.writeMem(0x9842, { 0x1f });
        gbc.writeMem(0xe6de, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x3ee0);
        EXPECT(gbc.pc(), 0xe6df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9842), 0x20);
        EXPECT(gbc.readMem(0xe6de), 0x34);
        // 34 006E
        gbc.setState(0xb87f, 0x8e88, 0x3b50, 0x1bdc, 0x6bde, 0xd496, 0x1, 0x0);
        gbc.writeMem(0xb87f, { 0x34 });
        gbc.writeMem(0xd496, { 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x8e88);
        EXPECT(gbc.pc(), 0xb880);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb87f), 0x34);
        EXPECT(gbc.readMem(0xd496), 0x6e);
        // 34 0072
        gbc.setState(0x49bc, 0x216a, 0xbac0, 0x7857, 0xaf2f, 0x88e8, 0x0, 0x1);
        gbc.writeMem(0x49bc, { 0x34 });
        gbc.writeMem(0x88e8, { 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x216a);
        EXPECT(gbc.pc(), 0x49bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88e8), 0xd8);
        // 34 0076
        gbc.setState(0x69c2, 0x3f12, 0x66c0, 0x6e9e, 0x921d, 0xec9c, 0x0, 0x0);
        gbc.writeMem(0x69c2, { 0x34 });
        gbc.writeMem(0xec9c, { 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x3f12);
        EXPECT(gbc.pc(), 0x69c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec9c), 0x75);
        // 34 007B
        gbc.setState(0x5304, 0xa34c, 0x9e40, 0x32e2, 0x65e2, 0xfc7c, 0x0, 0x1);
        gbc.writeMem(0x5304, { 0x34 });
        gbc.writeMem(0xfc7c, { 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xa34c);
        EXPECT(gbc.pc(), 0x5305);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfc7c), 0x6a);
        // 34 007C
        gbc.setState(0x4d33, 0x68b9, 0xd000, 0xb61f, 0xbb06, 0x90d4, 0x1, 0x0);
        gbc.writeMem(0x4d33, { 0x34 });
        gbc.writeMem(0x90d4, { 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x68b9);
        EXPECT(gbc.pc(), 0x4d34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90d4), 0x59);
        // 34 007F
        gbc.setState(0x3b9b, 0x4966, 0xb520, 0x42ec, 0xa326, 0xf3a3, 0x0, 0x1);
        gbc.writeMem(0x3b9b, { 0x34 });
        gbc.writeMem(0xf3a3, { 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x4966);
        EXPECT(gbc.pc(), 0x3b9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf3a3), 0x8f);
        // 34 0080
        gbc.setState(0xc6a, 0x121c, 0x8300, 0x8170, 0xafbc, 0xd473, 0x1, 0x1);
        gbc.writeMem(0xc6a, { 0x34 });
        gbc.writeMem(0xd473, { 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x121c);
        EXPECT(gbc.pc(), 0xc6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd473), 0xf8);
        // 34 0082
        gbc.setState(0x5f7b, 0x5489, 0x8420, 0x95ef, 0x7049, 0xf570, 0x0, 0x0);
        gbc.writeMem(0x5f7b, { 0x34 });
        gbc.writeMem(0xf570, { 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x5489);
        EXPECT(gbc.pc(), 0x5f7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf570), 0xdf);
        // 34 0084
        gbc.setState(0x5314, 0x5b73, 0xb0a0, 0x378f, 0x3faf, 0x89e7, 0x0, 0x1);
        gbc.writeMem(0x5314, { 0x34 });
        gbc.writeMem(0x89e7, { 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x5b73);
        EXPECT(gbc.pc(), 0x5315);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89e7), 0x11);
        // 34 0086
        gbc.setState(0x5081, 0x552d, 0x6b30, 0xea2c, 0x266c, 0xe99b, 0x0, 0x0);
        gbc.writeMem(0x5081, { 0x34 });
        gbc.writeMem(0xe99b, { 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x552d);
        EXPECT(gbc.pc(), 0x5082);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe99b), 0x9e);
        // 34 0087
        gbc.setState(0x43b2, 0xada4, 0xdd20, 0xdd3f, 0x5f2d, 0xc625, 0x0, 0x1);
        gbc.writeMem(0x43b2, { 0x34 });
        gbc.writeMem(0xc625, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xada4);
        EXPECT(gbc.pc(), 0x43b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc625), 0xc6);
        // 34 0088
        gbc.setState(0xe8c2, 0x34c2, 0x28c0, 0x3cb8, 0xf6ec, 0xb25a, 0x1, 0x1);
        gbc.writeMem(0xb25a, { 0xda });
        gbc.writeMem(0xe8c2, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x34c2);
        EXPECT(gbc.pc(), 0xe8c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb25a), 0xdb);
        EXPECT(gbc.readMem(0xe8c2), 0x34);
        // 34 0089
        gbc.setState(0xdb4c, 0x87ef, 0xd1d0, 0x2830, 0x1681, 0xdefb, 0x0, 0x0);
        gbc.writeMem(0xdb4c, { 0x34 });
        gbc.writeMem(0xdefb, { 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x87ef);
        EXPECT(gbc.pc(), 0xdb4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb4c), 0x34);
        EXPECT(gbc.readMem(0xdefb), 0x9);
        // 34 008C
        gbc.setState(0xaee9, 0xedb8, 0x2620, 0xcb40, 0x3bdb, 0x8be5, 0x0, 0x1);
        gbc.writeMem(0x8be5, { 0xf7 });
        gbc.writeMem(0xaee9, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xedb8);
        EXPECT(gbc.pc(), 0xaeea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8be5), 0xf8);
        EXPECT(gbc.readMem(0xaee9), 0x34);
        // 34 008D
        gbc.setState(0x50dc, 0xaa14, 0xa0a0, 0x6929, 0xee38, 0xbf1d, 0x0, 0x0);
        gbc.writeMem(0x50dc, { 0x34 });
        gbc.writeMem(0xbf1d, { 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xaa14);
        EXPECT(gbc.pc(), 0x50dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf1d), 0xb5);
        // 34 008E
        gbc.setState(0x6fed, 0x722b, 0x5470, 0xe10f, 0xf732, 0xb778, 0x1, 0x1);
        gbc.writeMem(0x6fed, { 0x34 });
        gbc.writeMem(0xb778, { 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x722b);
        EXPECT(gbc.pc(), 0x6fee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb778), 0x75);
        // 34 0091
        gbc.setState(0x120, 0x6824, 0x5eb0, 0x630b, 0x302c, 0xa728, 0x1, 0x1);
        gbc.writeMem(0x120, { 0x34 });
        gbc.writeMem(0xa728, { 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x6824);
        EXPECT(gbc.pc(), 0x121);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa728), 0x5e);
        // 34 0094
        gbc.setState(0x1fb2, 0x48eb, 0x1140, 0xd0bd, 0xd54e, 0xc01d, 0x0, 0x1);
        gbc.writeMem(0x1fb2, { 0x34 });
        gbc.writeMem(0xc01d, { 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x48eb);
        EXPECT(gbc.pc(), 0x1fb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc01d), 0xa);
        // 34 0096
        gbc.setState(0x4a93, 0xd0a9, 0xcab0, 0xc245, 0xfda9, 0xa35d, 0x0, 0x1);
        gbc.writeMem(0x4a93, { 0x34 });
        gbc.writeMem(0xa35d, { 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xd0a9);
        EXPECT(gbc.pc(), 0x4a94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa35d), 0xb2);
        // 34 0098
        gbc.setState(0x740, 0xce19, 0xab10, 0xa95d, 0xfec0, 0xc489, 0x0, 0x1);
        gbc.writeMem(0x740, { 0x34 });
        gbc.writeMem(0xc489, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xce19);
        EXPECT(gbc.pc(), 0x741);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc489), 0x25);
        // 34 0099
        gbc.setState(0x1282, 0x9370, 0x7670, 0x4118, 0xbc5f, 0xe9b0, 0x1, 0x0);
        gbc.writeMem(0x1282, { 0x34 });
        gbc.writeMem(0xe9b0, { 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x9370);
        EXPECT(gbc.pc(), 0x1283);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9b0), 0xfd);
        // 34 009A
        gbc.setState(0x8334, 0x939c, 0xfe20, 0x2e4a, 0xcba4, 0x892f, 0x1, 0x1);
        gbc.writeMem(0x8334, { 0x34 });
        gbc.writeMem(0x892f, { 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x939c);
        EXPECT(gbc.pc(), 0x8335);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8334), 0x34);
        EXPECT(gbc.readMem(0x892f), 0xab);
        // 34 009C
        gbc.setState(0x3570, 0x35b9, 0x67a0, 0xa99c, 0xe160, 0xd5a6, 0x1, 0x1);
        gbc.writeMem(0x3570, { 0x34 });
        gbc.writeMem(0xd5a6, { 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x35b9);
        EXPECT(gbc.pc(), 0x3571);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5a6), 0x11);
        // 34 009D
        gbc.setState(0x7369, 0xaf1, 0x7a80, 0xbd1a, 0x4578, 0xf554, 0x0, 0x1);
        gbc.writeMem(0x7369, { 0x34 });
        gbc.writeMem(0xf554, { 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xaf1);
        EXPECT(gbc.pc(), 0x736a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf554), 0xee);
        // 34 009E
        gbc.setState(0xaaf1, 0xece4, 0x53c0, 0x139a, 0xa3f7, 0x9333, 0x0, 0x1);
        gbc.writeMem(0x9333, { 0x43 });
        gbc.writeMem(0xaaf1, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xece4);
        EXPECT(gbc.pc(), 0xaaf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9333), 0x44);
        EXPECT(gbc.readMem(0xaaf1), 0x34);
        // 34 009F
        gbc.setState(0x4dae, 0x619e, 0xbcb0, 0x3774, 0x91bd, 0xa7ea, 0x0, 0x1);
        gbc.writeMem(0x4dae, { 0x34 });
        gbc.writeMem(0xa7ea, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x619e);
        EXPECT(gbc.pc(), 0x4daf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7ea), 0x3d);
        // 34 00A0
        gbc.setState(0x99db, 0xe038, 0x6380, 0xf9bb, 0x64d0, 0x97e7, 0x1, 0x1);
        gbc.writeMem(0x97e7, { 0x68 });
        gbc.writeMem(0x99db, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xe038);
        EXPECT(gbc.pc(), 0x99dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97e7), 0x69);
        EXPECT(gbc.readMem(0x99db), 0x34);
        // 34 00A1
        gbc.setState(0xbf40, 0x1f3e, 0xf110, 0x2845, 0xdd6b, 0xfa76, 0x1, 0x0);
        gbc.writeMem(0xbf40, { 0x34 });
        gbc.writeMem(0xfa76, { 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x1f3e);
        EXPECT(gbc.pc(), 0xbf41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf40), 0x34);
        EXPECT(gbc.readMem(0xfa76), 0x31);
        // 34 00A2
        gbc.setState(0x7750, 0x322a, 0xc60, 0x7865, 0xd316, 0xd45f, 0x1, 0x1);
        gbc.writeMem(0x7750, { 0x34 });
        gbc.writeMem(0xd45f, { 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x322a);
        EXPECT(gbc.pc(), 0x7751);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd45f), 0xc3);
        // 34 00A3
        gbc.setState(0x2cd6, 0x112a, 0x4a20, 0xfd54, 0x51ed, 0x8f5e, 0x0, 0x1);
        gbc.writeMem(0x2cd6, { 0x34 });
        gbc.writeMem(0x8f5e, { 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x112a);
        EXPECT(gbc.pc(), 0x2cd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f5e), 0x3a);
        // 34 00A5
        gbc.setState(0xcb6d, 0x54aa, 0x4b60, 0xf872, 0xcfd8, 0xb957, 0x1, 0x0);
        gbc.writeMem(0xb957, { 0x96 });
        gbc.writeMem(0xcb6d, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x54aa);
        EXPECT(gbc.pc(), 0xcb6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb957), 0x97);
        EXPECT(gbc.readMem(0xcb6d), 0x34);
        // 34 00A6
        gbc.setState(0xb5e0, 0x7679, 0xcf20, 0x33a4, 0x954b, 0x8a3d, 0x1, 0x1);
        gbc.writeMem(0x8a3d, { 0xea });
        gbc.writeMem(0xb5e0, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x7679);
        EXPECT(gbc.pc(), 0xb5e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a3d), 0xeb);
        EXPECT(gbc.readMem(0xb5e0), 0x34);
        // 34 00A7
        gbc.setState(0xae7, 0x93, 0x7300, 0x4e5, 0x3305, 0xd620, 0x1, 0x0);
        gbc.writeMem(0xae7, { 0x34 });
        gbc.writeMem(0xd620, { 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x93);
        EXPECT(gbc.pc(), 0xae8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd620), 0x22);
        // 34 00A8
        gbc.setState(0x2edb, 0xd9b2, 0x7050, 0x5918, 0x5d2b, 0x8b6a, 0x0, 0x0);
        gbc.writeMem(0x2edb, { 0x34 });
        gbc.writeMem(0x8b6a, { 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xd9b2);
        EXPECT(gbc.pc(), 0x2edc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b6a), 0xa0);
        // 34 00A9
        gbc.setState(0x5d36, 0x30ad, 0x4e40, 0xb89c, 0xad51, 0xc106, 0x1, 0x1);
        gbc.writeMem(0x5d36, { 0x34 });
        gbc.writeMem(0xc106, { 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x30ad);
        EXPECT(gbc.pc(), 0x5d37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc106), 0xab);
        // 34 00AC
        gbc.setState(0x6a33, 0x8ae9, 0xc0e0, 0x14c9, 0x7bd1, 0xfd66, 0x1, 0x1);
        gbc.writeMem(0x6a33, { 0x34 });
        gbc.writeMem(0xfd66, { 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x8ae9);
        EXPECT(gbc.pc(), 0x6a34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfd66), 0x98);
        // 34 00AD
        gbc.setState(0xbef5, 0x591e, 0x57f0, 0x180e, 0xe2ed, 0xd7b7, 0x1, 0x0);
        gbc.writeMem(0xbef5, { 0x34 });
        gbc.writeMem(0xd7b7, { 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x591e);
        EXPECT(gbc.pc(), 0xbef6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbef5), 0x34);
        EXPECT(gbc.readMem(0xd7b7), 0x2c);
        // 34 00AE
        gbc.setState(0x3ea7, 0x8cc0, 0x18d0, 0x8188, 0xdf80, 0xf9ad, 0x0, 0x0);
        gbc.writeMem(0x3ea7, { 0x34 });
        gbc.writeMem(0xf9ad, { 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x8cc0);
        EXPECT(gbc.pc(), 0x3ea8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf9ad), 0x61);
        // 34 00B1
        gbc.setState(0xc1a7, 0xbce, 0x40d0, 0x4758, 0xa161, 0xc68e, 0x1, 0x1);
        gbc.writeMem(0xc1a7, { 0x34 });
        gbc.writeMem(0xc68e, { 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xbce);
        EXPECT(gbc.pc(), 0xc1a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1a7), 0x34);
        EXPECT(gbc.readMem(0xc68e), 0x14);
        // 34 00B2
        gbc.setState(0xeb3, 0xfb88, 0x8d70, 0xc2d, 0x5f75, 0xefad, 0x1, 0x0);
        gbc.writeMem(0xeb3, { 0x34 });
        gbc.writeMem(0xefad, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xfb88);
        EXPECT(gbc.pc(), 0xeb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefad), 0x5d);
        // 34 00B6
        gbc.setState(0xd9c, 0x80be, 0xd7e0, 0xa07, 0xc2f4, 0xaee1, 0x0, 0x0);
        gbc.writeMem(0xd9c, { 0x34 });
        gbc.writeMem(0xaee1, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x80be);
        EXPECT(gbc.pc(), 0xd9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaee1), 0x2e);
        // 34 00B7
        gbc.setState(0xd5dc, 0xe8cc, 0xf8b0, 0xe23e, 0xf170, 0xcaa5, 0x1, 0x1);
        gbc.writeMem(0xcaa5, { 0x34 });
        gbc.writeMem(0xd5dc, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xe8cc);
        EXPECT(gbc.pc(), 0xd5dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcaa5), 0x35);
        EXPECT(gbc.readMem(0xd5dc), 0x34);
        // 34 00B9
        gbc.setState(0x6655, 0x685b, 0xff30, 0x1ad5, 0x70ba, 0x9021, 0x0, 0x0);
        gbc.writeMem(0x6655, { 0x34 });
        gbc.writeMem(0x9021, { 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x685b);
        EXPECT(gbc.pc(), 0x6656);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9021), 0x5d);
        // 34 00BD
        gbc.setState(0x62c1, 0xd43b, 0x8310, 0x25db, 0x8cff, 0xdc3f, 0x1, 0x1);
        gbc.writeMem(0x62c1, { 0x34 });
        gbc.writeMem(0xdc3f, { 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xd43b);
        EXPECT(gbc.pc(), 0x62c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc3f), 0xc3);
        // 34 00BF
        gbc.setState(0x749e, 0xa59d, 0x4870, 0x2520, 0x63ae, 0xf313, 0x1, 0x1);
        gbc.writeMem(0x749e, { 0x34 });
        gbc.writeMem(0xf313, { 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xa59d);
        EXPECT(gbc.pc(), 0x749f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf313), 0x7e);
        // 34 00C0
        gbc.setState(0x1d50, 0x3479, 0x56d0, 0x6279, 0x2bf6, 0xf333, 0x0, 0x1);
        gbc.writeMem(0x1d50, { 0x34 });
        gbc.writeMem(0xf333, { 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x3479);
        EXPECT(gbc.pc(), 0x1d51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf333), 0xb5);
        // 34 00C1
        gbc.setState(0x4f93, 0x74cf, 0x770, 0xca53, 0x8ccd, 0x8f9f, 0x0, 0x1);
        gbc.writeMem(0x4f93, { 0x34 });
        gbc.writeMem(0x8f9f, { 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x74cf);
        EXPECT(gbc.pc(), 0x4f94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f9f), 0x2f);
        // 34 00C2
        gbc.setState(0x8515, 0x3253, 0x8260, 0x6177, 0xdef, 0xbaf7, 0x0, 0x0);
        gbc.writeMem(0x8515, { 0x34 });
        gbc.writeMem(0xbaf7, { 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x3253);
        EXPECT(gbc.pc(), 0x8516);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8515), 0x34);
        EXPECT(gbc.readMem(0xbaf7), 0xc0);
        // 34 00C3
        gbc.setState(0xae3b, 0x71c7, 0x7050, 0x5a5d, 0x451a, 0xe732, 0x1, 0x1);
        gbc.writeMem(0xae3b, { 0x34 });
        gbc.writeMem(0xe732, { 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x71c7);
        EXPECT(gbc.pc(), 0xae3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae3b), 0x34);
        EXPECT(gbc.readMem(0xe732), 0xa9);
        // 34 00C6
        gbc.setState(0x467a, 0x32d9, 0xde90, 0x1e05, 0x8b4f, 0xc57b, 0x0, 0x1);
        gbc.writeMem(0x467a, { 0x34 });
        gbc.writeMem(0xc57b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x32d9);
        EXPECT(gbc.pc(), 0x467b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc57b), 0x18);
        // 34 00C7
        gbc.setState(0x6c8d, 0x5bc9, 0xbc20, 0xace1, 0x5db3, 0xb5e1, 0x0, 0x0);
        gbc.writeMem(0x6c8d, { 0x34 });
        gbc.writeMem(0xb5e1, { 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x5bc9);
        EXPECT(gbc.pc(), 0x6c8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5e1), 0x5b);
        // 34 00C8
        gbc.setState(0x42fb, 0x8495, 0xaf70, 0xf70c, 0x2ac4, 0xf7a3, 0x0, 0x0);
        gbc.writeMem(0x42fb, { 0x34 });
        gbc.writeMem(0xf7a3, { 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x8495);
        EXPECT(gbc.pc(), 0x42fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf7a3), 0x9b);
        // 34 00CB
        gbc.setState(0x1f85, 0x5a17, 0xfc50, 0x5aa3, 0x2644, 0x8d4c, 0x0, 0x0);
        gbc.writeMem(0x1f85, { 0x34 });
        gbc.writeMem(0x8d4c, { 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x5a17);
        EXPECT(gbc.pc(), 0x1f86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d4c), 0x9a);
        // 34 00CC
        gbc.setState(0xe45e, 0xa9b3, 0xf480, 0x63ef, 0x9250, 0xe48e, 0x0, 0x1);
        gbc.writeMem(0xe45e, { 0x34 });
        gbc.writeMem(0xe48e, { 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xa9b3);
        EXPECT(gbc.pc(), 0xe45f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe45e), 0x34);
        EXPECT(gbc.readMem(0xe48e), 0x28);
        // 34 00D0
        gbc.setState(0x1620, 0xefb5, 0xebb0, 0x5ae4, 0xf231, 0xa6b0, 0x0, 0x0);
        gbc.writeMem(0x1620, { 0x34 });
        gbc.writeMem(0xa6b0, { 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xefb5);
        EXPECT(gbc.pc(), 0x1621);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6b0), 0xb3);
        // 34 00D4
        gbc.setState(0xa528, 0xd29f, 0x6410, 0xf43c, 0x113b, 0xa0f9, 0x0, 0x0);
        gbc.writeMem(0xa0f9, { 0x8a });
        gbc.writeMem(0xa528, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xd29f);
        EXPECT(gbc.pc(), 0xa529);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0f9), 0x8b);
        EXPECT(gbc.readMem(0xa528), 0x34);
        // 34 00D5
        gbc.setState(0xabe3, 0x498d, 0xe710, 0xed43, 0xeda2, 0x9b13, 0x0, 0x1);
        gbc.writeMem(0x9b13, { 0xe6 });
        gbc.writeMem(0xabe3, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x498d);
        EXPECT(gbc.pc(), 0xabe4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b13), 0xe7);
        EXPECT(gbc.readMem(0xabe3), 0x34);
        // 34 00D8
        gbc.setState(0x907e, 0x6f08, 0xd530, 0x1778, 0x45c, 0xec8e, 0x1, 0x1);
        gbc.writeMem(0x907e, { 0x34 });
        gbc.writeMem(0xec8e, { 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x6f08);
        EXPECT(gbc.pc(), 0x907f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x907e), 0x34);
        EXPECT(gbc.readMem(0xec8e), 0x4f);
        // 34 00D9
        gbc.setState(0x5c7f, 0xfc8, 0xefd0, 0x27b2, 0x22df, 0xf32c, 0x1, 0x1);
        gbc.writeMem(0x5c7f, { 0x34 });
        gbc.writeMem(0xf32c, { 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xfc8);
        EXPECT(gbc.pc(), 0x5c80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf32c), 0xac);
        // 34 00DB
        gbc.setState(0x6657, 0xdfda, 0x9970, 0xc7eb, 0x3f1b, 0xcfdd, 0x0, 0x1);
        gbc.writeMem(0x6657, { 0x34 });
        gbc.writeMem(0xcfdd, { 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xdfda);
        EXPECT(gbc.pc(), 0x6658);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfdd), 0xdf);
        // 34 00DE
        gbc.setState(0x22f5, 0x30b, 0x1bc0, 0x97c8, 0xa1b0, 0xb21c, 0x1, 0x1);
        gbc.writeMem(0x22f5, { 0x34 });
        gbc.writeMem(0xb21c, { 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x30b);
        EXPECT(gbc.pc(), 0x22f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb21c), 0x44);
        // 34 00DF
        gbc.setState(0x98b9, 0xe207, 0x59c0, 0x1d82, 0xa12, 0xcf6d, 0x1, 0x0);
        gbc.writeMem(0x98b9, { 0x34 });
        gbc.writeMem(0xcf6d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xe207);
        EXPECT(gbc.pc(), 0x98ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98b9), 0x34);
        EXPECT(gbc.readMem(0xcf6d), 0x42);
        // 34 00E0
        gbc.setState(0xd15c, 0x2b90, 0x6c90, 0x8cda, 0x8f3e, 0x9671, 0x1, 0x0);
        gbc.writeMem(0x9671, { 0xc3 });
        gbc.writeMem(0xd15c, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x2b90);
        EXPECT(gbc.pc(), 0xd15d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9671), 0xc4);
        EXPECT(gbc.readMem(0xd15c), 0x34);
        // 34 00E2
        gbc.setState(0x847, 0xc08d, 0x5f50, 0xfe97, 0x283b, 0x8bfd, 0x0, 0x0);
        gbc.writeMem(0x847, { 0x34 });
        gbc.writeMem(0x8bfd, { 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc08d);
        EXPECT(gbc.pc(), 0x848);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bfd), 0x1a);
        // 34 00E3
        gbc.setState(0x4dd5, 0x7e61, 0xe0, 0x9a, 0x9a5f, 0x8f2c, 0x1, 0x0);
        gbc.writeMem(0x4dd5, { 0x34 });
        gbc.writeMem(0x8f2c, { 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x7e61);
        EXPECT(gbc.pc(), 0x4dd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f2c), 0x7);
        // 34 00E5
        gbc.setState(0x2ef2, 0x9429, 0x4ed0, 0xfc4a, 0x5150, 0x9959, 0x1, 0x0);
        gbc.writeMem(0x2ef2, { 0x34 });
        gbc.writeMem(0x9959, { 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x9429);
        EXPECT(gbc.pc(), 0x2ef3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9959), 0xd6);
        // 34 00E6
        gbc.setState(0x782a, 0xd28, 0x2330, 0x90fb, 0x10d, 0xea34, 0x1, 0x1);
        gbc.writeMem(0x782a, { 0x34 });
        gbc.writeMem(0xea34, { 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xd28);
        EXPECT(gbc.pc(), 0x782b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea34), 0x29);
        // 34 00E8
        gbc.setState(0x3189, 0xe25f, 0xc930, 0x8e56, 0x440b, 0xc582, 0x0, 0x1);
        gbc.writeMem(0x3189, { 0x34 });
        gbc.writeMem(0xc582, { 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xe25f);
        EXPECT(gbc.pc(), 0x318a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc582), 0xf9);
        // 34 00E9
        gbc.setState(0x8470, 0x4eca, 0x8720, 0x2eed, 0x4d41, 0xc017, 0x0, 0x0);
        gbc.writeMem(0x8470, { 0x34 });
        gbc.writeMem(0xc017, { 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x4eca);
        EXPECT(gbc.pc(), 0x8471);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8470), 0x34);
        EXPECT(gbc.readMem(0xc017), 0xdb);
        // 34 00EC
        gbc.setState(0x8f01, 0x555, 0x9070, 0x6a6e, 0x483c, 0x96e2, 0x1, 0x1);
        gbc.writeMem(0x8f01, { 0x34 });
        gbc.writeMem(0x96e2, { 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x555);
        EXPECT(gbc.pc(), 0x8f02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f01), 0x34);
        EXPECT(gbc.readMem(0x96e2), 0x2f);
        // 34 00EE
        gbc.setState(0x1a90, 0x3dd7, 0x7130, 0x58e0, 0xb313, 0x8e74, 0x0, 0x1);
        gbc.writeMem(0x1a90, { 0x34 });
        gbc.writeMem(0x8e74, { 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x3dd7);
        EXPECT(gbc.pc(), 0x1a91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e74), 0xdf);
        // 34 00F0
        gbc.setState(0x2e80, 0x77c, 0x2600, 0xa376, 0x838, 0xdad4, 0x0, 0x0);
        gbc.writeMem(0x2e80, { 0x34 });
        gbc.writeMem(0xdad4, { 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x77c);
        EXPECT(gbc.pc(), 0x2e81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdad4), 0xff);
        // 34 00F1
        gbc.setState(0xdfbd, 0x2b20, 0x34c0, 0x1788, 0xae85, 0xb37c, 0x1, 0x0);
        gbc.writeMem(0xb37c, { 0x81 });
        gbc.writeMem(0xdfbd, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x2b20);
        EXPECT(gbc.pc(), 0xdfbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb37c), 0x82);
        EXPECT(gbc.readMem(0xdfbd), 0x34);
        // 34 00F2
        gbc.setState(0xdf1d, 0xeea1, 0x3c70, 0xb6c5, 0x895e, 0xdf4a, 0x0, 0x0);
        gbc.writeMem(0xdf1d, { 0x34 });
        gbc.writeMem(0xdf4a, { 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xeea1);
        EXPECT(gbc.pc(), 0xdf1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf1d), 0x34);
        EXPECT(gbc.readMem(0xdf4a), 0x65);
        // 34 00F3
        gbc.setState(0xdaec, 0x9477, 0x1440, 0x66aa, 0x5614, 0x90ea, 0x1, 0x0);
        gbc.writeMem(0x90ea, { 0x35 });
        gbc.writeMem(0xdaec, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x9477);
        EXPECT(gbc.pc(), 0xdaed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90ea), 0x36);
        EXPECT(gbc.readMem(0xdaec), 0x34);
        // 34 00F4
        gbc.setState(0xc562, 0xdb17, 0x72a0, 0x5475, 0xb9a4, 0xeb64, 0x1, 0x0);
        gbc.writeMem(0xc562, { 0x34 });
        gbc.writeMem(0xeb64, { 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xdb17);
        EXPECT(gbc.pc(), 0xc563);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc562), 0x34);
        EXPECT(gbc.readMem(0xeb64), 0x2c);
        // 34 00F5
        gbc.setState(0x11bd, 0xaf7d, 0x51c0, 0xfb2, 0xc192, 0xdc14, 0x0, 0x1);
        gbc.writeMem(0x11bd, { 0x34 });
        gbc.writeMem(0xdc14, { 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xaf7d);
        EXPECT(gbc.pc(), 0x11be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc14), 0x66);
        // 34 00F6
        gbc.setState(0x82cd, 0x5642, 0x73f0, 0x26ab, 0x9107, 0xd43f, 0x0, 0x1);
        gbc.writeMem(0x82cd, { 0x34 });
        gbc.writeMem(0xd43f, { 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x5642);
        EXPECT(gbc.pc(), 0x82ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82cd), 0x34);
        EXPECT(gbc.readMem(0xd43f), 0x85);
        // 34 00F7
        gbc.setState(0xc6a4, 0x62c9, 0x74c0, 0xbd7e, 0x527c, 0x85bf, 0x1, 0x0);
        gbc.writeMem(0x85bf, { 0x2 });
        gbc.writeMem(0xc6a4, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x62c9);
        EXPECT(gbc.pc(), 0xc6a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85bf), 0x3);
        EXPECT(gbc.readMem(0xc6a4), 0x34);
        // 34 00F8
        gbc.setState(0xec56, 0x64a8, 0xb950, 0x8a8e, 0xa2a, 0xc8d4, 0x1, 0x0);
        gbc.writeMem(0xc8d4, { 0xf5 });
        gbc.writeMem(0xec56, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x64a8);
        EXPECT(gbc.pc(), 0xec57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8d4), 0xf6);
        EXPECT(gbc.readMem(0xec56), 0x34);
        // 34 00F9
        gbc.setState(0x281, 0xf358, 0x4240, 0x57b3, 0x5fef, 0xbb68, 0x1, 0x0);
        gbc.writeMem(0x281, { 0x34 });
        gbc.writeMem(0xbb68, { 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xf358);
        EXPECT(gbc.pc(), 0x282);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb68), 0xe2);
        // 34 00FA
        gbc.setState(0x8a92, 0x8bf3, 0x2ec0, 0x30f7, 0x3e24, 0xacc7, 0x0, 0x1);
        gbc.writeMem(0x8a92, { 0x34 });
        gbc.writeMem(0xacc7, { 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x8bf3);
        EXPECT(gbc.pc(), 0x8a93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a92), 0x34);
        EXPECT(gbc.readMem(0xacc7), 0xa9);
        // 34 00FD
        gbc.setState(0x77ad, 0x3825, 0x67d0, 0x779a, 0xbbf4, 0xcabb, 0x1, 0x0);
        gbc.writeMem(0x77ad, { 0x34 });
        gbc.writeMem(0xcabb, { 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x3825);
        EXPECT(gbc.pc(), 0x77ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcabb), 0x80);
        // 34 00FE
        gbc.setState(0x9b4, 0x1395, 0x9fa0, 0x5f0c, 0x59d0, 0xcf2c, 0x0, 0x0);
        gbc.writeMem(0x9b4, { 0x34 });
        gbc.writeMem(0xcf2c, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x1395);
        EXPECT(gbc.pc(), 0x9b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf2c), 0x4a);
        // 34 00FF
        gbc.setState(0x39c8, 0x33b5, 0x14e0, 0xe79e, 0x4c08, 0x8d6d, 0x1, 0x1);
        gbc.writeMem(0x39c8, { 0x34 });
        gbc.writeMem(0x8d6d, { 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x33b5);
        EXPECT(gbc.pc(), 0x39c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d6d), 0x3f);
        // 34 0102
        gbc.setState(0x9897, 0x584, 0x7370, 0x6e71, 0xacd3, 0xbe09, 0x1, 0x0);
        gbc.writeMem(0x9897, { 0x34 });
        gbc.writeMem(0xbe09, { 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x584);
        EXPECT(gbc.pc(), 0x9898);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9897), 0x34);
        EXPECT(gbc.readMem(0xbe09), 0xf7);
        // 34 0103
        gbc.setState(0x6a5a, 0x517b, 0x7360, 0xa2ce, 0xc75b, 0x95fb, 0x1, 0x0);
        gbc.writeMem(0x6a5a, { 0x34 });
        gbc.writeMem(0x95fb, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x517b);
        EXPECT(gbc.pc(), 0x6a5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95fb), 0x10);
        // 34 0106
        gbc.setState(0xaf09, 0x889f, 0xacc0, 0x40c7, 0x6cd, 0x93b0, 0x0, 0x1);
        gbc.writeMem(0x93b0, { 0x19 });
        gbc.writeMem(0xaf09, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x889f);
        EXPECT(gbc.pc(), 0xaf0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93b0), 0x1a);
        EXPECT(gbc.readMem(0xaf09), 0x34);
        // 34 010B
        gbc.setState(0xa268, 0x2a5e, 0xacf0, 0x8ea0, 0x8163, 0xe341, 0x0, 0x1);
        gbc.writeMem(0xa268, { 0x34 });
        gbc.writeMem(0xe341, { 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x2a5e);
        EXPECT(gbc.pc(), 0xa269);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa268), 0x34);
        EXPECT(gbc.readMem(0xe341), 0x22);
        // 34 0110
        gbc.setState(0x5e1e, 0x9257, 0xe540, 0x9d3a, 0x33ad, 0xe6b6, 0x0, 0x0);
        gbc.writeMem(0x5e1e, { 0x34 });
        gbc.writeMem(0xe6b6, { 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x9257);
        EXPECT(gbc.pc(), 0x5e1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6b6), 0xe0);
        // 34 0111
        gbc.setState(0x7269, 0xb9a2, 0x9b10, 0x6c94, 0x3608, 0xd9b3, 0x1, 0x1);
        gbc.writeMem(0x7269, { 0x34 });
        gbc.writeMem(0xd9b3, { 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xb9a2);
        EXPECT(gbc.pc(), 0x726a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9b3), 0xef);
        // 34 0114
        gbc.setState(0xd96b, 0xf83b, 0x5950, 0x935e, 0xcfba, 0xd741, 0x0, 0x0);
        gbc.writeMem(0xd741, { 0x4c });
        gbc.writeMem(0xd96b, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xf83b);
        EXPECT(gbc.pc(), 0xd96c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd741), 0x4d);
        EXPECT(gbc.readMem(0xd96b), 0x34);
        // 34 0118
        gbc.setState(0x8225, 0x798d, 0xb850, 0xc97f, 0xb4bc, 0x839e, 0x1, 0x1);
        gbc.writeMem(0x8225, { 0x34 });
        gbc.writeMem(0x839e, { 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x798d);
        EXPECT(gbc.pc(), 0x8226);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8225), 0x34);
        EXPECT(gbc.readMem(0x839e), 0x11);
        // 34 0119
        gbc.setState(0xa8b7, 0xbeff, 0x8480, 0xb805, 0x382c, 0x95c6, 0x0, 0x0);
        gbc.writeMem(0x95c6, { 0xcd });
        gbc.writeMem(0xa8b7, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xbeff);
        EXPECT(gbc.pc(), 0xa8b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95c6), 0xce);
        EXPECT(gbc.readMem(0xa8b7), 0x34);
        // 34 011B
        gbc.setState(0xaf71, 0x4b61, 0xe10, 0xc119, 0x26f8, 0x91ed, 0x1, 0x0);
        gbc.writeMem(0x91ed, { 0x9e });
        gbc.writeMem(0xaf71, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x4b61);
        EXPECT(gbc.pc(), 0xaf72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91ed), 0x9f);
        EXPECT(gbc.readMem(0xaf71), 0x34);
        // 34 011C
        gbc.setState(0xbda0, 0x4728, 0xd110, 0xfd5, 0x83c, 0x8686, 0x0, 0x0);
        gbc.writeMem(0x8686, { 0x45 });
        gbc.writeMem(0xbda0, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x4728);
        EXPECT(gbc.pc(), 0xbda1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8686), 0x46);
        EXPECT(gbc.readMem(0xbda0), 0x34);
        // 34 011D
        gbc.setState(0x372b, 0x6317, 0xa770, 0x586e, 0x994d, 0xfc45, 0x1, 0x1);
        gbc.writeMem(0x372b, { 0x34 });
        gbc.writeMem(0xfc45, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x6317);
        EXPECT(gbc.pc(), 0x372c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xfc45), 0x18);
        // 34 0121
        gbc.setState(0xeac8, 0xf964, 0x38c0, 0xe0cd, 0xee8c, 0xccd4, 0x1, 0x0);
        gbc.writeMem(0xccd4, { 0x91 });
        gbc.writeMem(0xeac8, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xf964);
        EXPECT(gbc.pc(), 0xeac9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccd4), 0x92);
        EXPECT(gbc.readMem(0xeac8), 0x34);
        // 34 0122
        gbc.setState(0x1243, 0xf2ff, 0x1d0, 0x5b58, 0xd838, 0xace0, 0x0, 0x0);
        gbc.writeMem(0x1243, { 0x34 });
        gbc.writeMem(0xace0, { 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xf2ff);
        EXPECT(gbc.pc(), 0x1244);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xace0), 0x22);
        // 34 0125
        gbc.setState(0x8be6, 0x17b9, 0x96c0, 0xf8e1, 0x308f, 0xa31e, 0x1, 0x0);
        gbc.writeMem(0x8be6, { 0x34 });
        gbc.writeMem(0xa31e, { 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x17b9);
        EXPECT(gbc.pc(), 0x8be7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8be6), 0x34);
        EXPECT(gbc.readMem(0xa31e), 0xa3);
        // 34 0126
        gbc.setState(0x5550, 0x167f, 0x9f20, 0xe350, 0x8e2a, 0xdcfa, 0x0, 0x0);
        gbc.writeMem(0x5550, { 0x34 });
        gbc.writeMem(0xdcfa, { 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x167f);
        EXPECT(gbc.pc(), 0x5551);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcfa), 0xf3);
        // 34 012D
        gbc.setState(0x740a, 0x7b5f, 0x4bc0, 0x1d73, 0xc4bf, 0xd814, 0x1, 0x0);
        gbc.writeMem(0x740a, { 0x34 });
        gbc.writeMem(0xd814, { 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x7b5f);
        EXPECT(gbc.pc(), 0x740b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd814), 0x73);
        // 34 012E
        gbc.setState(0x2244, 0x864b, 0x1ba0, 0xee50, 0x7b10, 0x8810, 0x0, 0x0);
        gbc.writeMem(0x2244, { 0x34 });
        gbc.writeMem(0x8810, { 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x864b);
        EXPECT(gbc.pc(), 0x2245);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8810), 0x85);
        // 34 012F
        gbc.setState(0x4d5d, 0x8ae3, 0xa80, 0x9ed1, 0x6160, 0x9b40, 0x1, 0x1);
        gbc.writeMem(0x4d5d, { 0x34 });
        gbc.writeMem(0x9b40, { 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x8ae3);
        EXPECT(gbc.pc(), 0x4d5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b40), 0x83);
        // 34 0130
        gbc.setState(0x315e, 0x1771, 0xba00, 0x104e, 0x630e, 0x8765, 0x0, 0x0);
        gbc.writeMem(0x315e, { 0x34 });
        gbc.writeMem(0x8765, { 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x1771);
        EXPECT(gbc.pc(), 0x315f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8765), 0x5a);
        // 34 0131
        gbc.setState(0x7998, 0x4f2, 0x250, 0x625b, 0x9a06, 0xb869, 0x0, 0x1);
        gbc.writeMem(0x7998, { 0x34 });
        gbc.writeMem(0xb869, { 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x4f2);
        EXPECT(gbc.pc(), 0x7999);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb869), 0x51);
        // 34 0132
        gbc.setState(0x62a8, 0x6bab, 0x1d70, 0x46a9, 0xce8b, 0xc38a, 0x0, 0x0);
        gbc.writeMem(0x62a8, { 0x34 });
        gbc.writeMem(0xc38a, { 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x6bab);
        EXPECT(gbc.pc(), 0x62a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc38a), 0xd9);
        // 34 0133
        gbc.setState(0x80b2, 0x76e, 0xd140, 0xeb90, 0x4b87, 0xccd6, 0x1, 0x0);
        gbc.writeMem(0x80b2, { 0x34 });
        gbc.writeMem(0xccd6, { 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x76e);
        EXPECT(gbc.pc(), 0x80b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80b2), 0x34);
        EXPECT(gbc.readMem(0xccd6), 0xe);
        // 34 0136
        gbc.setState(0x77cb, 0xe03f, 0x5ef0, 0x6382, 0xf3e8, 0x9222, 0x1, 0x0);
        gbc.writeMem(0x77cb, { 0x34 });
        gbc.writeMem(0x9222, { 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xe03f);
        EXPECT(gbc.pc(), 0x77cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9222), 0xef);
        // 34 0138
        gbc.setState(0x9706, 0x8daa, 0xd6d0, 0x2456, 0x58fb, 0x85dd, 0x0, 0x0);
        gbc.writeMem(0x85dd, { 0x68 });
        gbc.writeMem(0x9706, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x8daa);
        EXPECT(gbc.pc(), 0x9707);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85dd), 0x69);
        EXPECT(gbc.readMem(0x9706), 0x34);
        // 34 013A
        gbc.setState(0x61bf, 0x5ec, 0xf4f0, 0xac30, 0xe52f, 0x9477, 0x0, 0x0);
        gbc.writeMem(0x61bf, { 0x34 });
        gbc.writeMem(0x9477, { 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x5ec);
        EXPECT(gbc.pc(), 0x61c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9477), 0x8f);
        // 34 013B
        gbc.setState(0xb139, 0x4e9f, 0x89f0, 0x96ed, 0x85da, 0xc746, 0x1, 0x0);
        gbc.writeMem(0xb139, { 0x34 });
        gbc.writeMem(0xc746, { 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4e9f);
        EXPECT(gbc.pc(), 0xb13a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb139), 0x34);
        EXPECT(gbc.readMem(0xc746), 0xc);
        // 34 013C
        gbc.setState(0xe19a, 0xaca6, 0xee10, 0x9610, 0x6ab2, 0xadad, 0x1, 0x1);
        gbc.writeMem(0xadad, { 0x93 });
        gbc.writeMem(0xe19a, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xaca6);
        EXPECT(gbc.pc(), 0xe19b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadad), 0x94);
        EXPECT(gbc.readMem(0xe19a), 0x34);
        // 34 013D
        gbc.setState(0x9c9, 0x327d, 0x49b0, 0x37c2, 0x5d4a, 0xac62, 0x0, 0x1);
        gbc.writeMem(0x9c9, { 0x34 });
        gbc.writeMem(0xac62, { 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x327d);
        EXPECT(gbc.pc(), 0x9ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac62), 0x20);
        // 34 013E
        gbc.setState(0xbcdd, 0x4acf, 0x6e30, 0xbef8, 0xb102, 0xd385, 0x0, 0x0);
        gbc.writeMem(0xbcdd, { 0x34 });
        gbc.writeMem(0xd385, { 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x4acf);
        EXPECT(gbc.pc(), 0xbcde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcdd), 0x34);
        EXPECT(gbc.readMem(0xd385), 0xb4);
        // 34 013F
        gbc.setState(0x64b1, 0x9256, 0x8900, 0x5b1e, 0x5b9, 0xc285, 0x0, 0x1);
        gbc.writeMem(0x64b1, { 0x34 });
        gbc.writeMem(0xc285, { 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x9256);
        EXPECT(gbc.pc(), 0x64b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc285), 0xb5);
        // 34 0140
        gbc.setState(0x9f54, 0xdfe8, 0xcda0, 0x13bd, 0x8c74, 0xb145, 0x0, 0x1);
        gbc.writeMem(0x9f54, { 0x34 });
        gbc.writeMem(0xb145, { 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xdfe8);
        EXPECT(gbc.pc(), 0x9f55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f54), 0x34);
        EXPECT(gbc.readMem(0xb145), 0xb3);
        // 34 0141
        gbc.setState(0x903d, 0xa96f, 0x4850, 0x292d, 0x5bc7, 0xc503, 0x0, 0x1);
        gbc.writeMem(0x903d, { 0x34 });
        gbc.writeMem(0xc503, { 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa96f);
        EXPECT(gbc.pc(), 0x903e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x903d), 0x34);
        EXPECT(gbc.readMem(0xc503), 0x64);
        // 34 0142
        gbc.setState(0x91f5, 0x3e5d, 0xc730, 0x5346, 0xebc9, 0xf13d, 0x0, 0x0);
        gbc.writeMem(0x91f5, { 0x34 });
        gbc.writeMem(0xf13d, { 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x3e5d);
        EXPECT(gbc.pc(), 0x91f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91f5), 0x34);
        EXPECT(gbc.readMem(0xf13d), 0x95);
        // 34 0144
        gbc.setState(0xc5be, 0xb0f4, 0xef40, 0x541f, 0x4b45, 0xd962, 0x0, 0x0);
        gbc.writeMem(0xc5be, { 0x34 });
        gbc.writeMem(0xd962, { 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xb0f4);
        EXPECT(gbc.pc(), 0xc5bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5be), 0x34);
        EXPECT(gbc.readMem(0xd962), 0x6b);
        // 34 0148
        gbc.setState(0x6b2a, 0xda3b, 0x4280, 0xac3d, 0xd3be, 0xe400, 0x0, 0x0);
        gbc.writeMem(0x6b2a, { 0x34 });
        gbc.writeMem(0xe400, { 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xda3b);
        EXPECT(gbc.pc(), 0x6b2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe400), 0x5e);
        // 34 014A
        gbc.setState(0xd4c9, 0x8ddf, 0xb720, 0xd228, 0x43e0, 0xc119, 0x1, 0x0);
        gbc.writeMem(0xc119, { 0xc1 });
        gbc.writeMem(0xd4c9, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x8ddf);
        EXPECT(gbc.pc(), 0xd4ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc119), 0xc2);
        EXPECT(gbc.readMem(0xd4c9), 0x34);
        // 34 014C
        gbc.setState(0xc958, 0xde8d, 0xf4b0, 0x1b9, 0x411e, 0x9ee3, 0x1, 0x1);
        gbc.writeMem(0x9ee3, { 0x5c });
        gbc.writeMem(0xc958, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xde8d);
        EXPECT(gbc.pc(), 0xc959);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ee3), 0x5d);
        EXPECT(gbc.readMem(0xc958), 0x34);
        // 34 014F
        gbc.setState(0x7d91, 0xe57d, 0x9340, 0x3047, 0x9b68, 0xa29e, 0x1, 0x1);
        gbc.writeMem(0x7d91, { 0x34 });
        gbc.writeMem(0xa29e, { 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xe57d);
        EXPECT(gbc.pc(), 0x7d92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa29e), 0xe5);
        // 34 0150
        gbc.setState(0xe7a4, 0x943f, 0x8860, 0xcd35, 0x68e5, 0xa5fd, 0x1, 0x0);
        gbc.writeMem(0xa5fd, { 0x30 });
        gbc.writeMem(0xe7a4, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x943f);
        EXPECT(gbc.pc(), 0xe7a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5fd), 0x31);
        EXPECT(gbc.readMem(0xe7a4), 0x34);
        // 34 0151
        gbc.setState(0xc9a3, 0x7e03, 0x5440, 0xfc0e, 0xbb64, 0xde49, 0x0, 0x1);
        gbc.writeMem(0xc9a3, { 0x34 });
        gbc.writeMem(0xde49, { 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x7e03);
        EXPECT(gbc.pc(), 0xc9a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9a3), 0x34);
        EXPECT(gbc.readMem(0xde49), 0x3e);
        // 34 0152
        gbc.setState(0x91a6, 0x843e, 0x9770, 0x666e, 0x7b2a, 0xf23b, 0x0, 0x1);
        gbc.writeMem(0x91a6, { 0x34 });
        gbc.writeMem(0xf23b, { 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x843e);
        EXPECT(gbc.pc(), 0x91a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91a6), 0x34);
        EXPECT(gbc.readMem(0xf23b), 0xed);
        // 34 0153
        gbc.setState(0x41b3, 0xcb50, 0xca20, 0x1e3b, 0x955f, 0x9951, 0x1, 0x1);
        gbc.writeMem(0x41b3, { 0x34 });
        gbc.writeMem(0x9951, { 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xcb50);
        EXPECT(gbc.pc(), 0x41b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9951), 0x1b);
        // 34 0154
        gbc.setState(0x2d7b, 0x4d56, 0xe0e0, 0x3c9a, 0xfe08, 0xc0aa, 0x0, 0x1);
        gbc.writeMem(0x2d7b, { 0x34 });
        gbc.writeMem(0xc0aa, { 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x4d56);
        EXPECT(gbc.pc(), 0x2d7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0aa), 0x8c);
        // 34 0155
        gbc.setState(0x560b, 0xc657, 0x43e0, 0xee, 0x8bef, 0xd232, 0x0, 0x1);
        gbc.writeMem(0x560b, { 0x34 });
        gbc.writeMem(0xd232, { 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xc657);
        EXPECT(gbc.pc(), 0x560c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd232), 0xb2);
        // 34 0156
        gbc.setState(0xc60a, 0x3717, 0x55e0, 0xed41, 0xba3b, 0xa008, 0x1, 0x0);
        gbc.writeMem(0xa008, { 0xe0 });
        gbc.writeMem(0xc60a, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x3717);
        EXPECT(gbc.pc(), 0xc60b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa008), 0xe1);
        EXPECT(gbc.readMem(0xc60a), 0x34);
        // 34 0157
        gbc.setState(0x22f3, 0xab24, 0xce10, 0xf173, 0x2917, 0x9c81, 0x1, 0x1);
        gbc.writeMem(0x22f3, { 0x34 });
        gbc.writeMem(0x9c81, { 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xab24);
        EXPECT(gbc.pc(), 0x22f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c81), 0x75);
        // 34 0158
        gbc.setState(0x7fc6, 0xf179, 0x3d80, 0x12e1, 0x67af, 0xbd32, 0x1, 0x0);
        gbc.writeMem(0x7fc6, { 0x34 });
        gbc.writeMem(0xbd32, { 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xf179);
        EXPECT(gbc.pc(), 0x7fc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd32), 0xf2);
        // 34 015A
        gbc.setState(0xc80e, 0xfda5, 0x6320, 0xf96a, 0x1e88, 0xc337, 0x0, 0x0);
        gbc.writeMem(0xc337, { 0xa });
        gbc.writeMem(0xc80e, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xfda5);
        EXPECT(gbc.pc(), 0xc80f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc337), 0xb);
        EXPECT(gbc.readMem(0xc80e), 0x34);
        // 34 015C
        gbc.setState(0xa27a, 0xb946, 0x370, 0x6254, 0x8447, 0xc493, 0x0, 0x0);
        gbc.writeMem(0xa27a, { 0x34 });
        gbc.writeMem(0xc493, { 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xb946);
        EXPECT(gbc.pc(), 0xa27b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa27a), 0x34);
        EXPECT(gbc.readMem(0xc493), 0xd3);
        // 34 0160
        gbc.setState(0xa555, 0x87c8, 0xa980, 0xe32c, 0x128b, 0xddf4, 0x1, 0x0);
        gbc.writeMem(0xa555, { 0x34 });
        gbc.writeMem(0xddf4, { 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x87c8);
        EXPECT(gbc.pc(), 0xa556);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa555), 0x34);
        EXPECT(gbc.readMem(0xddf4), 0x3b);
        // 34 0161
        gbc.setState(0x7764, 0x3d04, 0xaa60, 0x5523, 0x22cb, 0x90ce, 0x1, 0x0);
        gbc.writeMem(0x7764, { 0x34 });
        gbc.writeMem(0x90ce, { 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x3d04);
        EXPECT(gbc.pc(), 0x7765);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90ce), 0xd);
        // 34 0167
        gbc.setState(0x6e2e, 0x6cf, 0x66e0, 0x4838, 0x4237, 0xca8a, 0x0, 0x1);
        gbc.writeMem(0x6e2e, { 0x34 });
        gbc.writeMem(0xca8a, { 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x6cf);
        EXPECT(gbc.pc(), 0x6e2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca8a), 0x9c);
        // 34 0168
        gbc.setState(0xb1fe, 0xc338, 0xd4e0, 0x9b8, 0x43d8, 0xca82, 0x0, 0x0);
        gbc.writeMem(0xb1fe, { 0x34 });
        gbc.writeMem(0xca82, { 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xc338);
        EXPECT(gbc.pc(), 0xb1ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1fe), 0x34);
        EXPECT(gbc.readMem(0xca82), 0xdd);
        // 34 0169
        gbc.setState(0xa649, 0x7b71, 0xda50, 0x962d, 0xe702, 0x9610, 0x0, 0x1);
        gbc.writeMem(0x9610, { 0x37 });
        gbc.writeMem(0xa649, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x7b71);
        EXPECT(gbc.pc(), 0xa64a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9610), 0x38);
        EXPECT(gbc.readMem(0xa649), 0x34);
        // 34 016B
        gbc.setState(0x6381, 0xb301, 0xafc0, 0x2179, 0x5545, 0xf79b, 0x1, 0x0);
        gbc.writeMem(0x6381, { 0x34 });
        gbc.writeMem(0xf79b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xb301);
        EXPECT(gbc.pc(), 0x6382);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf79b), 0x25);
        // 34 016E
        gbc.setState(0x5bd8, 0x3299, 0x5510, 0xa26b, 0xe2bd, 0xe2db, 0x0, 0x0);
        gbc.writeMem(0x5bd8, { 0x34 });
        gbc.writeMem(0xe2db, { 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x3299);
        EXPECT(gbc.pc(), 0x5bd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2db), 0xfe);
        // 34 0170
        gbc.setState(0x1874, 0x30e3, 0x2ef0, 0xe94e, 0x14d8, 0xe653, 0x0, 0x1);
        gbc.writeMem(0x1874, { 0x34 });
        gbc.writeMem(0xe653, { 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x30e3);
        EXPECT(gbc.pc(), 0x1875);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe653), 0x37);
        // 34 0171
        gbc.setState(0x28bb, 0x2a18, 0xd8d0, 0xd81f, 0x9578, 0xc2a3, 0x0, 0x0);
        gbc.writeMem(0x28bb, { 0x34 });
        gbc.writeMem(0xc2a3, { 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x2a18);
        EXPECT(gbc.pc(), 0x28bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2a3), 0x87);
        // 34 0175
        gbc.setState(0x2972, 0x3480, 0x4ca0, 0x3d55, 0x6db3, 0xe430, 0x1, 0x1);
        gbc.writeMem(0x2972, { 0x34 });
        gbc.writeMem(0xe430, { 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x3480);
        EXPECT(gbc.pc(), 0x2973);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe430), 0x3c);
        // 34 017B
        gbc.setState(0xcd8e, 0x9cbe, 0x7800, 0xe165, 0x8b3f, 0x87d1, 0x1, 0x0);
        gbc.writeMem(0x87d1, { 0x32 });
        gbc.writeMem(0xcd8e, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x9cbe);
        EXPECT(gbc.pc(), 0xcd8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87d1), 0x33);
        EXPECT(gbc.readMem(0xcd8e), 0x34);
        // 34 017C
        gbc.setState(0x54c2, 0xb719, 0x2cd0, 0xa2e2, 0x8cad, 0xf4ba, 0x0, 0x1);
        gbc.writeMem(0x54c2, { 0x34 });
        gbc.writeMem(0xf4ba, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xb719);
        EXPECT(gbc.pc(), 0x54c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf4ba), 0xa1);
        // 34 017E
        gbc.setState(0xca4e, 0xd9e2, 0xf210, 0x4ed, 0x9588, 0x8841, 0x0, 0x0);
        gbc.writeMem(0x8841, { 0xff });
        gbc.writeMem(0xca4e, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xd9e2);
        EXPECT(gbc.pc(), 0xca4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8841), 0x0);
        EXPECT(gbc.readMem(0xca4e), 0x34);
        // 34 0182
        gbc.setState(0x8f03, 0x2781, 0xcb0, 0x6811, 0xc898, 0x92ae, 0x1, 0x0);
        gbc.writeMem(0x8f03, { 0x34 });
        gbc.writeMem(0x92ae, { 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x2781);
        EXPECT(gbc.pc(), 0x8f04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f03), 0x34);
        EXPECT(gbc.readMem(0x92ae), 0x14);
        // 34 0188
        gbc.setState(0x2892, 0x659c, 0xb720, 0xc9b0, 0x89a9, 0xb00a, 0x0, 0x0);
        gbc.writeMem(0x2892, { 0x34 });
        gbc.writeMem(0xb00a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x659c);
        EXPECT(gbc.pc(), 0x2893);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb00a), 0x38);
        // 34 018A
        gbc.setState(0xc229, 0x31ed, 0x3c20, 0x7589, 0xa52c, 0xd5b6, 0x0, 0x0);
        gbc.writeMem(0xc229, { 0x34 });
        gbc.writeMem(0xd5b6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x31ed);
        EXPECT(gbc.pc(), 0xc22a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc229), 0x34);
        EXPECT(gbc.readMem(0xd5b6), 0x90);
        // 34 018B
        gbc.setState(0xe3eb, 0x75c4, 0x7f80, 0xdeee, 0xd1f1, 0xd6e0, 0x0, 0x1);
        gbc.writeMem(0xd6e0, { 0x60 });
        gbc.writeMem(0xe3eb, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x75c4);
        EXPECT(gbc.pc(), 0xe3ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6e0), 0x61);
        EXPECT(gbc.readMem(0xe3eb), 0x34);
        // 34 018F
        gbc.setState(0x987e, 0x12b9, 0x3560, 0xfbfc, 0xdfa2, 0xb5b7, 0x1, 0x1);
        gbc.writeMem(0x987e, { 0x34 });
        gbc.writeMem(0xb5b7, { 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x12b9);
        EXPECT(gbc.pc(), 0x987f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x987e), 0x34);
        EXPECT(gbc.readMem(0xb5b7), 0xca);
        // 34 0190
        gbc.setState(0x9888, 0x5082, 0x4c50, 0xca3, 0x31d4, 0xd02c, 0x0, 0x0);
        gbc.writeMem(0x9888, { 0x34 });
        gbc.writeMem(0xd02c, { 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x5082);
        EXPECT(gbc.pc(), 0x9889);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9888), 0x34);
        EXPECT(gbc.readMem(0xd02c), 0x9e);
        // 34 0191
        gbc.setState(0x90f9, 0x7b54, 0x5920, 0xbd30, 0xbe2e, 0x8b67, 0x0, 0x0);
        gbc.writeMem(0x8b67, { 0xb });
        gbc.writeMem(0x90f9, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x7b54);
        EXPECT(gbc.pc(), 0x90fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b67), 0xc);
        EXPECT(gbc.readMem(0x90f9), 0x34);
        // 34 0193
        gbc.setState(0x91a, 0xa63c, 0x29f0, 0x37cb, 0x8cf5, 0xc335, 0x1, 0x0);
        gbc.writeMem(0x91a, { 0x34 });
        gbc.writeMem(0xc335, { 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xa63c);
        EXPECT(gbc.pc(), 0x91b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc335), 0xd2);
        // 34 0197
        gbc.setState(0x4f77, 0x1c13, 0x2a50, 0xa1ab, 0xa40, 0xa2ed, 0x1, 0x0);
        gbc.writeMem(0x4f77, { 0x34 });
        gbc.writeMem(0xa2ed, { 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x1c13);
        EXPECT(gbc.pc(), 0x4f78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2ed), 0x5b);
        // 34 0199
        gbc.setState(0x614a, 0xc872, 0x2dc0, 0x2e4e, 0x3197, 0xa03c, 0x0, 0x0);
        gbc.writeMem(0x614a, { 0x34 });
        gbc.writeMem(0xa03c, { 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xc872);
        EXPECT(gbc.pc(), 0x614b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa03c), 0xe0);
        // 34 019A
        gbc.setState(0x6b0b, 0x6b3b, 0xa460, 0x6e3a, 0xb8d3, 0xa62c, 0x0, 0x0);
        gbc.writeMem(0x6b0b, { 0x34 });
        gbc.writeMem(0xa62c, { 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x6b3b);
        EXPECT(gbc.pc(), 0x6b0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa62c), 0xd2);
        // 34 019D
        gbc.setState(0xbd66, 0x318e, 0x8750, 0x177, 0x1000, 0xc768, 0x0, 0x0);
        gbc.writeMem(0xbd66, { 0x34 });
        gbc.writeMem(0xc768, { 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x318e);
        EXPECT(gbc.pc(), 0xbd67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd66), 0x34);
        EXPECT(gbc.readMem(0xc768), 0xa2);
        // 34 019E
        gbc.setState(0x5f25, 0x3309, 0x48e0, 0x9f73, 0xc9ec, 0xb5d4, 0x0, 0x1);
        gbc.writeMem(0x5f25, { 0x34 });
        gbc.writeMem(0xb5d4, { 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x3309);
        EXPECT(gbc.pc(), 0x5f26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5d4), 0x9a);
        // 34 019F
        gbc.setState(0xb52b, 0xd0d4, 0xfc60, 0xd682, 0x34c1, 0xfb70, 0x0, 0x0);
        gbc.writeMem(0xb52b, { 0x34 });
        gbc.writeMem(0xfb70, { 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xd0d4);
        EXPECT(gbc.pc(), 0xb52c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb52b), 0x34);
        EXPECT(gbc.readMem(0xfb70), 0x4c);
        // 34 01A2
        gbc.setState(0x65c8, 0xfb12, 0x2410, 0xa789, 0x626, 0xa3f0, 0x1, 0x1);
        gbc.writeMem(0x65c8, { 0x34 });
        gbc.writeMem(0xa3f0, { 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xfb12);
        EXPECT(gbc.pc(), 0x65c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3f0), 0x5f);
        // 34 01A4
        gbc.setState(0x1ac8, 0x69f2, 0xcf30, 0x4346, 0xd0ba, 0xed59, 0x0, 0x1);
        gbc.writeMem(0x1ac8, { 0x34 });
        gbc.writeMem(0xed59, { 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x69f2);
        EXPECT(gbc.pc(), 0x1ac9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed59), 0x19);
        // 34 01A6
        gbc.setState(0xa384, 0x1455, 0x230, 0xdd72, 0xef7, 0x8eba, 0x0, 0x1);
        gbc.writeMem(0x8eba, { 0xba });
        gbc.writeMem(0xa384, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x1455);
        EXPECT(gbc.pc(), 0xa385);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8eba), 0xbb);
        EXPECT(gbc.readMem(0xa384), 0x34);
        // 34 01A7
        gbc.setState(0xbb7d, 0x1a89, 0x850, 0xbeaf, 0xcd46, 0x9407, 0x1, 0x1);
        gbc.writeMem(0x9407, { 0x2c });
        gbc.writeMem(0xbb7d, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x1a89);
        EXPECT(gbc.pc(), 0xbb7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9407), 0x2d);
        EXPECT(gbc.readMem(0xbb7d), 0x34);
        // 34 01A8
        gbc.setState(0x377d, 0xf292, 0xa920, 0x842c, 0xa734, 0x8abb, 0x1, 0x0);
        gbc.writeMem(0x377d, { 0x34 });
        gbc.writeMem(0x8abb, { 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xf292);
        EXPECT(gbc.pc(), 0x377e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8abb), 0xfa);
        // 34 01A9
        gbc.setState(0xedae, 0x27df, 0x89d0, 0x61bc, 0x200e, 0xa269, 0x0, 0x1);
        gbc.writeMem(0xa269, { 0x4d });
        gbc.writeMem(0xedae, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x27df);
        EXPECT(gbc.pc(), 0xedaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa269), 0x4e);
        EXPECT(gbc.readMem(0xedae), 0x34);
        // 34 01AA
        gbc.setState(0xbd3, 0x9e43, 0xe0a0, 0x19e4, 0x547a, 0x8d23, 0x0, 0x1);
        gbc.writeMem(0xbd3, { 0x34 });
        gbc.writeMem(0x8d23, { 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x9e43);
        EXPECT(gbc.pc(), 0xbd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d23), 0xd3);
        // 34 01AE
        gbc.setState(0xaf34, 0x15a8, 0x8480, 0x30c3, 0xabb4, 0xa3b2, 0x0, 0x1);
        gbc.writeMem(0xa3b2, { 0x98 });
        gbc.writeMem(0xaf34, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x15a8);
        EXPECT(gbc.pc(), 0xaf35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3b2), 0x99);
        EXPECT(gbc.readMem(0xaf34), 0x34);
        // 34 01AF
        gbc.setState(0x39e3, 0x53b1, 0xa0c0, 0xe69b, 0x72e4, 0xf8f1, 0x1, 0x1);
        gbc.writeMem(0x39e3, { 0x34 });
        gbc.writeMem(0xf8f1, { 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x53b1);
        EXPECT(gbc.pc(), 0x39e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf8f1), 0xda);
        // 34 01B2
        gbc.setState(0xdf2f, 0xc886, 0x4930, 0x4388, 0xcff7, 0x9205, 0x0, 0x1);
        gbc.writeMem(0x9205, { 0x6e });
        gbc.writeMem(0xdf2f, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xc886);
        EXPECT(gbc.pc(), 0xdf30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9205), 0x6f);
        EXPECT(gbc.readMem(0xdf2f), 0x34);
        // 34 01B3
        gbc.setState(0xb059, 0x31eb, 0x4a90, 0xc1fd, 0x3e37, 0x8ae1, 0x0, 0x1);
        gbc.writeMem(0x8ae1, { 0x81 });
        gbc.writeMem(0xb059, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x31eb);
        EXPECT(gbc.pc(), 0xb05a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ae1), 0x82);
        EXPECT(gbc.readMem(0xb059), 0x34);
        // 34 01B4
        gbc.setState(0xd33f, 0xb48c, 0xb6d0, 0xd13a, 0x80ca, 0xf47e, 0x0, 0x1);
        gbc.writeMem(0xd33f, { 0x34 });
        gbc.writeMem(0xf47e, { 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xb48c);
        EXPECT(gbc.pc(), 0xd340);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd33f), 0x34);
        EXPECT(gbc.readMem(0xf47e), 0xaf);
        // 34 01B5
        gbc.setState(0x6896, 0x9fa0, 0x6320, 0x13c0, 0x8302, 0xae86, 0x1, 0x1);
        gbc.writeMem(0x6896, { 0x34 });
        gbc.writeMem(0xae86, { 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x9fa0);
        EXPECT(gbc.pc(), 0x6897);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae86), 0x75);
        // 34 01B6
        gbc.setState(0xb64, 0x3970, 0x65a0, 0xb2ed, 0xc964, 0xcc21, 0x0, 0x1);
        gbc.writeMem(0xb64, { 0x34 });
        gbc.writeMem(0xcc21, { 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x3970);
        EXPECT(gbc.pc(), 0xb65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc21), 0x9b);
        // 34 01B7
        gbc.setState(0x6214, 0x5792, 0x7660, 0xaf6a, 0x8cbe, 0xf420, 0x1, 0x1);
        gbc.writeMem(0x6214, { 0x34 });
        gbc.writeMem(0xf420, { 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x5792);
        EXPECT(gbc.pc(), 0x6215);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf420), 0x32);
        // 34 01B8
        gbc.setState(0xddcd, 0xfba4, 0x55d0, 0x30fd, 0xe77b, 0xf6e1, 0x0, 0x0);
        gbc.writeMem(0xddcd, { 0x34 });
        gbc.writeMem(0xf6e1, { 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xfba4);
        EXPECT(gbc.pc(), 0xddce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddcd), 0x34);
        EXPECT(gbc.readMem(0xf6e1), 0x59);
        // 34 01B9
        gbc.setState(0x18d2, 0x1112, 0x5850, 0x146e, 0xa359, 0xda3a, 0x0, 0x0);
        gbc.writeMem(0x18d2, { 0x34 });
        gbc.writeMem(0xda3a, { 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x1112);
        EXPECT(gbc.pc(), 0x18d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda3a), 0x69);
        // 34 01BA
        gbc.setState(0xbb8f, 0x8dfd, 0x34d0, 0x9d54, 0xf41c, 0xea44, 0x1, 0x0);
        gbc.writeMem(0xbb8f, { 0x34 });
        gbc.writeMem(0xea44, { 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x8dfd);
        EXPECT(gbc.pc(), 0xbb90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb8f), 0x34);
        EXPECT(gbc.readMem(0xea44), 0xf2);
        // 34 01BC
        gbc.setState(0x37d9, 0x843d, 0xb6d0, 0x2353, 0x74fa, 0x886a, 0x1, 0x0);
        gbc.writeMem(0x37d9, { 0x34 });
        gbc.writeMem(0x886a, { 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x843d);
        EXPECT(gbc.pc(), 0x37da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x886a), 0xea);
        // 34 01BD
        gbc.setState(0x7acf, 0x3e3a, 0xe950, 0x657d, 0x1d91, 0xf886, 0x1, 0x0);
        gbc.writeMem(0x7acf, { 0x34 });
        gbc.writeMem(0xf886, { 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x3e3a);
        EXPECT(gbc.pc(), 0x7ad0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf886), 0x85);
        // 34 01BE
        gbc.setState(0x21bd, 0x987f, 0x4d0, 0x1c8b, 0x834a, 0xcf47, 0x0, 0x1);
        gbc.writeMem(0x21bd, { 0x34 });
        gbc.writeMem(0xcf47, { 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x987f);
        EXPECT(gbc.pc(), 0x21be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf47), 0xfc);
        // 34 01C2
        gbc.setState(0x9155, 0x4a58, 0x1f00, 0x46fb, 0xd373, 0xa770, 0x1, 0x1);
        gbc.writeMem(0x9155, { 0x34 });
        gbc.writeMem(0xa770, { 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x4a58);
        EXPECT(gbc.pc(), 0x9156);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9155), 0x34);
        EXPECT(gbc.readMem(0xa770), 0x6a);
        // 34 01C4
        gbc.setState(0x7527, 0x6d14, 0x840, 0x6327, 0x5402, 0x8568, 0x1, 0x0);
        gbc.writeMem(0x7527, { 0x34 });
        gbc.writeMem(0x8568, { 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x6d14);
        EXPECT(gbc.pc(), 0x7528);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8568), 0x24);
        // 34 01C5
        gbc.setState(0xa96e, 0xdb83, 0xa420, 0xaa70, 0xfe33, 0xb02a, 0x1, 0x0);
        gbc.writeMem(0xa96e, { 0x34 });
        gbc.writeMem(0xb02a, { 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xdb83);
        EXPECT(gbc.pc(), 0xa96f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa96e), 0x34);
        EXPECT(gbc.readMem(0xb02a), 0x2a);
        // 34 01C6
        gbc.setState(0x8f00, 0x26bb, 0x5400, 0x2af0, 0x1a91, 0x868f, 0x1, 0x1);
        gbc.writeMem(0x868f, { 0xb });
        gbc.writeMem(0x8f00, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x26bb);
        EXPECT(gbc.pc(), 0x8f01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x868f), 0xc);
        EXPECT(gbc.readMem(0x8f00), 0x34);
        // 34 01C7
        gbc.setState(0x322f, 0xf857, 0xf150, 0x5578, 0x53c5, 0xf5fb, 0x0, 0x1);
        gbc.writeMem(0x322f, { 0x34 });
        gbc.writeMem(0xf5fb, { 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xf857);
        EXPECT(gbc.pc(), 0x3230);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf5fb), 0x14);
        // 34 01C9
        gbc.setState(0xe395, 0x1206, 0x3050, 0xe95a, 0x5693, 0x8c29, 0x1, 0x0);
        gbc.writeMem(0x8c29, { 0xd9 });
        gbc.writeMem(0xe395, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x1206);
        EXPECT(gbc.pc(), 0xe396);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c29), 0xda);
        EXPECT(gbc.readMem(0xe395), 0x34);
        // 34 01CC
        gbc.setState(0x6d20, 0x505d, 0x8000, 0x2f3e, 0x2384, 0x9ae8, 0x0, 0x0);
        gbc.writeMem(0x6d20, { 0x34 });
        gbc.writeMem(0x9ae8, { 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x505d);
        EXPECT(gbc.pc(), 0x6d21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ae8), 0xbd);
        // 34 01CD
        gbc.setState(0x348a, 0x605a, 0x8d60, 0xaec, 0x2ac6, 0x82ad, 0x1, 0x1);
        gbc.writeMem(0x348a, { 0x34 });
        gbc.writeMem(0x82ad, { 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x605a);
        EXPECT(gbc.pc(), 0x348b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82ad), 0xf0);
        // 34 01D0
        gbc.setState(0xe176, 0x4cba, 0x5ef0, 0xcb9a, 0x87a5, 0xc577, 0x1, 0x0);
        gbc.writeMem(0xc577, { 0x9a });
        gbc.writeMem(0xe176, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x4cba);
        EXPECT(gbc.pc(), 0xe177);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc577), 0x9b);
        EXPECT(gbc.readMem(0xe176), 0x34);
        // 34 01D1
        gbc.setState(0x20c1, 0xd9db, 0x8bd0, 0x390f, 0x6947, 0x838e, 0x1, 0x0);
        gbc.writeMem(0x20c1, { 0x34 });
        gbc.writeMem(0x838e, { 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xd9db);
        EXPECT(gbc.pc(), 0x20c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x838e), 0x17);
        // 34 01D3
        gbc.setState(0x2816, 0x260d, 0xc4b0, 0x6652, 0x20bc, 0x8a56, 0x1, 0x1);
        gbc.writeMem(0x2816, { 0x34 });
        gbc.writeMem(0x8a56, { 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x260d);
        EXPECT(gbc.pc(), 0x2817);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a56), 0x95);
        // 34 01D6
        gbc.setState(0xbdc0, 0x4048, 0x23f0, 0x3f87, 0x1a1a, 0xdc25, 0x1, 0x0);
        gbc.writeMem(0xbdc0, { 0x34 });
        gbc.writeMem(0xdc25, { 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x4048);
        EXPECT(gbc.pc(), 0xbdc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdc0), 0x34);
        EXPECT(gbc.readMem(0xdc25), 0x59);
        // 34 01D8
        gbc.setState(0x952f, 0x11c6, 0x82b0, 0x6e07, 0xc6a3, 0xa635, 0x1, 0x0);
        gbc.writeMem(0x952f, { 0x34 });
        gbc.writeMem(0xa635, { 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x11c6);
        EXPECT(gbc.pc(), 0x9530);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x952f), 0x34);
        EXPECT(gbc.readMem(0xa635), 0x80);
        // 34 01D9
        gbc.setState(0x90d0, 0x7264, 0x9e00, 0x3699, 0xd862, 0x9128, 0x0, 0x0);
        gbc.writeMem(0x90d0, { 0x34 });
        gbc.writeMem(0x9128, { 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x7264);
        EXPECT(gbc.pc(), 0x90d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90d0), 0x34);
        EXPECT(gbc.readMem(0x9128), 0xb6);
        // 34 01DE
        gbc.setState(0x4829, 0x8faa, 0xfb50, 0xba2a, 0x7d9b, 0x9ba5, 0x1, 0x0);
        gbc.writeMem(0x4829, { 0x34 });
        gbc.writeMem(0x9ba5, { 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x8faa);
        EXPECT(gbc.pc(), 0x482a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ba5), 0x5a);
        // 34 01DF
        gbc.setState(0x8503, 0x988d, 0xbe50, 0xbf83, 0x4030, 0xfcb0, 0x0, 0x0);
        gbc.writeMem(0x8503, { 0x34 });
        gbc.writeMem(0xfcb0, { 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x988d);
        EXPECT(gbc.pc(), 0x8504);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8503), 0x34);
        EXPECT(gbc.readMem(0xfcb0), 0x88);
        // 34 01E0
        gbc.setState(0x6014, 0x7a27, 0xef00, 0x1ed7, 0xfff0, 0xbc4c, 0x1, 0x0);
        gbc.writeMem(0x6014, { 0x34 });
        gbc.writeMem(0xbc4c, { 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x7a27);
        EXPECT(gbc.pc(), 0x6015);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc4c), 0xde);
        // 34 01E1
        gbc.setState(0x7f6d, 0xff4c, 0xff50, 0x1539, 0x8f3c, 0x8b68, 0x1, 0x0);
        gbc.writeMem(0x7f6d, { 0x34 });
        gbc.writeMem(0x8b68, { 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xff4c);
        EXPECT(gbc.pc(), 0x7f6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b68), 0x2);
        // 34 01E4
        gbc.setState(0x6fc6, 0x9db7, 0x8170, 0x6127, 0xb8f1, 0xf5c0, 0x0, 0x1);
        gbc.writeMem(0x6fc6, { 0x34 });
        gbc.writeMem(0xf5c0, { 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x9db7);
        EXPECT(gbc.pc(), 0x6fc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf5c0), 0x3e);
        // 34 01E5
        gbc.setState(0xa115, 0x4677, 0x9360, 0x6007, 0x5026, 0xc60a, 0x0, 0x1);
        gbc.writeMem(0xa115, { 0x34 });
        gbc.writeMem(0xc60a, { 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x4677);
        EXPECT(gbc.pc(), 0xa116);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa115), 0x34);
        EXPECT(gbc.readMem(0xc60a), 0xa2);
        // 34 01E6
        gbc.setState(0x620e, 0x1584, 0xeb0, 0x4530, 0xdce2, 0xc3de, 0x1, 0x1);
        gbc.writeMem(0x620e, { 0x34 });
        gbc.writeMem(0xc3de, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x1584);
        EXPECT(gbc.pc(), 0x620f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3de), 0x2e);
        // 34 01E7
        gbc.setState(0x35da, 0x7de6, 0xa720, 0x12e7, 0x28af, 0xfd7d, 0x0, 0x0);
        gbc.writeMem(0x35da, { 0x34 });
        gbc.writeMem(0xfd7d, { 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x7de6);
        EXPECT(gbc.pc(), 0x35db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfd7d), 0x8f);
        // 34 01E8
        gbc.setState(0x6f9c, 0x81cd, 0x8180, 0xb3de, 0x5514, 0x88d1, 0x0, 0x0);
        gbc.writeMem(0x6f9c, { 0x34 });
        gbc.writeMem(0x88d1, { 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x81cd);
        EXPECT(gbc.pc(), 0x6f9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88d1), 0xd5);
        // 34 01EA
        gbc.setState(0xa937, 0x9f88, 0x49f0, 0xfdb5, 0x95bd, 0x8d5e, 0x0, 0x0);
        gbc.writeMem(0x8d5e, { 0x17 });
        gbc.writeMem(0xa937, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x9f88);
        EXPECT(gbc.pc(), 0xa938);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d5e), 0x18);
        EXPECT(gbc.readMem(0xa937), 0x34);
        // 34 01EC
        gbc.setState(0x92e3, 0x8699, 0xef50, 0xd2d8, 0x275d, 0xa75b, 0x1, 0x0);
        gbc.writeMem(0x92e3, { 0x34 });
        gbc.writeMem(0xa75b, { 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x8699);
        EXPECT(gbc.pc(), 0x92e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92e3), 0x34);
        EXPECT(gbc.readMem(0xa75b), 0xf7);
        // 34 01EE
        gbc.setState(0x9a4, 0x9a10, 0xda10, 0x1326, 0x2c42, 0xa887, 0x1, 0x0);
        gbc.writeMem(0x9a4, { 0x34 });
        gbc.writeMem(0xa887, { 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x9a10);
        EXPECT(gbc.pc(), 0x9a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa887), 0xb);
        // 34 01EF
        gbc.setState(0xbd81, 0xcd03, 0xe060, 0x5b3, 0xe698, 0x9310, 0x1, 0x0);
        gbc.writeMem(0x9310, { 0x75 });
        gbc.writeMem(0xbd81, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xcd03);
        EXPECT(gbc.pc(), 0xbd82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9310), 0x76);
        EXPECT(gbc.readMem(0xbd81), 0x34);
        // 34 01F2
        gbc.setState(0x562d, 0x5a1e, 0xbcd0, 0x5f28, 0x14c5, 0xe309, 0x1, 0x0);
        gbc.writeMem(0x562d, { 0x34 });
        gbc.writeMem(0xe309, { 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x5a1e);
        EXPECT(gbc.pc(), 0x562e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe309), 0x5f);
        // 34 01F3
        gbc.setState(0x68ac, 0x342e, 0xd8e0, 0xff5c, 0x110e, 0xd261, 0x0, 0x0);
        gbc.writeMem(0x68ac, { 0x34 });
        gbc.writeMem(0xd261, { 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x342e);
        EXPECT(gbc.pc(), 0x68ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd261), 0x61);
        // 34 01F5
        gbc.setState(0xbc8e, 0x35fe, 0xd570, 0x9921, 0x9bab, 0xe000, 0x0, 0x1);
        gbc.writeMem(0xbc8e, { 0x34 });
        gbc.writeMem(0xe000, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x35fe);
        EXPECT(gbc.pc(), 0xbc8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc8e), 0x34);
        EXPECT(gbc.readMem(0xe000), 0x18);
        // 34 01F6
        gbc.setState(0xe678, 0x4b37, 0xe980, 0xe4be, 0x8d22, 0xcfeb, 0x1, 0x1);
        gbc.writeMem(0xcfeb, { 0x30 });
        gbc.writeMem(0xe678, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x4b37);
        EXPECT(gbc.pc(), 0xe679);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfeb), 0x31);
        EXPECT(gbc.readMem(0xe678), 0x34);
        // 34 01F8
        gbc.setState(0xacdc, 0x96cb, 0xb7b0, 0x8ea0, 0xc9ef, 0xede3, 0x1, 0x1);
        gbc.writeMem(0xacdc, { 0x34 });
        gbc.writeMem(0xede3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x96cb);
        EXPECT(gbc.pc(), 0xacdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacdc), 0x34);
        EXPECT(gbc.readMem(0xede3), 0x89);
        // 34 01FA
        gbc.setState(0xb9a0, 0x7194, 0xff0, 0x59cb, 0x2fb9, 0xac80, 0x0, 0x0);
        gbc.writeMem(0xac80, { 0xd5 });
        gbc.writeMem(0xb9a0, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x7194);
        EXPECT(gbc.pc(), 0xb9a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac80), 0xd6);
        EXPECT(gbc.readMem(0xb9a0), 0x34);
        // 34 01FC
        gbc.setState(0xbd7c, 0x2260, 0x2520, 0xdc21, 0xde31, 0xed25, 0x1, 0x1);
        gbc.writeMem(0xbd7c, { 0x34 });
        gbc.writeMem(0xed25, { 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x2260);
        EXPECT(gbc.pc(), 0xbd7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd7c), 0x34);
        EXPECT(gbc.readMem(0xed25), 0xa7);
        // 34 01FD
        gbc.setState(0x2894, 0xf943, 0xae40, 0xf7b6, 0x13be, 0xbff6, 0x1, 0x0);
        gbc.writeMem(0x2894, { 0x34 });
        gbc.writeMem(0xbff6, { 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xf943);
        EXPECT(gbc.pc(), 0x2895);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbff6), 0x63);
        // 34 01FF
        gbc.setState(0xb8f9, 0x7fc3, 0x8040, 0xf4af, 0x4cf3, 0x83da, 0x0, 0x1);
        gbc.writeMem(0x83da, { 0x20 });
        gbc.writeMem(0xb8f9, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x7fc3);
        EXPECT(gbc.pc(), 0xb8fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83da), 0x21);
        EXPECT(gbc.readMem(0xb8f9), 0x34);
        // 34 0202
        gbc.setState(0xcd58, 0xbca4, 0xbbf0, 0xb76e, 0x1cf7, 0xe4ab, 0x1, 0x0);
        gbc.writeMem(0xcd58, { 0x34 });
        gbc.writeMem(0xe4ab, { 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xbca4);
        EXPECT(gbc.pc(), 0xcd59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd58), 0x34);
        EXPECT(gbc.readMem(0xe4ab), 0x84);
        // 34 0203
        gbc.setState(0x540c, 0xc0e7, 0xaed0, 0xf17, 0xefe4, 0xbf44, 0x0, 0x0);
        gbc.writeMem(0x540c, { 0x34 });
        gbc.writeMem(0xbf44, { 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xc0e7);
        EXPECT(gbc.pc(), 0x540d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf44), 0x54);
        // 34 0205
        gbc.setState(0x9120, 0x592a, 0x7a30, 0x4ea8, 0xd0e6, 0xaf73, 0x1, 0x1);
        gbc.writeMem(0x9120, { 0x34 });
        gbc.writeMem(0xaf73, { 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x592a);
        EXPECT(gbc.pc(), 0x9121);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9120), 0x34);
        EXPECT(gbc.readMem(0xaf73), 0x0);
        // 34 0206
        gbc.setState(0xbb4c, 0x7ad7, 0xd610, 0xd939, 0xab4b, 0xa97c, 0x1, 0x1);
        gbc.writeMem(0xa97c, { 0x6c });
        gbc.writeMem(0xbb4c, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x7ad7);
        EXPECT(gbc.pc(), 0xbb4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa97c), 0x6d);
        EXPECT(gbc.readMem(0xbb4c), 0x34);
        // 34 0207
        gbc.setState(0x293d, 0x48db, 0x8860, 0x79f2, 0xe329, 0xa060, 0x1, 0x0);
        gbc.writeMem(0x293d, { 0x34 });
        gbc.writeMem(0xa060, { 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x48db);
        EXPECT(gbc.pc(), 0x293e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa060), 0x17);
        // 34 0208
        gbc.setState(0xd9a5, 0x52, 0xb4d0, 0x66f1, 0x45ee, 0xeb72, 0x1, 0x0);
        gbc.writeMem(0xd9a5, { 0x34 });
        gbc.writeMem(0xeb72, { 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x52);
        EXPECT(gbc.pc(), 0xd9a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9a5), 0x34);
        EXPECT(gbc.readMem(0xeb72), 0x53);
        // 34 0209
        gbc.setState(0x3699, 0xcb08, 0x6400, 0x6fa, 0xb4f1, 0xaa3e, 0x1, 0x1);
        gbc.writeMem(0x3699, { 0x34 });
        gbc.writeMem(0xaa3e, { 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xcb08);
        EXPECT(gbc.pc(), 0x369a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa3e), 0xa0);
        // 34 020A
        gbc.setState(0x824f, 0x976f, 0x8490, 0x7169, 0xbf3c, 0xe3e9, 0x0, 0x0);
        gbc.writeMem(0x824f, { 0x34 });
        gbc.writeMem(0xe3e9, { 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x976f);
        EXPECT(gbc.pc(), 0x8250);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x824f), 0x34);
        EXPECT(gbc.readMem(0xe3e9), 0x51);
        // 34 020B
        gbc.setState(0x26cc, 0x4c66, 0x96e0, 0x6186, 0x3c8a, 0xa667, 0x0, 0x1);
        gbc.writeMem(0x26cc, { 0x34 });
        gbc.writeMem(0xa667, { 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x4c66);
        EXPECT(gbc.pc(), 0x26cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa667), 0x55);
        // 34 020F
        gbc.setState(0xe225, 0x5050, 0xf5c0, 0x279c, 0xed6, 0xc394, 0x1, 0x1);
        gbc.writeMem(0xc394, { 0xad });
        gbc.writeMem(0xe225, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x5050);
        EXPECT(gbc.pc(), 0xe226);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc394), 0xae);
        EXPECT(gbc.readMem(0xe225), 0x34);
        // 34 0213
        gbc.setState(0xc763, 0x9e87, 0x8f00, 0x770f, 0xd85d, 0x86c3, 0x1, 0x0);
        gbc.writeMem(0x86c3, { 0xbd });
        gbc.writeMem(0xc763, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x9e87);
        EXPECT(gbc.pc(), 0xc764);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86c3), 0xbe);
        EXPECT(gbc.readMem(0xc763), 0x34);
        // 34 0214
        gbc.setState(0xd164, 0x70a8, 0x30e0, 0x5c74, 0x7c25, 0x8d12, 0x0, 0x1);
        gbc.writeMem(0x8d12, { 0x31 });
        gbc.writeMem(0xd164, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x70a8);
        EXPECT(gbc.pc(), 0xd165);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d12), 0x32);
        EXPECT(gbc.readMem(0xd164), 0x34);
        // 34 0215
        gbc.setState(0x7e2a, 0x378, 0xebc0, 0xfb3e, 0x9774, 0xfacd, 0x0, 0x1);
        gbc.writeMem(0x7e2a, { 0x34 });
        gbc.writeMem(0xfacd, { 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x378);
        EXPECT(gbc.pc(), 0x7e2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfacd), 0xff);
        // 34 0217
        gbc.setState(0xefcf, 0x8bdf, 0x1d0, 0x961c, 0xe98b, 0x96c9, 0x0, 0x1);
        gbc.writeMem(0x96c9, { 0xa3 });
        gbc.writeMem(0xefcf, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x8bdf);
        EXPECT(gbc.pc(), 0xefd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96c9), 0xa4);
        EXPECT(gbc.readMem(0xefcf), 0x34);
        // 34 0219
        gbc.setState(0x5c15, 0x29a1, 0x9f70, 0xb900, 0x326c, 0xfa8a, 0x1, 0x0);
        gbc.writeMem(0x5c15, { 0x34 });
        gbc.writeMem(0xfa8a, { 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x29a1);
        EXPECT(gbc.pc(), 0x5c16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xfa8a), 0xe5);
        // 34 021D
        gbc.setState(0xc26, 0x7406, 0xdba0, 0x50f3, 0x8386, 0xb900, 0x1, 0x1);
        gbc.writeMem(0xc26, { 0x34 });
        gbc.writeMem(0xb900, { 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x7406);
        EXPECT(gbc.pc(), 0xc27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb900), 0xf8);
        // 34 0221
        gbc.setState(0x8dfe, 0x6dff, 0xe5e0, 0x667d, 0x947f, 0xe73d, 0x0, 0x0);
        gbc.writeMem(0x8dfe, { 0x34 });
        gbc.writeMem(0xe73d, { 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x6dff);
        EXPECT(gbc.pc(), 0x8dff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dfe), 0x34);
        EXPECT(gbc.readMem(0xe73d), 0x37);
        // 34 0223
        gbc.setState(0x77c5, 0x5f96, 0x4010, 0xec3a, 0x6241, 0xf14c, 0x1, 0x1);
        gbc.writeMem(0x77c5, { 0x34 });
        gbc.writeMem(0xf14c, { 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x5f96);
        EXPECT(gbc.pc(), 0x77c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf14c), 0xf8);
        // 34 0224
        gbc.setState(0xd4b9, 0xf1a9, 0xa4d0, 0x27, 0x7d50, 0xa47d, 0x1, 0x0);
        gbc.writeMem(0xa47d, { 0x86 });
        gbc.writeMem(0xd4b9, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xf1a9);
        EXPECT(gbc.pc(), 0xd4ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa47d), 0x87);
        EXPECT(gbc.readMem(0xd4b9), 0x34);
        // 34 0226
        gbc.setState(0x59f2, 0xf12a, 0x3250, 0xdf98, 0x8ccb, 0xfe8a, 0x1, 0x0);
        gbc.writeMem(0x59f2, { 0x34 });
        gbc.writeMem(0xfe8a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xf12a);
        EXPECT(gbc.pc(), 0x59f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xfe8a), 0x10);
        // 34 0229
        gbc.setState(0x3704, 0x2ce6, 0xbc60, 0xf6d6, 0xeb8c, 0xed6f, 0x0, 0x1);
        gbc.writeMem(0x3704, { 0x34 });
        gbc.writeMem(0xed6f, { 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x2ce6);
        EXPECT(gbc.pc(), 0x3705);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed6f), 0x9b);
        // 34 022D
        gbc.setState(0xc860, 0x2272, 0xd3a0, 0x5697, 0xa7de, 0xc4ee, 0x0, 0x1);
        gbc.writeMem(0xc4ee, { 0x71 });
        gbc.writeMem(0xc860, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x2272);
        EXPECT(gbc.pc(), 0xc861);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4ee), 0x72);
        EXPECT(gbc.readMem(0xc860), 0x34);
        // 34 022F
        gbc.setState(0xc80d, 0xd5bb, 0xcfa0, 0x4cbb, 0xab3f, 0xb809, 0x0, 0x1);
        gbc.writeMem(0xb809, { 0xa6 });
        gbc.writeMem(0xc80d, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xd5bb);
        EXPECT(gbc.pc(), 0xc80e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb809), 0xa7);
        EXPECT(gbc.readMem(0xc80d), 0x34);
        // 34 0232
        gbc.setState(0x7614, 0xcef8, 0x8640, 0xf5d9, 0x4e09, 0xafd4, 0x1, 0x0);
        gbc.writeMem(0x7614, { 0x34 });
        gbc.writeMem(0xafd4, { 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xcef8);
        EXPECT(gbc.pc(), 0x7615);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafd4), 0x79);
        // 34 0237
        gbc.setState(0xd119, 0x96e4, 0x58f0, 0x5c7, 0xf0f7, 0x82e5, 0x0, 0x1);
        gbc.writeMem(0x82e5, { 0x0 });
        gbc.writeMem(0xd119, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x96e4);
        EXPECT(gbc.pc(), 0xd11a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82e5), 0x1);
        EXPECT(gbc.readMem(0xd119), 0x34);
        // 34 0239
        gbc.setState(0xbde2, 0x1489, 0x2f50, 0xbed6, 0xb3bb, 0xe345, 0x1, 0x1);
        gbc.writeMem(0xbde2, { 0x34 });
        gbc.writeMem(0xe345, { 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x1489);
        EXPECT(gbc.pc(), 0xbde3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbde2), 0x34);
        EXPECT(gbc.readMem(0xe345), 0x1b);
        // 34 023B
        gbc.setState(0x211b, 0xc813, 0xdf40, 0xa3b4, 0x4f92, 0x8d9c, 0x0, 0x1);
        gbc.writeMem(0x211b, { 0x34 });
        gbc.writeMem(0x8d9c, { 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xc813);
        EXPECT(gbc.pc(), 0x211c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d9c), 0xac);
        // 34 023E
        gbc.setState(0x2025, 0xebf5, 0xaa80, 0xdb78, 0x84b2, 0xee5b, 0x1, 0x1);
        gbc.writeMem(0x2025, { 0x34 });
        gbc.writeMem(0xee5b, { 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xebf5);
        EXPECT(gbc.pc(), 0x2026);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee5b), 0xa0);
        // 34 0240
        gbc.setState(0x500f, 0xaf53, 0xff80, 0x790, 0xaf90, 0xcd06, 0x1, 0x1);
        gbc.writeMem(0x500f, { 0x34 });
        gbc.writeMem(0xcd06, { 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xaf53);
        EXPECT(gbc.pc(), 0x5010);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd06), 0x1a);
        // 34 0243
        gbc.setState(0xb2be, 0xf263, 0xe080, 0xb0cd, 0x5078, 0x9334, 0x0, 0x0);
        gbc.writeMem(0x9334, { 0x50 });
        gbc.writeMem(0xb2be, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xf263);
        EXPECT(gbc.pc(), 0xb2bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9334), 0x51);
        EXPECT(gbc.readMem(0xb2be), 0x34);
        // 34 0247
        gbc.setState(0x448d, 0xeb49, 0xe340, 0x3e66, 0x3ae6, 0xa99b, 0x1, 0x1);
        gbc.writeMem(0x448d, { 0x34 });
        gbc.writeMem(0xa99b, { 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xeb49);
        EXPECT(gbc.pc(), 0x448e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa99b), 0xed);
        // 34 024A
        gbc.setState(0xea9, 0xd0cf, 0x66d0, 0x594f, 0x6c0a, 0xe4b7, 0x0, 0x0);
        gbc.writeMem(0xea9, { 0x34 });
        gbc.writeMem(0xe4b7, { 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xd0cf);
        EXPECT(gbc.pc(), 0xeaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4b7), 0x47);
        // 34 024B
        gbc.setState(0xd251, 0x9228, 0x20e0, 0x1a9e, 0xf4bf, 0xa49b, 0x0, 0x1);
        gbc.writeMem(0xa49b, { 0x88 });
        gbc.writeMem(0xd251, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x9228);
        EXPECT(gbc.pc(), 0xd252);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa49b), 0x89);
        EXPECT(gbc.readMem(0xd251), 0x34);
        // 34 024C
        gbc.setState(0xdf15, 0x3c80, 0x45d0, 0xddaf, 0xe93d, 0xf822, 0x0, 0x1);
        gbc.writeMem(0xdf15, { 0x34 });
        gbc.writeMem(0xf822, { 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x3c80);
        EXPECT(gbc.pc(), 0xdf16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf15), 0x34);
        EXPECT(gbc.readMem(0xf822), 0x87);
        // 34 024D
        gbc.setState(0xc6ee, 0x7b4, 0x79b0, 0x58ca, 0x3016, 0xb46c, 0x0, 0x0);
        gbc.writeMem(0xb46c, { 0xbb });
        gbc.writeMem(0xc6ee, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x7b4);
        EXPECT(gbc.pc(), 0xc6ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb46c), 0xbc);
        EXPECT(gbc.readMem(0xc6ee), 0x34);
        // 34 024E
        gbc.setState(0xc1aa, 0x667e, 0x6ae0, 0xff3, 0xc3ab, 0xc296, 0x1, 0x1);
        gbc.writeMem(0xc1aa, { 0x34 });
        gbc.writeMem(0xc296, { 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x667e);
        EXPECT(gbc.pc(), 0xc1ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1aa), 0x34);
        EXPECT(gbc.readMem(0xc296), 0x32);
        // 34 0250
        gbc.setState(0x39a2, 0x2902, 0xc7f0, 0x5269, 0x61f4, 0xf9fa, 0x0, 0x1);
        gbc.writeMem(0x39a2, { 0x34 });
        gbc.writeMem(0xf9fa, { 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x2902);
        EXPECT(gbc.pc(), 0x39a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf9fa), 0x4b);
        // 34 0253
        gbc.setState(0xeacd, 0x52e, 0x5280, 0x2298, 0xcdc4, 0xb4d1, 0x0, 0x0);
        gbc.writeMem(0xb4d1, { 0xef });
        gbc.writeMem(0xeacd, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x52e);
        EXPECT(gbc.pc(), 0xeace);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4d1), 0xf0);
        EXPECT(gbc.readMem(0xeacd), 0x34);
        // 34 0255
        gbc.setState(0xbb5e, 0x2955, 0x5af0, 0x8b1f, 0xa967, 0xd1e8, 0x1, 0x1);
        gbc.writeMem(0xbb5e, { 0x34 });
        gbc.writeMem(0xd1e8, { 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x2955);
        EXPECT(gbc.pc(), 0xbb5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb5e), 0x34);
        EXPECT(gbc.readMem(0xd1e8), 0x78);
        // 34 0257
        gbc.setState(0x56c2, 0x6263, 0x8340, 0xdc4e, 0xa6e4, 0xe025, 0x0, 0x1);
        gbc.writeMem(0x56c2, { 0x34 });
        gbc.writeMem(0xe025, { 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x6263);
        EXPECT(gbc.pc(), 0x56c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe025), 0x79);
        // 34 0259
        gbc.setState(0xa83e, 0x9024, 0xc230, 0x7f44, 0xf8e4, 0x9d78, 0x0, 0x1);
        gbc.writeMem(0x9d78, { 0x5 });
        gbc.writeMem(0xa83e, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x9024);
        EXPECT(gbc.pc(), 0xa83f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d78), 0x6);
        EXPECT(gbc.readMem(0xa83e), 0x34);
        // 34 0260
        gbc.setState(0x3221, 0xe919, 0x71e0, 0xf42c, 0xab7a, 0xaaf7, 0x1, 0x1);
        gbc.writeMem(0x3221, { 0x34 });
        gbc.writeMem(0xaaf7, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xe919);
        EXPECT(gbc.pc(), 0x3222);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaf7), 0xba);
        // 34 0265
        gbc.setState(0xe47b, 0xae4e, 0x83a0, 0xd68, 0xe126, 0x9e40, 0x1, 0x1);
        gbc.writeMem(0x9e40, { 0xe7 });
        gbc.writeMem(0xe47b, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xae4e);
        EXPECT(gbc.pc(), 0xe47c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e40), 0xe8);
        EXPECT(gbc.readMem(0xe47b), 0x34);
        // 34 0266
        gbc.setState(0x6332, 0x5241, 0xc000, 0x7780, 0xd80, 0xf928, 0x1, 0x0);
        gbc.writeMem(0x6332, { 0x34 });
        gbc.writeMem(0xf928, { 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x5241);
        EXPECT(gbc.pc(), 0x6333);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf928), 0xd);
        // 34 0269
        gbc.setState(0x930d, 0xaa01, 0xa4f0, 0xf1a8, 0xe2af, 0xd38a, 0x1, 0x0);
        gbc.writeMem(0x930d, { 0x34 });
        gbc.writeMem(0xd38a, { 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xaa01);
        EXPECT(gbc.pc(), 0x930e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x930d), 0x34);
        EXPECT(gbc.readMem(0xd38a), 0xf0);
        // 34 026B
        gbc.setState(0x52a7, 0x55c1, 0x2fb0, 0x1ac4, 0x8b9c, 0xcc06, 0x1, 0x0);
        gbc.writeMem(0x52a7, { 0x34 });
        gbc.writeMem(0xcc06, { 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x55c1);
        EXPECT(gbc.pc(), 0x52a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc06), 0xff);
        // 34 026D
        gbc.setState(0xba94, 0x5026, 0xff80, 0x297, 0x35b, 0xf73a, 0x0, 0x0);
        gbc.writeMem(0xba94, { 0x34 });
        gbc.writeMem(0xf73a, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x5026);
        EXPECT(gbc.pc(), 0xba95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba94), 0x34);
        EXPECT(gbc.readMem(0xf73a), 0x49);
        // 34 0270
        gbc.setState(0xe1b9, 0x8af4, 0x5990, 0x6cd5, 0xa06f, 0xa0ee, 0x1, 0x1);
        gbc.writeMem(0xa0ee, { 0xbc });
        gbc.writeMem(0xe1b9, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x8af4);
        EXPECT(gbc.pc(), 0xe1ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0ee), 0xbd);
        EXPECT(gbc.readMem(0xe1b9), 0x34);
        // 34 0271
        gbc.setState(0xb472, 0x503d, 0xb8d0, 0x2120, 0xa174, 0xd5ea, 0x1, 0x0);
        gbc.writeMem(0xb472, { 0x34 });
        gbc.writeMem(0xd5ea, { 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x503d);
        EXPECT(gbc.pc(), 0xb473);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb472), 0x34);
        EXPECT(gbc.readMem(0xd5ea), 0xfe);
        // 34 0276
        gbc.setState(0x32c4, 0xdccd, 0xca90, 0x4d04, 0x885d, 0xdf4e, 0x1, 0x1);
        gbc.writeMem(0x32c4, { 0x34 });
        gbc.writeMem(0xdf4e, { 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xdccd);
        EXPECT(gbc.pc(), 0x32c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf4e), 0xa8);
        // 34 0279
        gbc.setState(0x57f7, 0xd73d, 0x5c30, 0x427d, 0x693a, 0x9fdd, 0x0, 0x1);
        gbc.writeMem(0x57f7, { 0x34 });
        gbc.writeMem(0x9fdd, { 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xd73d);
        EXPECT(gbc.pc(), 0x57f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fdd), 0x5);
        // 34 027B
        gbc.setState(0x22eb, 0x60c0, 0xcac0, 0xe07, 0x47b3, 0xcae8, 0x0, 0x0);
        gbc.writeMem(0x22eb, { 0x34 });
        gbc.writeMem(0xcae8, { 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x60c0);
        EXPECT(gbc.pc(), 0x22ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcae8), 0x88);
        // 34 027C
        gbc.setState(0xce00, 0xd3cd, 0xde40, 0xb878, 0x8dc2, 0x8ac9, 0x1, 0x0);
        gbc.writeMem(0x8ac9, { 0x8 });
        gbc.writeMem(0xce00, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xd3cd);
        EXPECT(gbc.pc(), 0xce01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ac9), 0x9);
        EXPECT(gbc.readMem(0xce00), 0x34);
        // 34 027D
        gbc.setState(0x5d85, 0xc0bc, 0xd320, 0x34a2, 0xd6a1, 0xb2be, 0x0, 0x1);
        gbc.writeMem(0x5d85, { 0x34 });
        gbc.writeMem(0xb2be, { 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xc0bc);
        EXPECT(gbc.pc(), 0x5d86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2be), 0xc1);
        // 34 027E
        gbc.setState(0xa942, 0xd31f, 0x3d10, 0xb880, 0x395d, 0x89d3, 0x1, 0x1);
        gbc.writeMem(0x89d3, { 0x20 });
        gbc.writeMem(0xa942, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xd31f);
        EXPECT(gbc.pc(), 0xa943);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89d3), 0x21);
        EXPECT(gbc.readMem(0xa942), 0x34);
        // 34 027F
        gbc.setState(0x4a87, 0xa49f, 0x9850, 0xdf3a, 0xaaac, 0x909d, 0x0, 0x1);
        gbc.writeMem(0x4a87, { 0x34 });
        gbc.writeMem(0x909d, { 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xa49f);
        EXPECT(gbc.pc(), 0x4a88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x909d), 0xd8);
        // 34 0280
        gbc.setState(0x7b3e, 0xe304, 0xd930, 0x122d, 0x27fb, 0x8c30, 0x0, 0x1);
        gbc.writeMem(0x7b3e, { 0x34 });
        gbc.writeMem(0x8c30, { 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xe304);
        EXPECT(gbc.pc(), 0x7b3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c30), 0x74);
        // 34 0282
        gbc.setState(0xe1b0, 0x18a8, 0x8720, 0x1724, 0x6ec4, 0x91ff, 0x1, 0x1);
        gbc.writeMem(0x91ff, { 0xb9 });
        gbc.writeMem(0xe1b0, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x18a8);
        EXPECT(gbc.pc(), 0xe1b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91ff), 0xba);
        EXPECT(gbc.readMem(0xe1b0), 0x34);
        // 34 0283
        gbc.setState(0x7635, 0xe803, 0x7330, 0x247e, 0x6e64, 0xd19f, 0x0, 0x0);
        gbc.writeMem(0x7635, { 0x34 });
        gbc.writeMem(0xd19f, { 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xe803);
        EXPECT(gbc.pc(), 0x7636);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd19f), 0x46);
        // 34 0289
        gbc.setState(0x3079, 0xf3dd, 0xcda0, 0xd28f, 0x6c9e, 0xbf5b, 0x0, 0x1);
        gbc.writeMem(0x3079, { 0x34 });
        gbc.writeMem(0xbf5b, { 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xf3dd);
        EXPECT(gbc.pc(), 0x307a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf5b), 0xa8);
        // 34 028E
        gbc.setState(0x133b, 0x99ae, 0xba60, 0x4c44, 0x62f3, 0x9685, 0x1, 0x0);
        gbc.writeMem(0x133b, { 0x34 });
        gbc.writeMem(0x9685, { 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x99ae);
        EXPECT(gbc.pc(), 0x133c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9685), 0x76);
        // 34 0290
        gbc.setState(0x1cd9, 0xae9c, 0xadc0, 0x992, 0xa846, 0x8d9d, 0x0, 0x1);
        gbc.writeMem(0x1cd9, { 0x34 });
        gbc.writeMem(0x8d9d, { 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xae9c);
        EXPECT(gbc.pc(), 0x1cda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d9d), 0xa1);
        // 34 0291
        gbc.setState(0x8e6b, 0xda11, 0x5e90, 0x910e, 0xd69, 0x9c6e, 0x1, 0x0);
        gbc.writeMem(0x8e6b, { 0x34 });
        gbc.writeMem(0x9c6e, { 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xda11);
        EXPECT(gbc.pc(), 0x8e6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e6b), 0x34);
        EXPECT(gbc.readMem(0x9c6e), 0xe);
        // 34 0294
        gbc.setState(0xbda6, 0x9ec3, 0xc3f0, 0xb832, 0xd300, 0xf3e3, 0x0, 0x1);
        gbc.writeMem(0xbda6, { 0x34 });
        gbc.writeMem(0xf3e3, { 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x9ec3);
        EXPECT(gbc.pc(), 0xbda7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbda6), 0x34);
        EXPECT(gbc.readMem(0xf3e3), 0xc7);
        // 34 0297
        gbc.setState(0x3c5a, 0x2fe4, 0xd020, 0x8268, 0x137b, 0x98b0, 0x1, 0x0);
        gbc.writeMem(0x3c5a, { 0x34 });
        gbc.writeMem(0x98b0, { 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x2fe4);
        EXPECT(gbc.pc(), 0x3c5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98b0), 0x4);
        // 34 029A
        gbc.setState(0xd60a, 0x15ca, 0x3130, 0x836c, 0x30cc, 0xd0f9, 0x0, 0x0);
        gbc.writeMem(0xd0f9, { 0x3b });
        gbc.writeMem(0xd60a, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x15ca);
        EXPECT(gbc.pc(), 0xd60b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0f9), 0x3c);
        EXPECT(gbc.readMem(0xd60a), 0x34);
        // 34 029B
        gbc.setState(0x625c, 0x4b82, 0xd040, 0x5636, 0x8ec5, 0x9a41, 0x1, 0x1);
        gbc.writeMem(0x625c, { 0x34 });
        gbc.writeMem(0x9a41, { 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x4b82);
        EXPECT(gbc.pc(), 0x625d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a41), 0x80);
        // 34 029C
        gbc.setState(0x3b31, 0xae1a, 0xe6e0, 0x6705, 0xb802, 0xac15, 0x0, 0x0);
        gbc.writeMem(0x3b31, { 0x34 });
        gbc.writeMem(0xac15, { 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xae1a);
        EXPECT(gbc.pc(), 0x3b32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac15), 0xe9);
        // 34 029E
        gbc.setState(0x2733, 0x5aa8, 0x9f30, 0x382f, 0xd091, 0xc0ad, 0x0, 0x1);
        gbc.writeMem(0x2733, { 0x34 });
        gbc.writeMem(0xc0ad, { 0x40 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x5aa8);
        EXPECT(gbc.pc(), 0x2734);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0ad), 0x41);
        // 34 02A2
        gbc.setState(0x8ed9, 0x23f2, 0x9b0, 0xec87, 0xbaf9, 0x86a8, 0x0, 0x0);
        gbc.writeMem(0x86a8, { 0x2f });
        gbc.writeMem(0x8ed9, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x23f2);
        EXPECT(gbc.pc(), 0x8eda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86a8), 0x30);
        EXPECT(gbc.readMem(0x8ed9), 0x34);
        // 34 02A3
        gbc.setState(0xe18c, 0xd10d, 0x2af0, 0xe616, 0x1b8f, 0xdaaf, 0x0, 0x1);
        gbc.writeMem(0xdaaf, { 0xd7 });
        gbc.writeMem(0xe18c, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xd10d);
        EXPECT(gbc.pc(), 0xe18d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdaaf), 0xd8);
        EXPECT(gbc.readMem(0xe18c), 0x34);
        // 34 02A5
        gbc.setState(0x879b, 0x772b, 0xc450, 0xa8de, 0xeb3d, 0xfb16, 0x0, 0x1);
        gbc.writeMem(0x879b, { 0x34 });
        gbc.writeMem(0xfb16, { 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x772b);
        EXPECT(gbc.pc(), 0x879c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x879b), 0x34);
        EXPECT(gbc.readMem(0xfb16), 0xca);
        // 34 02A7
        gbc.setState(0x4472, 0x86d4, 0x3990, 0xba27, 0xb1, 0xc0f4, 0x0, 0x1);
        gbc.writeMem(0x4472, { 0x34 });
        gbc.writeMem(0xc0f4, { 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x86d4);
        EXPECT(gbc.pc(), 0x4473);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0f4), 0xe4);
        // 34 02AB
        gbc.setState(0x7a0f, 0xa499, 0xbf80, 0xfb4b, 0xdf90, 0xf6ec, 0x1, 0x1);
        gbc.writeMem(0x7a0f, { 0x34 });
        gbc.writeMem(0xf6ec, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xa499);
        EXPECT(gbc.pc(), 0x7a10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf6ec), 0x10);
        // 34 02AC
        gbc.setState(0xa689, 0x2ede, 0x15f0, 0x7f4b, 0x3852, 0xf710, 0x1, 0x0);
        gbc.writeMem(0xa689, { 0x34 });
        gbc.writeMem(0xf710, { 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x2ede);
        EXPECT(gbc.pc(), 0xa68a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa689), 0x34);
        EXPECT(gbc.readMem(0xf710), 0x34);
        // 34 02AD
        gbc.setState(0xe1a0, 0x54ac, 0x1300, 0x5388, 0x5465, 0x926f, 0x0, 0x1);
        gbc.writeMem(0x926f, { 0xef });
        gbc.writeMem(0xe1a0, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x54ac);
        EXPECT(gbc.pc(), 0xe1a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x926f), 0xf0);
        EXPECT(gbc.readMem(0xe1a0), 0x34);
        // 34 02AF
        gbc.setState(0x5f4, 0x445a, 0xb420, 0x633e, 0xfc5f, 0x8bff, 0x1, 0x0);
        gbc.writeMem(0x5f4, { 0x34 });
        gbc.writeMem(0x8bff, { 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x445a);
        EXPECT(gbc.pc(), 0x5f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bff), 0x88);
        // 34 02B0
        gbc.setState(0x29f0, 0x254a, 0xd320, 0x7e52, 0x2353, 0xb082, 0x1, 0x1);
        gbc.writeMem(0x29f0, { 0x34 });
        gbc.writeMem(0xb082, { 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x254a);
        EXPECT(gbc.pc(), 0x29f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb082), 0x32);
        // 34 02B1
        gbc.setState(0x36e4, 0x1c5a, 0x37f0, 0x8bdf, 0xab43, 0x9092, 0x0, 0x1);
        gbc.writeMem(0x36e4, { 0x34 });
        gbc.writeMem(0x9092, { 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x1c5a);
        EXPECT(gbc.pc(), 0x36e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9092), 0xe4);
        // 34 02B2
        gbc.setState(0x5d1e, 0xcef0, 0x9020, 0x256, 0xf87, 0x88c8, 0x0, 0x1);
        gbc.writeMem(0x5d1e, { 0x34 });
        gbc.writeMem(0x88c8, { 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xcef0);
        EXPECT(gbc.pc(), 0x5d1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88c8), 0xc4);
        // 34 02B5
        gbc.setState(0x8701, 0xabce, 0x6020, 0xae04, 0x52b6, 0x8cbc, 0x1, 0x1);
        gbc.writeMem(0x8701, { 0x34 });
        gbc.writeMem(0x8cbc, { 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xabce);
        EXPECT(gbc.pc(), 0x8702);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8701), 0x34);
        EXPECT(gbc.readMem(0x8cbc), 0xc);
        // 34 02BB
        gbc.setState(0xb53, 0x28ba, 0xa670, 0x5580, 0x4eb9, 0x846b, 0x1, 0x1);
        gbc.writeMem(0xb53, { 0x34 });
        gbc.writeMem(0x846b, { 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x28ba);
        EXPECT(gbc.pc(), 0xb54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x846b), 0x98);
        // 34 02BE
        gbc.setState(0xaa7a, 0x7605, 0x3730, 0x4e63, 0xed2a, 0xd4a0, 0x1, 0x1);
        gbc.writeMem(0xaa7a, { 0x34 });
        gbc.writeMem(0xd4a0, { 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x7605);
        EXPECT(gbc.pc(), 0xaa7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa7a), 0x34);
        EXPECT(gbc.readMem(0xd4a0), 0x7b);
        // 34 02C0
        gbc.setState(0xabdf, 0xe3c0, 0x92e0, 0x4998, 0x311a, 0xe5ba, 0x1, 0x1);
        gbc.writeMem(0xabdf, { 0x34 });
        gbc.writeMem(0xe5ba, { 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xe3c0);
        EXPECT(gbc.pc(), 0xabe0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabdf), 0x34);
        EXPECT(gbc.readMem(0xe5ba), 0x67);
        // 34 02C2
        gbc.setState(0xd6c8, 0x6e0, 0x5370, 0x8250, 0x6d37, 0xce19, 0x1, 0x0);
        gbc.writeMem(0xce19, { 0xc6 });
        gbc.writeMem(0xd6c8, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x6e0);
        EXPECT(gbc.pc(), 0xd6c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce19), 0xc7);
        EXPECT(gbc.readMem(0xd6c8), 0x34);
        // 34 02C6
        gbc.setState(0x823a, 0x6d72, 0xa980, 0xf762, 0x29c9, 0xf863, 0x0, 0x1);
        gbc.writeMem(0x823a, { 0x34 });
        gbc.writeMem(0xf863, { 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x6d72);
        EXPECT(gbc.pc(), 0x823b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x823a), 0x34);
        EXPECT(gbc.readMem(0xf863), 0x8f);
        // 34 02CB
        gbc.setState(0x32be, 0xee9a, 0x8200, 0x98e2, 0x2259, 0x93e6, 0x1, 0x1);
        gbc.writeMem(0x32be, { 0x34 });
        gbc.writeMem(0x93e6, { 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xee9a);
        EXPECT(gbc.pc(), 0x32bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93e6), 0xd8);
        // 34 02CC
        gbc.setState(0x622a, 0xf63b, 0xaa50, 0xf92e, 0x1e70, 0xdbcf, 0x0, 0x1);
        gbc.writeMem(0x622a, { 0x34 });
        gbc.writeMem(0xdbcf, { 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xf63b);
        EXPECT(gbc.pc(), 0x622b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbcf), 0x8c);
        // 34 02D1
        gbc.setState(0x50b9, 0xbe5f, 0xfb60, 0x1c98, 0xc681, 0xe0f2, 0x1, 0x0);
        gbc.writeMem(0x50b9, { 0x34 });
        gbc.writeMem(0xe0f2, { 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xbe5f);
        EXPECT(gbc.pc(), 0x50ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0f2), 0x8c);
        // 34 02D5
        gbc.setState(0xf39, 0xcecc, 0x61f0, 0xcbfd, 0x7add, 0x83a9, 0x1, 0x1);
        gbc.writeMem(0xf39, { 0x34 });
        gbc.writeMem(0x83a9, { 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xcecc);
        EXPECT(gbc.pc(), 0xf3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83a9), 0x20);
        // 34 02D6
        gbc.setState(0x2db0, 0x6fbb, 0x4d50, 0xe6e3, 0x6c9a, 0x8ec6, 0x1, 0x1);
        gbc.writeMem(0x2db0, { 0x34 });
        gbc.writeMem(0x8ec6, { 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x6fbb);
        EXPECT(gbc.pc(), 0x2db1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ec6), 0xfd);
        // 34 02D7
        gbc.setState(0xd2c4, 0x18f8, 0x2700, 0x8efb, 0xaaab, 0xa78b, 0x1, 0x0);
        gbc.writeMem(0xa78b, { 0xa });
        gbc.writeMem(0xd2c4, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x18f8);
        EXPECT(gbc.pc(), 0xd2c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa78b), 0xb);
        EXPECT(gbc.readMem(0xd2c4), 0x34);
        // 34 02DB
        gbc.setState(0x8bda, 0xf87e, 0x75b0, 0xd17c, 0x1767, 0xb825, 0x0, 0x0);
        gbc.writeMem(0x8bda, { 0x34 });
        gbc.writeMem(0xb825, { 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xf87e);
        EXPECT(gbc.pc(), 0x8bdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bda), 0x34);
        EXPECT(gbc.readMem(0xb825), 0x80);
        // 34 02DC
        gbc.setState(0x28a2, 0xf57, 0xf880, 0x7bf, 0x9167, 0xb7cd, 0x1, 0x0);
        gbc.writeMem(0x28a2, { 0x34 });
        gbc.writeMem(0xb7cd, { 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf57);
        EXPECT(gbc.pc(), 0x28a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7cd), 0xd3);
        // 34 02DD
        gbc.setState(0xd776, 0x2e7c, 0x67c0, 0x85ac, 0x3769, 0xa14e, 0x0, 0x1);
        gbc.writeMem(0xa14e, { 0x53 });
        gbc.writeMem(0xd776, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x2e7c);
        EXPECT(gbc.pc(), 0xd777);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa14e), 0x54);
        EXPECT(gbc.readMem(0xd776), 0x34);
        // 34 02DF
        gbc.setState(0xb770, 0xf316, 0x1420, 0x7389, 0xc1d7, 0xb7da, 0x1, 0x1);
        gbc.writeMem(0xb770, { 0x34 });
        gbc.writeMem(0xb7da, { 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xf316);
        EXPECT(gbc.pc(), 0xb771);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb770), 0x34);
        EXPECT(gbc.readMem(0xb7da), 0xd9);
        // 34 02E2
        gbc.setState(0x7014, 0xd6ad, 0xe520, 0x92b0, 0xeb48, 0xe682, 0x1, 0x1);
        gbc.writeMem(0x7014, { 0x34 });
        gbc.writeMem(0xe682, { 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xd6ad);
        EXPECT(gbc.pc(), 0x7015);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe682), 0x1c);
        // 34 02E6
        gbc.setState(0xb01c, 0xa4e1, 0x1910, 0xdc67, 0x2a4, 0xc616, 0x1, 0x0);
        gbc.writeMem(0xb01c, { 0x34 });
        gbc.writeMem(0xc616, { 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xa4e1);
        EXPECT(gbc.pc(), 0xb01d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb01c), 0x34);
        EXPECT(gbc.readMem(0xc616), 0x7);
        // 34 02E9
        gbc.setState(0x6a2f, 0xf8e8, 0x5590, 0x94c6, 0xba45, 0xe822, 0x1, 0x1);
        gbc.writeMem(0x6a2f, { 0x34 });
        gbc.writeMem(0xe822, { 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xf8e8);
        EXPECT(gbc.pc(), 0x6a30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe822), 0xa0);
        // 34 02EA
        gbc.setState(0xd9ab, 0xb2ea, 0x30, 0x8709, 0x673a, 0x958b, 0x1, 0x1);
        gbc.writeMem(0x958b, { 0x4 });
        gbc.writeMem(0xd9ab, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xb2ea);
        EXPECT(gbc.pc(), 0xd9ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x958b), 0x5);
        EXPECT(gbc.readMem(0xd9ab), 0x34);
        // 34 02EE
        gbc.setState(0xc426, 0x5cb2, 0x5e10, 0x6fcb, 0xe3e8, 0xe277, 0x0, 0x0);
        gbc.writeMem(0xc426, { 0x34 });
        gbc.writeMem(0xe277, { 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x5cb2);
        EXPECT(gbc.pc(), 0xc427);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc426), 0x34);
        EXPECT(gbc.readMem(0xe277), 0xdf);
        // 34 02EF
        gbc.setState(0x94d2, 0xa25a, 0xa0a0, 0xd21d, 0x5417, 0x99a7, 0x1, 0x0);
        gbc.writeMem(0x94d2, { 0x34 });
        gbc.writeMem(0x99a7, { 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xa25a);
        EXPECT(gbc.pc(), 0x94d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94d2), 0x34);
        EXPECT(gbc.readMem(0x99a7), 0xfe);
        // 34 02F1
        gbc.setState(0x9789, 0x7644, 0xb9d0, 0x43ed, 0x8721, 0x90a7, 0x0, 0x1);
        gbc.writeMem(0x90a7, { 0x96 });
        gbc.writeMem(0x9789, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x7644);
        EXPECT(gbc.pc(), 0x978a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90a7), 0x97);
        EXPECT(gbc.readMem(0x9789), 0x34);
        // 34 02F2
        gbc.setState(0xe506, 0xbcff, 0x2930, 0xd8b1, 0xd884, 0xacd4, 0x1, 0x1);
        gbc.writeMem(0xacd4, { 0xbb });
        gbc.writeMem(0xe506, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xbcff);
        EXPECT(gbc.pc(), 0xe507);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacd4), 0xbc);
        EXPECT(gbc.readMem(0xe506), 0x34);
        // 34 02F5
        gbc.setState(0xaf73, 0xbfd4, 0x20f0, 0x5ac2, 0xa364, 0xe659, 0x1, 0x1);
        gbc.writeMem(0xaf73, { 0x34 });
        gbc.writeMem(0xe659, { 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xbfd4);
        EXPECT(gbc.pc(), 0xaf74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf73), 0x34);
        EXPECT(gbc.readMem(0xe659), 0xdb);
        // 34 02FA
        gbc.setState(0x6d87, 0xc4c, 0xf0d0, 0xa198, 0x28c2, 0x8e15, 0x1, 0x0);
        gbc.writeMem(0x6d87, { 0x34 });
        gbc.writeMem(0x8e15, { 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xc4c);
        EXPECT(gbc.pc(), 0x6d88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e15), 0x85);
        // 34 02FB
        gbc.setState(0xaf73, 0xe261, 0xdd00, 0x5b88, 0x5d41, 0x8eb4, 0x1, 0x0);
        gbc.writeMem(0x8eb4, { 0xca });
        gbc.writeMem(0xaf73, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xe261);
        EXPECT(gbc.pc(), 0xaf74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8eb4), 0xcb);
        EXPECT(gbc.readMem(0xaf73), 0x34);
        // 34 02FE
        gbc.setState(0x9fbd, 0x66bd, 0x1480, 0x2dca, 0x6dca, 0xbf3c, 0x1, 0x0);
        gbc.writeMem(0x9fbd, { 0x34 });
        gbc.writeMem(0xbf3c, { 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x66bd);
        EXPECT(gbc.pc(), 0x9fbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fbd), 0x34);
        EXPECT(gbc.readMem(0xbf3c), 0x5c);
        // 34 0300
        gbc.setState(0xc4be, 0xb009, 0x2280, 0xc370, 0x93a8, 0xa21e, 0x1, 0x0);
        gbc.writeMem(0xa21e, { 0xa2 });
        gbc.writeMem(0xc4be, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xb009);
        EXPECT(gbc.pc(), 0xc4bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa21e), 0xa3);
        EXPECT(gbc.readMem(0xc4be), 0x34);
        // 34 0307
        gbc.setState(0xc62d, 0xb430, 0xe060, 0x748c, 0xb96, 0xa802, 0x0, 0x1);
        gbc.writeMem(0xa802, { 0x6e });
        gbc.writeMem(0xc62d, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xb430);
        EXPECT(gbc.pc(), 0xc62e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa802), 0x6f);
        EXPECT(gbc.readMem(0xc62d), 0x34);
        // 34 0308
        gbc.setState(0x2efc, 0x16d0, 0x37f0, 0x22e0, 0x1ce7, 0xc5f2, 0x1, 0x0);
        gbc.writeMem(0x2efc, { 0x34 });
        gbc.writeMem(0xc5f2, { 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x16d0);
        EXPECT(gbc.pc(), 0x2efd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5f2), 0xcd);
        // 34 0309
        gbc.setState(0xc194, 0x9335, 0x2e80, 0xdf4d, 0xf71f, 0xdd54, 0x0, 0x0);
        gbc.writeMem(0xc194, { 0x34 });
        gbc.writeMem(0xdd54, { 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x9335);
        EXPECT(gbc.pc(), 0xc195);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc194), 0x34);
        EXPECT(gbc.readMem(0xdd54), 0x1);
        // 34 030C
        gbc.setState(0x7ac4, 0xb855, 0xf8f0, 0xed5d, 0xcdfe, 0xd23b, 0x1, 0x1);
        gbc.writeMem(0x7ac4, { 0x34 });
        gbc.writeMem(0xd23b, { 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xb855);
        EXPECT(gbc.pc(), 0x7ac5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd23b), 0xb0);
        // 34 030E
        gbc.setState(0x5bcb, 0xef93, 0xa530, 0xe800, 0x9c67, 0xab09, 0x0, 0x1);
        gbc.writeMem(0x5bcb, { 0x34 });
        gbc.writeMem(0xab09, { 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xef93);
        EXPECT(gbc.pc(), 0x5bcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab09), 0xe2);
        // 34 0310
        gbc.setState(0x53c6, 0xbb55, 0x8cf0, 0xa62c, 0xb914, 0x96e7, 0x1, 0x1);
        gbc.writeMem(0x53c6, { 0x34 });
        gbc.writeMem(0x96e7, { 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xbb55);
        EXPECT(gbc.pc(), 0x53c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96e7), 0x46);
        // 34 0312
        gbc.setState(0xb950, 0x5764, 0xe2f0, 0x786a, 0x7d6, 0xe946, 0x0, 0x1);
        gbc.writeMem(0xb950, { 0x34 });
        gbc.writeMem(0xe946, { 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x5764);
        EXPECT(gbc.pc(), 0xb951);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb950), 0x34);
        EXPECT(gbc.readMem(0xe946), 0x29);
        // 34 0314
        gbc.setState(0xe7c1, 0x339b, 0x8380, 0xd8ec, 0x64eb, 0x8c19, 0x0, 0x0);
        gbc.writeMem(0x8c19, { 0x16 });
        gbc.writeMem(0xe7c1, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x339b);
        EXPECT(gbc.pc(), 0xe7c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c19), 0x17);
        EXPECT(gbc.readMem(0xe7c1), 0x34);
        // 34 0315
        gbc.setState(0x52ef, 0x7881, 0x9ed0, 0xb967, 0x4f57, 0x8419, 0x0, 0x1);
        gbc.writeMem(0x52ef, { 0x34 });
        gbc.writeMem(0x8419, { 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x7881);
        EXPECT(gbc.pc(), 0x52f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8419), 0xe3);
        // 34 0319
        gbc.setState(0x17ca, 0xbadb, 0x6280, 0x45a, 0x5ff5, 0xf070, 0x1, 0x0);
        gbc.writeMem(0x17ca, { 0x34 });
        gbc.writeMem(0xf070, { 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xbadb);
        EXPECT(gbc.pc(), 0x17cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf070), 0xa);
        // 34 031D
        gbc.setState(0xde1a, 0x3ded, 0x5960, 0xe956, 0xfefc, 0x962f, 0x1, 0x1);
        gbc.writeMem(0x962f, { 0x4f });
        gbc.writeMem(0xde1a, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x3ded);
        EXPECT(gbc.pc(), 0xde1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x962f), 0x50);
        EXPECT(gbc.readMem(0xde1a), 0x34);
        // 34 031E
        gbc.setState(0xdfed, 0x5974, 0x6e50, 0x736d, 0x260a, 0xbfd6, 0x0, 0x0);
        gbc.writeMem(0xbfd6, { 0xda });
        gbc.writeMem(0xdfed, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x5974);
        EXPECT(gbc.pc(), 0xdfee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfd6), 0xdb);
        EXPECT(gbc.readMem(0xdfed), 0x34);
        // 34 0320
        gbc.setState(0x978e, 0xa790, 0x3660, 0xe97e, 0x7e29, 0xa11e, 0x0, 0x0);
        gbc.writeMem(0x978e, { 0x34 });
        gbc.writeMem(0xa11e, { 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xa790);
        EXPECT(gbc.pc(), 0x978f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x978e), 0x34);
        EXPECT(gbc.readMem(0xa11e), 0xaa);
        // 34 0322
        gbc.setState(0xce2d, 0xaa92, 0x8ab0, 0x50a6, 0x74d9, 0xee0b, 0x0, 0x0);
        gbc.writeMem(0xce2d, { 0x34 });
        gbc.writeMem(0xee0b, { 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xaa92);
        EXPECT(gbc.pc(), 0xce2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce2d), 0x34);
        EXPECT(gbc.readMem(0xee0b), 0x2b);
        // 34 0324
        gbc.setState(0x2e57, 0x4b0b, 0x90b0, 0x2d47, 0x1720, 0x87c1, 0x0, 0x1);
        gbc.writeMem(0x2e57, { 0x34 });
        gbc.writeMem(0x87c1, { 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x4b0b);
        EXPECT(gbc.pc(), 0x2e58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87c1), 0xb6);
        // 34 0327
        gbc.setState(0x98df, 0x7c82, 0x7440, 0x4958, 0x4a37, 0xc49d, 0x1, 0x1);
        gbc.writeMem(0x98df, { 0x34 });
        gbc.writeMem(0xc49d, { 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x7c82);
        EXPECT(gbc.pc(), 0x98e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98df), 0x34);
        EXPECT(gbc.readMem(0xc49d), 0x11);
        // 34 0328
        gbc.setState(0x3ca5, 0xf705, 0x8de0, 0xb77, 0x87b2, 0x8c67, 0x0, 0x0);
        gbc.writeMem(0x3ca5, { 0x34 });
        gbc.writeMem(0x8c67, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xf705);
        EXPECT(gbc.pc(), 0x3ca6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c67), 0x60);
        // 34 0329
        gbc.setState(0x6897, 0x7cac, 0x57c0, 0x55b8, 0x2d56, 0xaf13, 0x1, 0x1);
        gbc.writeMem(0x6897, { 0x34 });
        gbc.writeMem(0xaf13, { 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x7cac);
        EXPECT(gbc.pc(), 0x6898);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf13), 0xd5);
        // 34 032A
        gbc.setState(0x34a9, 0x4a3c, 0x5d0, 0x95db, 0x4f9a, 0xc06e, 0x0, 0x0);
        gbc.writeMem(0x34a9, { 0x34 });
        gbc.writeMem(0xc06e, { 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x4a3c);
        EXPECT(gbc.pc(), 0x34aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc06e), 0x9a);
        // 34 032B
        gbc.setState(0x2ba1, 0x3e65, 0x7410, 0x1866, 0xce38, 0xe413, 0x1, 0x1);
        gbc.writeMem(0x2ba1, { 0x34 });
        gbc.writeMem(0xe413, { 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x3e65);
        EXPECT(gbc.pc(), 0x2ba2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe413), 0xe8);
        // 34 032C
        gbc.setState(0x7774, 0xbb08, 0x3140, 0xe0bf, 0x6039, 0xd7cb, 0x1, 0x1);
        gbc.writeMem(0x7774, { 0x34 });
        gbc.writeMem(0xd7cb, { 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xbb08);
        EXPECT(gbc.pc(), 0x7775);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7cb), 0xd6);
        // 34 032F
        gbc.setState(0xc99c, 0x3b74, 0x9e80, 0xa8fe, 0xff65, 0xcf7f, 0x0, 0x0);
        gbc.writeMem(0xc99c, { 0x34 });
        gbc.writeMem(0xcf7f, { 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x3b74);
        EXPECT(gbc.pc(), 0xc99d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc99c), 0x34);
        EXPECT(gbc.readMem(0xcf7f), 0x21);
        // 34 0330
        gbc.setState(0x3d0a, 0xab83, 0xc0c0, 0x448c, 0xa556, 0xd871, 0x0, 0x1);
        gbc.writeMem(0x3d0a, { 0x34 });
        gbc.writeMem(0xd871, { 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xab83);
        EXPECT(gbc.pc(), 0x3d0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd871), 0x8b);
        // 34 0331
        gbc.setState(0xc6d9, 0x1534, 0x7090, 0x4508, 0xa9e9, 0xc472, 0x0, 0x1);
        gbc.writeMem(0xc472, { 0x36 });
        gbc.writeMem(0xc6d9, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x1534);
        EXPECT(gbc.pc(), 0xc6da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc472), 0x37);
        EXPECT(gbc.readMem(0xc6d9), 0x34);
        // 34 0332
        gbc.setState(0x7072, 0xff22, 0x6dc0, 0x4360, 0xffd3, 0x9348, 0x1, 0x0);
        gbc.writeMem(0x7072, { 0x34 });
        gbc.writeMem(0x9348, { 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xff22);
        EXPECT(gbc.pc(), 0x7073);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9348), 0xf);
        // 34 0335
        gbc.setState(0xa19f, 0x6f04, 0x1d30, 0x3e3d, 0x1fdc, 0x8ff8, 0x1, 0x0);
        gbc.writeMem(0x8ff8, { 0x36 });
        gbc.writeMem(0xa19f, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x6f04);
        EXPECT(gbc.pc(), 0xa1a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ff8), 0x37);
        EXPECT(gbc.readMem(0xa19f), 0x34);
        // 34 0336
        gbc.setState(0x509d, 0xb323, 0xa6a0, 0xa051, 0x297d, 0xf701, 0x1, 0x0);
        gbc.writeMem(0x509d, { 0x34 });
        gbc.writeMem(0xf701, { 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xb323);
        EXPECT(gbc.pc(), 0x509e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf701), 0x4f);
        // 34 0338
        gbc.setState(0xb12d, 0x7d4a, 0xcd50, 0xaa53, 0xb2c6, 0xef52, 0x1, 0x0);
        gbc.writeMem(0xb12d, { 0x34 });
        gbc.writeMem(0xef52, { 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x7d4a);
        EXPECT(gbc.pc(), 0xb12e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb12d), 0x34);
        EXPECT(gbc.readMem(0xef52), 0x64);
        // 34 033A
        gbc.setState(0x2c93, 0x5e0d, 0xa10, 0x3d58, 0x9b84, 0xd2cc, 0x1, 0x0);
        gbc.writeMem(0x2c93, { 0x34 });
        gbc.writeMem(0xd2cc, { 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x5e0d);
        EXPECT(gbc.pc(), 0x2c94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2cc), 0x98);
        // 34 033C
        gbc.setState(0xabcb, 0xdd46, 0xae0, 0xa2d5, 0x68ff, 0x8e39, 0x0, 0x1);
        gbc.writeMem(0x8e39, { 0x95 });
        gbc.writeMem(0xabcb, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xdd46);
        EXPECT(gbc.pc(), 0xabcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e39), 0x96);
        EXPECT(gbc.readMem(0xabcb), 0x34);
        // 34 033E
        gbc.setState(0x38cc, 0x408b, 0xb210, 0xf620, 0x8558, 0xdfbd, 0x1, 0x1);
        gbc.writeMem(0x38cc, { 0x34 });
        gbc.writeMem(0xdfbd, { 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x408b);
        EXPECT(gbc.pc(), 0x38cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfbd), 0x15);
        // 34 033F
        gbc.setState(0xcd71, 0x22d7, 0x8ee0, 0x23cb, 0x3ec5, 0xe1ba, 0x0, 0x0);
        gbc.writeMem(0xcd71, { 0x34 });
        gbc.writeMem(0xe1ba, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x22d7);
        EXPECT(gbc.pc(), 0xcd72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd71), 0x34);
        EXPECT(gbc.readMem(0xe1ba), 0x9d);
        // 34 0341
        gbc.setState(0x9cd5, 0x8df2, 0x8500, 0x6c6, 0x2c9e, 0xd198, 0x0, 0x1);
        gbc.writeMem(0x9cd5, { 0x34 });
        gbc.writeMem(0xd198, { 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x8df2);
        EXPECT(gbc.pc(), 0x9cd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cd5), 0x34);
        EXPECT(gbc.readMem(0xd198), 0x56);
        // 34 0343
        gbc.setState(0x9d61, 0x8d87, 0x3f30, 0x4866, 0x8eb8, 0x9298, 0x1, 0x1);
        gbc.writeMem(0x9298, { 0xa });
        gbc.writeMem(0x9d61, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x8d87);
        EXPECT(gbc.pc(), 0x9d62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9298), 0xb);
        EXPECT(gbc.readMem(0x9d61), 0x34);
        // 34 0345
        gbc.setState(0xea54, 0x99d6, 0xf430, 0x4be9, 0xfa9a, 0xc099, 0x1, 0x1);
        gbc.writeMem(0xc099, { 0xae });
        gbc.writeMem(0xea54, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x99d6);
        EXPECT(gbc.pc(), 0xea55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc099), 0xaf);
        EXPECT(gbc.readMem(0xea54), 0x34);
        // 34 0346
        gbc.setState(0x46b, 0x9e, 0xf110, 0x832f, 0x1ee8, 0x80ad, 0x0, 0x0);
        gbc.writeMem(0x46b, { 0x34 });
        gbc.writeMem(0x80ad, { 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x9e);
        EXPECT(gbc.pc(), 0x46c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80ad), 0xd9);
        // 34 0349
        gbc.setState(0x51ab, 0x399e, 0x7e00, 0xccf0, 0x77b9, 0x9314, 0x0, 0x1);
        gbc.writeMem(0x51ab, { 0x34 });
        gbc.writeMem(0x9314, { 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x399e);
        EXPECT(gbc.pc(), 0x51ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9314), 0x3c);
        // 34 034A
        gbc.setState(0x2f0f, 0xdd4b, 0x9dd0, 0xee9c, 0x9b, 0xb8ab, 0x1, 0x1);
        gbc.writeMem(0x2f0f, { 0x34 });
        gbc.writeMem(0xb8ab, { 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xdd4b);
        EXPECT(gbc.pc(), 0x2f10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8ab), 0xf0);
        // 34 034C
        gbc.setState(0x44f0, 0xb334, 0x13e0, 0xce0e, 0x199d, 0xbb0d, 0x1, 0x1);
        gbc.writeMem(0x44f0, { 0x34 });
        gbc.writeMem(0xbb0d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xb334);
        EXPECT(gbc.pc(), 0x44f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb0d), 0x68);
        // 34 034D
        gbc.setState(0xb462, 0x12c6, 0x4560, 0x2746, 0x2384, 0xb7e3, 0x1, 0x0);
        gbc.writeMem(0xb462, { 0x34 });
        gbc.writeMem(0xb7e3, { 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x12c6);
        EXPECT(gbc.pc(), 0xb463);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb462), 0x34);
        EXPECT(gbc.readMem(0xb7e3), 0xe5);
        // 34 034E
        gbc.setState(0x1524, 0x1972, 0xb630, 0x943d, 0xa4c1, 0xd1cb, 0x1, 0x0);
        gbc.writeMem(0x1524, { 0x34 });
        gbc.writeMem(0xd1cb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x1972);
        EXPECT(gbc.pc(), 0x1525);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1cb), 0x8a);
        // 34 034F
        gbc.setState(0xcf48, 0x4bf6, 0x7f10, 0xeacc, 0x5471, 0xece3, 0x0, 0x0);
        gbc.writeMem(0xcf48, { 0x34 });
        gbc.writeMem(0xece3, { 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x4bf6);
        EXPECT(gbc.pc(), 0xcf49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf48), 0x34);
        EXPECT(gbc.readMem(0xece3), 0x67);
        // 34 0354
        gbc.setState(0x3bcc, 0x2709, 0xb450, 0x5a5, 0x2ff9, 0xff64, 0x1, 0x1);
        gbc.writeMem(0x3bcc, { 0x34 });
        gbc.writeMem(0xff64, { 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x2709);
        EXPECT(gbc.pc(), 0x3bcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xff64), 0x88);
        // 34 0356
        gbc.setState(0x37b5, 0x19a0, 0x27c0, 0xa843, 0x5a2a, 0xb915, 0x1, 0x1);
        gbc.writeMem(0x37b5, { 0x34 });
        gbc.writeMem(0xb915, { 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x19a0);
        EXPECT(gbc.pc(), 0x37b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb915), 0xe9);
        // 34 0357
        gbc.setState(0x24d8, 0xf4ca, 0xed10, 0xab0a, 0x95e, 0xb7bc, 0x0, 0x1);
        gbc.writeMem(0x24d8, { 0x34 });
        gbc.writeMem(0xb7bc, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xf4ca);
        EXPECT(gbc.pc(), 0x24d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7bc), 0xba);
        // 34 0358
        gbc.setState(0x1689, 0x70a7, 0x5e30, 0x32f6, 0xc1b9, 0xf40c, 0x0, 0x0);
        gbc.writeMem(0x1689, { 0x34 });
        gbc.writeMem(0xf40c, { 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x70a7);
        EXPECT(gbc.pc(), 0x168a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf40c), 0xd6);
        // 34 0359
        gbc.setState(0x3308, 0xe68, 0x5be0, 0x27b8, 0x7d05, 0xe48c, 0x1, 0x0);
        gbc.writeMem(0x3308, { 0x34 });
        gbc.writeMem(0xe48c, { 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xe68);
        EXPECT(gbc.pc(), 0x3309);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe48c), 0x9e);
        // 34 035D
        gbc.setState(0x2aa8, 0xc9d2, 0x8ee0, 0x233b, 0x124f, 0xe3fb, 0x0, 0x0);
        gbc.writeMem(0x2aa8, { 0x34 });
        gbc.writeMem(0xe3fb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xc9d2);
        EXPECT(gbc.pc(), 0x2aa9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3fb), 0x8a);
        // 34 035E
        gbc.setState(0x351b, 0x1290, 0x9f10, 0x121d, 0x469a, 0x8933, 0x0, 0x1);
        gbc.writeMem(0x351b, { 0x34 });
        gbc.writeMem(0x8933, { 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x1290);
        EXPECT(gbc.pc(), 0x351c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8933), 0x31);
        // 34 0361
        gbc.setState(0x5a6a, 0xc02a, 0x7f40, 0xfb2a, 0xc612, 0xe873, 0x0, 0x1);
        gbc.writeMem(0x5a6a, { 0x34 });
        gbc.writeMem(0xe873, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xc02a);
        EXPECT(gbc.pc(), 0x5a6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe873), 0x7d);
        // 34 0369
        gbc.setState(0xb80c, 0xf761, 0x9a60, 0xaf84, 0x436a, 0x8528, 0x0, 0x1);
        gbc.writeMem(0x8528, { 0xba });
        gbc.writeMem(0xb80c, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xf761);
        EXPECT(gbc.pc(), 0xb80d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8528), 0xbb);
        EXPECT(gbc.readMem(0xb80c), 0x34);
        // 34 036D
        gbc.setState(0xd264, 0xb324, 0x2c30, 0xd27b, 0x4904, 0xa433, 0x1, 0x0);
        gbc.writeMem(0xa433, { 0xe8 });
        gbc.writeMem(0xd264, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xb324);
        EXPECT(gbc.pc(), 0xd265);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa433), 0xe9);
        EXPECT(gbc.readMem(0xd264), 0x34);
        // 34 0371
        gbc.setState(0x58f3, 0xe688, 0xbb10, 0x47a6, 0xc4e3, 0xd1c4, 0x1, 0x1);
        gbc.writeMem(0x58f3, { 0x34 });
        gbc.writeMem(0xd1c4, { 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xe688);
        EXPECT(gbc.pc(), 0x58f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1c4), 0xa2);
        // 34 0374
        gbc.setState(0x20b6, 0x78b1, 0xcc70, 0xd69c, 0x7c76, 0xe7c5, 0x1, 0x1);
        gbc.writeMem(0x20b6, { 0x34 });
        gbc.writeMem(0xe7c5, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x78b1);
        EXPECT(gbc.pc(), 0x20b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7c5), 0xc6);
        // 34 0375
        gbc.setState(0x7e6a, 0x6f90, 0x3f80, 0xe995, 0xe06a, 0xae18, 0x1, 0x0);
        gbc.writeMem(0x7e6a, { 0x34 });
        gbc.writeMem(0xae18, { 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x6f90);
        EXPECT(gbc.pc(), 0x7e6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae18), 0x2c);
        // 34 0378
        gbc.setState(0x9387, 0x3950, 0xe100, 0x8e51, 0xddfc, 0xc613, 0x1, 0x0);
        gbc.writeMem(0x9387, { 0x34 });
        gbc.writeMem(0xc613, { 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x3950);
        EXPECT(gbc.pc(), 0x9388);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9387), 0x34);
        EXPECT(gbc.readMem(0xc613), 0xfc);
        // 34 037B
        gbc.setState(0x85d5, 0x29fb, 0x6510, 0x627f, 0x87dc, 0xc67b, 0x1, 0x1);
        gbc.writeMem(0x85d5, { 0x34 });
        gbc.writeMem(0xc67b, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x29fb);
        EXPECT(gbc.pc(), 0x85d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85d5), 0x34);
        EXPECT(gbc.readMem(0xc67b), 0xb1);
        // 34 037E
        gbc.setState(0x6530, 0x44c6, 0x6970, 0x768b, 0x372d, 0xb16d, 0x0, 0x0);
        gbc.writeMem(0x6530, { 0x34 });
        gbc.writeMem(0xb16d, { 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x44c6);
        EXPECT(gbc.pc(), 0x6531);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb16d), 0x3a);
        // 34 0380
        gbc.setState(0xceab, 0x6f2c, 0x1700, 0xc3, 0xeb94, 0xe088, 0x0, 0x1);
        gbc.writeMem(0xceab, { 0x34 });
        gbc.writeMem(0xe088, { 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x6f2c);
        EXPECT(gbc.pc(), 0xceac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xceab), 0x34);
        EXPECT(gbc.readMem(0xe088), 0xe3);
        // 34 0381
        gbc.setState(0x5ccf, 0xd79c, 0x35b0, 0xe777, 0x6f2d, 0xae20, 0x0, 0x0);
        gbc.writeMem(0x5ccf, { 0x34 });
        gbc.writeMem(0xae20, { 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd79c);
        EXPECT(gbc.pc(), 0x5cd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae20), 0x95);
        // 34 0385
        gbc.setState(0x36e, 0x2ee7, 0xb3f0, 0x2c64, 0x6f8f, 0xed49, 0x1, 0x0);
        gbc.writeMem(0x36e, { 0x34 });
        gbc.writeMem(0xed49, { 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x2ee7);
        EXPECT(gbc.pc(), 0x36f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed49), 0x58);
        // 34 0386
        gbc.setState(0xaa60, 0xc752, 0x4450, 0x520a, 0x6600, 0xb2ce, 0x1, 0x1);
        gbc.writeMem(0xaa60, { 0x34 });
        gbc.writeMem(0xb2ce, { 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xc752);
        EXPECT(gbc.pc(), 0xaa61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa60), 0x34);
        EXPECT(gbc.readMem(0xb2ce), 0x9c);
        // 34 0387
        gbc.setState(0x6b31, 0xa425, 0xdfd0, 0x94e8, 0xb5f4, 0x9e36, 0x0, 0x1);
        gbc.writeMem(0x6b31, { 0x34 });
        gbc.writeMem(0x9e36, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xa425);
        EXPECT(gbc.pc(), 0x6b32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e36), 0x7d);
        // 34 038B
        gbc.setState(0x8ca1, 0x5bb1, 0xbc10, 0x4fa8, 0x9eaa, 0xd9db, 0x0, 0x0);
        gbc.writeMem(0x8ca1, { 0x34 });
        gbc.writeMem(0xd9db, { 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x5bb1);
        EXPECT(gbc.pc(), 0x8ca2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ca1), 0x34);
        EXPECT(gbc.readMem(0xd9db), 0xd1);
        // 34 038C
        gbc.setState(0x814d, 0xe3e6, 0xdcb0, 0x3229, 0xc5be, 0x8799, 0x0, 0x0);
        gbc.writeMem(0x814d, { 0x34 });
        gbc.writeMem(0x8799, { 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xe3e6);
        EXPECT(gbc.pc(), 0x814e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x814d), 0x34);
        EXPECT(gbc.readMem(0x8799), 0x4c);
        // 34 0391
        gbc.setState(0x264b, 0x52c7, 0xcd50, 0x61b7, 0x85e1, 0xd136, 0x1, 0x1);
        gbc.writeMem(0x264b, { 0x34 });
        gbc.writeMem(0xd136, { 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x52c7);
        EXPECT(gbc.pc(), 0x264c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd136), 0xd2);
        // 34 0392
        gbc.setState(0x5d1b, 0x287e, 0x2620, 0x82f6, 0x51fb, 0x87a1, 0x0, 0x1);
        gbc.writeMem(0x5d1b, { 0x34 });
        gbc.writeMem(0x87a1, { 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x287e);
        EXPECT(gbc.pc(), 0x5d1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87a1), 0xe);
        // 34 0393
        gbc.setState(0x8b02, 0xddf6, 0xa470, 0x66b, 0xf464, 0xb83e, 0x0, 0x0);
        gbc.writeMem(0x8b02, { 0x34 });
        gbc.writeMem(0xb83e, { 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xddf6);
        EXPECT(gbc.pc(), 0x8b03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b02), 0x34);
        EXPECT(gbc.readMem(0xb83e), 0xb);
        // 34 0395
        gbc.setState(0x31ee, 0x6f37, 0x24d0, 0x6948, 0xb20f, 0x858f, 0x1, 0x1);
        gbc.writeMem(0x31ee, { 0x34 });
        gbc.writeMem(0x858f, { 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x6f37);
        EXPECT(gbc.pc(), 0x31ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x858f), 0x98);
        // 34 0396
        gbc.setState(0xae09, 0x1c43, 0x3be0, 0xf840, 0x1d96, 0xb9c7, 0x1, 0x1);
        gbc.writeMem(0xae09, { 0x34 });
        gbc.writeMem(0xb9c7, { 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x1c43);
        EXPECT(gbc.pc(), 0xae0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae09), 0x34);
        EXPECT(gbc.readMem(0xb9c7), 0x75);
        // 34 0399
        gbc.setState(0xc065, 0xd664, 0x8fa0, 0x1d30, 0x195e, 0xb102, 0x1, 0x0);
        gbc.writeMem(0xb102, { 0xd5 });
        gbc.writeMem(0xc065, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xd664);
        EXPECT(gbc.pc(), 0xc066);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb102), 0xd6);
        EXPECT(gbc.readMem(0xc065), 0x34);
        // 34 039B
        gbc.setState(0x22c8, 0x9f8e, 0x72d0, 0xa5a3, 0x333b, 0xc631, 0x1, 0x1);
        gbc.writeMem(0x22c8, { 0x34 });
        gbc.writeMem(0xc631, { 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x9f8e);
        EXPECT(gbc.pc(), 0x22c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc631), 0x65);
        // 34 039D
        gbc.setState(0x3fb4, 0xc416, 0x25d0, 0x2612, 0x69d6, 0xfa9a, 0x0, 0x1);
        gbc.writeMem(0x3fb4, { 0x34 });
        gbc.writeMem(0xfa9a, { 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xc416);
        EXPECT(gbc.pc(), 0x3fb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xfa9a), 0xb4);
        // 34 039E
        gbc.setState(0xae1b, 0xa475, 0x7820, 0x45f7, 0xb6de, 0x8df6, 0x0, 0x0);
        gbc.writeMem(0x8df6, { 0xec });
        gbc.writeMem(0xae1b, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xa475);
        EXPECT(gbc.pc(), 0xae1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8df6), 0xed);
        EXPECT(gbc.readMem(0xae1b), 0x34);
        // 34 039F
        gbc.setState(0x2b62, 0x13ec, 0x58e0, 0x161b, 0xe712, 0xe0e8, 0x0, 0x1);
        gbc.writeMem(0x2b62, { 0x34 });
        gbc.writeMem(0xe0e8, { 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x13ec);
        EXPECT(gbc.pc(), 0x2b63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0e8), 0xf7);
        // 34 03A0
        gbc.setState(0x2690, 0xda07, 0xd590, 0x9e48, 0x43fa, 0xedcf, 0x0, 0x1);
        gbc.writeMem(0x2690, { 0x34 });
        gbc.writeMem(0xedcf, { 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xda07);
        EXPECT(gbc.pc(), 0x2691);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedcf), 0xbd);
        // 34 03A2
        gbc.setState(0x7e6c, 0x137, 0xf950, 0x2610, 0x96cb, 0x8a7f, 0x1, 0x0);
        gbc.writeMem(0x7e6c, { 0x34 });
        gbc.writeMem(0x8a7f, { 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x137);
        EXPECT(gbc.pc(), 0x7e6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a7f), 0x9c);
        // 34 03A3
        gbc.setState(0x128, 0x99c3, 0xbd50, 0x3508, 0x63ab, 0xc8c2, 0x1, 0x1);
        gbc.writeMem(0x128, { 0x34 });
        gbc.writeMem(0xc8c2, { 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x99c3);
        EXPECT(gbc.pc(), 0x129);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8c2), 0xcd);
        // 34 03A4
        gbc.setState(0x94d0, 0x1081, 0x7a50, 0x3fbd, 0xec8c, 0x9eb5, 0x1, 0x1);
        gbc.writeMem(0x94d0, { 0x34 });
        gbc.writeMem(0x9eb5, { 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x1081);
        EXPECT(gbc.pc(), 0x94d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94d0), 0x34);
        EXPECT(gbc.readMem(0x9eb5), 0x7f);
        // 34 03A6
        gbc.setState(0x99e1, 0xfdb9, 0xe4e0, 0x74f, 0x3cc6, 0xf3aa, 0x0, 0x1);
        gbc.writeMem(0x99e1, { 0x34 });
        gbc.writeMem(0xf3aa, { 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xfdb9);
        EXPECT(gbc.pc(), 0x99e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99e1), 0x34);
        EXPECT(gbc.readMem(0xf3aa), 0x50);
        // 34 03AA
        gbc.setState(0x5821, 0xe45b, 0xab30, 0x24c8, 0x3d36, 0xba43, 0x0, 0x0);
        gbc.writeMem(0x5821, { 0x34 });
        gbc.writeMem(0xba43, { 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe45b);
        EXPECT(gbc.pc(), 0x5822);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba43), 0x4c);
        // 34 03AB
        gbc.setState(0x1b38, 0xde62, 0xded0, 0xb490, 0x28a6, 0xa50a, 0x0, 0x1);
        gbc.writeMem(0x1b38, { 0x34 });
        gbc.writeMem(0xa50a, { 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xde62);
        EXPECT(gbc.pc(), 0x1b39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa50a), 0x5f);
        // 34 03AC
        gbc.setState(0x3e14, 0xbb, 0xd720, 0xae5b, 0x4ec8, 0xd597, 0x1, 0x1);
        gbc.writeMem(0x3e14, { 0x34 });
        gbc.writeMem(0xd597, { 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xbb);
        EXPECT(gbc.pc(), 0x3e15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd597), 0x8f);
        // 34 03B2
        gbc.setState(0xa9bf, 0xa0d6, 0xc90, 0x8e71, 0xc14b, 0xb548, 0x1, 0x1);
        gbc.writeMem(0xa9bf, { 0x34 });
        gbc.writeMem(0xb548, { 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xa0d6);
        EXPECT(gbc.pc(), 0xa9c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9bf), 0x34);
        EXPECT(gbc.readMem(0xb548), 0x67);
        // 34 03B4
        gbc.setState(0x3b17, 0xec13, 0x66a0, 0xafe4, 0x406f, 0x88db, 0x0, 0x0);
        gbc.writeMem(0x3b17, { 0x34 });
        gbc.writeMem(0x88db, { 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xec13);
        EXPECT(gbc.pc(), 0x3b18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88db), 0x30);
        // 34 03BF
        gbc.setState(0x6cdd, 0x15bb, 0xef50, 0x1569, 0x694e, 0x87ee, 0x0, 0x0);
        gbc.writeMem(0x6cdd, { 0x34 });
        gbc.writeMem(0x87ee, { 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x15bb);
        EXPECT(gbc.pc(), 0x6cde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87ee), 0xdc);
        // 34 03C0
        gbc.setState(0x33b6, 0xb13, 0x3380, 0x70e7, 0xaafe, 0x9842, 0x0, 0x0);
        gbc.writeMem(0x33b6, { 0x34 });
        gbc.writeMem(0x9842, { 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xb13);
        EXPECT(gbc.pc(), 0x33b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9842), 0x20);
        // 34 03C1
        gbc.setState(0x9329, 0x1ac4, 0xc640, 0x8e67, 0x10a9, 0xd0a3, 0x1, 0x1);
        gbc.writeMem(0x9329, { 0x34 });
        gbc.writeMem(0xd0a3, { 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x1ac4);
        EXPECT(gbc.pc(), 0x932a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9329), 0x34);
        EXPECT(gbc.readMem(0xd0a3), 0x28);
        // 34 03C2
        gbc.setState(0xef51, 0xf38a, 0x5af0, 0x4ef8, 0xaac9, 0xdb71, 0x0, 0x0);
        gbc.writeMem(0xdb71, { 0xf4 });
        gbc.writeMem(0xef51, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xf38a);
        EXPECT(gbc.pc(), 0xef52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb71), 0xf5);
        EXPECT(gbc.readMem(0xef51), 0x34);
        // 34 03C3
        gbc.setState(0x6f02, 0x910e, 0xffb0, 0xddad, 0x2f52, 0xa70b, 0x0, 0x1);
        gbc.writeMem(0x6f02, { 0x34 });
        gbc.writeMem(0xa70b, { 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x910e);
        EXPECT(gbc.pc(), 0x6f03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa70b), 0xf6);
        // 34 03C8
        gbc.setState(0x81af, 0x1779, 0x5730, 0xedb3, 0xe2bb, 0xa17c, 0x1, 0x0);
        gbc.writeMem(0x81af, { 0x34 });
        gbc.writeMem(0xa17c, { 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x1779);
        EXPECT(gbc.pc(), 0x81b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81af), 0x34);
        EXPECT(gbc.readMem(0xa17c), 0x88);
        // 34 03C9
        gbc.setState(0x4be0, 0x8f2a, 0xe0f0, 0x4c5d, 0xb66d, 0xa30d, 0x1, 0x0);
        gbc.writeMem(0x4be0, { 0x34 });
        gbc.writeMem(0xa30d, { 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x8f2a);
        EXPECT(gbc.pc(), 0x4be1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa30d), 0x57);
        // 34 03CE
        gbc.setState(0x6660, 0x7dbb, 0xe890, 0xca59, 0x8362, 0xafa6, 0x0, 0x0);
        gbc.writeMem(0x6660, { 0x34 });
        gbc.writeMem(0xafa6, { 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x7dbb);
        EXPECT(gbc.pc(), 0x6661);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafa6), 0x1d);
        // 34 03D1
        gbc.setState(0x1d31, 0xd621, 0xb6c0, 0xb3c1, 0x1f00, 0xadfe, 0x0, 0x1);
        gbc.writeMem(0x1d31, { 0x34 });
        gbc.writeMem(0xadfe, { 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xd621);
        EXPECT(gbc.pc(), 0x1d32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadfe), 0xd2);
        // 34 03D2
        gbc.setState(0xbc66, 0x7969, 0x6ff0, 0x6de1, 0xf899, 0xa4e5, 0x1, 0x1);
        gbc.writeMem(0xa4e5, { 0xe0 });
        gbc.writeMem(0xbc66, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x7969);
        EXPECT(gbc.pc(), 0xbc67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4e5), 0xe1);
        EXPECT(gbc.readMem(0xbc66), 0x34);
        // 34 03D3
        gbc.setState(0x13b, 0x419a, 0xcee0, 0xff5b, 0x1e5f, 0xbead, 0x1, 0x0);
        gbc.writeMem(0x13b, { 0x34 });
        gbc.writeMem(0xbead, { 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x419a);
        EXPECT(gbc.pc(), 0x13c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbead), 0x74);
        // 34 03D4
        gbc.setState(0xdcb, 0x5dfe, 0x57a0, 0x893d, 0x4a9c, 0x8688, 0x0, 0x1);
        gbc.writeMem(0xdcb, { 0x34 });
        gbc.writeMem(0x8688, { 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x5dfe);
        EXPECT(gbc.pc(), 0xdcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8688), 0x4e);
        // 34 03D6
        gbc.setState(0xb3c3, 0x43e8, 0x26d0, 0xadf7, 0xd856, 0x8816, 0x1, 0x1);
        gbc.writeMem(0x8816, { 0x4a });
        gbc.writeMem(0xb3c3, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x43e8);
        EXPECT(gbc.pc(), 0xb3c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8816), 0x4b);
        EXPECT(gbc.readMem(0xb3c3), 0x34);
        // 34 03D7
        gbc.setState(0xccf1, 0x8fbe, 0x9ef0, 0xec6b, 0x6724, 0x9375, 0x0, 0x1);
        gbc.writeMem(0x9375, { 0x3a });
        gbc.writeMem(0xccf1, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x8fbe);
        EXPECT(gbc.pc(), 0xccf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9375), 0x3b);
        EXPECT(gbc.readMem(0xccf1), 0x34);
        // 34 03D8
        gbc.setState(0xecd6, 0xc392, 0x92a0, 0x19d4, 0x6b07, 0xca3c, 0x0, 0x0);
        gbc.writeMem(0xca3c, { 0xa0 });
        gbc.writeMem(0xecd6, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xc392);
        EXPECT(gbc.pc(), 0xecd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca3c), 0xa1);
        EXPECT(gbc.readMem(0xecd6), 0x34);
        // 34 03D9
        gbc.setState(0xdfdb, 0x3371, 0x250, 0xdc8d, 0xf557, 0xc26e, 0x0, 0x1);
        gbc.writeMem(0xc26e, { 0x58 });
        gbc.writeMem(0xdfdb, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x3371);
        EXPECT(gbc.pc(), 0xdfdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc26e), 0x59);
        EXPECT(gbc.readMem(0xdfdb), 0x34);
        // 34 03DB
        gbc.setState(0x89b3, 0xffc4, 0x7cd0, 0xced4, 0xd98b, 0xd4f6, 0x0, 0x0);
        gbc.writeMem(0x89b3, { 0x34 });
        gbc.writeMem(0xd4f6, { 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xffc4);
        EXPECT(gbc.pc(), 0x89b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89b3), 0x34);
        EXPECT(gbc.readMem(0xd4f6), 0x92);
        // 34 03DE
        gbc.setState(0x9bab, 0x450f, 0xba80, 0x874a, 0x6d64, 0x99d1, 0x0, 0x1);
        gbc.writeMem(0x99d1, { 0x2 });
        gbc.writeMem(0x9bab, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x450f);
        EXPECT(gbc.pc(), 0x9bac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99d1), 0x3);
        EXPECT(gbc.readMem(0x9bab), 0x34);
        // 34 03E0
        gbc.setState(0x2ea5, 0x3383, 0x5830, 0x3167, 0xe97d, 0xa369, 0x1, 0x1);
        gbc.writeMem(0x2ea5, { 0x34 });
        gbc.writeMem(0xa369, { 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x3383);
        EXPECT(gbc.pc(), 0x2ea6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa369), 0x31);
        // 34 03E1
        gbc.setState(0x23c3, 0xc33b, 0x3540, 0x64e3, 0x1d71, 0x8f5a, 0x1, 0x1);
        gbc.writeMem(0x23c3, { 0x34 });
        gbc.writeMem(0x8f5a, { 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xc33b);
        EXPECT(gbc.pc(), 0x23c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f5a), 0x21);
        // 34 03E2
        gbc.setState(0x94ba, 0x2a0f, 0xfc40, 0x3aef, 0x8c51, 0x96d1, 0x0, 0x0);
        gbc.writeMem(0x94ba, { 0x34 });
        gbc.writeMem(0x96d1, { 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x2a0f);
        EXPECT(gbc.pc(), 0x94bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94ba), 0x34);
        EXPECT(gbc.readMem(0x96d1), 0x4b);
        // 34 03E3
        gbc.setState(0x1f25, 0x8532, 0x90a0, 0x9dbf, 0x2fc0, 0xb69a, 0x0, 0x1);
        gbc.writeMem(0x1f25, { 0x34 });
        gbc.writeMem(0xb69a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x8532);
        EXPECT(gbc.pc(), 0x1f26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb69a), 0x8a);
        // 34 03E5
        gbc.setState(0xecde, 0x1c42, 0xf3a0, 0xccde, 0x30fd, 0xdf97, 0x1, 0x1);
        gbc.writeMem(0xdf97, { 0x97 });
        gbc.writeMem(0xecde, { 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x1c42);
        EXPECT(gbc.pc(), 0xecdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf97), 0x98);
        EXPECT(gbc.readMem(0xecde), 0x34);
    }
}
#endif
