    TEST(gbcemu, opcode_05) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 05 0000
        gbc.setState(0x3c94, 0xdd90, 0x95b0, 0xb363, 0x3c86, 0x8174, 0x0, 0x1);
        gbc.writeMem(0x3c94, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xdd90);
        EXPECT(gbc.pc(), 0x3c95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0001
        gbc.setState(0x9c83, 0x5fb4, 0x2120, 0xee8d, 0x6e24, 0x1c96, 0x1, 0x1);
        gbc.writeMem(0x9c83, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x5fb4);
        EXPECT(gbc.pc(), 0x9c84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c83), 0x5);
        // 05 0003
        gbc.setState(0x8cad, 0xec41, 0xbde0, 0xd809, 0x2bce, 0xb836, 0x0, 0x1);
        gbc.writeMem(0x8cad, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xec41);
        EXPECT(gbc.pc(), 0x8cae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cad), 0x5);
        // 05 0004
        gbc.setState(0x740a, 0x458b, 0xa960, 0xad94, 0x92e7, 0xc585, 0x0, 0x0);
        gbc.writeMem(0x740a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x458b);
        EXPECT(gbc.pc(), 0x740b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0005
        gbc.setState(0x69b, 0xe538, 0xd120, 0xd743, 0xed96, 0x6006, 0x0, 0x0);
        gbc.writeMem(0x69b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xe538);
        EXPECT(gbc.pc(), 0x69c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0006
        gbc.setState(0xe253, 0x2e90, 0x59a0, 0x1f62, 0x5d98, 0x7a0e, 0x0, 0x0);
        gbc.writeMem(0xe253, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x2e90);
        EXPECT(gbc.pc(), 0xe254);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe253), 0x5);
        // 05 0007
        gbc.setState(0x5386, 0x7574, 0xa9b0, 0xcd8f, 0xe5e6, 0x7875, 0x0, 0x1);
        gbc.writeMem(0x5386, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x7574);
        EXPECT(gbc.pc(), 0x5387);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0008
        gbc.setState(0xe025, 0x629c, 0xe030, 0xb1d1, 0x77c7, 0x7480, 0x1, 0x0);
        gbc.writeMem(0xe025, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x629c);
        EXPECT(gbc.pc(), 0xe026);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe025), 0x5);
        // 05 0009
        gbc.setState(0xc71e, 0x2b6f, 0xf7b0, 0xf6a0, 0x91c9, 0x8a6a, 0x0, 0x1);
        gbc.writeMem(0xc71e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2b6f);
        EXPECT(gbc.pc(), 0xc71f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc71e), 0x5);
        // 05 000C
        gbc.setState(0xf04, 0x1298, 0x5b20, 0x3726, 0x87a4, 0xf942, 0x1, 0x0);
        gbc.writeMem(0xf04, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x1298);
        EXPECT(gbc.pc(), 0xf05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 000D
        gbc.setState(0x4781, 0x1ae2, 0xb1d0, 0x45d5, 0x6aed, 0x7155, 0x1, 0x0);
        gbc.writeMem(0x4781, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x1ae2);
        EXPECT(gbc.pc(), 0x4782);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 000E
        gbc.setState(0x9a23, 0xe028, 0x10d0, 0xd913, 0x1d58, 0x57a6, 0x0, 0x1);
        gbc.writeMem(0x9a23, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xe028);
        EXPECT(gbc.pc(), 0x9a24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a23), 0x5);
        // 05 000F
        gbc.setState(0x7d51, 0x2475, 0x3520, 0xe1cd, 0x53fc, 0x9e08, 0x1, 0x0);
        gbc.writeMem(0x7d51, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x2475);
        EXPECT(gbc.pc(), 0x7d52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0010
        gbc.setState(0x87d3, 0xa1ec, 0x4b50, 0x194f, 0xc1d3, 0xf1a6, 0x1, 0x0);
        gbc.writeMem(0x87d3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xa1ec);
        EXPECT(gbc.pc(), 0x87d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87d3), 0x5);
        // 05 0011
        gbc.setState(0xd569, 0x2bec, 0x6930, 0x226, 0xa340, 0x3443, 0x1, 0x0);
        gbc.writeMem(0xd569, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x2bec);
        EXPECT(gbc.pc(), 0xd56a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd569), 0x5);
        // 05 0012
        gbc.setState(0xec85, 0x6d0f, 0x7d50, 0x2a2, 0xffc5, 0xce35, 0x1, 0x0);
        gbc.writeMem(0xec85, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x6d0f);
        EXPECT(gbc.pc(), 0xec86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec85), 0x5);
        // 05 0013
        gbc.setState(0x34a9, 0x6ec4, 0x4d10, 0x212d, 0xd889, 0x21f1, 0x0, 0x1);
        gbc.writeMem(0x34a9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x6ec4);
        EXPECT(gbc.pc(), 0x34aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0014
        gbc.setState(0x99d3, 0x10de, 0x5f90, 0xde5c, 0xd47, 0x8d4d, 0x1, 0x1);
        gbc.writeMem(0x99d3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x10de);
        EXPECT(gbc.pc(), 0x99d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99d3), 0x5);
        // 05 0015
        gbc.setState(0x25b7, 0x1d11, 0xef80, 0x1620, 0x538a, 0x43a0, 0x0, 0x1);
        gbc.writeMem(0x25b7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x1d11);
        EXPECT(gbc.pc(), 0x25b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0017
        gbc.setState(0x2bbe, 0xe4dd, 0x25f0, 0xd8a5, 0x3718, 0x72b7, 0x1, 0x1);
        gbc.writeMem(0x2bbe, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xe4dd);
        EXPECT(gbc.pc(), 0x2bbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0018
        gbc.setState(0x60e9, 0x3023, 0x8270, 0x6711, 0x4ae2, 0x5033, 0x0, 0x0);
        gbc.writeMem(0x60e9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x3023);
        EXPECT(gbc.pc(), 0x60ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0019
        gbc.setState(0x73d7, 0xe148, 0x4120, 0xd163, 0x62dc, 0x37ae, 0x1, 0x1);
        gbc.writeMem(0x73d7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xe148);
        EXPECT(gbc.pc(), 0x73d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 001A
        gbc.setState(0xe6ef, 0xc2a8, 0x6540, 0xd56d, 0x4ea3, 0x689, 0x1, 0x0);
        gbc.writeMem(0xe6ef, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xc2a8);
        EXPECT(gbc.pc(), 0xe6f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6ef), 0x5);
        // 05 001B
        gbc.setState(0xd5bb, 0x4738, 0xc070, 0x33b2, 0x4b16, 0x40d, 0x1, 0x0);
        gbc.writeMem(0xd5bb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x4738);
        EXPECT(gbc.pc(), 0xd5bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5bb), 0x5);
        // 05 001C
        gbc.setState(0x42, 0x4694, 0xe880, 0x4e21, 0x5b4c, 0xc94a, 0x1, 0x1);
        gbc.writeMem(0x42, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x4694);
        EXPECT(gbc.pc(), 0x43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 001D
        gbc.setState(0xa29a, 0x6f3e, 0x5d90, 0x9d73, 0x2a53, 0x1e6b, 0x0, 0x1);
        gbc.writeMem(0xa29a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x6f3e);
        EXPECT(gbc.pc(), 0xa29b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa29a), 0x5);
        // 05 001E
        gbc.setState(0x1112, 0xc502, 0x90e0, 0xf44e, 0xe551, 0xb06c, 0x1, 0x0);
        gbc.writeMem(0x1112, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xc502);
        EXPECT(gbc.pc(), 0x1113);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 001F
        gbc.setState(0x651e, 0x4f1c, 0x5fd0, 0x8cb0, 0xbbc2, 0x3289, 0x0, 0x0);
        gbc.writeMem(0x651e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x4f1c);
        EXPECT(gbc.pc(), 0x651f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0020
        gbc.setState(0xe8e5, 0xaf80, 0xb270, 0xbe3d, 0xf687, 0x8caf, 0x0, 0x0);
        gbc.writeMem(0xe8e5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xaf80);
        EXPECT(gbc.pc(), 0xe8e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8e5), 0x5);
        // 05 0021
        gbc.setState(0x5038, 0xbc37, 0xa0d0, 0x7dae, 0xf2c5, 0x24e4, 0x1, 0x0);
        gbc.writeMem(0x5038, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xbc37);
        EXPECT(gbc.pc(), 0x5039);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0022
        gbc.setState(0xd202, 0x8b6e, 0xcd70, 0x8b6, 0x423f, 0xf7c7, 0x1, 0x0);
        gbc.writeMem(0xd202, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x8b6e);
        EXPECT(gbc.pc(), 0xd203);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd202), 0x5);
        // 05 0024
        gbc.setState(0x1127, 0xec29, 0x4990, 0xe9a0, 0x3910, 0x9ffa, 0x0, 0x0);
        gbc.writeMem(0x1127, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xec29);
        EXPECT(gbc.pc(), 0x1128);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0025
        gbc.setState(0x2c46, 0xa3f6, 0x2c10, 0x8a5e, 0x62c4, 0x4145, 0x1, 0x1);
        gbc.writeMem(0x2c46, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xa3f6);
        EXPECT(gbc.pc(), 0x2c47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0027
        gbc.setState(0xa652, 0x2886, 0x7b0, 0x9e73, 0xcb06, 0x77bd, 0x1, 0x0);
        gbc.writeMem(0xa652, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x2886);
        EXPECT(gbc.pc(), 0xa653);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa652), 0x5);
        // 05 0028
        gbc.setState(0xa53c, 0xd3e7, 0x41c0, 0x8365, 0x49ec, 0x4ba5, 0x0, 0x1);
        gbc.writeMem(0xa53c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xd3e7);
        EXPECT(gbc.pc(), 0xa53d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa53c), 0x5);
        // 05 0029
        gbc.setState(0xfcf, 0x5ed8, 0x9780, 0xe07e, 0x9863, 0x1566, 0x1, 0x0);
        gbc.writeMem(0xfcf, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x5ed8);
        EXPECT(gbc.pc(), 0xfd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 002A
        gbc.setState(0xa94b, 0x3d67, 0x1f50, 0x2325, 0x30ef, 0x82ba, 0x1, 0x1);
        gbc.writeMem(0xa94b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x3d67);
        EXPECT(gbc.pc(), 0xa94c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa94b), 0x5);
        // 05 002B
        gbc.setState(0x1a8c, 0x1afc, 0x1a70, 0x8687, 0x4fdb, 0xdb9b, 0x1, 0x1);
        gbc.writeMem(0x1a8c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x1afc);
        EXPECT(gbc.pc(), 0x1a8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 002C
        gbc.setState(0x4d4f, 0xab85, 0x8a90, 0xdb17, 0xa579, 0xc468, 0x1, 0x0);
        gbc.writeMem(0x4d4f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xab85);
        EXPECT(gbc.pc(), 0x4d50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 002D
        gbc.setState(0x7edc, 0x4bf6, 0x1ab0, 0xb4c6, 0xc8ab, 0xc2cf, 0x1, 0x1);
        gbc.writeMem(0x7edc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x4bf6);
        EXPECT(gbc.pc(), 0x7edd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 002E
        gbc.setState(0x7e30, 0x5517, 0xb80, 0xb91c, 0x5c39, 0xed09, 0x0, 0x0);
        gbc.writeMem(0x7e30, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x5517);
        EXPECT(gbc.pc(), 0x7e31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 002F
        gbc.setState(0x4023, 0xa316, 0xae90, 0x7628, 0x48ee, 0x19b7, 0x1, 0x1);
        gbc.writeMem(0x4023, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xa316);
        EXPECT(gbc.pc(), 0x4024);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0030
        gbc.setState(0xdf5a, 0x7979, 0xa8d0, 0x8105, 0x7e5c, 0x8ab9, 0x0, 0x0);
        gbc.writeMem(0xdf5a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x7979);
        EXPECT(gbc.pc(), 0xdf5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf5a), 0x5);
        // 05 0031
        gbc.setState(0x5583, 0x8a13, 0x5a60, 0x3f78, 0x4891, 0x55aa, 0x1, 0x1);
        gbc.writeMem(0x5583, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x8a13);
        EXPECT(gbc.pc(), 0x5584);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0032
        gbc.setState(0xee9f, 0x5694, 0xcaa0, 0x2941, 0x9031, 0xdc1f, 0x0, 0x1);
        gbc.writeMem(0xee9f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5694);
        EXPECT(gbc.pc(), 0xeea0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee9f), 0x5);
        // 05 0034
        gbc.setState(0xe815, 0x1bd1, 0xa2a0, 0x5cda, 0x6831, 0xf164, 0x0, 0x1);
        gbc.writeMem(0xe815, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x1bd1);
        EXPECT(gbc.pc(), 0xe816);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe815), 0x5);
        // 05 0035
        gbc.setState(0x5409, 0x9c40, 0xb50, 0x89db, 0xbd13, 0xb20f, 0x0, 0x0);
        gbc.writeMem(0x5409, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x9c40);
        EXPECT(gbc.pc(), 0x540a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0036
        gbc.setState(0x5800, 0xeda0, 0x8410, 0x769c, 0xba37, 0xe82b, 0x0, 0x1);
        gbc.writeMem(0x5800, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xeda0);
        EXPECT(gbc.pc(), 0x5801);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0037
        gbc.setState(0x9def, 0x6e80, 0x9730, 0x8c0f, 0xcaf2, 0x238e, 0x0, 0x0);
        gbc.writeMem(0x9def, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x6e80);
        EXPECT(gbc.pc(), 0x9df0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9def), 0x5);
        // 05 0038
        gbc.setState(0x2d70, 0xa529, 0xc850, 0x499e, 0x4ae9, 0x5dd6, 0x1, 0x1);
        gbc.writeMem(0x2d70, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xa529);
        EXPECT(gbc.pc(), 0x2d71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0039
        gbc.setState(0x79db, 0xa926, 0x4050, 0x4bca, 0x72e2, 0x60bb, 0x1, 0x1);
        gbc.writeMem(0x79db, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xa926);
        EXPECT(gbc.pc(), 0x79dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 003A
        gbc.setState(0x8364, 0x22e, 0xe560, 0x9d0e, 0xbfe6, 0xe550, 0x0, 0x1);
        gbc.writeMem(0x8364, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x22e);
        EXPECT(gbc.pc(), 0x8365);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8364), 0x5);
        // 05 003B
        gbc.setState(0x2f7e, 0xeb13, 0x2b40, 0xeb3f, 0xe892, 0x47a2, 0x0, 0x0);
        gbc.writeMem(0x2f7e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xeb13);
        EXPECT(gbc.pc(), 0x2f7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 003C
        gbc.setState(0x4997, 0xc891, 0x9380, 0xbc15, 0xe331, 0x185e, 0x0, 0x1);
        gbc.writeMem(0x4997, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xc891);
        EXPECT(gbc.pc(), 0x4998);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 003D
        gbc.setState(0xcc15, 0x125, 0xbb10, 0xb144, 0x86ac, 0x4d13, 0x1, 0x1);
        gbc.writeMem(0xcc15, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x125);
        EXPECT(gbc.pc(), 0xcc16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc15), 0x5);
        // 05 003E
        gbc.setState(0xee4f, 0xd597, 0xbfc0, 0x516e, 0x900a, 0x26e9, 0x0, 0x0);
        gbc.writeMem(0xee4f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xd597);
        EXPECT(gbc.pc(), 0xee50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee4f), 0x5);
        // 05 003F
        gbc.setState(0x530b, 0xd2da, 0x6050, 0xae33, 0x4ca1, 0x274, 0x1, 0x1);
        gbc.writeMem(0x530b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xd2da);
        EXPECT(gbc.pc(), 0x530c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0040
        gbc.setState(0x4027, 0xce2f, 0xc380, 0x2bdc, 0xb32, 0x4d04, 0x0, 0x0);
        gbc.writeMem(0x4027, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xce2f);
        EXPECT(gbc.pc(), 0x4028);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0041
        gbc.setState(0xb121, 0x3f4a, 0x13f0, 0x64be, 0xafb7, 0x120a, 0x1, 0x1);
        gbc.writeMem(0xb121, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x3f4a);
        EXPECT(gbc.pc(), 0xb122);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb121), 0x5);
        // 05 0042
        gbc.setState(0xe730, 0x8198, 0x6450, 0x1023, 0x5aaa, 0xed41, 0x0, 0x0);
        gbc.writeMem(0xe730, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x8198);
        EXPECT(gbc.pc(), 0xe731);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe730), 0x5);
        // 05 0043
        gbc.setState(0xe5d9, 0x3c4e, 0xde90, 0x991d, 0x174e, 0xb18, 0x0, 0x1);
        gbc.writeMem(0xe5d9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x3c4e);
        EXPECT(gbc.pc(), 0xe5da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5d9), 0x5);
        // 05 0044
        gbc.setState(0x59cc, 0xacfa, 0x4620, 0x331, 0xec9b, 0xf939, 0x0, 0x1);
        gbc.writeMem(0x59cc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xacfa);
        EXPECT(gbc.pc(), 0x59cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0045
        gbc.setState(0x67cb, 0xf0ec, 0xb90, 0xc8a6, 0xb88, 0x81be, 0x0, 0x0);
        gbc.writeMem(0x67cb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xf0ec);
        EXPECT(gbc.pc(), 0x67cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0046
        gbc.setState(0x2ec9, 0x5ba0, 0xddd0, 0x288, 0x6c56, 0xf108, 0x1, 0x1);
        gbc.writeMem(0x2ec9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x5ba0);
        EXPECT(gbc.pc(), 0x2eca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0047
        gbc.setState(0x93e3, 0x7c54, 0xdbb0, 0x5637, 0xfac3, 0x4fdc, 0x0, 0x0);
        gbc.writeMem(0x93e3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x7c54);
        EXPECT(gbc.pc(), 0x93e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93e3), 0x5);
        // 05 0048
        gbc.setState(0xbb1, 0xfd5b, 0x65e0, 0x91dd, 0x3bbb, 0x178c, 0x0, 0x1);
        gbc.writeMem(0xbb1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xfd5b);
        EXPECT(gbc.pc(), 0xbb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0049
        gbc.setState(0x1c52, 0x638c, 0xac80, 0x354d, 0xa4a8, 0xb1ec, 0x0, 0x0);
        gbc.writeMem(0x1c52, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x638c);
        EXPECT(gbc.pc(), 0x1c53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 004A
        gbc.setState(0x9d3e, 0x8abb, 0x5ba0, 0x5b29, 0x2de1, 0x6fc, 0x0, 0x1);
        gbc.writeMem(0x9d3e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x8abb);
        EXPECT(gbc.pc(), 0x9d3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d3e), 0x5);
        // 05 004B
        gbc.setState(0xb735, 0x33f7, 0x2e10, 0xd261, 0x92a9, 0xfe42, 0x1, 0x0);
        gbc.writeMem(0xb735, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x33f7);
        EXPECT(gbc.pc(), 0xb736);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb735), 0x5);
        // 05 004C
        gbc.setState(0x1347, 0x916c, 0xd020, 0xe5a6, 0xa49, 0x197b, 0x1, 0x1);
        gbc.writeMem(0x1347, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x916c);
        EXPECT(gbc.pc(), 0x1348);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 004D
        gbc.setState(0xd7c4, 0xa77d, 0xc700, 0x9d8b, 0xaf63, 0xe258, 0x0, 0x1);
        gbc.writeMem(0xd7c4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xa77d);
        EXPECT(gbc.pc(), 0xd7c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7c4), 0x5);
        // 05 004E
        gbc.setState(0x9e4c, 0x114d, 0x4830, 0x3186, 0x6051, 0x335f, 0x0, 0x0);
        gbc.writeMem(0x9e4c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x114d);
        EXPECT(gbc.pc(), 0x9e4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e4c), 0x5);
        // 05 004F
        gbc.setState(0x2b0c, 0x1ccf, 0x3cf0, 0x2981, 0x15ee, 0x1b, 0x0, 0x1);
        gbc.writeMem(0x2b0c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x1ccf);
        EXPECT(gbc.pc(), 0x2b0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0050
        gbc.setState(0x23a9, 0x1f32, 0x17c0, 0x5ec5, 0x2244, 0x3ec6, 0x0, 0x0);
        gbc.writeMem(0x23a9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x1f32);
        EXPECT(gbc.pc(), 0x23aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0051
        gbc.setState(0xe706, 0xca25, 0xecc0, 0xae09, 0x5492, 0xcb29, 0x0, 0x0);
        gbc.writeMem(0xe706, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xca25);
        EXPECT(gbc.pc(), 0xe707);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe706), 0x5);
        // 05 0052
        gbc.setState(0x4713, 0x5786, 0x4a00, 0xc496, 0x31da, 0xeef, 0x0, 0x0);
        gbc.writeMem(0x4713, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x5786);
        EXPECT(gbc.pc(), 0x4714);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0053
        gbc.setState(0xb36c, 0x5751, 0xd80, 0x1cc9, 0xeb35, 0x3c06, 0x0, 0x1);
        gbc.writeMem(0xb36c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x5751);
        EXPECT(gbc.pc(), 0xb36d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb36c), 0x5);
        // 05 0054
        gbc.setState(0x844e, 0xe1b1, 0x73b0, 0x8a68, 0x231d, 0x9e4e, 0x0, 0x1);
        gbc.writeMem(0x844e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe1b1);
        EXPECT(gbc.pc(), 0x844f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x844e), 0x5);
        // 05 0055
        gbc.setState(0x9d3d, 0x7232, 0xd7f0, 0xb1e5, 0x2801, 0x78d6, 0x1, 0x1);
        gbc.writeMem(0x9d3d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x7232);
        EXPECT(gbc.pc(), 0x9d3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d3d), 0x5);
        // 05 0056
        gbc.setState(0x4c71, 0x7c89, 0x3b60, 0xcd36, 0x89d9, 0x70d6, 0x0, 0x0);
        gbc.writeMem(0x4c71, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x7c89);
        EXPECT(gbc.pc(), 0x4c72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0057
        gbc.setState(0x595f, 0xe2ef, 0x3db0, 0x5c30, 0x91ec, 0xba6a, 0x0, 0x0);
        gbc.writeMem(0x595f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xe2ef);
        EXPECT(gbc.pc(), 0x5960);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0058
        gbc.setState(0xaa67, 0x7fca, 0x3070, 0x46ab, 0xa479, 0xae33, 0x0, 0x0);
        gbc.writeMem(0xaa67, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x7fca);
        EXPECT(gbc.pc(), 0xaa68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa67), 0x5);
        // 05 0059
        gbc.setState(0x2f45, 0x49c2, 0x770, 0xbb53, 0x9424, 0x9220, 0x1, 0x1);
        gbc.writeMem(0x2f45, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x49c2);
        EXPECT(gbc.pc(), 0x2f46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 005A
        gbc.setState(0xebc3, 0x9a7, 0xf480, 0xb7be, 0xc0f7, 0x8e8c, 0x0, 0x0);
        gbc.writeMem(0xebc3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x9a7);
        EXPECT(gbc.pc(), 0xebc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebc3), 0x5);
        // 05 005B
        gbc.setState(0x6f5f, 0x8291, 0x96e0, 0x2237, 0x585b, 0x7d2b, 0x1, 0x1);
        gbc.writeMem(0x6f5f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x8291);
        EXPECT(gbc.pc(), 0x6f60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 005C
        gbc.setState(0x682c, 0xdc6b, 0xe1f0, 0xda0d, 0x1c01, 0x220e, 0x1, 0x1);
        gbc.writeMem(0x682c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xdc6b);
        EXPECT(gbc.pc(), 0x682d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 005D
        gbc.setState(0x67b3, 0xf007, 0x2570, 0xee08, 0x965, 0xb039, 0x1, 0x0);
        gbc.writeMem(0x67b3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xf007);
        EXPECT(gbc.pc(), 0x67b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 005E
        gbc.setState(0x48a6, 0xd130, 0xcc00, 0x6c23, 0xcafc, 0x32e6, 0x1, 0x0);
        gbc.writeMem(0x48a6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xd130);
        EXPECT(gbc.pc(), 0x48a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 005F
        gbc.setState(0x5fec, 0x254, 0x3e50, 0xeb25, 0x20d0, 0x574b, 0x1, 0x1);
        gbc.writeMem(0x5fec, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x254);
        EXPECT(gbc.pc(), 0x5fed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0060
        gbc.setState(0x9cdc, 0x7026, 0xc2d0, 0x8481, 0x6163, 0xa233, 0x1, 0x0);
        gbc.writeMem(0x9cdc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x7026);
        EXPECT(gbc.pc(), 0x9cdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cdc), 0x5);
        // 05 0061
        gbc.setState(0x5822, 0xdc0c, 0x5f30, 0x8fef, 0x6ca5, 0xac4b, 0x0, 0x1);
        gbc.writeMem(0x5822, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xdc0c);
        EXPECT(gbc.pc(), 0x5823);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0062
        gbc.setState(0x9c5c, 0x5435, 0x9cb0, 0x89c8, 0x604, 0x4c68, 0x0, 0x1);
        gbc.writeMem(0x9c5c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x5435);
        EXPECT(gbc.pc(), 0x9c5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c5c), 0x5);
        // 05 0064
        gbc.setState(0xeee, 0xa567, 0xd220, 0x2128, 0xe931, 0xd5f5, 0x1, 0x1);
        gbc.writeMem(0xeee, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xa567);
        EXPECT(gbc.pc(), 0xeef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0065
        gbc.setState(0x6ad8, 0x766c, 0xfd90, 0xc3f6, 0x15ba, 0xa8c4, 0x0, 0x0);
        gbc.writeMem(0x6ad8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x766c);
        EXPECT(gbc.pc(), 0x6ad9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0066
        gbc.setState(0x3fee, 0x966, 0x8ac0, 0xc99, 0xc30a, 0xc699, 0x0, 0x1);
        gbc.writeMem(0x3fee, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x966);
        EXPECT(gbc.pc(), 0x3fef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0067
        gbc.setState(0xa7ec, 0x2e4, 0xc170, 0xb7bd, 0xf1ba, 0x2b1b, 0x0, 0x1);
        gbc.writeMem(0xa7ec, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x2e4);
        EXPECT(gbc.pc(), 0xa7ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7ec), 0x5);
        // 05 0069
        gbc.setState(0xebc1, 0x16cf, 0xd850, 0x91e, 0x4d47, 0x4656, 0x0, 0x1);
        gbc.writeMem(0xebc1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x16cf);
        EXPECT(gbc.pc(), 0xebc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebc1), 0x5);
        // 05 006A
        gbc.setState(0x3214, 0xd8fc, 0x4e20, 0xa242, 0x40b0, 0xb377, 0x0, 0x1);
        gbc.writeMem(0x3214, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xd8fc);
        EXPECT(gbc.pc(), 0x3215);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 006B
        gbc.setState(0x4d1e, 0xfb8d, 0x6af0, 0xf75a, 0xc157, 0x9fe5, 0x0, 0x0);
        gbc.writeMem(0x4d1e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xfb8d);
        EXPECT(gbc.pc(), 0x4d1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 006C
        gbc.setState(0x765d, 0xbbb4, 0x3120, 0x738d, 0x314a, 0xc417, 0x0, 0x0);
        gbc.writeMem(0x765d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xbbb4);
        EXPECT(gbc.pc(), 0x765e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 006D
        gbc.setState(0x63fa, 0x33aa, 0x94f0, 0xd549, 0x7af4, 0xece, 0x1, 0x0);
        gbc.writeMem(0x63fa, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x33aa);
        EXPECT(gbc.pc(), 0x63fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 006E
        gbc.setState(0x70bd, 0xfb06, 0x3890, 0xe039, 0x9cb7, 0x119b, 0x1, 0x0);
        gbc.writeMem(0x70bd, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xfb06);
        EXPECT(gbc.pc(), 0x70be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 006F
        gbc.setState(0x4431, 0x71e7, 0x48e0, 0xb749, 0xa524, 0xb5a, 0x0, 0x0);
        gbc.writeMem(0x4431, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x71e7);
        EXPECT(gbc.pc(), 0x4432);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0070
        gbc.setState(0xba9a, 0x2bed, 0x9930, 0xd64a, 0xf457, 0xd989, 0x0, 0x1);
        gbc.writeMem(0xba9a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x2bed);
        EXPECT(gbc.pc(), 0xba9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba9a), 0x5);
        // 05 0071
        gbc.setState(0x343a, 0x1d40, 0x2d20, 0x705f, 0xc1f2, 0xad0b, 0x0, 0x1);
        gbc.writeMem(0x343a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x1d40);
        EXPECT(gbc.pc(), 0x343b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 0072
        gbc.setState(0x7bca, 0x7c8b, 0x6830, 0xbf65, 0x7266, 0x2317, 0x0, 0x1);
        gbc.writeMem(0x7bca, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x7c8b);
        EXPECT(gbc.pc(), 0x7bcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0073
        gbc.setState(0x6772, 0x9d28, 0x8580, 0xcf7c, 0x92b2, 0xc9f3, 0x0, 0x1);
        gbc.writeMem(0x6772, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x9d28);
        EXPECT(gbc.pc(), 0x6773);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0074
        gbc.setState(0xdd02, 0xdc97, 0x21b0, 0x6e8f, 0x43b, 0x3eb7, 0x1, 0x0);
        gbc.writeMem(0xdd02, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xdc97);
        EXPECT(gbc.pc(), 0xdd03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd02), 0x5);
        // 05 0075
        gbc.setState(0x74d1, 0xbd5e, 0xd0, 0xdf6f, 0x38a9, 0x11, 0x0, 0x0);
        gbc.writeMem(0x74d1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xbd5e);
        EXPECT(gbc.pc(), 0x74d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0076
        gbc.setState(0x8183, 0xe0f, 0x5280, 0x7269, 0x71b8, 0xfb41, 0x0, 0x0);
        gbc.writeMem(0x8183, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xe0f);
        EXPECT(gbc.pc(), 0x8184);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8183), 0x5);
        // 05 0077
        gbc.setState(0xe107, 0xdcfb, 0xf800, 0x80e2, 0xd7cc, 0xa87a, 0x0, 0x1);
        gbc.writeMem(0xe107, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xdcfb);
        EXPECT(gbc.pc(), 0xe108);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe107), 0x5);
        // 05 0078
        gbc.setState(0x4f79, 0x4ebe, 0x3c10, 0xa1fe, 0xff26, 0xa0a1, 0x1, 0x1);
        gbc.writeMem(0x4f79, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x4ebe);
        EXPECT(gbc.pc(), 0x4f7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0079
        gbc.setState(0x7, 0x4e04, 0x87d0, 0xeae, 0x10ae, 0x82e, 0x0, 0x0);
        gbc.writeMem(0x7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x4e04);
        EXPECT(gbc.pc(), 0x8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 007A
        gbc.setState(0xb16e, 0x9297, 0x5f90, 0xb609, 0xc5c3, 0xc4dd, 0x1, 0x0);
        gbc.writeMem(0xb16e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x9297);
        EXPECT(gbc.pc(), 0xb16f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb16e), 0x5);
        // 05 007B
        gbc.setState(0x873d, 0x86e4, 0xd790, 0x1af, 0x820d, 0x275c, 0x1, 0x1);
        gbc.writeMem(0x873d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x86e4);
        EXPECT(gbc.pc(), 0x873e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x873d), 0x5);
        // 05 007C
        gbc.setState(0x7c07, 0x8665, 0x4450, 0xef97, 0x4cda, 0xb5, 0x0, 0x1);
        gbc.writeMem(0x7c07, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x8665);
        EXPECT(gbc.pc(), 0x7c08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 007D
        gbc.setState(0x2e6a, 0xc473, 0xa8d0, 0x2c49, 0x1821, 0xb8ad, 0x0, 0x0);
        gbc.writeMem(0x2e6a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xc473);
        EXPECT(gbc.pc(), 0x2e6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 007E
        gbc.setState(0x605d, 0x7c02, 0x54d0, 0xc3fb, 0xa42e, 0x3932, 0x0, 0x0);
        gbc.writeMem(0x605d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x7c02);
        EXPECT(gbc.pc(), 0x605e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 007F
        gbc.setState(0x95e, 0x7dea, 0x1750, 0xc9b2, 0xef2c, 0xe7e0, 0x0, 0x0);
        gbc.writeMem(0x95e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x7dea);
        EXPECT(gbc.pc(), 0x95f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0080
        gbc.setState(0x3f5e, 0xe078, 0x2f0, 0xcf7f, 0xee63, 0x1ac5, 0x1, 0x0);
        gbc.writeMem(0x3f5e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe078);
        EXPECT(gbc.pc(), 0x3f5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0081
        gbc.setState(0x663f, 0xea6b, 0xdde0, 0x9696, 0xa391, 0x6525, 0x1, 0x0);
        gbc.writeMem(0x663f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xea6b);
        EXPECT(gbc.pc(), 0x6640);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0082
        gbc.setState(0xa5ab, 0x1eea, 0xea00, 0xa524, 0x8aa8, 0xebcf, 0x0, 0x0);
        gbc.writeMem(0xa5ab, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x1eea);
        EXPECT(gbc.pc(), 0xa5ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5ab), 0x5);
        // 05 0084
        gbc.setState(0x8e43, 0x48f7, 0xc570, 0xb477, 0x7e18, 0xf6d9, 0x1, 0x0);
        gbc.writeMem(0x8e43, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x48f7);
        EXPECT(gbc.pc(), 0x8e44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e43), 0x5);
        // 05 0085
        gbc.setState(0x59b9, 0xe075, 0xfe60, 0x476a, 0xf36c, 0x93b5, 0x0, 0x1);
        gbc.writeMem(0x59b9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xe075);
        EXPECT(gbc.pc(), 0x59ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0086
        gbc.setState(0xabc2, 0x1d2b, 0xecb0, 0x148f, 0xc151, 0x2c5c, 0x1, 0x1);
        gbc.writeMem(0xabc2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x1d2b);
        EXPECT(gbc.pc(), 0xabc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabc2), 0x5);
        // 05 0087
        gbc.setState(0xa929, 0x64be, 0xea50, 0x7bb8, 0xbd12, 0x6f74, 0x1, 0x0);
        gbc.writeMem(0xa929, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x64be);
        EXPECT(gbc.pc(), 0xa92a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa929), 0x5);
        // 05 0088
        gbc.setState(0x29ea, 0x6bd, 0x70b0, 0x59fd, 0xdc6c, 0xc48a, 0x1, 0x1);
        gbc.writeMem(0x29ea, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x6bd);
        EXPECT(gbc.pc(), 0x29eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0089
        gbc.setState(0xda38, 0xd5e0, 0x1c30, 0x27ef, 0x7f29, 0x23d3, 0x1, 0x1);
        gbc.writeMem(0xda38, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xd5e0);
        EXPECT(gbc.pc(), 0xda39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda38), 0x5);
        // 05 008A
        gbc.setState(0x657c, 0x5292, 0xb540, 0x42ea, 0xf34c, 0x10d3, 0x1, 0x0);
        gbc.writeMem(0x657c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x5292);
        EXPECT(gbc.pc(), 0x657d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 008B
        gbc.setState(0xef1c, 0x1b6f, 0x9c20, 0x73e0, 0x6dee, 0xfed7, 0x1, 0x0);
        gbc.writeMem(0xef1c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x1b6f);
        EXPECT(gbc.pc(), 0xef1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef1c), 0x5);
        // 05 008C
        gbc.setState(0x8cfc, 0xd353, 0x1100, 0x1f25, 0xc571, 0xe1d1, 0x0, 0x1);
        gbc.writeMem(0x8cfc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xd353);
        EXPECT(gbc.pc(), 0x8cfd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cfc), 0x5);
        // 05 008D
        gbc.setState(0xc4b9, 0x9294, 0x7e20, 0x27cf, 0x9638, 0x9400, 0x0, 0x1);
        gbc.writeMem(0xc4b9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x9294);
        EXPECT(gbc.pc(), 0xc4ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4b9), 0x5);
        // 05 008E
        gbc.setState(0x4d5a, 0x37b, 0x9f0, 0xfff6, 0x2b7c, 0x54fc, 0x0, 0x1);
        gbc.writeMem(0x4d5a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x37b);
        EXPECT(gbc.pc(), 0x4d5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 008F
        gbc.setState(0x5e04, 0xca99, 0x74c0, 0xdc2, 0x8edd, 0xb975, 0x0, 0x1);
        gbc.writeMem(0x5e04, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xca99);
        EXPECT(gbc.pc(), 0x5e05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0090
        gbc.setState(0x7190, 0xa299, 0x8f70, 0xddf4, 0x323b, 0x6b18, 0x0, 0x0);
        gbc.writeMem(0x7190, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xa299);
        EXPECT(gbc.pc(), 0x7191);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0092
        gbc.setState(0x8e8d, 0x6d1e, 0xbdc0, 0x5489, 0x426c, 0xa9ad, 0x1, 0x0);
        gbc.writeMem(0x8e8d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x6d1e);
        EXPECT(gbc.pc(), 0x8e8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e8d), 0x5);
        // 05 0093
        gbc.setState(0xdfc5, 0xaeaa, 0x7720, 0xd1e, 0x3dd4, 0x8c6b, 0x1, 0x1);
        gbc.writeMem(0xdfc5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xaeaa);
        EXPECT(gbc.pc(), 0xdfc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfc5), 0x5);
        // 05 0094
        gbc.setState(0xd8f4, 0x785a, 0xea60, 0x5fcc, 0x2f40, 0x676c, 0x0, 0x0);
        gbc.writeMem(0xd8f4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x785a);
        EXPECT(gbc.pc(), 0xd8f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8f4), 0x5);
        // 05 0095
        gbc.setState(0x9c54, 0xd30e, 0xea40, 0xa6cd, 0x7f8c, 0x8b28, 0x1, 0x1);
        gbc.writeMem(0x9c54, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xd30e);
        EXPECT(gbc.pc(), 0x9c55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c54), 0x5);
        // 05 0096
        gbc.setState(0xb164, 0xab9d, 0xaf50, 0xc4a9, 0xbe94, 0x1240, 0x0, 0x1);
        gbc.writeMem(0xb164, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xab9d);
        EXPECT(gbc.pc(), 0xb165);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb164), 0x5);
        // 05 0097
        gbc.setState(0x6818, 0xbde7, 0xa820, 0xb81f, 0x293, 0x394d, 0x1, 0x1);
        gbc.writeMem(0x6818, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xbde7);
        EXPECT(gbc.pc(), 0x6819);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0098
        gbc.setState(0x4bf8, 0x6303, 0xde20, 0x7919, 0x9188, 0x8826, 0x1, 0x1);
        gbc.writeMem(0x4bf8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x6303);
        EXPECT(gbc.pc(), 0x4bf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0099
        gbc.setState(0x8ed, 0xafef, 0x77f0, 0xe0c8, 0x8f30, 0x92a9, 0x0, 0x0);
        gbc.writeMem(0x8ed, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xafef);
        EXPECT(gbc.pc(), 0x8ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 009A
        gbc.setState(0xd384, 0x18bf, 0xbb50, 0xab20, 0x703a, 0xd7c5, 0x1, 0x0);
        gbc.writeMem(0xd384, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x18bf);
        EXPECT(gbc.pc(), 0xd385);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd384), 0x5);
        // 05 009B
        gbc.setState(0xd689, 0xdec3, 0x7c20, 0x8505, 0x503f, 0x95ca, 0x0, 0x1);
        gbc.writeMem(0xd689, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xdec3);
        EXPECT(gbc.pc(), 0xd68a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd689), 0x5);
        // 05 009C
        gbc.setState(0x22ba, 0x5d7c, 0x12b0, 0x41bf, 0x117e, 0x2761, 0x1, 0x0);
        gbc.writeMem(0x22ba, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x5d7c);
        EXPECT(gbc.pc(), 0x22bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 009D
        gbc.setState(0xbd63, 0x9412, 0x3540, 0x7351, 0x1064, 0x31b7, 0x1, 0x0);
        gbc.writeMem(0xbd63, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x9412);
        EXPECT(gbc.pc(), 0xbd64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd63), 0x5);
        // 05 009E
        gbc.setState(0x1000, 0xbfd9, 0x1a80, 0x1007, 0x537, 0x3814, 0x1, 0x1);
        gbc.writeMem(0x1000, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xbfd9);
        EXPECT(gbc.pc(), 0x1001);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 009F
        gbc.setState(0x532d, 0xf90f, 0x9610, 0x775, 0x8360, 0x7ee7, 0x1, 0x1);
        gbc.writeMem(0x532d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xf90f);
        EXPECT(gbc.pc(), 0x532e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00A0
        gbc.setState(0xd197, 0x51, 0xc40, 0x9187, 0xf97d, 0x6125, 0x1, 0x1);
        gbc.writeMem(0xd197, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x51);
        EXPECT(gbc.pc(), 0xd198);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd197), 0x5);
        // 05 00A1
        gbc.setState(0x3e72, 0xb76b, 0xc1c0, 0x9e45, 0xb467, 0xaeff, 0x1, 0x1);
        gbc.writeMem(0x3e72, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xb76b);
        EXPECT(gbc.pc(), 0x3e73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00A2
        gbc.setState(0xce0e, 0x834b, 0x3b10, 0x3698, 0x7301, 0x19df, 0x0, 0x1);
        gbc.writeMem(0xce0e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x834b);
        EXPECT(gbc.pc(), 0xce0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce0e), 0x5);
        // 05 00A3
        gbc.setState(0xe15, 0x681e, 0xf710, 0x9a3a, 0x176c, 0xd7f1, 0x0, 0x1);
        gbc.writeMem(0xe15, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x681e);
        EXPECT(gbc.pc(), 0xe16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00A4
        gbc.setState(0xa77e, 0x2592, 0xf750, 0x9699, 0x1ca6, 0x411, 0x1, 0x1);
        gbc.writeMem(0xa77e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x2592);
        EXPECT(gbc.pc(), 0xa77f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa77e), 0x5);
        // 05 00A5
        gbc.setState(0x64cc, 0x86d3, 0x8b10, 0x68bb, 0xfb2f, 0x59d7, 0x1, 0x1);
        gbc.writeMem(0x64cc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x86d3);
        EXPECT(gbc.pc(), 0x64cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00A6
        gbc.setState(0xdc25, 0xe524, 0x45d0, 0x5008, 0x4264, 0xdce, 0x0, 0x0);
        gbc.writeMem(0xdc25, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xe524);
        EXPECT(gbc.pc(), 0xdc26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc25), 0x5);
        // 05 00A7
        gbc.setState(0xa9fa, 0x275b, 0xfc20, 0x9276, 0x2c83, 0x7b63, 0x0, 0x1);
        gbc.writeMem(0xa9fa, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x275b);
        EXPECT(gbc.pc(), 0xa9fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9fa), 0x5);
        // 05 00A8
        gbc.setState(0x12bf, 0x6d8d, 0xb330, 0xb8d3, 0x2b6b, 0xbc15, 0x0, 0x1);
        gbc.writeMem(0x12bf, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x6d8d);
        EXPECT(gbc.pc(), 0x12c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00A9
        gbc.setState(0x636, 0x97bd, 0x35a0, 0xcb56, 0xee87, 0x9df2, 0x0, 0x1);
        gbc.writeMem(0x636, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x97bd);
        EXPECT(gbc.pc(), 0x637);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00AA
        gbc.setState(0xa3b9, 0xdf14, 0x2890, 0xb44, 0xc2b6, 0x9673, 0x1, 0x1);
        gbc.writeMem(0xa3b9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xdf14);
        EXPECT(gbc.pc(), 0xa3ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3b9), 0x5);
        // 05 00AB
        gbc.setState(0x5012, 0x44a2, 0x370, 0x430d, 0x5926, 0xf392, 0x1, 0x1);
        gbc.writeMem(0x5012, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x44a2);
        EXPECT(gbc.pc(), 0x5013);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00AC
        gbc.setState(0xc147, 0x9a52, 0xea70, 0xdfba, 0xa6ac, 0xa4a6, 0x0, 0x1);
        gbc.writeMem(0xc147, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x9a52);
        EXPECT(gbc.pc(), 0xc148);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc147), 0x5);
        // 05 00AD
        gbc.setState(0xb57a, 0x26d3, 0x9220, 0x2167, 0x3cc0, 0xfc10, 0x1, 0x1);
        gbc.writeMem(0xb57a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x26d3);
        EXPECT(gbc.pc(), 0xb57b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb57a), 0x5);
        // 05 00AE
        gbc.setState(0x9278, 0x4887, 0xf80, 0x30d6, 0xdb80, 0x5c54, 0x0, 0x1);
        gbc.writeMem(0x9278, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x4887);
        EXPECT(gbc.pc(), 0x9279);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9278), 0x5);
        // 05 00AF
        gbc.setState(0x847c, 0x2be5, 0xf040, 0x364, 0x9da9, 0xd58d, 0x1, 0x1);
        gbc.writeMem(0x847c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x2be5);
        EXPECT(gbc.pc(), 0x847d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x847c), 0x5);
        // 05 00B0
        gbc.setState(0x2573, 0xe938, 0xcd20, 0xaff6, 0x109e, 0x40bd, 0x0, 0x1);
        gbc.writeMem(0x2573, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xe938);
        EXPECT(gbc.pc(), 0x2574);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00B1
        gbc.setState(0x9722, 0xf499, 0x46d0, 0xfa41, 0xfc0e, 0xeddb, 0x0, 0x1);
        gbc.writeMem(0x9722, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xf499);
        EXPECT(gbc.pc(), 0x9723);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9722), 0x5);
        // 05 00B2
        gbc.setState(0x7a8f, 0xbcdb, 0xa6c0, 0x6f54, 0x95df, 0x9982, 0x0, 0x0);
        gbc.writeMem(0x7a8f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xbcdb);
        EXPECT(gbc.pc(), 0x7a90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00B3
        gbc.setState(0xa73a, 0x3f9d, 0x7690, 0xb878, 0x9fcd, 0xe4d9, 0x0, 0x0);
        gbc.writeMem(0xa73a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x3f9d);
        EXPECT(gbc.pc(), 0xa73b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa73a), 0x5);
        // 05 00B4
        gbc.setState(0xb20b, 0x6909, 0x2c70, 0x7ebb, 0x611c, 0xf09e, 0x1, 0x0);
        gbc.writeMem(0xb20b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x6909);
        EXPECT(gbc.pc(), 0xb20c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb20b), 0x5);
        // 05 00B5
        gbc.setState(0x9a7, 0xeeb4, 0xb2c0, 0xc11a, 0xbf98, 0x77f4, 0x1, 0x0);
        gbc.writeMem(0x9a7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xeeb4);
        EXPECT(gbc.pc(), 0x9a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00B6
        gbc.setState(0x68ab, 0xfe51, 0xfb50, 0xefed, 0xcec9, 0x7660, 0x0, 0x0);
        gbc.writeMem(0x68ab, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xfe51);
        EXPECT(gbc.pc(), 0x68ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00B7
        gbc.setState(0x4c00, 0xecc, 0xb5e0, 0x59f0, 0xd16c, 0x697c, 0x1, 0x1);
        gbc.writeMem(0x4c00, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xecc);
        EXPECT(gbc.pc(), 0x4c01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00B8
        gbc.setState(0x4f9e, 0x2d86, 0xdef0, 0xbad3, 0x7eb1, 0xe2da, 0x0, 0x1);
        gbc.writeMem(0x4f9e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x2d86);
        EXPECT(gbc.pc(), 0x4f9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00B9
        gbc.setState(0x61db, 0x2bc5, 0xc4a0, 0xd98c, 0x7866, 0x2031, 0x0, 0x0);
        gbc.writeMem(0x61db, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x2bc5);
        EXPECT(gbc.pc(), 0x61dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00BA
        gbc.setState(0xb1c1, 0x6951, 0x4c20, 0x8111, 0xbecb, 0xace, 0x1, 0x1);
        gbc.writeMem(0xb1c1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x6951);
        EXPECT(gbc.pc(), 0xb1c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1c1), 0x5);
        // 05 00BB
        gbc.setState(0xac43, 0x997b, 0x8d00, 0x41dc, 0x52bb, 0xb859, 0x0, 0x1);
        gbc.writeMem(0xac43, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x997b);
        EXPECT(gbc.pc(), 0xac44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac43), 0x5);
        // 05 00BC
        gbc.setState(0xc00c, 0x292a, 0xf000, 0xfdbb, 0xc332, 0x5f17, 0x1, 0x0);
        gbc.writeMem(0xc00c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x292a);
        EXPECT(gbc.pc(), 0xc00d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc00c), 0x5);
        // 05 00BD
        gbc.setState(0x4cbb, 0xff9d, 0x9530, 0x849, 0x33eb, 0x1601, 0x0, 0x1);
        gbc.writeMem(0x4cbb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xff9d);
        EXPECT(gbc.pc(), 0x4cbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00BE
        gbc.setState(0x40b7, 0xb0db, 0xed30, 0x315, 0xdff0, 0x3fcc, 0x1, 0x1);
        gbc.writeMem(0x40b7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xb0db);
        EXPECT(gbc.pc(), 0x40b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00BF
        gbc.setState(0x4a7, 0xf64d, 0x9cd0, 0xe7ac, 0x2814, 0xad07, 0x0, 0x1);
        gbc.writeMem(0x4a7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xf64d);
        EXPECT(gbc.pc(), 0x4a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00C0
        gbc.setState(0x6f27, 0xb38f, 0x9cf0, 0xd212, 0xa697, 0xfee3, 0x0, 0x1);
        gbc.writeMem(0x6f27, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xb38f);
        EXPECT(gbc.pc(), 0x6f28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00C1
        gbc.setState(0xb0fd, 0x74e8, 0x94e0, 0x49d, 0xbe4d, 0xb9c7, 0x0, 0x1);
        gbc.writeMem(0xb0fd, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x74e8);
        EXPECT(gbc.pc(), 0xb0fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0fd), 0x5);
        // 05 00C2
        gbc.setState(0x5369, 0xc2a, 0x9ed0, 0x443c, 0xf74d, 0x2d53, 0x1, 0x0);
        gbc.writeMem(0x5369, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xc2a);
        EXPECT(gbc.pc(), 0x536a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00C3
        gbc.setState(0x7f2e, 0xd61, 0xff60, 0xddfe, 0x47af, 0x8191, 0x0, 0x0);
        gbc.writeMem(0x7f2e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xd61);
        EXPECT(gbc.pc(), 0x7f2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00C4
        gbc.setState(0x4ea6, 0x6d42, 0xd7e0, 0xa91d, 0xd3d4, 0xdf36, 0x0, 0x1);
        gbc.writeMem(0x4ea6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x6d42);
        EXPECT(gbc.pc(), 0x4ea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00C5
        gbc.setState(0xc075, 0x7808, 0xeaa0, 0xca42, 0x18f0, 0xf7d9, 0x0, 0x0);
        gbc.writeMem(0xc075, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x7808);
        EXPECT(gbc.pc(), 0xc076);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc075), 0x5);
        // 05 00C6
        gbc.setState(0xccc7, 0xcb7e, 0x5270, 0x84ef, 0x93ae, 0xd19b, 0x1, 0x1);
        gbc.writeMem(0xccc7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xcb7e);
        EXPECT(gbc.pc(), 0xccc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccc7), 0x5);
        // 05 00C7
        gbc.setState(0xaa36, 0xc534, 0xc860, 0x79c9, 0xe58e, 0x4d85, 0x1, 0x0);
        gbc.writeMem(0xaa36, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xc534);
        EXPECT(gbc.pc(), 0xaa37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa36), 0x5);
        // 05 00C8
        gbc.setState(0xdc19, 0x8df, 0xcce0, 0x31e9, 0x1025, 0xdd71, 0x1, 0x1);
        gbc.writeMem(0xdc19, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x8df);
        EXPECT(gbc.pc(), 0xdc1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc19), 0x5);
        // 05 00C9
        gbc.setState(0x5dce, 0x6858, 0x6df0, 0x21ec, 0x3f5d, 0xc4bd, 0x0, 0x0);
        gbc.writeMem(0x5dce, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x6858);
        EXPECT(gbc.pc(), 0x5dcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00CA
        gbc.setState(0x20bd, 0xdbb9, 0x9550, 0x6d7d, 0x780d, 0x6622, 0x0, 0x0);
        gbc.writeMem(0x20bd, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xdbb9);
        EXPECT(gbc.pc(), 0x20be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00CC
        gbc.setState(0x2cfb, 0xe3f7, 0xab30, 0x54c6, 0x1ef, 0x1b6b, 0x1, 0x0);
        gbc.writeMem(0x2cfb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xe3f7);
        EXPECT(gbc.pc(), 0x2cfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00CE
        gbc.setState(0xb3a4, 0x4eb2, 0x3450, 0x4a72, 0xa380, 0xbfce, 0x1, 0x1);
        gbc.writeMem(0xb3a4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x4eb2);
        EXPECT(gbc.pc(), 0xb3a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3a4), 0x5);
        // 05 00CF
        gbc.setState(0x9fe2, 0x3727, 0x2720, 0xae2c, 0xfdbf, 0x8751, 0x0, 0x0);
        gbc.writeMem(0x9fe2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x3727);
        EXPECT(gbc.pc(), 0x9fe3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fe2), 0x5);
        // 05 00D0
        gbc.setState(0x3b39, 0x2f0d, 0x4410, 0xff62, 0xcac0, 0x6af5, 0x0, 0x1);
        gbc.writeMem(0x3b39, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x2f0d);
        EXPECT(gbc.pc(), 0x3b3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00D1
        gbc.setState(0x83fd, 0x2a10, 0xae70, 0x4929, 0xa6e1, 0x3dc0, 0x0, 0x1);
        gbc.writeMem(0x83fd, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x2a10);
        EXPECT(gbc.pc(), 0x83fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83fd), 0x5);
        // 05 00D2
        gbc.setState(0x2d14, 0x5c29, 0xaf20, 0xfff4, 0x7834, 0x3633, 0x1, 0x1);
        gbc.writeMem(0x2d14, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x5c29);
        EXPECT(gbc.pc(), 0x2d15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00D3
        gbc.setState(0xaae6, 0x245c, 0x9d20, 0xb89f, 0x9669, 0xfbd6, 0x1, 0x0);
        gbc.writeMem(0xaae6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x245c);
        EXPECT(gbc.pc(), 0xaae7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaae6), 0x5);
        // 05 00D4
        gbc.setState(0xda68, 0xaf88, 0x1d60, 0xf575, 0xb665, 0x9052, 0x1, 0x0);
        gbc.writeMem(0xda68, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xaf88);
        EXPECT(gbc.pc(), 0xda69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda68), 0x5);
        // 05 00D6
        gbc.setState(0x14ad, 0xc7de, 0x1070, 0xb603, 0x7cf2, 0x69f4, 0x1, 0x0);
        gbc.writeMem(0x14ad, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xc7de);
        EXPECT(gbc.pc(), 0x14ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00D7
        gbc.setState(0x30fe, 0x8933, 0xe590, 0x21b3, 0x8f5d, 0x466, 0x0, 0x1);
        gbc.writeMem(0x30fe, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x8933);
        EXPECT(gbc.pc(), 0x30ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00D8
        gbc.setState(0xb6c2, 0x7dd8, 0xa10, 0x49ce, 0xc242, 0x97e8, 0x0, 0x1);
        gbc.writeMem(0xb6c2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x7dd8);
        EXPECT(gbc.pc(), 0xb6c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6c2), 0x5);
        // 05 00D9
        gbc.setState(0xb549, 0xedd7, 0x5910, 0x74b, 0x40fa, 0xfb09, 0x0, 0x0);
        gbc.writeMem(0xb549, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xedd7);
        EXPECT(gbc.pc(), 0xb54a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb549), 0x5);
        // 05 00DA
        gbc.setState(0x5b23, 0x453e, 0x6cc0, 0x26d0, 0x100e, 0x6657, 0x0, 0x0);
        gbc.writeMem(0x5b23, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x453e);
        EXPECT(gbc.pc(), 0x5b24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00DB
        gbc.setState(0xc720, 0x9c7e, 0xf920, 0x2b5d, 0xa6ba, 0x4a39, 0x1, 0x1);
        gbc.writeMem(0xc720, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x9c7e);
        EXPECT(gbc.pc(), 0xc721);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc720), 0x5);
        // 05 00DC
        gbc.setState(0x3d51, 0x9dd7, 0xb8c0, 0x88aa, 0x23ed, 0x3f94, 0x1, 0x0);
        gbc.writeMem(0x3d51, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x9dd7);
        EXPECT(gbc.pc(), 0x3d52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00DD
        gbc.setState(0x3824, 0x1716, 0x5350, 0x7a8e, 0xd95d, 0x6b22, 0x0, 0x0);
        gbc.writeMem(0x3824, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x1716);
        EXPECT(gbc.pc(), 0x3825);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00DE
        gbc.setState(0x9c4f, 0x2bb4, 0x5f30, 0x4ccb, 0x693a, 0x7211, 0x1, 0x1);
        gbc.writeMem(0x9c4f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x2bb4);
        EXPECT(gbc.pc(), 0x9c50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c4f), 0x5);
        // 05 00DF
        gbc.setState(0xa564, 0xeed8, 0x19c0, 0xe5c3, 0x4655, 0x53b9, 0x1, 0x0);
        gbc.writeMem(0xa564, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xeed8);
        EXPECT(gbc.pc(), 0xa565);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa564), 0x5);
        // 05 00E0
        gbc.setState(0x2dc1, 0x77ac, 0x5270, 0xef42, 0x155d, 0x4eb6, 0x1, 0x1);
        gbc.writeMem(0x2dc1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x77ac);
        EXPECT(gbc.pc(), 0x2dc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00E1
        gbc.setState(0xbf70, 0x6e93, 0x6c50, 0xbc48, 0xd65e, 0xa44, 0x0, 0x1);
        gbc.writeMem(0xbf70, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x6e93);
        EXPECT(gbc.pc(), 0xbf71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf70), 0x5);
        // 05 00E2
        gbc.setState(0x8735, 0xc5e5, 0xf870, 0x7892, 0x1da8, 0x3f6f, 0x0, 0x0);
        gbc.writeMem(0x8735, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xc5e5);
        EXPECT(gbc.pc(), 0x8736);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8735), 0x5);
        // 05 00E4
        gbc.setState(0x26f4, 0xdf89, 0xdc90, 0x4829, 0x94ba, 0xaeb2, 0x1, 0x1);
        gbc.writeMem(0x26f4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xdf89);
        EXPECT(gbc.pc(), 0x26f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00E5
        gbc.setState(0xe01d, 0xfa35, 0xc2c0, 0xc715, 0xe27e, 0x80c3, 0x0, 0x1);
        gbc.writeMem(0xe01d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xfa35);
        EXPECT(gbc.pc(), 0xe01e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe01d), 0x5);
        // 05 00E6
        gbc.setState(0xefba, 0xb3a1, 0x8ba0, 0xb7d3, 0xb2fd, 0xf5df, 0x1, 0x1);
        gbc.writeMem(0xefba, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xb3a1);
        EXPECT(gbc.pc(), 0xefbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefba), 0x5);
        // 05 00E7
        gbc.setState(0x4447, 0xcb6e, 0xf050, 0x8a6b, 0x4e9f, 0x93d5, 0x0, 0x1);
        gbc.writeMem(0x4447, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xcb6e);
        EXPECT(gbc.pc(), 0x4448);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00E8
        gbc.setState(0x6135, 0xb6f1, 0xc90, 0x47f1, 0x6d1, 0x8f7, 0x0, 0x0);
        gbc.writeMem(0x6135, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xb6f1);
        EXPECT(gbc.pc(), 0x6136);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00E9
        gbc.setState(0xcfa8, 0xf93d, 0x90c0, 0x568f, 0x9616, 0x2adf, 0x1, 0x0);
        gbc.writeMem(0xcfa8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xf93d);
        EXPECT(gbc.pc(), 0xcfa9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfa8), 0x5);
        // 05 00EA
        gbc.setState(0x23cf, 0xef35, 0x4e20, 0xe73e, 0x5e11, 0x1339, 0x0, 0x0);
        gbc.writeMem(0x23cf, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xef35);
        EXPECT(gbc.pc(), 0x23d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00EB
        gbc.setState(0x7ff5, 0xa2d0, 0xfda0, 0x2bcc, 0x7cab, 0x7b7f, 0x1, 0x0);
        gbc.writeMem(0x7ff5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xa2d0);
        EXPECT(gbc.pc(), 0x7ff6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00EC
        gbc.setState(0x166b, 0x5a2f, 0xf120, 0x1489, 0xe91c, 0xa8ca, 0x1, 0x1);
        gbc.writeMem(0x166b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x5a2f);
        EXPECT(gbc.pc(), 0x166c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00ED
        gbc.setState(0x1a50, 0xb67f, 0x99a0, 0xb5cd, 0xde5, 0x71b2, 0x0, 0x1);
        gbc.writeMem(0x1a50, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xb67f);
        EXPECT(gbc.pc(), 0x1a51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00EE
        gbc.setState(0xaf5a, 0x967e, 0xd6e0, 0x35fb, 0x3d16, 0x8197, 0x0, 0x1);
        gbc.writeMem(0xaf5a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x967e);
        EXPECT(gbc.pc(), 0xaf5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf5a), 0x5);
        // 05 00EF
        gbc.setState(0x2e56, 0x98a4, 0xc880, 0x8c95, 0xa9d7, 0xdea9, 0x0, 0x1);
        gbc.writeMem(0x2e56, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x98a4);
        EXPECT(gbc.pc(), 0x2e57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00F0
        gbc.setState(0xc49e, 0xc2cb, 0xfdd0, 0x31a9, 0x6b4, 0xefb5, 0x1, 0x0);
        gbc.writeMem(0xc49e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xc2cb);
        EXPECT(gbc.pc(), 0xc49f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc49e), 0x5);
        // 05 00F1
        gbc.setState(0xe038, 0xa213, 0xc8d0, 0x4daf, 0x5b1d, 0x70f7, 0x0, 0x1);
        gbc.writeMem(0xe038, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa213);
        EXPECT(gbc.pc(), 0xe039);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe038), 0x5);
        // 05 00F2
        gbc.setState(0xeb45, 0x5c88, 0x20a0, 0x5415, 0xaf0b, 0x1501, 0x1, 0x0);
        gbc.writeMem(0xeb45, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x5c88);
        EXPECT(gbc.pc(), 0xeb46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb45), 0x5);
        // 05 00F3
        gbc.setState(0x3ed2, 0x5fa0, 0x2870, 0xa967, 0x9ef, 0xe8b8, 0x1, 0x1);
        gbc.writeMem(0x3ed2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x5fa0);
        EXPECT(gbc.pc(), 0x3ed3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00F4
        gbc.setState(0x4e0a, 0xc3dc, 0xf650, 0xafb2, 0x5ff1, 0x6f45, 0x0, 0x1);
        gbc.writeMem(0x4e0a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xc3dc);
        EXPECT(gbc.pc(), 0x4e0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00F6
        gbc.setState(0x5ef5, 0xe971, 0xe6f0, 0x5c16, 0x7729, 0x967a, 0x1, 0x0);
        gbc.writeMem(0x5ef5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xe971);
        EXPECT(gbc.pc(), 0x5ef6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 00F7
        gbc.setState(0x5787, 0x7d68, 0x1820, 0x8fb, 0x3798, 0x2e5b, 0x0, 0x1);
        gbc.writeMem(0x5787, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x7d68);
        EXPECT(gbc.pc(), 0x5788);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00F9
        gbc.setState(0xc88f, 0x2be9, 0x6b30, 0x1ed7, 0xc433, 0x25cc, 0x1, 0x0);
        gbc.writeMem(0xc88f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x2be9);
        EXPECT(gbc.pc(), 0xc890);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc88f), 0x5);
        // 05 00FA
        gbc.setState(0x407a, 0x837c, 0x73a0, 0x8de, 0x4da7, 0xf523, 0x1, 0x1);
        gbc.writeMem(0x407a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x837c);
        EXPECT(gbc.pc(), 0x407b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00FB
        gbc.setState(0x5fd2, 0x7e52, 0xd500, 0x5655, 0xe23b, 0xc1ca, 0x1, 0x0);
        gbc.writeMem(0x5fd2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x7e52);
        EXPECT(gbc.pc(), 0x5fd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00FC
        gbc.setState(0x1f1b, 0x491c, 0x3c00, 0x5ab8, 0xcc61, 0xdcbd, 0x1, 0x0);
        gbc.writeMem(0x1f1b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x491c);
        EXPECT(gbc.pc(), 0x1f1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00FD
        gbc.setState(0x71e3, 0x151f, 0x1fc0, 0x1c75, 0x69ae, 0x3127, 0x0, 0x1);
        gbc.writeMem(0x71e3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x151f);
        EXPECT(gbc.pc(), 0x71e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00FE
        gbc.setState(0x42ec, 0x331e, 0x2420, 0x6502, 0xad6, 0xb385, 0x1, 0x1);
        gbc.writeMem(0x42ec, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x331e);
        EXPECT(gbc.pc(), 0x42ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 00FF
        gbc.setState(0x29ef, 0xbb63, 0x7f10, 0x1466, 0xf47e, 0xeda, 0x0, 0x0);
        gbc.writeMem(0x29ef, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xbb63);
        EXPECT(gbc.pc(), 0x29f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0100
        gbc.setState(0x658e, 0x4ca7, 0x78e0, 0x80ea, 0xfa9f, 0xd427, 0x1, 0x0);
        gbc.writeMem(0x658e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x4ca7);
        EXPECT(gbc.pc(), 0x658f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 0101
        gbc.setState(0xdb06, 0xace3, 0x4ba0, 0x11a9, 0x4110, 0xc466, 0x1, 0x0);
        gbc.writeMem(0xdb06, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xace3);
        EXPECT(gbc.pc(), 0xdb07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb06), 0x5);
        // 05 0103
        gbc.setState(0x3548, 0x7cc6, 0x3900, 0x9ad, 0xfac3, 0x40b3, 0x1, 0x0);
        gbc.writeMem(0x3548, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x7cc6);
        EXPECT(gbc.pc(), 0x3549);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0104
        gbc.setState(0x89cc, 0xfbc8, 0x9df0, 0x9712, 0x6d07, 0xe27c, 0x1, 0x1);
        gbc.writeMem(0x89cc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xfbc8);
        EXPECT(gbc.pc(), 0x89cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89cc), 0x5);
        // 05 0105
        gbc.setState(0x988f, 0x185a, 0x28b0, 0x4ff7, 0xf5de, 0x6b7a, 0x1, 0x0);
        gbc.writeMem(0x988f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x185a);
        EXPECT(gbc.pc(), 0x9890);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x988f), 0x5);
        // 05 0106
        gbc.setState(0xbd1c, 0x6910, 0xe080, 0xdf4b, 0x146d, 0x7879, 0x1, 0x1);
        gbc.writeMem(0xbd1c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x6910);
        EXPECT(gbc.pc(), 0xbd1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd1c), 0x5);
        // 05 0107
        gbc.setState(0x5d76, 0xe03b, 0x8910, 0x320e, 0xd4a3, 0x44ef, 0x1, 0x0);
        gbc.writeMem(0x5d76, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xe03b);
        EXPECT(gbc.pc(), 0x5d77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0108
        gbc.setState(0x4ebe, 0xff4, 0x75a0, 0x3950, 0xd0d0, 0xc9d7, 0x0, 0x1);
        gbc.writeMem(0x4ebe, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xff4);
        EXPECT(gbc.pc(), 0x4ebf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0109
        gbc.setState(0x9436, 0x2179, 0xa170, 0xe6e1, 0x8831, 0xeefb, 0x0, 0x1);
        gbc.writeMem(0x9436, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2179);
        EXPECT(gbc.pc(), 0x9437);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9436), 0x5);
        // 05 010A
        gbc.setState(0xd45b, 0x181e, 0x3770, 0x7844, 0x83b9, 0x9da1, 0x1, 0x0);
        gbc.writeMem(0xd45b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x181e);
        EXPECT(gbc.pc(), 0xd45c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd45b), 0x5);
        // 05 010B
        gbc.setState(0x9d69, 0x6ce2, 0x4af0, 0xaabd, 0x2f5f, 0xb334, 0x0, 0x1);
        gbc.writeMem(0x9d69, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x6ce2);
        EXPECT(gbc.pc(), 0x9d6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d69), 0x5);
        // 05 010C
        gbc.setState(0x9d, 0xe732, 0x9d00, 0xfbe6, 0x94b8, 0x734e, 0x1, 0x0);
        gbc.writeMem(0x9d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe732);
        EXPECT(gbc.pc(), 0x9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 010D
        gbc.setState(0xdb15, 0x5194, 0x9b20, 0x13d8, 0xa03e, 0x356c, 0x0, 0x0);
        gbc.writeMem(0xdb15, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x5194);
        EXPECT(gbc.pc(), 0xdb16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb15), 0x5);
        // 05 010E
        gbc.setState(0x1892, 0xdde7, 0x6380, 0x2c77, 0xa134, 0x897b, 0x1, 0x0);
        gbc.writeMem(0x1892, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xdde7);
        EXPECT(gbc.pc(), 0x1893);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 010F
        gbc.setState(0x56e1, 0x37d5, 0x4be0, 0xf6cc, 0x4298, 0x3de2, 0x0, 0x1);
        gbc.writeMem(0x56e1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x37d5);
        EXPECT(gbc.pc(), 0x56e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0110
        gbc.setState(0x4df9, 0xa609, 0x81e0, 0x3271, 0xf00a, 0x95d9, 0x1, 0x0);
        gbc.writeMem(0x4df9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xa609);
        EXPECT(gbc.pc(), 0x4dfa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0111
        gbc.setState(0x3997, 0x7736, 0x3270, 0x7576, 0x1881, 0xa083, 0x1, 0x0);
        gbc.writeMem(0x3997, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x7736);
        EXPECT(gbc.pc(), 0x3998);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0112
        gbc.setState(0x3344, 0x4471, 0x46d0, 0xa947, 0x1c2e, 0x3eb5, 0x0, 0x1);
        gbc.writeMem(0x3344, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x4471);
        EXPECT(gbc.pc(), 0x3345);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0113
        gbc.setState(0x11d7, 0xe095, 0x240, 0xe325, 0xc09e, 0x5ac8, 0x1, 0x1);
        gbc.writeMem(0x11d7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xe095);
        EXPECT(gbc.pc(), 0x11d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0114
        gbc.setState(0x6a9e, 0xcfa2, 0x6420, 0x3583, 0xc334, 0xf0fb, 0x1, 0x1);
        gbc.writeMem(0x6a9e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xcfa2);
        EXPECT(gbc.pc(), 0x6a9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0115
        gbc.setState(0x3105, 0x4dcc, 0xc200, 0xf038, 0xa8fa, 0x4c6b, 0x1, 0x0);
        gbc.writeMem(0x3105, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x4dcc);
        EXPECT(gbc.pc(), 0x3106);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 0116
        gbc.setState(0xae99, 0xc169, 0x1d10, 0x1f71, 0x5b4a, 0xf89b, 0x1, 0x0);
        gbc.writeMem(0xae99, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc169);
        EXPECT(gbc.pc(), 0xae9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae99), 0x5);
        // 05 0117
        gbc.setState(0x38bf, 0xc39e, 0x4ae0, 0x6f41, 0xce8a, 0x826a, 0x0, 0x1);
        gbc.writeMem(0x38bf, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xc39e);
        EXPECT(gbc.pc(), 0x38c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0119
        gbc.setState(0x2e57, 0x6309, 0x4f60, 0x2bb3, 0x9aac, 0x4df8, 0x0, 0x0);
        gbc.writeMem(0x2e57, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x6309);
        EXPECT(gbc.pc(), 0x2e58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 011A
        gbc.setState(0x8671, 0xa503, 0x42b0, 0x9c9c, 0x9a67, 0xb745, 0x1, 0x0);
        gbc.writeMem(0x8671, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xa503);
        EXPECT(gbc.pc(), 0x8672);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8671), 0x5);
        // 05 011B
        gbc.setState(0xcbda, 0xc5e5, 0xd080, 0x4dd8, 0xa0f5, 0x6507, 0x1, 0x0);
        gbc.writeMem(0xcbda, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xc5e5);
        EXPECT(gbc.pc(), 0xcbdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbda), 0x5);
        // 05 011C
        gbc.setState(0x1e44, 0x3e00, 0x6a80, 0xbe35, 0xd73c, 0x1bc4, 0x1, 0x0);
        gbc.writeMem(0x1e44, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x3e00);
        EXPECT(gbc.pc(), 0x1e45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 011D
        gbc.setState(0xef4f, 0x11bf, 0xdac0, 0xd25b, 0x4ffd, 0x21f6, 0x1, 0x1);
        gbc.writeMem(0xef4f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x11bf);
        EXPECT(gbc.pc(), 0xef50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef4f), 0x5);
        // 05 011E
        gbc.setState(0xca03, 0x1c04, 0x1a80, 0x52bc, 0xbc69, 0xa136, 0x1, 0x1);
        gbc.writeMem(0xca03, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x1c04);
        EXPECT(gbc.pc(), 0xca04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca03), 0x5);
        // 05 011F
        gbc.setState(0x757d, 0xb95e, 0x1e00, 0x5934, 0xf4f9, 0xcc36, 0x0, 0x0);
        gbc.writeMem(0x757d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xb95e);
        EXPECT(gbc.pc(), 0x757e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0120
        gbc.setState(0xb38e, 0x2ab, 0x3f00, 0x29d8, 0x4f30, 0x777f, 0x0, 0x0);
        gbc.writeMem(0xb38e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2ab);
        EXPECT(gbc.pc(), 0xb38f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb38e), 0x5);
        // 05 0121
        gbc.setState(0x9435, 0xfcac, 0x80a0, 0xb5b4, 0x999a, 0x1729, 0x0, 0x1);
        gbc.writeMem(0x9435, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xfcac);
        EXPECT(gbc.pc(), 0x9436);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9435), 0x5);
        // 05 0122
        gbc.setState(0x207b, 0xaeca, 0x9de0, 0x50d9, 0xf793, 0x1cd2, 0x1, 0x1);
        gbc.writeMem(0x207b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xaeca);
        EXPECT(gbc.pc(), 0x207c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 0123
        gbc.setState(0x7317, 0x9c55, 0xe910, 0xd348, 0x4482, 0x68f3, 0x1, 0x0);
        gbc.writeMem(0x7317, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x9c55);
        EXPECT(gbc.pc(), 0x7318);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0124
        gbc.setState(0x5686, 0xe03e, 0xeb80, 0xee34, 0xf985, 0x5a3c, 0x0, 0x1);
        gbc.writeMem(0x5686, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xe03e);
        EXPECT(gbc.pc(), 0x5687);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0126
        gbc.setState(0xbc32, 0x5055, 0x9d30, 0x83a5, 0xce17, 0x6d1, 0x0, 0x1);
        gbc.writeMem(0xbc32, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x5055);
        EXPECT(gbc.pc(), 0xbc33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc32), 0x5);
        // 05 0127
        gbc.setState(0x1b73, 0xf340, 0xd800, 0xca8c, 0xfc69, 0x648f, 0x0, 0x0);
        gbc.writeMem(0x1b73, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf340);
        EXPECT(gbc.pc(), 0x1b74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0128
        gbc.setState(0x6ba8, 0xd5c, 0x610, 0x1dad, 0xe45d, 0xf7e, 0x0, 0x0);
        gbc.writeMem(0x6ba8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xd5c);
        EXPECT(gbc.pc(), 0x6ba9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0129
        gbc.setState(0xccd4, 0x214f, 0x9530, 0x66b3, 0x9fa1, 0x8955, 0x1, 0x0);
        gbc.writeMem(0xccd4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x214f);
        EXPECT(gbc.pc(), 0xccd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccd4), 0x5);
        // 05 012A
        gbc.setState(0x2f1f, 0x6e13, 0x5fa0, 0xe700, 0xbf70, 0x8a74, 0x1, 0x1);
        gbc.writeMem(0x2f1f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x6e13);
        EXPECT(gbc.pc(), 0x2f20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 012B
        gbc.setState(0xae2f, 0x682a, 0x6880, 0x8aa2, 0x2d52, 0xe1d7, 0x1, 0x0);
        gbc.writeMem(0xae2f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x682a);
        EXPECT(gbc.pc(), 0xae30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae2f), 0x5);
        // 05 012C
        gbc.setState(0xa98a, 0xec5f, 0xce0, 0x1cba, 0xb699, 0xf019, 0x1, 0x0);
        gbc.writeMem(0xa98a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xec5f);
        EXPECT(gbc.pc(), 0xa98b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa98a), 0x5);
        // 05 012D
        gbc.setState(0xd04b, 0xd9c0, 0xf5c0, 0x8482, 0x8956, 0xd9fc, 0x0, 0x0);
        gbc.writeMem(0xd04b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xd9c0);
        EXPECT(gbc.pc(), 0xd04c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd04b), 0x5);
        // 05 012E
        gbc.setState(0xc995, 0xff78, 0xf670, 0x8b78, 0xec59, 0x6e96, 0x1, 0x0);
        gbc.writeMem(0xc995, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xff78);
        EXPECT(gbc.pc(), 0xc996);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc995), 0x5);
        // 05 012F
        gbc.setState(0xaaff, 0xea60, 0x4ee0, 0xdc31, 0x47ce, 0x520b, 0x0, 0x0);
        gbc.writeMem(0xaaff, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xea60);
        EXPECT(gbc.pc(), 0xab00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaff), 0x5);
        // 05 0131
        gbc.setState(0xd54e, 0x3696, 0x3e90, 0xa704, 0xd577, 0x58cc, 0x0, 0x1);
        gbc.writeMem(0xd54e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x3696);
        EXPECT(gbc.pc(), 0xd54f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd54e), 0x5);
        // 05 0132
        gbc.setState(0xd978, 0x32b6, 0x8510, 0xd10b, 0x94cb, 0xba3c, 0x0, 0x1);
        gbc.writeMem(0xd978, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x32b6);
        EXPECT(gbc.pc(), 0xd979);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd978), 0x5);
        // 05 0133
        gbc.setState(0x3015, 0x5675, 0xfac0, 0x2add, 0x1ea4, 0xd541, 0x1, 0x0);
        gbc.writeMem(0x3015, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x5675);
        EXPECT(gbc.pc(), 0x3016);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0134
        gbc.setState(0x5b4, 0x3d82, 0xc980, 0xa3f1, 0x5b2b, 0x38f2, 0x1, 0x0);
        gbc.writeMem(0x5b4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x3d82);
        EXPECT(gbc.pc(), 0x5b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0135
        gbc.setState(0x6d99, 0x445c, 0x50b0, 0xa69e, 0x763d, 0xb168, 0x0, 0x1);
        gbc.writeMem(0x6d99, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x445c);
        EXPECT(gbc.pc(), 0x6d9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0136
        gbc.setState(0x1c5c, 0x8884, 0xabf0, 0xf835, 0x7813, 0x97a6, 0x1, 0x1);
        gbc.writeMem(0x1c5c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x8884);
        EXPECT(gbc.pc(), 0x1c5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0137
        gbc.setState(0x5d78, 0x5d28, 0x1750, 0x36ca, 0xdb53, 0xb170, 0x0, 0x1);
        gbc.writeMem(0x5d78, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x5d28);
        EXPECT(gbc.pc(), 0x5d79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0139
        gbc.setState(0x24fe, 0x2957, 0x5df0, 0x2087, 0xb38c, 0x3159, 0x1, 0x0);
        gbc.writeMem(0x24fe, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x2957);
        EXPECT(gbc.pc(), 0x24ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 013A
        gbc.setState(0x6272, 0x152b, 0x9310, 0xebea, 0x86ab, 0xf274, 0x0, 0x0);
        gbc.writeMem(0x6272, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x152b);
        EXPECT(gbc.pc(), 0x6273);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 013B
        gbc.setState(0x5dba, 0xd20d, 0x8350, 0xefb9, 0xd0cf, 0x1e73, 0x1, 0x1);
        gbc.writeMem(0x5dba, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xd20d);
        EXPECT(gbc.pc(), 0x5dbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 013C
        gbc.setState(0xd5a4, 0x324a, 0x4680, 0xc76b, 0xc13a, 0x8ba5, 0x0, 0x1);
        gbc.writeMem(0xd5a4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x324a);
        EXPECT(gbc.pc(), 0xd5a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5a4), 0x5);
        // 05 013D
        gbc.setState(0x10a7, 0x6ec9, 0x9050, 0xf058, 0xc191, 0x7e96, 0x0, 0x0);
        gbc.writeMem(0x10a7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x6ec9);
        EXPECT(gbc.pc(), 0x10a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 013E
        gbc.setState(0x6e7, 0x9df, 0x3980, 0xd0b0, 0x7b45, 0xe50d, 0x1, 0x0);
        gbc.writeMem(0x6e7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x9df);
        EXPECT(gbc.pc(), 0x6e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 0140
        gbc.setState(0xdbb8, 0x9690, 0x4e80, 0xe36a, 0xceba, 0x2cb8, 0x0, 0x0);
        gbc.writeMem(0xdbb8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x9690);
        EXPECT(gbc.pc(), 0xdbb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbb8), 0x5);
        // 05 0141
        gbc.setState(0xc33a, 0x71f7, 0x8620, 0xd40a, 0x9e64, 0x53a5, 0x1, 0x1);
        gbc.writeMem(0xc33a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x71f7);
        EXPECT(gbc.pc(), 0xc33b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc33a), 0x5);
        // 05 0142
        gbc.setState(0xefc2, 0x3516, 0x87e0, 0xecdb, 0x33a2, 0x4f65, 0x0, 0x0);
        gbc.writeMem(0xefc2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x3516);
        EXPECT(gbc.pc(), 0xefc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefc2), 0x5);
        // 05 0143
        gbc.setState(0x2454, 0x29bf, 0x3920, 0x3b4c, 0x85, 0xc33a, 0x0, 0x0);
        gbc.writeMem(0x2454, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x29bf);
        EXPECT(gbc.pc(), 0x2455);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0144
        gbc.setState(0x4d41, 0x3c34, 0x48b0, 0x6879, 0xd3da, 0xbd31, 0x0, 0x1);
        gbc.writeMem(0x4d41, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x3c34);
        EXPECT(gbc.pc(), 0x4d42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0145
        gbc.setState(0xa3a8, 0x5c9e, 0xa960, 0xeab0, 0xb2d7, 0x577, 0x0, 0x1);
        gbc.writeMem(0xa3a8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x5c9e);
        EXPECT(gbc.pc(), 0xa3a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3a8), 0x5);
        // 05 0146
        gbc.setState(0x2c89, 0x3c35, 0x9a80, 0xb6c3, 0xdb13, 0x7f34, 0x0, 0x0);
        gbc.writeMem(0x2c89, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x3c35);
        EXPECT(gbc.pc(), 0x2c8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0147
        gbc.setState(0xd288, 0x13, 0x6980, 0x3a73, 0x5069, 0x7e23, 0x0, 0x1);
        gbc.writeMem(0xd288, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x13);
        EXPECT(gbc.pc(), 0xd289);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd288), 0x5);
        // 05 0148
        gbc.setState(0x7ee3, 0x5754, 0x9810, 0xd64, 0xdb8e, 0xb2ae, 0x0, 0x0);
        gbc.writeMem(0x7ee3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x5754);
        EXPECT(gbc.pc(), 0x7ee4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0149
        gbc.setState(0x47a2, 0x205d, 0x6150, 0x4282, 0xd884, 0x5b6b, 0x1, 0x1);
        gbc.writeMem(0x47a2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x205d);
        EXPECT(gbc.pc(), 0x47a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 014A
        gbc.setState(0xcfaa, 0xcaa7, 0xb000, 0x58f2, 0xec8d, 0x3f6, 0x1, 0x1);
        gbc.writeMem(0xcfaa, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xcaa7);
        EXPECT(gbc.pc(), 0xcfab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfaa), 0x5);
        // 05 014B
        gbc.setState(0xd395, 0x33fb, 0x5fe0, 0xc0ec, 0xb475, 0xdcf2, 0x1, 0x0);
        gbc.writeMem(0xd395, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x33fb);
        EXPECT(gbc.pc(), 0xd396);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd395), 0x5);
        // 05 014C
        gbc.setState(0x8d5b, 0x2636, 0x74a0, 0x89d5, 0x7022, 0x26bb, 0x1, 0x1);
        gbc.writeMem(0x8d5b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2636);
        EXPECT(gbc.pc(), 0x8d5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d5b), 0x5);
        // 05 014D
        gbc.setState(0x3875, 0x924d, 0x14c0, 0x258, 0xb8f6, 0xce01, 0x1, 0x0);
        gbc.writeMem(0x3875, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x924d);
        EXPECT(gbc.pc(), 0x3876);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 014E
        gbc.setState(0x2721, 0x6ba3, 0xd30, 0xc76c, 0x2d71, 0xc0cc, 0x0, 0x0);
        gbc.writeMem(0x2721, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x6ba3);
        EXPECT(gbc.pc(), 0x2722);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 014F
        gbc.setState(0x9c16, 0xfd9a, 0x60e0, 0x3f6d, 0x1c1c, 0xdd4e, 0x0, 0x0);
        gbc.writeMem(0x9c16, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xfd9a);
        EXPECT(gbc.pc(), 0x9c17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c16), 0x5);
        // 05 0150
        gbc.setState(0xd9a, 0x11e3, 0x78d0, 0xa794, 0x2818, 0xa82d, 0x0, 0x1);
        gbc.writeMem(0xd9a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x11e3);
        EXPECT(gbc.pc(), 0xd9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0151
        gbc.setState(0x3400, 0x2be8, 0x9740, 0xa934, 0xd0c7, 0x7ea7, 0x1, 0x0);
        gbc.writeMem(0x3400, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x2be8);
        EXPECT(gbc.pc(), 0x3401);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0152
        gbc.setState(0x8d88, 0x10d5, 0x32f0, 0xf9a0, 0x3a04, 0x59c3, 0x1, 0x0);
        gbc.writeMem(0x8d88, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x10d5);
        EXPECT(gbc.pc(), 0x8d89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d88), 0x5);
        // 05 0153
        gbc.setState(0x899d, 0xbedd, 0x4690, 0x1c17, 0x7b51, 0x6a66, 0x0, 0x1);
        gbc.writeMem(0x899d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xbedd);
        EXPECT(gbc.pc(), 0x899e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x899d), 0x5);
        // 05 0154
        gbc.setState(0x22d0, 0x8354, 0xd2f0, 0x9c4a, 0x537, 0x97f9, 0x0, 0x1);
        gbc.writeMem(0x22d0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x8354);
        EXPECT(gbc.pc(), 0x22d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0155
        gbc.setState(0x6bcb, 0xd349, 0x2630, 0x7dc4, 0xf7da, 0x64e6, 0x1, 0x1);
        gbc.writeMem(0x6bcb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xd349);
        EXPECT(gbc.pc(), 0x6bcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0156
        gbc.setState(0x3f66, 0x7194, 0x82a0, 0xc5cc, 0x4c6d, 0x3f7c, 0x1, 0x1);
        gbc.writeMem(0x3f66, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x7194);
        EXPECT(gbc.pc(), 0x3f67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0157
        gbc.setState(0x362b, 0x775, 0x3b0, 0x9f0f, 0xac8, 0x9e9a, 0x0, 0x1);
        gbc.writeMem(0x362b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x775);
        EXPECT(gbc.pc(), 0x362c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0158
        gbc.setState(0x753, 0xb42a, 0x3d80, 0x40ff, 0x81c9, 0x4275, 0x1, 0x0);
        gbc.writeMem(0x753, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xb42a);
        EXPECT(gbc.pc(), 0x754);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 0159
        gbc.setState(0x32d0, 0xcd07, 0x37b0, 0x143c, 0x7ff7, 0xb789, 0x1, 0x1);
        gbc.writeMem(0x32d0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xcd07);
        EXPECT(gbc.pc(), 0x32d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 015A
        gbc.setState(0x803a, 0x9fc0, 0xf4f0, 0x2203, 0x79a6, 0xe549, 0x1, 0x1);
        gbc.writeMem(0x803a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x9fc0);
        EXPECT(gbc.pc(), 0x803b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x803a), 0x5);
        // 05 015B
        gbc.setState(0x8be2, 0x3890, 0x2700, 0xc292, 0x76f7, 0x6100, 0x1, 0x1);
        gbc.writeMem(0x8be2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x3890);
        EXPECT(gbc.pc(), 0x8be3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8be2), 0x5);
        // 05 015C
        gbc.setState(0x9e04, 0x2c1c, 0x1c40, 0x587f, 0x258d, 0xfc6c, 0x1, 0x0);
        gbc.writeMem(0x9e04, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x2c1c);
        EXPECT(gbc.pc(), 0x9e05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e04), 0x5);
        // 05 015D
        gbc.setState(0x26b, 0x43c2, 0xf150, 0x3348, 0x6882, 0xf3bc, 0x0, 0x1);
        gbc.writeMem(0x26b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x43c2);
        EXPECT(gbc.pc(), 0x26c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 015E
        gbc.setState(0xed99, 0xc602, 0xd510, 0x50e6, 0x4e80, 0x5f67, 0x0, 0x1);
        gbc.writeMem(0xed99, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xc602);
        EXPECT(gbc.pc(), 0xed9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed99), 0x5);
        // 05 015F
        gbc.setState(0x5885, 0x8604, 0x4100, 0x2853, 0x7fc1, 0xd190, 0x1, 0x1);
        gbc.writeMem(0x5885, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x8604);
        EXPECT(gbc.pc(), 0x5886);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0160
        gbc.setState(0x7af8, 0xa504, 0x5540, 0x1078, 0x261b, 0xd0f0, 0x1, 0x0);
        gbc.writeMem(0x7af8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xa504);
        EXPECT(gbc.pc(), 0x7af9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 0161
        gbc.setState(0x5993, 0x7258, 0xffc0, 0xeb6e, 0xb6c7, 0x510b, 0x0, 0x0);
        gbc.writeMem(0x5993, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x7258);
        EXPECT(gbc.pc(), 0x5994);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0162
        gbc.setState(0x233, 0xd5a2, 0xdd90, 0x7e2e, 0xabbc, 0xb7d9, 0x0, 0x0);
        gbc.writeMem(0x233, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xd5a2);
        EXPECT(gbc.pc(), 0x234);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0163
        gbc.setState(0xd127, 0x5c8a, 0x260, 0x50e, 0xe501, 0xfed8, 0x1, 0x0);
        gbc.writeMem(0xd127, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x5c8a);
        EXPECT(gbc.pc(), 0xd128);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd127), 0x5);
        // 05 0164
        gbc.setState(0x98cb, 0x406b, 0xd130, 0xf1a9, 0xd628, 0xd88f, 0x1, 0x0);
        gbc.writeMem(0x98cb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x406b);
        EXPECT(gbc.pc(), 0x98cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98cb), 0x5);
        // 05 0165
        gbc.setState(0xcdca, 0xf5c5, 0xeae0, 0xf6c7, 0x91c1, 0x520a, 0x0, 0x0);
        gbc.writeMem(0xcdca, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xf5c5);
        EXPECT(gbc.pc(), 0xcdcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdca), 0x5);
        // 05 0166
        gbc.setState(0x46fc, 0xf9ab, 0xf240, 0x145d, 0xca35, 0xfc9d, 0x0, 0x1);
        gbc.writeMem(0x46fc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xf9ab);
        EXPECT(gbc.pc(), 0x46fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0167
        gbc.setState(0x3a04, 0x351f, 0x9650, 0xf7a6, 0xe9fb, 0xd5f4, 0x1, 0x0);
        gbc.writeMem(0x3a04, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x351f);
        EXPECT(gbc.pc(), 0x3a05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0168
        gbc.setState(0x1d65, 0x37d3, 0x200, 0xd494, 0xa136, 0x6e03, 0x1, 0x1);
        gbc.writeMem(0x1d65, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x37d3);
        EXPECT(gbc.pc(), 0x1d66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0169
        gbc.setState(0xe9da, 0x682e, 0x2030, 0x1bb0, 0x7e63, 0x2677, 0x0, 0x0);
        gbc.writeMem(0xe9da, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x682e);
        EXPECT(gbc.pc(), 0xe9db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9da), 0x5);
        // 05 016A
        gbc.setState(0xefe7, 0xcf1b, 0x9ee0, 0x7a76, 0x4132, 0x1492, 0x1, 0x1);
        gbc.writeMem(0xefe7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xcf1b);
        EXPECT(gbc.pc(), 0xefe8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefe7), 0x5);
        // 05 016B
        gbc.setState(0x9625, 0xe52f, 0xaab0, 0xf19d, 0xbd55, 0x42d2, 0x0, 0x0);
        gbc.writeMem(0x9625, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xe52f);
        EXPECT(gbc.pc(), 0x9626);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9625), 0x5);
        // 05 016C
        gbc.setState(0x365, 0xfec2, 0x9a00, 0x73ee, 0x48c7, 0xddeb, 0x0, 0x0);
        gbc.writeMem(0x365, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xfec2);
        EXPECT(gbc.pc(), 0x366);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 016D
        gbc.setState(0x5425, 0xf824, 0x190, 0xcba5, 0xed74, 0x79f6, 0x0, 0x0);
        gbc.writeMem(0x5425, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xf824);
        EXPECT(gbc.pc(), 0x5426);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 016E
        gbc.setState(0xc9a5, 0x124, 0xf4a0, 0x896, 0xbf4b, 0xe992, 0x0, 0x0);
        gbc.writeMem(0xc9a5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x124);
        EXPECT(gbc.pc(), 0xc9a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9a5), 0x5);
        // 05 016F
        gbc.setState(0x3549, 0x623, 0x3af0, 0x4707, 0x603c, 0x7d31, 0x1, 0x0);
        gbc.writeMem(0x3549, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x623);
        EXPECT(gbc.pc(), 0x354a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0170
        gbc.setState(0x3732, 0x88ce, 0xa890, 0xf0c4, 0x1a8e, 0x822a, 0x1, 0x1);
        gbc.writeMem(0x3732, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x88ce);
        EXPECT(gbc.pc(), 0x3733);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 0171
        gbc.setState(0x7d22, 0xe15b, 0xef40, 0xbe13, 0x72c2, 0xcca9, 0x0, 0x1);
        gbc.writeMem(0x7d22, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xe15b);
        EXPECT(gbc.pc(), 0x7d23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0172
        gbc.setState(0xba2e, 0xd960, 0x3660, 0xc352, 0x64e2, 0xab7d, 0x1, 0x0);
        gbc.writeMem(0xba2e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xd960);
        EXPECT(gbc.pc(), 0xba2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba2e), 0x5);
        // 05 0173
        gbc.setState(0x2966, 0xba96, 0xc5e0, 0x56fa, 0x4646, 0xa6cc, 0x0, 0x1);
        gbc.writeMem(0x2966, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xba96);
        EXPECT(gbc.pc(), 0x2967);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0175
        gbc.setState(0x8710, 0xb9e1, 0x6320, 0xfc4f, 0x5d29, 0x5d20, 0x1, 0x0);
        gbc.writeMem(0x8710, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xb9e1);
        EXPECT(gbc.pc(), 0x8711);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8710), 0x5);
        // 05 0176
        gbc.setState(0xe1f2, 0xae7f, 0x80c0, 0xe9b6, 0x800, 0x494a, 0x0, 0x0);
        gbc.writeMem(0xe1f2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xae7f);
        EXPECT(gbc.pc(), 0xe1f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1f2), 0x5);
        // 05 0177
        gbc.setState(0x983a, 0x5dd8, 0xcb40, 0x499f, 0x375b, 0x407e, 0x0, 0x1);
        gbc.writeMem(0x983a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x5dd8);
        EXPECT(gbc.pc(), 0x983b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x983a), 0x5);
        // 05 0178
        gbc.setState(0x4809, 0xb441, 0xd7f0, 0x9195, 0xf5bb, 0x9088, 0x0, 0x0);
        gbc.writeMem(0x4809, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xb441);
        EXPECT(gbc.pc(), 0x480a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0179
        gbc.setState(0xc830, 0x3fb1, 0x9f90, 0xca0, 0x974f, 0x4314, 0x1, 0x1);
        gbc.writeMem(0xc830, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x3fb1);
        EXPECT(gbc.pc(), 0xc831);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc830), 0x5);
        // 05 017B
        gbc.setState(0x7f1a, 0x8206, 0x27f0, 0x1c17, 0x77fb, 0x44ce, 0x1, 0x1);
        gbc.writeMem(0x7f1a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x8206);
        EXPECT(gbc.pc(), 0x7f1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 017C
        gbc.setState(0xade2, 0x27c0, 0x29b0, 0xda52, 0x8f67, 0x96f6, 0x0, 0x0);
        gbc.writeMem(0xade2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x27c0);
        EXPECT(gbc.pc(), 0xade3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xade2), 0x5);
        // 05 017D
        gbc.setState(0xe098, 0xe97, 0x2dc0, 0x45d7, 0x6ba0, 0xfe60, 0x1, 0x0);
        gbc.writeMem(0xe098, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xe97);
        EXPECT(gbc.pc(), 0xe099);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe098), 0x5);
        // 05 017F
        gbc.setState(0x1cf0, 0x4897, 0x21f0, 0x353e, 0x42f4, 0xad84, 0x1, 0x1);
        gbc.writeMem(0x1cf0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x4897);
        EXPECT(gbc.pc(), 0x1cf1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0180
        gbc.setState(0xa8c6, 0x7b88, 0x1430, 0x32e5, 0x3ebf, 0xe52c, 0x0, 0x1);
        gbc.writeMem(0xa8c6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x7b88);
        EXPECT(gbc.pc(), 0xa8c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8c6), 0x5);
        // 05 0181
        gbc.setState(0x7300, 0xb23e, 0x5c10, 0x9bf3, 0xb8dc, 0xa9d5, 0x1, 0x0);
        gbc.writeMem(0x7300, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xb23e);
        EXPECT(gbc.pc(), 0x7301);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0182
        gbc.setState(0xb63d, 0x890f, 0x4890, 0x1c20, 0x4c74, 0xb3d2, 0x0, 0x0);
        gbc.writeMem(0xb63d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x890f);
        EXPECT(gbc.pc(), 0xb63e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb63d), 0x5);
        // 05 0183
        gbc.setState(0x728d, 0x2577, 0x3b60, 0x4abc, 0xfaa0, 0xa29b, 0x0, 0x1);
        gbc.writeMem(0x728d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x2577);
        EXPECT(gbc.pc(), 0x728e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0184
        gbc.setState(0xd86, 0x993f, 0x2d80, 0x5886, 0xa13a, 0xafce, 0x1, 0x1);
        gbc.writeMem(0xd86, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x993f);
        EXPECT(gbc.pc(), 0xd87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0185
        gbc.setState(0x7c4, 0xb965, 0xcc50, 0xdcad, 0x72bc, 0xa929, 0x1, 0x1);
        gbc.writeMem(0x7c4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xb965);
        EXPECT(gbc.pc(), 0x7c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0186
        gbc.setState(0xe6fa, 0xf6e6, 0xe110, 0xc41f, 0x2156, 0x38a6, 0x0, 0x1);
        gbc.writeMem(0xe6fa, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xf6e6);
        EXPECT(gbc.pc(), 0xe6fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6fa), 0x5);
        // 05 0187
        gbc.setState(0x1c82, 0xc508, 0xd8c0, 0xf987, 0x9817, 0xc675, 0x0, 0x1);
        gbc.writeMem(0x1c82, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xc508);
        EXPECT(gbc.pc(), 0x1c83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 018A
        gbc.setState(0xb569, 0xe739, 0xc4c0, 0x85ac, 0x46b7, 0x92fa, 0x1, 0x0);
        gbc.writeMem(0xb569, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xe739);
        EXPECT(gbc.pc(), 0xb56a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb569), 0x5);
        // 05 018B
        gbc.setState(0xd000, 0x8d08, 0x4910, 0x7b3c, 0x1786, 0xce06, 0x0, 0x0);
        gbc.writeMem(0xd000, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x8d08);
        EXPECT(gbc.pc(), 0xd001);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd000), 0x5);
        // 05 018C
        gbc.setState(0x4dcb, 0xb0ba, 0xdd30, 0xd1a3, 0x2315, 0xfafc, 0x1, 0x0);
        gbc.writeMem(0x4dcb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xb0ba);
        EXPECT(gbc.pc(), 0x4dcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 018D
        gbc.setState(0xd45b, 0xb53d, 0x6820, 0x3880, 0xbe84, 0xe00d, 0x1, 0x1);
        gbc.writeMem(0xd45b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xb53d);
        EXPECT(gbc.pc(), 0xd45c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd45b), 0x5);
        // 05 018F
        gbc.setState(0x96ee, 0xfe56, 0x20d0, 0x9d11, 0xe331, 0x7b2d, 0x1, 0x0);
        gbc.writeMem(0x96ee, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xfe56);
        EXPECT(gbc.pc(), 0x96ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96ee), 0x5);
        // 05 0190
        gbc.setState(0x4f1, 0x977a, 0x4610, 0x959b, 0x56e5, 0xc4d7, 0x1, 0x1);
        gbc.writeMem(0x4f1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x977a);
        EXPECT(gbc.pc(), 0x4f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0191
        gbc.setState(0xe85e, 0xcb5f, 0x290, 0xe94e, 0xc1ec, 0xf39b, 0x0, 0x1);
        gbc.writeMem(0xe85e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xcb5f);
        EXPECT(gbc.pc(), 0xe85f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe85e), 0x5);
        // 05 0192
        gbc.setState(0x3b34, 0x8a81, 0x3640, 0xf971, 0xc11d, 0xfe59, 0x0, 0x1);
        gbc.writeMem(0x3b34, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x8a81);
        EXPECT(gbc.pc(), 0x3b35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0193
        gbc.setState(0x1ad8, 0xe999, 0x1370, 0x5e30, 0x1f84, 0x8395, 0x0, 0x0);
        gbc.writeMem(0x1ad8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xe999);
        EXPECT(gbc.pc(), 0x1ad9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0194
        gbc.setState(0x4a06, 0x2ae2, 0xc890, 0xad25, 0x2cba, 0x83a3, 0x1, 0x0);
        gbc.writeMem(0x4a06, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x2ae2);
        EXPECT(gbc.pc(), 0x4a07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0195
        gbc.setState(0xc02b, 0xd760, 0xed00, 0x7a4e, 0x31a3, 0x4e1a, 0x1, 0x1);
        gbc.writeMem(0xc02b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xd760);
        EXPECT(gbc.pc(), 0xc02c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc02b), 0x5);
        // 05 0197
        gbc.setState(0x7ff5, 0x3ba2, 0x2a40, 0xe9eb, 0x1ba8, 0x4449, 0x0, 0x0);
        gbc.writeMem(0x7ff5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x3ba2);
        EXPECT(gbc.pc(), 0x7ff6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0198
        gbc.setState(0xed5a, 0x5920, 0x360, 0xb938, 0xc990, 0x5ca2, 0x0, 0x0);
        gbc.writeMem(0xed5a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x5920);
        EXPECT(gbc.pc(), 0xed5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed5a), 0x5);
        // 05 0199
        gbc.setState(0x98c4, 0xa407, 0xe680, 0x1c1f, 0x99bf, 0x999e, 0x0, 0x1);
        gbc.writeMem(0x98c4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xa407);
        EXPECT(gbc.pc(), 0x98c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98c4), 0x5);
        // 05 019A
        gbc.setState(0xdec1, 0x493f, 0x8c60, 0xd7fa, 0x913b, 0x6403, 0x1, 0x0);
        gbc.writeMem(0xdec1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x493f);
        EXPECT(gbc.pc(), 0xdec2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdec1), 0x5);
        // 05 019B
        gbc.setState(0x62e7, 0x28a4, 0x4750, 0xf6ee, 0xc656, 0x693d, 0x1, 0x0);
        gbc.writeMem(0x62e7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x28a4);
        EXPECT(gbc.pc(), 0x62e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 019C
        gbc.setState(0x534b, 0xf185, 0xeba0, 0x1298, 0xfd3c, 0xd17a, 0x1, 0x0);
        gbc.writeMem(0x534b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xf185);
        EXPECT(gbc.pc(), 0x534c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 019D
        gbc.setState(0x91cc, 0xfcd2, 0xb360, 0x86ec, 0x9325, 0xf23, 0x0, 0x0);
        gbc.writeMem(0x91cc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xfcd2);
        EXPECT(gbc.pc(), 0x91cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91cc), 0x5);
        // 05 019E
        gbc.setState(0x1dd2, 0x8a07, 0x5c70, 0x69d7, 0xf082, 0xa7ed, 0x1, 0x1);
        gbc.writeMem(0x1dd2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x8a07);
        EXPECT(gbc.pc(), 0x1dd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 019F
        gbc.setState(0x3ecc, 0xdf6c, 0x6b60, 0xaf40, 0xeee5, 0xdc4c, 0x0, 0x0);
        gbc.writeMem(0x3ecc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xdf6c);
        EXPECT(gbc.pc(), 0x3ecd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01A3
        gbc.setState(0x7b58, 0xb96, 0x400, 0xaacf, 0xd1ee, 0xcb79, 0x0, 0x1);
        gbc.writeMem(0x7b58, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xb96);
        EXPECT(gbc.pc(), 0x7b59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01A4
        gbc.setState(0xbfa4, 0x5c1, 0x4900, 0x963, 0x932c, 0x2247, 0x0, 0x1);
        gbc.writeMem(0xbfa4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x5c1);
        EXPECT(gbc.pc(), 0xbfa5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfa4), 0x5);
        // 05 01A5
        gbc.setState(0xe37a, 0x814e, 0xccf0, 0x8852, 0xaa0e, 0x26ef, 0x1, 0x1);
        gbc.writeMem(0xe37a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x814e);
        EXPECT(gbc.pc(), 0xe37b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe37a), 0x5);
        // 05 01A7
        gbc.setState(0x8b6b, 0x88db, 0xf9e0, 0xa56c, 0x8917, 0x1c56, 0x1, 0x1);
        gbc.writeMem(0x8b6b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x88db);
        EXPECT(gbc.pc(), 0x8b6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b6b), 0x5);
        // 05 01A8
        gbc.setState(0xb48, 0x83fa, 0xaa30, 0x9f3c, 0x1cbb, 0xe519, 0x0, 0x0);
        gbc.writeMem(0xb48, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x83fa);
        EXPECT(gbc.pc(), 0xb49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 01A9
        gbc.setState(0xa26, 0x617f, 0xa1f0, 0x5287, 0x2c80, 0xe47e, 0x1, 0x0);
        gbc.writeMem(0xa26, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x617f);
        EXPECT(gbc.pc(), 0xa27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 01AA
        gbc.setState(0xdc30, 0xcb8c, 0xdce0, 0xd48c, 0x7727, 0x6813, 0x0, 0x1);
        gbc.writeMem(0xdc30, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xcb8c);
        EXPECT(gbc.pc(), 0xdc31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc30), 0x5);
        // 05 01AB
        gbc.setState(0xafdb, 0xd67d, 0xe430, 0x1169, 0xaf83, 0x8510, 0x0, 0x0);
        gbc.writeMem(0xafdb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xd67d);
        EXPECT(gbc.pc(), 0xafdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafdb), 0x5);
        // 05 01AD
        gbc.setState(0xe0e6, 0xffdc, 0x4f70, 0x276d, 0x9fdd, 0xf91d, 0x0, 0x1);
        gbc.writeMem(0xe0e6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xffdc);
        EXPECT(gbc.pc(), 0xe0e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0e6), 0x5);
        // 05 01AE
        gbc.setState(0xec62, 0x257f, 0xd9b0, 0xf238, 0x131a, 0x924a, 0x1, 0x1);
        gbc.writeMem(0xec62, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x257f);
        EXPECT(gbc.pc(), 0xec63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec62), 0x5);
        // 05 01AF
        gbc.setState(0xa7c4, 0x5c19, 0xf720, 0x9932, 0xee4c, 0x3b45, 0x0, 0x0);
        gbc.writeMem(0xa7c4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x5c19);
        EXPECT(gbc.pc(), 0xa7c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7c4), 0x5);
        // 05 01B0
        gbc.setState(0xe27f, 0xa554, 0x4440, 0xe97a, 0xf423, 0xfc3f, 0x0, 0x0);
        gbc.writeMem(0xe27f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xa554);
        EXPECT(gbc.pc(), 0xe280);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe27f), 0x5);
        // 05 01B1
        gbc.setState(0xe649, 0x7041, 0x9620, 0x8e6, 0xc747, 0xd60d, 0x1, 0x0);
        gbc.writeMem(0xe649, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x7041);
        EXPECT(gbc.pc(), 0xe64a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe649), 0x5);
        // 05 01B3
        gbc.setState(0x8446, 0x7c39, 0x95b0, 0x4fc6, 0xe97c, 0xd798, 0x1, 0x1);
        gbc.writeMem(0x8446, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x7c39);
        EXPECT(gbc.pc(), 0x8447);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8446), 0x5);
        // 05 01B4
        gbc.setState(0x8f14, 0x310f, 0x5320, 0x9049, 0xf0f1, 0x2f37, 0x0, 0x0);
        gbc.writeMem(0x8f14, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x310f);
        EXPECT(gbc.pc(), 0x8f15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f14), 0x5);
        // 05 01B5
        gbc.setState(0xc76e, 0xbfa8, 0xc6d0, 0xd276, 0xed10, 0xf7b, 0x1, 0x0);
        gbc.writeMem(0xc76e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xbfa8);
        EXPECT(gbc.pc(), 0xc76f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc76e), 0x5);
        // 05 01B6
        gbc.setState(0x494c, 0x30f3, 0xedd0, 0x43a6, 0xcfc9, 0xcea1, 0x0, 0x1);
        gbc.writeMem(0x494c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x30f3);
        EXPECT(gbc.pc(), 0x494d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 01B7
        gbc.setState(0xd055, 0x3ace, 0x540, 0x908c, 0x8a2e, 0xbb39, 0x1, 0x0);
        gbc.writeMem(0xd055, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x3ace);
        EXPECT(gbc.pc(), 0xd056);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd055), 0x5);
        // 05 01B8
        gbc.setState(0x98ca, 0x6c5, 0x5110, 0x75d4, 0x9e73, 0x4544, 0x1, 0x1);
        gbc.writeMem(0x98ca, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x6c5);
        EXPECT(gbc.pc(), 0x98cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98ca), 0x5);
        // 05 01B9
        gbc.setState(0xa8ce, 0xeaba, 0xfb30, 0x27ce, 0x5a0a, 0x3678, 0x1, 0x0);
        gbc.writeMem(0xa8ce, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xeaba);
        EXPECT(gbc.pc(), 0xa8cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8ce), 0x5);
        // 05 01BA
        gbc.setState(0x58d7, 0xcbe, 0x2320, 0xcf77, 0x9b3c, 0x998f, 0x0, 0x1);
        gbc.writeMem(0x58d7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xcbe);
        EXPECT(gbc.pc(), 0x58d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01BB
        gbc.setState(0x2e, 0xaa8f, 0x6960, 0x37a0, 0x7bb2, 0x25ab, 0x1, 0x1);
        gbc.writeMem(0x2e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xaa8f);
        EXPECT(gbc.pc(), 0x2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01BD
        gbc.setState(0x4bca, 0xd127, 0xc0d0, 0x7fe9, 0x2dda, 0xf130, 0x0, 0x0);
        gbc.writeMem(0x4bca, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd127);
        EXPECT(gbc.pc(), 0x4bcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 01BE
        gbc.setState(0x7606, 0x36d4, 0x8000, 0xc32b, 0xf87d, 0x2398, 0x0, 0x1);
        gbc.writeMem(0x7606, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x36d4);
        EXPECT(gbc.pc(), 0x7607);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01BF
        gbc.setState(0x5d21, 0xee62, 0xbe10, 0xa0a5, 0x1d65, 0xae4e, 0x1, 0x1);
        gbc.writeMem(0x5d21, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xee62);
        EXPECT(gbc.pc(), 0x5d22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 01C0
        gbc.setState(0x2dda, 0xd48b, 0x16a0, 0xbf69, 0x9f7f, 0xdcbf, 0x1, 0x0);
        gbc.writeMem(0x2dda, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xd48b);
        EXPECT(gbc.pc(), 0x2ddb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01C1
        gbc.setState(0x4b76, 0x25e1, 0x1940, 0x76e5, 0x1645, 0x67e9, 0x0, 0x1);
        gbc.writeMem(0x4b76, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x25e1);
        EXPECT(gbc.pc(), 0x4b77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01C3
        gbc.setState(0x322b, 0xa512, 0xef30, 0x440f, 0x4849, 0x2be4, 0x1, 0x1);
        gbc.writeMem(0x322b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xa512);
        EXPECT(gbc.pc(), 0x322c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 01C4
        gbc.setState(0xd17f, 0xdbec, 0xc640, 0x67ea, 0xed02, 0xc45e, 0x1, 0x0);
        gbc.writeMem(0xd17f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xdbec);
        EXPECT(gbc.pc(), 0xd180);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd17f), 0x5);
        // 05 01C5
        gbc.setState(0xca8e, 0x28b0, 0x2800, 0x8863, 0x72d8, 0xa075, 0x0, 0x1);
        gbc.writeMem(0xca8e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x28b0);
        EXPECT(gbc.pc(), 0xca8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca8e), 0x5);
        // 05 01C6
        gbc.setState(0x3e0e, 0x34d3, 0xacc0, 0x1cc2, 0xe236, 0xdc2a, 0x1, 0x1);
        gbc.writeMem(0x3e0e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x34d3);
        EXPECT(gbc.pc(), 0x3e0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01C7
        gbc.setState(0x706d, 0x5faf, 0x36a0, 0xa4f, 0xbe7a, 0x66f7, 0x1, 0x1);
        gbc.writeMem(0x706d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x5faf);
        EXPECT(gbc.pc(), 0x706e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01C8
        gbc.setState(0xe077, 0x8931, 0xf400, 0xf45e, 0xfd92, 0x4ad9, 0x0, 0x0);
        gbc.writeMem(0xe077, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x8931);
        EXPECT(gbc.pc(), 0xe078);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe077), 0x5);
        // 05 01C9
        gbc.setState(0xd595, 0x433, 0x760, 0x51cb, 0x10d5, 0x3bfd, 0x0, 0x1);
        gbc.writeMem(0xd595, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x433);
        EXPECT(gbc.pc(), 0xd596);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd595), 0x5);
        // 05 01CA
        gbc.setState(0xdd8e, 0x96e4, 0xb6f0, 0xf394, 0x464c, 0xc991, 0x0, 0x0);
        gbc.writeMem(0xdd8e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x96e4);
        EXPECT(gbc.pc(), 0xdd8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd8e), 0x5);
        // 05 01CB
        gbc.setState(0x61b5, 0xef87, 0x2060, 0x4079, 0xc116, 0x7944, 0x0, 0x1);
        gbc.writeMem(0x61b5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xef87);
        EXPECT(gbc.pc(), 0x61b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 01CC
        gbc.setState(0xec67, 0x8985, 0xe7f0, 0xfbf3, 0x6c67, 0x7b95, 0x1, 0x1);
        gbc.writeMem(0xec67, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x8985);
        EXPECT(gbc.pc(), 0xec68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec67), 0x5);
        // 05 01CE
        gbc.setState(0xc3b4, 0xefd2, 0x80, 0x653a, 0x960d, 0xbfa9, 0x0, 0x1);
        gbc.writeMem(0xc3b4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xefd2);
        EXPECT(gbc.pc(), 0xc3b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3b4), 0x5);
        // 05 01CF
        gbc.setState(0xebc8, 0x86bf, 0xfb50, 0xd6e1, 0xce7d, 0x3202, 0x0, 0x1);
        gbc.writeMem(0xebc8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x86bf);
        EXPECT(gbc.pc(), 0xebc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebc8), 0x5);
        // 05 01D0
        gbc.setState(0xf22, 0x23b4, 0xee40, 0xfe7c, 0xa566, 0x7792, 0x1, 0x1);
        gbc.writeMem(0xf22, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x23b4);
        EXPECT(gbc.pc(), 0xf23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01D1
        gbc.setState(0x5c67, 0xae8c, 0xc5e0, 0x1629, 0x1291, 0x8b7b, 0x0, 0x1);
        gbc.writeMem(0x5c67, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xae8c);
        EXPECT(gbc.pc(), 0x5c68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01D2
        gbc.setState(0xb103, 0x9249, 0x2910, 0x10b9, 0xd924, 0x6867, 0x0, 0x1);
        gbc.writeMem(0xb103, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x9249);
        EXPECT(gbc.pc(), 0xb104);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb103), 0x5);
        // 05 01D3
        gbc.setState(0x8078, 0x424b, 0x5860, 0x2f65, 0x12f9, 0x3fcc, 0x1, 0x1);
        gbc.writeMem(0x8078, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x424b);
        EXPECT(gbc.pc(), 0x8079);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8078), 0x5);
        // 05 01D4
        gbc.setState(0xc2c6, 0x1ab, 0x11e0, 0x45c1, 0x337d, 0xc22a, 0x0, 0x1);
        gbc.writeMem(0xc2c6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x1ab);
        EXPECT(gbc.pc(), 0xc2c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2c6), 0x5);
        // 05 01D5
        gbc.setState(0xa83a, 0xec59, 0x9c40, 0x4a30, 0x33a5, 0xb53b, 0x1, 0x1);
        gbc.writeMem(0xa83a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xec59);
        EXPECT(gbc.pc(), 0xa83b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa83a), 0x5);
        // 05 01D6
        gbc.setState(0xb281, 0xd7fc, 0xae20, 0xa127, 0x70e4, 0xcbab, 0x1, 0x1);
        gbc.writeMem(0xb281, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xd7fc);
        EXPECT(gbc.pc(), 0xb282);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb281), 0x5);
        // 05 01D7
        gbc.setState(0x22c1, 0x1d04, 0xf940, 0x72b9, 0x9b09, 0xa55a, 0x0, 0x1);
        gbc.writeMem(0x22c1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x1d04);
        EXPECT(gbc.pc(), 0x22c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01D8
        gbc.setState(0x749e, 0xcbe0, 0xda00, 0xd31f, 0x9235, 0x14a8, 0x0, 0x1);
        gbc.writeMem(0x749e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xcbe0);
        EXPECT(gbc.pc(), 0x749f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01D9
        gbc.setState(0x5dd, 0x72cf, 0x3de0, 0x975c, 0xb97, 0x8b1, 0x1, 0x1);
        gbc.writeMem(0x5dd, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x72cf);
        EXPECT(gbc.pc(), 0x5de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01DA
        gbc.setState(0x5b2b, 0x567e, 0xd1f0, 0x5236, 0x43c8, 0xfa05, 0x0, 0x0);
        gbc.writeMem(0x5b2b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x567e);
        EXPECT(gbc.pc(), 0x5b2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 01DB
        gbc.setState(0x1007, 0x6fa2, 0x5560, 0xd764, 0x3b6, 0x5ed4, 0x1, 0x1);
        gbc.writeMem(0x1007, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x6fa2);
        EXPECT(gbc.pc(), 0x1008);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01DC
        gbc.setState(0xe177, 0x16e6, 0x33d0, 0xa483, 0xe8df, 0xae0c, 0x1, 0x1);
        gbc.writeMem(0xe177, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x16e6);
        EXPECT(gbc.pc(), 0xe178);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe177), 0x5);
        // 05 01DD
        gbc.setState(0x1dd9, 0x8fad, 0xbbc0, 0xd9d1, 0x53d8, 0xd5c9, 0x1, 0x1);
        gbc.writeMem(0x1dd9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x8fad);
        EXPECT(gbc.pc(), 0x1dda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01DE
        gbc.setState(0x15c9, 0x499, 0x6a00, 0xe6fc, 0x1d76, 0xa044, 0x1, 0x1);
        gbc.writeMem(0x15c9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x499);
        EXPECT(gbc.pc(), 0x15ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01DF
        gbc.setState(0xb1ea, 0x7dba, 0xd600, 0xc7d7, 0xf8af, 0x64b7, 0x1, 0x0);
        gbc.writeMem(0xb1ea, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x7dba);
        EXPECT(gbc.pc(), 0xb1eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1ea), 0x5);
        // 05 01E0
        gbc.setState(0x8f0a, 0xb1a5, 0xa420, 0x51c5, 0x8a51, 0x8ebc, 0x1, 0x1);
        gbc.writeMem(0x8f0a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xb1a5);
        EXPECT(gbc.pc(), 0x8f0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f0a), 0x5);
        // 05 01E1
        gbc.setState(0x461b, 0xd28b, 0x7a00, 0x5576, 0xf488, 0xd4a5, 0x0, 0x1);
        gbc.writeMem(0x461b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xd28b);
        EXPECT(gbc.pc(), 0x461c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01E2
        gbc.setState(0x20db, 0x99c9, 0x4ce0, 0x77ef, 0x940a, 0xcb43, 0x1, 0x1);
        gbc.writeMem(0x20db, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x99c9);
        EXPECT(gbc.pc(), 0x20dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01E3
        gbc.setState(0x6916, 0x7bcb, 0xc360, 0xd121, 0x80c6, 0x7e08, 0x0, 0x0);
        gbc.writeMem(0x6916, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x7bcb);
        EXPECT(gbc.pc(), 0x6917);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01E4
        gbc.setState(0xe1e, 0x7c6c, 0xddd0, 0xda, 0xb97e, 0xfaea, 0x1, 0x0);
        gbc.writeMem(0xe1e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x7c6c);
        EXPECT(gbc.pc(), 0xe1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 01E5
        gbc.setState(0xa6ef, 0x4506, 0xe800, 0xa106, 0x2187, 0xaf0c, 0x1, 0x0);
        gbc.writeMem(0xa6ef, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x4506);
        EXPECT(gbc.pc(), 0xa6f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6ef), 0x5);
        // 05 01E6
        gbc.setState(0x2c2b, 0x88eb, 0xbdd0, 0xa65e, 0x510a, 0x845d, 0x1, 0x0);
        gbc.writeMem(0x2c2b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x88eb);
        EXPECT(gbc.pc(), 0x2c2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 01E7
        gbc.setState(0x16fb, 0xf221, 0x31e0, 0xe1be, 0xb02b, 0x7fee, 0x0, 0x1);
        gbc.writeMem(0x16fb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xf221);
        EXPECT(gbc.pc(), 0x16fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01E8
        gbc.setState(0x6b3d, 0x3958, 0xeb20, 0xa991, 0x7f74, 0xc4d, 0x0, 0x0);
        gbc.writeMem(0x6b3d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x3958);
        EXPECT(gbc.pc(), 0x6b3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01E9
        gbc.setState(0xb01a, 0x599f, 0xf4b0, 0x7483, 0x42e4, 0xde24, 0x1, 0x0);
        gbc.writeMem(0xb01a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x599f);
        EXPECT(gbc.pc(), 0xb01b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb01a), 0x5);
        // 05 01EB
        gbc.setState(0xb9e7, 0xefee, 0xb7d0, 0x5540, 0x4bab, 0x55fb, 0x1, 0x1);
        gbc.writeMem(0xb9e7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xefee);
        EXPECT(gbc.pc(), 0xb9e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9e7), 0x5);
        // 05 01EC
        gbc.setState(0x45cc, 0x6298, 0xdb30, 0xc07a, 0x4356, 0xeb6c, 0x1, 0x0);
        gbc.writeMem(0x45cc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x6298);
        EXPECT(gbc.pc(), 0x45cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 01ED
        gbc.setState(0x78b0, 0xc97, 0x3c70, 0x4df4, 0x1503, 0x952b, 0x1, 0x0);
        gbc.writeMem(0x78b0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xc97);
        EXPECT(gbc.pc(), 0x78b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 01EE
        gbc.setState(0x882c, 0xcb31, 0xa2c0, 0x1f00, 0xf78f, 0xf321, 0x0, 0x0);
        gbc.writeMem(0x882c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xcb31);
        EXPECT(gbc.pc(), 0x882d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x882c), 0x5);
        // 05 01EF
        gbc.setState(0x74e0, 0xb439, 0x8d80, 0x908a, 0x94c8, 0xb175, 0x0, 0x1);
        gbc.writeMem(0x74e0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xb439);
        EXPECT(gbc.pc(), 0x74e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 01F0
        gbc.setState(0x892d, 0xac7d, 0xc660, 0x31b6, 0x58e0, 0x83a4, 0x0, 0x1);
        gbc.writeMem(0x892d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xac7d);
        EXPECT(gbc.pc(), 0x892e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x892d), 0x5);
        // 05 01F1
        gbc.setState(0x2e0c, 0x229e, 0x1840, 0x8a62, 0x7f87, 0xa5bd, 0x1, 0x0);
        gbc.writeMem(0x2e0c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x229e);
        EXPECT(gbc.pc(), 0x2e0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01F2
        gbc.setState(0x3385, 0xe0a1, 0xf000, 0x4232, 0xd988, 0xc17f, 0x0, 0x1);
        gbc.writeMem(0x3385, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe0a1);
        EXPECT(gbc.pc(), 0x3386);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01F3
        gbc.setState(0x1607, 0xcda2, 0x7b60, 0xf2af, 0x3fd0, 0x45b6, 0x1, 0x0);
        gbc.writeMem(0x1607, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xcda2);
        EXPECT(gbc.pc(), 0x1608);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01F4
        gbc.setState(0xc8f6, 0x8a15, 0xef0, 0xa164, 0x7258, 0x97b2, 0x0, 0x1);
        gbc.writeMem(0xc8f6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x8a15);
        EXPECT(gbc.pc(), 0xc8f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8f6), 0x5);
        // 05 01F5
        gbc.setState(0x2f0d, 0xcb0e, 0xf9e0, 0xf14b, 0x70cb, 0x222a, 0x0, 0x1);
        gbc.writeMem(0x2f0d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xcb0e);
        EXPECT(gbc.pc(), 0x2f0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01F6
        gbc.setState(0x7822, 0x7064, 0x9030, 0xdd59, 0xadb8, 0x4e4e, 0x0, 0x0);
        gbc.writeMem(0x7822, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x7064);
        EXPECT(gbc.pc(), 0x7823);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 01F7
        gbc.setState(0xc77f, 0xb4db, 0xb270, 0xaf48, 0x102f, 0xfbd8, 0x0, 0x1);
        gbc.writeMem(0xc77f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xb4db);
        EXPECT(gbc.pc(), 0xc780);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc77f), 0x5);
        // 05 01F8
        gbc.setState(0x9684, 0xe098, 0xfca0, 0x973e, 0x5a57, 0xc0fe, 0x0, 0x1);
        gbc.writeMem(0x9684, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe098);
        EXPECT(gbc.pc(), 0x9685);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9684), 0x5);
        // 05 01F9
        gbc.setState(0x2fa9, 0x9b47, 0x36c0, 0x9c9d, 0x8ab4, 0xb305, 0x1, 0x0);
        gbc.writeMem(0x2fa9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x9b47);
        EXPECT(gbc.pc(), 0x2faa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01FA
        gbc.setState(0x9c09, 0x5b97, 0x3a0, 0xad95, 0x3b6b, 0x3e17, 0x0, 0x1);
        gbc.writeMem(0x9c09, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x5b97);
        EXPECT(gbc.pc(), 0x9c0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c09), 0x5);
        // 05 01FB
        gbc.setState(0x40aa, 0xcaf3, 0xc6a0, 0x1d7f, 0xf673, 0xd54c, 0x0, 0x0);
        gbc.writeMem(0x40aa, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xcaf3);
        EXPECT(gbc.pc(), 0x40ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01FC
        gbc.setState(0x7822, 0x30a, 0x9640, 0x98a9, 0x3fe9, 0xd4c9, 0x1, 0x1);
        gbc.writeMem(0x7822, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x30a);
        EXPECT(gbc.pc(), 0x7823);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01FD
        gbc.setState(0x2d8c, 0x4f4, 0x5100, 0x2406, 0x5af5, 0xe74e, 0x0, 0x1);
        gbc.writeMem(0x2d8c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x4f4);
        EXPECT(gbc.pc(), 0x2d8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 01FF
        gbc.setState(0x8622, 0x8b58, 0x75a0, 0xca53, 0x9d1a, 0xd476, 0x0, 0x1);
        gbc.writeMem(0x8622, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x8b58);
        EXPECT(gbc.pc(), 0x8623);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8622), 0x5);
        // 05 0200
        gbc.setState(0xcd32, 0x45ef, 0xa0d0, 0x9849, 0xa26e, 0x65b2, 0x1, 0x0);
        gbc.writeMem(0xcd32, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x45ef);
        EXPECT(gbc.pc(), 0xcd33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd32), 0x5);
        // 05 0201
        gbc.setState(0xc625, 0x79f9, 0xa5c0, 0xae13, 0xae59, 0xb136, 0x1, 0x0);
        gbc.writeMem(0xc625, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x79f9);
        EXPECT(gbc.pc(), 0xc626);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc625), 0x5);
        // 05 0202
        gbc.setState(0x375b, 0x83fc, 0xc370, 0x6e98, 0xd4de, 0x1c6e, 0x0, 0x1);
        gbc.writeMem(0x375b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x83fc);
        EXPECT(gbc.pc(), 0x375c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0203
        gbc.setState(0x1f34, 0x526a, 0xb090, 0xdb30, 0x7ab6, 0x971, 0x0, 0x1);
        gbc.writeMem(0x1f34, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x526a);
        EXPECT(gbc.pc(), 0x1f35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0204
        gbc.setState(0xa2cd, 0xebc6, 0x86a0, 0x6adc, 0x3ec5, 0x4d2d, 0x0, 0x0);
        gbc.writeMem(0xa2cd, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xebc6);
        EXPECT(gbc.pc(), 0xa2ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2cd), 0x5);
        // 05 0205
        gbc.setState(0x456c, 0xdbfb, 0x1a60, 0xa33d, 0xbd2a, 0xb514, 0x0, 0x1);
        gbc.writeMem(0x456c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xdbfb);
        EXPECT(gbc.pc(), 0x456d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0206
        gbc.setState(0xe03f, 0xd4de, 0xbdf0, 0x54a1, 0x23a1, 0x3e23, 0x1, 0x1);
        gbc.writeMem(0xe03f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xd4de);
        EXPECT(gbc.pc(), 0xe040);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe03f), 0x5);
        // 05 0207
        gbc.setState(0x8444, 0x292b, 0xc6f0, 0xa0b5, 0x74d5, 0x7038, 0x0, 0x0);
        gbc.writeMem(0x8444, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x292b);
        EXPECT(gbc.pc(), 0x8445);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8444), 0x5);
        // 05 0208
        gbc.setState(0x9f8c, 0x5465, 0x5190, 0x6355, 0x8dbf, 0x4217, 0x0, 0x1);
        gbc.writeMem(0x9f8c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x5465);
        EXPECT(gbc.pc(), 0x9f8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f8c), 0x5);
        // 05 0209
        gbc.setState(0xb3db, 0xa12d, 0x6b40, 0xa718, 0x97c5, 0xd372, 0x1, 0x0);
        gbc.writeMem(0xb3db, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xa12d);
        EXPECT(gbc.pc(), 0xb3dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3db), 0x5);
        // 05 020A
        gbc.setState(0x2a66, 0x329b, 0x4a0, 0x3c8, 0x6e70, 0x7761, 0x0, 0x0);
        gbc.writeMem(0x2a66, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x329b);
        EXPECT(gbc.pc(), 0x2a67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 020B
        gbc.setState(0x5028, 0x376d, 0x3690, 0xe3f6, 0xfd29, 0x3093, 0x1, 0x0);
        gbc.writeMem(0x5028, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x376d);
        EXPECT(gbc.pc(), 0x5029);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 020C
        gbc.setState(0x3b42, 0x95f6, 0x1540, 0x64d3, 0xcb49, 0x13ac, 0x0, 0x0);
        gbc.writeMem(0x3b42, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x95f6);
        EXPECT(gbc.pc(), 0x3b43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 020D
        gbc.setState(0x5c4a, 0x466b, 0x98e0, 0x1686, 0x1b60, 0xadb1, 0x1, 0x1);
        gbc.writeMem(0x5c4a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x466b);
        EXPECT(gbc.pc(), 0x5c4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 020E
        gbc.setState(0xc16, 0x2e19, 0x2040, 0x966a, 0x72c6, 0xa26, 0x1, 0x0);
        gbc.writeMem(0xc16, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x2e19);
        EXPECT(gbc.pc(), 0xc17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 020F
        gbc.setState(0x3462, 0x430b, 0xf6f0, 0xdaf5, 0xbc40, 0x4380, 0x1, 0x0);
        gbc.writeMem(0x3462, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x430b);
        EXPECT(gbc.pc(), 0x3463);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0210
        gbc.setState(0x2e25, 0x8a34, 0x92f0, 0xf7db, 0x57be, 0x3d95, 0x0, 0x1);
        gbc.writeMem(0x2e25, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x8a34);
        EXPECT(gbc.pc(), 0x2e26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0211
        gbc.setState(0xd0aa, 0x4cd6, 0xb460, 0xb5a, 0xbbc4, 0x8bf4, 0x0, 0x0);
        gbc.writeMem(0xd0aa, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x4cd6);
        EXPECT(gbc.pc(), 0xd0ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0aa), 0x5);
        // 05 0212
        gbc.setState(0x8c9b, 0xadb2, 0x7cc0, 0xef40, 0x7f5f, 0x8698, 0x0, 0x1);
        gbc.writeMem(0x8c9b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xadb2);
        EXPECT(gbc.pc(), 0x8c9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c9b), 0x5);
        // 05 0213
        gbc.setState(0xdd87, 0x2275, 0x1a70, 0x2d70, 0xed48, 0x2e6a, 0x1, 0x1);
        gbc.writeMem(0xdd87, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2275);
        EXPECT(gbc.pc(), 0xdd88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd87), 0x5);
        // 05 0214
        gbc.setState(0xe921, 0x9558, 0x6da0, 0x283b, 0xed3, 0xb2b, 0x0, 0x0);
        gbc.writeMem(0xe921, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9558);
        EXPECT(gbc.pc(), 0xe922);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe921), 0x5);
        // 05 0215
        gbc.setState(0xccac, 0xb2eb, 0x99f0, 0x7980, 0x5614, 0xe6b9, 0x1, 0x1);
        gbc.writeMem(0xccac, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xb2eb);
        EXPECT(gbc.pc(), 0xccad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccac), 0x5);
        // 05 0216
        gbc.setState(0x862d, 0xb2f1, 0xda0, 0x3db1, 0xd410, 0x8dca, 0x0, 0x1);
        gbc.writeMem(0x862d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xb2f1);
        EXPECT(gbc.pc(), 0x862e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x862d), 0x5);
        // 05 0217
        gbc.setState(0x2a2, 0x2d25, 0x9220, 0x43a9, 0xc5f1, 0x4023, 0x1, 0x0);
        gbc.writeMem(0x2a2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x2d25);
        EXPECT(gbc.pc(), 0x2a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0218
        gbc.setState(0xe205, 0xc8d9, 0xc070, 0xa45a, 0x8fa1, 0xea1, 0x1, 0x1);
        gbc.writeMem(0xe205, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xc8d9);
        EXPECT(gbc.pc(), 0xe206);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe205), 0x5);
        // 05 0219
        gbc.setState(0x68b, 0x6d3a, 0x7690, 0xe924, 0x1ebf, 0x604d, 0x0, 0x1);
        gbc.writeMem(0x68b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x6d3a);
        EXPECT(gbc.pc(), 0x68c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 021A
        gbc.setState(0x6298, 0x87a, 0xc330, 0xcc05, 0x4ad1, 0xbbe6, 0x1, 0x0);
        gbc.writeMem(0x6298, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x87a);
        EXPECT(gbc.pc(), 0x6299);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 021B
        gbc.setState(0xebcc, 0x8b3d, 0xf400, 0x9d1e, 0x9ba1, 0x3f31, 0x1, 0x0);
        gbc.writeMem(0xebcc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x8b3d);
        EXPECT(gbc.pc(), 0xebcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebcc), 0x5);
        // 05 021C
        gbc.setState(0x12e9, 0x743d, 0xc230, 0xa26f, 0x4425, 0x5b9a, 0x0, 0x1);
        gbc.writeMem(0x12e9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x743d);
        EXPECT(gbc.pc(), 0x12ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 021D
        gbc.setState(0x2213, 0x6a19, 0xfd20, 0xf5d1, 0xfe5, 0x5402, 0x1, 0x0);
        gbc.writeMem(0x2213, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x6a19);
        EXPECT(gbc.pc(), 0x2214);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 021E
        gbc.setState(0x40b6, 0xdc22, 0x1650, 0xb28c, 0x97da, 0x1603, 0x1, 0x0);
        gbc.writeMem(0x40b6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xdc22);
        EXPECT(gbc.pc(), 0x40b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 021F
        gbc.setState(0xd6c, 0x97f0, 0xccf0, 0x2e1b, 0x93b0, 0x2f27, 0x1, 0x0);
        gbc.writeMem(0xd6c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x97f0);
        EXPECT(gbc.pc(), 0xd6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0220
        gbc.setState(0x4b66, 0x925d, 0xc7d0, 0x41e3, 0x4045, 0xc726, 0x0, 0x1);
        gbc.writeMem(0x4b66, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x925d);
        EXPECT(gbc.pc(), 0x4b67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0221
        gbc.setState(0x150b, 0x815b, 0xf840, 0xfc0b, 0xcb2d, 0x7bd0, 0x1, 0x1);
        gbc.writeMem(0x150b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x815b);
        EXPECT(gbc.pc(), 0x150c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0222
        gbc.setState(0xaf88, 0x2662, 0x7fd0, 0x2a69, 0xe0be, 0xb2fe, 0x0, 0x1);
        gbc.writeMem(0xaf88, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x2662);
        EXPECT(gbc.pc(), 0xaf89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf88), 0x5);
        // 05 0223
        gbc.setState(0xbe3e, 0x3c79, 0xaae0, 0x4b40, 0xe7ed, 0x5b09, 0x0, 0x1);
        gbc.writeMem(0xbe3e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x3c79);
        EXPECT(gbc.pc(), 0xbe3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe3e), 0x5);
        // 05 0224
        gbc.setState(0xa546, 0xbff0, 0xcb70, 0x362a, 0xee4b, 0x8dfc, 0x1, 0x1);
        gbc.writeMem(0xa546, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xbff0);
        EXPECT(gbc.pc(), 0xa547);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa546), 0x5);
        // 05 0225
        gbc.setState(0x1684, 0x3ff4, 0x8670, 0x8ca6, 0x75c2, 0xe709, 0x1, 0x0);
        gbc.writeMem(0x1684, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x3ff4);
        EXPECT(gbc.pc(), 0x1685);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0226
        gbc.setState(0x2c16, 0xb7e7, 0x3b90, 0x34cb, 0xde01, 0x56b6, 0x0, 0x1);
        gbc.writeMem(0x2c16, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xb7e7);
        EXPECT(gbc.pc(), 0x2c17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0227
        gbc.setState(0x7ce0, 0x47de, 0x2140, 0xab39, 0x4b5f, 0x1036, 0x1, 0x1);
        gbc.writeMem(0x7ce0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x47de);
        EXPECT(gbc.pc(), 0x7ce1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0228
        gbc.setState(0x8a5c, 0x77f4, 0x5cb0, 0xfa22, 0x49c9, 0xd394, 0x1, 0x0);
        gbc.writeMem(0x8a5c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x77f4);
        EXPECT(gbc.pc(), 0x8a5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a5c), 0x5);
        // 05 0229
        gbc.setState(0x4674, 0x8f9e, 0x8f0, 0x9b95, 0x2c62, 0x10d7, 0x1, 0x1);
        gbc.writeMem(0x4674, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x8f9e);
        EXPECT(gbc.pc(), 0x4675);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 022A
        gbc.setState(0x21a, 0x176d, 0x8ff0, 0xdd7c, 0xc17f, 0x10bb, 0x0, 0x1);
        gbc.writeMem(0x21a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x176d);
        EXPECT(gbc.pc(), 0x21b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 022B
        gbc.setState(0x571a, 0x31b5, 0xf2a0, 0xe1c4, 0xea2e, 0x3b6, 0x1, 0x0);
        gbc.writeMem(0x571a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x31b5);
        EXPECT(gbc.pc(), 0x571b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 022C
        gbc.setState(0xc726, 0x8274, 0xa960, 0x9814, 0x7e48, 0x2d43, 0x0, 0x0);
        gbc.writeMem(0xc726, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x8274);
        EXPECT(gbc.pc(), 0xc727);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc726), 0x5);
        // 05 022D
        gbc.setState(0x49d8, 0x2c40, 0x8d80, 0x329b, 0xf0ba, 0x115d, 0x0, 0x0);
        gbc.writeMem(0x49d8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x2c40);
        EXPECT(gbc.pc(), 0x49d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 022E
        gbc.setState(0x809a, 0x4c1c, 0xf440, 0x2712, 0xe9f, 0xb23c, 0x0, 0x0);
        gbc.writeMem(0x809a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x4c1c);
        EXPECT(gbc.pc(), 0x809b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x809a), 0x5);
        // 05 022F
        gbc.setState(0x9a97, 0x1186, 0x5c00, 0xa70d, 0xe600, 0xdfa3, 0x1, 0x0);
        gbc.writeMem(0x9a97, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x1186);
        EXPECT(gbc.pc(), 0x9a98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a97), 0x5);
        // 05 0230
        gbc.setState(0xbb2f, 0x4eb2, 0xc210, 0x2114, 0x3fa4, 0x1ff2, 0x1, 0x1);
        gbc.writeMem(0xbb2f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x4eb2);
        EXPECT(gbc.pc(), 0xbb30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb2f), 0x5);
        // 05 0231
        gbc.setState(0x4b0b, 0x9836, 0xe700, 0x3af9, 0xaf03, 0xfe79, 0x0, 0x1);
        gbc.writeMem(0x4b0b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x9836);
        EXPECT(gbc.pc(), 0x4b0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0232
        gbc.setState(0x1e6a, 0xf370, 0xed50, 0x9d1c, 0xc297, 0x15cf, 0x0, 0x1);
        gbc.writeMem(0x1e6a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xf370);
        EXPECT(gbc.pc(), 0x1e6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0233
        gbc.setState(0x465d, 0x6426, 0x4f80, 0x2c32, 0x4cc8, 0x9416, 0x1, 0x0);
        gbc.writeMem(0x465d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x6426);
        EXPECT(gbc.pc(), 0x465e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0234
        gbc.setState(0x2bd5, 0xf6a6, 0xfd10, 0x9890, 0x5534, 0x4d82, 0x0, 0x1);
        gbc.writeMem(0x2bd5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xf6a6);
        EXPECT(gbc.pc(), 0x2bd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0235
        gbc.setState(0x60f8, 0x3e63, 0x3af0, 0x4056, 0xfde4, 0x4857, 0x0, 0x1);
        gbc.writeMem(0x60f8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x3e63);
        EXPECT(gbc.pc(), 0x60f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 0236
        gbc.setState(0xeb6f, 0xfab7, 0x34b0, 0x35ae, 0x219a, 0x2932, 0x0, 0x1);
        gbc.writeMem(0xeb6f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xfab7);
        EXPECT(gbc.pc(), 0xeb70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb6f), 0x5);
        // 05 0237
        gbc.setState(0xda64, 0xce65, 0xbd20, 0x19ce, 0x5ae, 0x127a, 0x1, 0x0);
        gbc.writeMem(0xda64, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xce65);
        EXPECT(gbc.pc(), 0xda65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda64), 0x5);
        // 05 0238
        gbc.setState(0xedf3, 0x45cb, 0xa7f0, 0x4e9f, 0x1215, 0xefab, 0x0, 0x0);
        gbc.writeMem(0xedf3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x45cb);
        EXPECT(gbc.pc(), 0xedf4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedf3), 0x5);
        // 05 0239
        gbc.setState(0x7ce6, 0x831b, 0x38f0, 0xed19, 0x3540, 0xe90b, 0x1, 0x1);
        gbc.writeMem(0x7ce6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x831b);
        EXPECT(gbc.pc(), 0x7ce7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 023A
        gbc.setState(0x8e3, 0x239b, 0x4a70, 0x85b2, 0xa0db, 0xc5ac, 0x1, 0x1);
        gbc.writeMem(0x8e3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x239b);
        EXPECT(gbc.pc(), 0x8e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 023B
        gbc.setState(0xc5c1, 0xf7c1, 0xec60, 0x59a6, 0x9c9e, 0x5498, 0x0, 0x0);
        gbc.writeMem(0xc5c1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xf7c1);
        EXPECT(gbc.pc(), 0xc5c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5c1), 0x5);
        // 05 023C
        gbc.setState(0xbabf, 0x40a4, 0x35b0, 0x4cba, 0xa9d4, 0xf1a, 0x0, 0x1);
        gbc.writeMem(0xbabf, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x40a4);
        EXPECT(gbc.pc(), 0xbac0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbabf), 0x5);
        // 05 023D
        gbc.setState(0x1a55, 0xe07b, 0xbf60, 0xf11b, 0xf4a9, 0xe576, 0x1, 0x0);
        gbc.writeMem(0x1a55, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xe07b);
        EXPECT(gbc.pc(), 0x1a56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 023E
        gbc.setState(0x293e, 0x5a64, 0x9560, 0xf68e, 0xd23f, 0xd9f1, 0x1, 0x0);
        gbc.writeMem(0x293e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x5a64);
        EXPECT(gbc.pc(), 0x293f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 023F
        gbc.setState(0x416f, 0x5768, 0xfe20, 0x9c8d, 0x23fc, 0x3e26, 0x1, 0x0);
        gbc.writeMem(0x416f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x5768);
        EXPECT(gbc.pc(), 0x4170);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0240
        gbc.setState(0x8929, 0x20b1, 0x440, 0x312, 0x6cfb, 0xd0d4, 0x1, 0x1);
        gbc.writeMem(0x8929, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x20b1);
        EXPECT(gbc.pc(), 0x892a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8929), 0x5);
        // 05 0241
        gbc.setState(0xe9ea, 0x7f8f, 0x5d70, 0x901f, 0xaefe, 0x3a55, 0x1, 0x0);
        gbc.writeMem(0xe9ea, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x7f8f);
        EXPECT(gbc.pc(), 0xe9eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9ea), 0x5);
        // 05 0242
        gbc.setState(0xdf11, 0x95d8, 0x92b0, 0xb3d, 0xfb5a, 0x9911, 0x1, 0x0);
        gbc.writeMem(0xdf11, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x95d8);
        EXPECT(gbc.pc(), 0xdf12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf11), 0x5);
        // 05 0244
        gbc.setState(0xd03a, 0xdc0c, 0xb100, 0x8f91, 0xfd0f, 0xbc3, 0x1, 0x1);
        gbc.writeMem(0xd03a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xdc0c);
        EXPECT(gbc.pc(), 0xd03b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd03a), 0x5);
        // 05 0245
        gbc.setState(0xeef6, 0xe06c, 0xc8c0, 0x5aa6, 0xf0dc, 0x308f, 0x0, 0x1);
        gbc.writeMem(0xeef6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe06c);
        EXPECT(gbc.pc(), 0xeef7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeef6), 0x5);
        // 05 0246
        gbc.setState(0x6923, 0xb97a, 0xee0, 0x4456, 0x6595, 0xa905, 0x0, 0x1);
        gbc.writeMem(0x6923, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xb97a);
        EXPECT(gbc.pc(), 0x6924);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0247
        gbc.setState(0x5a88, 0xcd11, 0xca50, 0x67e3, 0x4668, 0x9fd5, 0x0, 0x1);
        gbc.writeMem(0x5a88, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xcd11);
        EXPECT(gbc.pc(), 0x5a89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0248
        gbc.setState(0xec37, 0xe348, 0x2f10, 0x8765, 0x6f21, 0xedb1, 0x1, 0x0);
        gbc.writeMem(0xec37, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xe348);
        EXPECT(gbc.pc(), 0xec38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec37), 0x5);
        // 05 0249
        gbc.setState(0x4801, 0xefb5, 0x15e0, 0x11f3, 0xb52a, 0x1538, 0x0, 0x0);
        gbc.writeMem(0x4801, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xefb5);
        EXPECT(gbc.pc(), 0x4802);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 024A
        gbc.setState(0x6634, 0xb1a, 0x8340, 0x9337, 0x2df5, 0x7a25, 0x0, 0x0);
        gbc.writeMem(0x6634, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xb1a);
        EXPECT(gbc.pc(), 0x6635);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 024B
        gbc.setState(0x86a0, 0xe559, 0x69e0, 0x243e, 0xba0e, 0xfb2e, 0x0, 0x1);
        gbc.writeMem(0x86a0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xe559);
        EXPECT(gbc.pc(), 0x86a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86a0), 0x5);
        // 05 024C
        gbc.setState(0x606b, 0x1ffe, 0xd50, 0xf7bb, 0xf150, 0x6d81, 0x1, 0x1);
        gbc.writeMem(0x606b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x1ffe);
        EXPECT(gbc.pc(), 0x606c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 024D
        gbc.setState(0xa3d7, 0x1182, 0xf6b0, 0x17c7, 0x580b, 0x9a47, 0x0, 0x1);
        gbc.writeMem(0xa3d7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x1182);
        EXPECT(gbc.pc(), 0xa3d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3d7), 0x5);
        // 05 024E
        gbc.setState(0x28dd, 0xe147, 0x9f30, 0x118d, 0x15d9, 0x1de0, 0x1, 0x1);
        gbc.writeMem(0x28dd, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xe147);
        EXPECT(gbc.pc(), 0x28de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 024F
        gbc.setState(0xb362, 0xa37b, 0xa470, 0xc22c, 0x9132, 0x6c51, 0x1, 0x0);
        gbc.writeMem(0xb362, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xa37b);
        EXPECT(gbc.pc(), 0xb363);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb362), 0x5);
        // 05 0250
        gbc.setState(0xbdb5, 0xe35c, 0xaef0, 0x20c7, 0x527b, 0x6415, 0x1, 0x1);
        gbc.writeMem(0xbdb5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xe35c);
        EXPECT(gbc.pc(), 0xbdb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdb5), 0x5);
        // 05 0251
        gbc.setState(0x6295, 0xecd, 0xe2d0, 0x59f5, 0xeb3, 0xd254, 0x1, 0x1);
        gbc.writeMem(0x6295, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xecd);
        EXPECT(gbc.pc(), 0x6296);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0252
        gbc.setState(0x7940, 0xe6fa, 0xaf40, 0xc983, 0x2b6, 0x52d7, 0x1, 0x1);
        gbc.writeMem(0x7940, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xe6fa);
        EXPECT(gbc.pc(), 0x7941);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0253
        gbc.setState(0x341a, 0x41ad, 0x13d0, 0x780, 0x834a, 0xe8e4, 0x0, 0x1);
        gbc.writeMem(0x341a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x41ad);
        EXPECT(gbc.pc(), 0x341b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0254
        gbc.setState(0x2d76, 0xa795, 0xc6f0, 0xa550, 0x47d0, 0x126b, 0x0, 0x1);
        gbc.writeMem(0x2d76, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xa795);
        EXPECT(gbc.pc(), 0x2d77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0255
        gbc.setState(0xe6de, 0xfb13, 0x9d80, 0x6e30, 0xdb17, 0x5821, 0x1, 0x0);
        gbc.writeMem(0xe6de, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xfb13);
        EXPECT(gbc.pc(), 0xe6df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6de), 0x5);
        // 05 0256
        gbc.setState(0x217, 0xa033, 0x1f60, 0x7353, 0x3ca6, 0x1b17, 0x0, 0x1);
        gbc.writeMem(0x217, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xa033);
        EXPECT(gbc.pc(), 0x218);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0257
        gbc.setState(0x433e, 0xfe06, 0xa590, 0x2a8d, 0x83db, 0x688f, 0x0, 0x0);
        gbc.writeMem(0x433e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xfe06);
        EXPECT(gbc.pc(), 0x433f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0258
        gbc.setState(0x85a3, 0xd16d, 0x2bb0, 0xa452, 0xd358, 0x59ef, 0x1, 0x0);
        gbc.writeMem(0x85a3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xd16d);
        EXPECT(gbc.pc(), 0x85a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85a3), 0x5);
        // 05 025A
        gbc.setState(0x3533, 0x4fbc, 0xcfe0, 0x98c0, 0x16a5, 0x224b, 0x0, 0x1);
        gbc.writeMem(0x3533, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x4fbc);
        EXPECT(gbc.pc(), 0x3534);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 025B
        gbc.setState(0xc5db, 0x56f9, 0x3c40, 0x423e, 0xbd77, 0xbf1d, 0x1, 0x0);
        gbc.writeMem(0xc5db, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x56f9);
        EXPECT(gbc.pc(), 0xc5dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5db), 0x5);
        // 05 025C
        gbc.setState(0xce4d, 0xde81, 0x86d0, 0x5220, 0x94d9, 0x5e7e, 0x1, 0x1);
        gbc.writeMem(0xce4d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xde81);
        EXPECT(gbc.pc(), 0xce4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce4d), 0x5);
        // 05 025D
        gbc.setState(0x59a4, 0xba53, 0xb90, 0xa4f2, 0x564b, 0xaec6, 0x0, 0x0);
        gbc.writeMem(0x59a4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xba53);
        EXPECT(gbc.pc(), 0x59a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 025E
        gbc.setState(0x4dd2, 0xdb2b, 0x42b0, 0xe3c8, 0xe45d, 0xd296, 0x1, 0x1);
        gbc.writeMem(0x4dd2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xdb2b);
        EXPECT(gbc.pc(), 0x4dd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 025F
        gbc.setState(0x5430, 0xb30, 0xb820, 0x693e, 0x30c8, 0xc0c9, 0x1, 0x1);
        gbc.writeMem(0x5430, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xb30);
        EXPECT(gbc.pc(), 0x5431);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0260
        gbc.setState(0xe12c, 0x5078, 0x3050, 0xd056, 0xec7d, 0x108e, 0x0, 0x0);
        gbc.writeMem(0xe12c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x5078);
        EXPECT(gbc.pc(), 0xe12d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe12c), 0x5);
        // 05 0261
        gbc.setState(0x1472, 0x9511, 0x3e80, 0x53e9, 0xb174, 0xa084, 0x0, 0x1);
        gbc.writeMem(0x1472, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x9511);
        EXPECT(gbc.pc(), 0x1473);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0262
        gbc.setState(0x4653, 0x259e, 0x4720, 0x97d0, 0x5ecd, 0x4d28, 0x1, 0x1);
        gbc.writeMem(0x4653, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x259e);
        EXPECT(gbc.pc(), 0x4654);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0263
        gbc.setState(0x601, 0x52a0, 0x4130, 0x47ee, 0x6805, 0xa57, 0x1, 0x1);
        gbc.writeMem(0x601, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x52a0);
        EXPECT(gbc.pc(), 0x602);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0264
        gbc.setState(0x5163, 0x8ef4, 0xd730, 0x1fff, 0x6995, 0x4c8e, 0x1, 0x1);
        gbc.writeMem(0x5163, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x8ef4);
        EXPECT(gbc.pc(), 0x5164);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0265
        gbc.setState(0x7af4, 0xb3cb, 0x7e80, 0x39b1, 0x75c2, 0x7bf4, 0x1, 0x0);
        gbc.writeMem(0x7af4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb3cb);
        EXPECT(gbc.pc(), 0x7af5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0266
        gbc.setState(0x6ed1, 0x249d, 0xda10, 0x3d88, 0xd874, 0xf21d, 0x1, 0x0);
        gbc.writeMem(0x6ed1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x249d);
        EXPECT(gbc.pc(), 0x6ed2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0267
        gbc.setState(0xaebb, 0xee1e, 0x1560, 0xa301, 0x7ecd, 0xcc82, 0x1, 0x0);
        gbc.writeMem(0xaebb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xee1e);
        EXPECT(gbc.pc(), 0xaebc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaebb), 0x5);
        // 05 0268
        gbc.setState(0x86c1, 0xac84, 0x9000, 0xdd45, 0xeb01, 0x731, 0x0, 0x0);
        gbc.writeMem(0x86c1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xac84);
        EXPECT(gbc.pc(), 0x86c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86c1), 0x5);
        // 05 026B
        gbc.setState(0x587b, 0x5fac, 0x84c0, 0x2754, 0x4656, 0x66bf, 0x1, 0x0);
        gbc.writeMem(0x587b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x5fac);
        EXPECT(gbc.pc(), 0x587c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 026D
        gbc.setState(0x6375, 0xce76, 0xd270, 0x570d, 0xf50f, 0x7e7f, 0x0, 0x0);
        gbc.writeMem(0x6375, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xce76);
        EXPECT(gbc.pc(), 0x6376);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 026E
        gbc.setState(0x7225, 0x8e01, 0xd9f0, 0xdb24, 0x9064, 0xa58c, 0x0, 0x1);
        gbc.writeMem(0x7225, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x8e01);
        EXPECT(gbc.pc(), 0x7226);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 026F
        gbc.setState(0x1778, 0x657d, 0x6070, 0xbb8d, 0x917c, 0xf0c2, 0x0, 0x0);
        gbc.writeMem(0x1778, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x657d);
        EXPECT(gbc.pc(), 0x1779);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0270
        gbc.setState(0x9cb3, 0x63b7, 0x8610, 0x8118, 0xf54e, 0xee2a, 0x0, 0x1);
        gbc.writeMem(0x9cb3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x63b7);
        EXPECT(gbc.pc(), 0x9cb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cb3), 0x5);
        // 05 0271
        gbc.setState(0x3306, 0x15bf, 0x59e0, 0x7b7f, 0xe5a5, 0x41c3, 0x1, 0x0);
        gbc.writeMem(0x3306, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x15bf);
        EXPECT(gbc.pc(), 0x3307);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0272
        gbc.setState(0xcff0, 0x8999, 0xca40, 0x1855, 0x3fa8, 0x31c7, 0x1, 0x0);
        gbc.writeMem(0xcff0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x8999);
        EXPECT(gbc.pc(), 0xcff1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcff0), 0x5);
        // 05 0273
        gbc.setState(0x6dcc, 0xf155, 0xa0d0, 0x1dfe, 0x5c4, 0x36de, 0x0, 0x1);
        gbc.writeMem(0x6dcc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xf155);
        EXPECT(gbc.pc(), 0x6dcd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0274
        gbc.setState(0x8c5f, 0x8e2f, 0xd570, 0xc43e, 0x59f5, 0xeb10, 0x0, 0x1);
        gbc.writeMem(0x8c5f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x8e2f);
        EXPECT(gbc.pc(), 0x8c60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c5f), 0x5);
        // 05 0275
        gbc.setState(0x5e94, 0x32ac, 0x8be0, 0xc385, 0x95a3, 0x6cab, 0x1, 0x0);
        gbc.writeMem(0x5e94, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x32ac);
        EXPECT(gbc.pc(), 0x5e95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0277
        gbc.setState(0x457a, 0x427, 0x7e70, 0xc0b7, 0xfc7d, 0x488e, 0x1, 0x0);
        gbc.writeMem(0x457a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x427);
        EXPECT(gbc.pc(), 0x457b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 0279
        gbc.setState(0xe82a, 0x2427, 0x9300, 0xb6fe, 0x7e48, 0xd1f1, 0x0, 0x1);
        gbc.writeMem(0xe82a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x2427);
        EXPECT(gbc.pc(), 0xe82b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe82a), 0x5);
        // 05 027A
        gbc.setState(0x9a44, 0x6b05, 0xc7c0, 0xb0f1, 0x9396, 0x6ee, 0x0, 0x1);
        gbc.writeMem(0x9a44, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x6b05);
        EXPECT(gbc.pc(), 0x9a45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a44), 0x5);
        // 05 027B
        gbc.setState(0x68a5, 0x9f1c, 0xc100, 0xf33c, 0xbd2b, 0x26e, 0x0, 0x0);
        gbc.writeMem(0x68a5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x9f1c);
        EXPECT(gbc.pc(), 0x68a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 027C
        gbc.setState(0xc0cc, 0xb3ed, 0x1a30, 0xa59f, 0xe850, 0x35f8, 0x1, 0x1);
        gbc.writeMem(0xc0cc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xb3ed);
        EXPECT(gbc.pc(), 0xc0cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0cc), 0x5);
        // 05 027D
        gbc.setState(0xa8e3, 0x9d09, 0x9720, 0x3766, 0x228, 0xe1ac, 0x0, 0x1);
        gbc.writeMem(0xa8e3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x9d09);
        EXPECT(gbc.pc(), 0xa8e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8e3), 0x5);
        // 05 027E
        gbc.setState(0x8a6e, 0xb768, 0x3c40, 0xfc90, 0x80e7, 0xfe0f, 0x1, 0x0);
        gbc.writeMem(0x8a6e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xb768);
        EXPECT(gbc.pc(), 0x8a6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a6e), 0x5);
        // 05 027F
        gbc.setState(0x49de, 0xbd31, 0x9710, 0x6623, 0x6b82, 0xc675, 0x0, 0x1);
        gbc.writeMem(0x49de, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xbd31);
        EXPECT(gbc.pc(), 0x49df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0280
        gbc.setState(0x9b91, 0x35a2, 0x3fb0, 0xdec9, 0xe30, 0xed0f, 0x0, 0x1);
        gbc.writeMem(0x9b91, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x35a2);
        EXPECT(gbc.pc(), 0x9b92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b91), 0x5);
        // 05 0281
        gbc.setState(0x551c, 0x7dfd, 0x9710, 0xf556, 0x4ffc, 0xabc8, 0x0, 0x0);
        gbc.writeMem(0x551c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x7dfd);
        EXPECT(gbc.pc(), 0x551d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0282
        gbc.setState(0x71bf, 0x1a83, 0x6450, 0x92b5, 0x9ee8, 0x73aa, 0x0, 0x0);
        gbc.writeMem(0x71bf, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x1a83);
        EXPECT(gbc.pc(), 0x71c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0283
        gbc.setState(0xe23d, 0xfa53, 0xbac0, 0xb10f, 0x3b54, 0x4ee8, 0x1, 0x0);
        gbc.writeMem(0xe23d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xfa53);
        EXPECT(gbc.pc(), 0xe23e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe23d), 0x5);
        // 05 0284
        gbc.setState(0x51e3, 0x1a8, 0x80f0, 0xade7, 0xa111, 0xe549, 0x0, 0x1);
        gbc.writeMem(0x51e3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x1a8);
        EXPECT(gbc.pc(), 0x51e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0285
        gbc.setState(0x5112, 0xbbc8, 0x6060, 0x13f9, 0xbefd, 0xa19b, 0x0, 0x1);
        gbc.writeMem(0x5112, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xbbc8);
        EXPECT(gbc.pc(), 0x5113);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0286
        gbc.setState(0x8b80, 0x953b, 0x7800, 0x33f7, 0x6d21, 0xc84d, 0x0, 0x1);
        gbc.writeMem(0x8b80, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x953b);
        EXPECT(gbc.pc(), 0x8b81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b80), 0x5);
        // 05 0287
        gbc.setState(0x4d21, 0xa8cb, 0x7490, 0x5ff5, 0xc239, 0x7b0b, 0x0, 0x0);
        gbc.writeMem(0x4d21, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xa8cb);
        EXPECT(gbc.pc(), 0x4d22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0288
        gbc.setState(0x6cb9, 0x4ed9, 0x1310, 0x6c1e, 0x23f, 0x4c5, 0x1, 0x1);
        gbc.writeMem(0x6cb9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x4ed9);
        EXPECT(gbc.pc(), 0x6cba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0289
        gbc.setState(0xde5f, 0x40a3, 0x3b0, 0x5678, 0x9f6c, 0x642b, 0x0, 0x1);
        gbc.writeMem(0xde5f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x40a3);
        EXPECT(gbc.pc(), 0xde60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde5f), 0x5);
        // 05 028A
        gbc.setState(0x3da9, 0xd62a, 0x3240, 0xec8f, 0xfbd, 0x473b, 0x1, 0x1);
        gbc.writeMem(0x3da9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xd62a);
        EXPECT(gbc.pc(), 0x3daa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 028B
        gbc.setState(0xbcd7, 0xb546, 0x5040, 0xb5d9, 0x8a3a, 0x9a60, 0x0, 0x1);
        gbc.writeMem(0xbcd7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xb546);
        EXPECT(gbc.pc(), 0xbcd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcd7), 0x5);
        // 05 028D
        gbc.setState(0x7be4, 0xb7a0, 0xc890, 0x4c2e, 0xc7ad, 0x68e7, 0x1, 0x0);
        gbc.writeMem(0x7be4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xb7a0);
        EXPECT(gbc.pc(), 0x7be5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 028E
        gbc.setState(0x884e, 0x521d, 0xf3c0, 0x34d1, 0x3b5e, 0xca68, 0x1, 0x0);
        gbc.writeMem(0x884e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x521d);
        EXPECT(gbc.pc(), 0x884f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x884e), 0x5);
        // 05 028F
        gbc.setState(0x8da, 0x6743, 0xd6c0, 0xb9a0, 0xdce0, 0xe671, 0x0, 0x0);
        gbc.writeMem(0x8da, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x6743);
        EXPECT(gbc.pc(), 0x8db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0290
        gbc.setState(0x1f35, 0x919a, 0x1760, 0xa9a0, 0xf8d4, 0xa7e2, 0x1, 0x1);
        gbc.writeMem(0x1f35, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x919a);
        EXPECT(gbc.pc(), 0x1f36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0291
        gbc.setState(0xdf83, 0x42a1, 0x6d70, 0x8a5d, 0x1fe9, 0xc554, 0x1, 0x1);
        gbc.writeMem(0xdf83, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x42a1);
        EXPECT(gbc.pc(), 0xdf84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf83), 0x5);
        // 05 0292
        gbc.setState(0x93e4, 0x6e0d, 0xb600, 0xbadf, 0x49db, 0x97bc, 0x0, 0x1);
        gbc.writeMem(0x93e4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x6e0d);
        EXPECT(gbc.pc(), 0x93e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93e4), 0x5);
        // 05 0293
        gbc.setState(0xe9de, 0x220, 0xc20, 0xbed1, 0x2169, 0x47a6, 0x0, 0x1);
        gbc.writeMem(0xe9de, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x220);
        EXPECT(gbc.pc(), 0xe9df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9de), 0x5);
        // 05 0295
        gbc.setState(0x7045, 0x1fdf, 0x3b00, 0xfd54, 0x853a, 0x9a25, 0x0, 0x0);
        gbc.writeMem(0x7045, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x1fdf);
        EXPECT(gbc.pc(), 0x7046);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0296
        gbc.setState(0x1f68, 0x9426, 0x6a50, 0xfd04, 0x726, 0x236b, 0x0, 0x0);
        gbc.writeMem(0x1f68, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x9426);
        EXPECT(gbc.pc(), 0x1f69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0297
        gbc.setState(0x1be6, 0xf73b, 0x6d00, 0xe3cf, 0xfac9, 0xa19b, 0x0, 0x1);
        gbc.writeMem(0x1be6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xf73b);
        EXPECT(gbc.pc(), 0x1be7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0298
        gbc.setState(0x41d8, 0xeea0, 0x1810, 0xb50e, 0x9e54, 0x6cd7, 0x0, 0x0);
        gbc.writeMem(0x41d8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xeea0);
        EXPECT(gbc.pc(), 0x41d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0299
        gbc.setState(0x65a6, 0x49b8, 0x58b0, 0x8633, 0x3b1a, 0xab63, 0x1, 0x0);
        gbc.writeMem(0x65a6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x49b8);
        EXPECT(gbc.pc(), 0x65a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 029A
        gbc.setState(0x19fe, 0xb28a, 0x7200, 0x2ed2, 0xf0a3, 0xe1be, 0x0, 0x0);
        gbc.writeMem(0x19fe, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xb28a);
        EXPECT(gbc.pc(), 0x19ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 029C
        gbc.setState(0x78fd, 0x9849, 0xdb40, 0x56ea, 0xbbc6, 0x9055, 0x1, 0x0);
        gbc.writeMem(0x78fd, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x9849);
        EXPECT(gbc.pc(), 0x78fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 029D
        gbc.setState(0x6073, 0xf1ec, 0xa120, 0xa0e7, 0xbf3e, 0x98f2, 0x0, 0x0);
        gbc.writeMem(0x6073, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xf1ec);
        EXPECT(gbc.pc(), 0x6074);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 029E
        gbc.setState(0xd55b, 0x47c8, 0xc20, 0xf1d8, 0xebe1, 0x3bff, 0x0, 0x0);
        gbc.writeMem(0xd55b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x47c8);
        EXPECT(gbc.pc(), 0xd55c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd55b), 0x5);
        // 05 029F
        gbc.setState(0x34a9, 0x4e25, 0x1b90, 0x8306, 0x14d8, 0xb8f7, 0x0, 0x1);
        gbc.writeMem(0x34a9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x4e25);
        EXPECT(gbc.pc(), 0x34aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02A0
        gbc.setState(0xb86, 0x6e4c, 0x7150, 0xa8ac, 0x97b5, 0x1c57, 0x1, 0x1);
        gbc.writeMem(0xb86, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x6e4c);
        EXPECT(gbc.pc(), 0xb87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02A1
        gbc.setState(0xc747, 0x4f54, 0x4f30, 0x11e7, 0x9f88, 0x1f00, 0x1, 0x0);
        gbc.writeMem(0xc747, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x4f54);
        EXPECT(gbc.pc(), 0xc748);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc747), 0x5);
        // 05 02A2
        gbc.setState(0xda56, 0x72c3, 0xe090, 0x7403, 0x2c67, 0x2ff3, 0x0, 0x1);
        gbc.writeMem(0xda56, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x72c3);
        EXPECT(gbc.pc(), 0xda57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda56), 0x5);
        // 05 02A3
        gbc.setState(0xc3c5, 0x8cc3, 0xea80, 0x5b47, 0x215a, 0xf40c, 0x0, 0x1);
        gbc.writeMem(0xc3c5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x8cc3);
        EXPECT(gbc.pc(), 0xc3c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3c5), 0x5);
        // 05 02A4
        gbc.setState(0x2287, 0x1dbc, 0x3ba0, 0xf169, 0x199a, 0xb48f, 0x0, 0x1);
        gbc.writeMem(0x2287, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x1dbc);
        EXPECT(gbc.pc(), 0x2288);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02A5
        gbc.setState(0xd9c1, 0xe818, 0xc1a0, 0xe4d1, 0xa7be, 0xedb2, 0x1, 0x0);
        gbc.writeMem(0xd9c1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xe818);
        EXPECT(gbc.pc(), 0xd9c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9c1), 0x5);
        // 05 02A6
        gbc.setState(0xd185, 0x8593, 0xce00, 0xdad4, 0xae2, 0x1cdc, 0x1, 0x0);
        gbc.writeMem(0xd185, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x8593);
        EXPECT(gbc.pc(), 0xd186);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd185), 0x5);
        // 05 02A7
        gbc.setState(0xae00, 0xe1b3, 0xe470, 0xd9e2, 0x3de9, 0x74a8, 0x1, 0x0);
        gbc.writeMem(0xae00, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xe1b3);
        EXPECT(gbc.pc(), 0xae01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae00), 0x5);
        // 05 02A8
        gbc.setState(0x9eb5, 0xecc9, 0x1fc0, 0xec24, 0xd327, 0x3fe8, 0x1, 0x0);
        gbc.writeMem(0x9eb5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xecc9);
        EXPECT(gbc.pc(), 0x9eb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eb5), 0x5);
        // 05 02A9
        gbc.setState(0x16e6, 0x6279, 0x6090, 0xa0d9, 0x7277, 0x47a, 0x1, 0x0);
        gbc.writeMem(0x16e6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x6279);
        EXPECT(gbc.pc(), 0x16e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 02AA
        gbc.setState(0x3736, 0x9c3b, 0x32a0, 0x3ac8, 0xae9b, 0x280e, 0x1, 0x1);
        gbc.writeMem(0x3736, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x9c3b);
        EXPECT(gbc.pc(), 0x3737);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02AB
        gbc.setState(0xdb3e, 0xb747, 0x19a0, 0xb1ac, 0x8ce1, 0x37f2, 0x1, 0x1);
        gbc.writeMem(0xdb3e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xb747);
        EXPECT(gbc.pc(), 0xdb3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb3e), 0x5);
        // 05 02AC
        gbc.setState(0xc20a, 0x466e, 0x460, 0x2468, 0x1a9d, 0x4d0, 0x0, 0x0);
        gbc.writeMem(0xc20a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x466e);
        EXPECT(gbc.pc(), 0xc20b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc20a), 0x5);
        // 05 02AE
        gbc.setState(0xaaea, 0x715e, 0x1760, 0xd8ab, 0xef36, 0x1798, 0x0, 0x0);
        gbc.writeMem(0xaaea, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x715e);
        EXPECT(gbc.pc(), 0xaaeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaea), 0x5);
        // 05 02AF
        gbc.setState(0xc693, 0x2025, 0xd5f0, 0xca0b, 0x1772, 0x4ab7, 0x0, 0x1);
        gbc.writeMem(0xc693, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x2025);
        EXPECT(gbc.pc(), 0xc694);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc693), 0x5);
        // 05 02B0
        gbc.setState(0xae8e, 0xee45, 0x4f70, 0x4c3d, 0xfbe0, 0x4503, 0x0, 0x0);
        gbc.writeMem(0xae8e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xee45);
        EXPECT(gbc.pc(), 0xae8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae8e), 0x5);
        // 05 02B1
        gbc.setState(0x69f3, 0xfa51, 0x800, 0xf9a9, 0x8ef4, 0xa3ae, 0x1, 0x0);
        gbc.writeMem(0x69f3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xfa51);
        EXPECT(gbc.pc(), 0x69f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02B2
        gbc.setState(0x6403, 0xc54e, 0xa70, 0x3511, 0xc49b, 0x5be1, 0x1, 0x0);
        gbc.writeMem(0x6403, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xc54e);
        EXPECT(gbc.pc(), 0x6404);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02B3
        gbc.setState(0xb700, 0xb9f3, 0x2630, 0x558c, 0x3b5c, 0x218e, 0x0, 0x1);
        gbc.writeMem(0xb700, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xb9f3);
        EXPECT(gbc.pc(), 0xb701);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb700), 0x5);
        // 05 02B4
        gbc.setState(0xb0a5, 0x1b0c, 0xda20, 0x738a, 0x2f2c, 0x5a31, 0x1, 0x0);
        gbc.writeMem(0xb0a5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x1b0c);
        EXPECT(gbc.pc(), 0xb0a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0a5), 0x5);
        // 05 02B5
        gbc.setState(0xb740, 0x131d, 0x49b0, 0xc226, 0xf957, 0x1b37, 0x0, 0x1);
        gbc.writeMem(0xb740, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x131d);
        EXPECT(gbc.pc(), 0xb741);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb740), 0x5);
        // 05 02B6
        gbc.setState(0xf50, 0xa8d6, 0xd3b0, 0x1e47, 0xc172, 0xf939, 0x1, 0x0);
        gbc.writeMem(0xf50, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xa8d6);
        EXPECT(gbc.pc(), 0xf51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02B7
        gbc.setState(0xa6bf, 0x23de, 0x3220, 0xd63d, 0x96e8, 0x48dc, 0x1, 0x1);
        gbc.writeMem(0xa6bf, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x23de);
        EXPECT(gbc.pc(), 0xa6c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6bf), 0x5);
        // 05 02B8
        gbc.setState(0x8bd, 0x8184, 0x2f50, 0x22da, 0x982a, 0xe2dc, 0x0, 0x1);
        gbc.writeMem(0x8bd, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x8184);
        EXPECT(gbc.pc(), 0x8be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02B9
        gbc.setState(0xba13, 0xbf8d, 0x7a30, 0xd516, 0xb35, 0x55cd, 0x1, 0x1);
        gbc.writeMem(0xba13, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xbf8d);
        EXPECT(gbc.pc(), 0xba14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba13), 0x5);
        // 05 02BA
        gbc.setState(0x1e43, 0x92a1, 0xf0d0, 0x86d5, 0x6257, 0x4160, 0x1, 0x0);
        gbc.writeMem(0x1e43, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x92a1);
        EXPECT(gbc.pc(), 0x1e44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02BB
        gbc.setState(0x1c8, 0x31a1, 0xa8e0, 0x994, 0xccee, 0xd4d3, 0x1, 0x0);
        gbc.writeMem(0x1c8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x31a1);
        EXPECT(gbc.pc(), 0x1c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02BC
        gbc.setState(0xbf23, 0x74ea, 0x59e0, 0x582b, 0x78f2, 0x984c, 0x0, 0x1);
        gbc.writeMem(0xbf23, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x74ea);
        EXPECT(gbc.pc(), 0xbf24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf23), 0x5);
        // 05 02BD
        gbc.setState(0x61b5, 0x8c7e, 0x3c40, 0x323, 0xb69, 0x502c, 0x1, 0x0);
        gbc.writeMem(0x61b5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x8c7e);
        EXPECT(gbc.pc(), 0x61b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02BE
        gbc.setState(0xdb8e, 0x6120, 0x42f0, 0xfbe0, 0xfd8c, 0x6f54, 0x1, 0x1);
        gbc.writeMem(0xdb8e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x6120);
        EXPECT(gbc.pc(), 0xdb8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb8e), 0x5);
        // 05 02BF
        gbc.setState(0xc7b3, 0x5812, 0xc1e0, 0xe347, 0x5ed3, 0x63e8, 0x0, 0x1);
        gbc.writeMem(0xc7b3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x5812);
        EXPECT(gbc.pc(), 0xc7b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7b3), 0x5);
        // 05 02C0
        gbc.setState(0x55ab, 0xcaab, 0xe800, 0xd98e, 0x183f, 0x206, 0x0, 0x1);
        gbc.writeMem(0x55ab, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xcaab);
        EXPECT(gbc.pc(), 0x55ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02C1
        gbc.setState(0x62ad, 0xa59a, 0xa880, 0x5677, 0xac8a, 0x360f, 0x0, 0x0);
        gbc.writeMem(0x62ad, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xa59a);
        EXPECT(gbc.pc(), 0x62ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02C2
        gbc.setState(0xa0c2, 0x183f, 0xaf80, 0xf8e1, 0xdd49, 0x6316, 0x0, 0x0);
        gbc.writeMem(0xa0c2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x183f);
        EXPECT(gbc.pc(), 0xa0c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0c2), 0x5);
        // 05 02C3
        gbc.setState(0x14ac, 0xd422, 0x4100, 0x3d8e, 0x51d1, 0x654, 0x0, 0x0);
        gbc.writeMem(0x14ac, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xd422);
        EXPECT(gbc.pc(), 0x14ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02C4
        gbc.setState(0xfe5, 0x5836, 0xb360, 0xc1ad, 0x1b4d, 0xa8df, 0x1, 0x1);
        gbc.writeMem(0xfe5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x5836);
        EXPECT(gbc.pc(), 0xfe6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02C5
        gbc.setState(0x91f1, 0x2ba2, 0xf010, 0xc667, 0xf280, 0x340, 0x1, 0x0);
        gbc.writeMem(0x91f1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x2ba2);
        EXPECT(gbc.pc(), 0x91f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91f1), 0x5);
        // 05 02C6
        gbc.setState(0x494d, 0x1d54, 0xae10, 0x75af, 0x152b, 0xaa51, 0x0, 0x0);
        gbc.writeMem(0x494d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x1d54);
        EXPECT(gbc.pc(), 0x494e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02C7
        gbc.setState(0xe4e, 0x5752, 0x51b0, 0xfc49, 0xb947, 0x6895, 0x0, 0x1);
        gbc.writeMem(0xe4e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x5752);
        EXPECT(gbc.pc(), 0xe4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02C8
        gbc.setState(0x905, 0xbd2b, 0x4910, 0x1152, 0x77de, 0x11b, 0x1, 0x0);
        gbc.writeMem(0x905, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xbd2b);
        EXPECT(gbc.pc(), 0x906);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02C9
        gbc.setState(0x8828, 0xd9be, 0x8990, 0x4a5f, 0xd322, 0xe14, 0x1, 0x0);
        gbc.writeMem(0x8828, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xd9be);
        EXPECT(gbc.pc(), 0x8829);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8828), 0x5);
        // 05 02CA
        gbc.setState(0x66e9, 0x3c6d, 0xb390, 0x5c75, 0x2897, 0x40f0, 0x0, 0x1);
        gbc.writeMem(0x66e9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x3c6d);
        EXPECT(gbc.pc(), 0x66ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02CB
        gbc.setState(0x5420, 0xffc7, 0xac00, 0x4c89, 0x8c42, 0x7640, 0x0, 0x0);
        gbc.writeMem(0x5420, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xffc7);
        EXPECT(gbc.pc(), 0x5421);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02CC
        gbc.setState(0x709a, 0xfa8b, 0xf960, 0xbe09, 0xc42c, 0x41fc, 0x0, 0x0);
        gbc.writeMem(0x709a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xfa8b);
        EXPECT(gbc.pc(), 0x709b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02CD
        gbc.setState(0x5481, 0x6073, 0x71f0, 0x4a2e, 0x57fc, 0x963a, 0x1, 0x0);
        gbc.writeMem(0x5481, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x6073);
        EXPECT(gbc.pc(), 0x5482);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02CE
        gbc.setState(0x5842, 0x4482, 0xf30, 0xb0d0, 0x6b53, 0x1567, 0x0, 0x1);
        gbc.writeMem(0x5842, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x4482);
        EXPECT(gbc.pc(), 0x5843);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 02CF
        gbc.setState(0x2580, 0x8a8d, 0xe3a0, 0xbfb8, 0x50ac, 0x1dab, 0x1, 0x1);
        gbc.writeMem(0x2580, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x8a8d);
        EXPECT(gbc.pc(), 0x2581);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02D1
        gbc.setState(0x60f5, 0x5ba6, 0xe3c0, 0x24c9, 0x5ac2, 0x8e4d, 0x0, 0x1);
        gbc.writeMem(0x60f5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x5ba6);
        EXPECT(gbc.pc(), 0x60f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02D2
        gbc.setState(0xcfb, 0xad50, 0xce50, 0x8e1c, 0xaba3, 0xe269, 0x0, 0x1);
        gbc.writeMem(0xcfb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xad50);
        EXPECT(gbc.pc(), 0xcfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02D3
        gbc.setState(0xdc8d, 0x8e0c, 0xd690, 0x9a02, 0x6fe5, 0x85ae, 0x0, 0x0);
        gbc.writeMem(0xdc8d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x8e0c);
        EXPECT(gbc.pc(), 0xdc8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc8d), 0x5);
        // 05 02D4
        gbc.setState(0x4114, 0xf054, 0x8e20, 0x448, 0xb0e3, 0xd55, 0x0, 0x0);
        gbc.writeMem(0x4114, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xf054);
        EXPECT(gbc.pc(), 0x4115);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02D5
        gbc.setState(0xd9b3, 0x270f, 0x6c70, 0x8bba, 0xcf1e, 0xb93b, 0x1, 0x1);
        gbc.writeMem(0xd9b3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x270f);
        EXPECT(gbc.pc(), 0xd9b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9b3), 0x5);
        // 05 02D6
        gbc.setState(0x83b3, 0x12d6, 0x1410, 0xb585, 0x6393, 0x2376, 0x1, 0x0);
        gbc.writeMem(0x83b3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x12d6);
        EXPECT(gbc.pc(), 0x83b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83b3), 0x5);
        // 05 02D7
        gbc.setState(0x19b5, 0x6681, 0x8210, 0x2696, 0x631f, 0xccef, 0x0, 0x1);
        gbc.writeMem(0x19b5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x6681);
        EXPECT(gbc.pc(), 0x19b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02D8
        gbc.setState(0x75a0, 0x8143, 0x1290, 0x8d71, 0x8766, 0xa92, 0x1, 0x0);
        gbc.writeMem(0x75a0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x8143);
        EXPECT(gbc.pc(), 0x75a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02D9
        gbc.setState(0xd6c9, 0x49cf, 0xcfc0, 0x677, 0xf4d5, 0x3104, 0x1, 0x0);
        gbc.writeMem(0xd6c9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x49cf);
        EXPECT(gbc.pc(), 0xd6ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6c9), 0x5);
        // 05 02DA
        gbc.setState(0xaaaa, 0x582e, 0x88b0, 0xaf38, 0xdaab, 0x2d68, 0x1, 0x0);
        gbc.writeMem(0xaaaa, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x582e);
        EXPECT(gbc.pc(), 0xaaab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaaa), 0x5);
        // 05 02DB
        gbc.setState(0xeefa, 0xdaea, 0xba60, 0xfb51, 0x8c1a, 0x1144, 0x0, 0x1);
        gbc.writeMem(0xeefa, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xdaea);
        EXPECT(gbc.pc(), 0xeefb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeefa), 0x5);
        // 05 02DC
        gbc.setState(0x1907, 0xbdf3, 0x85c0, 0x8221, 0x6a9d, 0xf02, 0x1, 0x0);
        gbc.writeMem(0x1907, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xbdf3);
        EXPECT(gbc.pc(), 0x1908);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02DD
        gbc.setState(0xf65, 0x4801, 0xb140, 0xbe0a, 0xab39, 0xe4b4, 0x1, 0x1);
        gbc.writeMem(0xf65, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x4801);
        EXPECT(gbc.pc(), 0xf66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02DE
        gbc.setState(0x28f5, 0x4643, 0xd780, 0x964d, 0x4048, 0x5046, 0x0, 0x0);
        gbc.writeMem(0x28f5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4643);
        EXPECT(gbc.pc(), 0x28f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02DF
        gbc.setState(0xec22, 0xdb4c, 0xe3e0, 0xdd18, 0xf748, 0x375f, 0x0, 0x1);
        gbc.writeMem(0xec22, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xdb4c);
        EXPECT(gbc.pc(), 0xec23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec22), 0x5);
        // 05 02E0
        gbc.setState(0x66bd, 0xade9, 0x2760, 0xfdde, 0x4e1b, 0x3d92, 0x0, 0x1);
        gbc.writeMem(0x66bd, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xade9);
        EXPECT(gbc.pc(), 0x66be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02E1
        gbc.setState(0x4729, 0xe863, 0xc270, 0xaae0, 0xbb75, 0xc08d, 0x0, 0x0);
        gbc.writeMem(0x4729, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xe863);
        EXPECT(gbc.pc(), 0x472a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02E2
        gbc.setState(0xfe9, 0xd96a, 0xf210, 0x4548, 0x1797, 0xeef9, 0x0, 0x0);
        gbc.writeMem(0xfe9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xd96a);
        EXPECT(gbc.pc(), 0xfea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02E3
        gbc.setState(0x94e, 0xebc7, 0x1b10, 0x5240, 0xb84c, 0xf225, 0x1, 0x0);
        gbc.writeMem(0x94e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xebc7);
        EXPECT(gbc.pc(), 0x94f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02E4
        gbc.setState(0xa1ee, 0xd24a, 0x3cd0, 0x87c2, 0x80bf, 0x67a7, 0x0, 0x0);
        gbc.writeMem(0xa1ee, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xd24a);
        EXPECT(gbc.pc(), 0xa1ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1ee), 0x5);
        // 05 02E5
        gbc.setState(0xd6b6, 0x5236, 0xefb0, 0x435b, 0x40cb, 0x4217, 0x1, 0x0);
        gbc.writeMem(0xd6b6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x5236);
        EXPECT(gbc.pc(), 0xd6b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6b6), 0x5);
        // 05 02E6
        gbc.setState(0x1b1a, 0x7c11, 0x7880, 0xbd30, 0xaa75, 0xe297, 0x1, 0x0);
        gbc.writeMem(0x1b1a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x7c11);
        EXPECT(gbc.pc(), 0x1b1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02E7
        gbc.setState(0x9b4d, 0x3ee2, 0x5e80, 0x9ec3, 0xa726, 0xa4c5, 0x0, 0x1);
        gbc.writeMem(0x9b4d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x3ee2);
        EXPECT(gbc.pc(), 0x9b4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b4d), 0x5);
        // 05 02E9
        gbc.setState(0x21dd, 0x421b, 0xee90, 0x5ae2, 0x7cd1, 0xaa57, 0x1, 0x0);
        gbc.writeMem(0x21dd, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x421b);
        EXPECT(gbc.pc(), 0x21de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02EA
        gbc.setState(0xd263, 0x6ba8, 0xcea0, 0x9963, 0x4d55, 0x92, 0x1, 0x0);
        gbc.writeMem(0xd263, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x6ba8);
        EXPECT(gbc.pc(), 0xd264);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd263), 0x5);
        // 05 02EB
        gbc.setState(0xb19c, 0xbdd5, 0x6fc0, 0x5672, 0x3543, 0x3541, 0x0, 0x1);
        gbc.writeMem(0xb19c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xbdd5);
        EXPECT(gbc.pc(), 0xb19d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb19c), 0x5);
        // 05 02EC
        gbc.setState(0x39ea, 0x34c9, 0x1d50, 0x8037, 0x7f33, 0xab42, 0x0, 0x0);
        gbc.writeMem(0x39ea, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x34c9);
        EXPECT(gbc.pc(), 0x39eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 02ED
        gbc.setState(0x8f0c, 0xe961, 0x70d0, 0xf7dc, 0x1abe, 0x2ae0, 0x0, 0x1);
        gbc.writeMem(0x8f0c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xe961);
        EXPECT(gbc.pc(), 0x8f0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f0c), 0x5);
        // 05 02EE
        gbc.setState(0x815f, 0x511d, 0xef40, 0x7b2a, 0x66f7, 0x8398, 0x1, 0x1);
        gbc.writeMem(0x815f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x511d);
        EXPECT(gbc.pc(), 0x8160);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x815f), 0x5);
        // 05 02EF
        gbc.setState(0x756a, 0x250d, 0xc9b0, 0xbff6, 0x589e, 0x76c8, 0x1, 0x1);
        gbc.writeMem(0x756a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x250d);
        EXPECT(gbc.pc(), 0x756b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02F0
        gbc.setState(0xa86, 0xc0d8, 0x4c40, 0xe4c1, 0x52d2, 0x7055, 0x0, 0x1);
        gbc.writeMem(0xa86, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xc0d8);
        EXPECT(gbc.pc(), 0xa87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02F1
        gbc.setState(0x9603, 0x52ae, 0xb260, 0xe5b5, 0xa88f, 0xf1a8, 0x0, 0x0);
        gbc.writeMem(0x9603, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x52ae);
        EXPECT(gbc.pc(), 0x9604);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9603), 0x5);
        // 05 02F3
        gbc.setState(0x4b89, 0x5f9d, 0x6840, 0xb5bb, 0x1b31, 0x7937, 0x0, 0x0);
        gbc.writeMem(0x4b89, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x5f9d);
        EXPECT(gbc.pc(), 0x4b8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02F4
        gbc.setState(0x4535, 0xe9ce, 0x3d70, 0x474a, 0x88d8, 0xf99d, 0x0, 0x0);
        gbc.writeMem(0x4535, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xe9ce);
        EXPECT(gbc.pc(), 0x4536);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 02F6
        gbc.setState(0x9b4, 0xd6dc, 0x6220, 0x8290, 0x800e, 0x306d, 0x0, 0x1);
        gbc.writeMem(0x9b4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xd6dc);
        EXPECT(gbc.pc(), 0x9b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02F7
        gbc.setState(0x3ee9, 0x824f, 0x5700, 0x5fff, 0xbda3, 0xf4f6, 0x0, 0x1);
        gbc.writeMem(0x3ee9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x824f);
        EXPECT(gbc.pc(), 0x3eea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02F8
        gbc.setState(0x97f5, 0x76ae, 0xad30, 0xc514, 0x6f3d, 0x3f81, 0x1, 0x1);
        gbc.writeMem(0x97f5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x76ae);
        EXPECT(gbc.pc(), 0x97f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97f5), 0x5);
        // 05 02F9
        gbc.setState(0xc101, 0xa2c6, 0x9710, 0xc99d, 0x76d9, 0x29c8, 0x0, 0x1);
        gbc.writeMem(0xc101, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xa2c6);
        EXPECT(gbc.pc(), 0xc102);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc101), 0x5);
        // 05 02FA
        gbc.setState(0x9784, 0xd95c, 0x5fd0, 0xb928, 0x8e3e, 0x8a4f, 0x1, 0x0);
        gbc.writeMem(0x9784, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xd95c);
        EXPECT(gbc.pc(), 0x9785);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9784), 0x5);
        // 05 02FB
        gbc.setState(0xd35b, 0xe41e, 0xda20, 0xeb7f, 0x810d, 0x4d36, 0x1, 0x1);
        gbc.writeMem(0xd35b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xe41e);
        EXPECT(gbc.pc(), 0xd35c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd35b), 0x5);
        // 05 02FC
        gbc.setState(0x4860, 0x6ea1, 0x9c0, 0xfa79, 0x3a1e, 0x1283, 0x0, 0x0);
        gbc.writeMem(0x4860, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x6ea1);
        EXPECT(gbc.pc(), 0x4861);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02FD
        gbc.setState(0x4952, 0x1698, 0x2840, 0x25c1, 0xcde8, 0x68e2, 0x0, 0x0);
        gbc.writeMem(0x4952, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x1698);
        EXPECT(gbc.pc(), 0x4953);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 02FE
        gbc.setState(0xc859, 0x2675, 0xb5f0, 0xa2ad, 0xc3e4, 0x52bf, 0x0, 0x0);
        gbc.writeMem(0xc859, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x2675);
        EXPECT(gbc.pc(), 0xc85a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc859), 0x5);
        // 05 02FF
        gbc.setState(0xab41, 0x4a1b, 0x3710, 0xc75c, 0x69d8, 0xa728, 0x0, 0x0);
        gbc.writeMem(0xab41, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x4a1b);
        EXPECT(gbc.pc(), 0xab42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab41), 0x5);
        // 05 0300
        gbc.setState(0xd42d, 0xab5e, 0x1940, 0x25ca, 0xa0d7, 0x3e87, 0x1, 0x1);
        gbc.writeMem(0xd42d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xab5e);
        EXPECT(gbc.pc(), 0xd42e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd42d), 0x5);
        // 05 0301
        gbc.setState(0xcca5, 0xcc55, 0x6600, 0x469b, 0x5d85, 0xae57, 0x0, 0x0);
        gbc.writeMem(0xcca5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xcc55);
        EXPECT(gbc.pc(), 0xcca6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcca5), 0x5);
        // 05 0302
        gbc.setState(0x70a2, 0x785a, 0x9770, 0xa96a, 0x9655, 0xc352, 0x1, 0x1);
        gbc.writeMem(0x70a2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x785a);
        EXPECT(gbc.pc(), 0x70a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0304
        gbc.setState(0xc068, 0xd81b, 0xb080, 0x98a8, 0x2488, 0x3c31, 0x0, 0x0);
        gbc.writeMem(0xc068, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xd81b);
        EXPECT(gbc.pc(), 0xc069);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc068), 0x5);
        // 05 0305
        gbc.setState(0x3697, 0x721d, 0x2340, 0xa9e2, 0x28fb, 0x59d3, 0x0, 0x0);
        gbc.writeMem(0x3697, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x721d);
        EXPECT(gbc.pc(), 0x3698);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0307
        gbc.setState(0xc0c9, 0xbc6e, 0x7590, 0x3a92, 0x9c38, 0xdf7e, 0x1, 0x1);
        gbc.writeMem(0xc0c9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xbc6e);
        EXPECT(gbc.pc(), 0xc0ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0c9), 0x5);
        // 05 0308
        gbc.setState(0x5624, 0xb31d, 0xa8c0, 0x5e60, 0xac2c, 0x1bdd, 0x1, 0x0);
        gbc.writeMem(0x5624, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xb31d);
        EXPECT(gbc.pc(), 0x5625);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0309
        gbc.setState(0xd410, 0x468a, 0xfc50, 0xe1e9, 0xec40, 0xd246, 0x1, 0x0);
        gbc.writeMem(0xd410, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x468a);
        EXPECT(gbc.pc(), 0xd411);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd410), 0x5);
        // 05 030A
        gbc.setState(0x3ce5, 0xe049, 0x7350, 0x3e7a, 0x1069, 0x3453, 0x0, 0x1);
        gbc.writeMem(0x3ce5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xe049);
        EXPECT(gbc.pc(), 0x3ce6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 030B
        gbc.setState(0x7ad0, 0xb431, 0xe490, 0x1a48, 0xd9e3, 0x4060, 0x0, 0x1);
        gbc.writeMem(0x7ad0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xb431);
        EXPECT(gbc.pc(), 0x7ad1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 030C
        gbc.setState(0x4eec, 0x9128, 0x1fd0, 0x49f2, 0x42c4, 0x810a, 0x0, 0x1);
        gbc.writeMem(0x4eec, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x9128);
        EXPECT(gbc.pc(), 0x4eed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 030E
        gbc.setState(0xb2c2, 0xaafa, 0xf1a0, 0x4078, 0x137f, 0xefbc, 0x1, 0x0);
        gbc.writeMem(0xb2c2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xaafa);
        EXPECT(gbc.pc(), 0xb2c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2c2), 0x5);
        // 05 030F
        gbc.setState(0x8e9d, 0x7400, 0x1a00, 0xd8a6, 0xaf1d, 0x31d, 0x0, 0x0);
        gbc.writeMem(0x8e9d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x7400);
        EXPECT(gbc.pc(), 0x8e9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e9d), 0x5);
        // 05 0311
        gbc.setState(0x4d4, 0x91a1, 0x8930, 0x4919, 0xbc96, 0x1f8f, 0x1, 0x1);
        gbc.writeMem(0x4d4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x91a1);
        EXPECT(gbc.pc(), 0x4d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0312
        gbc.setState(0x1684, 0x9ab0, 0xd770, 0x62be, 0xc1db, 0xefc3, 0x0, 0x1);
        gbc.writeMem(0x1684, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x9ab0);
        EXPECT(gbc.pc(), 0x1685);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0313
        gbc.setState(0xb11e, 0xf3b9, 0x2320, 0x7d51, 0xe7ee, 0x37b5, 0x1, 0x0);
        gbc.writeMem(0xb11e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xf3b9);
        EXPECT(gbc.pc(), 0xb11f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb11e), 0x5);
        // 05 0314
        gbc.setState(0xe7a2, 0xe43e, 0x4360, 0xf106, 0x4080, 0xa159, 0x0, 0x1);
        gbc.writeMem(0xe7a2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xe43e);
        EXPECT(gbc.pc(), 0xe7a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7a2), 0x5);
        // 05 0315
        gbc.setState(0x41e8, 0xf706, 0xc630, 0x7ba6, 0xc189, 0xd5bb, 0x1, 0x0);
        gbc.writeMem(0x41e8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xf706);
        EXPECT(gbc.pc(), 0x41e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0316
        gbc.setState(0x709d, 0x243d, 0xf9f0, 0x9d27, 0x88a5, 0x323a, 0x0, 0x0);
        gbc.writeMem(0x709d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x243d);
        EXPECT(gbc.pc(), 0x709e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0317
        gbc.setState(0xcfbb, 0x386f, 0xd300, 0x261d, 0xf27c, 0xe622, 0x1, 0x1);
        gbc.writeMem(0xcfbb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x386f);
        EXPECT(gbc.pc(), 0xcfbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfbb), 0x5);
        // 05 0318
        gbc.setState(0xa453, 0xcb14, 0x5c0, 0xead9, 0xb3f, 0x391f, 0x0, 0x1);
        gbc.writeMem(0xa453, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xcb14);
        EXPECT(gbc.pc(), 0xa454);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa453), 0x5);
        // 05 0319
        gbc.setState(0x81d, 0xbdd4, 0x2700, 0x2925, 0xb722, 0x1cea, 0x1, 0x0);
        gbc.writeMem(0x81d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xbdd4);
        EXPECT(gbc.pc(), 0x81e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 031B
        gbc.setState(0xa011, 0x14c2, 0xb2c0, 0xcf0a, 0x8ad4, 0xa1c1, 0x0, 0x0);
        gbc.writeMem(0xa011, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x14c2);
        EXPECT(gbc.pc(), 0xa012);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa011), 0x5);
        // 05 031C
        gbc.setState(0x5410, 0xda7f, 0xd6c0, 0xba4f, 0x52ec, 0xd446, 0x0, 0x0);
        gbc.writeMem(0x5410, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xda7f);
        EXPECT(gbc.pc(), 0x5411);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 031E
        gbc.setState(0x5f4b, 0x77e2, 0x2a90, 0xe883, 0x3f7b, 0x252c, 0x0, 0x0);
        gbc.writeMem(0x5f4b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x77e2);
        EXPECT(gbc.pc(), 0x5f4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 031F
        gbc.setState(0x728d, 0xfa14, 0x4020, 0xb297, 0xd22d, 0xa037, 0x0, 0x0);
        gbc.writeMem(0x728d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xfa14);
        EXPECT(gbc.pc(), 0x728e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0321
        gbc.setState(0x1154, 0x70d7, 0x9a0, 0xa5f2, 0x58f7, 0x71fa, 0x1, 0x0);
        gbc.writeMem(0x1154, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x70d7);
        EXPECT(gbc.pc(), 0x1155);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0323
        gbc.setState(0x654c, 0x9ab6, 0x7280, 0xe03a, 0x7c11, 0x8556, 0x1, 0x1);
        gbc.writeMem(0x654c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x9ab6);
        EXPECT(gbc.pc(), 0x654d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 0324
        gbc.setState(0xe2f7, 0x92ea, 0x7420, 0x483e, 0xa4d6, 0xbcb9, 0x0, 0x0);
        gbc.writeMem(0xe2f7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x92ea);
        EXPECT(gbc.pc(), 0xe2f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2f7), 0x5);
        // 05 0325
        gbc.setState(0x538, 0x4741, 0x4a90, 0x657d, 0x3d0, 0x4d4c, 0x0, 0x0);
        gbc.writeMem(0x538, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x4741);
        EXPECT(gbc.pc(), 0x539);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0326
        gbc.setState(0x10af, 0x23e9, 0x9200, 0xc343, 0x5227, 0x5763, 0x1, 0x0);
        gbc.writeMem(0x10af, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x23e9);
        EXPECT(gbc.pc(), 0x10b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0327
        gbc.setState(0x6d22, 0xfad4, 0xa9f0, 0xc020, 0xf84b, 0xe6d3, 0x1, 0x0);
        gbc.writeMem(0x6d22, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xfad4);
        EXPECT(gbc.pc(), 0x6d23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 0328
        gbc.setState(0x66b8, 0xc1f, 0xdcb0, 0x9a33, 0x82fd, 0xa3ff, 0x1, 0x0);
        gbc.writeMem(0x66b8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xc1f);
        EXPECT(gbc.pc(), 0x66b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0329
        gbc.setState(0x213f, 0xeb93, 0x8f40, 0x8eaa, 0x8212, 0xb4ef, 0x0, 0x1);
        gbc.writeMem(0x213f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xeb93);
        EXPECT(gbc.pc(), 0x2140);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 032A
        gbc.setState(0xc008, 0x3255, 0xdba0, 0xe57f, 0x22d8, 0x44f3, 0x1, 0x1);
        gbc.writeMem(0xc008, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x3255);
        EXPECT(gbc.pc(), 0xc009);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc008), 0x5);
        // 05 032B
        gbc.setState(0xeb55, 0x2a23, 0x8fc0, 0xa05, 0x8f65, 0x7a08, 0x1, 0x1);
        gbc.writeMem(0xeb55, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x2a23);
        EXPECT(gbc.pc(), 0xeb56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb55), 0x5);
        // 05 032C
        gbc.setState(0xaa9d, 0x8a31, 0x2580, 0x631c, 0xe681, 0x7552, 0x0, 0x1);
        gbc.writeMem(0xaa9d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x8a31);
        EXPECT(gbc.pc(), 0xaa9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa9d), 0x5);
        // 05 032D
        gbc.setState(0x8b97, 0xb01e, 0x3f50, 0xb315, 0x81e6, 0x41b3, 0x1, 0x0);
        gbc.writeMem(0x8b97, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xb01e);
        EXPECT(gbc.pc(), 0x8b98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b97), 0x5);
        // 05 032E
        gbc.setState(0x2273, 0x44af, 0x88b0, 0x5056, 0xb5f7, 0xdc0c, 0x0, 0x1);
        gbc.writeMem(0x2273, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x44af);
        EXPECT(gbc.pc(), 0x2274);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 032F
        gbc.setState(0xc506, 0x89b5, 0x3940, 0x63f0, 0xffa5, 0xb92f, 0x0, 0x1);
        gbc.writeMem(0xc506, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x89b5);
        EXPECT(gbc.pc(), 0xc507);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc506), 0x5);
        // 05 0330
        gbc.setState(0xefcb, 0x7889, 0xd230, 0xd441, 0xba90, 0x3366, 0x1, 0x0);
        gbc.writeMem(0xefcb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x7889);
        EXPECT(gbc.pc(), 0xefcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefcb), 0x5);
        // 05 0331
        gbc.setState(0xcdd6, 0x6775, 0x2bd0, 0x3f1c, 0xed32, 0x431e, 0x1, 0x1);
        gbc.writeMem(0xcdd6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x6775);
        EXPECT(gbc.pc(), 0xcdd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdd6), 0x5);
        // 05 0332
        gbc.setState(0x75d8, 0xe581, 0x9d30, 0xa71f, 0x6d3c, 0x71cf, 0x1, 0x0);
        gbc.writeMem(0x75d8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xe581);
        EXPECT(gbc.pc(), 0x75d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0333
        gbc.setState(0x2417, 0xb4de, 0x50e0, 0xaab2, 0x39d7, 0x246d, 0x1, 0x0);
        gbc.writeMem(0x2417, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb4de);
        EXPECT(gbc.pc(), 0x2418);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0334
        gbc.setState(0x6a, 0xf8a9, 0x24b0, 0x6927, 0x3ba7, 0x6c77, 0x1, 0x1);
        gbc.writeMem(0x6a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xf8a9);
        EXPECT(gbc.pc(), 0x6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0335
        gbc.setState(0x458f, 0x475, 0xb90, 0xe362, 0x8a75, 0xd0d6, 0x1, 0x1);
        gbc.writeMem(0x458f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x475);
        EXPECT(gbc.pc(), 0x4590);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0336
        gbc.setState(0x96c3, 0xa9a1, 0x2570, 0xc748, 0xcf55, 0xce27, 0x0, 0x0);
        gbc.writeMem(0x96c3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xa9a1);
        EXPECT(gbc.pc(), 0x96c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96c3), 0x5);
        // 05 0337
        gbc.setState(0x7ba2, 0xcb9, 0xb2e0, 0xf31, 0x7afd, 0x40e5, 0x0, 0x0);
        gbc.writeMem(0x7ba2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xcb9);
        EXPECT(gbc.pc(), 0x7ba3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0338
        gbc.setState(0x19e8, 0x5e76, 0xb710, 0x7f7b, 0x453c, 0xef0b, 0x1, 0x0);
        gbc.writeMem(0x19e8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x5e76);
        EXPECT(gbc.pc(), 0x19e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0339
        gbc.setState(0x210, 0x286, 0xae30, 0xd929, 0xc2eb, 0x62b8, 0x1, 0x1);
        gbc.writeMem(0x210, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x286);
        EXPECT(gbc.pc(), 0x211);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 033B
        gbc.setState(0xf68, 0xc1b4, 0x4960, 0x506e, 0x5022, 0x4ff, 0x0, 0x1);
        gbc.writeMem(0xf68, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xc1b4);
        EXPECT(gbc.pc(), 0xf69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 033C
        gbc.setState(0x8281, 0xe56a, 0x7d10, 0x67cc, 0xf85a, 0xba9b, 0x0, 0x1);
        gbc.writeMem(0x8281, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xe56a);
        EXPECT(gbc.pc(), 0x8282);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8281), 0x5);
        // 05 033D
        gbc.setState(0xda4e, 0x4cda, 0xd330, 0x7f33, 0x6ffa, 0x43d7, 0x0, 0x0);
        gbc.writeMem(0xda4e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x4cda);
        EXPECT(gbc.pc(), 0xda4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda4e), 0x5);
        // 05 033E
        gbc.setState(0xb2a4, 0x6eeb, 0xfd0, 0xbf8a, 0x161d, 0x7356, 0x0, 0x0);
        gbc.writeMem(0xb2a4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x6eeb);
        EXPECT(gbc.pc(), 0xb2a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2a4), 0x5);
        // 05 033F
        gbc.setState(0x4fcd, 0x2165, 0x7e10, 0xd626, 0x9d5e, 0x8d5a, 0x0, 0x0);
        gbc.writeMem(0x4fcd, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x2165);
        EXPECT(gbc.pc(), 0x4fce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0340
        gbc.setState(0x4e28, 0xa069, 0xe120, 0xe00f, 0xe30, 0x33e7, 0x1, 0x0);
        gbc.writeMem(0x4e28, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa069);
        EXPECT(gbc.pc(), 0x4e29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 0341
        gbc.setState(0xa6fc, 0xb7ae, 0xa480, 0x95a6, 0x3fcc, 0x8d0, 0x1, 0x0);
        gbc.writeMem(0xa6fc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xb7ae);
        EXPECT(gbc.pc(), 0xa6fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6fc), 0x5);
        // 05 0343
        gbc.setState(0x5944, 0x2b7d, 0xc370, 0x249e, 0xf2da, 0x9157, 0x0, 0x0);
        gbc.writeMem(0x5944, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x2b7d);
        EXPECT(gbc.pc(), 0x5945);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0344
        gbc.setState(0xefaa, 0x2247, 0xc0d0, 0xdca9, 0xafee, 0x4396, 0x1, 0x1);
        gbc.writeMem(0xefaa, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x2247);
        EXPECT(gbc.pc(), 0xefab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefaa), 0x5);
        // 05 0345
        gbc.setState(0x6668, 0x190b, 0xd0f0, 0xe563, 0x848a, 0x7931, 0x1, 0x0);
        gbc.writeMem(0x6668, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x190b);
        EXPECT(gbc.pc(), 0x6669);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0346
        gbc.setState(0x78c9, 0x8026, 0x93a0, 0xad89, 0x3c28, 0x51ee, 0x0, 0x1);
        gbc.writeMem(0x78c9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x8026);
        EXPECT(gbc.pc(), 0x78ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0347
        gbc.setState(0xf84, 0x4cc9, 0x8c20, 0x82a8, 0x6982, 0x3c0f, 0x0, 0x1);
        gbc.writeMem(0xf84, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x4cc9);
        EXPECT(gbc.pc(), 0xf85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0348
        gbc.setState(0xad3f, 0xf87f, 0x6160, 0x879f, 0x8299, 0x428, 0x0, 0x1);
        gbc.writeMem(0xad3f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xf87f);
        EXPECT(gbc.pc(), 0xad40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad3f), 0x5);
        // 05 0349
        gbc.setState(0x6f84, 0xe82a, 0x34e0, 0xc465, 0xe2f1, 0xe7c4, 0x0, 0x0);
        gbc.writeMem(0x6f84, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xe82a);
        EXPECT(gbc.pc(), 0x6f85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 034A
        gbc.setState(0x7149, 0xb18a, 0x2a00, 0x428b, 0xa485, 0x6d9b, 0x1, 0x1);
        gbc.writeMem(0x7149, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xb18a);
        EXPECT(gbc.pc(), 0x714a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 034B
        gbc.setState(0xead4, 0x2807, 0xe9e0, 0x6686, 0x606d, 0x70a9, 0x0, 0x0);
        gbc.writeMem(0xead4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x2807);
        EXPECT(gbc.pc(), 0xead5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xead4), 0x5);
        // 05 034C
        gbc.setState(0x3578, 0x2111, 0x1150, 0xf10a, 0xfdf4, 0x5ecb, 0x1, 0x0);
        gbc.writeMem(0x3578, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x2111);
        EXPECT(gbc.pc(), 0x3579);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 034D
        gbc.setState(0x774f, 0x1807, 0x36f0, 0xc629, 0xd464, 0xd824, 0x1, 0x1);
        gbc.writeMem(0x774f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x1807);
        EXPECT(gbc.pc(), 0x7750);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 034E
        gbc.setState(0xde9c, 0xf80c, 0x41a0, 0xa0f6, 0xe8e2, 0xcbfd, 0x0, 0x0);
        gbc.writeMem(0xde9c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xf80c);
        EXPECT(gbc.pc(), 0xde9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde9c), 0x5);
        // 05 034F
        gbc.setState(0xdc0, 0x6c9f, 0xc360, 0x5a53, 0xf89c, 0x2b47, 0x1, 0x0);
        gbc.writeMem(0xdc0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x6c9f);
        EXPECT(gbc.pc(), 0xdc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0350
        gbc.setState(0xdf3e, 0x8f1e, 0x6820, 0xd98e, 0x33b, 0x265b, 0x0, 0x0);
        gbc.writeMem(0xdf3e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x8f1e);
        EXPECT(gbc.pc(), 0xdf3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf3e), 0x5);
        // 05 0351
        gbc.setState(0x89d3, 0xd305, 0x7e50, 0x4a4, 0xaa22, 0xede4, 0x0, 0x1);
        gbc.writeMem(0x89d3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xd305);
        EXPECT(gbc.pc(), 0x89d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89d3), 0x5);
        // 05 0352
        gbc.setState(0xede1, 0xedde, 0x8f30, 0x5fef, 0xef04, 0xb7c1, 0x1, 0x0);
        gbc.writeMem(0xede1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xedde);
        EXPECT(gbc.pc(), 0xede2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xede1), 0x5);
        // 05 0353
        gbc.setState(0x9719, 0x7afb, 0xd0a0, 0x517f, 0x1a55, 0xaef9, 0x1, 0x1);
        gbc.writeMem(0x9719, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x7afb);
        EXPECT(gbc.pc(), 0x971a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9719), 0x5);
        // 05 0354
        gbc.setState(0xb73f, 0x6726, 0xf580, 0x2f78, 0x89a5, 0x101c, 0x0, 0x0);
        gbc.writeMem(0xb73f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6726);
        EXPECT(gbc.pc(), 0xb740);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb73f), 0x5);
        // 05 0355
        gbc.setState(0xb01d, 0xae94, 0x1640, 0xc856, 0x38f3, 0xdde6, 0x0, 0x0);
        gbc.writeMem(0xb01d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xae94);
        EXPECT(gbc.pc(), 0xb01e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb01d), 0x5);
        // 05 0356
        gbc.setState(0xb89a, 0xcff6, 0xae20, 0xdad8, 0x2a1e, 0x7f53, 0x1, 0x1);
        gbc.writeMem(0xb89a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xcff6);
        EXPECT(gbc.pc(), 0xb89b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb89a), 0x5);
        // 05 0357
        gbc.setState(0x1af1, 0xfc54, 0x56a0, 0x689a, 0xbd28, 0x23d1, 0x1, 0x1);
        gbc.writeMem(0x1af1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xfc54);
        EXPECT(gbc.pc(), 0x1af2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0358
        gbc.setState(0x80b4, 0x3d97, 0x3c30, 0xe002, 0xc218, 0xbe77, 0x1, 0x1);
        gbc.writeMem(0x80b4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x3d97);
        EXPECT(gbc.pc(), 0x80b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80b4), 0x5);
        // 05 0359
        gbc.setState(0x280d, 0xb0e9, 0x6150, 0x9dab, 0xbc1a, 0x803, 0x0, 0x0);
        gbc.writeMem(0x280d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xb0e9);
        EXPECT(gbc.pc(), 0x280e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 035A
        gbc.setState(0x71b5, 0x5742, 0xf770, 0x2bf2, 0xe4ab, 0x69be, 0x1, 0x1);
        gbc.writeMem(0x71b5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x5742);
        EXPECT(gbc.pc(), 0x71b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 035B
        gbc.setState(0x4792, 0x1198, 0x8130, 0x1af6, 0x7bc3, 0xb1ac, 0x1, 0x0);
        gbc.writeMem(0x4792, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x1198);
        EXPECT(gbc.pc(), 0x4793);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 035C
        gbc.setState(0x700e, 0xb9f4, 0x58d0, 0x11d4, 0xc61, 0x4af8, 0x1, 0x1);
        gbc.writeMem(0x700e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xb9f4);
        EXPECT(gbc.pc(), 0x700f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 035D
        gbc.setState(0x1c2b, 0x76cb, 0x4f00, 0xce5e, 0xfbd1, 0xb529, 0x1, 0x1);
        gbc.writeMem(0x1c2b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x76cb);
        EXPECT(gbc.pc(), 0x1c2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 035E
        gbc.setState(0x8d08, 0xa7c8, 0x2260, 0x544e, 0x4ed1, 0x180c, 0x1, 0x0);
        gbc.writeMem(0x8d08, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xa7c8);
        EXPECT(gbc.pc(), 0x8d09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d08), 0x5);
        // 05 035F
        gbc.setState(0xcab1, 0x67b9, 0x7f20, 0xc43, 0x5451, 0xfbb1, 0x1, 0x0);
        gbc.writeMem(0xcab1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x67b9);
        EXPECT(gbc.pc(), 0xcab2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcab1), 0x5);
        // 05 0360
        gbc.setState(0x9ee5, 0xa0cb, 0x9fa0, 0xbf44, 0xcbe0, 0x6061, 0x1, 0x0);
        gbc.writeMem(0x9ee5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xa0cb);
        EXPECT(gbc.pc(), 0x9ee6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ee5), 0x5);
        // 05 0362
        gbc.setState(0x4481, 0x92c9, 0x6300, 0xc127, 0x7bd2, 0x1bc5, 0x1, 0x0);
        gbc.writeMem(0x4481, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x92c9);
        EXPECT(gbc.pc(), 0x4482);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0363
        gbc.setState(0xc014, 0x917d, 0x40b0, 0x9a9e, 0x2d73, 0xe7c2, 0x0, 0x1);
        gbc.writeMem(0xc014, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x917d);
        EXPECT(gbc.pc(), 0xc015);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc014), 0x5);
        // 05 0364
        gbc.setState(0x30eb, 0x9e84, 0xb540, 0xfdd, 0x4abc, 0x51e2, 0x1, 0x1);
        gbc.writeMem(0x30eb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x9e84);
        EXPECT(gbc.pc(), 0x30ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0365
        gbc.setState(0x9887, 0xe31b, 0xce90, 0xe4da, 0x38be, 0x4426, 0x0, 0x0);
        gbc.writeMem(0x9887, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xe31b);
        EXPECT(gbc.pc(), 0x9888);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9887), 0x5);
        // 05 0366
        gbc.setState(0x885b, 0x6999, 0x2e70, 0xc0fb, 0x19e4, 0xef94, 0x1, 0x1);
        gbc.writeMem(0x885b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x6999);
        EXPECT(gbc.pc(), 0x885c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x885b), 0x5);
        // 05 0367
        gbc.setState(0xdf81, 0x6a6, 0xd730, 0x28f1, 0xf819, 0xc99, 0x1, 0x0);
        gbc.writeMem(0xdf81, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x6a6);
        EXPECT(gbc.pc(), 0xdf82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf81), 0x5);
        // 05 0368
        gbc.setState(0x41f2, 0x5e5e, 0x2ac0, 0x8999, 0x1428, 0x1ab8, 0x1, 0x1);
        gbc.writeMem(0x41f2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x5e5e);
        EXPECT(gbc.pc(), 0x41f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0369
        gbc.setState(0x36e0, 0xbd6d, 0xa860, 0x7449, 0x396c, 0x18d4, 0x1, 0x1);
        gbc.writeMem(0x36e0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xbd6d);
        EXPECT(gbc.pc(), 0x36e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 036A
        gbc.setState(0xcd5b, 0x78f1, 0x7200, 0xc387, 0x6785, 0x2e51, 0x0, 0x1);
        gbc.writeMem(0xcd5b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x78f1);
        EXPECT(gbc.pc(), 0xcd5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd5b), 0x5);
        // 05 036B
        gbc.setState(0x9702, 0x54ed, 0x11f0, 0x7d0d, 0x6893, 0x309d, 0x1, 0x1);
        gbc.writeMem(0x9702, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x54ed);
        EXPECT(gbc.pc(), 0x9703);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9702), 0x5);
        // 05 036E
        gbc.setState(0xbff8, 0xcecb, 0xef20, 0xa0df, 0x3333, 0xef64, 0x0, 0x1);
        gbc.writeMem(0xbff8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xcecb);
        EXPECT(gbc.pc(), 0xbff9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbff8), 0x5);
        // 05 036F
        gbc.setState(0xc5f0, 0xdac9, 0x8c60, 0x188b, 0xa35c, 0xf97f, 0x0, 0x1);
        gbc.writeMem(0xc5f0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xdac9);
        EXPECT(gbc.pc(), 0xc5f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5f0), 0x5);
        // 05 0370
        gbc.setState(0xba, 0x27e2, 0x9dd0, 0x42b0, 0x4570, 0x3bd7, 0x1, 0x1);
        gbc.writeMem(0xba, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x27e2);
        EXPECT(gbc.pc(), 0xbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0371
        gbc.setState(0xb5d9, 0xd571, 0xbf10, 0x8afc, 0x9c15, 0x6161, 0x0, 0x1);
        gbc.writeMem(0xb5d9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xd571);
        EXPECT(gbc.pc(), 0xb5da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5d9), 0x5);
        // 05 0372
        gbc.setState(0xc06e, 0x37c5, 0xc9c0, 0x4b64, 0xc10d, 0x5488, 0x0, 0x1);
        gbc.writeMem(0xc06e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x37c5);
        EXPECT(gbc.pc(), 0xc06f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc06e), 0x5);
        // 05 0373
        gbc.setState(0xe2cd, 0xdaf7, 0x4de0, 0x9db, 0x775a, 0xdeda, 0x1, 0x0);
        gbc.writeMem(0xe2cd, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xdaf7);
        EXPECT(gbc.pc(), 0xe2ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2cd), 0x5);
        // 05 0374
        gbc.setState(0xb0ec, 0x3953, 0xef90, 0xbdb2, 0xc927, 0x8155, 0x1, 0x1);
        gbc.writeMem(0xb0ec, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x3953);
        EXPECT(gbc.pc(), 0xb0ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0ec), 0x5);
        // 05 0375
        gbc.setState(0x9e01, 0xab0f, 0x5630, 0xe116, 0x7638, 0xcbd0, 0x1, 0x0);
        gbc.writeMem(0x9e01, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xab0f);
        EXPECT(gbc.pc(), 0x9e02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e01), 0x5);
        // 05 0376
        gbc.setState(0xc8b2, 0x2fcd, 0x2000, 0x72e5, 0xc8dc, 0x4a37, 0x0, 0x0);
        gbc.writeMem(0xc8b2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x2fcd);
        EXPECT(gbc.pc(), 0xc8b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8b2), 0x5);
        // 05 0377
        gbc.setState(0xbfcf, 0xde98, 0xe870, 0xde61, 0xad00, 0x2e9f, 0x0, 0x1);
        gbc.writeMem(0xbfcf, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xde98);
        EXPECT(gbc.pc(), 0xbfd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfcf), 0x5);
        // 05 0378
        gbc.setState(0x6a96, 0x4082, 0xc970, 0xaaa9, 0xf3f2, 0x921f, 0x1, 0x0);
        gbc.writeMem(0x6a96, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x4082);
        EXPECT(gbc.pc(), 0x6a97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0379
        gbc.setState(0xdbb2, 0x5488, 0x3e80, 0xc56f, 0x1fd3, 0x295c, 0x1, 0x1);
        gbc.writeMem(0xdbb2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x5488);
        EXPECT(gbc.pc(), 0xdbb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbb2), 0x5);
        // 05 037B
        gbc.setState(0xb6a9, 0xb64d, 0x37c0, 0x2e26, 0x4ff0, 0x257c, 0x1, 0x0);
        gbc.writeMem(0xb6a9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xb64d);
        EXPECT(gbc.pc(), 0xb6aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6a9), 0x5);
        // 05 037C
        gbc.setState(0xd2f0, 0x5d8, 0x15e0, 0x24d6, 0x5b23, 0xb02d, 0x0, 0x1);
        gbc.writeMem(0xd2f0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5d8);
        EXPECT(gbc.pc(), 0xd2f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2f0), 0x5);
        // 05 037D
        gbc.setState(0x376f, 0xad64, 0x9380, 0xd42e, 0x6b60, 0xca79, 0x0, 0x1);
        gbc.writeMem(0x376f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xad64);
        EXPECT(gbc.pc(), 0x3770);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 037F
        gbc.setState(0xd72e, 0xa44c, 0x40f0, 0x1b05, 0x7a27, 0x8a58, 0x1, 0x0);
        gbc.writeMem(0xd72e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xa44c);
        EXPECT(gbc.pc(), 0xd72f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd72e), 0x5);
        // 05 0380
        gbc.setState(0x61de, 0xc82b, 0xfce0, 0x54cd, 0x32ae, 0xd744, 0x1, 0x0);
        gbc.writeMem(0x61de, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xc82b);
        EXPECT(gbc.pc(), 0x61df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0381
        gbc.setState(0xf000, 0xe0e4, 0xd6c0, 0xb7dc, 0xaeaa, 0xee23, 0x1, 0x1);
        gbc.writeMem(0xf000, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xe0e4);
        EXPECT(gbc.pc(), 0xf001);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf000), 0x5);
        // 05 0382
        gbc.setState(0x4b4, 0x8eec, 0xf150, 0xaf04, 0xf309, 0x3cac, 0x0, 0x1);
        gbc.writeMem(0x4b4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x8eec);
        EXPECT(gbc.pc(), 0x4b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0383
        gbc.setState(0xd697, 0x7534, 0x55c0, 0x5460, 0xb318, 0x7981, 0x0, 0x0);
        gbc.writeMem(0xd697, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x7534);
        EXPECT(gbc.pc(), 0xd698);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd697), 0x5);
        // 05 0384
        gbc.setState(0xd517, 0x9f79, 0x7370, 0xc6f4, 0x8111, 0xf83, 0x0, 0x0);
        gbc.writeMem(0xd517, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x9f79);
        EXPECT(gbc.pc(), 0xd518);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd517), 0x5);
        // 05 0385
        gbc.setState(0xcdd1, 0x9e51, 0x6e60, 0xd4f, 0xa31f, 0xf987, 0x0, 0x0);
        gbc.writeMem(0xcdd1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x9e51);
        EXPECT(gbc.pc(), 0xcdd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdd1), 0x5);
        // 05 0386
        gbc.setState(0x71cb, 0x473d, 0x44b0, 0xa62f, 0xfc2e, 0xab1, 0x0, 0x1);
        gbc.writeMem(0x71cb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x473d);
        EXPECT(gbc.pc(), 0x71cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0387
        gbc.setState(0xdecf, 0x9044, 0x7110, 0x71aa, 0x996c, 0x103e, 0x1, 0x1);
        gbc.writeMem(0xdecf, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x9044);
        EXPECT(gbc.pc(), 0xded0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdecf), 0x5);
        // 05 0388
        gbc.setState(0x5097, 0xd213, 0x3530, 0x247c, 0x3d8d, 0xcf07, 0x0, 0x1);
        gbc.writeMem(0x5097, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xd213);
        EXPECT(gbc.pc(), 0x5098);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0389
        gbc.setState(0xb37d, 0xd539, 0xd730, 0x8dde, 0x786f, 0xb661, 0x1, 0x1);
        gbc.writeMem(0xb37d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xd539);
        EXPECT(gbc.pc(), 0xb37e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb37d), 0x5);
        // 05 038A
        gbc.setState(0xb4ab, 0x5eb8, 0xb670, 0x93e0, 0x247a, 0x8609, 0x1, 0x0);
        gbc.writeMem(0xb4ab, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x5eb8);
        EXPECT(gbc.pc(), 0xb4ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4ab), 0x5);
        // 05 038B
        gbc.setState(0x58e1, 0x66a, 0x7080, 0xda70, 0x1ef4, 0x1af1, 0x1, 0x0);
        gbc.writeMem(0x58e1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x66a);
        EXPECT(gbc.pc(), 0x58e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 038C
        gbc.setState(0x3bed, 0xb8da, 0x4c10, 0x3d7d, 0x265, 0xb435, 0x1, 0x1);
        gbc.writeMem(0x3bed, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xb8da);
        EXPECT(gbc.pc(), 0x3bee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 038D
        gbc.setState(0x3685, 0x92b4, 0x4a30, 0x3763, 0x273f, 0x1215, 0x0, 0x0);
        gbc.writeMem(0x3685, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x92b4);
        EXPECT(gbc.pc(), 0x3686);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 038E
        gbc.setState(0x15e7, 0x8109, 0x2410, 0x153f, 0x34, 0x7fc, 0x0, 0x1);
        gbc.writeMem(0x15e7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x8109);
        EXPECT(gbc.pc(), 0x15e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 038F
        gbc.setState(0x7073, 0x3663, 0x3a60, 0xf4ab, 0x12ed, 0xa110, 0x0, 0x1);
        gbc.writeMem(0x7073, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x3663);
        EXPECT(gbc.pc(), 0x7074);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0390
        gbc.setState(0x8e96, 0xed31, 0x5cc0, 0xd185, 0xf2f1, 0xf24, 0x0, 0x0);
        gbc.writeMem(0x8e96, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xed31);
        EXPECT(gbc.pc(), 0x8e97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e96), 0x5);
        // 05 0391
        gbc.setState(0x3d1e, 0x276b, 0x5620, 0x43fa, 0xccb1, 0xe04e, 0x0, 0x0);
        gbc.writeMem(0x3d1e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x276b);
        EXPECT(gbc.pc(), 0x3d1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 0392
        gbc.setState(0xba17, 0x8111, 0xd510, 0xe0b9, 0x76ce, 0xbf89, 0x0, 0x1);
        gbc.writeMem(0xba17, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x8111);
        EXPECT(gbc.pc(), 0xba18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba17), 0x5);
        // 05 0393
        gbc.setState(0x5a65, 0x6946, 0xf5f0, 0x2674, 0x77ae, 0x4be0, 0x1, 0x1);
        gbc.writeMem(0x5a65, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x6946);
        EXPECT(gbc.pc(), 0x5a66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0394
        gbc.setState(0x1962, 0xe511, 0xf990, 0xd8e4, 0x3ff4, 0xfbb3, 0x1, 0x1);
        gbc.writeMem(0x1962, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xe511);
        EXPECT(gbc.pc(), 0x1963);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0395
        gbc.setState(0x3d69, 0x6683, 0x8040, 0xa0c5, 0xefe6, 0x9620, 0x0, 0x1);
        gbc.writeMem(0x3d69, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x6683);
        EXPECT(gbc.pc(), 0x3d6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 0396
        gbc.setState(0xced8, 0x94c4, 0xee00, 0x7a18, 0xf04, 0x8561, 0x0, 0x1);
        gbc.writeMem(0xced8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x94c4);
        EXPECT(gbc.pc(), 0xced9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xced8), 0x5);
        // 05 0397
        gbc.setState(0x33c5, 0x5dcb, 0x4430, 0x1af0, 0x1998, 0x496a, 0x0, 0x1);
        gbc.writeMem(0x33c5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x5dcb);
        EXPECT(gbc.pc(), 0x33c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 0398
        gbc.setState(0xe328, 0xe801, 0x3c70, 0x7ff7, 0xc5db, 0xb1e0, 0x1, 0x1);
        gbc.writeMem(0xe328, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xe801);
        EXPECT(gbc.pc(), 0xe329);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe328), 0x5);
        // 05 0399
        gbc.setState(0xeab2, 0x2eb3, 0x8e0, 0x2fc4, 0x9ab8, 0x9541, 0x0, 0x1);
        gbc.writeMem(0xeab2, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x2eb3);
        EXPECT(gbc.pc(), 0xeab3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeab2), 0x5);
        // 05 039A
        gbc.setState(0x6d18, 0xc795, 0x68b0, 0x2051, 0xf752, 0x4b57, 0x1, 0x1);
        gbc.writeMem(0x6d18, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xc795);
        EXPECT(gbc.pc(), 0x6d19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 039B
        gbc.setState(0xafb5, 0xc1fd, 0x7ec0, 0xd56d, 0x20a9, 0x5c6b, 0x1, 0x1);
        gbc.writeMem(0xafb5, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xc1fd);
        EXPECT(gbc.pc(), 0xafb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafb5), 0x5);
        // 05 039C
        gbc.setState(0x6892, 0xe0ad, 0xa9c0, 0xd1b5, 0x6fd4, 0x2847, 0x0, 0x0);
        gbc.writeMem(0x6892, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xe0ad);
        EXPECT(gbc.pc(), 0x6893);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 039D
        gbc.setState(0x4d16, 0xd3d7, 0x52e0, 0x8cf7, 0xb8c7, 0xcd51, 0x0, 0x0);
        gbc.writeMem(0x4d16, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xd3d7);
        EXPECT(gbc.pc(), 0x4d17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 039E
        gbc.setState(0x3568, 0xc077, 0x6a0, 0xc030, 0xfe28, 0x3aea, 0x1, 0x0);
        gbc.writeMem(0x3568, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xc077);
        EXPECT(gbc.pc(), 0x3569);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 03A0
        gbc.setState(0x90e4, 0xc785, 0xd670, 0x463b, 0x4f50, 0xd43e, 0x0, 0x0);
        gbc.writeMem(0x90e4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xc785);
        EXPECT(gbc.pc(), 0x90e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90e4), 0x5);
        // 05 03A1
        gbc.setState(0x3ce0, 0x5f79, 0x8680, 0xe998, 0x27f8, 0x6cd5, 0x1, 0x0);
        gbc.writeMem(0x3ce0, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x5f79);
        EXPECT(gbc.pc(), 0x3ce1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03A2
        gbc.setState(0x8fc6, 0x5751, 0x87c0, 0x5b9d, 0x8c0d, 0x157d, 0x1, 0x0);
        gbc.writeMem(0x8fc6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x5751);
        EXPECT(gbc.pc(), 0x8fc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fc6), 0x5);
        // 05 03A3
        gbc.setState(0xe966, 0x37e9, 0x64b0, 0x831c, 0xa83b, 0xf66d, 0x1, 0x1);
        gbc.writeMem(0xe966, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x37e9);
        EXPECT(gbc.pc(), 0xe967);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe966), 0x5);
        // 05 03A5
        gbc.setState(0xa7a7, 0xc09d, 0xf860, 0xf850, 0xbab, 0x20af, 0x1, 0x1);
        gbc.writeMem(0xa7a7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xc09d);
        EXPECT(gbc.pc(), 0xa7a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7a7), 0x5);
        // 05 03A6
        gbc.setState(0x1f25, 0xff6, 0xf460, 0x64a1, 0x8e7b, 0xdd3a, 0x1, 0x0);
        gbc.writeMem(0x1f25, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xff6);
        EXPECT(gbc.pc(), 0x1f26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03A7
        gbc.setState(0x462a, 0x974f, 0xa660, 0x6c, 0x1db0, 0x2b8, 0x1, 0x0);
        gbc.writeMem(0x462a, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x974f);
        EXPECT(gbc.pc(), 0x462b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 03A8
        gbc.setState(0xd40d, 0xa2e2, 0xc4c0, 0x8ac7, 0xa8f5, 0xcce9, 0x1, 0x0);
        gbc.writeMem(0xd40d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xa2e2);
        EXPECT(gbc.pc(), 0xd40e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd40d), 0x5);
        // 05 03A9
        gbc.setState(0x7a23, 0x90cc, 0xe910, 0x1d94, 0x9c43, 0x6d98, 0x0, 0x0);
        gbc.writeMem(0x7a23, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x90cc);
        EXPECT(gbc.pc(), 0x7a24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03AA
        gbc.setState(0x554e, 0xe2ea, 0xc7c0, 0x6c03, 0x5076, 0x5601, 0x0, 0x0);
        gbc.writeMem(0x554e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xe2ea);
        EXPECT(gbc.pc(), 0x554f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03AB
        gbc.setState(0x33fc, 0xf762, 0xfcb0, 0xfb5a, 0xaab0, 0x589c, 0x1, 0x1);
        gbc.writeMem(0x33fc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xf762);
        EXPECT(gbc.pc(), 0x33fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03AC
        gbc.setState(0x4110, 0xcfea, 0xc8b0, 0xa712, 0xef49, 0x8921, 0x1, 0x1);
        gbc.writeMem(0x4110, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xcfea);
        EXPECT(gbc.pc(), 0x4111);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03AE
        gbc.setState(0x43ab, 0x8169, 0xc760, 0xb913, 0x9b16, 0xe441, 0x0, 0x1);
        gbc.writeMem(0x43ab, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x8169);
        EXPECT(gbc.pc(), 0x43ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03AF
        gbc.setState(0xa666, 0x7c98, 0x61b0, 0xc42e, 0x1dc4, 0xa4be, 0x1, 0x0);
        gbc.writeMem(0xa666, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x7c98);
        EXPECT(gbc.pc(), 0xa667);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa666), 0x5);
        // 05 03B0
        gbc.setState(0x637e, 0xaab2, 0x870, 0xf88e, 0x9976, 0xd765, 0x0, 0x1);
        gbc.writeMem(0x637e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xaab2);
        EXPECT(gbc.pc(), 0x637f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03B1
        gbc.setState(0x8175, 0x8333, 0x9550, 0xaa3d, 0xfe7c, 0xe14e, 0x1, 0x0);
        gbc.writeMem(0x8175, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x8333);
        EXPECT(gbc.pc(), 0x8176);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8175), 0x5);
        // 05 03B2
        gbc.setState(0x808, 0xb348, 0xcd0, 0x24ec, 0xb674, 0xdf01, 0x1, 0x0);
        gbc.writeMem(0x808, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xb348);
        EXPECT(gbc.pc(), 0x809);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03B3
        gbc.setState(0x5afc, 0x88fd, 0x3b50, 0xd2a1, 0x7eac, 0x1983, 0x0, 0x0);
        gbc.writeMem(0x5afc, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x88fd);
        EXPECT(gbc.pc(), 0x5afd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03B4
        gbc.setState(0x1eca, 0x34c9, 0xf8b0, 0x7523, 0xb470, 0x2ed2, 0x1, 0x0);
        gbc.writeMem(0x1eca, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x34c9);
        EXPECT(gbc.pc(), 0x1ecb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03B5
        gbc.setState(0x45b6, 0x2d72, 0x8f10, 0xefd4, 0xec33, 0xe7dd, 0x0, 0x0);
        gbc.writeMem(0x45b6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x2d72);
        EXPECT(gbc.pc(), 0x45b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03B6
        gbc.setState(0xb769, 0xb91d, 0xadb0, 0xf89f, 0x70f5, 0x5bb1, 0x1, 0x0);
        gbc.writeMem(0xb769, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xb91d);
        EXPECT(gbc.pc(), 0xb76a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb769), 0x5);
        // 05 03B7
        gbc.setState(0x7f33, 0xabc2, 0x41e0, 0xd7d9, 0xc8a5, 0xbd0f, 0x1, 0x0);
        gbc.writeMem(0x7f33, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xabc2);
        EXPECT(gbc.pc(), 0x7f34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03B8
        gbc.setState(0x5ec4, 0x6e4c, 0xa5f0, 0xe9bc, 0x7b20, 0xc5ba, 0x1, 0x0);
        gbc.writeMem(0x5ec4, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x6e4c);
        EXPECT(gbc.pc(), 0x5ec5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03B9
        gbc.setState(0x3793, 0x8242, 0xda70, 0x8fd6, 0x65de, 0x9343, 0x0, 0x1);
        gbc.writeMem(0x3793, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x8242);
        EXPECT(gbc.pc(), 0x3794);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03BA
        gbc.setState(0xeabb, 0x599a, 0xaeb0, 0x9cc, 0x320b, 0x8d37, 0x1, 0x0);
        gbc.writeMem(0xeabb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x599a);
        EXPECT(gbc.pc(), 0xeabc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeabb), 0x5);
        // 05 03BB
        gbc.setState(0xd5ae, 0xbeff, 0xc760, 0xc229, 0xf104, 0x9a97, 0x0, 0x1);
        gbc.writeMem(0xd5ae, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xbeff);
        EXPECT(gbc.pc(), 0xd5af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5ae), 0x5);
        // 05 03BC
        gbc.setState(0xc16c, 0x7797, 0x9d40, 0xabac, 0x2991, 0x4bdb, 0x1, 0x0);
        gbc.writeMem(0xc16c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x7797);
        EXPECT(gbc.pc(), 0xc16d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc16c), 0x5);
        // 05 03BD
        gbc.setState(0xa822, 0xf827, 0x3780, 0x14c6, 0x9364, 0x8404, 0x0, 0x1);
        gbc.writeMem(0xa822, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xf827);
        EXPECT(gbc.pc(), 0xa823);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa822), 0x5);
        // 05 03BE
        gbc.setState(0xc46c, 0x9359, 0x4b0, 0x4af7, 0xf46d, 0x758d, 0x1, 0x1);
        gbc.writeMem(0xc46c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x9359);
        EXPECT(gbc.pc(), 0xc46d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc46c), 0x5);
        // 05 03BF
        gbc.setState(0x2cec, 0xd1e4, 0x68d0, 0x73d4, 0xa2bf, 0xe6f6, 0x1, 0x1);
        gbc.writeMem(0x2cec, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xd1e4);
        EXPECT(gbc.pc(), 0x2ced);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03C0
        gbc.setState(0xbe1f, 0xf254, 0x75d0, 0xe46d, 0x7f79, 0xc793, 0x1, 0x1);
        gbc.writeMem(0xbe1f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xf254);
        EXPECT(gbc.pc(), 0xbe20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe1f), 0x5);
        // 05 03C1
        gbc.setState(0xa948, 0xaab4, 0xf1f0, 0xffeb, 0x1cc4, 0x3d51, 0x0, 0x1);
        gbc.writeMem(0xa948, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xaab4);
        EXPECT(gbc.pc(), 0xa949);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa948), 0x5);
        // 05 03C2
        gbc.setState(0x12be, 0x71b0, 0x1820, 0xd2f3, 0xef04, 0x719b, 0x0, 0x1);
        gbc.writeMem(0x12be, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x71b0);
        EXPECT(gbc.pc(), 0x12bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03C3
        gbc.setState(0xc60, 0xec73, 0x7940, 0x1f4b, 0xc049, 0xb7d, 0x1, 0x1);
        gbc.writeMem(0xc60, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xec73);
        EXPECT(gbc.pc(), 0xc61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03C4
        gbc.setState(0x780c, 0xd899, 0x5280, 0xb9c5, 0x87a2, 0x2437, 0x1, 0x1);
        gbc.writeMem(0x780c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xd899);
        EXPECT(gbc.pc(), 0x780d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03C5
        gbc.setState(0x6578, 0xf0da, 0x7fb0, 0x5bb5, 0xe8ed, 0x7834, 0x0, 0x0);
        gbc.writeMem(0x6578, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xf0da);
        EXPECT(gbc.pc(), 0x6579);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03C6
        gbc.setState(0x2c7f, 0xaf06, 0xaa20, 0xcbd6, 0x225f, 0x9809, 0x0, 0x1);
        gbc.writeMem(0x2c7f, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xaf06);
        EXPECT(gbc.pc(), 0x2c80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03C8
        gbc.setState(0x22f1, 0xa165, 0xd6e0, 0x6839, 0x343c, 0xf44e, 0x0, 0x0);
        gbc.writeMem(0x22f1, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xa165);
        EXPECT(gbc.pc(), 0x22f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03C9
        gbc.setState(0xaa77, 0xc041, 0xcb50, 0xc8c0, 0xedc8, 0x4f1a, 0x1, 0x1);
        gbc.writeMem(0xaa77, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xc041);
        EXPECT(gbc.pc(), 0xaa78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa77), 0x5);
        // 05 03CA
        gbc.setState(0x8a22, 0xaa18, 0x1130, 0x776e, 0xa87c, 0xa876, 0x0, 0x1);
        gbc.writeMem(0x8a22, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xaa18);
        EXPECT(gbc.pc(), 0x8a23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a22), 0x5);
        // 05 03CB
        gbc.setState(0x81b6, 0xee7e, 0x7f80, 0xa8c1, 0xb078, 0xf26d, 0x0, 0x1);
        gbc.writeMem(0x81b6, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xee7e);
        EXPECT(gbc.pc(), 0x81b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81b6), 0x5);
        // 05 03CC
        gbc.setState(0x86c9, 0x5bad, 0xfb30, 0x528c, 0x6cd2, 0xbb47, 0x0, 0x1);
        gbc.writeMem(0x86c9, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x5bad);
        EXPECT(gbc.pc(), 0x86ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86c9), 0x5);
        // 05 03CD
        gbc.setState(0x4239, 0x5dd0, 0xf8f0, 0x5e74, 0xb105, 0x9f8b, 0x1, 0x0);
        gbc.writeMem(0x4239, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x5dd0);
        EXPECT(gbc.pc(), 0x423a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03CE
        gbc.setState(0x27f8, 0x65f2, 0xa600, 0xc4b7, 0x760, 0xa1a8, 0x1, 0x1);
        gbc.writeMem(0x27f8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x65f2);
        EXPECT(gbc.pc(), 0x27f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03CF
        gbc.setState(0x8304, 0x5ad1, 0xcfc0, 0xf75, 0x2044, 0x590a, 0x0, 0x1);
        gbc.writeMem(0x8304, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x5ad1);
        EXPECT(gbc.pc(), 0x8305);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8304), 0x5);
        // 05 03D0
        gbc.setState(0x2912, 0x9b72, 0xe4d0, 0x798f, 0x3ea, 0xe318, 0x1, 0x1);
        gbc.writeMem(0x2912, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x9b72);
        EXPECT(gbc.pc(), 0x2913);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03D1
        gbc.setState(0xa620, 0xc3ac, 0x7440, 0x4cdf, 0x5b78, 0x38b, 0x1, 0x1);
        gbc.writeMem(0xa620, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xc3ac);
        EXPECT(gbc.pc(), 0xa621);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa620), 0x5);
        // 05 03D2
        gbc.setState(0x87cd, 0xa918, 0xb100, 0x6c8d, 0xb809, 0x515d, 0x1, 0x1);
        gbc.writeMem(0x87cd, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xa918);
        EXPECT(gbc.pc(), 0x87ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87cd), 0x5);
        // 05 03D3
        gbc.setState(0x98e, 0x5ff1, 0x1100, 0xa748, 0xc5d1, 0xbfb5, 0x1, 0x0);
        gbc.writeMem(0x98e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x5ff1);
        EXPECT(gbc.pc(), 0x98f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03D4
        gbc.setState(0x2e05, 0x6653, 0xd350, 0x4358, 0xf7f1, 0x3fd7, 0x1, 0x0);
        gbc.writeMem(0x2e05, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x6653);
        EXPECT(gbc.pc(), 0x2e06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03D5
        gbc.setState(0xcdbb, 0x1b51, 0x2850, 0x657, 0x3b16, 0x87b1, 0x0, 0x0);
        gbc.writeMem(0xcdbb, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x1b51);
        EXPECT(gbc.pc(), 0xcdbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdbb), 0x5);
        // 05 03D6
        gbc.setState(0xc48d, 0xedd2, 0x3670, 0xd44a, 0x75c5, 0x6670, 0x0, 0x0);
        gbc.writeMem(0xc48d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xedd2);
        EXPECT(gbc.pc(), 0xc48e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc48d), 0x5);
        // 05 03D7
        gbc.setState(0xb302, 0x421f, 0xa8e0, 0x81c2, 0x98b2, 0xa1ee, 0x0, 0x0);
        gbc.writeMem(0xb302, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x421f);
        EXPECT(gbc.pc(), 0xb303);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb302), 0x5);
        // 05 03D8
        gbc.setState(0x5efe, 0xf936, 0x59c0, 0xb9cc, 0xa8d0, 0x7b81, 0x1, 0x1);
        gbc.writeMem(0x5efe, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xf936);
        EXPECT(gbc.pc(), 0x5eff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03D9
        gbc.setState(0x329c, 0x2d6e, 0x9c70, 0x985f, 0xd9f9, 0xfff6, 0x1, 0x1);
        gbc.writeMem(0x329c, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x2d6e);
        EXPECT(gbc.pc(), 0x329d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03DA
        gbc.setState(0xe56e, 0xf5b4, 0x90c0, 0x7a33, 0x4e23, 0x6a08, 0x0, 0x0);
        gbc.writeMem(0xe56e, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xf5b4);
        EXPECT(gbc.pc(), 0xe56f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe56e), 0x5);
        // 05 03DB
        gbc.setState(0xd39, 0x14e5, 0x9f60, 0x4780, 0xea79, 0x8860, 0x1, 0x0);
        gbc.writeMem(0xd39, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x14e5);
        EXPECT(gbc.pc(), 0xd3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03DC
        gbc.setState(0x4c22, 0xa5df, 0x9f20, 0x6809, 0xae24, 0x9c48, 0x1, 0x0);
        gbc.writeMem(0x4c22, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xa5df);
        EXPECT(gbc.pc(), 0x4c23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03DD
        gbc.setState(0x1d1d, 0x1b6a, 0x6c50, 0xc912, 0x4046, 0x342c, 0x1, 0x0);
        gbc.writeMem(0x1d1d, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x1b6a);
        EXPECT(gbc.pc(), 0x1d1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03DE
        gbc.setState(0x28be, 0xea15, 0x6940, 0x6c27, 0x43ca, 0xd7ac, 0x1, 0x1);
        gbc.writeMem(0x28be, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xea15);
        EXPECT(gbc.pc(), 0x28bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03DF
        gbc.setState(0x5e8, 0xd7a8, 0xc10, 0x8258, 0xbe0d, 0x6c1e, 0x0, 0x1);
        gbc.writeMem(0x5e8, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xd7a8);
        EXPECT(gbc.pc(), 0x5e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03E0
        gbc.setState(0x7bc7, 0x6de2, 0xad00, 0xd013, 0x10f9, 0xf90e, 0x1, 0x1);
        gbc.writeMem(0x7bc7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x6de2);
        EXPECT(gbc.pc(), 0x7bc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 05 03E1
        gbc.setState(0x66d3, 0x1a11, 0x6b60, 0x66b9, 0x50f, 0xe8f1, 0x0, 0x0);
        gbc.writeMem(0x66d3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x1a11);
        EXPECT(gbc.pc(), 0x66d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03E2
        gbc.setState(0x5f92, 0x7337, 0xf170, 0x8b94, 0xad09, 0xba3d, 0x0, 0x1);
        gbc.writeMem(0x5f92, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x7337);
        EXPECT(gbc.pc(), 0x5f93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 05 03E3
        gbc.setState(0x4c65, 0x9b39, 0xe640, 0xc6bc, 0xb92e, 0x8315, 0x1, 0x0);
        gbc.writeMem(0x4c65, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x9b39);
        EXPECT(gbc.pc(), 0x4c66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03E4
        gbc.setState(0x6ece, 0x30a2, 0x39a0, 0x8106, 0x91f6, 0xd1a9, 0x1, 0x1);
        gbc.writeMem(0x6ece, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x30a2);
        EXPECT(gbc.pc(), 0x6ecf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03E5
        gbc.setState(0x1350, 0x7284, 0x5fe0, 0xade0, 0xa28d, 0x19c3, 0x1, 0x1);
        gbc.writeMem(0x1350, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x7284);
        EXPECT(gbc.pc(), 0x1351);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 05 03E6
        gbc.setState(0x3d7b, 0xbaa5, 0xbed0, 0xb086, 0x34f9, 0xc788, 0x1, 0x0);
        gbc.writeMem(0x3d7b, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xbaa5);
        EXPECT(gbc.pc(), 0x3d7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 05 03E7
        gbc.setState(0xc3b7, 0x4c5d, 0xac10, 0xd158, 0x4895, 0x5b25, 0x0, 0x1);
        gbc.writeMem(0xc3b7, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x4c5d);
        EXPECT(gbc.pc(), 0xc3b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3b7), 0x5);
    }
