#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_88)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_88) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 88 0000
        gbc.setState(0xaf55, 0x5a49, 0x1e00, 0x49b8, 0x241c, 0x818e, 0x1, 0x0);
        gbc.writeMem(0xaf55, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x5a49);
        EXPECT(gbc.pc(), 0xaf56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf55), 0x88);
        // 88 0001
        gbc.setState(0xa080, 0x68ce, 0xf080, 0xf1ff, 0xd24c, 0x3766, 0x0, 0x0);
        gbc.writeMem(0xa080, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x68ce);
        EXPECT(gbc.pc(), 0xa081);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa080), 0x88);
        // 88 0002
        gbc.setState(0xb423, 0x4922, 0x4330, 0xcaa0, 0x37ba, 0x6c8f, 0x1, 0x1);
        gbc.writeMem(0xb423, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4922);
        EXPECT(gbc.pc(), 0xb424);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb423), 0x88);
        // 88 0003
        gbc.setState(0xe23, 0xdab, 0x6460, 0xdf83, 0x2deb, 0xd37, 0x1, 0x1);
        gbc.writeMem(0xe23, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xdab);
        EXPECT(gbc.pc(), 0xe24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0004
        gbc.setState(0xd8bb, 0xf0ce, 0xcb30, 0x1d54, 0x86cb, 0xfb67, 0x1, 0x1);
        gbc.writeMem(0xd8bb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xf0ce);
        EXPECT(gbc.pc(), 0xd8bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8bb), 0x88);
        // 88 0005
        gbc.setState(0x28b9, 0xd25d, 0x2850, 0xaa4b, 0xa7e8, 0x6aa5, 0x0, 0x0);
        gbc.writeMem(0x28b9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xd25d);
        EXPECT(gbc.pc(), 0x28ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0006
        gbc.setState(0x15, 0xd589, 0xa220, 0x5907, 0x7a58, 0xd030, 0x1, 0x0);
        gbc.writeMem(0x15, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd589);
        EXPECT(gbc.pc(), 0x16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0007
        gbc.setState(0x7f4d, 0xaae7, 0xa5b0, 0x571a, 0x5490, 0x73b4, 0x0, 0x0);
        gbc.writeMem(0x7f4d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xaae7);
        EXPECT(gbc.pc(), 0x7f4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0008
        gbc.setState(0x14ba, 0xd64f, 0x3e50, 0x599e, 0x849f, 0xb71b, 0x0, 0x1);
        gbc.writeMem(0x14ba, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xd64f);
        EXPECT(gbc.pc(), 0x14bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0009
        gbc.setState(0xe411, 0xf636, 0xe3e0, 0x3dda, 0x9d0d, 0xa753, 0x1, 0x1);
        gbc.writeMem(0xe411, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xf636);
        EXPECT(gbc.pc(), 0xe412);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe411), 0x88);
        // 88 000A
        gbc.setState(0x777c, 0x195c, 0x3190, 0x55c4, 0xeb5e, 0xac5a, 0x0, 0x1);
        gbc.writeMem(0x777c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x195c);
        EXPECT(gbc.pc(), 0x777d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 000C
        gbc.setState(0x7f26, 0x6d97, 0x4100, 0x48ad, 0x3915, 0xa66f, 0x1, 0x1);
        gbc.writeMem(0x7f26, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x6d97);
        EXPECT(gbc.pc(), 0x7f27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 000D
        gbc.setState(0x8b70, 0x5b20, 0xde20, 0x6127, 0x6ba4, 0x7135, 0x1, 0x0);
        gbc.writeMem(0x8b70, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x5b20);
        EXPECT(gbc.pc(), 0x8b71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b70), 0x88);
        // 88 000E
        gbc.setState(0x6ff, 0x594e, 0x9070, 0xa974, 0x91b7, 0x607d, 0x0, 0x0);
        gbc.writeMem(0x6ff, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x594e);
        EXPECT(gbc.pc(), 0x700);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 000F
        gbc.setState(0x24d3, 0xc5e9, 0x2cf0, 0xbc9, 0xe1b0, 0xe733, 0x0, 0x1);
        gbc.writeMem(0x24d3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xc5e9);
        EXPECT(gbc.pc(), 0x24d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0010
        gbc.setState(0x5d4d, 0x3c71, 0x2f00, 0x2af4, 0x8990, 0x46c9, 0x0, 0x0);
        gbc.writeMem(0x5d4d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x3c71);
        EXPECT(gbc.pc(), 0x5d4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0011
        gbc.setState(0x45f9, 0x85ca, 0x43b0, 0x2dd, 0xfbcb, 0xef59, 0x0, 0x1);
        gbc.writeMem(0x45f9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x85ca);
        EXPECT(gbc.pc(), 0x45fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0012
        gbc.setState(0xed9f, 0x57c7, 0x26a0, 0x1810, 0x11e4, 0xe274, 0x0, 0x0);
        gbc.writeMem(0xed9f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x57c7);
        EXPECT(gbc.pc(), 0xeda0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed9f), 0x88);
        // 88 0013
        gbc.setState(0x90d9, 0x4f51, 0x3d50, 0xb41b, 0x163e, 0xf500, 0x1, 0x0);
        gbc.writeMem(0x90d9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x4f51);
        EXPECT(gbc.pc(), 0x90da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90d9), 0x88);
        // 88 0014
        gbc.setState(0x5012, 0x794, 0xe610, 0xd1c6, 0xfe06, 0x57a7, 0x0, 0x0);
        gbc.writeMem(0x5012, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x794);
        EXPECT(gbc.pc(), 0x5013);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0015
        gbc.setState(0x5faf, 0xf1ce, 0xfdf0, 0xacb3, 0x4b81, 0xdbfa, 0x0, 0x0);
        gbc.writeMem(0x5faf, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xf1ce);
        EXPECT(gbc.pc(), 0x5fb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0016
        gbc.setState(0x318f, 0xdc0c, 0x9720, 0x349a, 0x5102, 0x7017, 0x1, 0x0);
        gbc.writeMem(0x318f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xdc0c);
        EXPECT(gbc.pc(), 0x3190);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0017
        gbc.setState(0x7d9f, 0xfe11, 0x52d0, 0xc72b, 0xb962, 0x9255, 0x0, 0x1);
        gbc.writeMem(0x7d9f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xfe11);
        EXPECT(gbc.pc(), 0x7da0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0018
        gbc.setState(0x52d3, 0xc3e1, 0xa9c0, 0x2b79, 0xd217, 0x7e37, 0x1, 0x0);
        gbc.writeMem(0x52d3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xc3e1);
        EXPECT(gbc.pc(), 0x52d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0019
        gbc.setState(0xd9c0, 0x5474, 0x8000, 0xf6db, 0x3b98, 0xedd7, 0x1, 0x0);
        gbc.writeMem(0xd9c0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x5474);
        EXPECT(gbc.pc(), 0xd9c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9c0), 0x88);
        // 88 001A
        gbc.setState(0x3fb4, 0xf93e, 0x85f0, 0xdc83, 0x449b, 0x86d7, 0x1, 0x0);
        gbc.writeMem(0x3fb4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xf93e);
        EXPECT(gbc.pc(), 0x3fb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 001B
        gbc.setState(0x69e9, 0x261e, 0xb9c0, 0x2c28, 0x2973, 0xefe6, 0x1, 0x1);
        gbc.writeMem(0x69e9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x261e);
        EXPECT(gbc.pc(), 0x69ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 001C
        gbc.setState(0x3ef6, 0x4428, 0x7fc0, 0xccc2, 0xfcec, 0xb39b, 0x0, 0x0);
        gbc.writeMem(0x3ef6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x4428);
        EXPECT(gbc.pc(), 0x3ef7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 001D
        gbc.setState(0x9287, 0x683c, 0x66d0, 0x1180, 0x136b, 0x1dfc, 0x1, 0x1);
        gbc.writeMem(0x9287, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x683c);
        EXPECT(gbc.pc(), 0x9288);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9287), 0x88);
        // 88 001E
        gbc.setState(0x2400, 0x20a8, 0x7660, 0xd420, 0x81fd, 0x733d, 0x1, 0x0);
        gbc.writeMem(0x2400, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x20a8);
        EXPECT(gbc.pc(), 0x2401);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 001F
        gbc.setState(0x5217, 0x40bd, 0xc8d0, 0xcf9, 0x9a8a, 0x85db, 0x0, 0x1);
        gbc.writeMem(0x5217, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x40bd);
        EXPECT(gbc.pc(), 0x5218);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0021
        gbc.setState(0x9888, 0x9e47, 0x8f10, 0xe697, 0xca1d, 0xa4d1, 0x0, 0x1);
        gbc.writeMem(0x9888, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x9e47);
        EXPECT(gbc.pc(), 0x9889);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9888), 0x88);
        // 88 0022
        gbc.setState(0x6e1a, 0x971, 0x9bd0, 0x7e37, 0x54a5, 0xc48f, 0x0, 0x1);
        gbc.writeMem(0x6e1a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x971);
        EXPECT(gbc.pc(), 0x6e1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0023
        gbc.setState(0x4342, 0x3656, 0x2b70, 0xb67d, 0x5d0b, 0xc08d, 0x0, 0x1);
        gbc.writeMem(0x4342, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x3656);
        EXPECT(gbc.pc(), 0x4343);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0024
        gbc.setState(0x4da7, 0x4cbb, 0xc2d0, 0xa7e4, 0x5e28, 0x8937, 0x0, 0x1);
        gbc.writeMem(0x4da7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x4cbb);
        EXPECT(gbc.pc(), 0x4da8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0025
        gbc.setState(0x2d0d, 0xb164, 0xb3e0, 0x618d, 0xf855, 0x5719, 0x1, 0x0);
        gbc.writeMem(0x2d0d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xb164);
        EXPECT(gbc.pc(), 0x2d0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0026
        gbc.setState(0x2bb7, 0x4d1e, 0xf720, 0x2f91, 0xedc3, 0x65ab, 0x1, 0x1);
        gbc.writeMem(0x2bb7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x4d1e);
        EXPECT(gbc.pc(), 0x2bb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0027
        gbc.setState(0x4e8b, 0xe1f, 0xcc80, 0x2821, 0x4b8f, 0x3ddb, 0x1, 0x1);
        gbc.writeMem(0x4e8b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xe1f);
        EXPECT(gbc.pc(), 0x4e8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0028
        gbc.setState(0xa0b, 0xb471, 0xfbd0, 0x64da, 0x3adf, 0xe505, 0x1, 0x1);
        gbc.writeMem(0xa0b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xb471);
        EXPECT(gbc.pc(), 0xa0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0029
        gbc.setState(0x97f3, 0x75e9, 0xaae0, 0x5eaf, 0x7c9e, 0x5bdd, 0x0, 0x1);
        gbc.writeMem(0x97f3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x75e9);
        EXPECT(gbc.pc(), 0x97f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97f3), 0x88);
        // 88 002B
        gbc.setState(0xa902, 0x2564, 0xfbb0, 0x17e5, 0x80e9, 0x47c8, 0x1, 0x1);
        gbc.writeMem(0xa902, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x2564);
        EXPECT(gbc.pc(), 0xa903);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa902), 0x88);
        // 88 002C
        gbc.setState(0xc639, 0xb262, 0x5140, 0x2c54, 0xbf19, 0xf521, 0x0, 0x0);
        gbc.writeMem(0xc639, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xb262);
        EXPECT(gbc.pc(), 0xc63a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc639), 0x88);
        // 88 002D
        gbc.setState(0x70e1, 0x70a4, 0xb800, 0x7631, 0xe31e, 0x9077, 0x1, 0x1);
        gbc.writeMem(0x70e1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x70a4);
        EXPECT(gbc.pc(), 0x70e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 002E
        gbc.setState(0xb4d8, 0x7c91, 0x64b0, 0x6494, 0xe9df, 0x71bb, 0x1, 0x1);
        gbc.writeMem(0xb4d8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x7c91);
        EXPECT(gbc.pc(), 0xb4d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4d8), 0x88);
        // 88 002F
        gbc.setState(0xe80c, 0x5723, 0xd000, 0x26f4, 0x52ad, 0xa2b, 0x0, 0x1);
        gbc.writeMem(0xe80c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x5723);
        EXPECT(gbc.pc(), 0xe80d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe80c), 0x88);
        // 88 0030
        gbc.setState(0xfed, 0xd7c1, 0x4e50, 0xd77b, 0xa4ab, 0x462c, 0x1, 0x1);
        gbc.writeMem(0xfed, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xd7c1);
        EXPECT(gbc.pc(), 0xfee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0031
        gbc.setState(0xdcb4, 0xc031, 0xec0, 0x6717, 0xd126, 0xa4ab, 0x0, 0x1);
        gbc.writeMem(0xdcb4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xc031);
        EXPECT(gbc.pc(), 0xdcb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcb4), 0x88);
        // 88 0032
        gbc.setState(0xba6b, 0xb7bb, 0x23e0, 0x664, 0x80e8, 0xed3c, 0x1, 0x0);
        gbc.writeMem(0xba6b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xb7bb);
        EXPECT(gbc.pc(), 0xba6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba6b), 0x88);
        // 88 0033
        gbc.setState(0xd18c, 0x12c9, 0x7b40, 0x7a08, 0x1f9b, 0x2f7, 0x1, 0x0);
        gbc.writeMem(0xd18c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x12c9);
        EXPECT(gbc.pc(), 0xd18d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd18c), 0x88);
        // 88 0034
        gbc.setState(0x448d, 0x4cae, 0xf7d0, 0x56f6, 0x8611, 0x6e02, 0x0, 0x1);
        gbc.writeMem(0x448d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x4cae);
        EXPECT(gbc.pc(), 0x448e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0036
        gbc.setState(0x5284, 0x90f9, 0x7110, 0xcdaa, 0x6bda, 0x2d1f, 0x1, 0x1);
        gbc.writeMem(0x5284, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x90f9);
        EXPECT(gbc.pc(), 0x5285);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0038
        gbc.setState(0x2348, 0x7c, 0x50a0, 0x2f0c, 0x225b, 0xbcd1, 0x0, 0x1);
        gbc.writeMem(0x2348, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x7c);
        EXPECT(gbc.pc(), 0x2349);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0039
        gbc.setState(0x3471, 0x64d3, 0x6c30, 0x6bdb, 0x3732, 0x6c84, 0x1, 0x0);
        gbc.writeMem(0x3471, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x64d3);
        EXPECT(gbc.pc(), 0x3472);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 003A
        gbc.setState(0x3e57, 0xd50c, 0x5de0, 0x3e23, 0x729a, 0x6581, 0x1, 0x1);
        gbc.writeMem(0x3e57, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xd50c);
        EXPECT(gbc.pc(), 0x3e58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 003B
        gbc.setState(0xae79, 0xb771, 0x5690, 0xdb75, 0xb3e0, 0x7509, 0x1, 0x1);
        gbc.writeMem(0xae79, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xb771);
        EXPECT(gbc.pc(), 0xae7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae79), 0x88);
        // 88 003C
        gbc.setState(0xbac, 0xbbbf, 0xeb90, 0xf890, 0x68a6, 0x1ed3, 0x0, 0x1);
        gbc.writeMem(0xbac, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xbbbf);
        EXPECT(gbc.pc(), 0xbad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 003D
        gbc.setState(0xb78a, 0x6b0d, 0x75a0, 0xc5e3, 0x1ca1, 0x77bf, 0x1, 0x0);
        gbc.writeMem(0xb78a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x6b0d);
        EXPECT(gbc.pc(), 0xb78b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb78a), 0x88);
        // 88 003E
        gbc.setState(0x547b, 0x885d, 0x2620, 0xc607, 0xd599, 0xfe94, 0x0, 0x1);
        gbc.writeMem(0x547b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x885d);
        EXPECT(gbc.pc(), 0x547c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 003F
        gbc.setState(0xbd0d, 0xf4d0, 0xfab0, 0xf0c4, 0x9162, 0x75bb, 0x1, 0x1);
        gbc.writeMem(0xbd0d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xf4d0);
        EXPECT(gbc.pc(), 0xbd0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd0d), 0x88);
        // 88 0040
        gbc.setState(0xc403, 0xb112, 0x49b0, 0x6b3, 0xaa02, 0xda93, 0x1, 0x1);
        gbc.writeMem(0xc403, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xb112);
        EXPECT(gbc.pc(), 0xc404);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc403), 0x88);
        // 88 0041
        gbc.setState(0xba58, 0xf808, 0x5840, 0x992a, 0x597b, 0x4ff3, 0x0, 0x1);
        gbc.writeMem(0xba58, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xf808);
        EXPECT(gbc.pc(), 0xba59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba58), 0x88);
        // 88 0042
        gbc.setState(0x59b5, 0x44e2, 0x7350, 0x7016, 0xce82, 0x2029, 0x0, 0x0);
        gbc.writeMem(0x59b5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x44e2);
        EXPECT(gbc.pc(), 0x59b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0043
        gbc.setState(0x4ca0, 0x54d5, 0x89f0, 0x1910, 0xfa59, 0x7753, 0x0, 0x0);
        gbc.writeMem(0x4ca0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x54d5);
        EXPECT(gbc.pc(), 0x4ca1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0045
        gbc.setState(0xd767, 0x4f5b, 0x5120, 0x68d8, 0x50b9, 0xcfdf, 0x1, 0x1);
        gbc.writeMem(0xd767, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x4f5b);
        EXPECT(gbc.pc(), 0xd768);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd767), 0x88);
        // 88 0046
        gbc.setState(0xb272, 0x9d97, 0xdf00, 0xeb42, 0xe354, 0x72c0, 0x1, 0x1);
        gbc.writeMem(0xb272, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x9d97);
        EXPECT(gbc.pc(), 0xb273);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb272), 0x88);
        // 88 0047
        gbc.setState(0x7c35, 0x5f31, 0x6660, 0x1da, 0x3985, 0x3854, 0x1, 0x0);
        gbc.writeMem(0x7c35, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x5f31);
        EXPECT(gbc.pc(), 0x7c36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0048
        gbc.setState(0x31f1, 0x26b5, 0x9ce0, 0x81ab, 0x4e1d, 0x3c07, 0x1, 0x0);
        gbc.writeMem(0x31f1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x26b5);
        EXPECT(gbc.pc(), 0x31f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0049
        gbc.setState(0xd77b, 0x258f, 0xbeb0, 0xc7c, 0x2ffd, 0xbc25, 0x0, 0x1);
        gbc.writeMem(0xd77b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x258f);
        EXPECT(gbc.pc(), 0xd77c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd77b), 0x88);
        // 88 004A
        gbc.setState(0x141c, 0x5350, 0x6700, 0x6dc8, 0xb259, 0x1054, 0x1, 0x0);
        gbc.writeMem(0x141c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x5350);
        EXPECT(gbc.pc(), 0x141d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 004B
        gbc.setState(0xb073, 0x3af6, 0x1bf0, 0x5c37, 0x36b7, 0x980a, 0x1, 0x0);
        gbc.writeMem(0xb073, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x3af6);
        EXPECT(gbc.pc(), 0xb074);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb073), 0x88);
        // 88 004C
        gbc.setState(0x3259, 0xc306, 0x1f90, 0x74ad, 0xa69f, 0x3b22, 0x0, 0x1);
        gbc.writeMem(0x3259, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xc306);
        EXPECT(gbc.pc(), 0x325a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 004D
        gbc.setState(0x159d, 0xde4, 0xd4f0, 0x3614, 0x79a0, 0xdd0f, 0x0, 0x1);
        gbc.writeMem(0x159d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xde4);
        EXPECT(gbc.pc(), 0x159e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 004E
        gbc.setState(0x893c, 0x2cba, 0x4ed0, 0xe317, 0x1b04, 0xd465, 0x1, 0x0);
        gbc.writeMem(0x893c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x2cba);
        EXPECT(gbc.pc(), 0x893d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x893c), 0x88);
        // 88 004F
        gbc.setState(0x6160, 0x9e58, 0x18a0, 0x591, 0xcb7f, 0x424f, 0x0, 0x1);
        gbc.writeMem(0x6160, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x9e58);
        EXPECT(gbc.pc(), 0x6161);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0050
        gbc.setState(0x45d4, 0xd233, 0x2480, 0x22cc, 0xf0b7, 0x81d7, 0x0, 0x0);
        gbc.writeMem(0x45d4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xd233);
        EXPECT(gbc.pc(), 0x45d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0051
        gbc.setState(0xc1c8, 0x82a6, 0xb890, 0xce06, 0x407e, 0xa4a6, 0x1, 0x1);
        gbc.writeMem(0xc1c8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x82a6);
        EXPECT(gbc.pc(), 0xc1c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1c8), 0x88);
        // 88 0052
        gbc.setState(0xb573, 0x36c5, 0xea50, 0xc5b0, 0x7f87, 0xe85d, 0x0, 0x1);
        gbc.writeMem(0xb573, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x36c5);
        EXPECT(gbc.pc(), 0xb574);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb573), 0x88);
        // 88 0053
        gbc.setState(0x921a, 0x5fb2, 0xfc10, 0x541c, 0x48a0, 0x9f64, 0x1, 0x0);
        gbc.writeMem(0x921a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x5fb2);
        EXPECT(gbc.pc(), 0x921b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x921a), 0x88);
        // 88 0054
        gbc.setState(0xc201, 0xa0, 0xb1f0, 0xf90c, 0xea49, 0x376f, 0x0, 0x0);
        gbc.writeMem(0xc201, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa0);
        EXPECT(gbc.pc(), 0xc202);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc201), 0x88);
        // 88 0055
        gbc.setState(0x7305, 0xdabb, 0x9160, 0x17c7, 0x913b, 0x6bf, 0x0, 0x1);
        gbc.writeMem(0x7305, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xdabb);
        EXPECT(gbc.pc(), 0x7306);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0056
        gbc.setState(0x83f7, 0x3bc3, 0x4710, 0xf63, 0xeb84, 0x2bc1, 0x1, 0x1);
        gbc.writeMem(0x83f7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x3bc3);
        EXPECT(gbc.pc(), 0x83f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83f7), 0x88);
        // 88 0057
        gbc.setState(0x3687, 0x6a44, 0x10a0, 0xb564, 0x3bdf, 0xe7cb, 0x0, 0x0);
        gbc.writeMem(0x3687, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x6a44);
        EXPECT(gbc.pc(), 0x3688);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0058
        gbc.setState(0xb7b9, 0x1eae, 0x4cc0, 0xe8e7, 0xc565, 0x3b33, 0x0, 0x1);
        gbc.writeMem(0xb7b9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x1eae);
        EXPECT(gbc.pc(), 0xb7ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7b9), 0x88);
        // 88 0059
        gbc.setState(0x12cd, 0xb2b1, 0xdb20, 0x48c, 0xd75f, 0x1999, 0x0, 0x0);
        gbc.writeMem(0x12cd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xb2b1);
        EXPECT(gbc.pc(), 0x12ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 005A
        gbc.setState(0x141c, 0xcd34, 0x4120, 0xc4c0, 0xcba8, 0xd4ff, 0x0, 0x1);
        gbc.writeMem(0x141c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xcd34);
        EXPECT(gbc.pc(), 0x141d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 005B
        gbc.setState(0x5eb5, 0x152b, 0x5c20, 0x9d3d, 0x5d19, 0xa3ce, 0x0, 0x1);
        gbc.writeMem(0x5eb5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x152b);
        EXPECT(gbc.pc(), 0x5eb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 005C
        gbc.setState(0xec13, 0xe3a3, 0x5d00, 0x19e3, 0x45f8, 0x94eb, 0x0, 0x0);
        gbc.writeMem(0xec13, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xe3a3);
        EXPECT(gbc.pc(), 0xec14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec13), 0x88);
        // 88 005D
        gbc.setState(0xe4d8, 0x46e8, 0xf5e0, 0x7092, 0xec74, 0xf95e, 0x1, 0x0);
        gbc.writeMem(0xe4d8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x46e8);
        EXPECT(gbc.pc(), 0xe4d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4d8), 0x88);
        // 88 005E
        gbc.setState(0xef5f, 0xfbae, 0x57e0, 0xcb21, 0x8af9, 0xa845, 0x1, 0x0);
        gbc.writeMem(0xef5f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xfbae);
        EXPECT(gbc.pc(), 0xef60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef5f), 0x88);
        // 88 005F
        gbc.setState(0x439d, 0x4242, 0x7550, 0x5e85, 0xeb65, 0x7834, 0x1, 0x1);
        gbc.writeMem(0x439d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x4242);
        EXPECT(gbc.pc(), 0x439e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0060
        gbc.setState(0xbbe4, 0xd9e3, 0x2c0, 0x3029, 0x75c1, 0x30c, 0x1, 0x0);
        gbc.writeMem(0xbbe4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xd9e3);
        EXPECT(gbc.pc(), 0xbbe5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbe4), 0x88);
        // 88 0061
        gbc.setState(0x5728, 0x65dd, 0x4110, 0xd4c7, 0x987, 0x67f9, 0x1, 0x1);
        gbc.writeMem(0x5728, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x65dd);
        EXPECT(gbc.pc(), 0x5729);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0062
        gbc.setState(0x18d1, 0xd4c5, 0x5dc0, 0xb51d, 0x952d, 0x84fd, 0x0, 0x0);
        gbc.writeMem(0x18d1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xd4c5);
        EXPECT(gbc.pc(), 0x18d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0063
        gbc.setState(0x5921, 0x993a, 0x3e40, 0xae0f, 0x547f, 0x94e3, 0x0, 0x0);
        gbc.writeMem(0x5921, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x993a);
        EXPECT(gbc.pc(), 0x5922);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0064
        gbc.setState(0x7304, 0xe270, 0x8aa0, 0xae6f, 0x7cb6, 0xaf7, 0x1, 0x0);
        gbc.writeMem(0x7304, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xe270);
        EXPECT(gbc.pc(), 0x7305);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0065
        gbc.setState(0x8d8e, 0xeab5, 0x2160, 0x4f13, 0x6cab, 0xdf5c, 0x0, 0x0);
        gbc.writeMem(0x8d8e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xeab5);
        EXPECT(gbc.pc(), 0x8d8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d8e), 0x88);
        // 88 0067
        gbc.setState(0x5177, 0xb616, 0x9010, 0x1dad, 0xe9, 0x15cf, 0x1, 0x1);
        gbc.writeMem(0x5177, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xb616);
        EXPECT(gbc.pc(), 0x5178);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0068
        gbc.setState(0x532d, 0xb369, 0xa610, 0xae44, 0xc3e, 0xad2a, 0x0, 0x0);
        gbc.writeMem(0x532d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xb369);
        EXPECT(gbc.pc(), 0x532e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 006A
        gbc.setState(0x28f4, 0x60fc, 0xd2e0, 0xb652, 0x14b3, 0xad89, 0x0, 0x0);
        gbc.writeMem(0x28f4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x60fc);
        EXPECT(gbc.pc(), 0x28f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 006B
        gbc.setState(0xb0f1, 0x373, 0x2db0, 0x222a, 0x5aa, 0x754a, 0x0, 0x1);
        gbc.writeMem(0xb0f1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x373);
        EXPECT(gbc.pc(), 0xb0f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0f1), 0x88);
        // 88 006C
        gbc.setState(0x8ec9, 0xc60e, 0x8640, 0xd533, 0x74da, 0xe58c, 0x0, 0x0);
        gbc.writeMem(0x8ec9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xc60e);
        EXPECT(gbc.pc(), 0x8eca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ec9), 0x88);
        // 88 006D
        gbc.setState(0xaf52, 0x15a6, 0xcae0, 0x41b2, 0xefaa, 0x1ffc, 0x1, 0x1);
        gbc.writeMem(0xaf52, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x15a6);
        EXPECT(gbc.pc(), 0xaf53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf52), 0x88);
        // 88 006F
        gbc.setState(0x7302, 0x8c8c, 0x4690, 0x709b, 0x7cd0, 0x1ebd, 0x0, 0x0);
        gbc.writeMem(0x7302, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x8c8c);
        EXPECT(gbc.pc(), 0x7303);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0070
        gbc.setState(0xe837, 0xc381, 0x3800, 0x668, 0x2d32, 0x2c97, 0x0, 0x0);
        gbc.writeMem(0xe837, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xc381);
        EXPECT(gbc.pc(), 0xe838);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe837), 0x88);
        // 88 0071
        gbc.setState(0x37d5, 0xee63, 0xcd30, 0x3d5e, 0x760d, 0x3904, 0x1, 0x0);
        gbc.writeMem(0x37d5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xee63);
        EXPECT(gbc.pc(), 0x37d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0072
        gbc.setState(0x55de, 0x6d42, 0x22d0, 0x1548, 0x541, 0xb5a7, 0x0, 0x0);
        gbc.writeMem(0x55de, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x6d42);
        EXPECT(gbc.pc(), 0x55df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0073
        gbc.setState(0x93ef, 0xbd98, 0x7010, 0xeb81, 0xd80e, 0x1e2f, 0x1, 0x1);
        gbc.writeMem(0x93ef, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xbd98);
        EXPECT(gbc.pc(), 0x93f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93ef), 0x88);
        // 88 0074
        gbc.setState(0xc121, 0xbb6e, 0xcc80, 0x38b2, 0x4629, 0x9a38, 0x1, 0x0);
        gbc.writeMem(0xc121, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xbb6e);
        EXPECT(gbc.pc(), 0xc122);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc121), 0x88);
        // 88 0075
        gbc.setState(0x3282, 0xf96e, 0xa2b0, 0xf672, 0xa4c9, 0xa, 0x1, 0x0);
        gbc.writeMem(0x3282, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xf96e);
        EXPECT(gbc.pc(), 0x3283);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0076
        gbc.setState(0xcfc6, 0xdbc7, 0x50a0, 0x6d75, 0x357f, 0xf041, 0x0, 0x1);
        gbc.writeMem(0xcfc6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xdbc7);
        EXPECT(gbc.pc(), 0xcfc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfc6), 0x88);
        // 88 0077
        gbc.setState(0xafb2, 0x8961, 0xe220, 0x89ec, 0x1b6a, 0xe5da, 0x1, 0x1);
        gbc.writeMem(0xafb2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x8961);
        EXPECT(gbc.pc(), 0xafb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafb2), 0x88);
        // 88 0078
        gbc.setState(0xe7fe, 0xdbf3, 0xc770, 0x7108, 0x8f7b, 0x2549, 0x0, 0x1);
        gbc.writeMem(0xe7fe, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xdbf3);
        EXPECT(gbc.pc(), 0xe7ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7fe), 0x88);
        // 88 0079
        gbc.setState(0x9afa, 0x187a, 0x6260, 0x1383, 0xd5d6, 0xfd7f, 0x1, 0x1);
        gbc.writeMem(0x9afa, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x187a);
        EXPECT(gbc.pc(), 0x9afb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9afa), 0x88);
        // 88 007A
        gbc.setState(0x1388, 0x6010, 0xb550, 0x1c32, 0x39bf, 0x3b2, 0x1, 0x1);
        gbc.writeMem(0x1388, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x6010);
        EXPECT(gbc.pc(), 0x1389);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 007B
        gbc.setState(0x4a21, 0x5e1a, 0xb200, 0x1a21, 0xc978, 0x7c49, 0x1, 0x0);
        gbc.writeMem(0x4a21, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x5e1a);
        EXPECT(gbc.pc(), 0x4a22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 007C
        gbc.setState(0xe14, 0x98f6, 0x2ec0, 0xcdec, 0x352a, 0x9741, 0x0, 0x1);
        gbc.writeMem(0xe14, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x98f6);
        EXPECT(gbc.pc(), 0xe15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 007D
        gbc.setState(0x2c84, 0xafb2, 0x7cd0, 0x112f, 0x37a1, 0xc02f, 0x1, 0x1);
        gbc.writeMem(0x2c84, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xafb2);
        EXPECT(gbc.pc(), 0x2c85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 007E
        gbc.setState(0x99a2, 0xf5d9, 0x5430, 0xbb35, 0x9ec0, 0x15f6, 0x1, 0x0);
        gbc.writeMem(0x99a2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xf5d9);
        EXPECT(gbc.pc(), 0x99a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99a2), 0x88);
        // 88 007F
        gbc.setState(0x81a6, 0xbe46, 0x7ba0, 0x62a5, 0x64b3, 0x1fa5, 0x1, 0x1);
        gbc.writeMem(0x81a6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xbe46);
        EXPECT(gbc.pc(), 0x81a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81a6), 0x88);
        // 88 0080
        gbc.setState(0x3964, 0x6783, 0xfe50, 0xb61d, 0x3dbf, 0xba3d, 0x0, 0x0);
        gbc.writeMem(0x3964, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x6783);
        EXPECT(gbc.pc(), 0x3965);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0081
        gbc.setState(0xb089, 0x81f0, 0x13c0, 0x3452, 0xab9b, 0x3d2b, 0x0, 0x1);
        gbc.writeMem(0xb089, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x81f0);
        EXPECT(gbc.pc(), 0xb08a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb089), 0x88);
        // 88 0082
        gbc.setState(0xbf56, 0x6220, 0x90f0, 0xcf1, 0xb624, 0x6457, 0x1, 0x1);
        gbc.writeMem(0xbf56, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x6220);
        EXPECT(gbc.pc(), 0xbf57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf56), 0x88);
        // 88 0083
        gbc.setState(0x889f, 0x67d, 0xfa70, 0x37ab, 0xc151, 0x5a54, 0x1, 0x1);
        gbc.writeMem(0x889f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x67d);
        EXPECT(gbc.pc(), 0x88a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x889f), 0x88);
        // 88 0084
        gbc.setState(0xd0ce, 0x5416, 0x8430, 0x3ed3, 0x30c2, 0xcbd5, 0x0, 0x1);
        gbc.writeMem(0xd0ce, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x5416);
        EXPECT(gbc.pc(), 0xd0cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0ce), 0x88);
        // 88 0085
        gbc.setState(0xdca4, 0x9ebc, 0x84a0, 0xe9ca, 0x7690, 0xcd06, 0x1, 0x1);
        gbc.writeMem(0xdca4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x9ebc);
        EXPECT(gbc.pc(), 0xdca5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdca4), 0x88);
        // 88 0086
        gbc.setState(0xbda, 0xbecc, 0x9a90, 0xc6f9, 0xd294, 0x8fef, 0x0, 0x1);
        gbc.writeMem(0xbda, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xbecc);
        EXPECT(gbc.pc(), 0xbdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0087
        gbc.setState(0xda8a, 0x5f45, 0x26d0, 0xc536, 0x35c4, 0xd7f9, 0x0, 0x0);
        gbc.writeMem(0xda8a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x5f45);
        EXPECT(gbc.pc(), 0xda8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda8a), 0x88);
        // 88 0088
        gbc.setState(0xd839, 0x501, 0x97f0, 0x3976, 0xb0bf, 0xa839, 0x0, 0x0);
        gbc.writeMem(0xd839, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x501);
        EXPECT(gbc.pc(), 0xd83a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd839), 0x88);
        // 88 0089
        gbc.setState(0x5278, 0xab45, 0xbc30, 0xd6c5, 0x92c, 0x6aec, 0x0, 0x0);
        gbc.writeMem(0x5278, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xab45);
        EXPECT(gbc.pc(), 0x5279);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 008A
        gbc.setState(0x76df, 0x7e73, 0x9980, 0xb807, 0x6ac5, 0xe01e, 0x1, 0x0);
        gbc.writeMem(0x76df, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x7e73);
        EXPECT(gbc.pc(), 0x76e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 008B
        gbc.setState(0xde88, 0x4ace, 0x2420, 0xd6ce, 0x8948, 0x4e77, 0x1, 0x0);
        gbc.writeMem(0xde88, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x4ace);
        EXPECT(gbc.pc(), 0xde89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde88), 0x88);
        // 88 008C
        gbc.setState(0xcbc2, 0x3427, 0xfb20, 0x9a76, 0xcaa6, 0x3e32, 0x1, 0x0);
        gbc.writeMem(0xcbc2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x3427);
        EXPECT(gbc.pc(), 0xcbc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbc2), 0x88);
        // 88 008D
        gbc.setState(0xab7, 0x635c, 0x7a90, 0x8a50, 0x37e0, 0x64a4, 0x1, 0x1);
        gbc.writeMem(0xab7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x635c);
        EXPECT(gbc.pc(), 0xab8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 008E
        gbc.setState(0xc7c0, 0xf450, 0x7b80, 0x5fbf, 0xdb5d, 0xfa62, 0x1, 0x0);
        gbc.writeMem(0xc7c0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xf450);
        EXPECT(gbc.pc(), 0xc7c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7c0), 0x88);
        // 88 008F
        gbc.setState(0x6dea, 0xf3ed, 0x8190, 0x73d7, 0x3b76, 0x766c, 0x1, 0x0);
        gbc.writeMem(0x6dea, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xf3ed);
        EXPECT(gbc.pc(), 0x6deb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0090
        gbc.setState(0x963c, 0xfac6, 0xd170, 0xd5c8, 0x7697, 0xc734, 0x1, 0x1);
        gbc.writeMem(0x963c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xfac6);
        EXPECT(gbc.pc(), 0x963d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x963c), 0x88);
        // 88 0091
        gbc.setState(0xc74d, 0x839c, 0xb490, 0x2ddf, 0x2efc, 0xda19, 0x0, 0x1);
        gbc.writeMem(0xc74d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x839c);
        EXPECT(gbc.pc(), 0xc74e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc74d), 0x88);
        // 88 0092
        gbc.setState(0x6912, 0xc7b, 0x1fa0, 0xa7b1, 0x3c75, 0xed68, 0x1, 0x0);
        gbc.writeMem(0x6912, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xc7b);
        EXPECT(gbc.pc(), 0x6913);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0093
        gbc.setState(0x2322, 0xc264, 0x13a0, 0x2a8b, 0x74b7, 0x540b, 0x1, 0x0);
        gbc.writeMem(0x2322, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xc264);
        EXPECT(gbc.pc(), 0x2323);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0095
        gbc.setState(0x7815, 0xc103, 0x4b90, 0x2bd6, 0x66ae, 0x16bd, 0x1, 0x0);
        gbc.writeMem(0x7815, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xc103);
        EXPECT(gbc.pc(), 0x7816);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0096
        gbc.setState(0x6dbb, 0x5f27, 0x9520, 0xc705, 0x7042, 0x10c8, 0x1, 0x0);
        gbc.writeMem(0x6dbb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x5f27);
        EXPECT(gbc.pc(), 0x6dbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0097
        gbc.setState(0xec52, 0x680a, 0x5730, 0x2d4e, 0xb434, 0x5f5e, 0x0, 0x0);
        gbc.writeMem(0xec52, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x680a);
        EXPECT(gbc.pc(), 0xec53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec52), 0x88);
        // 88 0098
        gbc.setState(0x9676, 0xc032, 0xa210, 0xd696, 0xa537, 0x6081, 0x0, 0x0);
        gbc.writeMem(0x9676, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xc032);
        EXPECT(gbc.pc(), 0x9677);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9676), 0x88);
        // 88 0099
        gbc.setState(0x334d, 0xf6fe, 0x5880, 0xf8ab, 0xf1ba, 0x1e12, 0x0, 0x1);
        gbc.writeMem(0x334d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xf6fe);
        EXPECT(gbc.pc(), 0x334e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 009A
        gbc.setState(0x9587, 0x63b0, 0x27d0, 0xc917, 0x8862, 0x67e8, 0x1, 0x0);
        gbc.writeMem(0x9587, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x63b0);
        EXPECT(gbc.pc(), 0x9588);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9587), 0x88);
        // 88 009B
        gbc.setState(0x79ae, 0x6ca9, 0xbdc0, 0x73ae, 0xe6c8, 0x2d2e, 0x0, 0x1);
        gbc.writeMem(0x79ae, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x6ca9);
        EXPECT(gbc.pc(), 0x79af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 009C
        gbc.setState(0x26c1, 0x2b86, 0x59d0, 0x8062, 0x146e, 0x6ebc, 0x1, 0x0);
        gbc.writeMem(0x26c1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x2b86);
        EXPECT(gbc.pc(), 0x26c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 009D
        gbc.setState(0x8e1b, 0x4bf5, 0xd5f0, 0xb458, 0x5237, 0x1f7b, 0x0, 0x0);
        gbc.writeMem(0x8e1b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x4bf5);
        EXPECT(gbc.pc(), 0x8e1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e1b), 0x88);
        // 88 009E
        gbc.setState(0x980e, 0xc5ec, 0xf770, 0x8245, 0x99a8, 0x620c, 0x1, 0x1);
        gbc.writeMem(0x980e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xc5ec);
        EXPECT(gbc.pc(), 0x980f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x980e), 0x88);
        // 88 009F
        gbc.setState(0x4ed0, 0xf43d, 0x4070, 0x69ea, 0x48c5, 0xee96, 0x0, 0x0);
        gbc.writeMem(0x4ed0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xf43d);
        EXPECT(gbc.pc(), 0x4ed1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 00A0
        gbc.setState(0x543e, 0x7a72, 0xa3f0, 0x8dff, 0x54a7, 0x6473, 0x1, 0x0);
        gbc.writeMem(0x543e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x7a72);
        EXPECT(gbc.pc(), 0x543f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00A1
        gbc.setState(0x9d8f, 0x7b4a, 0x8fc0, 0xcdaf, 0xef50, 0xa85f, 0x1, 0x1);
        gbc.writeMem(0x9d8f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x7b4a);
        EXPECT(gbc.pc(), 0x9d90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d8f), 0x88);
        // 88 00A2
        gbc.setState(0x422c, 0x1b80, 0x2380, 0x260e, 0x5ca9, 0x43fe, 0x1, 0x1);
        gbc.writeMem(0x422c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x1b80);
        EXPECT(gbc.pc(), 0x422d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 00A3
        gbc.setState(0x17e5, 0x56bc, 0x63a0, 0xca6f, 0x9804, 0x3da8, 0x0, 0x0);
        gbc.writeMem(0x17e5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x56bc);
        EXPECT(gbc.pc(), 0x17e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 00A4
        gbc.setState(0xdf80, 0x6d99, 0x8650, 0x14d5, 0xaa4, 0x3868, 0x0, 0x0);
        gbc.writeMem(0xdf80, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x6d99);
        EXPECT(gbc.pc(), 0xdf81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf80), 0x88);
        // 88 00A5
        gbc.setState(0x9b56, 0x4f34, 0xef00, 0x983e, 0x5959, 0x15b1, 0x0, 0x0);
        gbc.writeMem(0x9b56, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x4f34);
        EXPECT(gbc.pc(), 0x9b57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b56), 0x88);
        // 88 00A6
        gbc.setState(0x1f2b, 0x9ddc, 0x3710, 0x3e80, 0xa363, 0x8db9, 0x0, 0x0);
        gbc.writeMem(0x1f2b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x9ddc);
        EXPECT(gbc.pc(), 0x1f2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 00A7
        gbc.setState(0xd315, 0x85be, 0x7390, 0xdee2, 0x74a2, 0x8cde, 0x1, 0x0);
        gbc.writeMem(0xd315, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x85be);
        EXPECT(gbc.pc(), 0xd316);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd315), 0x88);
        // 88 00A9
        gbc.setState(0xbbca, 0x1ebb, 0x18a0, 0x4440, 0x7130, 0x8ffe, 0x0, 0x1);
        gbc.writeMem(0xbbca, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x1ebb);
        EXPECT(gbc.pc(), 0xbbcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbca), 0x88);
        // 88 00AA
        gbc.setState(0x4742, 0x5de4, 0x1ed0, 0xed94, 0xe6de, 0x3f55, 0x0, 0x1);
        gbc.writeMem(0x4742, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x5de4);
        EXPECT(gbc.pc(), 0x4743);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00AB
        gbc.setState(0xc24b, 0x17a3, 0x4310, 0x780b, 0xb85a, 0x730c, 0x0, 0x1);
        gbc.writeMem(0xc24b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x17a3);
        EXPECT(gbc.pc(), 0xc24c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc24b), 0x88);
        // 88 00AC
        gbc.setState(0x5b65, 0xe8d, 0x5080, 0xff8c, 0x4a92, 0x8b6f, 0x1, 0x1);
        gbc.writeMem(0x5b65, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xe8d);
        EXPECT(gbc.pc(), 0x5b66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 00AD
        gbc.setState(0x388d, 0x14a9, 0x9d90, 0x982b, 0xef97, 0xc4e8, 0x0, 0x1);
        gbc.writeMem(0x388d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x14a9);
        EXPECT(gbc.pc(), 0x388e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00AE
        gbc.setState(0x1b0b, 0xbd5, 0xa50, 0x1bc0, 0x35c5, 0xea6a, 0x0, 0x0);
        gbc.writeMem(0x1b0b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xbd5);
        EXPECT(gbc.pc(), 0x1b0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 00AF
        gbc.setState(0xbec9, 0x5dae, 0x8f80, 0xce89, 0x2aed, 0x490d, 0x1, 0x1);
        gbc.writeMem(0xbec9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x5dae);
        EXPECT(gbc.pc(), 0xbeca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbec9), 0x88);
        // 88 00B0
        gbc.setState(0x5ba3, 0x21bd, 0x9560, 0x9d33, 0x52c8, 0x4c55, 0x0, 0x1);
        gbc.writeMem(0x5ba3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x21bd);
        EXPECT(gbc.pc(), 0x5ba4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00B2
        gbc.setState(0x2a5f, 0x7a0b, 0x4030, 0x1729, 0x8caa, 0x4811, 0x0, 0x1);
        gbc.writeMem(0x2a5f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x7a0b);
        EXPECT(gbc.pc(), 0x2a60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 00B3
        gbc.setState(0x1ee6, 0xa09a, 0x5a30, 0xbf72, 0xf5e3, 0x166f, 0x0, 0x1);
        gbc.writeMem(0x1ee6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa09a);
        EXPECT(gbc.pc(), 0x1ee7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00B4
        gbc.setState(0x91b6, 0xf28f, 0x9310, 0x26f5, 0x8096, 0xb539, 0x1, 0x0);
        gbc.writeMem(0x91b6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xf28f);
        EXPECT(gbc.pc(), 0x91b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91b6), 0x88);
        // 88 00B5
        gbc.setState(0x57e3, 0xc819, 0xe5b0, 0x9dc7, 0x763c, 0x7ad6, 0x0, 0x1);
        gbc.writeMem(0x57e3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xc819);
        EXPECT(gbc.pc(), 0x57e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00B6
        gbc.setState(0x7cf4, 0x16b4, 0xe550, 0x7042, 0x9cc9, 0xc461, 0x1, 0x0);
        gbc.writeMem(0x7cf4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x16b4);
        EXPECT(gbc.pc(), 0x7cf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 00B7
        gbc.setState(0x5834, 0x6ab4, 0x8250, 0x8c2, 0x3e50, 0x431b, 0x0, 0x1);
        gbc.writeMem(0x5834, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x6ab4);
        EXPECT(gbc.pc(), 0x5835);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 00B8
        gbc.setState(0x85ca, 0xf1a9, 0xe290, 0x6493, 0x33f1, 0xa55c, 0x1, 0x1);
        gbc.writeMem(0x85ca, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xf1a9);
        EXPECT(gbc.pc(), 0x85cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85ca), 0x88);
        // 88 00B9
        gbc.setState(0x28ea, 0xabe, 0xf810, 0x8116, 0x1996, 0xc140, 0x1, 0x1);
        gbc.writeMem(0x28ea, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xabe);
        EXPECT(gbc.pc(), 0x28eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 00BA
        gbc.setState(0xa5bc, 0x91c7, 0x98e0, 0xad5c, 0x5579, 0x53c2, 0x0, 0x1);
        gbc.writeMem(0xa5bc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x91c7);
        EXPECT(gbc.pc(), 0xa5bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5bc), 0x88);
        // 88 00BB
        gbc.setState(0xa679, 0xfa66, 0x62c0, 0x41, 0x6afa, 0x7870, 0x1, 0x1);
        gbc.writeMem(0xa679, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xfa66);
        EXPECT(gbc.pc(), 0xa67a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa679), 0x88);
        // 88 00BC
        gbc.setState(0x2c71, 0x7c2b, 0x7e50, 0xe4ea, 0xca12, 0x9091, 0x1, 0x0);
        gbc.writeMem(0x2c71, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x7c2b);
        EXPECT(gbc.pc(), 0x2c72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00BD
        gbc.setState(0x4172, 0x1d99, 0xd3c0, 0xdbd8, 0x805a, 0xf6e9, 0x1, 0x1);
        gbc.writeMem(0x4172, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x1d99);
        EXPECT(gbc.pc(), 0x4173);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 00BE
        gbc.setState(0x3035, 0xb869, 0x9630, 0xf2e4, 0x1f5b, 0x949f, 0x0, 0x0);
        gbc.writeMem(0x3035, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xb869);
        EXPECT(gbc.pc(), 0x3036);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 00BF
        gbc.setState(0x407f, 0xcbcf, 0x260, 0xc582, 0xc57e, 0x6b06, 0x0, 0x1);
        gbc.writeMem(0x407f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xcbcf);
        EXPECT(gbc.pc(), 0x4080);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 00C0
        gbc.setState(0x80bc, 0xe628, 0x5bb0, 0xe27f, 0xa6db, 0x522e, 0x1, 0x1);
        gbc.writeMem(0x80bc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xe628);
        EXPECT(gbc.pc(), 0x80bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80bc), 0x88);
        // 88 00C1
        gbc.setState(0xd59c, 0x5de8, 0xa980, 0x1808, 0xca7f, 0x5b46, 0x0, 0x1);
        gbc.writeMem(0xd59c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x5de8);
        EXPECT(gbc.pc(), 0xd59d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd59c), 0x88);
        // 88 00C2
        gbc.setState(0xbbfc, 0xa31f, 0xf600, 0xbc1, 0x260a, 0x5f99, 0x1, 0x0);
        gbc.writeMem(0xbbfc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xa31f);
        EXPECT(gbc.pc(), 0xbbfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbfc), 0x88);
        // 88 00C3
        gbc.setState(0xb200, 0xe98f, 0x6bc0, 0x1572, 0xd94d, 0x56ab, 0x1, 0x0);
        gbc.writeMem(0xb200, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xe98f);
        EXPECT(gbc.pc(), 0xb201);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb200), 0x88);
        // 88 00C4
        gbc.setState(0x9bca, 0x2807, 0x8a30, 0x6d4e, 0xac1d, 0xa1e3, 0x0, 0x0);
        gbc.writeMem(0x9bca, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x2807);
        EXPECT(gbc.pc(), 0x9bcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bca), 0x88);
        // 88 00C5
        gbc.setState(0xc235, 0xd312, 0x8030, 0x8c51, 0x9984, 0x6250, 0x0, 0x0);
        gbc.writeMem(0xc235, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xd312);
        EXPECT(gbc.pc(), 0xc236);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc235), 0x88);
        // 88 00C6
        gbc.setState(0x1fdb, 0x759a, 0x25d0, 0x9906, 0xe282, 0x3d6e, 0x0, 0x1);
        gbc.writeMem(0x1fdb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x759a);
        EXPECT(gbc.pc(), 0x1fdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 00C7
        gbc.setState(0x2e56, 0x3a7, 0x30e0, 0x9ea1, 0x8edb, 0x4c4e, 0x1, 0x1);
        gbc.writeMem(0x2e56, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x3a7);
        EXPECT(gbc.pc(), 0x2e57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 00C8
        gbc.setState(0x165a, 0xefc2, 0x6cb0, 0x6ff0, 0xd06, 0x25ba, 0x1, 0x0);
        gbc.writeMem(0x165a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xefc2);
        EXPECT(gbc.pc(), 0x165b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 00C9
        gbc.setState(0xe3b3, 0xee7, 0x2d90, 0x5848, 0xd791, 0xc3e7, 0x0, 0x1);
        gbc.writeMem(0xe3b3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xee7);
        EXPECT(gbc.pc(), 0xe3b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3b3), 0x88);
        // 88 00CA
        gbc.setState(0x80d8, 0x5b17, 0x41c0, 0x319, 0x3298, 0xd996, 0x1, 0x0);
        gbc.writeMem(0x80d8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x5b17);
        EXPECT(gbc.pc(), 0x80d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80d8), 0x88);
        // 88 00CB
        gbc.setState(0xbac1, 0xee22, 0x89c0, 0x2960, 0x5934, 0x3776, 0x0, 0x0);
        gbc.writeMem(0xbac1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xee22);
        EXPECT(gbc.pc(), 0xbac2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbac1), 0x88);
        // 88 00CC
        gbc.setState(0x32c4, 0x82f, 0x16e0, 0x12d7, 0x5346, 0xff61, 0x1, 0x1);
        gbc.writeMem(0x32c4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x82f);
        EXPECT(gbc.pc(), 0x32c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 00CD
        gbc.setState(0x96b6, 0xeed4, 0xb170, 0xc6a5, 0xe29f, 0x1d25, 0x1, 0x0);
        gbc.writeMem(0x96b6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xeed4);
        EXPECT(gbc.pc(), 0x96b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96b6), 0x88);
        // 88 00CE
        gbc.setState(0x784e, 0x8baa, 0xa440, 0xfe55, 0x4953, 0xb692, 0x0, 0x1);
        gbc.writeMem(0x784e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x8baa);
        EXPECT(gbc.pc(), 0x784f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00CF
        gbc.setState(0x37d, 0xc4e7, 0xdb60, 0xb79f, 0x4207, 0xd8be, 0x0, 0x1);
        gbc.writeMem(0x37d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xc4e7);
        EXPECT(gbc.pc(), 0x37e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00D0
        gbc.setState(0x4697, 0x42ba, 0xfdd0, 0xbb18, 0x85df, 0x23d7, 0x0, 0x1);
        gbc.writeMem(0x4697, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x42ba);
        EXPECT(gbc.pc(), 0x4698);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00D1
        gbc.setState(0x129f, 0x717b, 0xe7a0, 0x1a03, 0xc1b7, 0x6605, 0x1, 0x0);
        gbc.writeMem(0x129f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x717b);
        EXPECT(gbc.pc(), 0x12a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00D2
        gbc.setState(0x2c99, 0xe3b2, 0x4e60, 0xb648, 0x33b1, 0x13a, 0x1, 0x1);
        gbc.writeMem(0x2c99, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xe3b2);
        EXPECT(gbc.pc(), 0x2c9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00D3
        gbc.setState(0xab33, 0x5507, 0xd5b0, 0xb527, 0x9585, 0x1b30, 0x1, 0x0);
        gbc.writeMem(0xab33, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x5507);
        EXPECT(gbc.pc(), 0xab34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab33), 0x88);
        // 88 00D4
        gbc.setState(0x952b, 0xa30c, 0xf870, 0x7eef, 0xf60d, 0x8055, 0x0, 0x0);
        gbc.writeMem(0x952b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xa30c);
        EXPECT(gbc.pc(), 0x952c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x952b), 0x88);
        // 88 00D6
        gbc.setState(0xd14f, 0x5515, 0x5f0, 0xe5b6, 0x266c, 0x1455, 0x1, 0x1);
        gbc.writeMem(0xd14f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x5515);
        EXPECT(gbc.pc(), 0xd150);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd14f), 0x88);
        // 88 00D7
        gbc.setState(0x1f6d, 0xb32f, 0x1e50, 0x17e3, 0x2b1b, 0x4d64, 0x1, 0x0);
        gbc.writeMem(0x1f6d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xb32f);
        EXPECT(gbc.pc(), 0x1f6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 00D8
        gbc.setState(0x294c, 0xe63c, 0xa120, 0x3bb2, 0x2d9, 0xb171, 0x1, 0x0);
        gbc.writeMem(0x294c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xe63c);
        EXPECT(gbc.pc(), 0x294d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 00D9
        gbc.setState(0xb703, 0x2633, 0x16f0, 0x897e, 0x9600, 0x763b, 0x0, 0x1);
        gbc.writeMem(0xb703, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x2633);
        EXPECT(gbc.pc(), 0xb704);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb703), 0x88);
        // 88 00DA
        gbc.setState(0x6537, 0x646f, 0xf120, 0xe34c, 0xf1a7, 0x9e98, 0x0, 0x0);
        gbc.writeMem(0x6537, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x646f);
        EXPECT(gbc.pc(), 0x6538);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 00DB
        gbc.setState(0xddc5, 0xe4a6, 0x83e0, 0x545d, 0x3486, 0x328f, 0x1, 0x1);
        gbc.writeMem(0xddc5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe4a6);
        EXPECT(gbc.pc(), 0xddc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddc5), 0x88);
        // 88 00DC
        gbc.setState(0x25b9, 0x6550, 0xb9a0, 0x85b5, 0xf72, 0xfc35, 0x1, 0x0);
        gbc.writeMem(0x25b9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x6550);
        EXPECT(gbc.pc(), 0x25ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 00DD
        gbc.setState(0xdf4, 0x9052, 0xdb10, 0xbb16, 0xcdb3, 0xa8eb, 0x0, 0x1);
        gbc.writeMem(0xdf4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x9052);
        EXPECT(gbc.pc(), 0xdf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00DE
        gbc.setState(0xd13a, 0x4436, 0x7a70, 0xf772, 0xc1ef, 0xc225, 0x0, 0x1);
        gbc.writeMem(0xd13a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x4436);
        EXPECT(gbc.pc(), 0xd13b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd13a), 0x88);
        // 88 00DF
        gbc.setState(0xac3d, 0xd05b, 0x4870, 0x4dbd, 0xb599, 0x8a3b, 0x0, 0x1);
        gbc.writeMem(0xac3d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xd05b);
        EXPECT(gbc.pc(), 0xac3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac3d), 0x88);
        // 88 00E0
        gbc.setState(0x54f7, 0xf09, 0x54f0, 0x7953, 0x5f65, 0xfd35, 0x0, 0x0);
        gbc.writeMem(0x54f7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xf09);
        EXPECT(gbc.pc(), 0x54f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 00E1
        gbc.setState(0x28af, 0x5096, 0x6ec0, 0xd982, 0xe202, 0x2a1c, 0x1, 0x0);
        gbc.writeMem(0x28af, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x5096);
        EXPECT(gbc.pc(), 0x28b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00E2
        gbc.setState(0x1a37, 0x2d9, 0x3590, 0x3474, 0x1ccd, 0x14c5, 0x0, 0x1);
        gbc.writeMem(0x1a37, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x2d9);
        EXPECT(gbc.pc(), 0x1a38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 00E3
        gbc.setState(0x992e, 0x83ea, 0x55f0, 0x78c7, 0x64d, 0x53a4, 0x0, 0x0);
        gbc.writeMem(0x992e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x83ea);
        EXPECT(gbc.pc(), 0x992f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x992e), 0x88);
        // 88 00E4
        gbc.setState(0xb61d, 0x2f78, 0xff80, 0xaa82, 0x84b9, 0x14e6, 0x0, 0x1);
        gbc.writeMem(0xb61d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x2f78);
        EXPECT(gbc.pc(), 0xb61e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb61d), 0x88);
        // 88 00E5
        gbc.setState(0xdcb2, 0xef9f, 0xbc70, 0x5da1, 0xdf8b, 0x7830, 0x1, 0x0);
        gbc.writeMem(0xdcb2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xef9f);
        EXPECT(gbc.pc(), 0xdcb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcb2), 0x88);
        // 88 00E6
        gbc.setState(0xd441, 0x5223, 0xc010, 0xcbcb, 0xf898, 0x1ef0, 0x1, 0x0);
        gbc.writeMem(0xd441, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x5223);
        EXPECT(gbc.pc(), 0xd442);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd441), 0x88);
        // 88 00E7
        gbc.setState(0x71ab, 0x90cf, 0x3190, 0x9e90, 0xb190, 0x1da, 0x1, 0x1);
        gbc.writeMem(0x71ab, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x90cf);
        EXPECT(gbc.pc(), 0x71ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 00E9
        gbc.setState(0x1f7d, 0xfd4d, 0x4a70, 0xd74a, 0x68a4, 0xf3ef, 0x0, 0x0);
        gbc.writeMem(0x1f7d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xfd4d);
        EXPECT(gbc.pc(), 0x1f7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00EA
        gbc.setState(0xaa16, 0x2818, 0x50b0, 0xe9ad, 0xa7c3, 0x6fc6, 0x0, 0x0);
        gbc.writeMem(0xaa16, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x2818);
        EXPECT(gbc.pc(), 0xaa17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa16), 0x88);
        // 88 00EB
        gbc.setState(0x7226, 0x3f3c, 0xb160, 0xf59d, 0x1c39, 0x4507, 0x0, 0x0);
        gbc.writeMem(0x7226, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x3f3c);
        EXPECT(gbc.pc(), 0x7227);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 00EC
        gbc.setState(0x2e06, 0xf277, 0x92f0, 0xfc90, 0x5af7, 0xc664, 0x1, 0x0);
        gbc.writeMem(0x2e06, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xf277);
        EXPECT(gbc.pc(), 0x2e07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 00ED
        gbc.setState(0x9edc, 0xc3a3, 0xd660, 0xec3c, 0xea4f, 0xf40a, 0x1, 0x1);
        gbc.writeMem(0x9edc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xc3a3);
        EXPECT(gbc.pc(), 0x9edd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9edc), 0x88);
        // 88 00EE
        gbc.setState(0x1d0e, 0x10b3, 0xc250, 0xea31, 0x320, 0xcc7f, 0x0, 0x1);
        gbc.writeMem(0x1d0e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x10b3);
        EXPECT(gbc.pc(), 0x1d0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 00EF
        gbc.setState(0x66f8, 0x47a, 0x9d00, 0x1cd3, 0xfcfb, 0xb163, 0x0, 0x0);
        gbc.writeMem(0x66f8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x47a);
        EXPECT(gbc.pc(), 0x66f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 00F0
        gbc.setState(0x909f, 0xf1f6, 0xb200, 0xbe3c, 0xa662, 0x46f7, 0x1, 0x0);
        gbc.writeMem(0x909f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xf1f6);
        EXPECT(gbc.pc(), 0x90a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x909f), 0x88);
        // 88 00F1
        gbc.setState(0x72cc, 0x6265, 0x8f50, 0xf73, 0xd3f7, 0xf836, 0x1, 0x0);
        gbc.writeMem(0x72cc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x6265);
        EXPECT(gbc.pc(), 0x72cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 00F2
        gbc.setState(0xb08d, 0x4aec, 0xa450, 0xbd31, 0xf94d, 0xd1f9, 0x0, 0x1);
        gbc.writeMem(0xb08d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x4aec);
        EXPECT(gbc.pc(), 0xb08e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb08d), 0x88);
        // 88 00F3
        gbc.setState(0xbeb, 0x956, 0xf1f0, 0xcb83, 0x4f4e, 0xe87a, 0x0, 0x0);
        gbc.writeMem(0xbeb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x956);
        EXPECT(gbc.pc(), 0xbec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 00F5
        gbc.setState(0x44d4, 0x38e9, 0x8450, 0xebec, 0xf99a, 0x87f4, 0x1, 0x1);
        gbc.writeMem(0x44d4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x38e9);
        EXPECT(gbc.pc(), 0x44d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00F6
        gbc.setState(0x440e, 0xb46b, 0xb960, 0x9b58, 0x961d, 0x53ff, 0x0, 0x0);
        gbc.writeMem(0x440e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xb46b);
        EXPECT(gbc.pc(), 0x440f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00F7
        gbc.setState(0x44c9, 0x4889, 0x2900, 0x95bb, 0x5bcd, 0xfb2f, 0x0, 0x1);
        gbc.writeMem(0x44c9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x4889);
        EXPECT(gbc.pc(), 0x44ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 00F8
        gbc.setState(0x6669, 0x9b5e, 0x9680, 0x9dd8, 0x386c, 0x14eb, 0x1, 0x1);
        gbc.writeMem(0x6669, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x9b5e);
        EXPECT(gbc.pc(), 0x666a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 00F9
        gbc.setState(0xe09d, 0x2e2f, 0xc0, 0x1499, 0x2a29, 0xac20, 0x0, 0x0);
        gbc.writeMem(0xe09d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x2e2f);
        EXPECT(gbc.pc(), 0xe09e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe09d), 0x88);
        // 88 00FA
        gbc.setState(0x1ab1, 0x3fea, 0x7910, 0x664f, 0xb86f, 0x842b, 0x0, 0x1);
        gbc.writeMem(0x1ab1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x3fea);
        EXPECT(gbc.pc(), 0x1ab2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 00FB
        gbc.setState(0xd380, 0x4206, 0x17f0, 0x471e, 0xd362, 0x716c, 0x1, 0x1);
        gbc.writeMem(0xd380, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x4206);
        EXPECT(gbc.pc(), 0xd381);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd380), 0x88);
        // 88 00FC
        gbc.setState(0x294a, 0x2a0d, 0xa630, 0xf77, 0x4589, 0xbc69, 0x1, 0x0);
        gbc.writeMem(0x294a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x2a0d);
        EXPECT(gbc.pc(), 0x294b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 00FD
        gbc.setState(0xb8a6, 0x520f, 0xfd90, 0xad10, 0x486f, 0x5a64, 0x0, 0x1);
        gbc.writeMem(0xb8a6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x520f);
        EXPECT(gbc.pc(), 0xb8a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8a6), 0x88);
        // 88 00FE
        gbc.setState(0x51cf, 0x522a, 0x5ce0, 0x261, 0xee51, 0xe38d, 0x0, 0x0);
        gbc.writeMem(0x51cf, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x522a);
        EXPECT(gbc.pc(), 0x51d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 00FF
        gbc.setState(0xf29, 0x7f08, 0xccf0, 0xe5ca, 0x6a17, 0x47c2, 0x1, 0x0);
        gbc.writeMem(0xf29, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x7f08);
        EXPECT(gbc.pc(), 0xf2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0100
        gbc.setState(0xab37, 0xf0d9, 0xf340, 0x360a, 0xfe65, 0x8cd8, 0x1, 0x0);
        gbc.writeMem(0xab37, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xf0d9);
        EXPECT(gbc.pc(), 0xab38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab37), 0x88);
        // 88 0101
        gbc.setState(0x8b9d, 0xb4af, 0x18a0, 0xb701, 0xe345, 0x59a8, 0x1, 0x0);
        gbc.writeMem(0x8b9d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xb4af);
        EXPECT(gbc.pc(), 0x8b9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b9d), 0x88);
        // 88 0102
        gbc.setState(0x47d9, 0xdcb7, 0xe160, 0x58ee, 0x3859, 0xf4cc, 0x1, 0x0);
        gbc.writeMem(0x47d9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xdcb7);
        EXPECT(gbc.pc(), 0x47da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0103
        gbc.setState(0x9ac7, 0x9670, 0xa750, 0xe81, 0xc9a3, 0x463f, 0x0, 0x0);
        gbc.writeMem(0x9ac7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x9670);
        EXPECT(gbc.pc(), 0x9ac8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ac7), 0x88);
        // 88 0104
        gbc.setState(0x3404, 0x4e87, 0x2480, 0xd3cb, 0x13fe, 0x8491, 0x0, 0x0);
        gbc.writeMem(0x3404, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4e87);
        EXPECT(gbc.pc(), 0x3405);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0105
        gbc.setState(0xa276, 0x9360, 0x48d0, 0x6b83, 0x6e9c, 0x8957, 0x0, 0x0);
        gbc.writeMem(0xa276, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x9360);
        EXPECT(gbc.pc(), 0xa277);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa276), 0x88);
        // 88 0106
        gbc.setState(0x2726, 0xedb0, 0xf1d0, 0x2128, 0x63bc, 0xeb17, 0x1, 0x1);
        gbc.writeMem(0x2726, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xedb0);
        EXPECT(gbc.pc(), 0x2727);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0107
        gbc.setState(0x5300, 0xbf60, 0x7250, 0x63d8, 0x2ae4, 0xf022, 0x1, 0x0);
        gbc.writeMem(0x5300, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xbf60);
        EXPECT(gbc.pc(), 0x5301);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0109
        gbc.setState(0xc617, 0x3f0e, 0xd980, 0x7b2a, 0x58bc, 0x48d9, 0x0, 0x0);
        gbc.writeMem(0xc617, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x3f0e);
        EXPECT(gbc.pc(), 0xc618);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc617), 0x88);
        // 88 010A
        gbc.setState(0x1a64, 0xa4ab, 0x3b70, 0x9167, 0x8d65, 0xa030, 0x0, 0x1);
        gbc.writeMem(0x1a64, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xa4ab);
        EXPECT(gbc.pc(), 0x1a65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 010B
        gbc.setState(0xcc1d, 0x14b2, 0x1170, 0x85d8, 0x501c, 0x35ee, 0x1, 0x0);
        gbc.writeMem(0xcc1d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x14b2);
        EXPECT(gbc.pc(), 0xcc1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc1d), 0x88);
        // 88 010C
        gbc.setState(0xea72, 0x8c40, 0x77c0, 0x800d, 0xb0f7, 0x920f, 0x1, 0x0);
        gbc.writeMem(0xea72, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x8c40);
        EXPECT(gbc.pc(), 0xea73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea72), 0x88);
        // 88 010D
        gbc.setState(0x6e33, 0x925b, 0xeca0, 0x992d, 0x25e2, 0x696b, 0x0, 0x1);
        gbc.writeMem(0x6e33, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x925b);
        EXPECT(gbc.pc(), 0x6e34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 010E
        gbc.setState(0x1914, 0xc144, 0xf500, 0xd9e6, 0x4ce, 0x6fbc, 0x0, 0x0);
        gbc.writeMem(0x1914, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xc144);
        EXPECT(gbc.pc(), 0x1915);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 010F
        gbc.setState(0x7ffa, 0x3e02, 0x79d0, 0x69cb, 0xb60, 0xc20d, 0x0, 0x1);
        gbc.writeMem(0x7ffa, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x3e02);
        EXPECT(gbc.pc(), 0x7ffb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0110
        gbc.setState(0x425f, 0x14ce, 0x2d60, 0x9389, 0x2e2e, 0x21ac, 0x1, 0x0);
        gbc.writeMem(0x425f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x14ce);
        EXPECT(gbc.pc(), 0x4260);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0111
        gbc.setState(0x397f, 0x59a4, 0x5760, 0xe388, 0xc034, 0xf548, 0x0, 0x0);
        gbc.writeMem(0x397f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x59a4);
        EXPECT(gbc.pc(), 0x3980);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0112
        gbc.setState(0x8d0c, 0x44b, 0xbb90, 0x32bd, 0x1178, 0x7f95, 0x1, 0x0);
        gbc.writeMem(0x8d0c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x44b);
        EXPECT(gbc.pc(), 0x8d0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d0c), 0x88);
        // 88 0113
        gbc.setState(0x1c62, 0x71a1, 0xef20, 0xfcde, 0x3603, 0x2618, 0x1, 0x1);
        gbc.writeMem(0x1c62, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x71a1);
        EXPECT(gbc.pc(), 0x1c63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0114
        gbc.setState(0xa72c, 0x6a73, 0xf890, 0x93db, 0x180b, 0xccb9, 0x1, 0x0);
        gbc.writeMem(0xa72c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x6a73);
        EXPECT(gbc.pc(), 0xa72d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa72c), 0x88);
        // 88 0115
        gbc.setState(0xa8c, 0xf645, 0x2b10, 0x2dd4, 0x58fe, 0xc277, 0x0, 0x0);
        gbc.writeMem(0xa8c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xf645);
        EXPECT(gbc.pc(), 0xa8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0116
        gbc.setState(0x822f, 0xb3ef, 0x8620, 0x7d4, 0x753c, 0x2ba, 0x0, 0x0);
        gbc.writeMem(0x822f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xb3ef);
        EXPECT(gbc.pc(), 0x8230);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x822f), 0x88);
        // 88 0117
        gbc.setState(0xcb15, 0x9d15, 0xcb60, 0xe8a7, 0xa92a, 0x116b, 0x1, 0x1);
        gbc.writeMem(0xcb15, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x9d15);
        EXPECT(gbc.pc(), 0xcb16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb15), 0x88);
        // 88 0118
        gbc.setState(0xd30d, 0x3002, 0xb80, 0xa315, 0xcbd1, 0xbc4, 0x0, 0x1);
        gbc.writeMem(0xd30d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x3002);
        EXPECT(gbc.pc(), 0xd30e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd30d), 0x88);
        // 88 0119
        gbc.setState(0x50b8, 0xd675, 0xfaa0, 0x1f8d, 0x3721, 0xc1fe, 0x1, 0x1);
        gbc.writeMem(0x50b8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xd675);
        EXPECT(gbc.pc(), 0x50b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 011A
        gbc.setState(0x47ad, 0x5c6c, 0x1220, 0x295a, 0x167, 0x6252, 0x1, 0x1);
        gbc.writeMem(0x47ad, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x5c6c);
        EXPECT(gbc.pc(), 0x47ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 011B
        gbc.setState(0x67a2, 0xa8cc, 0x85c0, 0xaac8, 0xff85, 0x624e, 0x1, 0x1);
        gbc.writeMem(0x67a2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xa8cc);
        EXPECT(gbc.pc(), 0x67a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 011D
        gbc.setState(0xe8e5, 0x7a85, 0x2260, 0xa056, 0x69b7, 0x5ed2, 0x1, 0x0);
        gbc.writeMem(0xe8e5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x7a85);
        EXPECT(gbc.pc(), 0xe8e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8e5), 0x88);
        // 88 011F
        gbc.setState(0xab40, 0xaa65, 0xe8d0, 0x2dd7, 0x1de7, 0xbc13, 0x1, 0x0);
        gbc.writeMem(0xab40, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xaa65);
        EXPECT(gbc.pc(), 0xab41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab40), 0x88);
        // 88 0120
        gbc.setState(0xcf2, 0x1ee, 0xf1a0, 0x521, 0x6863, 0xf60e, 0x0, 0x1);
        gbc.writeMem(0xcf2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x1ee);
        EXPECT(gbc.pc(), 0xcf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0121
        gbc.setState(0xac3b, 0xdf29, 0x9090, 0x8375, 0x4a5b, 0x80ec, 0x0, 0x0);
        gbc.writeMem(0xac3b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xdf29);
        EXPECT(gbc.pc(), 0xac3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac3b), 0x88);
        // 88 0122
        gbc.setState(0xb03f, 0xaf8d, 0xd50, 0xce7b, 0x9a46, 0xf2ab, 0x0, 0x1);
        gbc.writeMem(0xb03f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xaf8d);
        EXPECT(gbc.pc(), 0xb040);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb03f), 0x88);
        // 88 0123
        gbc.setState(0xe5cb, 0x10ad, 0x10e0, 0x8ec8, 0x54dd, 0x40a1, 0x0, 0x1);
        gbc.writeMem(0xe5cb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x10ad);
        EXPECT(gbc.pc(), 0xe5cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5cb), 0x88);
        // 88 0124
        gbc.setState(0x182f, 0x750a, 0x67c0, 0x5bf9, 0x7d7e, 0x4932, 0x1, 0x1);
        gbc.writeMem(0x182f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x750a);
        EXPECT(gbc.pc(), 0x1830);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0125
        gbc.setState(0xc83d, 0x2a08, 0xd720, 0xf5ee, 0xded6, 0x87ce, 0x1, 0x0);
        gbc.writeMem(0xc83d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x2a08);
        EXPECT(gbc.pc(), 0xc83e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc83d), 0x88);
        // 88 0126
        gbc.setState(0x98f4, 0x3e3e, 0x3340, 0xcf6f, 0x8ca2, 0xb723, 0x1, 0x0);
        gbc.writeMem(0x98f4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x3e3e);
        EXPECT(gbc.pc(), 0x98f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98f4), 0x88);
        // 88 0127
        gbc.setState(0xd51f, 0x529d, 0xf150, 0x9c0c, 0x4daa, 0x8c24, 0x1, 0x0);
        gbc.writeMem(0xd51f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x529d);
        EXPECT(gbc.pc(), 0xd520);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd51f), 0x88);
        // 88 0128
        gbc.setState(0x2db5, 0xd885, 0x7960, 0xc83c, 0x36b8, 0xc56e, 0x1, 0x0);
        gbc.writeMem(0x2db5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xd885);
        EXPECT(gbc.pc(), 0x2db6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0129
        gbc.setState(0xc3fa, 0x9e57, 0x9e80, 0xf994, 0xff32, 0xc8ea, 0x0, 0x0);
        gbc.writeMem(0xc3fa, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x9e57);
        EXPECT(gbc.pc(), 0xc3fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3fa), 0x88);
        // 88 012A
        gbc.setState(0xac72, 0x3096, 0x17e0, 0x885f, 0xcdf5, 0xfb0b, 0x0, 0x0);
        gbc.writeMem(0xac72, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x3096);
        EXPECT(gbc.pc(), 0xac73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac72), 0x88);
        // 88 012B
        gbc.setState(0x3a55, 0xe9fc, 0xa670, 0x1975, 0x68e7, 0x6ac1, 0x1, 0x1);
        gbc.writeMem(0x3a55, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xe9fc);
        EXPECT(gbc.pc(), 0x3a56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 012C
        gbc.setState(0xaf4b, 0x873e, 0x89e0, 0xdc2d, 0xf3eb, 0x9121, 0x1, 0x1);
        gbc.writeMem(0xaf4b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x873e);
        EXPECT(gbc.pc(), 0xaf4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf4b), 0x88);
        // 88 012D
        gbc.setState(0xe91b, 0x7812, 0x86d0, 0x4df0, 0xe68, 0x89ed, 0x0, 0x1);
        gbc.writeMem(0xe91b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7812);
        EXPECT(gbc.pc(), 0xe91c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe91b), 0x88);
        // 88 012E
        gbc.setState(0x2d53, 0xa859, 0x8f80, 0xfa8d, 0x42a0, 0x7ed0, 0x1, 0x0);
        gbc.writeMem(0x2d53, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xa859);
        EXPECT(gbc.pc(), 0x2d54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0130
        gbc.setState(0xe693, 0xd98b, 0xb2f0, 0x1be5, 0xf1bd, 0xa9a8, 0x1, 0x1);
        gbc.writeMem(0xe693, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xd98b);
        EXPECT(gbc.pc(), 0xe694);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe693), 0x88);
        // 88 0131
        gbc.setState(0xd223, 0xe071, 0xb510, 0xdcdc, 0xd0a9, 0xa5d1, 0x1, 0x1);
        gbc.writeMem(0xd223, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xe071);
        EXPECT(gbc.pc(), 0xd224);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd223), 0x88);
        // 88 0132
        gbc.setState(0x4dca, 0xdeae, 0x5d60, 0xedb4, 0xe89f, 0xb88e, 0x1, 0x1);
        gbc.writeMem(0x4dca, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xdeae);
        EXPECT(gbc.pc(), 0x4dcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0133
        gbc.setState(0x520c, 0xb6c2, 0x5820, 0x2d73, 0xb6ed, 0x927, 0x1, 0x0);
        gbc.writeMem(0x520c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xb6c2);
        EXPECT(gbc.pc(), 0x520d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0134
        gbc.setState(0x4cc2, 0x8532, 0x6400, 0xd26c, 0xc929, 0xcdd3, 0x0, 0x0);
        gbc.writeMem(0x4cc2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x8532);
        EXPECT(gbc.pc(), 0x4cc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0135
        gbc.setState(0x84f, 0xcf3, 0xc5d0, 0x4234, 0x643e, 0xbab9, 0x1, 0x1);
        gbc.writeMem(0x84f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xcf3);
        EXPECT(gbc.pc(), 0x850);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0136
        gbc.setState(0x5403, 0x1f68, 0xa500, 0x52df, 0xe74f, 0xe3a9, 0x1, 0x1);
        gbc.writeMem(0x5403, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x1f68);
        EXPECT(gbc.pc(), 0x5404);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0137
        gbc.setState(0x9d90, 0xccb6, 0xb2b0, 0x1c8d, 0xbefb, 0x4c3d, 0x0, 0x1);
        gbc.writeMem(0x9d90, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xccb6);
        EXPECT(gbc.pc(), 0x9d91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d90), 0x88);
        // 88 0138
        gbc.setState(0xe837, 0x865d, 0x52d0, 0xa8a5, 0x642c, 0x6743, 0x1, 0x0);
        gbc.writeMem(0xe837, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x865d);
        EXPECT(gbc.pc(), 0xe838);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe837), 0x88);
        // 88 0139
        gbc.setState(0x1a1e, 0x77e9, 0xf5a0, 0x91ac, 0xfbc3, 0x6928, 0x1, 0x1);
        gbc.writeMem(0x1a1e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x77e9);
        EXPECT(gbc.pc(), 0x1a1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 013A
        gbc.setState(0xb6fd, 0x60bd, 0xf6d0, 0x7da9, 0x471d, 0x839a, 0x1, 0x0);
        gbc.writeMem(0xb6fd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x60bd);
        EXPECT(gbc.pc(), 0xb6fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6fd), 0x88);
        // 88 013B
        gbc.setState(0x2103, 0x2ac2, 0x2bb0, 0xdbbe, 0xfb40, 0xdbe0, 0x0, 0x1);
        gbc.writeMem(0x2103, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x2ac2);
        EXPECT(gbc.pc(), 0x2104);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 013C
        gbc.setState(0xa208, 0xcdf, 0x24e0, 0x2f4d, 0x36d0, 0xd803, 0x1, 0x0);
        gbc.writeMem(0xa208, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xcdf);
        EXPECT(gbc.pc(), 0xa209);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa208), 0x88);
        // 88 013D
        gbc.setState(0x839b, 0x11e, 0xcd00, 0x3c03, 0x33cb, 0x72f9, 0x1, 0x0);
        gbc.writeMem(0x839b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x11e);
        EXPECT(gbc.pc(), 0x839c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x839b), 0x88);
        // 88 013F
        gbc.setState(0x7119, 0xfb7b, 0xf8a0, 0xcee3, 0x4087, 0x9c3e, 0x1, 0x0);
        gbc.writeMem(0x7119, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xfb7b);
        EXPECT(gbc.pc(), 0x711a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0140
        gbc.setState(0x9284, 0xdb82, 0x7f10, 0xdd19, 0x4d8, 0x18af, 0x0, 0x0);
        gbc.writeMem(0x9284, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xdb82);
        EXPECT(gbc.pc(), 0x9285);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9284), 0x88);
        // 88 0141
        gbc.setState(0xa98b, 0x4ea5, 0x6a10, 0xd8de, 0x93bd, 0xaef4, 0x0, 0x0);
        gbc.writeMem(0xa98b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x4ea5);
        EXPECT(gbc.pc(), 0xa98c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa98b), 0x88);
        // 88 0142
        gbc.setState(0x80ac, 0x2ae6, 0xe1d0, 0x4c2b, 0x6938, 0x33c4, 0x1, 0x0);
        gbc.writeMem(0x80ac, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x2ae6);
        EXPECT(gbc.pc(), 0x80ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80ac), 0x88);
        // 88 0143
        gbc.setState(0x6750, 0xbdeb, 0x45e0, 0xaa9b, 0x4769, 0x2d8d, 0x1, 0x1);
        gbc.writeMem(0x6750, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xbdeb);
        EXPECT(gbc.pc(), 0x6751);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0144
        gbc.setState(0x47cd, 0x35a7, 0x4de0, 0xdb89, 0x95b7, 0x753c, 0x1, 0x1);
        gbc.writeMem(0x47cd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x35a7);
        EXPECT(gbc.pc(), 0x47ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0145
        gbc.setState(0x6156, 0xe368, 0x9240, 0x29be, 0x8de7, 0x1cd6, 0x0, 0x0);
        gbc.writeMem(0x6156, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xe368);
        EXPECT(gbc.pc(), 0x6157);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0146
        gbc.setState(0x6d8e, 0x9740, 0xa580, 0x2987, 0xe1be, 0x28be, 0x0, 0x1);
        gbc.writeMem(0x6d8e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x9740);
        EXPECT(gbc.pc(), 0x6d8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0147
        gbc.setState(0x304, 0x59e0, 0x1c40, 0xb277, 0x47c4, 0x19e3, 0x0, 0x1);
        gbc.writeMem(0x304, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x59e0);
        EXPECT(gbc.pc(), 0x305);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0148
        gbc.setState(0x4474, 0xe9bf, 0xe050, 0x8f73, 0xb9bc, 0xe1ff, 0x1, 0x0);
        gbc.writeMem(0x4474, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xe9bf);
        EXPECT(gbc.pc(), 0x4475);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0149
        gbc.setState(0x5a7d, 0xaf7c, 0xb960, 0x85b7, 0x5a22, 0x7175, 0x1, 0x0);
        gbc.writeMem(0x5a7d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xaf7c);
        EXPECT(gbc.pc(), 0x5a7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 014B
        gbc.setState(0x8d5e, 0x6ef5, 0xe6d0, 0xdc5b, 0xe50b, 0x447f, 0x1, 0x0);
        gbc.writeMem(0x8d5e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x6ef5);
        EXPECT(gbc.pc(), 0x8d5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d5e), 0x88);
        // 88 014C
        gbc.setState(0xab29, 0xa4a, 0x8a40, 0x3fb2, 0xdb46, 0x35aa, 0x1, 0x0);
        gbc.writeMem(0xab29, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xa4a);
        EXPECT(gbc.pc(), 0xab2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab29), 0x88);
        // 88 014D
        gbc.setState(0x8b97, 0xdd7c, 0xfaa0, 0x7c7a, 0xb131, 0x2584, 0x1, 0x1);
        gbc.writeMem(0x8b97, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xdd7c);
        EXPECT(gbc.pc(), 0x8b98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b97), 0x88);
        // 88 014E
        gbc.setState(0xa073, 0xb298, 0x8f70, 0x637c, 0x917f, 0xdf86, 0x1, 0x1);
        gbc.writeMem(0xa073, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xb298);
        EXPECT(gbc.pc(), 0xa074);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa073), 0x88);
        // 88 014F
        gbc.setState(0x2c56, 0xa233, 0x3aa0, 0x48d5, 0xe8a4, 0x2625, 0x0, 0x1);
        gbc.writeMem(0x2c56, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xa233);
        EXPECT(gbc.pc(), 0x2c57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0150
        gbc.setState(0xea1a, 0x5e1f, 0x6a60, 0x7d02, 0x67ca, 0x5d36, 0x0, 0x1);
        gbc.writeMem(0xea1a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x5e1f);
        EXPECT(gbc.pc(), 0xea1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea1a), 0x88);
        // 88 0151
        gbc.setState(0xba7e, 0x107b, 0xeb40, 0x4d58, 0xd115, 0x17b9, 0x0, 0x0);
        gbc.writeMem(0xba7e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x107b);
        EXPECT(gbc.pc(), 0xba7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba7e), 0x88);
        // 88 0152
        gbc.setState(0xba50, 0x1bd7, 0x92e0, 0xe448, 0x3f23, 0xf45d, 0x1, 0x1);
        gbc.writeMem(0xba50, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x1bd7);
        EXPECT(gbc.pc(), 0xba51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba50), 0x88);
        // 88 0153
        gbc.setState(0x83f9, 0xa26f, 0xfa20, 0x16f5, 0x1521, 0x70fe, 0x0, 0x0);
        gbc.writeMem(0x83f9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xa26f);
        EXPECT(gbc.pc(), 0x83fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83f9), 0x88);
        // 88 0154
        gbc.setState(0x37d4, 0xd958, 0x22e0, 0x1d3f, 0x4605, 0xeefe, 0x0, 0x0);
        gbc.writeMem(0x37d4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xd958);
        EXPECT(gbc.pc(), 0x37d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0156
        gbc.setState(0xd8ef, 0xfda5, 0x6c40, 0x9361, 0x5620, 0x5f03, 0x0, 0x0);
        gbc.writeMem(0xd8ef, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xfda5);
        EXPECT(gbc.pc(), 0xd8f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8ef), 0x88);
        // 88 0158
        gbc.setState(0xb906, 0x1fad, 0xfe50, 0x8e20, 0x16e9, 0xfb17, 0x0, 0x0);
        gbc.writeMem(0xb906, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x1fad);
        EXPECT(gbc.pc(), 0xb907);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb906), 0x88);
        // 88 0159
        gbc.setState(0x12b1, 0xed8e, 0x1bb0, 0x2ab2, 0xe3df, 0x57c1, 0x0, 0x0);
        gbc.writeMem(0x12b1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xed8e);
        EXPECT(gbc.pc(), 0x12b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 015A
        gbc.setState(0x595e, 0x18c6, 0x79e0, 0x507f, 0xb7e8, 0x6b1b, 0x0, 0x1);
        gbc.writeMem(0x595e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x18c6);
        EXPECT(gbc.pc(), 0x595f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 015C
        gbc.setState(0xb4ea, 0xa7f7, 0x5280, 0xd9e1, 0x281a, 0xe449, 0x0, 0x0);
        gbc.writeMem(0xb4ea, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xa7f7);
        EXPECT(gbc.pc(), 0xb4eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4ea), 0x88);
        // 88 015D
        gbc.setState(0x1631, 0x1509, 0xbd80, 0x286a, 0x9aa1, 0xad06, 0x0, 0x1);
        gbc.writeMem(0x1631, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x1509);
        EXPECT(gbc.pc(), 0x1632);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 015E
        gbc.setState(0xb709, 0xa5b0, 0x4590, 0x1727, 0xa1f5, 0xfefe, 0x0, 0x0);
        gbc.writeMem(0xb709, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xa5b0);
        EXPECT(gbc.pc(), 0xb70a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb709), 0x88);
        // 88 015F
        gbc.setState(0x15e7, 0x6b00, 0xcb30, 0x578f, 0x3d9, 0x774e, 0x1, 0x0);
        gbc.writeMem(0x15e7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x6b00);
        EXPECT(gbc.pc(), 0x15e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0160
        gbc.setState(0x38a5, 0x524f, 0x3330, 0x6baa, 0xa46f, 0x4b8a, 0x0, 0x0);
        gbc.writeMem(0x38a5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x524f);
        EXPECT(gbc.pc(), 0x38a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0161
        gbc.setState(0x39c7, 0xd114, 0xc5f0, 0x250b, 0x732b, 0xdd0c, 0x0, 0x1);
        gbc.writeMem(0x39c7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xd114);
        EXPECT(gbc.pc(), 0x39c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0162
        gbc.setState(0x3a20, 0x4e92, 0xdd90, 0x76da, 0x4811, 0xc455, 0x1, 0x0);
        gbc.writeMem(0x3a20, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x4e92);
        EXPECT(gbc.pc(), 0x3a21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0163
        gbc.setState(0x37d0, 0x1cc4, 0xe5f0, 0xd84f, 0x97f1, 0x295b, 0x0, 0x0);
        gbc.writeMem(0x37d0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x1cc4);
        EXPECT(gbc.pc(), 0x37d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0164
        gbc.setState(0x8cf7, 0xb89b, 0x7160, 0x2d8b, 0xed60, 0x3a1c, 0x0, 0x0);
        gbc.writeMem(0x8cf7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xb89b);
        EXPECT(gbc.pc(), 0x8cf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cf7), 0x88);
        // 88 0165
        gbc.setState(0x7bdd, 0x9ed9, 0x8640, 0x6fde, 0x5c1e, 0xde36, 0x1, 0x1);
        gbc.writeMem(0x7bdd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x9ed9);
        EXPECT(gbc.pc(), 0x7bde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0166
        gbc.setState(0xccd3, 0xbf4f, 0x2220, 0x843d, 0x47fc, 0xd8af, 0x0, 0x0);
        gbc.writeMem(0xccd3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xbf4f);
        EXPECT(gbc.pc(), 0xccd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccd3), 0x88);
        // 88 0167
        gbc.setState(0x3dd8, 0x3a85, 0xf730, 0x7b09, 0xf8d2, 0xe664, 0x0, 0x0);
        gbc.writeMem(0x3dd8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x3a85);
        EXPECT(gbc.pc(), 0x3dd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0168
        gbc.setState(0x656f, 0x17f1, 0xac40, 0xfac5, 0x9ae4, 0x4bd1, 0x1, 0x1);
        gbc.writeMem(0x656f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x17f1);
        EXPECT(gbc.pc(), 0x6570);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0169
        gbc.setState(0xeb1b, 0x2380, 0xc180, 0x8b90, 0x72b1, 0x5a5e, 0x1, 0x0);
        gbc.writeMem(0xeb1b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x2380);
        EXPECT(gbc.pc(), 0xeb1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb1b), 0x88);
        // 88 016A
        gbc.setState(0xa393, 0xf569, 0x22a0, 0x2db9, 0xb8bb, 0x11a9, 0x0, 0x0);
        gbc.writeMem(0xa393, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xf569);
        EXPECT(gbc.pc(), 0xa394);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa393), 0x88);
        // 88 016B
        gbc.setState(0xa5ec, 0x53ad, 0x4bb0, 0x5065, 0x651b, 0xf9d6, 0x0, 0x0);
        gbc.writeMem(0xa5ec, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x53ad);
        EXPECT(gbc.pc(), 0xa5ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5ec), 0x88);
        // 88 016C
        gbc.setState(0x9cc1, 0xf460, 0x55c0, 0xd092, 0x3057, 0xfa7e, 0x1, 0x1);
        gbc.writeMem(0x9cc1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xf460);
        EXPECT(gbc.pc(), 0x9cc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cc1), 0x88);
        // 88 016D
        gbc.setState(0xc538, 0x1afc, 0x3400, 0x6b6b, 0x8a94, 0x378e, 0x1, 0x0);
        gbc.writeMem(0xc538, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x1afc);
        EXPECT(gbc.pc(), 0xc539);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc538), 0x88);
        // 88 016E
        gbc.setState(0x39e6, 0x4f92, 0xe730, 0xdbf0, 0x6fea, 0xa22a, 0x1, 0x1);
        gbc.writeMem(0x39e6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x4f92);
        EXPECT(gbc.pc(), 0x39e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0170
        gbc.setState(0x20a8, 0xfde4, 0xf2d0, 0xb3f0, 0x5b4f, 0x4285, 0x1, 0x0);
        gbc.writeMem(0x20a8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xfde4);
        EXPECT(gbc.pc(), 0x20a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0171
        gbc.setState(0xaccf, 0xcb1d, 0x90e0, 0xb603, 0xb8df, 0x4b8c, 0x1, 0x0);
        gbc.writeMem(0xaccf, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xcb1d);
        EXPECT(gbc.pc(), 0xacd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaccf), 0x88);
        // 88 0172
        gbc.setState(0x2ee8, 0x162a, 0xf650, 0x3b0e, 0xfdc2, 0x4baa, 0x1, 0x0);
        gbc.writeMem(0x2ee8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x162a);
        EXPECT(gbc.pc(), 0x2ee9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0173
        gbc.setState(0x3200, 0x41a5, 0x9ca0, 0x7244, 0x560f, 0x689f, 0x1, 0x0);
        gbc.writeMem(0x3200, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x41a5);
        EXPECT(gbc.pc(), 0x3201);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0174
        gbc.setState(0x7337, 0xa2aa, 0x76c0, 0xabfe, 0x4d03, 0xd2e8, 0x1, 0x0);
        gbc.writeMem(0x7337, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xa2aa);
        EXPECT(gbc.pc(), 0x7338);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0175
        gbc.setState(0x2f54, 0xc04e, 0xee0, 0x77c5, 0x3f77, 0x890f, 0x1, 0x0);
        gbc.writeMem(0x2f54, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xc04e);
        EXPECT(gbc.pc(), 0x2f55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0178
        gbc.setState(0x98e, 0x1dfb, 0x40f0, 0x8706, 0xe5d9, 0x52da, 0x1, 0x0);
        gbc.writeMem(0x98e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x1dfb);
        EXPECT(gbc.pc(), 0x98f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0179
        gbc.setState(0xaf6c, 0x730c, 0x8e30, 0x8e19, 0x35c8, 0x4ce8, 0x1, 0x1);
        gbc.writeMem(0xaf6c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x730c);
        EXPECT(gbc.pc(), 0xaf6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf6c), 0x88);
        // 88 017A
        gbc.setState(0xe764, 0xc068, 0x4520, 0xc1c3, 0x7cb1, 0x25fd, 0x0, 0x1);
        gbc.writeMem(0xe764, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc068);
        EXPECT(gbc.pc(), 0xe765);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe764), 0x88);
        // 88 017B
        gbc.setState(0x4fe, 0x2e6f, 0x20d0, 0xe71, 0x95e8, 0xb676, 0x0, 0x1);
        gbc.writeMem(0x4fe, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x2e6f);
        EXPECT(gbc.pc(), 0x4ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 017C
        gbc.setState(0x629f, 0x437e, 0xff00, 0xc040, 0x2986, 0x6e42, 0x0, 0x0);
        gbc.writeMem(0x629f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x437e);
        EXPECT(gbc.pc(), 0x62a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 017D
        gbc.setState(0xbc9a, 0x636d, 0x33b0, 0x8639, 0x9c13, 0x5086, 0x1, 0x1);
        gbc.writeMem(0xbc9a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x636d);
        EXPECT(gbc.pc(), 0xbc9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc9a), 0x88);
        // 88 017E
        gbc.setState(0xde51, 0x253, 0x7e50, 0x86a2, 0xaced, 0x661e, 0x1, 0x1);
        gbc.writeMem(0xde51, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x253);
        EXPECT(gbc.pc(), 0xde52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde51), 0x88);
        // 88 017F
        gbc.setState(0xd19d, 0xfa7d, 0x300, 0x8336, 0x2854, 0xa9f8, 0x0, 0x0);
        gbc.writeMem(0xd19d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xfa7d);
        EXPECT(gbc.pc(), 0xd19e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd19d), 0x88);
        // 88 0180
        gbc.setState(0xc0d5, 0xf1b7, 0x5d40, 0xaf2, 0xd488, 0x63f9, 0x1, 0x1);
        gbc.writeMem(0xc0d5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xf1b7);
        EXPECT(gbc.pc(), 0xc0d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0d5), 0x88);
        // 88 0181
        gbc.setState(0x582d, 0x55e4, 0x5520, 0xaf19, 0x3b68, 0x2006, 0x0, 0x0);
        gbc.writeMem(0x582d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x55e4);
        EXPECT(gbc.pc(), 0x582e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0182
        gbc.setState(0xdc28, 0xdc78, 0x260, 0x8e93, 0x93cc, 0xa6a9, 0x0, 0x1);
        gbc.writeMem(0xdc28, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xdc78);
        EXPECT(gbc.pc(), 0xdc29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc28), 0x88);
        // 88 0183
        gbc.setState(0x66ae, 0x4eb, 0x42e0, 0xb033, 0x5659, 0x8d5e, 0x1, 0x1);
        gbc.writeMem(0x66ae, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x4eb);
        EXPECT(gbc.pc(), 0x66af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0184
        gbc.setState(0x4bc4, 0x422c, 0x5150, 0x708, 0x80c4, 0xfa0f, 0x0, 0x0);
        gbc.writeMem(0x4bc4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x422c);
        EXPECT(gbc.pc(), 0x4bc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0185
        gbc.setState(0x2d7, 0x14ee, 0x9080, 0xd190, 0x22dd, 0x3a3e, 0x1, 0x0);
        gbc.writeMem(0x2d7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x14ee);
        EXPECT(gbc.pc(), 0x2d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0186
        gbc.setState(0x7c2e, 0x7ea1, 0xf160, 0x581f, 0x52e1, 0xf0d1, 0x1, 0x1);
        gbc.writeMem(0x7c2e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x7ea1);
        EXPECT(gbc.pc(), 0x7c2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0189
        gbc.setState(0x9b73, 0x4a83, 0x20f0, 0x3592, 0x9ad0, 0x10d4, 0x1, 0x1);
        gbc.writeMem(0x9b73, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x4a83);
        EXPECT(gbc.pc(), 0x9b74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b73), 0x88);
        // 88 018A
        gbc.setState(0xcb75, 0xf3b4, 0xa5c0, 0x3c37, 0x9631, 0x3c6a, 0x0, 0x1);
        gbc.writeMem(0xcb75, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xf3b4);
        EXPECT(gbc.pc(), 0xcb76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb75), 0x88);
        // 88 018B
        gbc.setState(0x29cc, 0xc62, 0x5680, 0xc798, 0x6615, 0xce11, 0x0, 0x1);
        gbc.writeMem(0x29cc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xc62);
        EXPECT(gbc.pc(), 0x29cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 018C
        gbc.setState(0x351, 0xc1ab, 0x8290, 0x68ac, 0x869d, 0x2004, 0x0, 0x0);
        gbc.writeMem(0x351, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xc1ab);
        EXPECT(gbc.pc(), 0x352);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 018D
        gbc.setState(0x450, 0xbfab, 0xc720, 0xbb00, 0xa6e4, 0x8e30, 0x1, 0x1);
        gbc.writeMem(0x450, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xbfab);
        EXPECT(gbc.pc(), 0x451);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 018E
        gbc.setState(0x7c60, 0xdab7, 0xaff0, 0x8e49, 0x47a0, 0xae4b, 0x0, 0x0);
        gbc.writeMem(0x7c60, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xdab7);
        EXPECT(gbc.pc(), 0x7c61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 018F
        gbc.setState(0xa150, 0x79ef, 0x4900, 0x2359, 0x494, 0x163b, 0x1, 0x0);
        gbc.writeMem(0xa150, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x79ef);
        EXPECT(gbc.pc(), 0xa151);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa150), 0x88);
        // 88 0190
        gbc.setState(0xd2e0, 0x8474, 0x85a0, 0x8c50, 0x7123, 0xb2aa, 0x0, 0x0);
        gbc.writeMem(0xd2e0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x8474);
        EXPECT(gbc.pc(), 0xd2e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2e0), 0x88);
        // 88 0191
        gbc.setState(0xcebd, 0x9433, 0xdd60, 0x5255, 0x6aa5, 0x32df, 0x1, 0x0);
        gbc.writeMem(0xcebd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x9433);
        EXPECT(gbc.pc(), 0xcebe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcebd), 0x88);
        // 88 0192
        gbc.setState(0xdbe4, 0xc803, 0x60a0, 0x39ac, 0x5ac8, 0xbaa9, 0x1, 0x0);
        gbc.writeMem(0xdbe4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xc803);
        EXPECT(gbc.pc(), 0xdbe5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbe4), 0x88);
        // 88 0193
        gbc.setState(0x8318, 0xa866, 0x4a00, 0xfc97, 0xd284, 0xcd83, 0x1, 0x1);
        gbc.writeMem(0x8318, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xa866);
        EXPECT(gbc.pc(), 0x8319);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8318), 0x88);
        // 88 0194
        gbc.setState(0x1a21, 0x91c5, 0xbc50, 0x5ec6, 0x67bb, 0xc0cd, 0x1, 0x0);
        gbc.writeMem(0x1a21, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x91c5);
        EXPECT(gbc.pc(), 0x1a22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0195
        gbc.setState(0xd850, 0x7984, 0xf950, 0xd311, 0x8ac5, 0x55cc, 0x0, 0x1);
        gbc.writeMem(0xd850, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x7984);
        EXPECT(gbc.pc(), 0xd851);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd850), 0x88);
        // 88 0196
        gbc.setState(0x64cf, 0x97ae, 0x38f0, 0x341a, 0xf5f0, 0xc812, 0x1, 0x0);
        gbc.writeMem(0x64cf, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x97ae);
        EXPECT(gbc.pc(), 0x64d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0197
        gbc.setState(0x9978, 0x2298, 0xf390, 0xd62e, 0xef21, 0x86d6, 0x0, 0x1);
        gbc.writeMem(0x9978, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x2298);
        EXPECT(gbc.pc(), 0x9979);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9978), 0x88);
        // 88 0198
        gbc.setState(0x5517, 0xbaf, 0x7580, 0x8f2e, 0x1c27, 0xffd2, 0x1, 0x1);
        gbc.writeMem(0x5517, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xbaf);
        EXPECT(gbc.pc(), 0x5518);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0199
        gbc.setState(0xb12d, 0xb55a, 0xf0a0, 0x9053, 0x54a2, 0x5d43, 0x1, 0x0);
        gbc.writeMem(0xb12d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xb55a);
        EXPECT(gbc.pc(), 0xb12e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb12d), 0x88);
        // 88 019A
        gbc.setState(0xd201, 0xfbd0, 0x3b80, 0x3d03, 0xec5d, 0xfbab, 0x1, 0x0);
        gbc.writeMem(0xd201, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xfbd0);
        EXPECT(gbc.pc(), 0xd202);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd201), 0x88);
        // 88 019B
        gbc.setState(0xd643, 0x4ad5, 0x2360, 0xd43c, 0xfe69, 0x54b4, 0x1, 0x0);
        gbc.writeMem(0xd643, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x4ad5);
        EXPECT(gbc.pc(), 0xd644);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd643), 0x88);
        // 88 019C
        gbc.setState(0x8bb1, 0x29bb, 0x47b0, 0xb459, 0x58d1, 0xd73, 0x1, 0x1);
        gbc.writeMem(0x8bb1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x29bb);
        EXPECT(gbc.pc(), 0x8bb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bb1), 0x88);
        // 88 019D
        gbc.setState(0x409a, 0x1d69, 0x45c0, 0xd5a8, 0xd435, 0x521f, 0x0, 0x1);
        gbc.writeMem(0x409a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x1d69);
        EXPECT(gbc.pc(), 0x409b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 019E
        gbc.setState(0x85b0, 0xa854, 0x8f30, 0xbee4, 0xe05c, 0x8ddc, 0x1, 0x1);
        gbc.writeMem(0x85b0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xa854);
        EXPECT(gbc.pc(), 0x85b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85b0), 0x88);
        // 88 019F
        gbc.setState(0x39b0, 0x821e, 0xf2b0, 0x9487, 0x2721, 0xd6dd, 0x0, 0x1);
        gbc.writeMem(0x39b0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x821e);
        EXPECT(gbc.pc(), 0x39b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 01A0
        gbc.setState(0x6921, 0x3658, 0xe970, 0x55d8, 0xe55d, 0x3d50, 0x1, 0x0);
        gbc.writeMem(0x6921, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x3658);
        EXPECT(gbc.pc(), 0x6922);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 01A1
        gbc.setState(0xb12a, 0x486, 0x78c0, 0x740b, 0x66f1, 0x2569, 0x0, 0x1);
        gbc.writeMem(0xb12a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x486);
        EXPECT(gbc.pc(), 0xb12b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb12a), 0x88);
        // 88 01A2
        gbc.setState(0x118f, 0x281e, 0x98a0, 0xb855, 0xba07, 0x9615, 0x1, 0x0);
        gbc.writeMem(0x118f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x281e);
        EXPECT(gbc.pc(), 0x1190);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 01A3
        gbc.setState(0xecbd, 0xc387, 0x2e0, 0x3393, 0xfd9b, 0x3ad1, 0x0, 0x0);
        gbc.writeMem(0xecbd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xc387);
        EXPECT(gbc.pc(), 0xecbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecbd), 0x88);
        // 88 01A4
        gbc.setState(0x68d5, 0x92e5, 0xa280, 0x139e, 0x6cb3, 0x572d, 0x1, 0x0);
        gbc.writeMem(0x68d5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x92e5);
        EXPECT(gbc.pc(), 0x68d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 01A5
        gbc.setState(0x2d10, 0xea31, 0xc2e0, 0xf741, 0x3b99, 0x58d, 0x0, 0x0);
        gbc.writeMem(0x2d10, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xea31);
        EXPECT(gbc.pc(), 0x2d11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 01A6
        gbc.setState(0x1731, 0x25f0, 0xa340, 0xed99, 0xec2, 0x5836, 0x0, 0x1);
        gbc.writeMem(0x1731, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x25f0);
        EXPECT(gbc.pc(), 0x1732);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 01A7
        gbc.setState(0x7dd0, 0xdb1f, 0x8fb0, 0x7e90, 0xab16, 0xce, 0x1, 0x1);
        gbc.writeMem(0x7dd0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xdb1f);
        EXPECT(gbc.pc(), 0x7dd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 01A8
        gbc.setState(0x4ac3, 0x4690, 0x9fd0, 0x2cb, 0x8a4e, 0x2029, 0x0, 0x0);
        gbc.writeMem(0x4ac3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x4690);
        EXPECT(gbc.pc(), 0x4ac4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01A9
        gbc.setState(0x290e, 0x112e, 0xaab0, 0x4301, 0x1813, 0x9a03, 0x1, 0x1);
        gbc.writeMem(0x290e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x112e);
        EXPECT(gbc.pc(), 0x290f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 01AA
        gbc.setState(0xa1be, 0x2ec4, 0xea60, 0x895f, 0x59d7, 0xeaf6, 0x1, 0x0);
        gbc.writeMem(0xa1be, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x2ec4);
        EXPECT(gbc.pc(), 0xa1bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1be), 0x88);
        // 88 01AB
        gbc.setState(0x11ff, 0x59da, 0x2c40, 0xef60, 0x72d5, 0x62ba, 0x1, 0x0);
        gbc.writeMem(0x11ff, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x59da);
        EXPECT(gbc.pc(), 0x1200);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 01AC
        gbc.setState(0x187b, 0xa341, 0x2ef0, 0x5ef5, 0xc3a, 0xe1d4, 0x1, 0x1);
        gbc.writeMem(0x187b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xa341);
        EXPECT(gbc.pc(), 0x187c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01AD
        gbc.setState(0x411, 0x686, 0x4fa0, 0xa7fd, 0xc10a, 0xa5a2, 0x1, 0x0);
        gbc.writeMem(0x411, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x686);
        EXPECT(gbc.pc(), 0x412);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01AE
        gbc.setState(0xa44d, 0xff05, 0xafa0, 0xe5e9, 0x6159, 0xf621, 0x0, 0x0);
        gbc.writeMem(0xa44d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xff05);
        EXPECT(gbc.pc(), 0xa44e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa44d), 0x88);
        // 88 01AF
        gbc.setState(0xcc46, 0x4c2c, 0x370, 0xec8e, 0x3ea8, 0x48c1, 0x0, 0x0);
        gbc.writeMem(0xcc46, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x4c2c);
        EXPECT(gbc.pc(), 0xcc47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc46), 0x88);
        // 88 01B0
        gbc.setState(0x712f, 0x327b, 0x6b40, 0x99b8, 0xde23, 0xdedb, 0x0, 0x1);
        gbc.writeMem(0x712f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x327b);
        EXPECT(gbc.pc(), 0x7130);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 01B1
        gbc.setState(0x465, 0x722c, 0x8020, 0x88bd, 0x51df, 0x1519, 0x0, 0x0);
        gbc.writeMem(0x465, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x722c);
        EXPECT(gbc.pc(), 0x466);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 01B2
        gbc.setState(0x53ce, 0x4228, 0x3dd0, 0x4ad8, 0x732a, 0x4f1b, 0x0, 0x1);
        gbc.writeMem(0x53ce, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x4228);
        EXPECT(gbc.pc(), 0x53cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01B3
        gbc.setState(0x2e7f, 0xbc7f, 0x53c0, 0x68c, 0x67d9, 0x9366, 0x1, 0x0);
        gbc.writeMem(0x2e7f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xbc7f);
        EXPECT(gbc.pc(), 0x2e80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 01B4
        gbc.setState(0xea31, 0x514c, 0x1840, 0x1dbb, 0xc84c, 0x9e7c, 0x1, 0x0);
        gbc.writeMem(0xea31, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x514c);
        EXPECT(gbc.pc(), 0xea32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea31), 0x88);
        // 88 01B5
        gbc.setState(0x117c, 0x6a68, 0x8690, 0x1753, 0x1145, 0xa52f, 0x0, 0x1);
        gbc.writeMem(0x117c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x6a68);
        EXPECT(gbc.pc(), 0x117d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 01B6
        gbc.setState(0x38dc, 0x29d1, 0x5020, 0x8827, 0x7318, 0x7408, 0x0, 0x0);
        gbc.writeMem(0x38dc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x29d1);
        EXPECT(gbc.pc(), 0x38dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 01B7
        gbc.setState(0x1ad7, 0x2ef0, 0x1630, 0x5e50, 0x61f3, 0x3c2f, 0x1, 0x0);
        gbc.writeMem(0x1ad7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x2ef0);
        EXPECT(gbc.pc(), 0x1ad8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01B8
        gbc.setState(0x4bcd, 0xca1c, 0x8590, 0x2686, 0x8a90, 0x5376, 0x1, 0x0);
        gbc.writeMem(0x4bcd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xca1c);
        EXPECT(gbc.pc(), 0x4bce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 01B9
        gbc.setState(0x92eb, 0x49f2, 0x94f0, 0x25cc, 0x9460, 0xcc17, 0x1, 0x1);
        gbc.writeMem(0x92eb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x49f2);
        EXPECT(gbc.pc(), 0x92ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92eb), 0x88);
        // 88 01BA
        gbc.setState(0x1818, 0xebdb, 0x5480, 0x4f25, 0x6850, 0xdb81, 0x1, 0x0);
        gbc.writeMem(0x1818, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xebdb);
        EXPECT(gbc.pc(), 0x1819);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01BB
        gbc.setState(0x5ace, 0xbe9b, 0x6250, 0x2f26, 0x9ae3, 0x1145, 0x1, 0x0);
        gbc.writeMem(0x5ace, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xbe9b);
        EXPECT(gbc.pc(), 0x5acf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01BC
        gbc.setState(0x845a, 0xecf4, 0xd2f0, 0x200f, 0x89fe, 0xadf9, 0x1, 0x1);
        gbc.writeMem(0x845a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xecf4);
        EXPECT(gbc.pc(), 0x845b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x845a), 0x88);
        // 88 01BD
        gbc.setState(0x1764, 0xb475, 0x15b0, 0xdadd, 0xbd59, 0xf4c8, 0x0, 0x1);
        gbc.writeMem(0x1764, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xb475);
        EXPECT(gbc.pc(), 0x1765);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01BE
        gbc.setState(0xf3f, 0xc3dc, 0x1dd0, 0xa394, 0x2d1b, 0xa551, 0x1, 0x1);
        gbc.writeMem(0xf3f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xc3dc);
        EXPECT(gbc.pc(), 0xf40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01BF
        gbc.setState(0xebfb, 0x16b2, 0x6c30, 0x5824, 0x624a, 0xe7da, 0x1, 0x0);
        gbc.writeMem(0xebfb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x16b2);
        EXPECT(gbc.pc(), 0xebfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebfb), 0x88);
        // 88 01C0
        gbc.setState(0x8359, 0x3625, 0x3010, 0x21e3, 0x5103, 0x8f51, 0x0, 0x1);
        gbc.writeMem(0x8359, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x3625);
        EXPECT(gbc.pc(), 0x835a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8359), 0x88);
        // 88 01C1
        gbc.setState(0x9159, 0x8c9, 0x8af0, 0xcb9b, 0x3673, 0xfd5b, 0x0, 0x1);
        gbc.writeMem(0x9159, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x8c9);
        EXPECT(gbc.pc(), 0x915a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9159), 0x88);
        // 88 01C2
        gbc.setState(0x3248, 0x32b3, 0x4200, 0x68c4, 0x18db, 0xd97d, 0x1, 0x1);
        gbc.writeMem(0x3248, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x32b3);
        EXPECT(gbc.pc(), 0x3249);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 01C3
        gbc.setState(0x194d, 0x3df3, 0x950, 0x8880, 0xa374, 0x6abf, 0x0, 0x1);
        gbc.writeMem(0x194d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x3df3);
        EXPECT(gbc.pc(), 0x194e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01C4
        gbc.setState(0x7877, 0x9e15, 0x7640, 0x5c8a, 0x9884, 0x6f20, 0x0, 0x0);
        gbc.writeMem(0x7877, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x9e15);
        EXPECT(gbc.pc(), 0x7878);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01C5
        gbc.setState(0xcb6f, 0x6d60, 0xfef0, 0xccc3, 0x8dbf, 0xff32, 0x0, 0x0);
        gbc.writeMem(0xcb6f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x6d60);
        EXPECT(gbc.pc(), 0xcb70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb6f), 0x88);
        // 88 01C6
        gbc.setState(0xd7bb, 0xddbe, 0x3650, 0xe04f, 0x16e9, 0x9543, 0x0, 0x1);
        gbc.writeMem(0xd7bb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xddbe);
        EXPECT(gbc.pc(), 0xd7bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7bb), 0x88);
        // 88 01C7
        gbc.setState(0xdcb3, 0xff24, 0xead0, 0x8679, 0x7c4f, 0x8df3, 0x1, 0x1);
        gbc.writeMem(0xdcb3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xff24);
        EXPECT(gbc.pc(), 0xdcb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcb3), 0x88);
        // 88 01C8
        gbc.setState(0xe3a6, 0x860d, 0x8830, 0xd05e, 0xe6b6, 0x2d9c, 0x1, 0x1);
        gbc.writeMem(0xe3a6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x860d);
        EXPECT(gbc.pc(), 0xe3a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3a6), 0x88);
        // 88 01C9
        gbc.setState(0xaf7, 0x6803, 0x13c0, 0xf707, 0x5f11, 0xba72, 0x1, 0x1);
        gbc.writeMem(0xaf7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x6803);
        EXPECT(gbc.pc(), 0xaf8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 01CA
        gbc.setState(0xcebe, 0xbdf9, 0x6480, 0x11b, 0x5ffb, 0x6292, 0x0, 0x1);
        gbc.writeMem(0xcebe, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xbdf9);
        EXPECT(gbc.pc(), 0xcebf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcebe), 0x88);
        // 88 01CB
        gbc.setState(0x8b02, 0xfb25, 0x9090, 0xf9, 0x2e33, 0xcd57, 0x1, 0x0);
        gbc.writeMem(0x8b02, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xfb25);
        EXPECT(gbc.pc(), 0x8b03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b02), 0x88);
        // 88 01CC
        gbc.setState(0x1e95, 0x7b9, 0x4840, 0x3c71, 0x8d91, 0xb46e, 0x1, 0x1);
        gbc.writeMem(0x1e95, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x7b9);
        EXPECT(gbc.pc(), 0x1e96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01CD
        gbc.setState(0x9a4, 0xf169, 0x4690, 0x66c, 0x8436, 0x7742, 0x0, 0x0);
        gbc.writeMem(0x9a4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xf169);
        EXPECT(gbc.pc(), 0x9a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 01CE
        gbc.setState(0x98bd, 0x586a, 0xbb90, 0x836c, 0x7775, 0xd4f6, 0x1, 0x0);
        gbc.writeMem(0x98bd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x586a);
        EXPECT(gbc.pc(), 0x98be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98bd), 0x88);
        // 88 01CF
        gbc.setState(0xddb7, 0xf649, 0x3d80, 0xe9bf, 0x83f4, 0x5f40, 0x1, 0x1);
        gbc.writeMem(0xddb7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xf649);
        EXPECT(gbc.pc(), 0xddb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddb7), 0x88);
        // 88 01D0
        gbc.setState(0x157a, 0x198a, 0xd3b0, 0xe161, 0x83f1, 0xc16e, 0x1, 0x0);
        gbc.writeMem(0x157a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x198a);
        EXPECT(gbc.pc(), 0x157b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 01D1
        gbc.setState(0x684f, 0x8225, 0x4fd0, 0x3c26, 0x682e, 0x57bb, 0x0, 0x1);
        gbc.writeMem(0x684f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x8225);
        EXPECT(gbc.pc(), 0x6850);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01D2
        gbc.setState(0x6f71, 0xa913, 0x3f70, 0xf823, 0xa152, 0xc26e, 0x1, 0x0);
        gbc.writeMem(0x6f71, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xa913);
        EXPECT(gbc.pc(), 0x6f72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 01D3
        gbc.setState(0xdc5e, 0xdc50, 0x80b0, 0x199b, 0xf907, 0x68c1, 0x1, 0x1);
        gbc.writeMem(0xdc5e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xdc50);
        EXPECT(gbc.pc(), 0xdc5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc5e), 0x88);
        // 88 01D4
        gbc.setState(0x9d85, 0x67df, 0x6310, 0x51c9, 0x5ec1, 0xe319, 0x1, 0x1);
        gbc.writeMem(0x9d85, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x67df);
        EXPECT(gbc.pc(), 0x9d86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d85), 0x88);
        // 88 01D6
        gbc.setState(0x8027, 0x76f, 0xc550, 0xab27, 0xebfa, 0x50bd, 0x0, 0x0);
        gbc.writeMem(0x8027, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x76f);
        EXPECT(gbc.pc(), 0x8028);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8027), 0x88);
        // 88 01D7
        gbc.setState(0x7084, 0xeb4e, 0xde70, 0x6ae2, 0x6682, 0x1871, 0x0, 0x0);
        gbc.writeMem(0x7084, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xeb4e);
        EXPECT(gbc.pc(), 0x7085);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 01D8
        gbc.setState(0x9909, 0xf5a6, 0x2cc0, 0x140, 0x8139, 0xfda3, 0x0, 0x0);
        gbc.writeMem(0x9909, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xf5a6);
        EXPECT(gbc.pc(), 0x990a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9909), 0x88);
        // 88 01D9
        gbc.setState(0xca70, 0xae57, 0x4080, 0xe7e1, 0x2105, 0x260c, 0x0, 0x0);
        gbc.writeMem(0xca70, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xae57);
        EXPECT(gbc.pc(), 0xca71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca70), 0x88);
        // 88 01DA
        gbc.setState(0xd8e2, 0xefe0, 0xe250, 0x885c, 0x8568, 0x5060, 0x0, 0x1);
        gbc.writeMem(0xd8e2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xefe0);
        EXPECT(gbc.pc(), 0xd8e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8e2), 0x88);
        // 88 01DB
        gbc.setState(0xd0ae, 0x751b, 0x8e80, 0x519b, 0xc0a6, 0x234d, 0x1, 0x1);
        gbc.writeMem(0xd0ae, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x751b);
        EXPECT(gbc.pc(), 0xd0af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0ae), 0x88);
        // 88 01DC
        gbc.setState(0xe006, 0xf3fe, 0xcf40, 0x45bd, 0xbb9, 0xa205, 0x1, 0x0);
        gbc.writeMem(0xe006, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xf3fe);
        EXPECT(gbc.pc(), 0xe007);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe006), 0x88);
        // 88 01DD
        gbc.setState(0xafe7, 0x46e0, 0x15a0, 0x45d3, 0xb070, 0x3b4f, 0x0, 0x1);
        gbc.writeMem(0xafe7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x46e0);
        EXPECT(gbc.pc(), 0xafe8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafe7), 0x88);
        // 88 01DE
        gbc.setState(0x1059, 0xbc0c, 0xa510, 0xcb51, 0x4232, 0x70a0, 0x0, 0x0);
        gbc.writeMem(0x1059, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xbc0c);
        EXPECT(gbc.pc(), 0x105a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 01DF
        gbc.setState(0x8352, 0x12d6, 0x7340, 0x1902, 0x11e, 0x5e6b, 0x1, 0x1);
        gbc.writeMem(0x8352, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x12d6);
        EXPECT(gbc.pc(), 0x8353);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8352), 0x88);
        // 88 01E0
        gbc.setState(0xcb2, 0x56f4, 0x5070, 0x9254, 0x4a3d, 0x7d8c, 0x1, 0x1);
        gbc.writeMem(0xcb2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x56f4);
        EXPECT(gbc.pc(), 0xcb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 01E2
        gbc.setState(0xbdac, 0x498, 0x5080, 0xee1e, 0x46ba, 0x6128, 0x0, 0x1);
        gbc.writeMem(0xbdac, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x498);
        EXPECT(gbc.pc(), 0xbdad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdac), 0x88);
        // 88 01E3
        gbc.setState(0x1119, 0x7975, 0xf7c0, 0xf749, 0x97de, 0xd2c7, 0x1, 0x0);
        gbc.writeMem(0x1119, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x7975);
        EXPECT(gbc.pc(), 0x111a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 01E4
        gbc.setState(0x3673, 0xbd57, 0x1260, 0x5927, 0x69cf, 0xacf5, 0x1, 0x0);
        gbc.writeMem(0x3673, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xbd57);
        EXPECT(gbc.pc(), 0x3674);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 01E5
        gbc.setState(0x430, 0x9cef, 0x4ec0, 0x4e5f, 0x9686, 0x3d9e, 0x1, 0x1);
        gbc.writeMem(0x430, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x9cef);
        EXPECT(gbc.pc(), 0x431);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01E6
        gbc.setState(0x6e7c, 0x3cf7, 0x9410, 0x9bba, 0xf9b9, 0x4a83, 0x0, 0x0);
        gbc.writeMem(0x6e7c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x3cf7);
        EXPECT(gbc.pc(), 0x6e7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 01E7
        gbc.setState(0x8120, 0xf813, 0xc710, 0x57e9, 0x9bf8, 0x58b2, 0x0, 0x1);
        gbc.writeMem(0x8120, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xf813);
        EXPECT(gbc.pc(), 0x8121);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8120), 0x88);
        // 88 01E8
        gbc.setState(0x4140, 0x649b, 0xed0, 0x3f4c, 0xfe33, 0xdb4b, 0x0, 0x1);
        gbc.writeMem(0x4140, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x649b);
        EXPECT(gbc.pc(), 0x4141);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01E9
        gbc.setState(0x16a, 0x2216, 0xbd90, 0xe971, 0xe4ad, 0xb772, 0x1, 0x1);
        gbc.writeMem(0x16a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x2216);
        EXPECT(gbc.pc(), 0x16b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 01EA
        gbc.setState(0x1c24, 0x9c3d, 0xae90, 0xa8fc, 0x8aa1, 0xf1e7, 0x1, 0x1);
        gbc.writeMem(0x1c24, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9c3d);
        EXPECT(gbc.pc(), 0x1c25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 01EB
        gbc.setState(0x33de, 0xfbfc, 0x8ab0, 0x2e1e, 0x7b2e, 0x11a, 0x0, 0x1);
        gbc.writeMem(0x33de, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xfbfc);
        EXPECT(gbc.pc(), 0x33df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01ED
        gbc.setState(0x5608, 0x594b, 0x9ce0, 0x3d99, 0x405f, 0xcfbd, 0x0, 0x0);
        gbc.writeMem(0x5608, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x594b);
        EXPECT(gbc.pc(), 0x5609);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01EE
        gbc.setState(0x2067, 0x8eb7, 0xb40, 0x1d07, 0xd566, 0x9e55, 0x1, 0x1);
        gbc.writeMem(0x2067, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x8eb7);
        EXPECT(gbc.pc(), 0x2068);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01EF
        gbc.setState(0x3bc6, 0xde8d, 0x65d0, 0x32dd, 0xe0a3, 0xf887, 0x0, 0x0);
        gbc.writeMem(0x3bc6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xde8d);
        EXPECT(gbc.pc(), 0x3bc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 01F0
        gbc.setState(0x62aa, 0x37cb, 0x2620, 0x6682, 0xdc58, 0x1107, 0x1, 0x1);
        gbc.writeMem(0x62aa, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x37cb);
        EXPECT(gbc.pc(), 0x62ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 01F1
        gbc.setState(0x54e2, 0xd20b, 0xe3b0, 0xd50e, 0x19f4, 0xc721, 0x1, 0x0);
        gbc.writeMem(0x54e2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xd20b);
        EXPECT(gbc.pc(), 0x54e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 01F2
        gbc.setState(0xe4f7, 0xe6ec, 0x7e60, 0x8a2f, 0x9e5d, 0xa770, 0x1, 0x1);
        gbc.writeMem(0xe4f7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xe6ec);
        EXPECT(gbc.pc(), 0xe4f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4f7), 0x88);
        // 88 01F3
        gbc.setState(0x9532, 0xd8de, 0x5e0, 0x49a, 0xa11d, 0xe274, 0x0, 0x0);
        gbc.writeMem(0x9532, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xd8de);
        EXPECT(gbc.pc(), 0x9533);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9532), 0x88);
        // 88 01F4
        gbc.setState(0x2b12, 0x92ea, 0x1420, 0x3379, 0x8b29, 0x49c5, 0x1, 0x1);
        gbc.writeMem(0x2b12, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x92ea);
        EXPECT(gbc.pc(), 0x2b13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 01F5
        gbc.setState(0x8568, 0xa1b2, 0x39c0, 0x7063, 0xf2bf, 0x357, 0x0, 0x1);
        gbc.writeMem(0x8568, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xa1b2);
        EXPECT(gbc.pc(), 0x8569);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8568), 0x88);
        // 88 01F6
        gbc.setState(0x5ab4, 0xa24b, 0x2460, 0x452f, 0xec88, 0x8ac2, 0x1, 0x1);
        gbc.writeMem(0x5ab4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xa24b);
        EXPECT(gbc.pc(), 0x5ab5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 01F7
        gbc.setState(0xbddb, 0x6b43, 0x1ec0, 0xb12b, 0xe934, 0x8df9, 0x1, 0x0);
        gbc.writeMem(0xbddb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x6b43);
        EXPECT(gbc.pc(), 0xbddc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbddb), 0x88);
        // 88 01F8
        gbc.setState(0xaf4f, 0x21a5, 0x3370, 0xd564, 0xf03c, 0x9e2f, 0x0, 0x1);
        gbc.writeMem(0xaf4f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x21a5);
        EXPECT(gbc.pc(), 0xaf50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf4f), 0x88);
        // 88 01F9
        gbc.setState(0x5305, 0x470f, 0xbd0, 0x2e42, 0xc48, 0xff6b, 0x0, 0x1);
        gbc.writeMem(0x5305, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x470f);
        EXPECT(gbc.pc(), 0x5306);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01FA
        gbc.setState(0xa997, 0xb40, 0x4660, 0x9af2, 0x4539, 0x6f8c, 0x0, 0x0);
        gbc.writeMem(0xa997, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xb40);
        EXPECT(gbc.pc(), 0xa998);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa997), 0x88);
        // 88 01FB
        gbc.setState(0x465b, 0xbf9c, 0x4b70, 0x6d13, 0x3406, 0x3774, 0x1, 0x1);
        gbc.writeMem(0x465b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xbf9c);
        EXPECT(gbc.pc(), 0x465c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 01FC
        gbc.setState(0xb02e, 0x2621, 0xc7b0, 0x27d0, 0xd992, 0x3f7e, 0x0, 0x0);
        gbc.writeMem(0xb02e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x2621);
        EXPECT(gbc.pc(), 0xb02f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb02e), 0x88);
        // 88 01FD
        gbc.setState(0xea40, 0xaa4c, 0x96e0, 0x694c, 0x9a2c, 0xe0be, 0x1, 0x0);
        gbc.writeMem(0xea40, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xaa4c);
        EXPECT(gbc.pc(), 0xea41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea40), 0x88);
        // 88 01FE
        gbc.setState(0x8018, 0xbf9a, 0x1d0, 0x3dae, 0x6e13, 0x116f, 0x0, 0x0);
        gbc.writeMem(0x8018, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xbf9a);
        EXPECT(gbc.pc(), 0x8019);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8018), 0x88);
        // 88 01FF
        gbc.setState(0x83b1, 0x9c69, 0x1950, 0x38d2, 0xccdc, 0xf978, 0x0, 0x1);
        gbc.writeMem(0x83b1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x9c69);
        EXPECT(gbc.pc(), 0x83b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83b1), 0x88);
        // 88 0200
        gbc.setState(0xcac2, 0xe21a, 0xabe0, 0x21cb, 0x732e, 0x369e, 0x0, 0x0);
        gbc.writeMem(0xcac2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xe21a);
        EXPECT(gbc.pc(), 0xcac3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcac2), 0x88);
        // 88 0201
        gbc.setState(0xd3c4, 0xd5b6, 0x80, 0x69b0, 0xf178, 0xdb31, 0x1, 0x1);
        gbc.writeMem(0xd3c4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xd5b6);
        EXPECT(gbc.pc(), 0xd3c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3c4), 0x88);
        // 88 0202
        gbc.setState(0xe302, 0xdbc0, 0xdf80, 0xb1fd, 0xddf9, 0x25a9, 0x0, 0x0);
        gbc.writeMem(0xe302, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xdbc0);
        EXPECT(gbc.pc(), 0xe303);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe302), 0x88);
        // 88 0203
        gbc.setState(0xa831, 0xb61d, 0x8ca0, 0x3e82, 0xce66, 0x5b43, 0x0, 0x0);
        gbc.writeMem(0xa831, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xb61d);
        EXPECT(gbc.pc(), 0xa832);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa831), 0x88);
        // 88 0204
        gbc.setState(0x6f4e, 0x1dc6, 0xbbc0, 0x44a2, 0x5d8f, 0x16c0, 0x0, 0x0);
        gbc.writeMem(0x6f4e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x1dc6);
        EXPECT(gbc.pc(), 0x6f4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0206
        gbc.setState(0x838e, 0xe325, 0xaa90, 0x4c38, 0x784, 0x6f3b, 0x0, 0x0);
        gbc.writeMem(0x838e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xe325);
        EXPECT(gbc.pc(), 0x838f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x838e), 0x88);
        // 88 0207
        gbc.setState(0x57f5, 0x4996, 0xde20, 0x49fe, 0xe4d7, 0xa08a, 0x0, 0x0);
        gbc.writeMem(0x57f5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x4996);
        EXPECT(gbc.pc(), 0x57f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0208
        gbc.setState(0x619a, 0xb65, 0x38d0, 0x86fb, 0x9757, 0x283, 0x0, 0x0);
        gbc.writeMem(0x619a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xb65);
        EXPECT(gbc.pc(), 0x619b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0209
        gbc.setState(0xa92f, 0x2d43, 0x8000, 0x21db, 0x2f36, 0xff39, 0x1, 0x0);
        gbc.writeMem(0xa92f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x2d43);
        EXPECT(gbc.pc(), 0xa930);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa92f), 0x88);
        // 88 020A
        gbc.setState(0xc478, 0x48c3, 0xe9b0, 0xfb62, 0xdec3, 0xa4ef, 0x1, 0x1);
        gbc.writeMem(0xc478, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x48c3);
        EXPECT(gbc.pc(), 0xc479);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc478), 0x88);
        // 88 020B
        gbc.setState(0x899c, 0x76b, 0x73c0, 0x85e2, 0x89fa, 0x25f6, 0x0, 0x0);
        gbc.writeMem(0x899c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x76b);
        EXPECT(gbc.pc(), 0x899d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x899c), 0x88);
        // 88 020C
        gbc.setState(0xd83c, 0x4781, 0xec0, 0x9659, 0x86ed, 0x16f0, 0x1, 0x1);
        gbc.writeMem(0xd83c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x4781);
        EXPECT(gbc.pc(), 0xd83d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd83c), 0x88);
        // 88 020D
        gbc.setState(0xbb20, 0x397d, 0x8690, 0x2d84, 0xd2fc, 0xda60, 0x1, 0x0);
        gbc.writeMem(0xbb20, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x397d);
        EXPECT(gbc.pc(), 0xbb21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb20), 0x88);
        // 88 020E
        gbc.setState(0x6cd8, 0x7e2e, 0x6380, 0xf4, 0x81d8, 0xcdd9, 0x1, 0x0);
        gbc.writeMem(0x6cd8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x7e2e);
        EXPECT(gbc.pc(), 0x6cd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 020F
        gbc.setState(0x2a5e, 0xbb6e, 0xb750, 0x6f09, 0x8b5c, 0xba43, 0x0, 0x1);
        gbc.writeMem(0x2a5e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xbb6e);
        EXPECT(gbc.pc(), 0x2a5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0210
        gbc.setState(0x9df0, 0x63c7, 0x30d0, 0xaabe, 0xa677, 0xf3d9, 0x1, 0x1);
        gbc.writeMem(0x9df0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x63c7);
        EXPECT(gbc.pc(), 0x9df1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9df0), 0x88);
        // 88 0211
        gbc.setState(0xadfc, 0xd524, 0xea70, 0x402e, 0x7a89, 0xf0d5, 0x0, 0x1);
        gbc.writeMem(0xadfc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xd524);
        EXPECT(gbc.pc(), 0xadfd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadfc), 0x88);
        // 88 0212
        gbc.setState(0xbf07, 0x4c7e, 0x70b0, 0x5241, 0xb186, 0xad2d, 0x1, 0x0);
        gbc.writeMem(0xbf07, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x4c7e);
        EXPECT(gbc.pc(), 0xbf08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf07), 0x88);
        // 88 0214
        gbc.setState(0x8c3c, 0x3fed, 0x41e0, 0x350e, 0xaa2c, 0xbb88, 0x0, 0x1);
        gbc.writeMem(0x8c3c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x3fed);
        EXPECT(gbc.pc(), 0x8c3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c3c), 0x88);
        // 88 0215
        gbc.setState(0x75a6, 0xf7c4, 0xf020, 0x96e, 0xb58d, 0x526, 0x0, 0x0);
        gbc.writeMem(0x75a6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xf7c4);
        EXPECT(gbc.pc(), 0x75a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0216
        gbc.setState(0xbc36, 0x92a5, 0x7ed0, 0xd5f7, 0x2a00, 0xfc53, 0x0, 0x1);
        gbc.writeMem(0xbc36, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x92a5);
        EXPECT(gbc.pc(), 0xbc37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc36), 0x88);
        // 88 0217
        gbc.setState(0x9d21, 0x6e40, 0xcab0, 0x9e42, 0x13a7, 0x4c34, 0x0, 0x1);
        gbc.writeMem(0x9d21, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x6e40);
        EXPECT(gbc.pc(), 0x9d22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d21), 0x88);
        // 88 0218
        gbc.setState(0xc0, 0x25c9, 0x650, 0xaa4, 0xeafb, 0x6487, 0x1, 0x1);
        gbc.writeMem(0xc0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x25c9);
        EXPECT(gbc.pc(), 0xc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0219
        gbc.setState(0x3595, 0x162b, 0xcce0, 0x87a4, 0x69a, 0x5650, 0x0, 0x1);
        gbc.writeMem(0x3595, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x162b);
        EXPECT(gbc.pc(), 0x3596);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 021A
        gbc.setState(0x9801, 0xd03f, 0x8d40, 0xb389, 0x7c41, 0xa0db, 0x0, 0x1);
        gbc.writeMem(0x9801, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xd03f);
        EXPECT(gbc.pc(), 0x9802);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9801), 0x88);
        // 88 021B
        gbc.setState(0xcebc, 0xc05e, 0x6900, 0x6d36, 0x96f3, 0x1e1, 0x0, 0x1);
        gbc.writeMem(0xcebc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xc05e);
        EXPECT(gbc.pc(), 0xcebd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcebc), 0x88);
        // 88 021C
        gbc.setState(0x476d, 0x44d1, 0x950, 0x8add, 0xeac1, 0x3251, 0x1, 0x0);
        gbc.writeMem(0x476d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x44d1);
        EXPECT(gbc.pc(), 0x476e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 021D
        gbc.setState(0xd026, 0x6ede, 0x6f40, 0xa4, 0xa97c, 0xf6c3, 0x0, 0x1);
        gbc.writeMem(0xd026, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x6ede);
        EXPECT(gbc.pc(), 0xd027);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd026), 0x88);
        // 88 021E
        gbc.setState(0xeff0, 0x4a31, 0xff10, 0xb91f, 0xdc8e, 0x9ee4, 0x0, 0x1);
        gbc.writeMem(0xeff0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x4a31);
        EXPECT(gbc.pc(), 0xeff1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeff0), 0x88);
        // 88 021F
        gbc.setState(0x84c3, 0xdae4, 0x35e0, 0x7f9a, 0x1598, 0x794, 0x0, 0x1);
        gbc.writeMem(0x84c3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xdae4);
        EXPECT(gbc.pc(), 0x84c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84c3), 0x88);
        // 88 0220
        gbc.setState(0xcfb, 0xf090, 0x5c90, 0x87e8, 0x8a02, 0x3c5e, 0x0, 0x0);
        gbc.writeMem(0xcfb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xf090);
        EXPECT(gbc.pc(), 0xcfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0221
        gbc.setState(0x520c, 0xbd2, 0x5230, 0xc85c, 0xefc7, 0xaf3e, 0x1, 0x0);
        gbc.writeMem(0x520c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xbd2);
        EXPECT(gbc.pc(), 0x520d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0222
        gbc.setState(0xcd75, 0x615f, 0xd310, 0x1712, 0xf72a, 0x8288, 0x0, 0x1);
        gbc.writeMem(0xcd75, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x615f);
        EXPECT(gbc.pc(), 0xcd76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd75), 0x88);
        // 88 0223
        gbc.setState(0xdd49, 0x8bd, 0x8d10, 0x6760, 0xb2cc, 0xd59a, 0x1, 0x0);
        gbc.writeMem(0xdd49, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x8bd);
        EXPECT(gbc.pc(), 0xdd4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd49), 0x88);
        // 88 0225
        gbc.setState(0x8a61, 0xc62c, 0x8f50, 0x2601, 0xda05, 0xcd04, 0x1, 0x1);
        gbc.writeMem(0x8a61, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xc62c);
        EXPECT(gbc.pc(), 0x8a62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a61), 0x88);
        // 88 0226
        gbc.setState(0xd10d, 0x36f4, 0xf60, 0x5c56, 0xb2e, 0xfddd, 0x0, 0x0);
        gbc.writeMem(0xd10d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x36f4);
        EXPECT(gbc.pc(), 0xd10e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd10d), 0x88);
        // 88 0227
        gbc.setState(0xcaf2, 0x9587, 0x44f0, 0xa2e1, 0x6873, 0xe502, 0x0, 0x1);
        gbc.writeMem(0xcaf2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x9587);
        EXPECT(gbc.pc(), 0xcaf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcaf2), 0x88);
        // 88 0228
        gbc.setState(0x3523, 0xa426, 0x22c0, 0x7c9, 0x185c, 0xcca3, 0x1, 0x1);
        gbc.writeMem(0x3523, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xa426);
        EXPECT(gbc.pc(), 0x3524);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0229
        gbc.setState(0x5985, 0x2f0c, 0x15a0, 0x6a7a, 0xf93a, 0xd3ff, 0x1, 0x1);
        gbc.writeMem(0x5985, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2f0c);
        EXPECT(gbc.pc(), 0x5986);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 022A
        gbc.setState(0x8380, 0x6e64, 0xf5d0, 0xd094, 0x73d6, 0x752, 0x1, 0x1);
        gbc.writeMem(0x8380, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x6e64);
        EXPECT(gbc.pc(), 0x8381);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8380), 0x88);
        // 88 022B
        gbc.setState(0xdafd, 0x247b, 0x7030, 0xf2f, 0x6c8a, 0x58b5, 0x0, 0x1);
        gbc.writeMem(0xdafd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x247b);
        EXPECT(gbc.pc(), 0xdafe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdafd), 0x88);
        // 88 022C
        gbc.setState(0x6cad, 0xcb21, 0x64a0, 0x6fcd, 0x131d, 0xc4fa, 0x1, 0x0);
        gbc.writeMem(0x6cad, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xcb21);
        EXPECT(gbc.pc(), 0x6cae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 022E
        gbc.setState(0xdc3, 0xe401, 0x2d70, 0xa75d, 0x6982, 0x809f, 0x0, 0x1);
        gbc.writeMem(0xdc3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xe401);
        EXPECT(gbc.pc(), 0xdc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 022F
        gbc.setState(0x53d5, 0x2a82, 0x24a0, 0x5934, 0xdbcd, 0x4b24, 0x0, 0x0);
        gbc.writeMem(0x53d5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x2a82);
        EXPECT(gbc.pc(), 0x53d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0230
        gbc.setState(0xa7f6, 0x6fee, 0x67a0, 0xcc35, 0x11ff, 0x9b43, 0x1, 0x1);
        gbc.writeMem(0xa7f6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x6fee);
        EXPECT(gbc.pc(), 0xa7f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7f6), 0x88);
        // 88 0231
        gbc.setState(0xef8f, 0xbcec, 0xb010, 0x9b5, 0x928d, 0x696e, 0x1, 0x0);
        gbc.writeMem(0xef8f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xbcec);
        EXPECT(gbc.pc(), 0xef90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef8f), 0x88);
        // 88 0232
        gbc.setState(0xcea4, 0x23f7, 0x49c0, 0x3823, 0x80b7, 0x9bfe, 0x1, 0x0);
        gbc.writeMem(0xcea4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x23f7);
        EXPECT(gbc.pc(), 0xcea5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcea4), 0x88);
        // 88 0234
        gbc.setState(0xef1f, 0x6699, 0x7360, 0x4919, 0xd14b, 0xad96, 0x0, 0x1);
        gbc.writeMem(0xef1f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x6699);
        EXPECT(gbc.pc(), 0xef20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef1f), 0x88);
        // 88 0236
        gbc.setState(0x7ce6, 0x1204, 0x21a0, 0xb8e8, 0xf2f7, 0xdd0b, 0x1, 0x0);
        gbc.writeMem(0x7ce6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x1204);
        EXPECT(gbc.pc(), 0x7ce7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0237
        gbc.setState(0x4eff, 0x75db, 0x7380, 0xafa3, 0x71f3, 0x4150, 0x0, 0x1);
        gbc.writeMem(0x4eff, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x75db);
        EXPECT(gbc.pc(), 0x4f00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0238
        gbc.setState(0xb0c5, 0x1446, 0xfbe0, 0xecfc, 0xfb44, 0x1d94, 0x0, 0x1);
        gbc.writeMem(0xb0c5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x1446);
        EXPECT(gbc.pc(), 0xb0c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0c5), 0x88);
        // 88 0239
        gbc.setState(0x232e, 0xfa02, 0xc520, 0xf6f5, 0x668c, 0xf74, 0x1, 0x0);
        gbc.writeMem(0x232e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xfa02);
        EXPECT(gbc.pc(), 0x232f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 023A
        gbc.setState(0x1b52, 0xe496, 0x91c0, 0x95a6, 0xd51d, 0x229c, 0x1, 0x0);
        gbc.writeMem(0x1b52, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xe496);
        EXPECT(gbc.pc(), 0x1b53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 023B
        gbc.setState(0x898a, 0xd10e, 0x7c30, 0x1209, 0x1414, 0x6d2f, 0x1, 0x0);
        gbc.writeMem(0x898a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xd10e);
        EXPECT(gbc.pc(), 0x898b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x898a), 0x88);
        // 88 023C
        gbc.setState(0x54cd, 0xae5c, 0xbdf0, 0x973b, 0x674d, 0xe2c9, 0x0, 0x0);
        gbc.writeMem(0x54cd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xae5c);
        EXPECT(gbc.pc(), 0x54ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 023D
        gbc.setState(0x2371, 0xebd1, 0xab00, 0x5a7, 0x2b69, 0x362d, 0x0, 0x1);
        gbc.writeMem(0x2371, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xebd1);
        EXPECT(gbc.pc(), 0x2372);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 023E
        gbc.setState(0x9c21, 0x608e, 0x2c30, 0x5fef, 0x651, 0x5e71, 0x1, 0x1);
        gbc.writeMem(0x9c21, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x608e);
        EXPECT(gbc.pc(), 0x9c22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c21), 0x88);
        // 88 0240
        gbc.setState(0x3b38, 0x7113, 0xda0, 0x6b9b, 0x4fde, 0xd383, 0x0, 0x0);
        gbc.writeMem(0x3b38, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x7113);
        EXPECT(gbc.pc(), 0x3b39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0242
        gbc.setState(0x44a0, 0xd9ef, 0x9e20, 0xa153, 0xf2af, 0xbe41, 0x0, 0x1);
        gbc.writeMem(0x44a0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xd9ef);
        EXPECT(gbc.pc(), 0x44a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0243
        gbc.setState(0x2047, 0x4883, 0x59f0, 0x539f, 0x5c06, 0x3e33, 0x1, 0x0);
        gbc.writeMem(0x2047, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x4883);
        EXPECT(gbc.pc(), 0x2048);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0244
        gbc.setState(0x3f9a, 0x2de2, 0xe180, 0x4fee, 0xd989, 0x52c, 0x0, 0x1);
        gbc.writeMem(0x3f9a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x2de2);
        EXPECT(gbc.pc(), 0x3f9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0245
        gbc.setState(0xd6f, 0xc679, 0x5fb0, 0x6320, 0xc9ff, 0x8263, 0x1, 0x0);
        gbc.writeMem(0xd6f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xc679);
        EXPECT(gbc.pc(), 0xd70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0246
        gbc.setState(0x9c8e, 0xe98f, 0x8010, 0x1ad6, 0x68bf, 0x61ef, 0x1, 0x1);
        gbc.writeMem(0x9c8e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xe98f);
        EXPECT(gbc.pc(), 0x9c8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c8e), 0x88);
        // 88 0247
        gbc.setState(0xc5a2, 0x7d9a, 0x78b0, 0xa666, 0x3628, 0xb91e, 0x0, 0x1);
        gbc.writeMem(0xc5a2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x7d9a);
        EXPECT(gbc.pc(), 0xc5a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5a2), 0x88);
        // 88 0248
        gbc.setState(0xe933, 0x1a00, 0x13a0, 0x8403, 0x89a8, 0x8a3d, 0x0, 0x0);
        gbc.writeMem(0xe933, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x1a00);
        EXPECT(gbc.pc(), 0xe934);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe933), 0x88);
        // 88 0249
        gbc.setState(0xe03e, 0x9393, 0x33c0, 0x9127, 0xddd1, 0xf5cc, 0x0, 0x0);
        gbc.writeMem(0xe03e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x9393);
        EXPECT(gbc.pc(), 0xe03f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe03e), 0x88);
        // 88 024A
        gbc.setState(0x3b24, 0x5cd9, 0x9130, 0xd653, 0xcd12, 0xaf6d, 0x0, 0x0);
        gbc.writeMem(0x3b24, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x5cd9);
        EXPECT(gbc.pc(), 0x3b25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 024B
        gbc.setState(0x4306, 0x4e2d, 0x65f0, 0x9d23, 0xfd12, 0x973, 0x0, 0x0);
        gbc.writeMem(0x4306, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x4e2d);
        EXPECT(gbc.pc(), 0x4307);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 024C
        gbc.setState(0xc318, 0xd80b, 0x9f0, 0x5688, 0xebd6, 0xe082, 0x0, 0x0);
        gbc.writeMem(0xc318, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xd80b);
        EXPECT(gbc.pc(), 0xc319);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc318), 0x88);
        // 88 024D
        gbc.setState(0xe43a, 0xbea9, 0x9370, 0xa98e, 0xbc8c, 0x551, 0x0, 0x0);
        gbc.writeMem(0xe43a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xbea9);
        EXPECT(gbc.pc(), 0xe43b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe43a), 0x88);
        // 88 024E
        gbc.setState(0x13ab, 0x472c, 0xbcb0, 0x3d43, 0x3b41, 0x70ca, 0x0, 0x0);
        gbc.writeMem(0x13ab, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x472c);
        EXPECT(gbc.pc(), 0x13ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 024F
        gbc.setState(0x9345, 0x2893, 0xe980, 0xf75b, 0x2d3a, 0xb46c, 0x0, 0x1);
        gbc.writeMem(0x9345, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x2893);
        EXPECT(gbc.pc(), 0x9346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9345), 0x88);
        // 88 0250
        gbc.setState(0x5c0, 0x6b19, 0x5d40, 0xb8f2, 0x98b2, 0xe0e5, 0x1, 0x1);
        gbc.writeMem(0x5c0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x6b19);
        EXPECT(gbc.pc(), 0x5c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0251
        gbc.setState(0xd5db, 0xd60f, 0x3730, 0xb9fc, 0xadf1, 0x9b4b, 0x0, 0x1);
        gbc.writeMem(0xd5db, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xd60f);
        EXPECT(gbc.pc(), 0xd5dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5db), 0x88);
        // 88 0252
        gbc.setState(0xa7d8, 0xf0aa, 0x7330, 0x2212, 0x467d, 0xb950, 0x1, 0x0);
        gbc.writeMem(0xa7d8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xf0aa);
        EXPECT(gbc.pc(), 0xa7d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7d8), 0x88);
        // 88 0253
        gbc.setState(0x6b0, 0xee5c, 0x2270, 0xa2a8, 0x7b2f, 0x615e, 0x0, 0x0);
        gbc.writeMem(0x6b0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xee5c);
        EXPECT(gbc.pc(), 0x6b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0254
        gbc.setState(0xac8d, 0xa457, 0x5a50, 0x787d, 0xd306, 0xbcd6, 0x0, 0x1);
        gbc.writeMem(0xac8d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xa457);
        EXPECT(gbc.pc(), 0xac8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac8d), 0x88);
        // 88 0255
        gbc.setState(0xe199, 0xc407, 0x40, 0xefa3, 0x25cc, 0x76ef, 0x0, 0x0);
        gbc.writeMem(0xe199, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xc407);
        EXPECT(gbc.pc(), 0xe19a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe199), 0x88);
        // 88 0256
        gbc.setState(0x6ead, 0x7c48, 0x8070, 0x8bd, 0xd21c, 0x5833, 0x1, 0x1);
        gbc.writeMem(0x6ead, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x7c48);
        EXPECT(gbc.pc(), 0x6eae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0257
        gbc.setState(0x8317, 0xf2e, 0xa490, 0x1542, 0x687d, 0xb3e4, 0x0, 0x0);
        gbc.writeMem(0x8317, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xf2e);
        EXPECT(gbc.pc(), 0x8318);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8317), 0x88);
        // 88 0258
        gbc.setState(0xd70c, 0xaf8c, 0x3cf0, 0xf87f, 0xa51d, 0xf114, 0x0, 0x1);
        gbc.writeMem(0xd70c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xaf8c);
        EXPECT(gbc.pc(), 0xd70d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd70c), 0x88);
        // 88 0259
        gbc.setState(0xdd87, 0x1f8e, 0x5900, 0xd210, 0x949b, 0x6285, 0x0, 0x1);
        gbc.writeMem(0xdd87, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x1f8e);
        EXPECT(gbc.pc(), 0xdd88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd87), 0x88);
        // 88 025A
        gbc.setState(0x54ef, 0xec66, 0xe660, 0x7228, 0x3cb7, 0x1275, 0x1, 0x0);
        gbc.writeMem(0x54ef, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xec66);
        EXPECT(gbc.pc(), 0x54f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 025B
        gbc.setState(0x82ca, 0xd46a, 0x6aa0, 0x1af1, 0x4ebd, 0x782c, 0x0, 0x0);
        gbc.writeMem(0x82ca, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xd46a);
        EXPECT(gbc.pc(), 0x82cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82ca), 0x88);
        // 88 025C
        gbc.setState(0x3ea6, 0xaff3, 0x8020, 0x75fe, 0x89f4, 0xd8f, 0x0, 0x0);
        gbc.writeMem(0x3ea6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xaff3);
        EXPECT(gbc.pc(), 0x3ea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 025D
        gbc.setState(0x9855, 0x48d5, 0xc640, 0xdfea, 0x1eeb, 0x8073, 0x0, 0x0);
        gbc.writeMem(0x9855, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x48d5);
        EXPECT(gbc.pc(), 0x9856);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9855), 0x88);
        // 88 025E
        gbc.setState(0x1661, 0x9c4e, 0xf6d0, 0x4767, 0x2d0f, 0xd8e5, 0x1, 0x0);
        gbc.writeMem(0x1661, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x9c4e);
        EXPECT(gbc.pc(), 0x1662);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 025F
        gbc.setState(0x2992, 0xc6a8, 0xfbd0, 0x25ff, 0x48d2, 0x8610, 0x1, 0x0);
        gbc.writeMem(0x2992, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xc6a8);
        EXPECT(gbc.pc(), 0x2993);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0261
        gbc.setState(0xc73f, 0xa320, 0x9200, 0x2090, 0xd29c, 0x5231, 0x1, 0x0);
        gbc.writeMem(0xc73f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xa320);
        EXPECT(gbc.pc(), 0xc740);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc73f), 0x88);
        // 88 0262
        gbc.setState(0xc549, 0x937f, 0xac80, 0x78a9, 0xa028, 0x952c, 0x0, 0x0);
        gbc.writeMem(0xc549, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x937f);
        EXPECT(gbc.pc(), 0xc54a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc549), 0x88);
        // 88 0263
        gbc.setState(0xbda9, 0xaba8, 0x2220, 0x6e31, 0xb649, 0x89d9, 0x1, 0x0);
        gbc.writeMem(0xbda9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xaba8);
        EXPECT(gbc.pc(), 0xbdaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbda9), 0x88);
        // 88 0264
        gbc.setState(0xc589, 0x8ecb, 0x0, 0xe70e, 0x5461, 0x2dc5, 0x1, 0x0);
        gbc.writeMem(0xc589, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x8ecb);
        EXPECT(gbc.pc(), 0xc58a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc589), 0x88);
        // 88 0265
        gbc.setState(0xbfce, 0x9f9b, 0xb220, 0x91c8, 0x72c7, 0xa37f, 0x1, 0x1);
        gbc.writeMem(0xbfce, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x9f9b);
        EXPECT(gbc.pc(), 0xbfcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfce), 0x88);
        // 88 0266
        gbc.setState(0xd76f, 0x195b, 0xba50, 0x755c, 0x494c, 0x65a5, 0x0, 0x0);
        gbc.writeMem(0xd76f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x195b);
        EXPECT(gbc.pc(), 0xd770);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd76f), 0x88);
        // 88 0267
        gbc.setState(0x39a1, 0x23c1, 0xbe20, 0xa51a, 0x68f5, 0x6e0f, 0x0, 0x1);
        gbc.writeMem(0x39a1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x23c1);
        EXPECT(gbc.pc(), 0x39a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0268
        gbc.setState(0xb468, 0x6eb2, 0x4f50, 0x98c, 0xa497, 0x4d07, 0x0, 0x1);
        gbc.writeMem(0xb468, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x6eb2);
        EXPECT(gbc.pc(), 0xb469);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb468), 0x88);
        // 88 026A
        gbc.setState(0x170b, 0xdb8b, 0x2990, 0x2a65, 0xfc4, 0x874a, 0x0, 0x0);
        gbc.writeMem(0x170b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xdb8b);
        EXPECT(gbc.pc(), 0x170c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 026B
        gbc.setState(0xd915, 0xd171, 0xd910, 0x700e, 0x4e2b, 0x8f1b, 0x0, 0x1);
        gbc.writeMem(0xd915, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xd171);
        EXPECT(gbc.pc(), 0xd916);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd915), 0x88);
        // 88 026C
        gbc.setState(0x8954, 0xfc7a, 0x88b0, 0xa8f, 0xc548, 0x58ec, 0x1, 0x0);
        gbc.writeMem(0x8954, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xfc7a);
        EXPECT(gbc.pc(), 0x8955);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8954), 0x88);
        // 88 026D
        gbc.setState(0xea8, 0xdcf2, 0x16d0, 0xce3f, 0x2c0c, 0xc58f, 0x0, 0x1);
        gbc.writeMem(0xea8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xdcf2);
        EXPECT(gbc.pc(), 0xea9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 026E
        gbc.setState(0xa738, 0x10ee, 0x5810, 0x1524, 0xc9ec, 0x8ad7, 0x1, 0x0);
        gbc.writeMem(0xa738, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x10ee);
        EXPECT(gbc.pc(), 0xa739);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa738), 0x88);
        // 88 026F
        gbc.setState(0x95d6, 0xf3d7, 0x1e40, 0xcd5a, 0xc4bb, 0xb743, 0x1, 0x0);
        gbc.writeMem(0x95d6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xf3d7);
        EXPECT(gbc.pc(), 0x95d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95d6), 0x88);
        // 88 0270
        gbc.setState(0xb912, 0x3d4e, 0x6420, 0x1187, 0xafe6, 0xa8f4, 0x1, 0x0);
        gbc.writeMem(0xb912, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x3d4e);
        EXPECT(gbc.pc(), 0xb913);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb912), 0x88);
        // 88 0271
        gbc.setState(0xaabd, 0xfa0c, 0x1ca0, 0xdddd, 0xa1c8, 0x6aac, 0x0, 0x1);
        gbc.writeMem(0xaabd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xfa0c);
        EXPECT(gbc.pc(), 0xaabe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaabd), 0x88);
        // 88 0272
        gbc.setState(0xe356, 0xd22d, 0xe30, 0x4de9, 0xc63d, 0xe98e, 0x0, 0x0);
        gbc.writeMem(0xe356, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xd22d);
        EXPECT(gbc.pc(), 0xe357);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe356), 0x88);
        // 88 0273
        gbc.setState(0xe126, 0x60b9, 0x9240, 0x36c2, 0xb78e, 0x4f03, 0x0, 0x0);
        gbc.writeMem(0xe126, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x60b9);
        EXPECT(gbc.pc(), 0xe127);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe126), 0x88);
        // 88 0274
        gbc.setState(0xd4f7, 0x5641, 0xfd50, 0xb97d, 0x99d0, 0x83ec, 0x1, 0x1);
        gbc.writeMem(0xd4f7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x5641);
        EXPECT(gbc.pc(), 0xd4f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4f7), 0x88);
        // 88 0275
        gbc.setState(0x7889, 0xf15a, 0x9000, 0xe80a, 0xd258, 0xe0e, 0x1, 0x1);
        gbc.writeMem(0x7889, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xf15a);
        EXPECT(gbc.pc(), 0x788a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0276
        gbc.setState(0xc509, 0xf1e2, 0x340, 0x2c10, 0x8287, 0x14e7, 0x1, 0x0);
        gbc.writeMem(0xc509, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xf1e2);
        EXPECT(gbc.pc(), 0xc50a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc509), 0x88);
        // 88 0277
        gbc.setState(0xa85b, 0x4f78, 0xa7b0, 0x984d, 0xdd8b, 0x9158, 0x1, 0x1);
        gbc.writeMem(0xa85b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x4f78);
        EXPECT(gbc.pc(), 0xa85c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa85b), 0x88);
        // 88 0278
        gbc.setState(0xb40b, 0x9859, 0xfc00, 0xf230, 0x7642, 0x3ef1, 0x1, 0x0);
        gbc.writeMem(0xb40b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x9859);
        EXPECT(gbc.pc(), 0xb40c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb40b), 0x88);
        // 88 0279
        gbc.setState(0x96ed, 0xe49a, 0x6140, 0x7a78, 0xe42c, 0x2b27, 0x0, 0x1);
        gbc.writeMem(0x96ed, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xe49a);
        EXPECT(gbc.pc(), 0x96ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96ed), 0x88);
        // 88 027A
        gbc.setState(0x92d4, 0x9a39, 0xeef0, 0xabf0, 0x6f83, 0xf6e8, 0x1, 0x1);
        gbc.writeMem(0x92d4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x9a39);
        EXPECT(gbc.pc(), 0x92d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92d4), 0x88);
        // 88 027B
        gbc.setState(0x1378, 0x3a2, 0x91d0, 0xf244, 0xfb25, 0x464b, 0x0, 0x0);
        gbc.writeMem(0x1378, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x3a2);
        EXPECT(gbc.pc(), 0x1379);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 027C
        gbc.setState(0x7f0c, 0xd543, 0xf610, 0x9e5c, 0xd5ca, 0x95fd, 0x0, 0x0);
        gbc.writeMem(0x7f0c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xd543);
        EXPECT(gbc.pc(), 0x7f0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 027D
        gbc.setState(0x180d, 0x51c0, 0x3430, 0x114e, 0x1e0e, 0xfeae, 0x0, 0x1);
        gbc.writeMem(0x180d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x51c0);
        EXPECT(gbc.pc(), 0x180e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 027E
        gbc.setState(0x181f, 0x2a5f, 0xd5e0, 0xd32d, 0x9fde, 0x5567, 0x1, 0x1);
        gbc.writeMem(0x181f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x2a5f);
        EXPECT(gbc.pc(), 0x1820);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 027F
        gbc.setState(0x9344, 0x6bc3, 0x6420, 0xbe58, 0x2802, 0x6784, 0x0, 0x0);
        gbc.writeMem(0x9344, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x6bc3);
        EXPECT(gbc.pc(), 0x9345);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9344), 0x88);
        // 88 0280
        gbc.setState(0x1317, 0x3433, 0x740, 0x86e1, 0xd0b5, 0x65be, 0x1, 0x0);
        gbc.writeMem(0x1317, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x3433);
        EXPECT(gbc.pc(), 0x1318);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0281
        gbc.setState(0x7301, 0xfee8, 0x3400, 0xa75d, 0xd0c2, 0xb12b, 0x0, 0x1);
        gbc.writeMem(0x7301, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xfee8);
        EXPECT(gbc.pc(), 0x7302);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0282
        gbc.setState(0x8b7b, 0x661c, 0x9000, 0xfe87, 0x402f, 0x8133, 0x1, 0x0);
        gbc.writeMem(0x8b7b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x661c);
        EXPECT(gbc.pc(), 0x8b7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b7b), 0x88);
        // 88 0283
        gbc.setState(0x5f75, 0xa0bf, 0x54d0, 0x57fb, 0x683d, 0x3dcb, 0x1, 0x0);
        gbc.writeMem(0x5f75, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xa0bf);
        EXPECT(gbc.pc(), 0x5f76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0284
        gbc.setState(0xca2, 0x3daa, 0xda70, 0x852a, 0x7ced, 0x51d7, 0x1, 0x1);
        gbc.writeMem(0xca2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x3daa);
        EXPECT(gbc.pc(), 0xca3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0286
        gbc.setState(0x2560, 0xd4a, 0xb890, 0x8476, 0x2ec0, 0x1168, 0x1, 0x1);
        gbc.writeMem(0x2560, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xd4a);
        EXPECT(gbc.pc(), 0x2561);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0287
        gbc.setState(0xc95b, 0x33bd, 0xb6c0, 0xa0e9, 0x4fa, 0xf2a2, 0x0, 0x1);
        gbc.writeMem(0xc95b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x33bd);
        EXPECT(gbc.pc(), 0xc95c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc95b), 0x88);
        // 88 0289
        gbc.setState(0x6ef7, 0x134b, 0x23a0, 0x1a91, 0xbea8, 0x516f, 0x1, 0x1);
        gbc.writeMem(0x6ef7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x134b);
        EXPECT(gbc.pc(), 0x6ef8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 028A
        gbc.setState(0xb7e3, 0x1c1a, 0x8b00, 0xdd54, 0xc7da, 0xf7a4, 0x0, 0x0);
        gbc.writeMem(0xb7e3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x1c1a);
        EXPECT(gbc.pc(), 0xb7e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7e3), 0x88);
        // 88 028B
        gbc.setState(0xb59d, 0x861e, 0x5b50, 0x446e, 0x4cd9, 0xaa91, 0x0, 0x1);
        gbc.writeMem(0xb59d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x861e);
        EXPECT(gbc.pc(), 0xb59e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb59d), 0x88);
        // 88 028C
        gbc.setState(0x6d7b, 0xaa2b, 0x5c30, 0xb1b2, 0xcac2, 0x87a7, 0x1, 0x1);
        gbc.writeMem(0x6d7b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xaa2b);
        EXPECT(gbc.pc(), 0x6d7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 028D
        gbc.setState(0xe186, 0x4fe1, 0xe280, 0x3b6b, 0x281, 0x19fb, 0x1, 0x1);
        gbc.writeMem(0xe186, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x4fe1);
        EXPECT(gbc.pc(), 0xe187);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe186), 0x88);
        // 88 028E
        gbc.setState(0x5d93, 0xd03f, 0x9a40, 0xd7d6, 0x874b, 0xdd94, 0x0, 0x1);
        gbc.writeMem(0x5d93, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xd03f);
        EXPECT(gbc.pc(), 0x5d94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 028F
        gbc.setState(0xdff9, 0x7aff, 0x5530, 0xc4f7, 0xa6cc, 0xe504, 0x1, 0x1);
        gbc.writeMem(0xdff9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x7aff);
        EXPECT(gbc.pc(), 0xdffa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdff9), 0x88);
        // 88 0290
        gbc.setState(0x406b, 0xf0a7, 0x40, 0xc702, 0xc3ff, 0x37cf, 0x1, 0x0);
        gbc.writeMem(0x406b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xf0a7);
        EXPECT(gbc.pc(), 0x406c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0292
        gbc.setState(0x9f94, 0xe476, 0xbf40, 0x5ca6, 0x2260, 0x34f7, 0x1, 0x1);
        gbc.writeMem(0x9f94, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xe476);
        EXPECT(gbc.pc(), 0x9f95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f94), 0x88);
        // 88 0294
        gbc.setState(0xe17a, 0x9c35, 0xdd90, 0x830e, 0xa5ec, 0x8c65, 0x0, 0x1);
        gbc.writeMem(0xe17a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x9c35);
        EXPECT(gbc.pc(), 0xe17b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe17a), 0x88);
        // 88 0295
        gbc.setState(0x73fd, 0x9e16, 0xe9b0, 0x75b6, 0x3739, 0x732a, 0x1, 0x0);
        gbc.writeMem(0x73fd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x9e16);
        EXPECT(gbc.pc(), 0x73fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0296
        gbc.setState(0x98d3, 0xbee0, 0x58a0, 0x52ba, 0x98f9, 0x284f, 0x1, 0x0);
        gbc.writeMem(0x98d3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xbee0);
        EXPECT(gbc.pc(), 0x98d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98d3), 0x88);
        // 88 0297
        gbc.setState(0xdd3f, 0x34a6, 0xcc20, 0xefd1, 0xf219, 0x1bbe, 0x0, 0x1);
        gbc.writeMem(0xdd3f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x34a6);
        EXPECT(gbc.pc(), 0xdd40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd3f), 0x88);
        // 88 0298
        gbc.setState(0x1066, 0x1e46, 0xf120, 0x2f4a, 0x119b, 0xede4, 0x0, 0x0);
        gbc.writeMem(0x1066, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x1e46);
        EXPECT(gbc.pc(), 0x1067);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0299
        gbc.setState(0x7c20, 0xc8d0, 0xcae0, 0xb61, 0x2030, 0x39fb, 0x1, 0x0);
        gbc.writeMem(0x7c20, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xc8d0);
        EXPECT(gbc.pc(), 0x7c21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 029A
        gbc.setState(0xe0dc, 0x40d2, 0x1850, 0x7b19, 0xf648, 0x4a07, 0x1, 0x1);
        gbc.writeMem(0xe0dc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x40d2);
        EXPECT(gbc.pc(), 0xe0dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0dc), 0x88);
        // 88 029B
        gbc.setState(0xb52d, 0x85a0, 0x7000, 0x483e, 0x339e, 0x68c3, 0x0, 0x1);
        gbc.writeMem(0xb52d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x85a0);
        EXPECT(gbc.pc(), 0xb52e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb52d), 0x88);
        // 88 029C
        gbc.setState(0x17fe, 0x97a0, 0x4350, 0x5a9b, 0x1046, 0x6c90, 0x1, 0x1);
        gbc.writeMem(0x17fe, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x97a0);
        EXPECT(gbc.pc(), 0x17ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 029D
        gbc.setState(0xeb58, 0xcd8b, 0xeaf0, 0xa7de, 0x7b78, 0xcc23, 0x1, 0x1);
        gbc.writeMem(0xeb58, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xcd8b);
        EXPECT(gbc.pc(), 0xeb59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb58), 0x88);
        // 88 029E
        gbc.setState(0x8977, 0x5adc, 0xa3d0, 0xa757, 0x745d, 0xb086, 0x0, 0x1);
        gbc.writeMem(0x8977, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x5adc);
        EXPECT(gbc.pc(), 0x8978);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8977), 0x88);
        // 88 029F
        gbc.setState(0x1936, 0x2a3e, 0xf410, 0x300, 0xfb87, 0xfdc9, 0x1, 0x1);
        gbc.writeMem(0x1936, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x2a3e);
        EXPECT(gbc.pc(), 0x1937);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 02A0
        gbc.setState(0xb84a, 0xc0c8, 0xbd20, 0x17f8, 0xe7b8, 0x6fa, 0x1, 0x1);
        gbc.writeMem(0xb84a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xc0c8);
        EXPECT(gbc.pc(), 0xb84b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb84a), 0x88);
        // 88 02A2
        gbc.setState(0xb601, 0x8ba3, 0x9e20, 0xf40a, 0x6d4a, 0x98d3, 0x1, 0x0);
        gbc.writeMem(0xb601, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x8ba3);
        EXPECT(gbc.pc(), 0xb602);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb601), 0x88);
        // 88 02A3
        gbc.setState(0x44bc, 0x8eb7, 0x6ad0, 0x5595, 0xf41d, 0xe283, 0x0, 0x1);
        gbc.writeMem(0x44bc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x8eb7);
        EXPECT(gbc.pc(), 0x44bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 02A4
        gbc.setState(0x4409, 0xb4e2, 0xeb00, 0x195e, 0x7bfa, 0x4659, 0x1, 0x1);
        gbc.writeMem(0x4409, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xb4e2);
        EXPECT(gbc.pc(), 0x440a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 02A5
        gbc.setState(0x44e5, 0x595c, 0xe8d0, 0x8465, 0x5e87, 0xa906, 0x0, 0x0);
        gbc.writeMem(0x44e5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x595c);
        EXPECT(gbc.pc(), 0x44e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 02A6
        gbc.setState(0x85b1, 0x5380, 0xbf90, 0xd941, 0x4168, 0x7c1c, 0x0, 0x0);
        gbc.writeMem(0x85b1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x5380);
        EXPECT(gbc.pc(), 0x85b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85b1), 0x88);
        // 88 02A7
        gbc.setState(0xef16, 0x848f, 0x5b20, 0xa559, 0x889e, 0xe308, 0x1, 0x0);
        gbc.writeMem(0xef16, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x848f);
        EXPECT(gbc.pc(), 0xef17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef16), 0x88);
        // 88 02A8
        gbc.setState(0xb3ce, 0xe8cd, 0x8fd0, 0xfe18, 0xb52e, 0xad9e, 0x0, 0x0);
        gbc.writeMem(0xb3ce, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xe8cd);
        EXPECT(gbc.pc(), 0xb3cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3ce), 0x88);
        // 88 02A9
        gbc.setState(0xb395, 0x4626, 0x8ff0, 0x6fc, 0x304f, 0xda7b, 0x0, 0x1);
        gbc.writeMem(0xb395, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x4626);
        EXPECT(gbc.pc(), 0xb396);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb395), 0x88);
        // 88 02AA
        gbc.setState(0xc125, 0x3bd7, 0x290, 0x43c6, 0xb2d9, 0x2dc1, 0x1, 0x0);
        gbc.writeMem(0xc125, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x3bd7);
        EXPECT(gbc.pc(), 0xc126);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc125), 0x88);
        // 88 02AB
        gbc.setState(0x411b, 0xcda4, 0x33f0, 0x7fd, 0x75bd, 0xc29d, 0x1, 0x1);
        gbc.writeMem(0x411b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xcda4);
        EXPECT(gbc.pc(), 0x411c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 02AC
        gbc.setState(0x1b81, 0x489e, 0xb580, 0xd390, 0x26e1, 0x6f7b, 0x0, 0x0);
        gbc.writeMem(0x1b81, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x489e);
        EXPECT(gbc.pc(), 0x1b82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 02AD
        gbc.setState(0xe0ca, 0xbdf3, 0x9da0, 0x7f37, 0x50c7, 0x419f, 0x1, 0x0);
        gbc.writeMem(0xe0ca, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xbdf3);
        EXPECT(gbc.pc(), 0xe0cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0ca), 0x88);
        // 88 02AE
        gbc.setState(0x609, 0xed71, 0xba40, 0xe1a, 0x553b, 0xf571, 0x1, 0x0);
        gbc.writeMem(0x609, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xed71);
        EXPECT(gbc.pc(), 0x60a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 02AF
        gbc.setState(0x8676, 0x6640, 0x7fd0, 0xcc16, 0xd31f, 0x673e, 0x0, 0x1);
        gbc.writeMem(0x8676, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x6640);
        EXPECT(gbc.pc(), 0x8677);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8676), 0x88);
        // 88 02B0
        gbc.setState(0x783c, 0xe5, 0x96c0, 0x31fd, 0xfd1a, 0x8700, 0x1, 0x1);
        gbc.writeMem(0x783c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xe5);
        EXPECT(gbc.pc(), 0x783d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 02B1
        gbc.setState(0xed6d, 0xd791, 0x7980, 0x95e9, 0xc7fd, 0x340d, 0x1, 0x1);
        gbc.writeMem(0xed6d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xd791);
        EXPECT(gbc.pc(), 0xed6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed6d), 0x88);
        // 88 02B3
        gbc.setState(0x7866, 0x9e34, 0x3ea0, 0x98e, 0xfa02, 0x1907, 0x1, 0x1);
        gbc.writeMem(0x7866, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x9e34);
        EXPECT(gbc.pc(), 0x7867);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 02B4
        gbc.setState(0xb247, 0x9461, 0xe2e0, 0x43fa, 0xab66, 0xeda1, 0x0, 0x0);
        gbc.writeMem(0xb247, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x9461);
        EXPECT(gbc.pc(), 0xb248);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb247), 0x88);
        // 88 02B5
        gbc.setState(0xb9ed, 0x4815, 0x4f20, 0x38f7, 0xef8b, 0xa315, 0x1, 0x1);
        gbc.writeMem(0xb9ed, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x4815);
        EXPECT(gbc.pc(), 0xb9ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9ed), 0x88);
        // 88 02B6
        gbc.setState(0xbb7d, 0x8197, 0x28f0, 0x7934, 0x4be7, 0x6566, 0x1, 0x1);
        gbc.writeMem(0xbb7d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x8197);
        EXPECT(gbc.pc(), 0xbb7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb7d), 0x88);
        // 88 02B7
        gbc.setState(0x7012, 0x6e25, 0xfe00, 0xfd42, 0x8d4, 0x8744, 0x0, 0x0);
        gbc.writeMem(0x7012, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x6e25);
        EXPECT(gbc.pc(), 0x7013);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 02B8
        gbc.setState(0x53f1, 0x24e, 0x7ba0, 0x2aec, 0xe552, 0xf5dd, 0x1, 0x1);
        gbc.writeMem(0x53f1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x24e);
        EXPECT(gbc.pc(), 0x53f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 02B9
        gbc.setState(0xa198, 0xe924, 0xf90, 0x6e29, 0xeee6, 0xfa64, 0x0, 0x1);
        gbc.writeMem(0xa198, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xe924);
        EXPECT(gbc.pc(), 0xa199);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa198), 0x88);
        // 88 02BA
        gbc.setState(0x5bbe, 0xb0f2, 0xecf0, 0x966b, 0x5aea, 0x70b4, 0x1, 0x0);
        gbc.writeMem(0x5bbe, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xb0f2);
        EXPECT(gbc.pc(), 0x5bbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 02BB
        gbc.setState(0x65a6, 0xd67c, 0x2c20, 0x1bbb, 0x9a6b, 0x8939, 0x0, 0x0);
        gbc.writeMem(0x65a6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xd67c);
        EXPECT(gbc.pc(), 0x65a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 02BC
        gbc.setState(0x8bd7, 0x8edc, 0x8940, 0x80d6, 0x4dcb, 0x423b, 0x0, 0x0);
        gbc.writeMem(0x8bd7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8edc);
        EXPECT(gbc.pc(), 0x8bd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bd7), 0x88);
        // 88 02BD
        gbc.setState(0x37d3, 0x12b4, 0x5670, 0x7911, 0xbb4c, 0x43cf, 0x1, 0x0);
        gbc.writeMem(0x37d3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x12b4);
        EXPECT(gbc.pc(), 0x37d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 02BE
        gbc.setState(0x55b9, 0x4809, 0xce60, 0xabaa, 0x91a1, 0x8759, 0x0, 0x0);
        gbc.writeMem(0x55b9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x4809);
        EXPECT(gbc.pc(), 0x55ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 02BF
        gbc.setState(0x99de, 0x14f8, 0xb510, 0x3497, 0x30e, 0x8960, 0x0, 0x1);
        gbc.writeMem(0x99de, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x14f8);
        EXPECT(gbc.pc(), 0x99df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99de), 0x88);
        // 88 02C1
        gbc.setState(0xba95, 0xacb0, 0x5850, 0x76fa, 0xc877, 0x6a6e, 0x1, 0x1);
        gbc.writeMem(0xba95, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xacb0);
        EXPECT(gbc.pc(), 0xba96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba95), 0x88);
        // 88 02C2
        gbc.setState(0x8fa2, 0x17ce, 0xcbf0, 0xd87a, 0x8263, 0xcdf7, 0x1, 0x1);
        gbc.writeMem(0x8fa2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x17ce);
        EXPECT(gbc.pc(), 0x8fa3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fa2), 0x88);
        // 88 02C3
        gbc.setState(0x1f29, 0xdb24, 0xce70, 0xbfb9, 0x9fef, 0x328d, 0x1, 0x0);
        gbc.writeMem(0x1f29, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xdb24);
        EXPECT(gbc.pc(), 0x1f2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 02C4
        gbc.setState(0x683, 0xe56d, 0x7fa0, 0xcbd1, 0x2714, 0xbae8, 0x0, 0x0);
        gbc.writeMem(0x683, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xe56d);
        EXPECT(gbc.pc(), 0x684);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 02C5
        gbc.setState(0x5cf6, 0xf289, 0x5d30, 0xb706, 0x9f0e, 0xe786, 0x1, 0x0);
        gbc.writeMem(0x5cf6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xf289);
        EXPECT(gbc.pc(), 0x5cf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 02C6
        gbc.setState(0xb9fd, 0xbe36, 0x7280, 0x2850, 0xb8a0, 0x73a, 0x1, 0x1);
        gbc.writeMem(0xb9fd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xbe36);
        EXPECT(gbc.pc(), 0xb9fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9fd), 0x88);
        // 88 02C7
        gbc.setState(0xb19a, 0x1d81, 0x9060, 0x5e02, 0x9fc1, 0xeb9f, 0x1, 0x0);
        gbc.writeMem(0xb19a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x1d81);
        EXPECT(gbc.pc(), 0xb19b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb19a), 0x88);
        // 88 02C8
        gbc.setState(0x3e4c, 0x996e, 0x9550, 0xf06, 0xcef2, 0x47d1, 0x0, 0x0);
        gbc.writeMem(0x3e4c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x996e);
        EXPECT(gbc.pc(), 0x3e4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 02C9
        gbc.setState(0x2d25, 0x1fce, 0x4fe0, 0x992d, 0xeb99, 0xb2ae, 0x1, 0x1);
        gbc.writeMem(0x2d25, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x1fce);
        EXPECT(gbc.pc(), 0x2d26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 02CA
        gbc.setState(0x49a9, 0xf64b, 0xdc00, 0x4fd3, 0xc40b, 0x931c, 0x0, 0x1);
        gbc.writeMem(0x49a9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xf64b);
        EXPECT(gbc.pc(), 0x49aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 02CB
        gbc.setState(0xcc12, 0x6692, 0xc2c0, 0x5ec0, 0x9193, 0x7bcf, 0x1, 0x1);
        gbc.writeMem(0xcc12, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x6692);
        EXPECT(gbc.pc(), 0xcc13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc12), 0x88);
        // 88 02CD
        gbc.setState(0xa889, 0xa093, 0x4600, 0x73ea, 0x690d, 0x1937, 0x1, 0x0);
        gbc.writeMem(0xa889, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xa093);
        EXPECT(gbc.pc(), 0xa88a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa889), 0x88);
        // 88 02CE
        gbc.setState(0x4133, 0x936d, 0x7ce0, 0x8821, 0xf020, 0xe8f8, 0x1, 0x1);
        gbc.writeMem(0x4133, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x936d);
        EXPECT(gbc.pc(), 0x4134);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 02CF
        gbc.setState(0xaa23, 0x156f, 0x3020, 0x87d4, 0x889a, 0x706a, 0x0, 0x0);
        gbc.writeMem(0xaa23, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x156f);
        EXPECT(gbc.pc(), 0xaa24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa23), 0x88);
        // 88 02D0
        gbc.setState(0xe6fa, 0x814e, 0xe0c0, 0xca04, 0xd8f7, 0xa90a, 0x0, 0x0);
        gbc.writeMem(0xe6fa, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x814e);
        EXPECT(gbc.pc(), 0xe6fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6fa), 0x88);
        // 88 02D1
        gbc.setState(0x6a39, 0xf951, 0x8640, 0x51f1, 0x595d, 0xc224, 0x0, 0x0);
        gbc.writeMem(0x6a39, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xf951);
        EXPECT(gbc.pc(), 0x6a3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 02D2
        gbc.setState(0x820a, 0x1c00, 0xaef0, 0x1cf5, 0x4803, 0xec37, 0x1, 0x1);
        gbc.writeMem(0x820a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x1c00);
        EXPECT(gbc.pc(), 0x820b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x820a), 0x88);
        // 88 02D3
        gbc.setState(0xc5ad, 0x730, 0x2ee0, 0x2aea, 0x51c, 0xad87, 0x0, 0x1);
        gbc.writeMem(0xc5ad, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x730);
        EXPECT(gbc.pc(), 0xc5ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5ad), 0x88);
        // 88 02D5
        gbc.setState(0xdf70, 0x85ce, 0x870, 0x5b1f, 0xf3a5, 0x9cd8, 0x0, 0x1);
        gbc.writeMem(0xdf70, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x85ce);
        EXPECT(gbc.pc(), 0xdf71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf70), 0x88);
        // 88 02D6
        gbc.setState(0x5523, 0xcbd2, 0x6f50, 0x58af, 0x6337, 0x9f2, 0x1, 0x0);
        gbc.writeMem(0x5523, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xcbd2);
        EXPECT(gbc.pc(), 0x5524);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 02D7
        gbc.setState(0x72d8, 0xb6ce, 0x2830, 0xb121, 0xe205, 0x6371, 0x0, 0x1);
        gbc.writeMem(0x72d8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xb6ce);
        EXPECT(gbc.pc(), 0x72d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 02D8
        gbc.setState(0x9064, 0x155c, 0x7950, 0x5d58, 0x803c, 0xddd4, 0x0, 0x1);
        gbc.writeMem(0x9064, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x155c);
        EXPECT(gbc.pc(), 0x9065);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9064), 0x88);
        // 88 02D9
        gbc.setState(0xe178, 0xa731, 0x7870, 0x1e3c, 0x978e, 0xe9a0, 0x1, 0x1);
        gbc.writeMem(0xe178, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xa731);
        EXPECT(gbc.pc(), 0xe179);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe178), 0x88);
        // 88 02DB
        gbc.setState(0xe99f, 0x211f, 0x7aa0, 0x7fb9, 0x435a, 0xe29c, 0x1, 0x1);
        gbc.writeMem(0xe99f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x211f);
        EXPECT(gbc.pc(), 0xe9a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe99f), 0x88);
        // 88 02DC
        gbc.setState(0x8ac4, 0xd7d9, 0x1580, 0xc53b, 0x9499, 0xdce2, 0x0, 0x1);
        gbc.writeMem(0x8ac4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xd7d9);
        EXPECT(gbc.pc(), 0x8ac5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ac4), 0x88);
        // 88 02DD
        gbc.setState(0x8498, 0x6510, 0xdda0, 0x5e23, 0x46ac, 0x3609, 0x1, 0x0);
        gbc.writeMem(0x8498, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x6510);
        EXPECT(gbc.pc(), 0x8499);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8498), 0x88);
        // 88 02DE
        gbc.setState(0xe049, 0x2fce, 0x42c0, 0x2cd7, 0xdfb8, 0x5898, 0x1, 0x1);
        gbc.writeMem(0xe049, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x2fce);
        EXPECT(gbc.pc(), 0xe04a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe049), 0x88);
        // 88 02DF
        gbc.setState(0x1a56, 0x87e0, 0xd9e0, 0xc70f, 0xc1bd, 0xd8, 0x0, 0x0);
        gbc.writeMem(0x1a56, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x87e0);
        EXPECT(gbc.pc(), 0x1a57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 02E0
        gbc.setState(0x6ac7, 0x6a65, 0x9370, 0x72a, 0x3fc5, 0x1b8e, 0x1, 0x1);
        gbc.writeMem(0x6ac7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x6a65);
        EXPECT(gbc.pc(), 0x6ac8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 02E1
        gbc.setState(0x879d, 0x8484, 0x76c0, 0xb5c8, 0x8d36, 0xad0a, 0x1, 0x0);
        gbc.writeMem(0x879d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x8484);
        EXPECT(gbc.pc(), 0x879e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x879d), 0x88);
        // 88 02E2
        gbc.setState(0x784f, 0x893, 0xac70, 0xe2e8, 0x8da2, 0x52f0, 0x0, 0x0);
        gbc.writeMem(0x784f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x893);
        EXPECT(gbc.pc(), 0x7850);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 02E3
        gbc.setState(0xa975, 0x547e, 0x1360, 0x93b6, 0x67e3, 0xd0d2, 0x0, 0x0);
        gbc.writeMem(0xa975, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x547e);
        EXPECT(gbc.pc(), 0xa976);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa975), 0x88);
        // 88 02E4
        gbc.setState(0x7b04, 0xbf40, 0x4450, 0x1851, 0x2456, 0x84a0, 0x0, 0x0);
        gbc.writeMem(0x7b04, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xbf40);
        EXPECT(gbc.pc(), 0x7b05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 02E5
        gbc.setState(0xb1d2, 0xa808, 0xa370, 0x99f6, 0x2837, 0xaed8, 0x1, 0x0);
        gbc.writeMem(0xb1d2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xa808);
        EXPECT(gbc.pc(), 0xb1d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1d2), 0x88);
        // 88 02E6
        gbc.setState(0xe52f, 0xa6ea, 0xd730, 0xc7f2, 0x4f09, 0xf93e, 0x0, 0x0);
        gbc.writeMem(0xe52f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xa6ea);
        EXPECT(gbc.pc(), 0xe530);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe52f), 0x88);
        // 88 02E7
        gbc.setState(0x3643, 0x60eb, 0xd610, 0xd157, 0xcf5e, 0x14fe, 0x1, 0x1);
        gbc.writeMem(0x3643, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x60eb);
        EXPECT(gbc.pc(), 0x3644);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 02E8
        gbc.setState(0xc409, 0x6281, 0x5530, 0xadd0, 0xfc68, 0x425d, 0x1, 0x1);
        gbc.writeMem(0xc409, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x6281);
        EXPECT(gbc.pc(), 0xc40a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc409), 0x88);
        // 88 02E9
        gbc.setState(0x8c81, 0xb5fd, 0x5660, 0xd318, 0xedd0, 0xa4d, 0x1, 0x0);
        gbc.writeMem(0x8c81, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xb5fd);
        EXPECT(gbc.pc(), 0x8c82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c81), 0x88);
        // 88 02EA
        gbc.setState(0x69cc, 0x4b12, 0x7320, 0x6722, 0xcce, 0xe614, 0x1, 0x0);
        gbc.writeMem(0x69cc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x4b12);
        EXPECT(gbc.pc(), 0x69cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 02EB
        gbc.setState(0xa1eb, 0x7f9f, 0xd920, 0x5c54, 0x36c6, 0xab72, 0x1, 0x1);
        gbc.writeMem(0xa1eb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x7f9f);
        EXPECT(gbc.pc(), 0xa1ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1eb), 0x88);
        // 88 02EC
        gbc.setState(0xc8f4, 0x937a, 0x2070, 0xacbc, 0x9cf9, 0x561, 0x1, 0x0);
        gbc.writeMem(0xc8f4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x937a);
        EXPECT(gbc.pc(), 0xc8f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8f4), 0x88);
        // 88 02ED
        gbc.setState(0xc9b7, 0x23c6, 0x8f00, 0xa3eb, 0xc8d7, 0xb304, 0x1, 0x0);
        gbc.writeMem(0xc9b7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x23c6);
        EXPECT(gbc.pc(), 0xc9b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9b7), 0x88);
        // 88 02EE
        gbc.setState(0x8107, 0x3ed7, 0x9060, 0x73e8, 0x9c51, 0x290f, 0x0, 0x0);
        gbc.writeMem(0x8107, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x3ed7);
        EXPECT(gbc.pc(), 0x8108);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8107), 0x88);
        // 88 02EF
        gbc.setState(0xe3f4, 0xce01, 0xc160, 0xd077, 0xea0d, 0x31f, 0x1, 0x1);
        gbc.writeMem(0xe3f4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xce01);
        EXPECT(gbc.pc(), 0xe3f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3f4), 0x88);
        // 88 02F0
        gbc.setState(0xe341, 0xd211, 0x6a30, 0x6846, 0xbaab, 0x4dd5, 0x1, 0x0);
        gbc.writeMem(0xe341, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xd211);
        EXPECT(gbc.pc(), 0xe342);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe341), 0x88);
        // 88 02F1
        gbc.setState(0xe3b9, 0xcca2, 0x27b0, 0x33e6, 0x8754, 0xcc44, 0x0, 0x0);
        gbc.writeMem(0xe3b9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xcca2);
        EXPECT(gbc.pc(), 0xe3ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3b9), 0x88);
        // 88 02F2
        gbc.setState(0xed75, 0x6c10, 0x6030, 0x3634, 0x19e0, 0x2607, 0x0, 0x0);
        gbc.writeMem(0xed75, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x6c10);
        EXPECT(gbc.pc(), 0xed76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed75), 0x88);
        // 88 02F3
        gbc.setState(0xa27, 0x2df4, 0xec50, 0xa951, 0xb8a7, 0x100b, 0x0, 0x1);
        gbc.writeMem(0xa27, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x2df4);
        EXPECT(gbc.pc(), 0xa28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 02F4
        gbc.setState(0x83ac, 0x910f, 0xb320, 0x3aed, 0x779d, 0x4202, 0x1, 0x0);
        gbc.writeMem(0x83ac, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x910f);
        EXPECT(gbc.pc(), 0x83ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83ac), 0x88);
        // 88 02F5
        gbc.setState(0x7397, 0xaba4, 0x4b90, 0x2194, 0x4c76, 0x898b, 0x1, 0x1);
        gbc.writeMem(0x7397, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xaba4);
        EXPECT(gbc.pc(), 0x7398);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 02F6
        gbc.setState(0x67fc, 0xe2a, 0x25a0, 0x1f62, 0x59f6, 0xc43e, 0x0, 0x0);
        gbc.writeMem(0x67fc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xe2a);
        EXPECT(gbc.pc(), 0x67fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 02F7
        gbc.setState(0x79e7, 0x8279, 0xaf40, 0xa05c, 0xb599, 0x11f7, 0x1, 0x1);
        gbc.writeMem(0x79e7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x8279);
        EXPECT(gbc.pc(), 0x79e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 02F8
        gbc.setState(0x12f4, 0x8245, 0xc6f0, 0x1015, 0x8d65, 0xd795, 0x1, 0x1);
        gbc.writeMem(0x12f4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x8245);
        EXPECT(gbc.pc(), 0x12f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 02F9
        gbc.setState(0x219a, 0xa4fd, 0x38d0, 0xbd84, 0xcc3b, 0x9759, 0x1, 0x0);
        gbc.writeMem(0x219a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xa4fd);
        EXPECT(gbc.pc(), 0x219b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 02FA
        gbc.setState(0xf9e, 0xa2e9, 0x1a20, 0xfa81, 0x5d74, 0x2556, 0x1, 0x1);
        gbc.writeMem(0xf9e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xa2e9);
        EXPECT(gbc.pc(), 0xf9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 02FB
        gbc.setState(0x4dbb, 0xa5c3, 0x5bf0, 0x6190, 0x18f8, 0xba39, 0x1, 0x1);
        gbc.writeMem(0x4dbb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xa5c3);
        EXPECT(gbc.pc(), 0x4dbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 02FC
        gbc.setState(0x3b72, 0xe570, 0x8eb0, 0xa70b, 0x9efd, 0x93be, 0x0, 0x1);
        gbc.writeMem(0x3b72, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xe570);
        EXPECT(gbc.pc(), 0x3b73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 02FD
        gbc.setState(0x7a01, 0x1139, 0x46b0, 0x6894, 0xf18c, 0x32e6, 0x1, 0x0);
        gbc.writeMem(0x7a01, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x1139);
        EXPECT(gbc.pc(), 0x7a02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 02FE
        gbc.setState(0x2f89, 0xad3d, 0xef60, 0x3ff, 0x5951, 0x25da, 0x1, 0x0);
        gbc.writeMem(0x2f89, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xad3d);
        EXPECT(gbc.pc(), 0x2f8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 02FF
        gbc.setState(0x7eaf, 0x1992, 0x9ed0, 0x5c92, 0x6b46, 0x2e23, 0x1, 0x1);
        gbc.writeMem(0x7eaf, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1992);
        EXPECT(gbc.pc(), 0x7eb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0300
        gbc.setState(0x6aa0, 0x9e4d, 0xf950, 0xb0b9, 0xbf9, 0xeb79, 0x0, 0x1);
        gbc.writeMem(0x6aa0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x9e4d);
        EXPECT(gbc.pc(), 0x6aa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0301
        gbc.setState(0x1227, 0xa79f, 0x24d0, 0xd5da, 0x642a, 0x609f, 0x1, 0x1);
        gbc.writeMem(0x1227, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xa79f);
        EXPECT(gbc.pc(), 0x1228);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0302
        gbc.setState(0x8c89, 0x5ae3, 0x7b0, 0x5f02, 0x3a0b, 0x6d3c, 0x1, 0x0);
        gbc.writeMem(0x8c89, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x5ae3);
        EXPECT(gbc.pc(), 0x8c8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c89), 0x88);
        // 88 0303
        gbc.setState(0x188b, 0x9d9b, 0x5ff0, 0x8ffb, 0x68e9, 0xd786, 0x0, 0x1);
        gbc.writeMem(0x188b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x9d9b);
        EXPECT(gbc.pc(), 0x188c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0304
        gbc.setState(0x215b, 0xf164, 0xa5b0, 0x59d9, 0xe9a4, 0x83fa, 0x1, 0x0);
        gbc.writeMem(0x215b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xf164);
        EXPECT(gbc.pc(), 0x215c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0305
        gbc.setState(0xba50, 0x4e07, 0xa750, 0x4780, 0x9fb, 0xdfe3, 0x0, 0x0);
        gbc.writeMem(0xba50, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x4e07);
        EXPECT(gbc.pc(), 0xba51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba50), 0x88);
        // 88 0306
        gbc.setState(0xd30, 0x60f1, 0xff60, 0xac53, 0x4ecf, 0x222c, 0x0, 0x1);
        gbc.writeMem(0xd30, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x60f1);
        EXPECT(gbc.pc(), 0xd31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0307
        gbc.setState(0x4707, 0xd439, 0xd4b0, 0x99c9, 0xd752, 0x4bc5, 0x0, 0x0);
        gbc.writeMem(0x4707, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xd439);
        EXPECT(gbc.pc(), 0x4708);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0308
        gbc.setState(0x60d2, 0x6c2d, 0x7490, 0x1aae, 0x9874, 0x27e2, 0x0, 0x1);
        gbc.writeMem(0x60d2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x6c2d);
        EXPECT(gbc.pc(), 0x60d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0309
        gbc.setState(0xe81, 0xa41f, 0xdc0, 0x89c3, 0xb9e8, 0x9189, 0x1, 0x1);
        gbc.writeMem(0xe81, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xa41f);
        EXPECT(gbc.pc(), 0xe82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 030A
        gbc.setState(0xcc4d, 0xee20, 0x65f0, 0x1b14, 0xf7d2, 0x82fe, 0x1, 0x1);
        gbc.writeMem(0xcc4d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xee20);
        EXPECT(gbc.pc(), 0xcc4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc4d), 0x88);
        // 88 030B
        gbc.setState(0x8f7e, 0xe0a4, 0xc8a0, 0xe0a5, 0x43ef, 0x2b80, 0x0, 0x0);
        gbc.writeMem(0x8f7e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xe0a4);
        EXPECT(gbc.pc(), 0x8f7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f7e), 0x88);
        // 88 030C
        gbc.setState(0x5071, 0xc0c0, 0xa3b0, 0xa273, 0x8d85, 0x9122, 0x0, 0x0);
        gbc.writeMem(0x5071, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xc0c0);
        EXPECT(gbc.pc(), 0x5072);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 030D
        gbc.setState(0x83ad, 0xcda3, 0x97f0, 0x18a2, 0x4a79, 0x4c0b, 0x1, 0x1);
        gbc.writeMem(0x83ad, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xcda3);
        EXPECT(gbc.pc(), 0x83ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83ad), 0x88);
        // 88 030E
        gbc.setState(0xd002, 0x65c3, 0xbaf0, 0xac7f, 0x38a8, 0x8665, 0x1, 0x1);
        gbc.writeMem(0xd002, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x65c3);
        EXPECT(gbc.pc(), 0xd003);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd002), 0x88);
        // 88 030F
        gbc.setState(0x16fd, 0x92e9, 0x2400, 0x8183, 0xb190, 0xd7e8, 0x1, 0x1);
        gbc.writeMem(0x16fd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x92e9);
        EXPECT(gbc.pc(), 0x16fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0310
        gbc.setState(0x1760, 0xbd41, 0xb320, 0xd467, 0x48a5, 0x87f3, 0x0, 0x1);
        gbc.writeMem(0x1760, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xbd41);
        EXPECT(gbc.pc(), 0x1761);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0311
        gbc.setState(0xd812, 0x8cfd, 0xf110, 0xebb1, 0x68bf, 0x19db, 0x1, 0x1);
        gbc.writeMem(0xd812, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x8cfd);
        EXPECT(gbc.pc(), 0xd813);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd812), 0x88);
        // 88 0312
        gbc.setState(0x7750, 0x80d2, 0x9610, 0x52fb, 0x404f, 0x9083, 0x0, 0x0);
        gbc.writeMem(0x7750, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x80d2);
        EXPECT(gbc.pc(), 0x7751);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0313
        gbc.setState(0xd0f2, 0x9643, 0x2720, 0x9050, 0x4d37, 0xf4e, 0x0, 0x0);
        gbc.writeMem(0xd0f2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x9643);
        EXPECT(gbc.pc(), 0xd0f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0f2), 0x88);
        // 88 0314
        gbc.setState(0xcf2f, 0x1380, 0x5130, 0x4f7, 0x84a6, 0x8dac, 0x1, 0x1);
        gbc.writeMem(0xcf2f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x1380);
        EXPECT(gbc.pc(), 0xcf30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf2f), 0x88);
        // 88 0315
        gbc.setState(0xa185, 0xdb5, 0x310, 0x3c51, 0x4b8, 0x89f6, 0x1, 0x1);
        gbc.writeMem(0xa185, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xdb5);
        EXPECT(gbc.pc(), 0xa186);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa185), 0x88);
        // 88 0316
        gbc.setState(0x16a3, 0x9c7a, 0xe40, 0x1f49, 0x6d3, 0xbe67, 0x1, 0x0);
        gbc.writeMem(0x16a3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x9c7a);
        EXPECT(gbc.pc(), 0x16a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0318
        gbc.setState(0xa413, 0x5dd8, 0xbdd0, 0x3d15, 0xbb99, 0xa1bf, 0x0, 0x1);
        gbc.writeMem(0xa413, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x5dd8);
        EXPECT(gbc.pc(), 0xa414);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa413), 0x88);
        // 88 0319
        gbc.setState(0x6070, 0x629a, 0x38e0, 0x35b7, 0xa8f2, 0xd516, 0x1, 0x0);
        gbc.writeMem(0x6070, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x629a);
        EXPECT(gbc.pc(), 0x6071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 031A
        gbc.setState(0x2448, 0xc542, 0xb030, 0xdd34, 0xd4f7, 0x4642, 0x1, 0x0);
        gbc.writeMem(0x2448, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xc542);
        EXPECT(gbc.pc(), 0x2449);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 031B
        gbc.setState(0x5080, 0x1dc5, 0x6690, 0x4e7e, 0x2bee, 0x6478, 0x1, 0x0);
        gbc.writeMem(0x5080, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x1dc5);
        EXPECT(gbc.pc(), 0x5081);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 031C
        gbc.setState(0x1a98, 0x28e, 0x55b0, 0xfbe0, 0xc59e, 0x3e86, 0x1, 0x0);
        gbc.writeMem(0x1a98, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x28e);
        EXPECT(gbc.pc(), 0x1a99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 031D
        gbc.setState(0x4b2c, 0xbbe3, 0x7770, 0xf13, 0xbe70, 0x43d3, 0x1, 0x1);
        gbc.writeMem(0x4b2c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xbbe3);
        EXPECT(gbc.pc(), 0x4b2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 031E
        gbc.setState(0x21fd, 0x9ccc, 0x69f0, 0x70dc, 0x1ee8, 0xd50c, 0x1, 0x0);
        gbc.writeMem(0x21fd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x9ccc);
        EXPECT(gbc.pc(), 0x21fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 031F
        gbc.setState(0x2cb, 0xc150, 0x95d0, 0x71a4, 0x5b52, 0x4d4, 0x0, 0x1);
        gbc.writeMem(0x2cb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xc150);
        EXPECT(gbc.pc(), 0x2cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0320
        gbc.setState(0xe4f8, 0xf8b9, 0x22e0, 0x140d, 0xe69b, 0x8f68, 0x0, 0x1);
        gbc.writeMem(0xe4f8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xf8b9);
        EXPECT(gbc.pc(), 0xe4f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4f8), 0x88);
        // 88 0322
        gbc.setState(0xe82c, 0xed8b, 0x2290, 0x73c, 0x97f1, 0x54b3, 0x0, 0x1);
        gbc.writeMem(0xe82c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xed8b);
        EXPECT(gbc.pc(), 0xe82d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe82c), 0x88);
        // 88 0324
        gbc.setState(0x299b, 0xc926, 0xa000, 0x1eeb, 0x2949, 0xb76d, 0x1, 0x1);
        gbc.writeMem(0x299b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xc926);
        EXPECT(gbc.pc(), 0x299c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0325
        gbc.setState(0x573d, 0xa95c, 0xf080, 0x20b9, 0x65b3, 0x4ba9, 0x1, 0x0);
        gbc.writeMem(0x573d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xa95c);
        EXPECT(gbc.pc(), 0x573e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0326
        gbc.setState(0x570a, 0x4e88, 0xb1d0, 0xcb1f, 0x8f47, 0xa8f, 0x1, 0x0);
        gbc.writeMem(0x570a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4e88);
        EXPECT(gbc.pc(), 0x570b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0327
        gbc.setState(0x3767, 0x472e, 0x5e60, 0x5e5e, 0x7707, 0xb003, 0x1, 0x1);
        gbc.writeMem(0x3767, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x472e);
        EXPECT(gbc.pc(), 0x3768);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0328
        gbc.setState(0x5c33, 0xc35b, 0xff20, 0xc423, 0xbbf8, 0xa0cc, 0x0, 0x0);
        gbc.writeMem(0x5c33, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xc35b);
        EXPECT(gbc.pc(), 0x5c34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0329
        gbc.setState(0x687c, 0x7675, 0x6900, 0xf6a9, 0x9f92, 0xc700, 0x0, 0x0);
        gbc.writeMem(0x687c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x7675);
        EXPECT(gbc.pc(), 0x687d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 032A
        gbc.setState(0xbb65, 0xbe26, 0x86e0, 0xba1b, 0x5d90, 0xf23d, 0x1, 0x1);
        gbc.writeMem(0xbb65, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xbe26);
        EXPECT(gbc.pc(), 0xbb66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb65), 0x88);
        // 88 032B
        gbc.setState(0x2451, 0x2363, 0xcd60, 0xca6d, 0x4dfc, 0x2044, 0x0, 0x1);
        gbc.writeMem(0x2451, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x2363);
        EXPECT(gbc.pc(), 0x2452);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 032C
        gbc.setState(0x4abc, 0xa0cd, 0xf410, 0x350, 0x852e, 0xb8eb, 0x1, 0x0);
        gbc.writeMem(0x4abc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xa0cd);
        EXPECT(gbc.pc(), 0x4abd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 032D
        gbc.setState(0x7ca7, 0x9524, 0x3fa0, 0x73ed, 0xdb9f, 0xa1af, 0x1, 0x1);
        gbc.writeMem(0x7ca7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x9524);
        EXPECT(gbc.pc(), 0x7ca8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 032E
        gbc.setState(0xeffb, 0x2ddf, 0x6000, 0xab44, 0x5eae, 0x3e5f, 0x1, 0x1);
        gbc.writeMem(0xeffb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x2ddf);
        EXPECT(gbc.pc(), 0xeffc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeffb), 0x88);
        // 88 032F
        gbc.setState(0x41da, 0x7fa5, 0x6ae0, 0xa95f, 0xd35d, 0xfab2, 0x1, 0x1);
        gbc.writeMem(0x41da, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x7fa5);
        EXPECT(gbc.pc(), 0x41db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0330
        gbc.setState(0xb51b, 0x1bdf, 0xe230, 0x70f5, 0x483a, 0x50e2, 0x0, 0x1);
        gbc.writeMem(0xb51b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x1bdf);
        EXPECT(gbc.pc(), 0xb51c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb51b), 0x88);
        // 88 0331
        gbc.setState(0x6b03, 0xf6d7, 0x4c10, 0xc31e, 0x8583, 0x9aae, 0x1, 0x0);
        gbc.writeMem(0x6b03, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xf6d7);
        EXPECT(gbc.pc(), 0x6b04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0332
        gbc.setState(0xebc7, 0x1174, 0x20a0, 0xdd95, 0xa1dd, 0x408a, 0x0, 0x0);
        gbc.writeMem(0xebc7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x1174);
        EXPECT(gbc.pc(), 0xebc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebc7), 0x88);
        // 88 0333
        gbc.setState(0x74d2, 0xb04e, 0x7290, 0x229c, 0x2071, 0x9a93, 0x0, 0x0);
        gbc.writeMem(0x74d2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xb04e);
        EXPECT(gbc.pc(), 0x74d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0334
        gbc.setState(0x6ca2, 0x995a, 0xf20, 0x98b9, 0x2368, 0x7f13, 0x0, 0x1);
        gbc.writeMem(0x6ca2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x995a);
        EXPECT(gbc.pc(), 0x6ca3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0335
        gbc.setState(0x7ee0, 0xed97, 0x8570, 0xa18d, 0xa2c6, 0xd9a0, 0x1, 0x0);
        gbc.writeMem(0x7ee0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xed97);
        EXPECT(gbc.pc(), 0x7ee1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0336
        gbc.setState(0xb522, 0x14e3, 0xe3f0, 0x9c2b, 0x857b, 0xa682, 0x1, 0x1);
        gbc.writeMem(0xb522, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x14e3);
        EXPECT(gbc.pc(), 0xb523);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb522), 0x88);
        // 88 0337
        gbc.setState(0x833b, 0x5203, 0xb240, 0xff29, 0xa6b4, 0xb3e6, 0x0, 0x0);
        gbc.writeMem(0x833b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x5203);
        EXPECT(gbc.pc(), 0x833c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x833b), 0x88);
        // 88 0338
        gbc.setState(0xe961, 0x9b89, 0xcd90, 0xfb34, 0xa151, 0xc45, 0x1, 0x1);
        gbc.writeMem(0xe961, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x9b89);
        EXPECT(gbc.pc(), 0xe962);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe961), 0x88);
        // 88 0339
        gbc.setState(0xb2f3, 0x2202, 0x2ff0, 0xd7e3, 0xee83, 0xe512, 0x1, 0x0);
        gbc.writeMem(0xb2f3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x2202);
        EXPECT(gbc.pc(), 0xb2f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2f3), 0x88);
        // 88 033A
        gbc.setState(0x3c16, 0xcd34, 0xc160, 0x5971, 0x6c78, 0x47f7, 0x1, 0x1);
        gbc.writeMem(0x3c16, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xcd34);
        EXPECT(gbc.pc(), 0x3c17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 033B
        gbc.setState(0x5492, 0x634, 0x6540, 0xc2b8, 0xe222, 0x7769, 0x1, 0x0);
        gbc.writeMem(0x5492, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x634);
        EXPECT(gbc.pc(), 0x5493);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 033C
        gbc.setState(0x94f, 0xd3ae, 0xe120, 0x59af, 0x3bed, 0x76aa, 0x0, 0x0);
        gbc.writeMem(0x94f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xd3ae);
        EXPECT(gbc.pc(), 0x950);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 033D
        gbc.setState(0x651b, 0xc108, 0x6960, 0x8e28, 0x2180, 0x934b, 0x0, 0x1);
        gbc.writeMem(0x651b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xc108);
        EXPECT(gbc.pc(), 0x651c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 033E
        gbc.setState(0xb67b, 0xb61d, 0xfdd0, 0xba55, 0xabcb, 0x7be3, 0x1, 0x0);
        gbc.writeMem(0xb67b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xb61d);
        EXPECT(gbc.pc(), 0xb67c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb67b), 0x88);
        // 88 033F
        gbc.setState(0x74ce, 0xeb1a, 0xc260, 0x11be, 0x18f2, 0xeba7, 0x1, 0x1);
        gbc.writeMem(0x74ce, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xeb1a);
        EXPECT(gbc.pc(), 0x74cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0340
        gbc.setState(0x99b8, 0x211f, 0x71b0, 0x6086, 0x5164, 0xa7a2, 0x1, 0x1);
        gbc.writeMem(0x99b8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x211f);
        EXPECT(gbc.pc(), 0x99b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99b8), 0x88);
        // 88 0341
        gbc.setState(0x3975, 0x3844, 0x7640, 0xfcf0, 0xd6de, 0x2af3, 0x0, 0x1);
        gbc.writeMem(0x3975, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x3844);
        EXPECT(gbc.pc(), 0x3976);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0342
        gbc.setState(0x9b0e, 0x1bc3, 0x49e0, 0xb13b, 0x9d8f, 0xabaa, 0x1, 0x1);
        gbc.writeMem(0x9b0e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x1bc3);
        EXPECT(gbc.pc(), 0x9b0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b0e), 0x88);
        // 88 0343
        gbc.setState(0xa7a2, 0x2cc5, 0xd440, 0x8987, 0x1839, 0x1c18, 0x0, 0x1);
        gbc.writeMem(0xa7a2, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x2cc5);
        EXPECT(gbc.pc(), 0xa7a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7a2), 0x88);
        // 88 0344
        gbc.setState(0x590e, 0x9149, 0xd5c0, 0xc936, 0x8d8, 0x306b, 0x1, 0x0);
        gbc.writeMem(0x590e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x9149);
        EXPECT(gbc.pc(), 0x590f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0345
        gbc.setState(0xecdc, 0xd8d5, 0x6a30, 0x2a8a, 0x9ced, 0x7d1d, 0x0, 0x1);
        gbc.writeMem(0xecdc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xd8d5);
        EXPECT(gbc.pc(), 0xecdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecdc), 0x88);
        // 88 0346
        gbc.setState(0x9a7c, 0x87d6, 0x18d0, 0xd36e, 0x1a04, 0xd509, 0x0, 0x1);
        gbc.writeMem(0x9a7c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x87d6);
        EXPECT(gbc.pc(), 0x9a7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a7c), 0x88);
        // 88 0347
        gbc.setState(0x1b72, 0xbef8, 0x6970, 0xc935, 0xb3be, 0xe63a, 0x0, 0x0);
        gbc.writeMem(0x1b72, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xbef8);
        EXPECT(gbc.pc(), 0x1b73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0348
        gbc.setState(0x249, 0x8b79, 0xf60, 0x77f3, 0x3d9b, 0x27dd, 0x1, 0x0);
        gbc.writeMem(0x249, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x8b79);
        EXPECT(gbc.pc(), 0x24a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0349
        gbc.setState(0x4e6, 0x7c7d, 0x9980, 0xdc1c, 0x8dd6, 0xdf5d, 0x0, 0x1);
        gbc.writeMem(0x4e6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x7c7d);
        EXPECT(gbc.pc(), 0x4e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 034A
        gbc.setState(0x62b4, 0xf077, 0xbd40, 0x78eb, 0x7d7c, 0xe87c, 0x0, 0x0);
        gbc.writeMem(0x62b4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xf077);
        EXPECT(gbc.pc(), 0x62b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 034B
        gbc.setState(0x9a66, 0xf4b5, 0x2c20, 0x4596, 0x173b, 0x3506, 0x0, 0x0);
        gbc.writeMem(0x9a66, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xf4b5);
        EXPECT(gbc.pc(), 0x9a67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a66), 0x88);
        // 88 034C
        gbc.setState(0x4f95, 0x966c, 0xdc20, 0x29de, 0xd50, 0xecf1, 0x0, 0x0);
        gbc.writeMem(0x4f95, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x966c);
        EXPECT(gbc.pc(), 0x4f96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 034D
        gbc.setState(0xe574, 0x233c, 0x50d0, 0x94bf, 0x180, 0x604e, 0x1, 0x0);
        gbc.writeMem(0xe574, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x233c);
        EXPECT(gbc.pc(), 0xe575);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe574), 0x88);
        // 88 034E
        gbc.setState(0xe6a4, 0xf312, 0x30f0, 0xa28a, 0x5c93, 0x68e1, 0x0, 0x1);
        gbc.writeMem(0xe6a4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf312);
        EXPECT(gbc.pc(), 0xe6a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6a4), 0x88);
        // 88 034F
        gbc.setState(0x12d8, 0xd208, 0x3bb0, 0xaf4, 0x7a6e, 0xb539, 0x0, 0x0);
        gbc.writeMem(0x12d8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xd208);
        EXPECT(gbc.pc(), 0x12d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0350
        gbc.setState(0x51a4, 0x7faf, 0xb410, 0x2edb, 0x3b47, 0xeb35, 0x1, 0x1);
        gbc.writeMem(0x51a4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x7faf);
        EXPECT(gbc.pc(), 0x51a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0352
        gbc.setState(0x31e9, 0xe271, 0xa9f0, 0x83a3, 0x3250, 0xd067, 0x0, 0x1);
        gbc.writeMem(0x31e9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xe271);
        EXPECT(gbc.pc(), 0x31ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0353
        gbc.setState(0x3a5a, 0xc7c6, 0x7c20, 0x26ca, 0xe78a, 0xba34, 0x0, 0x1);
        gbc.writeMem(0x3a5a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xc7c6);
        EXPECT(gbc.pc(), 0x3a5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0354
        gbc.setState(0x3847, 0x3930, 0xede0, 0xd830, 0xd6fc, 0x65b4, 0x1, 0x1);
        gbc.writeMem(0x3847, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x3930);
        EXPECT(gbc.pc(), 0x3848);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0355
        gbc.setState(0x85fa, 0xf0b5, 0x9c90, 0x1ab7, 0xb23, 0x475d, 0x0, 0x1);
        gbc.writeMem(0x85fa, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xf0b5);
        EXPECT(gbc.pc(), 0x85fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85fa), 0x88);
        // 88 0356
        gbc.setState(0x6d1f, 0x349b, 0xfa0, 0xa2fd, 0x14ea, 0xfee6, 0x0, 0x0);
        gbc.writeMem(0x6d1f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x349b);
        EXPECT(gbc.pc(), 0x6d20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0357
        gbc.setState(0x18d4, 0xfd96, 0x8e70, 0x93e9, 0xb8e5, 0x35cb, 0x1, 0x0);
        gbc.writeMem(0x18d4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xfd96);
        EXPECT(gbc.pc(), 0x18d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0358
        gbc.setState(0xd9c4, 0xe87a, 0x6050, 0x9ba4, 0x842b, 0xce97, 0x0, 0x1);
        gbc.writeMem(0xd9c4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xe87a);
        EXPECT(gbc.pc(), 0xd9c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9c4), 0x88);
        // 88 0359
        gbc.setState(0xa4a, 0xcdbc, 0xffe0, 0x6584, 0xe6e9, 0xb4d5, 0x1, 0x0);
        gbc.writeMem(0xa4a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xcdbc);
        EXPECT(gbc.pc(), 0xa4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 035A
        gbc.setState(0x22e1, 0xa78f, 0x15d0, 0xf8d8, 0x8828, 0x8904, 0x1, 0x1);
        gbc.writeMem(0x22e1, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xa78f);
        EXPECT(gbc.pc(), 0x22e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 035B
        gbc.setState(0xc29b, 0x5a4f, 0x3d60, 0xc20c, 0x7cb2, 0x38a4, 0x1, 0x0);
        gbc.writeMem(0xc29b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x5a4f);
        EXPECT(gbc.pc(), 0xc29c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc29b), 0x88);
        // 88 035C
        gbc.setState(0xc227, 0x7776, 0x61c0, 0x54a2, 0xa99a, 0xf715, 0x0, 0x0);
        gbc.writeMem(0xc227, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x7776);
        EXPECT(gbc.pc(), 0xc228);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc227), 0x88);
        // 88 035D
        gbc.setState(0xd37d, 0x2963, 0x6180, 0x3490, 0xd225, 0x4b55, 0x1, 0x1);
        gbc.writeMem(0xd37d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x2963);
        EXPECT(gbc.pc(), 0xd37e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd37d), 0x88);
        // 88 035F
        gbc.setState(0xefeb, 0xaf66, 0xb210, 0xffe4, 0xf7bd, 0xfe4e, 0x1, 0x1);
        gbc.writeMem(0xefeb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xaf66);
        EXPECT(gbc.pc(), 0xefec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefeb), 0x88);
        // 88 0360
        gbc.setState(0xbaf8, 0xea0a, 0xf1e0, 0xea82, 0x84d4, 0x8b1d, 0x0, 0x0);
        gbc.writeMem(0xbaf8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xea0a);
        EXPECT(gbc.pc(), 0xbaf9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbaf8), 0x88);
        // 88 0361
        gbc.setState(0xc8a5, 0x5a8a, 0x49d0, 0x95be, 0x7a93, 0xd275, 0x0, 0x1);
        gbc.writeMem(0xc8a5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x5a8a);
        EXPECT(gbc.pc(), 0xc8a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8a5), 0x88);
        // 88 0362
        gbc.setState(0x80cc, 0x96be, 0x4070, 0x9a7b, 0xd2c0, 0xda9d, 0x0, 0x0);
        gbc.writeMem(0x80cc, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x96be);
        EXPECT(gbc.pc(), 0x80cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80cc), 0x88);
        // 88 0363
        gbc.setState(0x5fff, 0xca3a, 0x5c0, 0xb365, 0xf26d, 0x89e2, 0x0, 0x0);
        gbc.writeMem(0x5fff, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xca3a);
        EXPECT(gbc.pc(), 0x6000);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0364
        gbc.setState(0x35ba, 0xa2d, 0xb1d0, 0x5e63, 0xa2bd, 0x6db0, 0x0, 0x0);
        gbc.writeMem(0x35ba, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xa2d);
        EXPECT(gbc.pc(), 0x35bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0365
        gbc.setState(0xe65a, 0x8e92, 0x2150, 0xda8b, 0xa9ef, 0x26ee, 0x0, 0x0);
        gbc.writeMem(0xe65a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x8e92);
        EXPECT(gbc.pc(), 0xe65b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe65a), 0x88);
        // 88 0366
        gbc.setState(0xc890, 0x2670, 0x77f0, 0x9c88, 0x6811, 0xdcde, 0x0, 0x1);
        gbc.writeMem(0xc890, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x2670);
        EXPECT(gbc.pc(), 0xc891);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc890), 0x88);
        // 88 0367
        gbc.setState(0x1f7e, 0x83d, 0xc480, 0x7663, 0x1b3, 0xdfe0, 0x0, 0x0);
        gbc.writeMem(0x1f7e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x83d);
        EXPECT(gbc.pc(), 0x1f7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0368
        gbc.setState(0x97f8, 0x1bf4, 0xa2f0, 0x1c00, 0x65ff, 0xf871, 0x1, 0x0);
        gbc.writeMem(0x97f8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x1bf4);
        EXPECT(gbc.pc(), 0x97f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97f8), 0x88);
        // 88 0369
        gbc.setState(0xc25d, 0xe795, 0x5360, 0x5cd1, 0xdf6d, 0xa616, 0x0, 0x0);
        gbc.writeMem(0xc25d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xe795);
        EXPECT(gbc.pc(), 0xc25e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc25d), 0x88);
        // 88 036A
        gbc.setState(0x2d0d, 0x26c0, 0x91b0, 0x3cd4, 0xe400, 0xe3b2, 0x1, 0x0);
        gbc.writeMem(0x2d0d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x26c0);
        EXPECT(gbc.pc(), 0x2d0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 036B
        gbc.setState(0x4ac5, 0x6937, 0x9d50, 0xb65f, 0x66c6, 0x1dc9, 0x0, 0x1);
        gbc.writeMem(0x4ac5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x6937);
        EXPECT(gbc.pc(), 0x4ac6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 036C
        gbc.setState(0x2b6a, 0x4525, 0xa5a0, 0xdce0, 0x1a73, 0x9b, 0x0, 0x0);
        gbc.writeMem(0x2b6a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x4525);
        EXPECT(gbc.pc(), 0x2b6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 036D
        gbc.setState(0xc87, 0x9c3f, 0x2d90, 0x1cf0, 0xb927, 0x9d9b, 0x0, 0x0);
        gbc.writeMem(0xc87, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x9c3f);
        EXPECT(gbc.pc(), 0xc88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 036E
        gbc.setState(0xccd5, 0xb690, 0x9a90, 0x8d76, 0xaf46, 0xdd67, 0x1, 0x0);
        gbc.writeMem(0xccd5, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xb690);
        EXPECT(gbc.pc(), 0xccd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccd5), 0x88);
        // 88 036F
        gbc.setState(0x6fe8, 0x709b, 0x9350, 0xc11d, 0x5011, 0xad0e, 0x1, 0x0);
        gbc.writeMem(0x6fe8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x709b);
        EXPECT(gbc.pc(), 0x6fe9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0370
        gbc.setState(0xa754, 0xb844, 0xe710, 0x30f8, 0x8cb5, 0x50cf, 0x0, 0x0);
        gbc.writeMem(0xa754, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xb844);
        EXPECT(gbc.pc(), 0xa755);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa754), 0x88);
        // 88 0371
        gbc.setState(0xd787, 0xa211, 0xd370, 0x2ee2, 0x7106, 0x666c, 0x1, 0x0);
        gbc.writeMem(0xd787, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xa211);
        EXPECT(gbc.pc(), 0xd788);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd787), 0x88);
        // 88 0372
        gbc.setState(0xe892, 0x42c5, 0x7000, 0xb6fd, 0x2e39, 0x66d8, 0x1, 0x1);
        gbc.writeMem(0xe892, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x42c5);
        EXPECT(gbc.pc(), 0xe893);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe892), 0x88);
        // 88 0374
        gbc.setState(0x8919, 0xac5e, 0x3f40, 0x985, 0xef94, 0x265f, 0x1, 0x0);
        gbc.writeMem(0x8919, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xac5e);
        EXPECT(gbc.pc(), 0x891a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8919), 0x88);
        // 88 0375
        gbc.setState(0x175a, 0xfd72, 0x2740, 0x4fd8, 0xca0d, 0x38d6, 0x1, 0x0);
        gbc.writeMem(0x175a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xfd72);
        EXPECT(gbc.pc(), 0x175b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0376
        gbc.setState(0x366d, 0x7fb5, 0xbe90, 0x6240, 0xcd8e, 0x33fc, 0x0, 0x0);
        gbc.writeMem(0x366d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x7fb5);
        EXPECT(gbc.pc(), 0x366e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0377
        gbc.setState(0x1674, 0x5d71, 0x3ff0, 0xff35, 0xf6b0, 0xf52, 0x0, 0x0);
        gbc.writeMem(0x1674, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x5d71);
        EXPECT(gbc.pc(), 0x1675);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0378
        gbc.setState(0x792, 0x6870, 0xd590, 0xb888, 0xe131, 0x2c07, 0x1, 0x1);
        gbc.writeMem(0x792, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x6870);
        EXPECT(gbc.pc(), 0x793);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0379
        gbc.setState(0x8d56, 0x486c, 0x2450, 0xf93a, 0x7a85, 0xfd2b, 0x0, 0x1);
        gbc.writeMem(0x8d56, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x486c);
        EXPECT(gbc.pc(), 0x8d57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d56), 0x88);
        // 88 037A
        gbc.setState(0x1b48, 0x8e49, 0xfb00, 0xb28f, 0xa6d8, 0x4b98, 0x0, 0x0);
        gbc.writeMem(0x1b48, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x8e49);
        EXPECT(gbc.pc(), 0x1b49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 037C
        gbc.setState(0xa665, 0x2c5c, 0x6fd0, 0xf595, 0x71e3, 0xd61f, 0x1, 0x0);
        gbc.writeMem(0xa665, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x2c5c);
        EXPECT(gbc.pc(), 0xa666);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa665), 0x88);
        // 88 037D
        gbc.setState(0xd0a8, 0xad85, 0x53a0, 0xcbd1, 0x70de, 0xb69b, 0x0, 0x1);
        gbc.writeMem(0xd0a8, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xad85);
        EXPECT(gbc.pc(), 0xd0a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0a8), 0x88);
        // 88 037E
        gbc.setState(0x323a, 0x5060, 0x56f0, 0x46a0, 0x97d0, 0xda40, 0x0, 0x1);
        gbc.writeMem(0x323a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x5060);
        EXPECT(gbc.pc(), 0x323b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 037F
        gbc.setState(0x813a, 0x8840, 0xc150, 0x106a, 0xad2a, 0x9ebc, 0x1, 0x0);
        gbc.writeMem(0x813a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x8840);
        EXPECT(gbc.pc(), 0x813b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x813a), 0x88);
        // 88 0380
        gbc.setState(0xa8f3, 0x7cf7, 0xdab0, 0x9f3e, 0xcb5b, 0x596b, 0x0, 0x0);
        gbc.writeMem(0xa8f3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x7cf7);
        EXPECT(gbc.pc(), 0xa8f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8f3), 0x88);
        // 88 0382
        gbc.setState(0xcfb0, 0xcb54, 0xddf0, 0x5e66, 0x8f1c, 0x31bc, 0x1, 0x0);
        gbc.writeMem(0xcfb0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xcb54);
        EXPECT(gbc.pc(), 0xcfb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfb0), 0x88);
        // 88 0383
        gbc.setState(0x8453, 0x87e9, 0x7fe0, 0x22bc, 0xe173, 0x6cde, 0x1, 0x0);
        gbc.writeMem(0x8453, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x87e9);
        EXPECT(gbc.pc(), 0x8454);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8453), 0x88);
        // 88 0384
        gbc.setState(0x951a, 0xdf71, 0xa140, 0x581f, 0x3aea, 0xe5f3, 0x1, 0x0);
        gbc.writeMem(0x951a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xdf71);
        EXPECT(gbc.pc(), 0x951b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x951a), 0x88);
        // 88 0385
        gbc.setState(0x784d, 0xf3e7, 0xf30, 0x884d, 0xac4f, 0x172b, 0x1, 0x1);
        gbc.writeMem(0x784d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xf3e7);
        EXPECT(gbc.pc(), 0x784e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0386
        gbc.setState(0x6f58, 0x14ac, 0x86e0, 0x3d3c, 0xd5dd, 0xbc89, 0x0, 0x0);
        gbc.writeMem(0x6f58, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x14ac);
        EXPECT(gbc.pc(), 0x6f59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0387
        gbc.setState(0x8709, 0xc5d8, 0x1470, 0x9219, 0x3baa, 0xe335, 0x0, 0x1);
        gbc.writeMem(0x8709, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc5d8);
        EXPECT(gbc.pc(), 0x870a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8709), 0x88);
        // 88 0388
        gbc.setState(0x320d, 0x60a9, 0x380, 0x8be5, 0xdfe, 0x37de, 0x0, 0x0);
        gbc.writeMem(0x320d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x60a9);
        EXPECT(gbc.pc(), 0x320e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0389
        gbc.setState(0xa970, 0x8e04, 0x7ad0, 0x836e, 0x7cd2, 0x968e, 0x1, 0x1);
        gbc.writeMem(0xa970, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x8e04);
        EXPECT(gbc.pc(), 0xa971);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa970), 0x88);
        // 88 038A
        gbc.setState(0x7ffe, 0xb3ed, 0x1460, 0x951b, 0x3f45, 0x64b4, 0x0, 0x0);
        gbc.writeMem(0x7ffe, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xb3ed);
        EXPECT(gbc.pc(), 0x7fff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 038B
        gbc.setState(0xd885, 0xa97d, 0x2ac0, 0x5a74, 0xb702, 0xd0ff, 0x1, 0x1);
        gbc.writeMem(0xd885, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xa97d);
        EXPECT(gbc.pc(), 0xd886);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd885), 0x88);
        // 88 038C
        gbc.setState(0x4f40, 0x598f, 0xe170, 0xcaf2, 0xe2ea, 0x7c55, 0x1, 0x0);
        gbc.writeMem(0x4f40, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x598f);
        EXPECT(gbc.pc(), 0x4f41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 038D
        gbc.setState(0x6f61, 0x31e, 0xfd70, 0xaa0f, 0x8112, 0x578, 0x0, 0x0);
        gbc.writeMem(0x6f61, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x31e);
        EXPECT(gbc.pc(), 0x6f62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 038E
        gbc.setState(0xb12b, 0x3756, 0x1a40, 0x3b5a, 0xe948, 0xaa6b, 0x0, 0x1);
        gbc.writeMem(0xb12b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x3756);
        EXPECT(gbc.pc(), 0xb12c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb12b), 0x88);
        // 88 038F
        gbc.setState(0x909, 0x1c5f, 0xeba0, 0x24a2, 0x5955, 0x881c, 0x1, 0x1);
        gbc.writeMem(0x909, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x1c5f);
        EXPECT(gbc.pc(), 0x90a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0390
        gbc.setState(0x44fb, 0xac3e, 0x99c0, 0x9084, 0xe92, 0xda5, 0x1, 0x0);
        gbc.writeMem(0x44fb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xac3e);
        EXPECT(gbc.pc(), 0x44fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0391
        gbc.setState(0xa237, 0x6f30, 0x9940, 0xa796, 0xc624, 0x4da3, 0x0, 0x0);
        gbc.writeMem(0xa237, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x6f30);
        EXPECT(gbc.pc(), 0xa238);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa237), 0x88);
        // 88 0392
        gbc.setState(0x2ec9, 0x24db, 0x2020, 0x9dfd, 0xba8d, 0x3375, 0x0, 0x1);
        gbc.writeMem(0x2ec9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x24db);
        EXPECT(gbc.pc(), 0x2eca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0393
        gbc.setState(0x1a06, 0x3683, 0x4930, 0xcf52, 0x3bd3, 0xb8a0, 0x1, 0x0);
        gbc.writeMem(0x1a06, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3683);
        EXPECT(gbc.pc(), 0x1a07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 0394
        gbc.setState(0x662a, 0x8a57, 0x6a30, 0x2acd, 0xa006, 0xca6c, 0x0, 0x0);
        gbc.writeMem(0x662a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x8a57);
        EXPECT(gbc.pc(), 0x662b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 0395
        gbc.setState(0x5f4c, 0x5361, 0xcd10, 0x18c, 0xe685, 0xa574, 0x1, 0x0);
        gbc.writeMem(0x5f4c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x5361);
        EXPECT(gbc.pc(), 0x5f4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0396
        gbc.setState(0xe87, 0x52da, 0x7380, 0xb5b5, 0x84a8, 0xca29, 0x1, 0x0);
        gbc.writeMem(0xe87, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x52da);
        EXPECT(gbc.pc(), 0xe88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 0397
        gbc.setState(0x6084, 0x6fdc, 0x32d0, 0x7a88, 0x38ec, 0xb421, 0x1, 0x0);
        gbc.writeMem(0x6084, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x6fdc);
        EXPECT(gbc.pc(), 0x6085);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 0398
        gbc.setState(0xb6ac, 0x8269, 0x4960, 0x7278, 0xd6a, 0x4386, 0x0, 0x1);
        gbc.writeMem(0xb6ac, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x8269);
        EXPECT(gbc.pc(), 0xb6ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6ac), 0x88);
        // 88 0399
        gbc.setState(0x264, 0x3339, 0xc140, 0x1ce6, 0xbed3, 0xc658, 0x0, 0x1);
        gbc.writeMem(0x264, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x3339);
        EXPECT(gbc.pc(), 0x265);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 039A
        gbc.setState(0x1d81, 0x2915, 0x100, 0x6971, 0x8b62, 0x9fba, 0x0, 0x1);
        gbc.writeMem(0x1d81, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x2915);
        EXPECT(gbc.pc(), 0x1d82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 039B
        gbc.setState(0x7c7a, 0xefe1, 0x5fc0, 0x9c2d, 0x676e, 0x9652, 0x1, 0x0);
        gbc.writeMem(0x7c7a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xefe1);
        EXPECT(gbc.pc(), 0x7c7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 039C
        gbc.setState(0x2cad, 0x9c78, 0xb700, 0x52a0, 0x2f49, 0x82ba, 0x0, 0x0);
        gbc.writeMem(0x2cad, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x9c78);
        EXPECT(gbc.pc(), 0x2cae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 039D
        gbc.setState(0x7b82, 0xd06a, 0x5300, 0x6e4a, 0x3b93, 0xc93c, 0x1, 0x1);
        gbc.writeMem(0x7b82, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xd06a);
        EXPECT(gbc.pc(), 0x7b83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 039E
        gbc.setState(0x1358, 0x77e0, 0xe0a0, 0x7b48, 0xb514, 0xd7a9, 0x1, 0x0);
        gbc.writeMem(0x1358, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x77e0);
        EXPECT(gbc.pc(), 0x1359);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 039F
        gbc.setState(0xd65a, 0xb9aa, 0x4240, 0xb2af, 0x77b, 0xbd40, 0x0, 0x1);
        gbc.writeMem(0xd65a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xb9aa);
        EXPECT(gbc.pc(), 0xd65b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd65a), 0x88);
        // 88 03A0
        gbc.setState(0x6f3d, 0x6667, 0xfee0, 0x686b, 0x5858, 0x62d2, 0x1, 0x0);
        gbc.writeMem(0x6f3d, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x6667);
        EXPECT(gbc.pc(), 0x6f3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 03A1
        gbc.setState(0xbbdb, 0x38b6, 0x9c10, 0x82d0, 0x1078, 0x296f, 0x1, 0x0);
        gbc.writeMem(0xbbdb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x38b6);
        EXPECT(gbc.pc(), 0xbbdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbdb), 0x88);
        // 88 03A2
        gbc.setState(0x5e10, 0xb85d, 0x6f30, 0xe2ef, 0x2276, 0xe309, 0x1, 0x0);
        gbc.writeMem(0x5e10, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xb85d);
        EXPECT(gbc.pc(), 0x5e11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 03A3
        gbc.setState(0x1663, 0x4be6, 0xfbf0, 0x6647, 0x860e, 0x7c95, 0x0, 0x1);
        gbc.writeMem(0x1663, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x4be6);
        EXPECT(gbc.pc(), 0x1664);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 03A4
        gbc.setState(0x8975, 0x5084, 0xc0a0, 0xdc3e, 0xd7aa, 0x9600, 0x1, 0x1);
        gbc.writeMem(0x8975, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x5084);
        EXPECT(gbc.pc(), 0x8976);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8975), 0x88);
        // 88 03A5
        gbc.setState(0x856e, 0xd197, 0xf8c0, 0x8e18, 0x73af, 0xf82a, 0x0, 0x1);
        gbc.writeMem(0x856e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xd197);
        EXPECT(gbc.pc(), 0x856f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x856e), 0x88);
        // 88 03A7
        gbc.setState(0x9ac0, 0x579f, 0x4b50, 0xb6b3, 0x2965, 0x8f3b, 0x0, 0x0);
        gbc.writeMem(0x9ac0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x579f);
        EXPECT(gbc.pc(), 0x9ac1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ac0), 0x88);
        // 88 03A8
        gbc.setState(0x7c84, 0xa478, 0xbfb0, 0x96ac, 0xb616, 0x6c0, 0x0, 0x1);
        gbc.writeMem(0x7c84, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xa478);
        EXPECT(gbc.pc(), 0x7c85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 03A9
        gbc.setState(0x681b, 0xe7cb, 0x8540, 0xa39, 0x9ce7, 0x991, 0x1, 0x0);
        gbc.writeMem(0x681b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xe7cb);
        EXPECT(gbc.pc(), 0x681c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 03AA
        gbc.setState(0x8677, 0x2f19, 0x5090, 0x8da8, 0xe605, 0x3006, 0x0, 0x1);
        gbc.writeMem(0x8677, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x2f19);
        EXPECT(gbc.pc(), 0x8678);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8677), 0x88);
        // 88 03AB
        gbc.setState(0x2bb, 0x6075, 0x2ca0, 0x811c, 0x1ffd, 0xa3fe, 0x0, 0x1);
        gbc.writeMem(0x2bb, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x6075);
        EXPECT(gbc.pc(), 0x2bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 03AC
        gbc.setState(0x7ce0, 0x3850, 0x2a00, 0x48ab, 0x4597, 0x59cc, 0x0, 0x0);
        gbc.writeMem(0x7ce0, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x3850);
        EXPECT(gbc.pc(), 0x7ce1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 03AD
        gbc.setState(0x207, 0x5c65, 0xc540, 0xef72, 0xf642, 0xd492, 0x1, 0x1);
        gbc.writeMem(0x207, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x5c65);
        EXPECT(gbc.pc(), 0x208);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 03AE
        gbc.setState(0x9a78, 0x8f46, 0x3040, 0x146c, 0x6480, 0x1a5a, 0x0, 0x0);
        gbc.writeMem(0x9a78, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x8f46);
        EXPECT(gbc.pc(), 0x9a79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a78), 0x88);
        // 88 03AF
        gbc.setState(0x498e, 0xc110, 0xaa0, 0x4f33, 0x13c4, 0xd05c, 0x1, 0x1);
        gbc.writeMem(0x498e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xc110);
        EXPECT(gbc.pc(), 0x498f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 03B0
        gbc.setState(0x750a, 0x49c0, 0x6bb0, 0x9c01, 0xb620, 0x860e, 0x0, 0x1);
        gbc.writeMem(0x750a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x49c0);
        EXPECT(gbc.pc(), 0x750b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 03B1
        gbc.setState(0x5f28, 0x8a2d, 0x16d0, 0xa677, 0xe3b8, 0xa656, 0x1, 0x1);
        gbc.writeMem(0x5f28, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x8a2d);
        EXPECT(gbc.pc(), 0x5f29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 03B2
        gbc.setState(0xe468, 0x5f97, 0xb860, 0xdc33, 0x1d8f, 0xca1a, 0x0, 0x0);
        gbc.writeMem(0xe468, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x5f97);
        EXPECT(gbc.pc(), 0xe469);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe468), 0x88);
        // 88 03B3
        gbc.setState(0x7ddd, 0xa52b, 0xa020, 0xe9a1, 0x31eb, 0x761c, 0x1, 0x0);
        gbc.writeMem(0x7ddd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xa52b);
        EXPECT(gbc.pc(), 0x7dde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 03B4
        gbc.setState(0x477b, 0x1f6f, 0xbb60, 0x7c87, 0x8f43, 0x605e, 0x1, 0x1);
        gbc.writeMem(0x477b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x1f6f);
        EXPECT(gbc.pc(), 0x477c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 03B5
        gbc.setState(0xe94b, 0xdd96, 0x8710, 0x5f72, 0x2b00, 0x4fbc, 0x0, 0x1);
        gbc.writeMem(0xe94b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xdd96);
        EXPECT(gbc.pc(), 0xe94c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe94b), 0x88);
        // 88 03B6
        gbc.setState(0x4ff9, 0x7c59, 0x1a60, 0x394e, 0xc7f5, 0x138b, 0x0, 0x1);
        gbc.writeMem(0x4ff9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x7c59);
        EXPECT(gbc.pc(), 0x4ffa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 03B8
        gbc.setState(0x1224, 0x28ae, 0x3d30, 0x5793, 0xb949, 0x69cc, 0x1, 0x0);
        gbc.writeMem(0x1224, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x28ae);
        EXPECT(gbc.pc(), 0x1225);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 03B9
        gbc.setState(0xa090, 0x1e9, 0xebb0, 0x2447, 0x1051, 0x8733, 0x0, 0x1);
        gbc.writeMem(0xa090, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x1e9);
        EXPECT(gbc.pc(), 0xa091);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa090), 0x88);
        // 88 03BA
        gbc.setState(0x371e, 0xe1e8, 0x1ac0, 0x6aa, 0xd581, 0xe4e, 0x0, 0x0);
        gbc.writeMem(0x371e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe1e8);
        EXPECT(gbc.pc(), 0x371f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 03BB
        gbc.setState(0xa879, 0x5b46, 0x2380, 0x2e94, 0xc260, 0xe938, 0x0, 0x1);
        gbc.writeMem(0xa879, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x5b46);
        EXPECT(gbc.pc(), 0xa87a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa879), 0x88);
        // 88 03BC
        gbc.setState(0x8bf4, 0x21da, 0x3c60, 0xa428, 0x147c, 0xeeec, 0x0, 0x1);
        gbc.writeMem(0x8bf4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x21da);
        EXPECT(gbc.pc(), 0x8bf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bf4), 0x88);
        // 88 03BD
        gbc.setState(0x23df, 0xa19a, 0x3f20, 0x8a0d, 0xcd15, 0x11e8, 0x1, 0x1);
        gbc.writeMem(0x23df, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xa19a);
        EXPECT(gbc.pc(), 0x23e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 03BE
        gbc.setState(0x4529, 0x5b93, 0x2290, 0xc70, 0x31a4, 0x1456, 0x1, 0x1);
        gbc.writeMem(0x4529, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x5b93);
        EXPECT(gbc.pc(), 0x452a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 03BF
        gbc.setState(0x6a77, 0xdfa3, 0xe660, 0xf03f, 0x3208, 0x4eb8, 0x0, 0x0);
        gbc.writeMem(0x6a77, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xdfa3);
        EXPECT(gbc.pc(), 0x6a78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 03C1
        gbc.setState(0x91c7, 0x3703, 0x8920, 0xb6ef, 0x41f2, 0x2f79, 0x1, 0x1);
        gbc.writeMem(0x91c7, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x3703);
        EXPECT(gbc.pc(), 0x91c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91c7), 0x88);
        // 88 03C2
        gbc.setState(0xad2f, 0xcd3, 0xc540, 0xa4b2, 0xc71d, 0x67ab, 0x1, 0x1);
        gbc.writeMem(0xad2f, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xcd3);
        EXPECT(gbc.pc(), 0xad30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad2f), 0x88);
        // 88 03C3
        gbc.setState(0x9369, 0x9d8, 0x2060, 0x2e, 0xff41, 0xa781, 0x1, 0x1);
        gbc.writeMem(0x9369, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x9d8);
        EXPECT(gbc.pc(), 0x936a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9369), 0x88);
        // 88 03C4
        gbc.setState(0x8659, 0xa722, 0x2780, 0xf506, 0x9e3f, 0x67df, 0x1, 0x0);
        gbc.writeMem(0x8659, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xa722);
        EXPECT(gbc.pc(), 0x865a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8659), 0x88);
        // 88 03C5
        gbc.setState(0x95dd, 0xdd59, 0x14c0, 0x5d51, 0x7ca8, 0xaca9, 0x0, 0x1);
        gbc.writeMem(0x95dd, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xdd59);
        EXPECT(gbc.pc(), 0x95de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95dd), 0x88);
        // 88 03C6
        gbc.setState(0x36de, 0x85e9, 0x1da0, 0x7eb9, 0x3a85, 0xb1f3, 0x1, 0x1);
        gbc.writeMem(0x36de, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x85e9);
        EXPECT(gbc.pc(), 0x36df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 03C8
        gbc.setState(0xc8a6, 0x8dc5, 0x8af0, 0x548d, 0xa10, 0xdf2f, 0x0, 0x0);
        gbc.writeMem(0xc8a6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8dc5);
        EXPECT(gbc.pc(), 0xc8a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8a6), 0x88);
        // 88 03C9
        gbc.setState(0x90b, 0xffe9, 0x4230, 0xc490, 0x7c71, 0x7007, 0x1, 0x0);
        gbc.writeMem(0x90b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xffe9);
        EXPECT(gbc.pc(), 0x90c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 03CA
        gbc.setState(0x6d07, 0x5705, 0xbb0, 0xa56d, 0xbea2, 0xbdd9, 0x1, 0x0);
        gbc.writeMem(0x6d07, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x5705);
        EXPECT(gbc.pc(), 0x6d08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 03CB
        gbc.setState(0x9449, 0xf99f, 0x8420, 0xb0c3, 0xf374, 0x75e0, 0x1, 0x0);
        gbc.writeMem(0x9449, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xf99f);
        EXPECT(gbc.pc(), 0x944a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9449), 0x88);
        // 88 03CC
        gbc.setState(0xc502, 0x7a5e, 0x9b00, 0xe3dd, 0xd10b, 0x5e77, 0x1, 0x0);
        gbc.writeMem(0xc502, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x7a5e);
        EXPECT(gbc.pc(), 0xc503);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc502), 0x88);
        // 88 03CD
        gbc.setState(0x9267, 0x2655, 0xb320, 0x120e, 0x487e, 0x584e, 0x1, 0x1);
        gbc.writeMem(0x9267, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x2655);
        EXPECT(gbc.pc(), 0x9268);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9267), 0x88);
        // 88 03CE
        gbc.setState(0x4870, 0x3b0b, 0x7e70, 0x7a88, 0x16f5, 0x3c4d, 0x0, 0x1);
        gbc.writeMem(0x4870, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x3b0b);
        EXPECT(gbc.pc(), 0x4871);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 03CF
        gbc.setState(0xd4ad, 0xa63d, 0xbb20, 0x4947, 0x749c, 0x830b, 0x1, 0x1);
        gbc.writeMem(0xd4ad, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xa63d);
        EXPECT(gbc.pc(), 0xd4ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4ad), 0x88);
        // 88 03D0
        gbc.setState(0x372c, 0x9495, 0xe870, 0x3119, 0x351, 0xd381, 0x1, 0x0);
        gbc.writeMem(0x372c, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x9495);
        EXPECT(gbc.pc(), 0x372d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 03D1
        gbc.setState(0x85b9, 0x3af9, 0xd30, 0xd028, 0x1290, 0xae9e, 0x0, 0x0);
        gbc.writeMem(0x85b9, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x3af9);
        EXPECT(gbc.pc(), 0x85ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85b9), 0x88);
        // 88 03D2
        gbc.setState(0x3f50, 0x99ec, 0x680, 0x4b08, 0xfe44, 0xa8fe, 0x0, 0x0);
        gbc.writeMem(0x3f50, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x99ec);
        EXPECT(gbc.pc(), 0x3f51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 88 03D4
        gbc.setState(0x4327, 0xaff2, 0xba60, 0x8d47, 0xeda8, 0x363d, 0x1, 0x1);
        gbc.writeMem(0x4327, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xaff2);
        EXPECT(gbc.pc(), 0x4328);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 03D5
        gbc.setState(0xc198, 0x3cb, 0xd940, 0xbea1, 0x4be8, 0x8eac, 0x0, 0x0);
        gbc.writeMem(0xc198, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x3cb);
        EXPECT(gbc.pc(), 0xc199);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc198), 0x88);
        // 88 03D6
        gbc.setState(0xe4c6, 0xae64, 0xab80, 0x48d8, 0x9771, 0x395d, 0x0, 0x1);
        gbc.writeMem(0xe4c6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xae64);
        EXPECT(gbc.pc(), 0xe4c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4c6), 0x88);
        // 88 03D8
        gbc.setState(0x3189, 0x888e, 0xb490, 0xed43, 0xf840, 0xd6ab, 0x1, 0x1);
        gbc.writeMem(0x3189, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x888e);
        EXPECT(gbc.pc(), 0x318a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 03D9
        gbc.setState(0x8046, 0x86f7, 0x88e0, 0xccdc, 0x2baa, 0xee72, 0x0, 0x0);
        gbc.writeMem(0x8046, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x86f7);
        EXPECT(gbc.pc(), 0x8047);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8046), 0x88);
        // 88 03DA
        gbc.setState(0xbf5a, 0xf81d, 0x8530, 0xf5d5, 0x5b40, 0xf6d3, 0x0, 0x0);
        gbc.writeMem(0xbf5a, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xf81d);
        EXPECT(gbc.pc(), 0xbf5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf5a), 0x88);
        // 88 03DB
        gbc.setState(0xa643, 0x49bf, 0x8e90, 0x5302, 0xfb57, 0x2404, 0x1, 0x0);
        gbc.writeMem(0xa643, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x49bf);
        EXPECT(gbc.pc(), 0xa644);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa643), 0x88);
        // 88 03DC
        gbc.setState(0x52d6, 0x262c, 0x81d0, 0xcb43, 0x4b9c, 0xaa38, 0x0, 0x0);
        gbc.writeMem(0x52d6, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x262c);
        EXPECT(gbc.pc(), 0x52d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 03DD
        gbc.setState(0x7d32, 0x220d, 0x590, 0x39a0, 0xf8ab, 0x9c4, 0x1, 0x0);
        gbc.writeMem(0x7d32, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x220d);
        EXPECT(gbc.pc(), 0x7d33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 03DE
        gbc.setState(0xe433, 0x8e8f, 0x9490, 0xdc9e, 0x4695, 0xb82a, 0x1, 0x1);
        gbc.writeMem(0xe433, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x8e8f);
        EXPECT(gbc.pc(), 0xe434);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe433), 0x88);
        // 88 03DF
        gbc.setState(0x9240, 0x4121, 0x9b40, 0x1b7, 0x297a, 0x1f85, 0x0, 0x1);
        gbc.writeMem(0x9240, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x4121);
        EXPECT(gbc.pc(), 0x9241);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9240), 0x88);
        // 88 03E0
        gbc.setState(0x3df4, 0x6340, 0x58f0, 0xbd0c, 0xa6f9, 0xcc39, 0x1, 0x0);
        gbc.writeMem(0x3df4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x6340);
        EXPECT(gbc.pc(), 0x3df5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 03E1
        gbc.setState(0x1f6e, 0xaf4, 0x1000, 0x4572, 0xaef6, 0x63d3, 0x0, 0x1);
        gbc.writeMem(0x1f6e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xaf4);
        EXPECT(gbc.pc(), 0x1f6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 88 03E2
        gbc.setState(0x75c3, 0xa9f6, 0xa420, 0xc5f9, 0x789e, 0xae8c, 0x0, 0x1);
        gbc.writeMem(0x75c3, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xa9f6);
        EXPECT(gbc.pc(), 0x75c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 88 03E3
        gbc.setState(0xd04b, 0xc017, 0x4890, 0x6584, 0xe59, 0x704f, 0x1, 0x0);
        gbc.writeMem(0xd04b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xc017);
        EXPECT(gbc.pc(), 0xd04c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd04b), 0x88);
        // 88 03E4
        gbc.setState(0x68a4, 0x7b5, 0xf980, 0x9ed3, 0x9b93, 0xa85f, 0x1, 0x1);
        gbc.writeMem(0x68a4, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x7b5);
        EXPECT(gbc.pc(), 0x68a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 03E5
        gbc.setState(0x995b, 0xe86d, 0x29d0, 0x78d3, 0xaa3e, 0xf0bb, 0x0, 0x1);
        gbc.writeMem(0x995b, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xe86d);
        EXPECT(gbc.pc(), 0x995c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x995b), 0x88);
        // 88 03E6
        gbc.setState(0x3bec, 0x8957, 0xf590, 0xab7f, 0xd018, 0x7afa, 0x1, 0x0);
        gbc.writeMem(0x3bec, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x8957);
        EXPECT(gbc.pc(), 0x3bed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 88 03E7
        gbc.setState(0x1fde, 0xd019, 0x7380, 0x3ba8, 0xec3c, 0x9b1f, 0x0, 0x1);
        gbc.writeMem(0x1fde, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xd019);
        EXPECT(gbc.pc(), 0x1fdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
    }
}
#endif
