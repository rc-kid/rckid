#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_9c)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_9c) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 9C 0000
        gbc.setState(0x51cb, 0xf4f, 0xdf60, 0xff5e, 0x83d, 0x40e4, 0x1, 0x0);
        gbc.writeMem(0x51cb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xf4f);
        EXPECT(gbc.pc(), 0x51cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0001
        gbc.setState(0x975a, 0x8a48, 0xf7d0, 0x193e, 0xeb5b, 0x4d9b, 0x1, 0x1);
        gbc.writeMem(0x975a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x8a48);
        EXPECT(gbc.pc(), 0x975b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x975a), 0x9c);
        // 9C 0002
        gbc.setState(0x43ab, 0xdc82, 0x4b40, 0x5d69, 0xaa2d, 0x7544, 0x0, 0x1);
        gbc.writeMem(0x43ab, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xdc82);
        EXPECT(gbc.pc(), 0x43ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0003
        gbc.setState(0xcc33, 0x10aa, 0x1730, 0x839a, 0x5762, 0xcdbe, 0x1, 0x0);
        gbc.writeMem(0xcc33, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x10aa);
        EXPECT(gbc.pc(), 0xcc34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc33), 0x9c);
        // 9C 0004
        gbc.setState(0x293b, 0x45a4, 0xce90, 0x43bc, 0x8232, 0xcc8a, 0x0, 0x0);
        gbc.writeMem(0x293b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x45a4);
        EXPECT(gbc.pc(), 0x293c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0005
        gbc.setState(0xcd43, 0x3933, 0x3210, 0xb8d9, 0xd25b, 0xbeae, 0x1, 0x1);
        gbc.writeMem(0xcd43, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x3933);
        EXPECT(gbc.pc(), 0xcd44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd43), 0x9c);
        // 9C 0006
        gbc.setState(0x6fa1, 0xaf08, 0xfec0, 0x6b59, 0x9846, 0x1548, 0x0, 0x0);
        gbc.writeMem(0x6fa1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xaf08);
        EXPECT(gbc.pc(), 0x6fa2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0007
        gbc.setState(0x5070, 0x69d9, 0xb920, 0x5cb8, 0xd9dd, 0xc1f4, 0x1, 0x1);
        gbc.writeMem(0x5070, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x69d9);
        EXPECT(gbc.pc(), 0x5071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0008
        gbc.setState(0xb9b, 0x1224, 0xe190, 0xdeee, 0xa724, 0x8044, 0x0, 0x1);
        gbc.writeMem(0xb9b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x1224);
        EXPECT(gbc.pc(), 0xb9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0009
        gbc.setState(0x5f6b, 0xb944, 0xd1c0, 0x7058, 0xb740, 0xe065, 0x0, 0x0);
        gbc.writeMem(0x5f6b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xb944);
        EXPECT(gbc.pc(), 0x5f6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 000A
        gbc.setState(0x3e52, 0x9e86, 0x7cd0, 0x63ae, 0xca14, 0x67c4, 0x0, 0x1);
        gbc.writeMem(0x3e52, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x9e86);
        EXPECT(gbc.pc(), 0x3e53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 000B
        gbc.setState(0xdbec, 0x9fe3, 0x5180, 0xb5e0, 0xc0af, 0x7efe, 0x0, 0x1);
        gbc.writeMem(0xdbec, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x9fe3);
        EXPECT(gbc.pc(), 0xdbed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbec), 0x9c);
        // 9C 000C
        gbc.setState(0x8404, 0x94ce, 0xe8a0, 0xfe78, 0x9639, 0x86d4, 0x0, 0x1);
        gbc.writeMem(0x8404, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x94ce);
        EXPECT(gbc.pc(), 0x8405);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8404), 0x9c);
        // 9C 000D
        gbc.setState(0x7360, 0x2b4d, 0xf2d0, 0x4f15, 0x4e2, 0xc730, 0x1, 0x0);
        gbc.writeMem(0x7360, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x2b4d);
        EXPECT(gbc.pc(), 0x7361);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 000E
        gbc.setState(0x177e, 0x8a51, 0x70a0, 0xb850, 0x95ed, 0x6953, 0x1, 0x0);
        gbc.writeMem(0x177e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x8a51);
        EXPECT(gbc.pc(), 0x177f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 000F
        gbc.setState(0xda34, 0x4aa1, 0xd7e0, 0xe4bc, 0x9ee9, 0x1ed0, 0x0, 0x0);
        gbc.writeMem(0xda34, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x4aa1);
        EXPECT(gbc.pc(), 0xda35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda34), 0x9c);
        // 9C 0010
        gbc.setState(0x3b25, 0x390b, 0x54f0, 0xdf59, 0x82fb, 0xe37a, 0x1, 0x0);
        gbc.writeMem(0x3b25, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x390b);
        EXPECT(gbc.pc(), 0x3b26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0011
        gbc.setState(0x47e9, 0xa91c, 0x8410, 0xbc2c, 0xb21c, 0xe9fe, 0x0, 0x1);
        gbc.writeMem(0x47e9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xa91c);
        EXPECT(gbc.pc(), 0x47ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0012
        gbc.setState(0x44a2, 0x2b7c, 0xb8f0, 0x5c2f, 0xd6c, 0x825c, 0x1, 0x0);
        gbc.writeMem(0x44a2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x2b7c);
        EXPECT(gbc.pc(), 0x44a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0013
        gbc.setState(0x87fe, 0xc0a3, 0x4e30, 0x6463, 0xfff1, 0xbbed, 0x1, 0x0);
        gbc.writeMem(0x87fe, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xc0a3);
        EXPECT(gbc.pc(), 0x87ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87fe), 0x9c);
        // 9C 0014
        gbc.setState(0x5769, 0xb12f, 0x5800, 0x2039, 0x2255, 0xf858, 0x1, 0x1);
        gbc.writeMem(0x5769, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xb12f);
        EXPECT(gbc.pc(), 0x576a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0016
        gbc.setState(0xce8c, 0xf425, 0xb5a0, 0x8144, 0x12e1, 0x7574, 0x0, 0x1);
        gbc.writeMem(0xce8c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xf425);
        EXPECT(gbc.pc(), 0xce8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce8c), 0x9c);
        // 9C 0017
        gbc.setState(0xa604, 0x703b, 0x7a70, 0x7bd1, 0xcf49, 0x26a8, 0x1, 0x0);
        gbc.writeMem(0xa604, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x703b);
        EXPECT(gbc.pc(), 0xa605);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa604), 0x9c);
        // 9C 0019
        gbc.setState(0x6690, 0xe03e, 0xa410, 0x507c, 0x2548, 0x1f84, 0x1, 0x0);
        gbc.writeMem(0x6690, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xe03e);
        EXPECT(gbc.pc(), 0x6691);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 001A
        gbc.setState(0xb5ab, 0x5ae2, 0x41b0, 0x5d91, 0xa9cd, 0x11c8, 0x0, 0x0);
        gbc.writeMem(0xb5ab, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x5ae2);
        EXPECT(gbc.pc(), 0xb5ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5ab), 0x9c);
        // 9C 001B
        gbc.setState(0x875b, 0xe81c, 0x5e00, 0x47b3, 0x5f5f, 0xc5f9, 0x0, 0x0);
        gbc.writeMem(0x875b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xe81c);
        EXPECT(gbc.pc(), 0x875c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x875b), 0x9c);
        // 9C 001C
        gbc.setState(0xcf18, 0x21aa, 0x3ae0, 0xbee4, 0x2fc0, 0xd86, 0x1, 0x1);
        gbc.writeMem(0xcf18, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x21aa);
        EXPECT(gbc.pc(), 0xcf19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf18), 0x9c);
        // 9C 001D
        gbc.setState(0x4547, 0xf2c1, 0x5830, 0x8840, 0x53d9, 0xdab, 0x1, 0x0);
        gbc.writeMem(0x4547, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xf2c1);
        EXPECT(gbc.pc(), 0x4548);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 001E
        gbc.setState(0x3049, 0xb6f3, 0xdab0, 0x32b2, 0xf076, 0x64fd, 0x0, 0x0);
        gbc.writeMem(0x3049, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xb6f3);
        EXPECT(gbc.pc(), 0x304a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 001F
        gbc.setState(0x9369, 0x714d, 0x3c80, 0x8474, 0xd977, 0x100b, 0x1, 0x1);
        gbc.writeMem(0x9369, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x714d);
        EXPECT(gbc.pc(), 0x936a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9369), 0x9c);
        // 9C 0020
        gbc.setState(0x7d76, 0xf39b, 0x1a80, 0x9908, 0x684c, 0xe8b3, 0x1, 0x1);
        gbc.writeMem(0x7d76, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xf39b);
        EXPECT(gbc.pc(), 0x7d77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0021
        gbc.setState(0x293a, 0x1a47, 0xff10, 0x38de, 0x4e0e, 0xdda1, 0x0, 0x1);
        gbc.writeMem(0x293a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x1a47);
        EXPECT(gbc.pc(), 0x293b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0022
        gbc.setState(0x706b, 0x8950, 0x9600, 0x137e, 0x7a26, 0x1935, 0x0, 0x1);
        gbc.writeMem(0x706b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x8950);
        EXPECT(gbc.pc(), 0x706c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0023
        gbc.setState(0x6b92, 0x42ca, 0xa370, 0x14c4, 0x3193, 0x8cda, 0x0, 0x0);
        gbc.writeMem(0x6b92, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x42ca);
        EXPECT(gbc.pc(), 0x6b93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0024
        gbc.setState(0x1d09, 0x1a65, 0x51d0, 0xa5e7, 0x9bb0, 0x3d2b, 0x0, 0x1);
        gbc.writeMem(0x1d09, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x1a65);
        EXPECT(gbc.pc(), 0x1d0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0025
        gbc.setState(0x5a65, 0x4bf0, 0x73c0, 0x75b0, 0xbb9c, 0xc769, 0x1, 0x1);
        gbc.writeMem(0x5a65, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x4bf0);
        EXPECT(gbc.pc(), 0x5a66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0026
        gbc.setState(0x3d78, 0x54f1, 0x3810, 0xe2ab, 0xdafc, 0x8bcc, 0x0, 0x1);
        gbc.writeMem(0x3d78, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x54f1);
        EXPECT(gbc.pc(), 0x3d79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0027
        gbc.setState(0x6180, 0x3576, 0x8a00, 0xde78, 0xb7dc, 0xee02, 0x0, 0x0);
        gbc.writeMem(0x6180, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x3576);
        EXPECT(gbc.pc(), 0x6181);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0028
        gbc.setState(0x151e, 0x43a7, 0x9d00, 0x4707, 0x7b44, 0x528f, 0x0, 0x1);
        gbc.writeMem(0x151e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x43a7);
        EXPECT(gbc.pc(), 0x151f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0029
        gbc.setState(0xcf6a, 0x857b, 0xfbb0, 0x7484, 0xa34c, 0xaa22, 0x0, 0x1);
        gbc.writeMem(0xcf6a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x857b);
        EXPECT(gbc.pc(), 0xcf6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf6a), 0x9c);
        // 9C 002A
        gbc.setState(0xfb0, 0xee2a, 0x4040, 0xdb14, 0xc977, 0xbebd, 0x1, 0x1);
        gbc.writeMem(0xfb0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xee2a);
        EXPECT(gbc.pc(), 0xfb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 002B
        gbc.setState(0x5f6, 0x8b3c, 0xf360, 0x4940, 0x42ba, 0x676e, 0x1, 0x0);
        gbc.writeMem(0x5f6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x8b3c);
        EXPECT(gbc.pc(), 0x5f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 002C
        gbc.setState(0x347c, 0xe4e0, 0x97f0, 0x8177, 0x4d1a, 0xefaf, 0x1, 0x1);
        gbc.writeMem(0x347c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xe4e0);
        EXPECT(gbc.pc(), 0x347d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 002D
        gbc.setState(0x24dd, 0x1438, 0x20f0, 0xdc73, 0x22c1, 0xb356, 0x1, 0x1);
        gbc.writeMem(0x24dd, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x1438);
        EXPECT(gbc.pc(), 0x24de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 002E
        gbc.setState(0xde8, 0x37ae, 0xd230, 0xf97, 0xd1ec, 0x9e70, 0x0, 0x1);
        gbc.writeMem(0xde8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x37ae);
        EXPECT(gbc.pc(), 0xde9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 002F
        gbc.setState(0x67e1, 0xcad5, 0xd470, 0xdd80, 0xdbc1, 0x56c4, 0x0, 0x1);
        gbc.writeMem(0x67e1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xcad5);
        EXPECT(gbc.pc(), 0x67e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0030
        gbc.setState(0x2708, 0x4e6e, 0x3470, 0x6b6c, 0x5b3c, 0x280c, 0x0, 0x0);
        gbc.writeMem(0x2708, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x4e6e);
        EXPECT(gbc.pc(), 0x2709);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0031
        gbc.setState(0x8f53, 0xba5b, 0x5710, 0x52f0, 0xaba6, 0x7e03, 0x1, 0x0);
        gbc.writeMem(0x8f53, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xba5b);
        EXPECT(gbc.pc(), 0x8f54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f53), 0x9c);
        // 9C 0032
        gbc.setState(0xcbb, 0x1279, 0xede0, 0x1505, 0xef4b, 0xdfcf, 0x1, 0x1);
        gbc.writeMem(0xcbb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x1279);
        EXPECT(gbc.pc(), 0xcbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0033
        gbc.setState(0x7d29, 0xc304, 0x9420, 0xb111, 0x1290, 0x5f3b, 0x1, 0x0);
        gbc.writeMem(0x7d29, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc304);
        EXPECT(gbc.pc(), 0x7d2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0034
        gbc.setState(0xb81a, 0xeaa3, 0xf610, 0x340e, 0x6d53, 0x9214, 0x0, 0x0);
        gbc.writeMem(0xb81a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xeaa3);
        EXPECT(gbc.pc(), 0xb81b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb81a), 0x9c);
        // 9C 0035
        gbc.setState(0x9748, 0x1a96, 0xaee0, 0x283e, 0xc001, 0x37d8, 0x0, 0x1);
        gbc.writeMem(0x9748, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x1a96);
        EXPECT(gbc.pc(), 0x9749);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9748), 0x9c);
        // 9C 0036
        gbc.setState(0x223, 0x6d2e, 0x62f0, 0x210b, 0x5651, 0x5ac, 0x0, 0x0);
        gbc.writeMem(0x223, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x6d2e);
        EXPECT(gbc.pc(), 0x224);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0037
        gbc.setState(0xc789, 0xd401, 0x1690, 0x706f, 0x7918, 0x9c4d, 0x1, 0x1);
        gbc.writeMem(0xc789, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xd401);
        EXPECT(gbc.pc(), 0xc78a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc789), 0x9c);
        // 9C 0038
        gbc.setState(0x7ba5, 0xcb82, 0xf1c0, 0x46a8, 0xa136, 0x3f03, 0x1, 0x0);
        gbc.writeMem(0x7ba5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xcb82);
        EXPECT(gbc.pc(), 0x7ba6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0039
        gbc.setState(0xd4ec, 0xa139, 0xca50, 0x198f, 0xf155, 0x7b83, 0x1, 0x0);
        gbc.writeMem(0xd4ec, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xa139);
        EXPECT(gbc.pc(), 0xd4ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4ec), 0x9c);
        // 9C 003A
        gbc.setState(0xebd6, 0x70f7, 0x9940, 0xe578, 0xb8b8, 0xa7a2, 0x0, 0x0);
        gbc.writeMem(0xebd6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x70f7);
        EXPECT(gbc.pc(), 0xebd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebd6), 0x9c);
        // 9C 003B
        gbc.setState(0x883d, 0xa964, 0xbef0, 0xf098, 0x9cf5, 0x136b, 0x0, 0x1);
        gbc.writeMem(0x883d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xa964);
        EXPECT(gbc.pc(), 0x883e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x883d), 0x9c);
        // 9C 003C
        gbc.setState(0xa70d, 0x9b99, 0x1ef0, 0x5e1d, 0x34af, 0x3b03, 0x0, 0x0);
        gbc.writeMem(0xa70d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x9b99);
        EXPECT(gbc.pc(), 0xa70e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa70d), 0x9c);
        // 9C 003D
        gbc.setState(0x34c2, 0x6873, 0x8630, 0xccc, 0xb01a, 0xfaeb, 0x1, 0x1);
        gbc.writeMem(0x34c2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x6873);
        EXPECT(gbc.pc(), 0x34c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 003E
        gbc.setState(0x97d9, 0x3a60, 0x86b0, 0xf9a9, 0xdad9, 0x8092, 0x1, 0x0);
        gbc.writeMem(0x97d9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x3a60);
        EXPECT(gbc.pc(), 0x97da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97d9), 0x9c);
        // 9C 003F
        gbc.setState(0xc236, 0xa827, 0x280, 0x4587, 0x355c, 0x8ca0, 0x0, 0x1);
        gbc.writeMem(0xc236, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xa827);
        EXPECT(gbc.pc(), 0xc237);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc236), 0x9c);
        // 9C 0040
        gbc.setState(0x9e56, 0xf17b, 0xb590, 0xa7f0, 0xc70e, 0x2c97, 0x1, 0x1);
        gbc.writeMem(0x9e56, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xf17b);
        EXPECT(gbc.pc(), 0x9e57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e56), 0x9c);
        // 9C 0041
        gbc.setState(0xec97, 0xe9d4, 0x9e70, 0xad6, 0xc39e, 0x1399, 0x0, 0x1);
        gbc.writeMem(0xec97, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xe9d4);
        EXPECT(gbc.pc(), 0xec98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec97), 0x9c);
        // 9C 0042
        gbc.setState(0x80f6, 0x9ef8, 0xb4f0, 0xce7a, 0xace2, 0xf3cd, 0x0, 0x1);
        gbc.writeMem(0x80f6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x9ef8);
        EXPECT(gbc.pc(), 0x80f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80f6), 0x9c);
        // 9C 0043
        gbc.setState(0xce89, 0x8225, 0x8150, 0x3c7c, 0xa7c0, 0x6af, 0x1, 0x1);
        gbc.writeMem(0xce89, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x8225);
        EXPECT(gbc.pc(), 0xce8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce89), 0x9c);
        // 9C 0044
        gbc.setState(0x5d42, 0xbe2a, 0x7420, 0x5c84, 0x287e, 0x6fea, 0x0, 0x0);
        gbc.writeMem(0x5d42, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xbe2a);
        EXPECT(gbc.pc(), 0x5d43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0045
        gbc.setState(0xd784, 0x6e2a, 0xfd50, 0x37aa, 0xe953, 0xbef7, 0x0, 0x1);
        gbc.writeMem(0xd784, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x6e2a);
        EXPECT(gbc.pc(), 0xd785);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd784), 0x9c);
        // 9C 0047
        gbc.setState(0xb783, 0xf835, 0x8830, 0xf34d, 0x267d, 0xb47c, 0x1, 0x1);
        gbc.writeMem(0xb783, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xf835);
        EXPECT(gbc.pc(), 0xb784);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb783), 0x9c);
        // 9C 0049
        gbc.setState(0xae70, 0xfdfc, 0x2260, 0xee6c, 0x3fec, 0x47e, 0x0, 0x1);
        gbc.writeMem(0xae70, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xfdfc);
        EXPECT(gbc.pc(), 0xae71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae70), 0x9c);
        // 9C 004A
        gbc.setState(0xd965, 0x4ff8, 0x7790, 0x5152, 0xc608, 0xddd3, 0x1, 0x0);
        gbc.writeMem(0xd965, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x4ff8);
        EXPECT(gbc.pc(), 0xd966);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd965), 0x9c);
        // 9C 004B
        gbc.setState(0x5fd6, 0x5625, 0xa720, 0x1cda, 0x841b, 0x1b5e, 0x1, 0x1);
        gbc.writeMem(0x5fd6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x5625);
        EXPECT(gbc.pc(), 0x5fd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 004C
        gbc.setState(0x6a9, 0x57ad, 0x7660, 0x18cb, 0x357e, 0x8da2, 0x1, 0x1);
        gbc.writeMem(0x6a9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x57ad);
        EXPECT(gbc.pc(), 0x6aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 004D
        gbc.setState(0x8f3a, 0x64d9, 0x9e80, 0x2276, 0xe8ac, 0x57a, 0x1, 0x1);
        gbc.writeMem(0x8f3a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x64d9);
        EXPECT(gbc.pc(), 0x8f3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f3a), 0x9c);
        // 9C 004E
        gbc.setState(0x23ed, 0x84f, 0x69d0, 0x5e30, 0xd8dc, 0xc14f, 0x1, 0x0);
        gbc.writeMem(0x23ed, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x84f);
        EXPECT(gbc.pc(), 0x23ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 004F
        gbc.setState(0x609b, 0xbc46, 0x4af0, 0xa0a1, 0xa99c, 0x3cc0, 0x0, 0x0);
        gbc.writeMem(0x609b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xbc46);
        EXPECT(gbc.pc(), 0x609c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0050
        gbc.setState(0x1f67, 0xa887, 0x5f90, 0xf0b0, 0x7e00, 0x6a7f, 0x0, 0x1);
        gbc.writeMem(0x1f67, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xa887);
        EXPECT(gbc.pc(), 0x1f68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0051
        gbc.setState(0x3b24, 0x144d, 0x1a80, 0xb95e, 0xc479, 0xfb96, 0x0, 0x1);
        gbc.writeMem(0x3b24, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x144d);
        EXPECT(gbc.pc(), 0x3b25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0052
        gbc.setState(0xbc4b, 0x5c2c, 0xaaf0, 0xa21, 0x4408, 0xef3b, 0x0, 0x0);
        gbc.writeMem(0xbc4b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x5c2c);
        EXPECT(gbc.pc(), 0xbc4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc4b), 0x9c);
        // 9C 0053
        gbc.setState(0xefd8, 0x7d5d, 0x55c0, 0x62d9, 0xb5fc, 0x1996, 0x0, 0x1);
        gbc.writeMem(0xefd8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x7d5d);
        EXPECT(gbc.pc(), 0xefd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefd8), 0x9c);
        // 9C 0054
        gbc.setState(0x5be, 0xdd38, 0xf780, 0x7df8, 0x9cdf, 0xef11, 0x0, 0x1);
        gbc.writeMem(0x5be, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xdd38);
        EXPECT(gbc.pc(), 0x5bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0055
        gbc.setState(0x7109, 0x894, 0x4dc0, 0xa99f, 0x86eb, 0x45bd, 0x0, 0x1);
        gbc.writeMem(0x7109, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x894);
        EXPECT(gbc.pc(), 0x710a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0056
        gbc.setState(0xded, 0x6002, 0x1cb0, 0x780b, 0xf42f, 0x5469, 0x0, 0x1);
        gbc.writeMem(0xded, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x6002);
        EXPECT(gbc.pc(), 0xdee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0058
        gbc.setState(0x4d5b, 0x5e4c, 0x2ae0, 0x188a, 0xa351, 0xd28a, 0x0, 0x1);
        gbc.writeMem(0x4d5b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x5e4c);
        EXPECT(gbc.pc(), 0x4d5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0059
        gbc.setState(0x7cf5, 0xf7a0, 0xf520, 0xc251, 0x6157, 0xc92c, 0x0, 0x0);
        gbc.writeMem(0x7cf5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xf7a0);
        EXPECT(gbc.pc(), 0x7cf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 005A
        gbc.setState(0x2f58, 0xcb75, 0x7150, 0xff3b, 0x37bb, 0x6753, 0x0, 0x1);
        gbc.writeMem(0x2f58, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xcb75);
        EXPECT(gbc.pc(), 0x2f59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 005B
        gbc.setState(0xe6d8, 0xfb54, 0x3920, 0xa80a, 0x1304, 0xee23, 0x0, 0x0);
        gbc.writeMem(0xe6d8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xfb54);
        EXPECT(gbc.pc(), 0xe6d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6d8), 0x9c);
        // 9C 005D
        gbc.setState(0xf7b, 0x9afb, 0xa6c0, 0xb282, 0x2e6f, 0xd716, 0x0, 0x1);
        gbc.writeMem(0xf7b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x9afb);
        EXPECT(gbc.pc(), 0xf7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 005F
        gbc.setState(0xdd92, 0xa877, 0x1440, 0x597c, 0x4d2b, 0x50e7, 0x0, 0x1);
        gbc.writeMem(0xdd92, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa877);
        EXPECT(gbc.pc(), 0xdd93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd92), 0x9c);
        // 9C 0060
        gbc.setState(0xc4fc, 0xaa7b, 0x77e0, 0xae4c, 0xae7c, 0xb172, 0x1, 0x0);
        gbc.writeMem(0xc4fc, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xaa7b);
        EXPECT(gbc.pc(), 0xc4fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4fc), 0x9c);
        // 9C 0061
        gbc.setState(0x1bd2, 0xe5d5, 0x36b0, 0x43aa, 0x29e2, 0xb007, 0x1, 0x0);
        gbc.writeMem(0x1bd2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xe5d5);
        EXPECT(gbc.pc(), 0x1bd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0062
        gbc.setState(0xca8, 0x2a32, 0x8a80, 0xb7c2, 0x8053, 0x3e0d, 0x1, 0x0);
        gbc.writeMem(0xca8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x2a32);
        EXPECT(gbc.pc(), 0xca9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0063
        gbc.setState(0x3ddd, 0x4b9e, 0xbbe0, 0x7454, 0x4020, 0xa5b6, 0x0, 0x0);
        gbc.writeMem(0x3ddd, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x4b9e);
        EXPECT(gbc.pc(), 0x3dde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0064
        gbc.setState(0x37cf, 0xeb23, 0xe650, 0x7206, 0x23dd, 0x8c49, 0x0, 0x0);
        gbc.writeMem(0x37cf, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xeb23);
        EXPECT(gbc.pc(), 0x37d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0065
        gbc.setState(0x8611, 0x22fe, 0x2560, 0x6492, 0x7f2b, 0x6c70, 0x0, 0x0);
        gbc.writeMem(0x8611, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x22fe);
        EXPECT(gbc.pc(), 0x8612);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8611), 0x9c);
        // 9C 0066
        gbc.setState(0x90c3, 0x963d, 0x2700, 0x866a, 0xe81a, 0x742c, 0x0, 0x0);
        gbc.writeMem(0x90c3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x963d);
        EXPECT(gbc.pc(), 0x90c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90c3), 0x9c);
        // 9C 0067
        gbc.setState(0xcee, 0x13cb, 0xdee0, 0x941e, 0xf684, 0x387e, 0x0, 0x0);
        gbc.writeMem(0xcee, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x13cb);
        EXPECT(gbc.pc(), 0xcef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0069
        gbc.setState(0xcfb4, 0xb19b, 0x8680, 0xcc4a, 0xdd5a, 0xd3f4, 0x0, 0x1);
        gbc.writeMem(0xcfb4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb19b);
        EXPECT(gbc.pc(), 0xcfb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfb4), 0x9c);
        // 9C 006A
        gbc.setState(0x561a, 0x9447, 0xde80, 0xb1ef, 0xd4, 0xfa7f, 0x0, 0x1);
        gbc.writeMem(0x561a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x9447);
        EXPECT(gbc.pc(), 0x561b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 006B
        gbc.setState(0x39a8, 0x143b, 0xa1d0, 0x43fd, 0xbcd9, 0xb7c1, 0x1, 0x1);
        gbc.writeMem(0x39a8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x143b);
        EXPECT(gbc.pc(), 0x39a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 006C
        gbc.setState(0x6e49, 0x20e, 0x7000, 0xd57c, 0x976d, 0x6bb0, 0x0, 0x0);
        gbc.writeMem(0x6e49, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x20e);
        EXPECT(gbc.pc(), 0x6e4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 006D
        gbc.setState(0x5309, 0xf594, 0xd700, 0xbae3, 0x5cff, 0x27cd, 0x1, 0x1);
        gbc.writeMem(0x5309, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf594);
        EXPECT(gbc.pc(), 0x530a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 006E
        gbc.setState(0xd7c5, 0xc97a, 0x1ed0, 0x318, 0xcfc1, 0x5e63, 0x1, 0x1);
        gbc.writeMem(0xd7c5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xc97a);
        EXPECT(gbc.pc(), 0xd7c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7c5), 0x9c);
        // 9C 006F
        gbc.setState(0xd89b, 0xc782, 0xb060, 0xbe0, 0xa5e, 0x499, 0x1, 0x1);
        gbc.writeMem(0xd89b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xc782);
        EXPECT(gbc.pc(), 0xd89c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd89b), 0x9c);
        // 9C 0070
        gbc.setState(0x72f4, 0xcb41, 0x99f0, 0x53df, 0xee94, 0xbd5b, 0x1, 0x1);
        gbc.writeMem(0x72f4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xcb41);
        EXPECT(gbc.pc(), 0x72f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0071
        gbc.setState(0xd30d, 0xb817, 0x3100, 0xfa40, 0x2d4c, 0xceaf, 0x0, 0x1);
        gbc.writeMem(0xd30d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xb817);
        EXPECT(gbc.pc(), 0xd30e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd30d), 0x9c);
        // 9C 0072
        gbc.setState(0x492c, 0x8139, 0x9e10, 0x849e, 0x7127, 0x8807, 0x1, 0x0);
        gbc.writeMem(0x492c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x8139);
        EXPECT(gbc.pc(), 0x492d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0073
        gbc.setState(0x64a7, 0xa759, 0x7b30, 0x2100, 0xfefd, 0x3341, 0x0, 0x0);
        gbc.writeMem(0x64a7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xa759);
        EXPECT(gbc.pc(), 0x64a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0074
        gbc.setState(0x68f6, 0xcb97, 0x12d0, 0xe612, 0x7c97, 0xef7b, 0x1, 0x0);
        gbc.writeMem(0x68f6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xcb97);
        EXPECT(gbc.pc(), 0x68f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0075
        gbc.setState(0x663c, 0x5d8, 0xdee0, 0xe8f8, 0x8a65, 0x1e06, 0x0, 0x1);
        gbc.writeMem(0x663c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x5d8);
        EXPECT(gbc.pc(), 0x663d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0076
        gbc.setState(0x5e0f, 0xb4c0, 0x1000, 0xa103, 0xd015, 0xb29d, 0x1, 0x0);
        gbc.writeMem(0x5e0f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xb4c0);
        EXPECT(gbc.pc(), 0x5e10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0077
        gbc.setState(0x342a, 0xf4ef, 0x81b0, 0x9a53, 0xac77, 0xdc81, 0x0, 0x1);
        gbc.writeMem(0x342a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xf4ef);
        EXPECT(gbc.pc(), 0x342b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0078
        gbc.setState(0x8895, 0xfba1, 0xda10, 0xd0ba, 0x487d, 0x234b, 0x0, 0x1);
        gbc.writeMem(0x8895, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xfba1);
        EXPECT(gbc.pc(), 0x8896);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8895), 0x9c);
        // 9C 007A
        gbc.setState(0xa3dc, 0x3189, 0x6600, 0x1ee3, 0xa2a5, 0x4c12, 0x1, 0x0);
        gbc.writeMem(0xa3dc, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x3189);
        EXPECT(gbc.pc(), 0xa3dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3dc), 0x9c);
        // 9C 007B
        gbc.setState(0xcb59, 0xe1b0, 0x37a0, 0xc086, 0x655c, 0xeb36, 0x0, 0x0);
        gbc.writeMem(0xcb59, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xe1b0);
        EXPECT(gbc.pc(), 0xcb5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb59), 0x9c);
        // 9C 007C
        gbc.setState(0xcbb4, 0xf5f5, 0xb1d0, 0x30c2, 0x710e, 0xaf72, 0x1, 0x0);
        gbc.writeMem(0xcbb4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xf5f5);
        EXPECT(gbc.pc(), 0xcbb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbb4), 0x9c);
        // 9C 007D
        gbc.setState(0x367f, 0x28c1, 0xe1d0, 0xf49f, 0x3911, 0x19ac, 0x0, 0x1);
        gbc.writeMem(0x367f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x28c1);
        EXPECT(gbc.pc(), 0x3680);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 007E
        gbc.setState(0x8c1b, 0x568d, 0x2ae0, 0x20fc, 0xe483, 0xf363, 0x1, 0x1);
        gbc.writeMem(0x8c1b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x568d);
        EXPECT(gbc.pc(), 0x8c1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c1b), 0x9c);
        // 9C 007F
        gbc.setState(0x5810, 0x41df, 0xde40, 0xd9f8, 0xf063, 0x7cc3, 0x0, 0x0);
        gbc.writeMem(0x5810, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x41df);
        EXPECT(gbc.pc(), 0x5811);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0080
        gbc.setState(0x8095, 0x3a3f, 0x80d0, 0x879a, 0x5a09, 0x43d4, 0x0, 0x0);
        gbc.writeMem(0x8095, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x3a3f);
        EXPECT(gbc.pc(), 0x8096);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8095), 0x9c);
        // 9C 0081
        gbc.setState(0x5884, 0x3af9, 0xedc0, 0x2c2d, 0xaf3d, 0xbc4a, 0x1, 0x0);
        gbc.writeMem(0x5884, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x3af9);
        EXPECT(gbc.pc(), 0x5885);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0082
        gbc.setState(0x80de, 0xc66c, 0x25d0, 0xef7e, 0xf0ef, 0x4fa1, 0x1, 0x0);
        gbc.writeMem(0x80de, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xc66c);
        EXPECT(gbc.pc(), 0x80df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80de), 0x9c);
        // 9C 0083
        gbc.setState(0x3d21, 0xb7d0, 0x7e20, 0x5c0a, 0xd6fb, 0x3afe, 0x0, 0x0);
        gbc.writeMem(0x3d21, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xb7d0);
        EXPECT(gbc.pc(), 0x3d22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0084
        gbc.setState(0x2c7f, 0x7363, 0x2810, 0x6585, 0x4944, 0x4523, 0x0, 0x0);
        gbc.writeMem(0x2c7f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x7363);
        EXPECT(gbc.pc(), 0x2c80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0085
        gbc.setState(0x9af1, 0x1893, 0x4850, 0x71be, 0x3b04, 0x467, 0x1, 0x0);
        gbc.writeMem(0x9af1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x1893);
        EXPECT(gbc.pc(), 0x9af2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9af1), 0x9c);
        // 9C 0086
        gbc.setState(0xac38, 0xe246, 0x41a0, 0x9c18, 0x101e, 0xa075, 0x0, 0x0);
        gbc.writeMem(0xac38, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xe246);
        EXPECT(gbc.pc(), 0xac39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac38), 0x9c);
        // 9C 0087
        gbc.setState(0x1715, 0x2a7f, 0x2490, 0x8d93, 0x87e3, 0x77e4, 0x1, 0x1);
        gbc.writeMem(0x1715, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x2a7f);
        EXPECT(gbc.pc(), 0x1716);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0088
        gbc.setState(0x87e3, 0x818d, 0xe930, 0xfde0, 0x322a, 0xfb17, 0x1, 0x1);
        gbc.writeMem(0x87e3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x818d);
        EXPECT(gbc.pc(), 0x87e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87e3), 0x9c);
        // 9C 0089
        gbc.setState(0x8c3b, 0x8abd, 0x27f0, 0xe025, 0x5c39, 0x224d, 0x1, 0x0);
        gbc.writeMem(0x8c3b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x8abd);
        EXPECT(gbc.pc(), 0x8c3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c3b), 0x9c);
        // 9C 008A
        gbc.setState(0x147b, 0x40d1, 0x1cb0, 0x5f91, 0x3db1, 0x690, 0x0, 0x1);
        gbc.writeMem(0x147b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x40d1);
        EXPECT(gbc.pc(), 0x147c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 008B
        gbc.setState(0x6f2a, 0xabb0, 0x6a70, 0x878c, 0x6cb5, 0x47e, 0x1, 0x1);
        gbc.writeMem(0x6f2a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xabb0);
        EXPECT(gbc.pc(), 0x6f2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 008C
        gbc.setState(0x23cb, 0x5192, 0x53c0, 0x94c9, 0x2729, 0xef9f, 0x0, 0x0);
        gbc.writeMem(0x23cb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x5192);
        EXPECT(gbc.pc(), 0x23cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 008D
        gbc.setState(0x8009, 0x509, 0xea80, 0x7baf, 0x82f1, 0xc59a, 0x1, 0x0);
        gbc.writeMem(0x8009, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x509);
        EXPECT(gbc.pc(), 0x800a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8009), 0x9c);
        // 9C 008E
        gbc.setState(0xec6f, 0x1815, 0x9540, 0xb88, 0xfc7e, 0xaa64, 0x1, 0x1);
        gbc.writeMem(0xec6f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x1815);
        EXPECT(gbc.pc(), 0xec70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec6f), 0x9c);
        // 9C 008F
        gbc.setState(0xe995, 0x3748, 0x6e40, 0xae4e, 0x1e51, 0x790f, 0x1, 0x1);
        gbc.writeMem(0xe995, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x3748);
        EXPECT(gbc.pc(), 0xe996);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe995), 0x9c);
        // 9C 0090
        gbc.setState(0x40eb, 0x5762, 0x6360, 0x9c49, 0x36e7, 0xb993, 0x1, 0x0);
        gbc.writeMem(0x40eb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x5762);
        EXPECT(gbc.pc(), 0x40ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0091
        gbc.setState(0x424b, 0x36d9, 0x59d0, 0xc4c3, 0x2782, 0x5e73, 0x1, 0x1);
        gbc.writeMem(0x424b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x36d9);
        EXPECT(gbc.pc(), 0x424c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0092
        gbc.setState(0x8e28, 0xd6ae, 0x5700, 0x3c3a, 0x211e, 0xfc1f, 0x0, 0x1);
        gbc.writeMem(0x8e28, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xd6ae);
        EXPECT(gbc.pc(), 0x8e29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e28), 0x9c);
        // 9C 0093
        gbc.setState(0x3817, 0xdc9d, 0x6980, 0xdcd6, 0x161d, 0x879c, 0x1, 0x1);
        gbc.writeMem(0x3817, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xdc9d);
        EXPECT(gbc.pc(), 0x3818);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0094
        gbc.setState(0x9bb7, 0xb7ba, 0xce60, 0xeb28, 0x3e1d, 0x32d7, 0x0, 0x0);
        gbc.writeMem(0x9bb7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xb7ba);
        EXPECT(gbc.pc(), 0x9bb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bb7), 0x9c);
        // 9C 0095
        gbc.setState(0xe080, 0xd0d0, 0x2fb0, 0x3f97, 0x7565, 0xb4f3, 0x1, 0x0);
        gbc.writeMem(0xe080, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xd0d0);
        EXPECT(gbc.pc(), 0xe081);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe080), 0x9c);
        // 9C 0097
        gbc.setState(0x6f7e, 0x6c23, 0xf460, 0x6aff, 0x1bb8, 0x17b6, 0x1, 0x0);
        gbc.writeMem(0x6f7e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x6c23);
        EXPECT(gbc.pc(), 0x6f7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0098
        gbc.setState(0xeb92, 0x1ff4, 0x3f30, 0x376, 0x8862, 0x16a3, 0x1, 0x0);
        gbc.writeMem(0xeb92, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x1ff4);
        EXPECT(gbc.pc(), 0xeb93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb92), 0x9c);
        // 9C 0099
        gbc.setState(0x7fa2, 0xd4f0, 0xdd70, 0xb5cd, 0xd02d, 0x8c71, 0x1, 0x1);
        gbc.writeMem(0x7fa2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xd4f0);
        EXPECT(gbc.pc(), 0x7fa3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 009A
        gbc.setState(0x4807, 0xee4, 0xf770, 0x1258, 0xc9b3, 0xfdcc, 0x1, 0x1);
        gbc.writeMem(0x4807, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xee4);
        EXPECT(gbc.pc(), 0x4808);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 009B
        gbc.setState(0x5a9c, 0x40a7, 0x79a0, 0x3c1b, 0xa76d, 0xafe7, 0x1, 0x0);
        gbc.writeMem(0x5a9c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x40a7);
        EXPECT(gbc.pc(), 0x5a9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 009C
        gbc.setState(0x47f8, 0x4a3c, 0x4050, 0x7ff2, 0x90bb, 0x5396, 0x1, 0x1);
        gbc.writeMem(0x47f8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x4a3c);
        EXPECT(gbc.pc(), 0x47f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 009D
        gbc.setState(0x826e, 0xd298, 0x3d90, 0xe198, 0x5760, 0xc820, 0x0, 0x1);
        gbc.writeMem(0x826e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd298);
        EXPECT(gbc.pc(), 0x826f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x826e), 0x9c);
        // 9C 009E
        gbc.setState(0x61c1, 0x1983, 0x6730, 0xf6ff, 0x6f3b, 0x11, 0x1, 0x0);
        gbc.writeMem(0x61c1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x1983);
        EXPECT(gbc.pc(), 0x61c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 009F
        gbc.setState(0xe787, 0x71de, 0x7ca0, 0xbdf3, 0x20f2, 0x2c64, 0x0, 0x0);
        gbc.writeMem(0xe787, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x71de);
        EXPECT(gbc.pc(), 0xe788);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe787), 0x9c);
        // 9C 00A0
        gbc.setState(0x405f, 0xcf8c, 0x82f0, 0xb554, 0x2ad5, 0xfde5, 0x0, 0x1);
        gbc.writeMem(0x405f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xcf8c);
        EXPECT(gbc.pc(), 0x4060);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 00A1
        gbc.setState(0x80ec, 0x725c, 0x93f0, 0x654b, 0xfe5c, 0x6783, 0x1, 0x1);
        gbc.writeMem(0x80ec, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x725c);
        EXPECT(gbc.pc(), 0x80ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80ec), 0x9c);
        // 9C 00A2
        gbc.setState(0x1abb, 0x3c51, 0x82f0, 0x1b35, 0x1e68, 0x2816, 0x0, 0x1);
        gbc.writeMem(0x1abb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x3c51);
        EXPECT(gbc.pc(), 0x1abc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 00A3
        gbc.setState(0xd5aa, 0xb7d0, 0xaee0, 0x21d6, 0xf2c6, 0x3598, 0x0, 0x1);
        gbc.writeMem(0xd5aa, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xb7d0);
        EXPECT(gbc.pc(), 0xd5ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5aa), 0x9c);
        // 9C 00A4
        gbc.setState(0x4186, 0xfe98, 0x4e30, 0x7196, 0x6101, 0xe271, 0x1, 0x1);
        gbc.writeMem(0x4186, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xfe98);
        EXPECT(gbc.pc(), 0x4187);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 00A5
        gbc.setState(0x807e, 0xe2f0, 0xa930, 0x45f7, 0xe57e, 0xf14b, 0x0, 0x0);
        gbc.writeMem(0x807e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xe2f0);
        EXPECT(gbc.pc(), 0x807f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x807e), 0x9c);
        // 9C 00A6
        gbc.setState(0x26e5, 0xb97c, 0x1180, 0xa115, 0xae1c, 0x3f72, 0x0, 0x0);
        gbc.writeMem(0x26e5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xb97c);
        EXPECT(gbc.pc(), 0x26e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 00A7
        gbc.setState(0x41f6, 0x5369, 0xdcb0, 0x1590, 0xa96b, 0x9439, 0x0, 0x1);
        gbc.writeMem(0x41f6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x5369);
        EXPECT(gbc.pc(), 0x41f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 00A8
        gbc.setState(0xa3e3, 0x960a, 0xd060, 0xd95c, 0xb0e2, 0xcbaf, 0x1, 0x0);
        gbc.writeMem(0xa3e3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x960a);
        EXPECT(gbc.pc(), 0xa3e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3e3), 0x9c);
        // 9C 00A9
        gbc.setState(0x484e, 0xfc38, 0xed70, 0xbdea, 0x5e03, 0xfa6c, 0x1, 0x0);
        gbc.writeMem(0x484e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xfc38);
        EXPECT(gbc.pc(), 0x484f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 00AA
        gbc.setState(0x9941, 0x6fbe, 0x6040, 0x3b7, 0x967d, 0x5477, 0x1, 0x0);
        gbc.writeMem(0x9941, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x6fbe);
        EXPECT(gbc.pc(), 0x9942);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9941), 0x9c);
        // 9C 00AB
        gbc.setState(0x9461, 0x946f, 0x1790, 0x1b32, 0x302d, 0xd8b4, 0x1, 0x1);
        gbc.writeMem(0x9461, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x946f);
        EXPECT(gbc.pc(), 0x9462);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9461), 0x9c);
        // 9C 00AC
        gbc.setState(0x6afd, 0xc041, 0xd260, 0xd990, 0xa8a2, 0x97d, 0x0, 0x0);
        gbc.writeMem(0x6afd, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xc041);
        EXPECT(gbc.pc(), 0x6afe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 00AD
        gbc.setState(0xeb84, 0xa275, 0xa130, 0x39f3, 0x3b07, 0x9088, 0x0, 0x0);
        gbc.writeMem(0xeb84, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xa275);
        EXPECT(gbc.pc(), 0xeb85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb84), 0x9c);
        // 9C 00AE
        gbc.setState(0x74ec, 0xa267, 0x8700, 0xe077, 0xe726, 0xb6c2, 0x1, 0x0);
        gbc.writeMem(0x74ec, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xa267);
        EXPECT(gbc.pc(), 0x74ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 00AF
        gbc.setState(0x68cd, 0x9c32, 0x2c10, 0x9eb3, 0xd7ce, 0x7ca8, 0x0, 0x0);
        gbc.writeMem(0x68cd, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x9c32);
        EXPECT(gbc.pc(), 0x68ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 00B0
        gbc.setState(0x77e3, 0x492d, 0x6620, 0x3446, 0xefa9, 0x945, 0x1, 0x0);
        gbc.writeMem(0x77e3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x492d);
        EXPECT(gbc.pc(), 0x77e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 00B1
        gbc.setState(0xe582, 0x5065, 0x9470, 0x9be, 0x6f0, 0xccde, 0x1, 0x1);
        gbc.writeMem(0xe582, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x5065);
        EXPECT(gbc.pc(), 0xe583);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe582), 0x9c);
        // 9C 00B3
        gbc.setState(0xa3da, 0xcfc0, 0xd980, 0xc34f, 0xc4de, 0xea26, 0x1, 0x0);
        gbc.writeMem(0xa3da, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xcfc0);
        EXPECT(gbc.pc(), 0xa3db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3da), 0x9c);
        // 9C 00B4
        gbc.setState(0x8c4f, 0x2620, 0x5310, 0xdbb1, 0x148c, 0x316b, 0x1, 0x0);
        gbc.writeMem(0x8c4f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x2620);
        EXPECT(gbc.pc(), 0x8c50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c4f), 0x9c);
        // 9C 00B5
        gbc.setState(0x6799, 0x8933, 0x5340, 0x1df5, 0xbcf3, 0x4737, 0x1, 0x0);
        gbc.writeMem(0x6799, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x8933);
        EXPECT(gbc.pc(), 0x679a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 00B6
        gbc.setState(0x39c2, 0x33f4, 0x8aa0, 0x2a32, 0x251a, 0xaacd, 0x1, 0x1);
        gbc.writeMem(0x39c2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x33f4);
        EXPECT(gbc.pc(), 0x39c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 00B7
        gbc.setState(0x319a, 0x2360, 0xb760, 0x104e, 0xa324, 0x21fa, 0x1, 0x1);
        gbc.writeMem(0x319a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x2360);
        EXPECT(gbc.pc(), 0x319b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 00B8
        gbc.setState(0xafd6, 0x5328, 0x75b0, 0xf047, 0xc2c6, 0xc527, 0x1, 0x1);
        gbc.writeMem(0xafd6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x5328);
        EXPECT(gbc.pc(), 0xafd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafd6), 0x9c);
        // 9C 00B9
        gbc.setState(0x3a06, 0x4e35, 0xd990, 0xab0b, 0xc8b, 0xdbf3, 0x1, 0x0);
        gbc.writeMem(0x3a06, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x4e35);
        EXPECT(gbc.pc(), 0x3a07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 00BA
        gbc.setState(0xd2b5, 0x3e2a, 0x5590, 0x3640, 0x74e0, 0xa7e8, 0x0, 0x0);
        gbc.writeMem(0xd2b5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x3e2a);
        EXPECT(gbc.pc(), 0xd2b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2b5), 0x9c);
        // 9C 00BB
        gbc.setState(0xd397, 0x572e, 0x9d90, 0x5566, 0x2774, 0xbb70, 0x1, 0x0);
        gbc.writeMem(0xd397, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x572e);
        EXPECT(gbc.pc(), 0xd398);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd397), 0x9c);
        // 9C 00BC
        gbc.setState(0x9319, 0x5e0a, 0x4cd0, 0x5aa1, 0x6486, 0xb9d4, 0x0, 0x1);
        gbc.writeMem(0x9319, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x5e0a);
        EXPECT(gbc.pc(), 0x931a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9319), 0x9c);
        // 9C 00BD
        gbc.setState(0x377e, 0x342e, 0x1a20, 0x97a8, 0x9706, 0x1994, 0x0, 0x1);
        gbc.writeMem(0x377e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x342e);
        EXPECT(gbc.pc(), 0x377f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 00BE
        gbc.setState(0xa109, 0x2670, 0x77c0, 0x4106, 0x30e2, 0xd8a5, 0x0, 0x0);
        gbc.writeMem(0xa109, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2670);
        EXPECT(gbc.pc(), 0xa10a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa109), 0x9c);
        // 9C 00BF
        gbc.setState(0xc7d8, 0x65fe, 0xba70, 0x4489, 0xd134, 0x75ee, 0x1, 0x1);
        gbc.writeMem(0xc7d8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x65fe);
        EXPECT(gbc.pc(), 0xc7d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7d8), 0x9c);
        // 9C 00C0
        gbc.setState(0xe21d, 0x3bfd, 0x5240, 0x52fa, 0x38c, 0xed76, 0x0, 0x0);
        gbc.writeMem(0xe21d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x3bfd);
        EXPECT(gbc.pc(), 0xe21e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe21d), 0x9c);
        // 9C 00C1
        gbc.setState(0xb106, 0x7910, 0xdd70, 0x394c, 0x1164, 0x2469, 0x1, 0x0);
        gbc.writeMem(0xb106, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x7910);
        EXPECT(gbc.pc(), 0xb107);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb106), 0x9c);
        // 9C 00C2
        gbc.setState(0x8198, 0x9173, 0xabb0, 0xa159, 0xd82e, 0x8c5b, 0x0, 0x1);
        gbc.writeMem(0x8198, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x9173);
        EXPECT(gbc.pc(), 0x8199);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8198), 0x9c);
        // 9C 00C3
        gbc.setState(0x2ceb, 0x27a7, 0xa550, 0x40b7, 0xd097, 0xa7d2, 0x0, 0x0);
        gbc.writeMem(0x2ceb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x27a7);
        EXPECT(gbc.pc(), 0x2cec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 00C4
        gbc.setState(0x4c83, 0x3f83, 0x4410, 0x3c5a, 0x785c, 0xd286, 0x1, 0x0);
        gbc.writeMem(0x4c83, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x3f83);
        EXPECT(gbc.pc(), 0x4c84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 00C5
        gbc.setState(0x865e, 0x7c99, 0xd3d0, 0xa9ea, 0x9859, 0xb4aa, 0x0, 0x0);
        gbc.writeMem(0x865e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x7c99);
        EXPECT(gbc.pc(), 0x865f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x865e), 0x9c);
        // 9C 00C6
        gbc.setState(0x75e4, 0x35fd, 0x4e90, 0x76fb, 0xd389, 0xd7fa, 0x1, 0x0);
        gbc.writeMem(0x75e4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x35fd);
        EXPECT(gbc.pc(), 0x75e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 00C7
        gbc.setState(0xadfd, 0x38f4, 0x9a80, 0xd47c, 0x7701, 0x2e23, 0x0, 0x1);
        gbc.writeMem(0xadfd, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x38f4);
        EXPECT(gbc.pc(), 0xadfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadfd), 0x9c);
        // 9C 00C8
        gbc.setState(0x9491, 0xf4dc, 0x78f0, 0x91f6, 0x9589, 0x86c6, 0x0, 0x0);
        gbc.writeMem(0x9491, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xf4dc);
        EXPECT(gbc.pc(), 0x9492);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9491), 0x9c);
        // 9C 00C9
        gbc.setState(0xb7c3, 0x69e8, 0xca90, 0x5a90, 0xda1b, 0x1713, 0x0, 0x1);
        gbc.writeMem(0xb7c3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x69e8);
        EXPECT(gbc.pc(), 0xb7c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7c3), 0x9c);
        // 9C 00CA
        gbc.setState(0xb48e, 0xd572, 0x7250, 0xa1a6, 0x7efe, 0x2bd3, 0x1, 0x0);
        gbc.writeMem(0xb48e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xd572);
        EXPECT(gbc.pc(), 0xb48f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb48e), 0x9c);
        // 9C 00CB
        gbc.setState(0xbad, 0x16e2, 0x2a30, 0xf54, 0x7e6a, 0x4c58, 0x1, 0x1);
        gbc.writeMem(0xbad, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x16e2);
        EXPECT(gbc.pc(), 0xbae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 00CC
        gbc.setState(0x2177, 0x4c86, 0xea40, 0xbd09, 0xebd3, 0xe0df, 0x0, 0x0);
        gbc.writeMem(0x2177, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x4c86);
        EXPECT(gbc.pc(), 0x2178);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 00CD
        gbc.setState(0xb903, 0xaaea, 0xfc70, 0xe9b1, 0xf834, 0xdb45, 0x1, 0x1);
        gbc.writeMem(0xb903, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xaaea);
        EXPECT(gbc.pc(), 0xb904);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb903), 0x9c);
        // 9C 00CE
        gbc.setState(0x4cf3, 0xc451, 0xe0d0, 0x5a99, 0xb622, 0x64fb, 0x1, 0x1);
        gbc.writeMem(0x4cf3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xc451);
        EXPECT(gbc.pc(), 0x4cf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 00CF
        gbc.setState(0x970f, 0xb9bc, 0x74f0, 0xd6ff, 0x604c, 0xfde3, 0x1, 0x1);
        gbc.writeMem(0x970f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xb9bc);
        EXPECT(gbc.pc(), 0x9710);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x970f), 0x9c);
        // 9C 00D0
        gbc.setState(0x1a4f, 0x6355, 0xf60, 0x70ff, 0xbea6, 0x66f5, 0x0, 0x0);
        gbc.writeMem(0x1a4f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x6355);
        EXPECT(gbc.pc(), 0x1a50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 00D1
        gbc.setState(0xe4f5, 0xa7f2, 0xf2c0, 0x9248, 0x12e9, 0x7a83, 0x1, 0x0);
        gbc.writeMem(0xe4f5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xa7f2);
        EXPECT(gbc.pc(), 0xe4f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4f5), 0x9c);
        // 9C 00D2
        gbc.setState(0x2aa1, 0x448e, 0x6100, 0x89e1, 0x275d, 0x34a7, 0x0, 0x1);
        gbc.writeMem(0x2aa1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x448e);
        EXPECT(gbc.pc(), 0x2aa2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 00D3
        gbc.setState(0xbac9, 0xc7f8, 0xfd80, 0xc6a4, 0xd40a, 0x5061, 0x0, 0x0);
        gbc.writeMem(0xbac9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xc7f8);
        EXPECT(gbc.pc(), 0xbaca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbac9), 0x9c);
        // 9C 00D4
        gbc.setState(0x15cb, 0xbaa4, 0x6f90, 0xd08d, 0x5441, 0x5cd0, 0x0, 0x1);
        gbc.writeMem(0x15cb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xbaa4);
        EXPECT(gbc.pc(), 0x15cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 00D5
        gbc.setState(0xd462, 0x54e, 0x9cc0, 0x3968, 0xbf80, 0x545, 0x0, 0x1);
        gbc.writeMem(0xd462, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x54e);
        EXPECT(gbc.pc(), 0xd463);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd462), 0x9c);
        // 9C 00D6
        gbc.setState(0xed7b, 0xb177, 0xd1b0, 0x2f60, 0x56f0, 0x27e7, 0x1, 0x1);
        gbc.writeMem(0xed7b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xb177);
        EXPECT(gbc.pc(), 0xed7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed7b), 0x9c);
        // 9C 00D7
        gbc.setState(0x8438, 0x2b5d, 0xffe0, 0x12a8, 0x3260, 0x3ace, 0x0, 0x0);
        gbc.writeMem(0x8438, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x2b5d);
        EXPECT(gbc.pc(), 0x8439);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8438), 0x9c);
        // 9C 00D8
        gbc.setState(0x6ef5, 0x22a4, 0x7d30, 0xc349, 0xd9fe, 0xcc2f, 0x1, 0x1);
        gbc.writeMem(0x6ef5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x22a4);
        EXPECT(gbc.pc(), 0x6ef6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 00D9
        gbc.setState(0x3cc4, 0x6ca4, 0x8420, 0x2c1d, 0x5a83, 0x933f, 0x0, 0x0);
        gbc.writeMem(0x3cc4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x6ca4);
        EXPECT(gbc.pc(), 0x3cc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 00DA
        gbc.setState(0xb41d, 0x4830, 0x7780, 0xcc01, 0x491b, 0x32d9, 0x1, 0x0);
        gbc.writeMem(0xb41d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x4830);
        EXPECT(gbc.pc(), 0xb41e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb41d), 0x9c);
        // 9C 00DB
        gbc.setState(0xaa42, 0xd217, 0xad80, 0x599, 0xa977, 0xc88e, 0x1, 0x1);
        gbc.writeMem(0xaa42, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xd217);
        EXPECT(gbc.pc(), 0xaa43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa42), 0x9c);
        // 9C 00DC
        gbc.setState(0xd045, 0x2a02, 0x6e0, 0xf49a, 0x77fd, 0x5c61, 0x0, 0x1);
        gbc.writeMem(0xd045, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x2a02);
        EXPECT(gbc.pc(), 0xd046);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd045), 0x9c);
        // 9C 00DD
        gbc.setState(0x90c5, 0x3e89, 0xd820, 0xa5d3, 0xf225, 0x999f, 0x0, 0x0);
        gbc.writeMem(0x90c5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x3e89);
        EXPECT(gbc.pc(), 0x90c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90c5), 0x9c);
        // 9C 00DE
        gbc.setState(0x5a2, 0x4424, 0xa420, 0xdec3, 0xae1d, 0xa228, 0x0, 0x1);
        gbc.writeMem(0x5a2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x4424);
        EXPECT(gbc.pc(), 0x5a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 00DF
        gbc.setState(0x637f, 0x537f, 0xc300, 0x1b1d, 0xb3ea, 0x5e20, 0x1, 0x0);
        gbc.writeMem(0x637f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x537f);
        EXPECT(gbc.pc(), 0x6380);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 00E0
        gbc.setState(0x5540, 0x28e6, 0xaef0, 0xfe94, 0xe21f, 0x1059, 0x0, 0x0);
        gbc.writeMem(0x5540, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x28e6);
        EXPECT(gbc.pc(), 0x5541);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 00E1
        gbc.setState(0x56de, 0x30d2, 0x5480, 0x5699, 0xa925, 0x9c93, 0x0, 0x1);
        gbc.writeMem(0x56de, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x30d2);
        EXPECT(gbc.pc(), 0x56df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 00E2
        gbc.setState(0xefb6, 0x407b, 0x1310, 0x3050, 0x8088, 0x69cb, 0x0, 0x1);
        gbc.writeMem(0xefb6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x407b);
        EXPECT(gbc.pc(), 0xefb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefb6), 0x9c);
        // 9C 00E4
        gbc.setState(0x759f, 0xd57d, 0x2860, 0x9f8, 0x2d68, 0x1d65, 0x1, 0x1);
        gbc.writeMem(0x759f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xd57d);
        EXPECT(gbc.pc(), 0x75a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 00E5
        gbc.setState(0x37ee, 0xc138, 0x3ce0, 0x7d07, 0x1ef4, 0xce4b, 0x0, 0x1);
        gbc.writeMem(0x37ee, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xc138);
        EXPECT(gbc.pc(), 0x37ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 00E6
        gbc.setState(0x81ae, 0xa2f6, 0xc010, 0x4e31, 0xd679, 0xb29a, 0x0, 0x1);
        gbc.writeMem(0x81ae, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xa2f6);
        EXPECT(gbc.pc(), 0x81af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81ae), 0x9c);
        // 9C 00E7
        gbc.setState(0xe04a, 0xa5d4, 0xa520, 0xaef7, 0x4c57, 0x5f27, 0x1, 0x0);
        gbc.writeMem(0xe04a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xa5d4);
        EXPECT(gbc.pc(), 0xe04b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe04a), 0x9c);
        // 9C 00E8
        gbc.setState(0xc3b2, 0xd39b, 0x16a0, 0xb939, 0x4514, 0x197e, 0x1, 0x0);
        gbc.writeMem(0xc3b2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xd39b);
        EXPECT(gbc.pc(), 0xc3b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3b2), 0x9c);
        // 9C 00E9
        gbc.setState(0x1ed4, 0xed3f, 0x8310, 0x3b57, 0x4db8, 0x222d, 0x0, 0x0);
        gbc.writeMem(0x1ed4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xed3f);
        EXPECT(gbc.pc(), 0x1ed5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 00EA
        gbc.setState(0x9b94, 0x70d3, 0x3490, 0xb7d8, 0x1c0, 0x582a, 0x0, 0x0);
        gbc.writeMem(0x9b94, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x70d3);
        EXPECT(gbc.pc(), 0x9b95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b94), 0x9c);
        // 9C 00EB
        gbc.setState(0x3843, 0xba03, 0x8210, 0xc33c, 0x2ce7, 0x5412, 0x1, 0x0);
        gbc.writeMem(0x3843, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xba03);
        EXPECT(gbc.pc(), 0x3844);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 00EC
        gbc.setState(0x4fb9, 0x8a8e, 0x4120, 0x1ddd, 0xaaa2, 0x9bf0, 0x1, 0x1);
        gbc.writeMem(0x4fb9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x8a8e);
        EXPECT(gbc.pc(), 0x4fba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 00ED
        gbc.setState(0x166a, 0xee26, 0x2bc0, 0xaf50, 0xbdaf, 0xe385, 0x0, 0x0);
        gbc.writeMem(0x166a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xee26);
        EXPECT(gbc.pc(), 0x166b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 00EE
        gbc.setState(0xcada, 0xd94c, 0x9df0, 0x4775, 0x8b22, 0x903a, 0x1, 0x0);
        gbc.writeMem(0xcada, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xd94c);
        EXPECT(gbc.pc(), 0xcadb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcada), 0x9c);
        // 9C 00EF
        gbc.setState(0x66f1, 0x3339, 0x70c0, 0x5fe3, 0x66b9, 0xe7c2, 0x0, 0x1);
        gbc.writeMem(0x66f1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x3339);
        EXPECT(gbc.pc(), 0x66f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 00F0
        gbc.setState(0x605b, 0x73a9, 0xf600, 0x50d7, 0x132f, 0x29ae, 0x1, 0x0);
        gbc.writeMem(0x605b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x73a9);
        EXPECT(gbc.pc(), 0x605c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 00F1
        gbc.setState(0x3a65, 0x7850, 0x62f0, 0x38f0, 0xf2ed, 0xdabe, 0x0, 0x1);
        gbc.writeMem(0x3a65, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x7850);
        EXPECT(gbc.pc(), 0x3a66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 00F2
        gbc.setState(0xaf9f, 0x6c4b, 0xf950, 0x51bb, 0xd2a2, 0xfa3d, 0x1, 0x1);
        gbc.writeMem(0xaf9f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x6c4b);
        EXPECT(gbc.pc(), 0xafa0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf9f), 0x9c);
        // 9C 00F3
        gbc.setState(0x6bd6, 0x76cd, 0x5490, 0x9858, 0x3337, 0xde, 0x1, 0x0);
        gbc.writeMem(0x6bd6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x76cd);
        EXPECT(gbc.pc(), 0x6bd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 00F4
        gbc.setState(0x1fde, 0x1db7, 0x69c0, 0x7532, 0x152f, 0xfa61, 0x1, 0x0);
        gbc.writeMem(0x1fde, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x1db7);
        EXPECT(gbc.pc(), 0x1fdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 00F5
        gbc.setState(0x1acf, 0xa36c, 0x4010, 0x9265, 0x12d5, 0xe881, 0x0, 0x0);
        gbc.writeMem(0x1acf, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xa36c);
        EXPECT(gbc.pc(), 0x1ad0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 00F7
        gbc.setState(0xb747, 0xb446, 0x750, 0x9a21, 0x260b, 0xe1fd, 0x1, 0x0);
        gbc.writeMem(0xb747, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xb446);
        EXPECT(gbc.pc(), 0xb748);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb747), 0x9c);
        // 9C 00F8
        gbc.setState(0x58a0, 0x6ccb, 0xf360, 0x6d6c, 0x4671, 0x1d05, 0x1, 0x1);
        gbc.writeMem(0x58a0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x6ccb);
        EXPECT(gbc.pc(), 0x58a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 00F9
        gbc.setState(0xbb9, 0xafb2, 0x6ab0, 0xcb85, 0xa739, 0x913f, 0x0, 0x1);
        gbc.writeMem(0xbb9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xafb2);
        EXPECT(gbc.pc(), 0xbba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 00FA
        gbc.setState(0x7643, 0xc4e5, 0xdd60, 0x9c91, 0x8551, 0xc968, 0x0, 0x1);
        gbc.writeMem(0x7643, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xc4e5);
        EXPECT(gbc.pc(), 0x7644);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 00FB
        gbc.setState(0x1cc7, 0xa74a, 0x5780, 0xe747, 0xd282, 0x7816, 0x1, 0x0);
        gbc.writeMem(0x1cc7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xa74a);
        EXPECT(gbc.pc(), 0x1cc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 00FC
        gbc.setState(0x3a12, 0x44a7, 0x7e40, 0xc96b, 0x9907, 0x690d, 0x1, 0x1);
        gbc.writeMem(0x3a12, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x44a7);
        EXPECT(gbc.pc(), 0x3a13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 00FD
        gbc.setState(0x8aa9, 0x8e1a, 0xa640, 0x4110, 0xef4c, 0x68e2, 0x1, 0x0);
        gbc.writeMem(0x8aa9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x8e1a);
        EXPECT(gbc.pc(), 0x8aaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8aa9), 0x9c);
        // 9C 00FE
        gbc.setState(0x64a5, 0x41dc, 0xb290, 0x42fd, 0x8105, 0x49d5, 0x1, 0x0);
        gbc.writeMem(0x64a5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x41dc);
        EXPECT(gbc.pc(), 0x64a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 00FF
        gbc.setState(0xbe4a, 0xbd85, 0x4b70, 0xc6b2, 0xcfec, 0x1db, 0x1, 0x1);
        gbc.writeMem(0xbe4a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xbd85);
        EXPECT(gbc.pc(), 0xbe4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe4a), 0x9c);
        // 9C 0100
        gbc.setState(0xaa72, 0x33ab, 0xce50, 0xf36, 0xc8f9, 0x31b6, 0x1, 0x0);
        gbc.writeMem(0xaa72, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x33ab);
        EXPECT(gbc.pc(), 0xaa73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa72), 0x9c);
        // 9C 0101
        gbc.setState(0x296e, 0xccc1, 0xcdf0, 0xc3ed, 0x3d52, 0x7213, 0x0, 0x1);
        gbc.writeMem(0x296e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xccc1);
        EXPECT(gbc.pc(), 0x296f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0102
        gbc.setState(0x6c3c, 0x8ccd, 0x5020, 0x6e76, 0xa695, 0x4b8, 0x0, 0x0);
        gbc.writeMem(0x6c3c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x8ccd);
        EXPECT(gbc.pc(), 0x6c3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0103
        gbc.setState(0xad3a, 0xe6b2, 0x6040, 0x6fbe, 0xf281, 0x45fa, 0x1, 0x1);
        gbc.writeMem(0xad3a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xe6b2);
        EXPECT(gbc.pc(), 0xad3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad3a), 0x9c);
        // 9C 0104
        gbc.setState(0x9b4a, 0x9388, 0x1630, 0xedc6, 0x5e85, 0x306c, 0x0, 0x1);
        gbc.writeMem(0x9b4a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x9388);
        EXPECT(gbc.pc(), 0x9b4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b4a), 0x9c);
        // 9C 0105
        gbc.setState(0x284b, 0xe7e1, 0x9ae0, 0xd76f, 0x86dc, 0xbbf0, 0x0, 0x1);
        gbc.writeMem(0x284b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xe7e1);
        EXPECT(gbc.pc(), 0x284c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0106
        gbc.setState(0xac91, 0xa913, 0xb1a0, 0x382f, 0x51b2, 0x4283, 0x1, 0x1);
        gbc.writeMem(0xac91, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xa913);
        EXPECT(gbc.pc(), 0xac92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac91), 0x9c);
        // 9C 0107
        gbc.setState(0xe2e4, 0xf4f5, 0xb870, 0xf918, 0x24ff, 0xbd02, 0x0, 0x0);
        gbc.writeMem(0xe2e4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xf4f5);
        EXPECT(gbc.pc(), 0xe2e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2e4), 0x9c);
        // 9C 0109
        gbc.setState(0xa62d, 0x5fa7, 0x3400, 0x5fdd, 0x899e, 0xbf0a, 0x0, 0x1);
        gbc.writeMem(0xa62d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x5fa7);
        EXPECT(gbc.pc(), 0xa62e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa62d), 0x9c);
        // 9C 010A
        gbc.setState(0xa576, 0x25a6, 0xaf90, 0xbbd2, 0xbe69, 0x3b01, 0x0, 0x1);
        gbc.writeMem(0xa576, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x25a6);
        EXPECT(gbc.pc(), 0xa577);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa576), 0x9c);
        // 9C 010B
        gbc.setState(0x54c4, 0x283b, 0x7850, 0x3f73, 0x19b9, 0xf19f, 0x1, 0x1);
        gbc.writeMem(0x54c4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x283b);
        EXPECT(gbc.pc(), 0x54c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 010C
        gbc.setState(0x30cc, 0x4b61, 0x19a0, 0x68f3, 0x3097, 0xacee, 0x0, 0x1);
        gbc.writeMem(0x30cc, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x4b61);
        EXPECT(gbc.pc(), 0x30cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 010D
        gbc.setState(0x35d6, 0x440c, 0xd4c0, 0x5f06, 0x6c5e, 0x3e1a, 0x0, 0x1);
        gbc.writeMem(0x35d6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x440c);
        EXPECT(gbc.pc(), 0x35d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 010F
        gbc.setState(0x13bd, 0x275a, 0x22b0, 0x406f, 0xa443, 0xe6c0, 0x0, 0x1);
        gbc.writeMem(0x13bd, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x275a);
        EXPECT(gbc.pc(), 0x13be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0110
        gbc.setState(0xd5fa, 0xdfef, 0xa900, 0xe342, 0x172c, 0x4280, 0x1, 0x0);
        gbc.writeMem(0xd5fa, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xdfef);
        EXPECT(gbc.pc(), 0xd5fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5fa), 0x9c);
        // 9C 0111
        gbc.setState(0xb3c8, 0xb227, 0x6500, 0x725b, 0xe35d, 0xc7f9, 0x0, 0x1);
        gbc.writeMem(0xb3c8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xb227);
        EXPECT(gbc.pc(), 0xb3c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3c8), 0x9c);
        // 9C 0112
        gbc.setState(0x859c, 0x4b5, 0xea70, 0x5106, 0xee97, 0x6b54, 0x1, 0x0);
        gbc.writeMem(0x859c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x4b5);
        EXPECT(gbc.pc(), 0x859d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x859c), 0x9c);
        // 9C 0113
        gbc.setState(0x47d0, 0x7520, 0x4620, 0x75ca, 0x691c, 0x24b9, 0x1, 0x1);
        gbc.writeMem(0x47d0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x7520);
        EXPECT(gbc.pc(), 0x47d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0114
        gbc.setState(0x8146, 0xabd3, 0x11b0, 0xc718, 0x6326, 0x5d83, 0x1, 0x0);
        gbc.writeMem(0x8146, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xabd3);
        EXPECT(gbc.pc(), 0x8147);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8146), 0x9c);
        // 9C 0115
        gbc.setState(0xd2a6, 0xcb46, 0x3480, 0x9354, 0x6397, 0x495d, 0x1, 0x1);
        gbc.writeMem(0xd2a6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xcb46);
        EXPECT(gbc.pc(), 0xd2a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2a6), 0x9c);
        // 9C 0116
        gbc.setState(0xe72d, 0x270f, 0xcc50, 0xdf18, 0x7352, 0x5997, 0x0, 0x0);
        gbc.writeMem(0xe72d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x270f);
        EXPECT(gbc.pc(), 0xe72e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe72d), 0x9c);
        // 9C 0117
        gbc.setState(0xd541, 0xfe6e, 0xb000, 0x183e, 0xcd17, 0x9beb, 0x0, 0x0);
        gbc.writeMem(0xd541, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xfe6e);
        EXPECT(gbc.pc(), 0xd542);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd541), 0x9c);
        // 9C 0118
        gbc.setState(0xc7ad, 0x1f23, 0x1450, 0x73ad, 0x3596, 0x6dd7, 0x1, 0x1);
        gbc.writeMem(0xc7ad, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x1f23);
        EXPECT(gbc.pc(), 0xc7ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7ad), 0x9c);
        // 9C 0119
        gbc.setState(0xe32f, 0x50f5, 0xc1c0, 0x2adf, 0xa999, 0x654c, 0x0, 0x1);
        gbc.writeMem(0xe32f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x50f5);
        EXPECT(gbc.pc(), 0xe330);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe32f), 0x9c);
        // 9C 011B
        gbc.setState(0x7023, 0x34f6, 0xc8e0, 0x359f, 0x8433, 0x2aa6, 0x1, 0x0);
        gbc.writeMem(0x7023, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x34f6);
        EXPECT(gbc.pc(), 0x7024);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 011C
        gbc.setState(0xa053, 0xa761, 0x9ea0, 0xde0a, 0xa41b, 0xd3b9, 0x1, 0x0);
        gbc.writeMem(0xa053, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xa761);
        EXPECT(gbc.pc(), 0xa054);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa053), 0x9c);
        // 9C 011E
        gbc.setState(0x3dff, 0xde49, 0xd520, 0x8b5f, 0xe6c9, 0x9363, 0x1, 0x1);
        gbc.writeMem(0x3dff, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xde49);
        EXPECT(gbc.pc(), 0x3e00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 011F
        gbc.setState(0x203c, 0xe950, 0xe0e0, 0x8dd9, 0x5f3, 0xf43a, 0x1, 0x0);
        gbc.writeMem(0x203c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xe950);
        EXPECT(gbc.pc(), 0x203d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0122
        gbc.setState(0xd149, 0x4808, 0x3d60, 0x4c46, 0x507, 0xd002, 0x1, 0x1);
        gbc.writeMem(0xd149, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x4808);
        EXPECT(gbc.pc(), 0xd14a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd149), 0x9c);
        // 9C 0123
        gbc.setState(0xaee4, 0x9dc2, 0xeb0, 0xa327, 0x87d4, 0x1e42, 0x0, 0x0);
        gbc.writeMem(0xaee4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x9dc2);
        EXPECT(gbc.pc(), 0xaee5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaee4), 0x9c);
        // 9C 0124
        gbc.setState(0x35f9, 0x59e4, 0x8d10, 0xbb7d, 0x8be, 0xec2f, 0x1, 0x1);
        gbc.writeMem(0x35f9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x59e4);
        EXPECT(gbc.pc(), 0x35fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0125
        gbc.setState(0x9b47, 0x7e1f, 0x3780, 0x6ec0, 0x852a, 0xa244, 0x1, 0x1);
        gbc.writeMem(0x9b47, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x7e1f);
        EXPECT(gbc.pc(), 0x9b48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b47), 0x9c);
        // 9C 0126
        gbc.setState(0xcb40, 0x656a, 0x53a0, 0xde88, 0x84b9, 0x5838, 0x1, 0x0);
        gbc.writeMem(0xcb40, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x656a);
        EXPECT(gbc.pc(), 0xcb41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb40), 0x9c);
        // 9C 0127
        gbc.setState(0x8d88, 0x5de, 0x7e60, 0x1d6c, 0xb8fe, 0xfc36, 0x0, 0x0);
        gbc.writeMem(0x8d88, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x5de);
        EXPECT(gbc.pc(), 0x8d89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d88), 0x9c);
        // 9C 0128
        gbc.setState(0xdfed, 0xff76, 0xeaf0, 0x1ad7, 0xed6f, 0xfdce, 0x1, 0x1);
        gbc.writeMem(0xdfed, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xff76);
        EXPECT(gbc.pc(), 0xdfee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfed), 0x9c);
        // 9C 0129
        gbc.setState(0x4083, 0x2abb, 0xc0c0, 0x6ba7, 0x550f, 0x797, 0x1, 0x1);
        gbc.writeMem(0x4083, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x2abb);
        EXPECT(gbc.pc(), 0x4084);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 012A
        gbc.setState(0xe78, 0x7d4e, 0xaa90, 0xca00, 0x31d5, 0x2e, 0x1, 0x1);
        gbc.writeMem(0xe78, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x7d4e);
        EXPECT(gbc.pc(), 0xe79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 012B
        gbc.setState(0x2773, 0x96bf, 0xe880, 0x2786, 0x90b8, 0x7eb6, 0x1, 0x1);
        gbc.writeMem(0x2773, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x96bf);
        EXPECT(gbc.pc(), 0x2774);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 012C
        gbc.setState(0xa117, 0x43af, 0xb680, 0xc68, 0x101a, 0xaaae, 0x0, 0x0);
        gbc.writeMem(0xa117, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x43af);
        EXPECT(gbc.pc(), 0xa118);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa117), 0x9c);
        // 9C 012D
        gbc.setState(0x253f, 0x6289, 0xfb50, 0xc9ad, 0x2565, 0xf7ca, 0x0, 0x1);
        gbc.writeMem(0x253f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x6289);
        EXPECT(gbc.pc(), 0x2540);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 012E
        gbc.setState(0xacf3, 0x57e, 0xac40, 0xbf51, 0xc07a, 0xf537, 0x1, 0x0);
        gbc.writeMem(0xacf3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x57e);
        EXPECT(gbc.pc(), 0xacf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacf3), 0x9c);
        // 9C 012F
        gbc.setState(0xc68d, 0xe6c2, 0x2460, 0xfd93, 0xb1c9, 0x6a19, 0x1, 0x1);
        gbc.writeMem(0xc68d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xe6c2);
        EXPECT(gbc.pc(), 0xc68e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc68d), 0x9c);
        // 9C 0131
        gbc.setState(0xe923, 0x330c, 0x5490, 0x802f, 0x60d4, 0xc78b, 0x1, 0x0);
        gbc.writeMem(0xe923, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x330c);
        EXPECT(gbc.pc(), 0xe924);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe923), 0x9c);
        // 9C 0132
        gbc.setState(0x8532, 0x35a, 0x7f30, 0xccf4, 0xa059, 0x87bc, 0x1, 0x1);
        gbc.writeMem(0x8532, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x35a);
        EXPECT(gbc.pc(), 0x8533);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8532), 0x9c);
        // 9C 0133
        gbc.setState(0xc4d3, 0x34fa, 0x6a60, 0x24fb, 0x282d, 0x112, 0x0, 0x0);
        gbc.writeMem(0xc4d3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x34fa);
        EXPECT(gbc.pc(), 0xc4d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4d3), 0x9c);
        // 9C 0134
        gbc.setState(0xde45, 0xa9a8, 0x7080, 0x42df, 0x4f01, 0xabf1, 0x0, 0x1);
        gbc.writeMem(0xde45, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xa9a8);
        EXPECT(gbc.pc(), 0xde46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde45), 0x9c);
        // 9C 0135
        gbc.setState(0x3fda, 0xcc3f, 0xd100, 0x5a75, 0xd592, 0x40ad, 0x0, 0x0);
        gbc.writeMem(0x3fda, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xcc3f);
        EXPECT(gbc.pc(), 0x3fdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0136
        gbc.setState(0x50b0, 0x6145, 0xfe30, 0x78ed, 0x8667, 0x1584, 0x0, 0x0);
        gbc.writeMem(0x50b0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x6145);
        EXPECT(gbc.pc(), 0x50b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0138
        gbc.setState(0xd32c, 0xfc8e, 0x7fe0, 0x8d53, 0xd31d, 0x7e63, 0x0, 0x0);
        gbc.writeMem(0xd32c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xfc8e);
        EXPECT(gbc.pc(), 0xd32d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd32c), 0x9c);
        // 9C 0139
        gbc.setState(0xcfe, 0xbb39, 0xbb70, 0x65b9, 0xa114, 0x2074, 0x1, 0x1);
        gbc.writeMem(0xcfe, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xbb39);
        EXPECT(gbc.pc(), 0xcff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 013A
        gbc.setState(0x9ee1, 0x3081, 0xa780, 0x3303, 0xb925, 0x9f59, 0x1, 0x1);
        gbc.writeMem(0x9ee1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x3081);
        EXPECT(gbc.pc(), 0x9ee2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ee1), 0x9c);
        // 9C 013B
        gbc.setState(0x1f7e, 0x32d7, 0x6910, 0xddc8, 0x9290, 0x9a29, 0x1, 0x0);
        gbc.writeMem(0x1f7e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x32d7);
        EXPECT(gbc.pc(), 0x1f7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 013C
        gbc.setState(0xe2ed, 0x719d, 0x6700, 0x3dfd, 0x2556, 0xfdab, 0x1, 0x0);
        gbc.writeMem(0xe2ed, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x719d);
        EXPECT(gbc.pc(), 0xe2ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2ed), 0x9c);
        // 9C 013D
        gbc.setState(0x7d2f, 0xd082, 0x9580, 0xd242, 0x2471, 0x7012, 0x0, 0x1);
        gbc.writeMem(0x7d2f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xd082);
        EXPECT(gbc.pc(), 0x7d30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 013E
        gbc.setState(0xcf4a, 0x575a, 0xb2b0, 0x6eb1, 0xfa08, 0x2dcb, 0x1, 0x0);
        gbc.writeMem(0xcf4a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x575a);
        EXPECT(gbc.pc(), 0xcf4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf4a), 0x9c);
        // 9C 013F
        gbc.setState(0x7fce, 0x5e76, 0x6c70, 0x4112, 0xfd16, 0xe5f9, 0x1, 0x0);
        gbc.writeMem(0x7fce, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x5e76);
        EXPECT(gbc.pc(), 0x7fcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0140
        gbc.setState(0x9a88, 0xdb02, 0x2f00, 0x2fe8, 0x4f4d, 0xaf2d, 0x0, 0x1);
        gbc.writeMem(0x9a88, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xdb02);
        EXPECT(gbc.pc(), 0x9a89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a88), 0x9c);
        // 9C 0141
        gbc.setState(0x64d3, 0x8d10, 0xe6d0, 0xd1c2, 0xff57, 0xe384, 0x0, 0x1);
        gbc.writeMem(0x64d3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x8d10);
        EXPECT(gbc.pc(), 0x64d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0142
        gbc.setState(0xa941, 0xbfe7, 0xff0, 0x8b1, 0x4006, 0x4934, 0x0, 0x1);
        gbc.writeMem(0xa941, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xbfe7);
        EXPECT(gbc.pc(), 0xa942);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa941), 0x9c);
        // 9C 0143
        gbc.setState(0x814f, 0xb74e, 0xa6d0, 0x3bb1, 0x4655, 0x2b30, 0x1, 0x1);
        gbc.writeMem(0x814f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xb74e);
        EXPECT(gbc.pc(), 0x8150);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x814f), 0x9c);
        // 9C 0144
        gbc.setState(0x1552, 0xc775, 0xab0, 0x4c0d, 0x2353, 0xc34e, 0x0, 0x1);
        gbc.writeMem(0x1552, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xc775);
        EXPECT(gbc.pc(), 0x1553);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0145
        gbc.setState(0x9ec5, 0xbb34, 0x820, 0x37a3, 0xf55f, 0xf1ac, 0x0, 0x0);
        gbc.writeMem(0x9ec5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xbb34);
        EXPECT(gbc.pc(), 0x9ec6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ec5), 0x9c);
        // 9C 0146
        gbc.setState(0xeb10, 0x716b, 0xe430, 0xf185, 0x57fc, 0x5eac, 0x1, 0x0);
        gbc.writeMem(0xeb10, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x716b);
        EXPECT(gbc.pc(), 0xeb11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb10), 0x9c);
        // 9C 0148
        gbc.setState(0xb6a5, 0x35ec, 0x3240, 0x1030, 0x5516, 0xae1a, 0x0, 0x0);
        gbc.writeMem(0xb6a5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x35ec);
        EXPECT(gbc.pc(), 0xb6a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6a5), 0x9c);
        // 9C 0149
        gbc.setState(0xeb1e, 0x6101, 0xe710, 0x10bb, 0x66de, 0x4574, 0x0, 0x1);
        gbc.writeMem(0xeb1e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x6101);
        EXPECT(gbc.pc(), 0xeb1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb1e), 0x9c);
        // 9C 014A
        gbc.setState(0x4b21, 0x45f8, 0x36d0, 0x933c, 0x3046, 0x13e8, 0x0, 0x0);
        gbc.writeMem(0x4b21, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x45f8);
        EXPECT(gbc.pc(), 0x4b22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 014B
        gbc.setState(0x374a, 0x2f88, 0x2230, 0x7f7, 0x98fe, 0x7ce3, 0x1, 0x0);
        gbc.writeMem(0x374a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x2f88);
        EXPECT(gbc.pc(), 0x374b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 014C
        gbc.setState(0xcc28, 0xf480, 0x25b0, 0xbfd5, 0x522a, 0x9b3c, 0x1, 0x0);
        gbc.writeMem(0xcc28, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xf480);
        EXPECT(gbc.pc(), 0xcc29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc28), 0x9c);
        // 9C 014E
        gbc.setState(0xd5a9, 0x15df, 0xe800, 0x2fc9, 0x7578, 0x2c61, 0x0, 0x0);
        gbc.writeMem(0xd5a9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x15df);
        EXPECT(gbc.pc(), 0xd5aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5a9), 0x9c);
        // 9C 014F
        gbc.setState(0x161b, 0x28ad, 0xd820, 0xc249, 0x49a9, 0x8f35, 0x1, 0x1);
        gbc.writeMem(0x161b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x28ad);
        EXPECT(gbc.pc(), 0x161c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0150
        gbc.setState(0x58fd, 0xe8dd, 0xdf40, 0xf19e, 0xe209, 0xcdbd, 0x1, 0x0);
        gbc.writeMem(0x58fd, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xe8dd);
        EXPECT(gbc.pc(), 0x58fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0151
        gbc.setState(0x1c81, 0x3adf, 0x6b80, 0xb9eb, 0xa4bf, 0x2f10, 0x1, 0x1);
        gbc.writeMem(0x1c81, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x3adf);
        EXPECT(gbc.pc(), 0x1c82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0152
        gbc.setState(0x7673, 0xa97, 0x77b0, 0x9e8f, 0x918d, 0x910e, 0x0, 0x0);
        gbc.writeMem(0x7673, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xa97);
        EXPECT(gbc.pc(), 0x7674);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0153
        gbc.setState(0x1a6e, 0x8128, 0x5bf0, 0xc44, 0x52b, 0x46d9, 0x0, 0x0);
        gbc.writeMem(0x1a6e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x8128);
        EXPECT(gbc.pc(), 0x1a6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0154
        gbc.setState(0xc9bb, 0xa6c9, 0x9460, 0xe986, 0xb7c3, 0x3de9, 0x1, 0x0);
        gbc.writeMem(0xc9bb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xa6c9);
        EXPECT(gbc.pc(), 0xc9bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9bb), 0x9c);
        // 9C 0155
        gbc.setState(0x9e93, 0xebf4, 0x8a80, 0x6930, 0x2afc, 0x1e2, 0x1, 0x0);
        gbc.writeMem(0x9e93, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xebf4);
        EXPECT(gbc.pc(), 0x9e94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e93), 0x9c);
        // 9C 0157
        gbc.setState(0x29d9, 0xbf08, 0xcd0, 0x137, 0xff22, 0x7e3e, 0x0, 0x1);
        gbc.writeMem(0x29d9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xbf08);
        EXPECT(gbc.pc(), 0x29da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0158
        gbc.setState(0x3b3f, 0x8341, 0x2bf0, 0xd769, 0x335e, 0x23eb, 0x1, 0x1);
        gbc.writeMem(0x3b3f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x8341);
        EXPECT(gbc.pc(), 0x3b40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0159
        gbc.setState(0xe9ce, 0xa370, 0xfa20, 0x7a6, 0x5de, 0x6f6e, 0x1, 0x1);
        gbc.writeMem(0xe9ce, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xa370);
        EXPECT(gbc.pc(), 0xe9cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9ce), 0x9c);
        // 9C 015A
        gbc.setState(0x2ed9, 0x6e40, 0x1560, 0x473d, 0xf1ae, 0xec6, 0x1, 0x0);
        gbc.writeMem(0x2ed9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x6e40);
        EXPECT(gbc.pc(), 0x2eda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 015B
        gbc.setState(0x1262, 0xa630, 0x6cf0, 0x13fa, 0x4cc3, 0xa95a, 0x0, 0x1);
        gbc.writeMem(0x1262, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xa630);
        EXPECT(gbc.pc(), 0x1263);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 015C
        gbc.setState(0xef2e, 0x8065, 0x9be0, 0x725c, 0x4743, 0x1670, 0x0, 0x0);
        gbc.writeMem(0xef2e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x8065);
        EXPECT(gbc.pc(), 0xef2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef2e), 0x9c);
        // 9C 015D
        gbc.setState(0x14de, 0x9bf4, 0x1d10, 0x5690, 0x4056, 0x55f1, 0x1, 0x0);
        gbc.writeMem(0x14de, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x9bf4);
        EXPECT(gbc.pc(), 0x14df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 015E
        gbc.setState(0x7b9b, 0xcd4d, 0xf0, 0xd809, 0xbb45, 0xd3af, 0x0, 0x1);
        gbc.writeMem(0x7b9b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xcd4d);
        EXPECT(gbc.pc(), 0x7b9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 015F
        gbc.setState(0x2fc5, 0xa81e, 0x8120, 0xd8e5, 0x34ed, 0x7ded, 0x1, 0x1);
        gbc.writeMem(0x2fc5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xa81e);
        EXPECT(gbc.pc(), 0x2fc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0160
        gbc.setState(0x6f33, 0xb498, 0x1a10, 0x9e58, 0x9e26, 0x26a4, 0x0, 0x0);
        gbc.writeMem(0x6f33, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xb498);
        EXPECT(gbc.pc(), 0x6f34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0161
        gbc.setState(0x99f7, 0x54ad, 0x2ba0, 0x3884, 0x61b9, 0x964c, 0x0, 0x1);
        gbc.writeMem(0x99f7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x54ad);
        EXPECT(gbc.pc(), 0x99f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99f7), 0x9c);
        // 9C 0162
        gbc.setState(0x40eb, 0xab15, 0x43c0, 0x6449, 0x5512, 0xb272, 0x0, 0x1);
        gbc.writeMem(0x40eb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xab15);
        EXPECT(gbc.pc(), 0x40ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0163
        gbc.setState(0xc55a, 0xcd1a, 0xb2e0, 0x45b0, 0xb4da, 0x9277, 0x0, 0x0);
        gbc.writeMem(0xc55a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xcd1a);
        EXPECT(gbc.pc(), 0xc55b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc55a), 0x9c);
        // 9C 0164
        gbc.setState(0xa3d2, 0xde7f, 0xebd0, 0xf004, 0xe133, 0xf888, 0x0, 0x1);
        gbc.writeMem(0xa3d2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xde7f);
        EXPECT(gbc.pc(), 0xa3d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3d2), 0x9c);
        // 9C 0165
        gbc.setState(0x3f5e, 0xd376, 0x8230, 0x2a91, 0x62d5, 0x8c21, 0x1, 0x0);
        gbc.writeMem(0x3f5e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xd376);
        EXPECT(gbc.pc(), 0x3f5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0166
        gbc.setState(0xc9f0, 0x4cb7, 0xe470, 0xfdf6, 0x2a33, 0xb566, 0x1, 0x0);
        gbc.writeMem(0xc9f0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x4cb7);
        EXPECT(gbc.pc(), 0xc9f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9f0), 0x9c);
        // 9C 0167
        gbc.setState(0x3f76, 0xd786, 0x340, 0x8f55, 0x8ef, 0x4ed, 0x0, 0x1);
        gbc.writeMem(0x3f76, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xd786);
        EXPECT(gbc.pc(), 0x3f77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0168
        gbc.setState(0x9403, 0xc088, 0xdaa0, 0xea64, 0x5e55, 0xfeea, 0x0, 0x0);
        gbc.writeMem(0x9403, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xc088);
        EXPECT(gbc.pc(), 0x9404);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9403), 0x9c);
        // 9C 0169
        gbc.setState(0xb4f5, 0x9e28, 0x5360, 0xdef5, 0x3372, 0x706a, 0x0, 0x0);
        gbc.writeMem(0xb4f5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x9e28);
        EXPECT(gbc.pc(), 0xb4f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4f5), 0x9c);
        // 9C 016A
        gbc.setState(0xd54c, 0x6828, 0xf9c0, 0xe319, 0x4c11, 0x5549, 0x0, 0x1);
        gbc.writeMem(0xd54c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x6828);
        EXPECT(gbc.pc(), 0xd54d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd54c), 0x9c);
        // 9C 016B
        gbc.setState(0x35b4, 0x7a40, 0x8510, 0x46c1, 0xa1ed, 0x87f0, 0x0, 0x1);
        gbc.writeMem(0x35b4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x7a40);
        EXPECT(gbc.pc(), 0x35b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 016D
        gbc.setState(0x188d, 0xdc81, 0x26c0, 0x94d1, 0xf07c, 0xd629, 0x0, 0x0);
        gbc.writeMem(0x188d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xdc81);
        EXPECT(gbc.pc(), 0x188e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 016E
        gbc.setState(0x175c, 0xc249, 0x1040, 0x3b1a, 0xb58, 0x556e, 0x0, 0x0);
        gbc.writeMem(0x175c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xc249);
        EXPECT(gbc.pc(), 0x175d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 016F
        gbc.setState(0xcf86, 0xa89, 0x2380, 0xd305, 0x7856, 0xcb3d, 0x0, 0x0);
        gbc.writeMem(0xcf86, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa89);
        EXPECT(gbc.pc(), 0xcf87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf86), 0x9c);
        // 9C 0170
        gbc.setState(0x77f, 0x965c, 0x74e0, 0xf0cb, 0xa5bf, 0xafb9, 0x0, 0x1);
        gbc.writeMem(0x77f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x965c);
        EXPECT(gbc.pc(), 0x780);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0171
        gbc.setState(0x5497, 0x1f71, 0x6490, 0xdaa1, 0x22e5, 0x3023, 0x0, 0x1);
        gbc.writeMem(0x5497, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1f71);
        EXPECT(gbc.pc(), 0x5498);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0172
        gbc.setState(0x64f1, 0x4fdf, 0x3a80, 0x6187, 0x5706, 0xbc13, 0x0, 0x1);
        gbc.writeMem(0x64f1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x4fdf);
        EXPECT(gbc.pc(), 0x64f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0173
        gbc.setState(0x8b0e, 0xdced, 0x7410, 0xcd7e, 0xb6ba, 0x219e, 0x1, 0x1);
        gbc.writeMem(0x8b0e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xdced);
        EXPECT(gbc.pc(), 0x8b0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b0e), 0x9c);
        // 9C 0174
        gbc.setState(0x764f, 0xe3f5, 0x9450, 0x815, 0x2dfd, 0xd5a6, 0x0, 0x0);
        gbc.writeMem(0x764f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xe3f5);
        EXPECT(gbc.pc(), 0x7650);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0175
        gbc.setState(0x27de, 0x4ca5, 0xb4e0, 0x5b29, 0xfd0, 0x6018, 0x0, 0x0);
        gbc.writeMem(0x27de, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x4ca5);
        EXPECT(gbc.pc(), 0x27df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0176
        gbc.setState(0x7fb9, 0x3de8, 0x700, 0x4384, 0x5ac9, 0x6089, 0x1, 0x0);
        gbc.writeMem(0x7fb9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x3de8);
        EXPECT(gbc.pc(), 0x7fba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0177
        gbc.setState(0xae53, 0xc687, 0x8e90, 0xdec3, 0x885e, 0x4555, 0x0, 0x1);
        gbc.writeMem(0xae53, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xc687);
        EXPECT(gbc.pc(), 0xae54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae53), 0x9c);
        // 9C 0178
        gbc.setState(0x8264, 0xd79, 0x2c60, 0x384c, 0x68de, 0xe2e3, 0x0, 0x0);
        gbc.writeMem(0x8264, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xd79);
        EXPECT(gbc.pc(), 0x8265);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8264), 0x9c);
        // 9C 0179
        gbc.setState(0xdff6, 0xf2fc, 0x23c0, 0x8617, 0xef85, 0x575b, 0x0, 0x0);
        gbc.writeMem(0xdff6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xf2fc);
        EXPECT(gbc.pc(), 0xdff7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdff6), 0x9c);
        // 9C 017A
        gbc.setState(0x84ec, 0xce35, 0x2c10, 0x2a0b, 0xfeaf, 0xafd1, 0x1, 0x0);
        gbc.writeMem(0x84ec, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xce35);
        EXPECT(gbc.pc(), 0x84ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84ec), 0x9c);
        // 9C 017B
        gbc.setState(0xd62, 0xbdf9, 0x550, 0x57d, 0x6680, 0xdf16, 0x1, 0x0);
        gbc.writeMem(0xd62, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xbdf9);
        EXPECT(gbc.pc(), 0xd63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 017C
        gbc.setState(0xd6d9, 0x63d1, 0xa2f0, 0xebf4, 0x33af, 0x613a, 0x1, 0x1);
        gbc.writeMem(0xd6d9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x63d1);
        EXPECT(gbc.pc(), 0xd6da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6d9), 0x9c);
        // 9C 017D
        gbc.setState(0x400f, 0xc84, 0x8b90, 0x563, 0x3bb4, 0x72f7, 0x1, 0x1);
        gbc.writeMem(0x400f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xc84);
        EXPECT(gbc.pc(), 0x4010);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 017E
        gbc.setState(0xb306, 0x27c4, 0x4990, 0xaacb, 0x1684, 0x4a65, 0x1, 0x1);
        gbc.writeMem(0xb306, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x27c4);
        EXPECT(gbc.pc(), 0xb307);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb306), 0x9c);
        // 9C 017F
        gbc.setState(0x9fd4, 0xf7b0, 0x5160, 0xaa71, 0xfd4, 0xf036, 0x1, 0x0);
        gbc.writeMem(0x9fd4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xf7b0);
        EXPECT(gbc.pc(), 0x9fd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fd4), 0x9c);
        // 9C 0180
        gbc.setState(0xabb2, 0xd280, 0xae70, 0x9ad2, 0x15f0, 0x6122, 0x0, 0x1);
        gbc.writeMem(0xabb2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xd280);
        EXPECT(gbc.pc(), 0xabb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabb2), 0x9c);
        // 9C 0181
        gbc.setState(0xe44f, 0x74cd, 0xcee0, 0x873c, 0x44bf, 0xdb2a, 0x0, 0x0);
        gbc.writeMem(0xe44f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x74cd);
        EXPECT(gbc.pc(), 0xe450);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe44f), 0x9c);
        // 9C 0183
        gbc.setState(0xd7e6, 0x7aca, 0x8a40, 0x1292, 0x8e65, 0xe8de, 0x1, 0x1);
        gbc.writeMem(0xd7e6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x7aca);
        EXPECT(gbc.pc(), 0xd7e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7e6), 0x9c);
        // 9C 0184
        gbc.setState(0x12c4, 0x1a5e, 0xe160, 0xffa9, 0x974a, 0x8fa5, 0x1, 0x0);
        gbc.writeMem(0x12c4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x1a5e);
        EXPECT(gbc.pc(), 0x12c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0185
        gbc.setState(0x8d8b, 0x6f9, 0xec20, 0xb2bb, 0xc928, 0x1af0, 0x1, 0x0);
        gbc.writeMem(0x8d8b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x6f9);
        EXPECT(gbc.pc(), 0x8d8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d8b), 0x9c);
        // 9C 0186
        gbc.setState(0xbd28, 0xd46a, 0xbb90, 0x1108, 0x3bbf, 0x7c70, 0x1, 0x0);
        gbc.writeMem(0xbd28, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xd46a);
        EXPECT(gbc.pc(), 0xbd29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd28), 0x9c);
        // 9C 0187
        gbc.setState(0x94d7, 0x2ffe, 0xb1f0, 0xf5ca, 0x99c3, 0x7f38, 0x1, 0x0);
        gbc.writeMem(0x94d7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x2ffe);
        EXPECT(gbc.pc(), 0x94d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94d7), 0x9c);
        // 9C 0188
        gbc.setState(0x58dc, 0xb230, 0x69e0, 0x4d7d, 0x3a3c, 0xf89b, 0x0, 0x1);
        gbc.writeMem(0x58dc, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xb230);
        EXPECT(gbc.pc(), 0x58dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0189
        gbc.setState(0x47e7, 0x5dbb, 0x2e60, 0x50ad, 0x5de3, 0x85d5, 0x0, 0x1);
        gbc.writeMem(0x47e7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x5dbb);
        EXPECT(gbc.pc(), 0x47e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 018A
        gbc.setState(0x40eb, 0xa3ef, 0xe210, 0x8685, 0xed5b, 0xfb30, 0x1, 0x1);
        gbc.writeMem(0x40eb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xa3ef);
        EXPECT(gbc.pc(), 0x40ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 018B
        gbc.setState(0x5a37, 0xadcd, 0x8450, 0x7e39, 0xb680, 0x65b2, 0x0, 0x1);
        gbc.writeMem(0x5a37, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xadcd);
        EXPECT(gbc.pc(), 0x5a38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 018C
        gbc.setState(0x928f, 0xcc, 0xcae0, 0xa462, 0xd006, 0x51ac, 0x0, 0x0);
        gbc.writeMem(0x928f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xcc);
        EXPECT(gbc.pc(), 0x9290);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x928f), 0x9c);
        // 9C 018D
        gbc.setState(0xd9a1, 0xea37, 0x2aa0, 0xec3a, 0xb4ac, 0x3af4, 0x0, 0x1);
        gbc.writeMem(0xd9a1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xea37);
        EXPECT(gbc.pc(), 0xd9a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9a1), 0x9c);
        // 9C 018E
        gbc.setState(0x81bc, 0xbb88, 0xe5b0, 0x10f8, 0x9198, 0xe65e, 0x1, 0x1);
        gbc.writeMem(0x81bc, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xbb88);
        EXPECT(gbc.pc(), 0x81bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81bc), 0x9c);
        // 9C 0190
        gbc.setState(0x60d1, 0xa7b5, 0x8300, 0xe335, 0x8967, 0x5b92, 0x0, 0x0);
        gbc.writeMem(0x60d1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xa7b5);
        EXPECT(gbc.pc(), 0x60d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0191
        gbc.setState(0xe5c3, 0x9e3a, 0x3660, 0xddf3, 0xc0cc, 0xde24, 0x0, 0x0);
        gbc.writeMem(0xe5c3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x9e3a);
        EXPECT(gbc.pc(), 0xe5c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5c3), 0x9c);
        // 9C 0192
        gbc.setState(0x355e, 0xb3c4, 0xba90, 0xb971, 0x1a4d, 0x8223, 0x1, 0x0);
        gbc.writeMem(0x355e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xb3c4);
        EXPECT(gbc.pc(), 0x355f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0194
        gbc.setState(0xc9d6, 0x8eda, 0xa90, 0xefaa, 0x74dd, 0x7e0, 0x0, 0x0);
        gbc.writeMem(0xc9d6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x8eda);
        EXPECT(gbc.pc(), 0xc9d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9d6), 0x9c);
        // 9C 0195
        gbc.setState(0xd5a, 0x96d2, 0x3fa0, 0x5a11, 0x784b, 0x7bee, 0x0, 0x0);
        gbc.writeMem(0xd5a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x96d2);
        EXPECT(gbc.pc(), 0xd5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0196
        gbc.setState(0x85ee, 0x101e, 0x3df0, 0x4b8, 0x5d16, 0x6e15, 0x1, 0x1);
        gbc.writeMem(0x85ee, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x101e);
        EXPECT(gbc.pc(), 0x85ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85ee), 0x9c);
        // 9C 0197
        gbc.setState(0x972e, 0xa7a3, 0xfd80, 0x9a63, 0xb370, 0x79dd, 0x0, 0x1);
        gbc.writeMem(0x972e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xa7a3);
        EXPECT(gbc.pc(), 0x972f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x972e), 0x9c);
        // 9C 0198
        gbc.setState(0x618e, 0xe7a3, 0xe8a0, 0x71ff, 0x5749, 0x74e2, 0x0, 0x1);
        gbc.writeMem(0x618e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xe7a3);
        EXPECT(gbc.pc(), 0x618f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0199
        gbc.setState(0x9747, 0x93e, 0x18b0, 0x887a, 0xc0ae, 0xcb32, 0x1, 0x0);
        gbc.writeMem(0x9747, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x93e);
        EXPECT(gbc.pc(), 0x9748);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9747), 0x9c);
        // 9C 019A
        gbc.setState(0x81cc, 0xee64, 0xdfb0, 0x3839, 0x8ef3, 0xef9e, 0x0, 0x0);
        gbc.writeMem(0x81cc, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xee64);
        EXPECT(gbc.pc(), 0x81cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81cc), 0x9c);
        // 9C 019B
        gbc.setState(0x717a, 0x870c, 0xe20, 0x54ec, 0xf161, 0x3262, 0x1, 0x1);
        gbc.writeMem(0x717a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x870c);
        EXPECT(gbc.pc(), 0x717b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 019C
        gbc.setState(0x8c9f, 0xeac9, 0xda0, 0x27f6, 0xbade, 0xb297, 0x0, 0x0);
        gbc.writeMem(0x8c9f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xeac9);
        EXPECT(gbc.pc(), 0x8ca0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c9f), 0x9c);
        // 9C 019D
        gbc.setState(0xe417, 0x8f75, 0x27d0, 0xdf88, 0x9d9a, 0x8a5e, 0x0, 0x0);
        gbc.writeMem(0xe417, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x8f75);
        EXPECT(gbc.pc(), 0xe418);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe417), 0x9c);
        // 9C 019E
        gbc.setState(0x3d99, 0x2ca6, 0xe070, 0x1b6e, 0xd593, 0xd85e, 0x1, 0x0);
        gbc.writeMem(0x3d99, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x2ca6);
        EXPECT(gbc.pc(), 0x3d9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 019F
        gbc.setState(0xae37, 0x4745, 0x1da0, 0xa8b9, 0x72b0, 0x6148, 0x0, 0x1);
        gbc.writeMem(0xae37, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x4745);
        EXPECT(gbc.pc(), 0xae38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae37), 0x9c);
        // 9C 01A0
        gbc.setState(0x94ca, 0x5a98, 0xe990, 0x6d43, 0x994e, 0xb93c, 0x1, 0x0);
        gbc.writeMem(0x94ca, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x5a98);
        EXPECT(gbc.pc(), 0x94cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94ca), 0x9c);
        // 9C 01A1
        gbc.setState(0xc506, 0x3ff1, 0x9fb0, 0xefb3, 0x8fb6, 0xcb62, 0x0, 0x1);
        gbc.writeMem(0xc506, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x3ff1);
        EXPECT(gbc.pc(), 0xc507);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc506), 0x9c);
        // 9C 01A2
        gbc.setState(0x969a, 0xbaad, 0x3bf0, 0xab55, 0x4197, 0x39e2, 0x0, 0x0);
        gbc.writeMem(0x969a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xbaad);
        EXPECT(gbc.pc(), 0x969b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x969a), 0x9c);
        // 9C 01A3
        gbc.setState(0x8f6c, 0xa3dc, 0x510, 0xfbc7, 0x9326, 0xf60e, 0x1, 0x0);
        gbc.writeMem(0x8f6c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xa3dc);
        EXPECT(gbc.pc(), 0x8f6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f6c), 0x9c);
        // 9C 01A4
        gbc.setState(0xabec, 0xd091, 0x10a0, 0xd4c2, 0xf28a, 0x107f, 0x0, 0x1);
        gbc.writeMem(0xabec, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xd091);
        EXPECT(gbc.pc(), 0xabed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabec), 0x9c);
        // 9C 01A5
        gbc.setState(0x8a1c, 0x4c6e, 0x19c0, 0xedaf, 0xcc46, 0x8686, 0x0, 0x1);
        gbc.writeMem(0x8a1c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x4c6e);
        EXPECT(gbc.pc(), 0x8a1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a1c), 0x9c);
        // 9C 01A6
        gbc.setState(0x8649, 0x4e6e, 0x6780, 0x9a8a, 0xafb0, 0x33cc, 0x0, 0x1);
        gbc.writeMem(0x8649, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x4e6e);
        EXPECT(gbc.pc(), 0x864a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8649), 0x9c);
        // 9C 01A7
        gbc.setState(0x2066, 0x51d1, 0x4e20, 0x574d, 0x3980, 0x995e, 0x0, 0x1);
        gbc.writeMem(0x2066, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x51d1);
        EXPECT(gbc.pc(), 0x2067);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 01A8
        gbc.setState(0x8d78, 0x88b9, 0x4910, 0x5949, 0x4bd2, 0x5f07, 0x0, 0x0);
        gbc.writeMem(0x8d78, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x88b9);
        EXPECT(gbc.pc(), 0x8d79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d78), 0x9c);
        // 9C 01AA
        gbc.setState(0xe9ef, 0x8a3d, 0x2370, 0xdb0, 0x3cc3, 0x4760, 0x1, 0x0);
        gbc.writeMem(0xe9ef, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x8a3d);
        EXPECT(gbc.pc(), 0xe9f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9ef), 0x9c);
        // 9C 01AB
        gbc.setState(0xe4a2, 0x76a9, 0x70e0, 0x11dc, 0xbe9, 0xe696, 0x0, 0x1);
        gbc.writeMem(0xe4a2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x76a9);
        EXPECT(gbc.pc(), 0xe4a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4a2), 0x9c);
        // 9C 01AC
        gbc.setState(0xe59, 0x1d94, 0x1db0, 0x7a0f, 0x576, 0x6ee8, 0x0, 0x1);
        gbc.writeMem(0xe59, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x1d94);
        EXPECT(gbc.pc(), 0xe5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01AD
        gbc.setState(0x42ed, 0x77d1, 0x9ea0, 0x9caa, 0xcfe1, 0x3dd9, 0x0, 0x1);
        gbc.writeMem(0x42ed, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x77d1);
        EXPECT(gbc.pc(), 0x42ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 01AE
        gbc.setState(0x5875, 0xc3fd, 0x27f0, 0xe71c, 0x6cb5, 0x65c9, 0x0, 0x1);
        gbc.writeMem(0x5875, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xc3fd);
        EXPECT(gbc.pc(), 0x5876);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 01AF
        gbc.setState(0xc001, 0xae26, 0xbec0, 0xd577, 0xd093, 0xac09, 0x1, 0x0);
        gbc.writeMem(0xc001, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xae26);
        EXPECT(gbc.pc(), 0xc002);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc001), 0x9c);
        // 9C 01B0
        gbc.setState(0x6f77, 0x176, 0x2090, 0x88ce, 0x1963, 0xb829, 0x0, 0x1);
        gbc.writeMem(0x6f77, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x176);
        EXPECT(gbc.pc(), 0x6f78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01B1
        gbc.setState(0xb2f5, 0x6354, 0xd5f0, 0x4ead, 0x7378, 0x47af, 0x1, 0x0);
        gbc.writeMem(0xb2f5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x6354);
        EXPECT(gbc.pc(), 0xb2f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2f5), 0x9c);
        // 9C 01B2
        gbc.setState(0xdafa, 0x79cf, 0xf200, 0x8551, 0x7df6, 0x92a0, 0x1, 0x1);
        gbc.writeMem(0xdafa, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x79cf);
        EXPECT(gbc.pc(), 0xdafb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdafa), 0x9c);
        // 9C 01B3
        gbc.setState(0x2a5a, 0x81a8, 0x9cf0, 0x62b, 0x4487, 0xbf4e, 0x0, 0x0);
        gbc.writeMem(0x2a5a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x81a8);
        EXPECT(gbc.pc(), 0x2a5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01B4
        gbc.setState(0x26b5, 0x10a0, 0x83d0, 0xf18e, 0xdff, 0x209a, 0x0, 0x0);
        gbc.writeMem(0x26b5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x10a0);
        EXPECT(gbc.pc(), 0x26b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 01B5
        gbc.setState(0xa4f1, 0x2c72, 0xd1b0, 0x3e24, 0x7e05, 0xd26b, 0x0, 0x1);
        gbc.writeMem(0xa4f1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x2c72);
        EXPECT(gbc.pc(), 0xa4f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4f1), 0x9c);
        // 9C 01B6
        gbc.setState(0xb958, 0x693a, 0xdc10, 0x18eb, 0xde94, 0x207, 0x0, 0x0);
        gbc.writeMem(0xb958, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x693a);
        EXPECT(gbc.pc(), 0xb959);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb958), 0x9c);
        // 9C 01B7
        gbc.setState(0x633b, 0x8e3f, 0x99e0, 0x2f34, 0x87a5, 0x4c93, 0x0, 0x1);
        gbc.writeMem(0x633b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x8e3f);
        EXPECT(gbc.pc(), 0x633c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 01B8
        gbc.setState(0x339b, 0x68fc, 0x2490, 0x493a, 0x25cb, 0x5e19, 0x0, 0x0);
        gbc.writeMem(0x339b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x68fc);
        EXPECT(gbc.pc(), 0x339c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01B9
        gbc.setState(0x4924, 0xb3ca, 0xc7c0, 0x62a1, 0x5c83, 0x5f4e, 0x0, 0x1);
        gbc.writeMem(0x4924, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xb3ca);
        EXPECT(gbc.pc(), 0x4925);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 01BA
        gbc.setState(0x90d0, 0x6c1e, 0x2ca0, 0xa82c, 0x6b39, 0x6a71, 0x1, 0x0);
        gbc.writeMem(0x90d0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x6c1e);
        EXPECT(gbc.pc(), 0x90d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90d0), 0x9c);
        // 9C 01BB
        gbc.setState(0x8a64, 0xabfc, 0x26a0, 0x6a0a, 0x8be8, 0x73c3, 0x0, 0x0);
        gbc.writeMem(0x8a64, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xabfc);
        EXPECT(gbc.pc(), 0x8a65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a64), 0x9c);
        // 9C 01BC
        gbc.setState(0x2bb, 0xdcb3, 0xd3d0, 0xf889, 0xb58d, 0x8493, 0x1, 0x0);
        gbc.writeMem(0x2bb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xdcb3);
        EXPECT(gbc.pc(), 0x2bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 01BD
        gbc.setState(0xa89a, 0xedb, 0x9e60, 0xb95, 0xefb6, 0x595a, 0x1, 0x1);
        gbc.writeMem(0xa89a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xedb);
        EXPECT(gbc.pc(), 0xa89b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa89a), 0x9c);
        // 9C 01BF
        gbc.setState(0xa070, 0x9278, 0x2f20, 0x4cb3, 0xce27, 0x99f5, 0x0, 0x1);
        gbc.writeMem(0xa070, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x9278);
        EXPECT(gbc.pc(), 0xa071);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa070), 0x9c);
        // 9C 01C0
        gbc.setState(0xb0d4, 0xfdf6, 0x9690, 0x9ba, 0x277d, 0x1064, 0x1, 0x1);
        gbc.writeMem(0xb0d4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xfdf6);
        EXPECT(gbc.pc(), 0xb0d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0d4), 0x9c);
        // 9C 01C1
        gbc.setState(0x25b, 0xaee, 0xc7a0, 0xffa9, 0x5b0e, 0xd7b4, 0x1, 0x0);
        gbc.writeMem(0x25b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xaee);
        EXPECT(gbc.pc(), 0x25c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 01C2
        gbc.setState(0xaa77, 0x37a4, 0x360, 0x7fd0, 0xa71d, 0x91f, 0x1, 0x0);
        gbc.writeMem(0xaa77, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x37a4);
        EXPECT(gbc.pc(), 0xaa78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa77), 0x9c);
        // 9C 01C3
        gbc.setState(0x8ac9, 0x2ab9, 0x5080, 0xaae4, 0x881e, 0x50e4, 0x1, 0x0);
        gbc.writeMem(0x8ac9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x2ab9);
        EXPECT(gbc.pc(), 0x8aca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ac9), 0x9c);
        // 9C 01C4
        gbc.setState(0x5362, 0x93ea, 0x1d60, 0xa1b9, 0x13a5, 0xd317, 0x1, 0x0);
        gbc.writeMem(0x5362, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x93ea);
        EXPECT(gbc.pc(), 0x5363);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 01C5
        gbc.setState(0x90e, 0xe3f4, 0x55e0, 0xaa64, 0xdf6d, 0x98c8, 0x1, 0x1);
        gbc.writeMem(0x90e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xe3f4);
        EXPECT(gbc.pc(), 0x90f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01C6
        gbc.setState(0x698f, 0xf281, 0xc6e0, 0xf076, 0xd749, 0x5c23, 0x0, 0x0);
        gbc.writeMem(0x698f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xf281);
        EXPECT(gbc.pc(), 0x6990);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 01C7
        gbc.setState(0x7661, 0x9836, 0x6210, 0xbd32, 0x414f, 0x8b5d, 0x0, 0x1);
        gbc.writeMem(0x7661, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x9836);
        EXPECT(gbc.pc(), 0x7662);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01C8
        gbc.setState(0x2bb2, 0xf91b, 0x4370, 0x15c4, 0xad3e, 0xccbd, 0x0, 0x0);
        gbc.writeMem(0x2bb2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xf91b);
        EXPECT(gbc.pc(), 0x2bb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01C9
        gbc.setState(0x3b35, 0x17c6, 0xdb70, 0x445b, 0x954d, 0x84b9, 0x0, 0x1);
        gbc.writeMem(0x3b35, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x17c6);
        EXPECT(gbc.pc(), 0x3b36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 01CA
        gbc.setState(0x51e2, 0x5c75, 0x7b0, 0x9abb, 0x700b, 0x5ba6, 0x0, 0x1);
        gbc.writeMem(0x51e2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x5c75);
        EXPECT(gbc.pc(), 0x51e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01CB
        gbc.setState(0xeea7, 0x248f, 0x2fb0, 0x121, 0x64fe, 0x2910, 0x0, 0x1);
        gbc.writeMem(0xeea7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x248f);
        EXPECT(gbc.pc(), 0xeea8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeea7), 0x9c);
        // 9C 01CC
        gbc.setState(0x6e29, 0x59bc, 0xe2b0, 0x278c, 0x281d, 0xcd62, 0x0, 0x1);
        gbc.writeMem(0x6e29, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x59bc);
        EXPECT(gbc.pc(), 0x6e2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 01CD
        gbc.setState(0xb0f2, 0x63ec, 0xb3b0, 0xa60d, 0xc73, 0xb8b5, 0x1, 0x1);
        gbc.writeMem(0xb0f2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x63ec);
        EXPECT(gbc.pc(), 0xb0f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0f2), 0x9c);
        // 9C 01CE
        gbc.setState(0x62bf, 0xc574, 0xe700, 0xb72, 0x2199, 0xa1d3, 0x1, 0x0);
        gbc.writeMem(0x62bf, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xc574);
        EXPECT(gbc.pc(), 0x62c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 01CF
        gbc.setState(0x6899, 0xf292, 0xe930, 0xc5e, 0x1954, 0xee4f, 0x0, 0x0);
        gbc.writeMem(0x6899, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xf292);
        EXPECT(gbc.pc(), 0x689a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01D0
        gbc.setState(0x67b0, 0x93a4, 0xb6b0, 0x9355, 0xe1c2, 0x575f, 0x1, 0x1);
        gbc.writeMem(0x67b0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x93a4);
        EXPECT(gbc.pc(), 0x67b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 01D1
        gbc.setState(0x89ae, 0xbfd8, 0x75b0, 0xba7d, 0x3ca2, 0xd761, 0x0, 0x0);
        gbc.writeMem(0x89ae, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xbfd8);
        EXPECT(gbc.pc(), 0x89af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89ae), 0x9c);
        // 9C 01D2
        gbc.setState(0x42f6, 0x240b, 0xb200, 0xe5a5, 0x5480, 0x1ed2, 0x1, 0x0);
        gbc.writeMem(0x42f6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x240b);
        EXPECT(gbc.pc(), 0x42f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 01D3
        gbc.setState(0xcdbf, 0x69c4, 0xdf10, 0x43fc, 0xc8b0, 0x4df3, 0x0, 0x0);
        gbc.writeMem(0xcdbf, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x69c4);
        EXPECT(gbc.pc(), 0xcdc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdbf), 0x9c);
        // 9C 01D4
        gbc.setState(0x7208, 0x372, 0xcda0, 0xd831, 0x985d, 0xbc88, 0x0, 0x1);
        gbc.writeMem(0x7208, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x372);
        EXPECT(gbc.pc(), 0x7209);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 01D5
        gbc.setState(0x69bc, 0x27ba, 0x93d0, 0x6772, 0xf426, 0x41c1, 0x0, 0x1);
        gbc.writeMem(0x69bc, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x27ba);
        EXPECT(gbc.pc(), 0x69bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 01D6
        gbc.setState(0x4892, 0xbe18, 0xb260, 0x370a, 0x32da, 0xb2a5, 0x1, 0x0);
        gbc.writeMem(0x4892, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xbe18);
        EXPECT(gbc.pc(), 0x4893);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 01D8
        gbc.setState(0x3d38, 0x6bd0, 0x9dc0, 0xabec, 0x3d2b, 0x8750, 0x1, 0x0);
        gbc.writeMem(0x3d38, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x6bd0);
        EXPECT(gbc.pc(), 0x3d39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 01D9
        gbc.setState(0x2406, 0xecaa, 0xb8a0, 0xf008, 0x2b1d, 0x44ba, 0x1, 0x1);
        gbc.writeMem(0x2406, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xecaa);
        EXPECT(gbc.pc(), 0x2407);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 01DA
        gbc.setState(0x6208, 0xf238, 0x6480, 0x4f9b, 0xaaed, 0x7e41, 0x0, 0x0);
        gbc.writeMem(0x6208, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xf238);
        EXPECT(gbc.pc(), 0x6209);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01DB
        gbc.setState(0x23c4, 0x5aa0, 0x8f70, 0x1b08, 0x7541, 0x1833, 0x1, 0x1);
        gbc.writeMem(0x23c4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x5aa0);
        EXPECT(gbc.pc(), 0x23c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 01DC
        gbc.setState(0x7018, 0xddb9, 0x42d0, 0xe489, 0x5df6, 0xd579, 0x0, 0x1);
        gbc.writeMem(0x7018, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xddb9);
        EXPECT(gbc.pc(), 0x7019);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01DD
        gbc.setState(0xc278, 0xf290, 0xa280, 0x3c33, 0x8df5, 0x9fff, 0x0, 0x0);
        gbc.writeMem(0xc278, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xf290);
        EXPECT(gbc.pc(), 0xc279);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc278), 0x9c);
        // 9C 01DE
        gbc.setState(0xde17, 0xbc06, 0x33c0, 0xc4e6, 0x3ecf, 0x9374, 0x0, 0x0);
        gbc.writeMem(0xde17, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xbc06);
        EXPECT(gbc.pc(), 0xde18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde17), 0x9c);
        // 9C 01DF
        gbc.setState(0xd73a, 0x423, 0x5c30, 0xe168, 0x1233, 0x57c7, 0x0, 0x1);
        gbc.writeMem(0xd73a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x423);
        EXPECT(gbc.pc(), 0xd73b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd73a), 0x9c);
        // 9C 01E0
        gbc.setState(0x94a1, 0x6677, 0x40d0, 0xb82c, 0x4c8a, 0xc8de, 0x0, 0x1);
        gbc.writeMem(0x94a1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x6677);
        EXPECT(gbc.pc(), 0x94a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94a1), 0x9c);
        // 9C 01E1
        gbc.setState(0x13cf, 0x1ffe, 0x7b30, 0x8839, 0x1ce8, 0x7d08, 0x0, 0x0);
        gbc.writeMem(0x13cf, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x1ffe);
        EXPECT(gbc.pc(), 0x13d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01E2
        gbc.setState(0x8140, 0x57c1, 0x9390, 0xc508, 0xe6fe, 0x811a, 0x0, 0x0);
        gbc.writeMem(0x8140, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x57c1);
        EXPECT(gbc.pc(), 0x8141);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8140), 0x9c);
        // 9C 01E3
        gbc.setState(0x1585, 0x27c5, 0xdba0, 0x935e, 0xa734, 0xa297, 0x0, 0x1);
        gbc.writeMem(0x1585, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x27c5);
        EXPECT(gbc.pc(), 0x1586);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 01E4
        gbc.setState(0x8f4c, 0x1ca9, 0x8970, 0xf67f, 0x7ab2, 0xfb8b, 0x1, 0x1);
        gbc.writeMem(0x8f4c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x1ca9);
        EXPECT(gbc.pc(), 0x8f4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f4c), 0x9c);
        // 9C 01E5
        gbc.setState(0x5526, 0xc9de, 0x77d0, 0xefd, 0xc867, 0xb14d, 0x0, 0x1);
        gbc.writeMem(0x5526, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xc9de);
        EXPECT(gbc.pc(), 0x5527);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 01E7
        gbc.setState(0x5b, 0xd960, 0x300, 0x2d6d, 0x2e8d, 0x7c31, 0x1, 0x1);
        gbc.writeMem(0x5b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xd960);
        EXPECT(gbc.pc(), 0x5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01E8
        gbc.setState(0x8126, 0x5599, 0x4900, 0xf7ce, 0x3483, 0xffb4, 0x1, 0x1);
        gbc.writeMem(0x8126, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x5599);
        EXPECT(gbc.pc(), 0x8127);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8126), 0x9c);
        // 9C 01E9
        gbc.setState(0x5781, 0x4cf5, 0x2320, 0xb38c, 0x1cce, 0x4a88, 0x1, 0x1);
        gbc.writeMem(0x5781, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x4cf5);
        EXPECT(gbc.pc(), 0x5782);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01EA
        gbc.setState(0x8575, 0x43c6, 0xd830, 0xda2d, 0x4fdd, 0xe3ba, 0x0, 0x0);
        gbc.writeMem(0x8575, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x43c6);
        EXPECT(gbc.pc(), 0x8576);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8575), 0x9c);
        // 9C 01EB
        gbc.setState(0x5b46, 0xe45e, 0x4660, 0x88ff, 0x3933, 0x5c27, 0x0, 0x0);
        gbc.writeMem(0x5b46, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xe45e);
        EXPECT(gbc.pc(), 0x5b47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01EC
        gbc.setState(0xba82, 0xbfd4, 0xef70, 0x3cb7, 0xbb1, 0x4a0, 0x1, 0x1);
        gbc.writeMem(0xba82, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xbfd4);
        EXPECT(gbc.pc(), 0xba83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba82), 0x9c);
        // 9C 01ED
        gbc.setState(0xcba2, 0x5e1c, 0xfd60, 0x8df4, 0xa8bd, 0x616a, 0x0, 0x0);
        gbc.writeMem(0xcba2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x5e1c);
        EXPECT(gbc.pc(), 0xcba3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcba2), 0x9c);
        // 9C 01EE
        gbc.setState(0x83ee, 0xe60c, 0xeaf0, 0x5623, 0xf975, 0x9806, 0x0, 0x1);
        gbc.writeMem(0x83ee, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xe60c);
        EXPECT(gbc.pc(), 0x83ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83ee), 0x9c);
        // 9C 01EF
        gbc.setState(0xa237, 0x50f4, 0xd8b0, 0xb8b0, 0x69f0, 0xe145, 0x1, 0x0);
        gbc.writeMem(0xa237, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x50f4);
        EXPECT(gbc.pc(), 0xa238);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa237), 0x9c);
        // 9C 01F0
        gbc.setState(0x544e, 0xe686, 0x4160, 0xda97, 0x3077, 0xd35a, 0x1, 0x1);
        gbc.writeMem(0x544e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xe686);
        EXPECT(gbc.pc(), 0x544f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01F1
        gbc.setState(0x3e40, 0x9065, 0xa160, 0xcfe2, 0x3b30, 0xad70, 0x0, 0x1);
        gbc.writeMem(0x3e40, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x9065);
        EXPECT(gbc.pc(), 0x3e41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 01F2
        gbc.setState(0x5a12, 0xd218, 0xbb90, 0x2259, 0xc0f2, 0x69e, 0x1, 0x0);
        gbc.writeMem(0x5a12, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xd218);
        EXPECT(gbc.pc(), 0x5a13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 01F3
        gbc.setState(0x5540, 0x25e0, 0xc560, 0x940d, 0xb2fd, 0x9878, 0x1, 0x1);
        gbc.writeMem(0x5540, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x25e0);
        EXPECT(gbc.pc(), 0x5541);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 01F4
        gbc.setState(0xc574, 0x1a33, 0x19a0, 0xa82f, 0xf3ba, 0x860a, 0x1, 0x1);
        gbc.writeMem(0xc574, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x1a33);
        EXPECT(gbc.pc(), 0xc575);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc574), 0x9c);
        // 9C 01F5
        gbc.setState(0xb609, 0x20d8, 0x8030, 0x85cf, 0x86c2, 0xa5a0, 0x0, 0x1);
        gbc.writeMem(0xb609, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x20d8);
        EXPECT(gbc.pc(), 0xb60a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb609), 0x9c);
        // 9C 01F6
        gbc.setState(0xbfe1, 0xe2f, 0xfb90, 0xb656, 0x4547, 0xeac0, 0x0, 0x0);
        gbc.writeMem(0xbfe1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xe2f);
        EXPECT(gbc.pc(), 0xbfe2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfe1), 0x9c);
        // 9C 01F7
        gbc.setState(0xec69, 0xafcf, 0xcdc0, 0x8ac8, 0xf369, 0xa687, 0x0, 0x0);
        gbc.writeMem(0xec69, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xafcf);
        EXPECT(gbc.pc(), 0xec6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec69), 0x9c);
        // 9C 01F8
        gbc.setState(0xec01, 0x68dd, 0xf920, 0xf732, 0xb5bf, 0x30bd, 0x1, 0x1);
        gbc.writeMem(0xec01, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x68dd);
        EXPECT(gbc.pc(), 0xec02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec01), 0x9c);
        // 9C 01F9
        gbc.setState(0xc9a3, 0x73d2, 0x80a0, 0x2951, 0xa924, 0xbda0, 0x0, 0x1);
        gbc.writeMem(0xc9a3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x73d2);
        EXPECT(gbc.pc(), 0xc9a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9a3), 0x9c);
        // 9C 01FA
        gbc.setState(0x332b, 0x2390, 0x3b90, 0x8d84, 0x2931, 0x1f91, 0x1, 0x1);
        gbc.writeMem(0x332b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x2390);
        EXPECT(gbc.pc(), 0x332c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 01FC
        gbc.setState(0xe486, 0x7f7, 0xa470, 0x5778, 0x1ded, 0xe29d, 0x0, 0x1);
        gbc.writeMem(0xe486, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x7f7);
        EXPECT(gbc.pc(), 0xe487);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe486), 0x9c);
        // 9C 01FE
        gbc.setState(0x6265, 0xc92b, 0x4680, 0x52c5, 0x51f3, 0x23f1, 0x0, 0x1);
        gbc.writeMem(0x6265, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xc92b);
        EXPECT(gbc.pc(), 0x6266);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0200
        gbc.setState(0xb70, 0x2412, 0x36d0, 0xa07d, 0x2b58, 0xa3dc, 0x0, 0x1);
        gbc.writeMem(0xb70, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x2412);
        EXPECT(gbc.pc(), 0xb71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0201
        gbc.setState(0xa079, 0x9eb2, 0x53e0, 0xce93, 0x94ba, 0xb06b, 0x0, 0x1);
        gbc.writeMem(0xa079, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x9eb2);
        EXPECT(gbc.pc(), 0xa07a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa079), 0x9c);
        // 9C 0202
        gbc.setState(0x73c1, 0x100b, 0xd7d0, 0xe4af, 0xa03c, 0x77f, 0x1, 0x0);
        gbc.writeMem(0x73c1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x100b);
        EXPECT(gbc.pc(), 0x73c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0203
        gbc.setState(0xafaa, 0x4699, 0xbe70, 0x6a24, 0xf319, 0x76ae, 0x0, 0x0);
        gbc.writeMem(0xafaa, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x4699);
        EXPECT(gbc.pc(), 0xafab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafaa), 0x9c);
        // 9C 0204
        gbc.setState(0x452a, 0x5a0e, 0xb940, 0x9788, 0xb59, 0xae60, 0x0, 0x1);
        gbc.writeMem(0x452a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x5a0e);
        EXPECT(gbc.pc(), 0x452b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0205
        gbc.setState(0xb4e0, 0xc108, 0xa4b0, 0x1a49, 0x39e8, 0xe5fb, 0x0, 0x0);
        gbc.writeMem(0xb4e0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xc108);
        EXPECT(gbc.pc(), 0xb4e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4e0), 0x9c);
        // 9C 0206
        gbc.setState(0x8d35, 0x8991, 0xedf0, 0xc713, 0xa6e2, 0x2ede, 0x1, 0x1);
        gbc.writeMem(0x8d35, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x8991);
        EXPECT(gbc.pc(), 0x8d36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d35), 0x9c);
        // 9C 0207
        gbc.setState(0x8926, 0x3568, 0x6040, 0x4e22, 0xc6fb, 0x27b, 0x1, 0x1);
        gbc.writeMem(0x8926, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x3568);
        EXPECT(gbc.pc(), 0x8927);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8926), 0x9c);
        // 9C 0208
        gbc.setState(0x4f1f, 0xa7bb, 0x8020, 0x39d4, 0xf7a, 0x3af3, 0x0, 0x0);
        gbc.writeMem(0x4f1f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xa7bb);
        EXPECT(gbc.pc(), 0x4f20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0209
        gbc.setState(0xf7, 0xf120, 0x9b80, 0x21e5, 0xfe0a, 0x353c, 0x0, 0x0);
        gbc.writeMem(0xf7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xf120);
        EXPECT(gbc.pc(), 0xf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 020A
        gbc.setState(0x3591, 0xbf95, 0xe6e0, 0xc74f, 0x1627, 0x2c9f, 0x0, 0x1);
        gbc.writeMem(0x3591, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xbf95);
        EXPECT(gbc.pc(), 0x3592);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 020B
        gbc.setState(0xc9f2, 0x68ee, 0xa220, 0x6716, 0xd7c8, 0x6754, 0x1, 0x1);
        gbc.writeMem(0xc9f2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x68ee);
        EXPECT(gbc.pc(), 0xc9f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9f2), 0x9c);
        // 9C 020C
        gbc.setState(0xe2b7, 0x2d22, 0x7ac0, 0x60d1, 0xb1eb, 0x51d5, 0x0, 0x1);
        gbc.writeMem(0xe2b7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x2d22);
        EXPECT(gbc.pc(), 0xe2b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2b7), 0x9c);
        // 9C 020D
        gbc.setState(0x73b, 0x925c, 0xed10, 0x4f19, 0xb981, 0xfa71, 0x0, 0x1);
        gbc.writeMem(0x73b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x925c);
        EXPECT(gbc.pc(), 0x73c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 020F
        gbc.setState(0x62e9, 0x6efb, 0xec00, 0xdb21, 0x4d06, 0xe002, 0x0, 0x0);
        gbc.writeMem(0x62e9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x6efb);
        EXPECT(gbc.pc(), 0x62ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0210
        gbc.setState(0x9d3, 0x2457, 0x42b0, 0x9c39, 0x5fba, 0xd564, 0x1, 0x1);
        gbc.writeMem(0x9d3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x2457);
        EXPECT(gbc.pc(), 0x9d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0211
        gbc.setState(0xc47b, 0xafca, 0x3e00, 0xd101, 0x7fee, 0x116, 0x0, 0x0);
        gbc.writeMem(0xc47b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xafca);
        EXPECT(gbc.pc(), 0xc47c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc47b), 0x9c);
        // 9C 0212
        gbc.setState(0x4824, 0xb94e, 0x2200, 0x7054, 0x95c4, 0xd05, 0x0, 0x0);
        gbc.writeMem(0x4824, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xb94e);
        EXPECT(gbc.pc(), 0x4825);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0213
        gbc.setState(0x573c, 0xaa14, 0x55a0, 0xe477, 0x97b2, 0x127, 0x1, 0x1);
        gbc.writeMem(0x573c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xaa14);
        EXPECT(gbc.pc(), 0x573d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0214
        gbc.setState(0xd097, 0xe55b, 0x4f60, 0xc8b4, 0x4e15, 0xfbf0, 0x0, 0x1);
        gbc.writeMem(0xd097, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xe55b);
        EXPECT(gbc.pc(), 0xd098);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd097), 0x9c);
        // 9C 0215
        gbc.setState(0xda43, 0x8dcb, 0x6950, 0xa317, 0xc5dc, 0xd16f, 0x1, 0x1);
        gbc.writeMem(0xda43, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x8dcb);
        EXPECT(gbc.pc(), 0xda44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda43), 0x9c);
        // 9C 0216
        gbc.setState(0x9ea6, 0xaa26, 0xdf40, 0x31e9, 0x5480, 0x2fbc, 0x0, 0x0);
        gbc.writeMem(0x9ea6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xaa26);
        EXPECT(gbc.pc(), 0x9ea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ea6), 0x9c);
        // 9C 0217
        gbc.setState(0x2e62, 0xb6ba, 0x5550, 0xb92f, 0x434b, 0x7ab0, 0x0, 0x0);
        gbc.writeMem(0x2e62, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xb6ba);
        EXPECT(gbc.pc(), 0x2e63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0218
        gbc.setState(0x60d, 0x29b1, 0x14e0, 0x8568, 0xe853, 0x578a, 0x0, 0x1);
        gbc.writeMem(0x60d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x29b1);
        EXPECT(gbc.pc(), 0x60e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0219
        gbc.setState(0x9385, 0xe210, 0x3a20, 0x89f8, 0x135d, 0x7818, 0x0, 0x0);
        gbc.writeMem(0x9385, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xe210);
        EXPECT(gbc.pc(), 0x9386);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9385), 0x9c);
        // 9C 021A
        gbc.setState(0xa521, 0xc390, 0xdfd0, 0x6b44, 0x3553, 0x2ce, 0x0, 0x1);
        gbc.writeMem(0xa521, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xc390);
        EXPECT(gbc.pc(), 0xa522);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa521), 0x9c);
        // 9C 021B
        gbc.setState(0xc268, 0xabe6, 0xcf80, 0x9370, 0x7d9, 0xadb, 0x1, 0x0);
        gbc.writeMem(0xc268, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xabe6);
        EXPECT(gbc.pc(), 0xc269);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc268), 0x9c);
        // 9C 021C
        gbc.setState(0x9b73, 0x1ef8, 0x1520, 0xd861, 0xa2ed, 0xb3ce, 0x1, 0x0);
        gbc.writeMem(0x9b73, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x1ef8);
        EXPECT(gbc.pc(), 0x9b74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b73), 0x9c);
        // 9C 021D
        gbc.setState(0x14ea, 0x4b01, 0xd1a0, 0x9, 0x9492, 0x248c, 0x1, 0x0);
        gbc.writeMem(0x14ea, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x4b01);
        EXPECT(gbc.pc(), 0x14eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 021E
        gbc.setState(0x6a08, 0xa84c, 0x9370, 0x9271, 0xa618, 0x9baa, 0x0, 0x0);
        gbc.writeMem(0x6a08, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xa84c);
        EXPECT(gbc.pc(), 0x6a09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 021F
        gbc.setState(0x753f, 0xdb30, 0x1290, 0x597c, 0x7752, 0x8ace, 0x1, 0x0);
        gbc.writeMem(0x753f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xdb30);
        EXPECT(gbc.pc(), 0x7540);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0221
        gbc.setState(0x693, 0x22e2, 0xaaf0, 0xe1fd, 0x3386, 0x248a, 0x1, 0x0);
        gbc.writeMem(0x693, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x22e2);
        EXPECT(gbc.pc(), 0x694);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0222
        gbc.setState(0xc46d, 0x3a8, 0x4390, 0xe55, 0x1cc1, 0xf889, 0x1, 0x1);
        gbc.writeMem(0xc46d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x3a8);
        EXPECT(gbc.pc(), 0xc46e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc46d), 0x9c);
        // 9C 0223
        gbc.setState(0xa1d4, 0xd005, 0x2f80, 0xbec5, 0xd6, 0x7d9e, 0x0, 0x0);
        gbc.writeMem(0xa1d4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xd005);
        EXPECT(gbc.pc(), 0xa1d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1d4), 0x9c);
        // 9C 0224
        gbc.setState(0xada6, 0x7076, 0x8ed0, 0x82da, 0x9716, 0xbb7e, 0x0, 0x0);
        gbc.writeMem(0xada6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x7076);
        EXPECT(gbc.pc(), 0xada7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xada6), 0x9c);
        // 9C 0225
        gbc.setState(0x1c76, 0x856e, 0xf500, 0x29d8, 0xfc29, 0xccc1, 0x1, 0x1);
        gbc.writeMem(0x1c76, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x856e);
        EXPECT(gbc.pc(), 0x1c77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0226
        gbc.setState(0x5cf7, 0xf01f, 0xad90, 0x334, 0x838d, 0xc29b, 0x0, 0x0);
        gbc.writeMem(0x5cf7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xf01f);
        EXPECT(gbc.pc(), 0x5cf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0227
        gbc.setState(0xb8a2, 0x9bb0, 0xb0c0, 0x822a, 0xb0f4, 0x9a1a, 0x0, 0x0);
        gbc.writeMem(0xb8a2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x9bb0);
        EXPECT(gbc.pc(), 0xb8a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8a2), 0x9c);
        // 9C 0228
        gbc.setState(0x2b72, 0x1635, 0xdab0, 0xf8fc, 0xb52e, 0x4b13, 0x1, 0x0);
        gbc.writeMem(0x2b72, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x1635);
        EXPECT(gbc.pc(), 0x2b73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0229
        gbc.setState(0x318c, 0x3206, 0xc5c0, 0xc0a0, 0x6892, 0xf971, 0x1, 0x1);
        gbc.writeMem(0x318c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x3206);
        EXPECT(gbc.pc(), 0x318d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 022A
        gbc.setState(0x1d86, 0x7571, 0xd2a0, 0x60e5, 0x9113, 0x2fcb, 0x1, 0x1);
        gbc.writeMem(0x1d86, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x7571);
        EXPECT(gbc.pc(), 0x1d87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 022B
        gbc.setState(0x8a91, 0xa528, 0xba50, 0xe071, 0xed95, 0xb596, 0x0, 0x1);
        gbc.writeMem(0x8a91, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xa528);
        EXPECT(gbc.pc(), 0x8a92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a91), 0x9c);
        // 9C 022C
        gbc.setState(0x4ea9, 0x5ba7, 0xb0b0, 0xf330, 0xc1d3, 0x53ff, 0x0, 0x1);
        gbc.writeMem(0x4ea9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x5ba7);
        EXPECT(gbc.pc(), 0x4eaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 022D
        gbc.setState(0x76cd, 0xf172, 0x66b0, 0x3994, 0xd8ec, 0x8007, 0x1, 0x0);
        gbc.writeMem(0x76cd, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xf172);
        EXPECT(gbc.pc(), 0x76ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 022E
        gbc.setState(0xb8c7, 0xfe19, 0xb0, 0x53b, 0xcc3e, 0x9ed5, 0x0, 0x0);
        gbc.writeMem(0xb8c7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xfe19);
        EXPECT(gbc.pc(), 0xb8c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8c7), 0x9c);
        // 9C 022F
        gbc.setState(0xa69d, 0xa9df, 0x3000, 0xbdf9, 0xa51a, 0xb1cb, 0x0, 0x0);
        gbc.writeMem(0xa69d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xa9df);
        EXPECT(gbc.pc(), 0xa69e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa69d), 0x9c);
        // 9C 0230
        gbc.setState(0xc020, 0x2ed6, 0x1e40, 0x3969, 0x77b8, 0x65c8, 0x1, 0x1);
        gbc.writeMem(0xc020, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x2ed6);
        EXPECT(gbc.pc(), 0xc021);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc020), 0x9c);
        // 9C 0231
        gbc.setState(0x2d3b, 0xee79, 0x59e0, 0x421, 0xcb87, 0x80ea, 0x0, 0x1);
        gbc.writeMem(0x2d3b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xee79);
        EXPECT(gbc.pc(), 0x2d3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0232
        gbc.setState(0x3576, 0xd742, 0x86a0, 0x92a4, 0xfaf7, 0x8c08, 0x1, 0x1);
        gbc.writeMem(0x3576, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xd742);
        EXPECT(gbc.pc(), 0x3577);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0234
        gbc.setState(0x35eb, 0x60b6, 0xd90, 0x7251, 0xc4f4, 0x1a3, 0x1, 0x1);
        gbc.writeMem(0x35eb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x60b6);
        EXPECT(gbc.pc(), 0x35ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0235
        gbc.setState(0x4741, 0xf0c2, 0xb6d0, 0xa947, 0xb66d, 0x543d, 0x0, 0x1);
        gbc.writeMem(0x4741, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xf0c2);
        EXPECT(gbc.pc(), 0x4742);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0236
        gbc.setState(0x49ef, 0xe626, 0xc830, 0x20b6, 0x5ee5, 0xa1a1, 0x1, 0x0);
        gbc.writeMem(0x49ef, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xe626);
        EXPECT(gbc.pc(), 0x49f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0237
        gbc.setState(0x75b2, 0xcb80, 0xa90, 0xc8d9, 0xd36a, 0xfeca, 0x1, 0x1);
        gbc.writeMem(0x75b2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xcb80);
        EXPECT(gbc.pc(), 0x75b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0238
        gbc.setState(0x38a3, 0x4ef3, 0x9c90, 0xdda1, 0xfa78, 0xb001, 0x1, 0x1);
        gbc.writeMem(0x38a3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x4ef3);
        EXPECT(gbc.pc(), 0x38a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0239
        gbc.setState(0x850e, 0xead, 0xc2a0, 0xca64, 0xefa2, 0x9965, 0x1, 0x0);
        gbc.writeMem(0x850e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xead);
        EXPECT(gbc.pc(), 0x850f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x850e), 0x9c);
        // 9C 023A
        gbc.setState(0xe84a, 0xf46a, 0x8730, 0xdf9d, 0xbd65, 0x5c6f, 0x1, 0x0);
        gbc.writeMem(0xe84a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xf46a);
        EXPECT(gbc.pc(), 0xe84b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe84a), 0x9c);
        // 9C 023C
        gbc.setState(0xba51, 0xd7b6, 0x8f50, 0x666c, 0x5689, 0xee0b, 0x1, 0x0);
        gbc.writeMem(0xba51, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xd7b6);
        EXPECT(gbc.pc(), 0xba52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba51), 0x9c);
        // 9C 023D
        gbc.setState(0xc127, 0xc0dc, 0xa230, 0x975e, 0xf91c, 0xcefd, 0x0, 0x1);
        gbc.writeMem(0xc127, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc0dc);
        EXPECT(gbc.pc(), 0xc128);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc127), 0x9c);
        // 9C 023E
        gbc.setState(0x6a58, 0x65f0, 0xaa40, 0x6823, 0xe55e, 0x1f58, 0x0, 0x1);
        gbc.writeMem(0x6a58, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x65f0);
        EXPECT(gbc.pc(), 0x6a59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 023F
        gbc.setState(0x6807, 0xd744, 0x5870, 0x63d4, 0xb59b, 0x28ce, 0x0, 0x0);
        gbc.writeMem(0x6807, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xd744);
        EXPECT(gbc.pc(), 0x6808);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0240
        gbc.setState(0x3ae3, 0x7ad1, 0x94a0, 0x6652, 0x1fe, 0x8273, 0x1, 0x1);
        gbc.writeMem(0x3ae3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x7ad1);
        EXPECT(gbc.pc(), 0x3ae4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0241
        gbc.setState(0x26d, 0x3861, 0xc2f0, 0x7290, 0xc723, 0xc858, 0x1, 0x0);
        gbc.writeMem(0x26d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x3861);
        EXPECT(gbc.pc(), 0x26e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0243
        gbc.setState(0x8248, 0x6d08, 0xbad0, 0x3a43, 0x6d22, 0xecee, 0x0, 0x1);
        gbc.writeMem(0x8248, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x6d08);
        EXPECT(gbc.pc(), 0x8249);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8248), 0x9c);
        // 9C 0244
        gbc.setState(0x110f, 0x17b7, 0xe880, 0xf6bd, 0x9e5d, 0x9211, 0x0, 0x1);
        gbc.writeMem(0x110f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x17b7);
        EXPECT(gbc.pc(), 0x1110);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0245
        gbc.setState(0xd072, 0xfaa, 0x8ff0, 0x99e5, 0x2e28, 0xfde, 0x1, 0x1);
        gbc.writeMem(0xd072, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xfaa);
        EXPECT(gbc.pc(), 0xd073);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd072), 0x9c);
        // 9C 0247
        gbc.setState(0x47e9, 0xf3a7, 0xb600, 0x78d0, 0x21ea, 0xcec0, 0x1, 0x0);
        gbc.writeMem(0x47e9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xf3a7);
        EXPECT(gbc.pc(), 0x47ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0248
        gbc.setState(0xb795, 0x8e95, 0x6e50, 0x2a8d, 0xa99e, 0x5a20, 0x1, 0x1);
        gbc.writeMem(0xb795, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8e95);
        EXPECT(gbc.pc(), 0xb796);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb795), 0x9c);
        // 9C 0249
        gbc.setState(0x56d8, 0xde07, 0xed40, 0x7ca7, 0xd678, 0xf801, 0x1, 0x1);
        gbc.writeMem(0x56d8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xde07);
        EXPECT(gbc.pc(), 0x56d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 024A
        gbc.setState(0x60fa, 0xe075, 0x180, 0x406, 0xb310, 0xc4f2, 0x1, 0x1);
        gbc.writeMem(0x60fa, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xe075);
        EXPECT(gbc.pc(), 0x60fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 024B
        gbc.setState(0xaaf8, 0xe2ad, 0x4bb0, 0x286f, 0xd086, 0x5bb1, 0x1, 0x1);
        gbc.writeMem(0xaaf8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xe2ad);
        EXPECT(gbc.pc(), 0xaaf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaf8), 0x9c);
        // 9C 024D
        gbc.setState(0xdeb8, 0x86ba, 0x14d0, 0xd0e3, 0x4e38, 0x2cd6, 0x0, 0x0);
        gbc.writeMem(0xdeb8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x86ba);
        EXPECT(gbc.pc(), 0xdeb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdeb8), 0x9c);
        // 9C 024E
        gbc.setState(0x8c26, 0xa9d7, 0x1c50, 0xe929, 0xf02b, 0x453f, 0x1, 0x1);
        gbc.writeMem(0x8c26, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xa9d7);
        EXPECT(gbc.pc(), 0x8c27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c26), 0x9c);
        // 9C 024F
        gbc.setState(0xa39, 0x320e, 0xa580, 0x820, 0x3662, 0x80, 0x0, 0x0);
        gbc.writeMem(0xa39, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x320e);
        EXPECT(gbc.pc(), 0xa3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0250
        gbc.setState(0x874c, 0x5411, 0x9930, 0x81b6, 0x48a9, 0x8b7d, 0x1, 0x1);
        gbc.writeMem(0x874c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x5411);
        EXPECT(gbc.pc(), 0x874d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x874c), 0x9c);
        // 9C 0251
        gbc.setState(0xd580, 0x9b5f, 0xaa0, 0x3acb, 0xacc9, 0x764d, 0x0, 0x1);
        gbc.writeMem(0xd580, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x9b5f);
        EXPECT(gbc.pc(), 0xd581);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd580), 0x9c);
        // 9C 0252
        gbc.setState(0xd914, 0xf7f4, 0x920, 0x6db, 0xa58, 0x3bfa, 0x0, 0x1);
        gbc.writeMem(0xd914, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xf7f4);
        EXPECT(gbc.pc(), 0xd915);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd914), 0x9c);
        // 9C 0253
        gbc.setState(0x6b9c, 0x146d, 0x9d40, 0x3bfd, 0x4870, 0x22b0, 0x0, 0x0);
        gbc.writeMem(0x6b9c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x146d);
        EXPECT(gbc.pc(), 0x6b9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0254
        gbc.setState(0x99ec, 0x1a9f, 0x1ba0, 0x1a05, 0x1294, 0x2b78, 0x0, 0x1);
        gbc.writeMem(0x99ec, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x1a9f);
        EXPECT(gbc.pc(), 0x99ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99ec), 0x9c);
        // 9C 0255
        gbc.setState(0x44ce, 0xe2df, 0x1f70, 0xd6a1, 0x5efc, 0xd397, 0x1, 0x1);
        gbc.writeMem(0x44ce, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xe2df);
        EXPECT(gbc.pc(), 0x44cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0256
        gbc.setState(0x7b47, 0xb16, 0x2de0, 0x1332, 0xf3d6, 0x64fe, 0x0, 0x0);
        gbc.writeMem(0x7b47, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xb16);
        EXPECT(gbc.pc(), 0x7b48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0257
        gbc.setState(0x1fe6, 0x7e3f, 0xe520, 0x87a0, 0xbe4b, 0x6dd1, 0x0, 0x1);
        gbc.writeMem(0x1fe6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x7e3f);
        EXPECT(gbc.pc(), 0x1fe7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0258
        gbc.setState(0xd34f, 0xbf3e, 0xeaa0, 0x4a36, 0xab04, 0xb0da, 0x0, 0x0);
        gbc.writeMem(0xd34f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xbf3e);
        EXPECT(gbc.pc(), 0xd350);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd34f), 0x9c);
        // 9C 0259
        gbc.setState(0xbab6, 0x5a73, 0x3d00, 0x21cc, 0x5c08, 0x48c6, 0x1, 0x1);
        gbc.writeMem(0xbab6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x5a73);
        EXPECT(gbc.pc(), 0xbab7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbab6), 0x9c);
        // 9C 025A
        gbc.setState(0xbf66, 0xfc91, 0xe3a0, 0xa87a, 0xd455, 0xf83f, 0x1, 0x0);
        gbc.writeMem(0xbf66, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xfc91);
        EXPECT(gbc.pc(), 0xbf67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf66), 0x9c);
        // 9C 025B
        gbc.setState(0xc95b, 0x10ea, 0xec0, 0x8a40, 0x1f38, 0x41cf, 0x1, 0x1);
        gbc.writeMem(0xc95b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x10ea);
        EXPECT(gbc.pc(), 0xc95c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc95b), 0x9c);
        // 9C 025C
        gbc.setState(0x4ea8, 0xe0a1, 0x1ac0, 0x2c7c, 0xd3c2, 0xe9f1, 0x0, 0x1);
        gbc.writeMem(0x4ea8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xe0a1);
        EXPECT(gbc.pc(), 0x4ea9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 025D
        gbc.setState(0x293d, 0x4f72, 0xf130, 0x35d2, 0xd294, 0xc855, 0x1, 0x0);
        gbc.writeMem(0x293d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x4f72);
        EXPECT(gbc.pc(), 0x293e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 025E
        gbc.setState(0x2a10, 0x3b53, 0xf490, 0xe24a, 0x4672, 0xd2c7, 0x1, 0x1);
        gbc.writeMem(0x2a10, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x3b53);
        EXPECT(gbc.pc(), 0x2a11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 025F
        gbc.setState(0x9dec, 0xd55, 0xd6b0, 0xd462, 0x28fd, 0x2000, 0x1, 0x1);
        gbc.writeMem(0x9dec, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xd55);
        EXPECT(gbc.pc(), 0x9ded);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9dec), 0x9c);
        // 9C 0260
        gbc.setState(0x1e7d, 0x1911, 0x8c0, 0x700b, 0x8815, 0x8063, 0x1, 0x1);
        gbc.writeMem(0x1e7d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x1911);
        EXPECT(gbc.pc(), 0x1e7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0261
        gbc.setState(0x3a67, 0x601c, 0x1b00, 0x1241, 0x731c, 0x7c2d, 0x1, 0x0);
        gbc.writeMem(0x3a67, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x601c);
        EXPECT(gbc.pc(), 0x3a68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0262
        gbc.setState(0xc1ba, 0x6af4, 0xd180, 0xab4d, 0x424a, 0x377f, 0x0, 0x0);
        gbc.writeMem(0xc1ba, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x6af4);
        EXPECT(gbc.pc(), 0xc1bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1ba), 0x9c);
        // 9C 0263
        gbc.setState(0xa464, 0x20f, 0x6a70, 0x52e3, 0x338a, 0x9652, 0x1, 0x0);
        gbc.writeMem(0xa464, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x20f);
        EXPECT(gbc.pc(), 0xa465);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa464), 0x9c);
        // 9C 0264
        gbc.setState(0x871a, 0xe0a8, 0x4890, 0x2a65, 0x3d64, 0xde42, 0x1, 0x0);
        gbc.writeMem(0x871a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xe0a8);
        EXPECT(gbc.pc(), 0x871b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x871a), 0x9c);
        // 9C 0265
        gbc.setState(0xccc3, 0x99c7, 0x9a60, 0x6af4, 0x2fae, 0xb36, 0x1, 0x0);
        gbc.writeMem(0xccc3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x99c7);
        EXPECT(gbc.pc(), 0xccc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccc3), 0x9c);
        // 9C 0266
        gbc.setState(0x1899, 0xcd2b, 0x2cb0, 0x3f24, 0x3f8c, 0x3b01, 0x0, 0x0);
        gbc.writeMem(0x1899, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xcd2b);
        EXPECT(gbc.pc(), 0x189a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0267
        gbc.setState(0x3f83, 0x3d9, 0x2b10, 0x4294, 0x7f56, 0x8cd4, 0x0, 0x1);
        gbc.writeMem(0x3f83, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x3d9);
        EXPECT(gbc.pc(), 0x3f84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0268
        gbc.setState(0x4a6c, 0x86f8, 0x2db0, 0x7de5, 0x8c5, 0x5c4c, 0x1, 0x0);
        gbc.writeMem(0x4a6c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x86f8);
        EXPECT(gbc.pc(), 0x4a6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0269
        gbc.setState(0xd46f, 0x5103, 0x4f0, 0x381f, 0x5170, 0xd1e5, 0x1, 0x0);
        gbc.writeMem(0xd46f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x5103);
        EXPECT(gbc.pc(), 0xd470);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd46f), 0x9c);
        // 9C 026A
        gbc.setState(0x3aec, 0x772d, 0x6b50, 0x28a6, 0xdb99, 0x359b, 0x0, 0x0);
        gbc.writeMem(0x3aec, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x772d);
        EXPECT(gbc.pc(), 0x3aed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 026B
        gbc.setState(0xc7e7, 0x9957, 0xb450, 0x6746, 0x5880, 0x698f, 0x0, 0x0);
        gbc.writeMem(0xc7e7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x9957);
        EXPECT(gbc.pc(), 0xc7e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7e7), 0x9c);
        // 9C 026C
        gbc.setState(0x97d5, 0xb8b5, 0x2670, 0xfaff, 0x4db7, 0x47de, 0x0, 0x0);
        gbc.writeMem(0x97d5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xb8b5);
        EXPECT(gbc.pc(), 0x97d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97d5), 0x9c);
        // 9C 026D
        gbc.setState(0x9e21, 0xb9ed, 0xfc20, 0x5e45, 0x9eaf, 0x2465, 0x0, 0x0);
        gbc.writeMem(0x9e21, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xb9ed);
        EXPECT(gbc.pc(), 0x9e22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e21), 0x9c);
        // 9C 026E
        gbc.setState(0x6205, 0x7480, 0xa7f0, 0xdf40, 0x9f5c, 0x2519, 0x1, 0x1);
        gbc.writeMem(0x6205, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x7480);
        EXPECT(gbc.pc(), 0x6206);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 026F
        gbc.setState(0xede9, 0xde65, 0x2780, 0x6d00, 0xc4f, 0xba47, 0x0, 0x0);
        gbc.writeMem(0xede9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xde65);
        EXPECT(gbc.pc(), 0xedea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xede9), 0x9c);
        // 9C 0270
        gbc.setState(0xc72a, 0xea06, 0xd4a0, 0x9ba, 0xf774, 0x1741, 0x0, 0x1);
        gbc.writeMem(0xc72a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xea06);
        EXPECT(gbc.pc(), 0xc72b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc72a), 0x9c);
        // 9C 0271
        gbc.setState(0x9171, 0x207c, 0x9f50, 0x8b4a, 0xbf6e, 0xb2ea, 0x0, 0x1);
        gbc.writeMem(0x9171, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x207c);
        EXPECT(gbc.pc(), 0x9172);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9171), 0x9c);
        // 9C 0272
        gbc.setState(0xe23e, 0x1497, 0x7030, 0x4010, 0x2013, 0xa4, 0x0, 0x1);
        gbc.writeMem(0xe23e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x1497);
        EXPECT(gbc.pc(), 0xe23f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe23e), 0x9c);
        // 9C 0273
        gbc.setState(0x93cd, 0x7dcf, 0xe620, 0xe999, 0x94f9, 0x3ece, 0x0, 0x0);
        gbc.writeMem(0x93cd, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x7dcf);
        EXPECT(gbc.pc(), 0x93ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93cd), 0x9c);
        // 9C 0274
        gbc.setState(0x5927, 0xeb36, 0x8550, 0xdd47, 0x389e, 0xface, 0x1, 0x1);
        gbc.writeMem(0x5927, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xeb36);
        EXPECT(gbc.pc(), 0x5928);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0276
        gbc.setState(0x3ed2, 0xf3dd, 0x6e70, 0x558c, 0x93c8, 0xaa61, 0x1, 0x0);
        gbc.writeMem(0x3ed2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xf3dd);
        EXPECT(gbc.pc(), 0x3ed3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0277
        gbc.setState(0x5b28, 0x1a6, 0x8fd0, 0xeb5c, 0x5214, 0x7135, 0x1, 0x0);
        gbc.writeMem(0x5b28, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x1a6);
        EXPECT(gbc.pc(), 0x5b29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0278
        gbc.setState(0xccc9, 0x35c2, 0xdce0, 0xb0d0, 0xe59a, 0xd81b, 0x1, 0x0);
        gbc.writeMem(0xccc9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x35c2);
        EXPECT(gbc.pc(), 0xccca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccc9), 0x9c);
        // 9C 0279
        gbc.setState(0x48e6, 0xa594, 0xab60, 0x4f36, 0x4750, 0xa570, 0x0, 0x0);
        gbc.writeMem(0x48e6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xa594);
        EXPECT(gbc.pc(), 0x48e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 027A
        gbc.setState(0x9b34, 0x2373, 0x1110, 0x6049, 0xd8bc, 0x3ef1, 0x1, 0x0);
        gbc.writeMem(0x9b34, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x2373);
        EXPECT(gbc.pc(), 0x9b35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b34), 0x9c);
        // 9C 027B
        gbc.setState(0xd24b, 0x4a15, 0x1710, 0xb35b, 0x1019, 0x7371, 0x1, 0x0);
        gbc.writeMem(0xd24b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x4a15);
        EXPECT(gbc.pc(), 0xd24c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd24b), 0x9c);
        // 9C 027C
        gbc.setState(0xb94f, 0x1b62, 0xa880, 0x9b23, 0x7fbb, 0xff28, 0x1, 0x1);
        gbc.writeMem(0xb94f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x1b62);
        EXPECT(gbc.pc(), 0xb950);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb94f), 0x9c);
        // 9C 027D
        gbc.setState(0x6604, 0xc9e9, 0x8f20, 0xc93e, 0xeab4, 0xd552, 0x1, 0x1);
        gbc.writeMem(0x6604, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xc9e9);
        EXPECT(gbc.pc(), 0x6605);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 027E
        gbc.setState(0x4b1e, 0x8c52, 0x6960, 0xccf0, 0x13a, 0xda50, 0x0, 0x1);
        gbc.writeMem(0x4b1e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x8c52);
        EXPECT(gbc.pc(), 0x4b1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 027F
        gbc.setState(0xa412, 0xf432, 0x9a20, 0x322, 0x418c, 0x2592, 0x1, 0x1);
        gbc.writeMem(0xa412, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xf432);
        EXPECT(gbc.pc(), 0xa413);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa412), 0x9c);
        // 9C 0280
        gbc.setState(0x7449, 0xd82d, 0x8200, 0xe3fb, 0xad90, 0x692, 0x1, 0x1);
        gbc.writeMem(0x7449, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xd82d);
        EXPECT(gbc.pc(), 0x744a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0281
        gbc.setState(0xc2a4, 0x2a42, 0xba10, 0x534b, 0x1b51, 0xa88e, 0x0, 0x1);
        gbc.writeMem(0xc2a4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x2a42);
        EXPECT(gbc.pc(), 0xc2a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2a4), 0x9c);
        // 9C 0282
        gbc.setState(0x3fc0, 0x126d, 0x57d0, 0x1d5b, 0x63ee, 0x165e, 0x0, 0x0);
        gbc.writeMem(0x3fc0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x126d);
        EXPECT(gbc.pc(), 0x3fc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0283
        gbc.setState(0x3dc, 0xacb2, 0xa080, 0x74d2, 0x69ba, 0xfccf, 0x0, 0x0);
        gbc.writeMem(0x3dc, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xacb2);
        EXPECT(gbc.pc(), 0x3dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0284
        gbc.setState(0x226b, 0xe6a2, 0xb1c0, 0x7d64, 0x5a5a, 0xe36b, 0x1, 0x1);
        gbc.writeMem(0x226b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xe6a2);
        EXPECT(gbc.pc(), 0x226c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0286
        gbc.setState(0xe305, 0x7ca1, 0xf040, 0x2aad, 0xdc82, 0x5bff, 0x1, 0x1);
        gbc.writeMem(0xe305, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x7ca1);
        EXPECT(gbc.pc(), 0xe306);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe305), 0x9c);
        // 9C 0287
        gbc.setState(0xc278, 0x821a, 0x8100, 0x5498, 0x90b0, 0x5e26, 0x1, 0x1);
        gbc.writeMem(0xc278, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x821a);
        EXPECT(gbc.pc(), 0xc279);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc278), 0x9c);
        // 9C 0288
        gbc.setState(0x2697, 0xb4a4, 0xe200, 0x7ac4, 0x3076, 0xb45c, 0x1, 0x0);
        gbc.writeMem(0x2697, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xb4a4);
        EXPECT(gbc.pc(), 0x2698);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0289
        gbc.setState(0x4d11, 0x1955, 0x6ef0, 0x9ac6, 0x4dc6, 0x5796, 0x0, 0x0);
        gbc.writeMem(0x4d11, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x1955);
        EXPECT(gbc.pc(), 0x4d12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 028A
        gbc.setState(0x83ed, 0x6bbd, 0xc870, 0x889, 0xe75a, 0x1e4a, 0x1, 0x0);
        gbc.writeMem(0x83ed, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x6bbd);
        EXPECT(gbc.pc(), 0x83ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83ed), 0x9c);
        // 9C 028B
        gbc.setState(0xa676, 0xb7fa, 0x1750, 0x9995, 0xd141, 0xa6dd, 0x1, 0x1);
        gbc.writeMem(0xa676, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xb7fa);
        EXPECT(gbc.pc(), 0xa677);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa676), 0x9c);
        // 9C 028C
        gbc.setState(0x6513, 0x5431, 0x5dc0, 0x9f5d, 0x3e35, 0x7871, 0x0, 0x1);
        gbc.writeMem(0x6513, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x5431);
        EXPECT(gbc.pc(), 0x6514);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 028D
        gbc.setState(0x9d38, 0xf0b0, 0x34e0, 0x3e91, 0x9330, 0x104, 0x0, 0x1);
        gbc.writeMem(0x9d38, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xf0b0);
        EXPECT(gbc.pc(), 0x9d39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d38), 0x9c);
        // 9C 028E
        gbc.setState(0x2f4, 0x1a3a, 0x2fc0, 0x3a44, 0x223d, 0xbb23, 0x1, 0x1);
        gbc.writeMem(0x2f4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1a3a);
        EXPECT(gbc.pc(), 0x2f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 028F
        gbc.setState(0x8dc8, 0x9847, 0xa1e0, 0x7d84, 0x2974, 0xa89, 0x0, 0x0);
        gbc.writeMem(0x8dc8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x9847);
        EXPECT(gbc.pc(), 0x8dc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dc8), 0x9c);
        // 9C 0290
        gbc.setState(0xaca1, 0x72a0, 0x7cc0, 0x7d49, 0xf954, 0xf90d, 0x1, 0x1);
        gbc.writeMem(0xaca1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x72a0);
        EXPECT(gbc.pc(), 0xaca2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaca1), 0x9c);
        // 9C 0291
        gbc.setState(0x5248, 0xa416, 0x7b60, 0x3ffa, 0xce2c, 0x9cb8, 0x0, 0x0);
        gbc.writeMem(0x5248, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xa416);
        EXPECT(gbc.pc(), 0x5249);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0292
        gbc.setState(0x9a18, 0xc99d, 0x30, 0x9f0, 0xa8ec, 0x628d, 0x1, 0x1);
        gbc.writeMem(0x9a18, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xc99d);
        EXPECT(gbc.pc(), 0x9a19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a18), 0x9c);
        // 9C 0293
        gbc.setState(0x3db7, 0x6e9a, 0x1150, 0x2e25, 0x886c, 0x97d, 0x0, 0x0);
        gbc.writeMem(0x3db7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x6e9a);
        EXPECT(gbc.pc(), 0x3db8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0294
        gbc.setState(0x2f62, 0xc4e8, 0x3ab0, 0x5c24, 0xcff8, 0xc61d, 0x0, 0x0);
        gbc.writeMem(0x2f62, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xc4e8);
        EXPECT(gbc.pc(), 0x2f63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0295
        gbc.setState(0xbc99, 0x7947, 0x1a0, 0xdcc, 0x5aef, 0x4699, 0x1, 0x1);
        gbc.writeMem(0xbc99, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x7947);
        EXPECT(gbc.pc(), 0xbc9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc99), 0x9c);
        // 9C 0296
        gbc.setState(0xed09, 0x5bd0, 0x1fc0, 0x67e3, 0x92b7, 0xf6da, 0x0, 0x1);
        gbc.writeMem(0xed09, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x5bd0);
        EXPECT(gbc.pc(), 0xed0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed09), 0x9c);
        // 9C 0297
        gbc.setState(0xb300, 0x9756, 0xeae0, 0x6433, 0xd5f6, 0x47ba, 0x1, 0x0);
        gbc.writeMem(0xb300, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x9756);
        EXPECT(gbc.pc(), 0xb301);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb300), 0x9c);
        // 9C 0298
        gbc.setState(0xc3b1, 0xec3e, 0x75b0, 0x2a0a, 0xbd8, 0x8c3c, 0x1, 0x0);
        gbc.writeMem(0xc3b1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xec3e);
        EXPECT(gbc.pc(), 0xc3b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3b1), 0x9c);
        // 9C 0299
        gbc.setState(0x2859, 0xac78, 0xb2d0, 0x8e27, 0x44a0, 0x461f, 0x1, 0x1);
        gbc.writeMem(0x2859, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xac78);
        EXPECT(gbc.pc(), 0x285a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 029A
        gbc.setState(0x1c48, 0xf932, 0x5a90, 0x56d5, 0x335e, 0xfbdd, 0x1, 0x0);
        gbc.writeMem(0x1c48, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xf932);
        EXPECT(gbc.pc(), 0x1c49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 029C
        gbc.setState(0x2302, 0x4a8e, 0xac50, 0xe32c, 0xef2b, 0xe990, 0x1, 0x1);
        gbc.writeMem(0x2302, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x4a8e);
        EXPECT(gbc.pc(), 0x2303);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 029D
        gbc.setState(0xe972, 0x44e1, 0x1b90, 0x6698, 0xd233, 0x6631, 0x1, 0x0);
        gbc.writeMem(0xe972, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x44e1);
        EXPECT(gbc.pc(), 0xe973);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe972), 0x9c);
        // 9C 029E
        gbc.setState(0x8610, 0xc66, 0x1a70, 0x4885, 0x270c, 0xfa8e, 0x1, 0x1);
        gbc.writeMem(0x8610, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xc66);
        EXPECT(gbc.pc(), 0x8611);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8610), 0x9c);
        // 9C 029F
        gbc.setState(0xe841, 0x7fef, 0x730, 0xd796, 0xe8ad, 0x6844, 0x0, 0x0);
        gbc.writeMem(0xe841, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x7fef);
        EXPECT(gbc.pc(), 0xe842);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe841), 0x9c);
        // 9C 02A0
        gbc.setState(0xe830, 0xb3a7, 0x85c0, 0xc3ec, 0xf577, 0xaffc, 0x0, 0x0);
        gbc.writeMem(0xe830, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xb3a7);
        EXPECT(gbc.pc(), 0xe831);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe830), 0x9c);
        // 9C 02A2
        gbc.setState(0xcfc7, 0xbf29, 0x2b40, 0xd5f, 0x2fba, 0xd913, 0x0, 0x1);
        gbc.writeMem(0xcfc7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xbf29);
        EXPECT(gbc.pc(), 0xcfc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfc7), 0x9c);
        // 9C 02A3
        gbc.setState(0x83be, 0xa858, 0x8c50, 0x3d0, 0xbe57, 0xefb8, 0x1, 0x0);
        gbc.writeMem(0x83be, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xa858);
        EXPECT(gbc.pc(), 0x83bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83be), 0x9c);
        // 9C 02A4
        gbc.setState(0xa8fd, 0x4e96, 0xd220, 0xc48b, 0xcdb0, 0xecc3, 0x0, 0x1);
        gbc.writeMem(0xa8fd, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x4e96);
        EXPECT(gbc.pc(), 0xa8fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8fd), 0x9c);
        // 9C 02A5
        gbc.setState(0xc74a, 0x5e67, 0x8c60, 0x2d8, 0x6af9, 0x486c, 0x1, 0x1);
        gbc.writeMem(0xc74a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x5e67);
        EXPECT(gbc.pc(), 0xc74b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc74a), 0x9c);
        // 9C 02A6
        gbc.setState(0xc474, 0xc5f1, 0xf460, 0x2ac6, 0x896c, 0x9b75, 0x1, 0x1);
        gbc.writeMem(0xc474, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xc5f1);
        EXPECT(gbc.pc(), 0xc475);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc474), 0x9c);
        // 9C 02A7
        gbc.setState(0x1307, 0x9825, 0x88d0, 0xda5b, 0xfc7d, 0x3635, 0x0, 0x0);
        gbc.writeMem(0x1307, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x9825);
        EXPECT(gbc.pc(), 0x1308);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 02A8
        gbc.setState(0xd269, 0x6e4d, 0x48b0, 0x4a79, 0x99e0, 0x8a4d, 0x1, 0x0);
        gbc.writeMem(0xd269, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x6e4d);
        EXPECT(gbc.pc(), 0xd26a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd269), 0x9c);
        // 9C 02A9
        gbc.setState(0x681e, 0x545f, 0xf420, 0xb0a5, 0x698c, 0xe888, 0x0, 0x1);
        gbc.writeMem(0x681e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x545f);
        EXPECT(gbc.pc(), 0x681f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 02AB
        gbc.setState(0x1872, 0x24e1, 0xe880, 0xc5b1, 0x9ecf, 0x9de2, 0x1, 0x0);
        gbc.writeMem(0x1872, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x24e1);
        EXPECT(gbc.pc(), 0x1873);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 02AC
        gbc.setState(0x903d, 0xf9dd, 0xe0b0, 0xb4ec, 0xfbb2, 0xae9f, 0x1, 0x1);
        gbc.writeMem(0x903d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xf9dd);
        EXPECT(gbc.pc(), 0x903e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x903d), 0x9c);
        // 9C 02AD
        gbc.setState(0xe2c, 0x115b, 0xffe0, 0xb5c1, 0xc4ad, 0xccb9, 0x1, 0x0);
        gbc.writeMem(0xe2c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x115b);
        EXPECT(gbc.pc(), 0xe2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 02AE
        gbc.setState(0xae95, 0xe98c, 0x8390, 0xfa05, 0xfc1a, 0x35e9, 0x0, 0x0);
        gbc.writeMem(0xae95, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xe98c);
        EXPECT(gbc.pc(), 0xae96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae95), 0x9c);
        // 9C 02AF
        gbc.setState(0xef13, 0xb120, 0x8cb0, 0x418b, 0x9fb1, 0x4425, 0x1, 0x1);
        gbc.writeMem(0xef13, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xb120);
        EXPECT(gbc.pc(), 0xef14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef13), 0x9c);
        // 9C 02B0
        gbc.setState(0xdaa2, 0xabfc, 0xe720, 0xc3b7, 0xd1f6, 0x1be7, 0x0, 0x1);
        gbc.writeMem(0xdaa2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xabfc);
        EXPECT(gbc.pc(), 0xdaa3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaa2), 0x9c);
        // 9C 02B1
        gbc.setState(0x99f9, 0x6d2f, 0x8ec0, 0x17a9, 0xb26b, 0xbf19, 0x1, 0x1);
        gbc.writeMem(0x99f9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x6d2f);
        EXPECT(gbc.pc(), 0x99fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99f9), 0x9c);
        // 9C 02B3
        gbc.setState(0xad49, 0x51e8, 0x2170, 0x237b, 0x9c99, 0xfd6, 0x0, 0x0);
        gbc.writeMem(0xad49, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x51e8);
        EXPECT(gbc.pc(), 0xad4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad49), 0x9c);
        // 9C 02B4
        gbc.setState(0xea13, 0xe6ca, 0x44f0, 0x4e00, 0xe94a, 0xab8d, 0x0, 0x1);
        gbc.writeMem(0xea13, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xe6ca);
        EXPECT(gbc.pc(), 0xea14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea13), 0x9c);
        // 9C 02B5
        gbc.setState(0x48b0, 0x1495, 0xdd50, 0xfe6a, 0x161f, 0x91fd, 0x1, 0x0);
        gbc.writeMem(0x48b0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x1495);
        EXPECT(gbc.pc(), 0x48b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 02B6
        gbc.setState(0xdb90, 0x5c11, 0x7ea0, 0x5b1e, 0x2950, 0x71f9, 0x1, 0x0);
        gbc.writeMem(0xdb90, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x5c11);
        EXPECT(gbc.pc(), 0xdb91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb90), 0x9c);
        // 9C 02B7
        gbc.setState(0x7669, 0xf4d1, 0xae10, 0x6d15, 0x7636, 0xd6a0, 0x0, 0x1);
        gbc.writeMem(0x7669, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xf4d1);
        EXPECT(gbc.pc(), 0x766a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 02B8
        gbc.setState(0x8304, 0xb1a0, 0xf190, 0xcf, 0x7665, 0x1d1b, 0x0, 0x1);
        gbc.writeMem(0x8304, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xb1a0);
        EXPECT(gbc.pc(), 0x8305);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8304), 0x9c);
        // 9C 02B9
        gbc.setState(0x194e, 0x2f04, 0xa370, 0x6821, 0xa98b, 0xd296, 0x1, 0x0);
        gbc.writeMem(0x194e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x2f04);
        EXPECT(gbc.pc(), 0x194f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 02BA
        gbc.setState(0x78b8, 0x5799, 0x8160, 0x10cd, 0xeec6, 0x7b3a, 0x1, 0x1);
        gbc.writeMem(0x78b8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x5799);
        EXPECT(gbc.pc(), 0x78b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 02BB
        gbc.setState(0xb96c, 0xed77, 0x880, 0x2ed8, 0xf85b, 0x89c, 0x1, 0x0);
        gbc.writeMem(0xb96c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xed77);
        EXPECT(gbc.pc(), 0xb96d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb96c), 0x9c);
        // 9C 02BC
        gbc.setState(0x378b, 0xa47a, 0x78a0, 0x12aa, 0xa492, 0xa4f0, 0x1, 0x1);
        gbc.writeMem(0x378b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xa47a);
        EXPECT(gbc.pc(), 0x378c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 02BD
        gbc.setState(0x8a18, 0x8d08, 0x9970, 0xe9df, 0x80fb, 0x88af, 0x1, 0x0);
        gbc.writeMem(0x8a18, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x8d08);
        EXPECT(gbc.pc(), 0x8a19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a18), 0x9c);
        // 9C 02BE
        gbc.setState(0xc82d, 0x2f81, 0x31e0, 0xdbb8, 0xa8d5, 0x2d8, 0x0, 0x1);
        gbc.writeMem(0xc82d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x2f81);
        EXPECT(gbc.pc(), 0xc82e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc82d), 0x9c);
        // 9C 02BF
        gbc.setState(0xa0c2, 0x3739, 0xc6e0, 0x6b94, 0x37cc, 0x33eb, 0x0, 0x1);
        gbc.writeMem(0xa0c2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x3739);
        EXPECT(gbc.pc(), 0xa0c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0c2), 0x9c);
        // 9C 02C0
        gbc.setState(0x1ccd, 0xafc6, 0x14e0, 0xda4f, 0xb3db, 0x72eb, 0x1, 0x0);
        gbc.writeMem(0x1ccd, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xafc6);
        EXPECT(gbc.pc(), 0x1cce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 02C1
        gbc.setState(0x48c2, 0x72ba, 0xb7e0, 0xa501, 0x22ff, 0xdc58, 0x0, 0x1);
        gbc.writeMem(0x48c2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x72ba);
        EXPECT(gbc.pc(), 0x48c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 02C2
        gbc.setState(0x4614, 0x2777, 0xcf20, 0x4749, 0xaa38, 0x2b68, 0x0, 0x1);
        gbc.writeMem(0x4614, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x2777);
        EXPECT(gbc.pc(), 0x4615);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 02C3
        gbc.setState(0x340b, 0x71f1, 0x5ee0, 0x4811, 0xee96, 0x34a7, 0x0, 0x0);
        gbc.writeMem(0x340b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x71f1);
        EXPECT(gbc.pc(), 0x340c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 02C4
        gbc.setState(0x5dd0, 0x3953, 0xa270, 0xb53f, 0xa20d, 0xc3e6, 0x1, 0x0);
        gbc.writeMem(0x5dd0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x3953);
        EXPECT(gbc.pc(), 0x5dd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 02C5
        gbc.setState(0xb2d4, 0xe4fa, 0x67c0, 0xd5b0, 0x29b, 0xc4fe, 0x1, 0x0);
        gbc.writeMem(0xb2d4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe4fa);
        EXPECT(gbc.pc(), 0xb2d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2d4), 0x9c);
        // 9C 02C6
        gbc.setState(0x905f, 0xadb7, 0x8570, 0x2f03, 0xd06e, 0xecb3, 0x1, 0x1);
        gbc.writeMem(0x905f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xadb7);
        EXPECT(gbc.pc(), 0x9060);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x905f), 0x9c);
        // 9C 02C7
        gbc.setState(0xcbeb, 0x90c0, 0xb1d0, 0xe89d, 0xdfbe, 0xb5a, 0x1, 0x1);
        gbc.writeMem(0xcbeb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x90c0);
        EXPECT(gbc.pc(), 0xcbec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbeb), 0x9c);
        // 9C 02C8
        gbc.setState(0x3b1, 0xfd0d, 0x2a60, 0xe077, 0x5e5c, 0xf406, 0x0, 0x1);
        gbc.writeMem(0x3b1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xfd0d);
        EXPECT(gbc.pc(), 0x3b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 02C9
        gbc.setState(0x316a, 0xda5d, 0xf4a0, 0xd59f, 0x4042, 0x5e58, 0x1, 0x0);
        gbc.writeMem(0x316a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xda5d);
        EXPECT(gbc.pc(), 0x316b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 02CA
        gbc.setState(0x656c, 0xae57, 0xe700, 0x3cf3, 0xe1e1, 0xe497, 0x0, 0x1);
        gbc.writeMem(0x656c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xae57);
        EXPECT(gbc.pc(), 0x656d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 02CB
        gbc.setState(0x841d, 0x23f4, 0x28f0, 0xf23, 0xced, 0xb73a, 0x0, 0x0);
        gbc.writeMem(0x841d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x23f4);
        EXPECT(gbc.pc(), 0x841e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x841d), 0x9c);
        // 9C 02CC
        gbc.setState(0xea30, 0xa8d9, 0xd7f0, 0x1c2b, 0x3d53, 0xfb9d, 0x0, 0x1);
        gbc.writeMem(0xea30, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xa8d9);
        EXPECT(gbc.pc(), 0xea31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea30), 0x9c);
        // 9C 02CD
        gbc.setState(0xcd6, 0xcd3b, 0xb210, 0x2fc0, 0xd7e6, 0x2043, 0x0, 0x0);
        gbc.writeMem(0xcd6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xcd3b);
        EXPECT(gbc.pc(), 0xcd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 02CE
        gbc.setState(0x929c, 0xaf0b, 0x5250, 0xce11, 0x79ac, 0x2afe, 0x0, 0x1);
        gbc.writeMem(0x929c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xaf0b);
        EXPECT(gbc.pc(), 0x929d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x929c), 0x9c);
        // 9C 02CF
        gbc.setState(0xabe5, 0xc50e, 0x9700, 0xbd50, 0x420, 0xac48, 0x0, 0x1);
        gbc.writeMem(0xabe5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xc50e);
        EXPECT(gbc.pc(), 0xabe6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabe5), 0x9c);
        // 9C 02D0
        gbc.setState(0x76e7, 0xe76d, 0xbd60, 0xe5e5, 0x4b1e, 0xede8, 0x0, 0x0);
        gbc.writeMem(0x76e7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xe76d);
        EXPECT(gbc.pc(), 0x76e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 02D1
        gbc.setState(0x9a11, 0x509b, 0x1990, 0xeb6b, 0xd82b, 0xa275, 0x0, 0x1);
        gbc.writeMem(0x9a11, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x509b);
        EXPECT(gbc.pc(), 0x9a12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a11), 0x9c);
        // 9C 02D2
        gbc.setState(0x5af6, 0x4601, 0x8b60, 0x3875, 0x99db, 0xd16a, 0x0, 0x0);
        gbc.writeMem(0x5af6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x4601);
        EXPECT(gbc.pc(), 0x5af7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 02D3
        gbc.setState(0xb6ce, 0xfa25, 0x5a50, 0xfddd, 0x8bff, 0x754b, 0x0, 0x1);
        gbc.writeMem(0xb6ce, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xfa25);
        EXPECT(gbc.pc(), 0xb6cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6ce), 0x9c);
        // 9C 02D4
        gbc.setState(0x118d, 0x5dd4, 0x7820, 0x68b4, 0x8c7a, 0x33c1, 0x0, 0x1);
        gbc.writeMem(0x118d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x5dd4);
        EXPECT(gbc.pc(), 0x118e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 02D5
        gbc.setState(0x39c, 0x3ebb, 0xcd90, 0xe4fb, 0x4f34, 0xcf25, 0x1, 0x1);
        gbc.writeMem(0x39c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x3ebb);
        EXPECT(gbc.pc(), 0x39d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 02D6
        gbc.setState(0xd878, 0xd2f, 0x79c0, 0x9d0e, 0xd1aa, 0x4220, 0x0, 0x0);
        gbc.writeMem(0xd878, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd2f);
        EXPECT(gbc.pc(), 0xd879);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd878), 0x9c);
        // 9C 02D7
        gbc.setState(0x6ae7, 0x61d6, 0x1480, 0x430f, 0x5d14, 0xa311, 0x0, 0x1);
        gbc.writeMem(0x6ae7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x61d6);
        EXPECT(gbc.pc(), 0x6ae8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 02D8
        gbc.setState(0x688c, 0x6e5b, 0x53f0, 0x7e81, 0xcd21, 0x7850, 0x0, 0x1);
        gbc.writeMem(0x688c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x6e5b);
        EXPECT(gbc.pc(), 0x688d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 02D9
        gbc.setState(0x7858, 0x5098, 0x27e0, 0x644c, 0x67fe, 0x7f2f, 0x0, 0x1);
        gbc.writeMem(0x7858, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x5098);
        EXPECT(gbc.pc(), 0x7859);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 02DA
        gbc.setState(0xea0c, 0x30a2, 0xbb60, 0x1660, 0x6759, 0x8917, 0x0, 0x1);
        gbc.writeMem(0xea0c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x30a2);
        EXPECT(gbc.pc(), 0xea0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea0c), 0x9c);
        // 9C 02DB
        gbc.setState(0x27c0, 0x8133, 0x1920, 0xb014, 0x5e98, 0xf0f, 0x1, 0x1);
        gbc.writeMem(0x27c0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x8133);
        EXPECT(gbc.pc(), 0x27c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 02DC
        gbc.setState(0x5916, 0x22e3, 0x6300, 0xed78, 0xfe9e, 0x2389, 0x0, 0x1);
        gbc.writeMem(0x5916, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x22e3);
        EXPECT(gbc.pc(), 0x5917);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 02DD
        gbc.setState(0x2b7a, 0x57a3, 0x2520, 0x2d1f, 0xc641, 0xa660, 0x0, 0x0);
        gbc.writeMem(0x2b7a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x57a3);
        EXPECT(gbc.pc(), 0x2b7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 02DE
        gbc.setState(0xca80, 0xacc9, 0x7420, 0x2494, 0xb1af, 0x2888, 0x1, 0x1);
        gbc.writeMem(0xca80, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xacc9);
        EXPECT(gbc.pc(), 0xca81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca80), 0x9c);
        // 9C 02DF
        gbc.setState(0x73ee, 0xb19d, 0x2a0, 0xece2, 0x6f8f, 0x6ad4, 0x0, 0x0);
        gbc.writeMem(0x73ee, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xb19d);
        EXPECT(gbc.pc(), 0x73ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 02E0
        gbc.setState(0x87cc, 0x4304, 0x58f0, 0x19a4, 0xe12f, 0xc439, 0x0, 0x1);
        gbc.writeMem(0x87cc, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x4304);
        EXPECT(gbc.pc(), 0x87cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87cc), 0x9c);
        // 9C 02E1
        gbc.setState(0xc229, 0xc21d, 0x9420, 0x8117, 0xf466, 0x70ac, 0x0, 0x1);
        gbc.writeMem(0xc229, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xc21d);
        EXPECT(gbc.pc(), 0xc22a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc229), 0x9c);
        // 9C 02E2
        gbc.setState(0x36b9, 0xab9a, 0x4f0, 0xdfc0, 0xa63, 0x8daf, 0x0, 0x0);
        gbc.writeMem(0x36b9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xab9a);
        EXPECT(gbc.pc(), 0x36ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 02E3
        gbc.setState(0x2db4, 0x2067, 0x6d30, 0x70b3, 0x7bb1, 0xa1c5, 0x1, 0x0);
        gbc.writeMem(0x2db4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x2067);
        EXPECT(gbc.pc(), 0x2db5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 02E4
        gbc.setState(0x2b9c, 0xdbe6, 0xc790, 0x359e, 0xcc64, 0x7f7a, 0x0, 0x0);
        gbc.writeMem(0x2b9c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xdbe6);
        EXPECT(gbc.pc(), 0x2b9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 02E5
        gbc.setState(0x4c06, 0x56ff, 0x83a0, 0x8eaa, 0x693a, 0x1639, 0x0, 0x1);
        gbc.writeMem(0x4c06, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x56ff);
        EXPECT(gbc.pc(), 0x4c07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 02E6
        gbc.setState(0x9b0e, 0x3fc9, 0x7cc0, 0xa2e9, 0x3f2e, 0x7b4a, 0x1, 0x0);
        gbc.writeMem(0x9b0e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x3fc9);
        EXPECT(gbc.pc(), 0x9b0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b0e), 0x9c);
        // 9C 02E7
        gbc.setState(0x5ed9, 0x9cf4, 0x4520, 0xb4d1, 0xb1d4, 0xb0a3, 0x0, 0x0);
        gbc.writeMem(0x5ed9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x9cf4);
        EXPECT(gbc.pc(), 0x5eda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 02E8
        gbc.setState(0x90af, 0x9924, 0xa80, 0x321, 0x654a, 0x1a96, 0x1, 0x1);
        gbc.writeMem(0x90af, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x9924);
        EXPECT(gbc.pc(), 0x90b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90af), 0x9c);
        // 9C 02E9
        gbc.setState(0x6d62, 0xf21b, 0xb1d0, 0x7854, 0xc55f, 0x8975, 0x1, 0x1);
        gbc.writeMem(0x6d62, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xf21b);
        EXPECT(gbc.pc(), 0x6d63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 02EA
        gbc.setState(0xad62, 0x9631, 0xe6a0, 0x816e, 0x9d59, 0x94f8, 0x1, 0x1);
        gbc.writeMem(0xad62, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x9631);
        EXPECT(gbc.pc(), 0xad63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad62), 0x9c);
        // 9C 02EB
        gbc.setState(0x81dc, 0xe47e, 0xd60, 0x4ecc, 0x1371, 0x18cc, 0x1, 0x1);
        gbc.writeMem(0x81dc, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xe47e);
        EXPECT(gbc.pc(), 0x81dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81dc), 0x9c);
        // 9C 02EC
        gbc.setState(0x65ec, 0x88d2, 0x19c0, 0x3a6c, 0x6668, 0xa312, 0x1, 0x1);
        gbc.writeMem(0x65ec, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x88d2);
        EXPECT(gbc.pc(), 0x65ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 02ED
        gbc.setState(0x727b, 0xa7d8, 0xde00, 0x6158, 0x1e80, 0x1961, 0x1, 0x0);
        gbc.writeMem(0x727b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xa7d8);
        EXPECT(gbc.pc(), 0x727c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 02EE
        gbc.setState(0x710, 0x3b0d, 0x64f0, 0x5298, 0xb50c, 0x69a2, 0x1, 0x0);
        gbc.writeMem(0x710, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x3b0d);
        EXPECT(gbc.pc(), 0x711);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 02EF
        gbc.setState(0x27be, 0x1111, 0x13a0, 0x3dda, 0x67a, 0x2089, 0x1, 0x1);
        gbc.writeMem(0x27be, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x1111);
        EXPECT(gbc.pc(), 0x27bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 02F1
        gbc.setState(0xdb1c, 0x705c, 0x5f40, 0xffbb, 0x5a8, 0x398, 0x0, 0x1);
        gbc.writeMem(0xdb1c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x705c);
        EXPECT(gbc.pc(), 0xdb1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb1c), 0x9c);
        // 9C 02F2
        gbc.setState(0xe464, 0x1cec, 0x620, 0x1ede, 0x437f, 0xeb8e, 0x0, 0x1);
        gbc.writeMem(0xe464, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x1cec);
        EXPECT(gbc.pc(), 0xe465);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe464), 0x9c);
        // 9C 02F3
        gbc.setState(0x2a39, 0x8b50, 0xd3e0, 0xebb5, 0xed3e, 0xfcc4, 0x0, 0x0);
        gbc.writeMem(0x2a39, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x8b50);
        EXPECT(gbc.pc(), 0x2a3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 02F4
        gbc.setState(0x6302, 0x646b, 0x6a00, 0x76c6, 0xdeea, 0x8d3e, 0x0, 0x1);
        gbc.writeMem(0x6302, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x646b);
        EXPECT(gbc.pc(), 0x6303);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 02F6
        gbc.setState(0xb368, 0x27e7, 0xd5b0, 0x7a5, 0x7430, 0x91a6, 0x1, 0x0);
        gbc.writeMem(0xb368, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x27e7);
        EXPECT(gbc.pc(), 0xb369);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb368), 0x9c);
        // 9C 02F7
        gbc.setState(0x2676, 0xd53f, 0x1f0, 0xefda, 0x38cb, 0xdf1a, 0x0, 0x0);
        gbc.writeMem(0x2676, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xd53f);
        EXPECT(gbc.pc(), 0x2677);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 02F8
        gbc.setState(0x91bf, 0xf0e8, 0x7fb0, 0x5a7b, 0x2e74, 0x3714, 0x1, 0x0);
        gbc.writeMem(0x91bf, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xf0e8);
        EXPECT(gbc.pc(), 0x91c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91bf), 0x9c);
        // 9C 02F9
        gbc.setState(0x525a, 0x4d9b, 0xc010, 0x7d03, 0xeef6, 0x367a, 0x1, 0x1);
        gbc.writeMem(0x525a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x4d9b);
        EXPECT(gbc.pc(), 0x525b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 02FA
        gbc.setState(0x18ff, 0x740f, 0xb650, 0x9c02, 0x131e, 0x11f4, 0x0, 0x1);
        gbc.writeMem(0x18ff, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x740f);
        EXPECT(gbc.pc(), 0x1900);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 02FB
        gbc.setState(0x54da, 0x8ce3, 0x4e90, 0x9524, 0xddc8, 0x2c29, 0x0, 0x1);
        gbc.writeMem(0x54da, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x8ce3);
        EXPECT(gbc.pc(), 0x54db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 02FC
        gbc.setState(0x8f17, 0xa223, 0x3f00, 0x1ff9, 0x46c4, 0xd5d2, 0x0, 0x1);
        gbc.writeMem(0x8f17, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xa223);
        EXPECT(gbc.pc(), 0x8f18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f17), 0x9c);
        // 9C 02FD
        gbc.setState(0xa444, 0x90b0, 0xfbb0, 0xcd50, 0x1407, 0xebf6, 0x1, 0x1);
        gbc.writeMem(0xa444, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x90b0);
        EXPECT(gbc.pc(), 0xa445);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa444), 0x9c);
        // 9C 02FE
        gbc.setState(0xb401, 0x55bc, 0x7ba0, 0x3c3c, 0xc308, 0x967d, 0x0, 0x1);
        gbc.writeMem(0xb401, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x55bc);
        EXPECT(gbc.pc(), 0xb402);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb401), 0x9c);
        // 9C 02FF
        gbc.setState(0xe8a8, 0xbdfc, 0xac0, 0x2cae, 0x9262, 0x5230, 0x0, 0x1);
        gbc.writeMem(0xe8a8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xbdfc);
        EXPECT(gbc.pc(), 0xe8a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8a8), 0x9c);
        // 9C 0300
        gbc.setState(0x587b, 0x1df5, 0x6060, 0x268, 0xe864, 0x70a0, 0x0, 0x0);
        gbc.writeMem(0x587b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x1df5);
        EXPECT(gbc.pc(), 0x587c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0301
        gbc.setState(0xeb23, 0xfe7d, 0x8680, 0xa002, 0x4ee3, 0x9b42, 0x0, 0x0);
        gbc.writeMem(0xeb23, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xfe7d);
        EXPECT(gbc.pc(), 0xeb24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb23), 0x9c);
        // 9C 0302
        gbc.setState(0xb439, 0x6eea, 0x4c80, 0x652b, 0x51b3, 0x32f4, 0x1, 0x1);
        gbc.writeMem(0xb439, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x6eea);
        EXPECT(gbc.pc(), 0xb43a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb439), 0x9c);
        // 9C 0303
        gbc.setState(0x93c2, 0xe8f, 0x26d0, 0xfe2, 0xfddd, 0x54b8, 0x1, 0x1);
        gbc.writeMem(0x93c2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xe8f);
        EXPECT(gbc.pc(), 0x93c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93c2), 0x9c);
        // 9C 0304
        gbc.setState(0xa4cb, 0x6ebb, 0x6360, 0x9fe7, 0xc390, 0x580b, 0x1, 0x0);
        gbc.writeMem(0xa4cb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x6ebb);
        EXPECT(gbc.pc(), 0xa4cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4cb), 0x9c);
        // 9C 0305
        gbc.setState(0x5c15, 0xd73f, 0x8460, 0x5cfa, 0x8737, 0x2e9a, 0x1, 0x0);
        gbc.writeMem(0x5c15, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xd73f);
        EXPECT(gbc.pc(), 0x5c16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0307
        gbc.setState(0xe42a, 0x4323, 0x6fd0, 0xb7b6, 0xfe5a, 0x6476, 0x0, 0x1);
        gbc.writeMem(0xe42a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x4323);
        EXPECT(gbc.pc(), 0xe42b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe42a), 0x9c);
        // 9C 0309
        gbc.setState(0x7f8a, 0xdf8a, 0x3f10, 0xeaa3, 0x6064, 0xd878, 0x0, 0x0);
        gbc.writeMem(0x7f8a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xdf8a);
        EXPECT(gbc.pc(), 0x7f8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 030A
        gbc.setState(0xa1eb, 0x7c35, 0x6990, 0x198d, 0xddde, 0xb838, 0x0, 0x1);
        gbc.writeMem(0xa1eb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x7c35);
        EXPECT(gbc.pc(), 0xa1ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1eb), 0x9c);
        // 9C 030B
        gbc.setState(0x682b, 0xfa5e, 0x6d80, 0xa323, 0x2090, 0xfc90, 0x1, 0x0);
        gbc.writeMem(0x682b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xfa5e);
        EXPECT(gbc.pc(), 0x682c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 030C
        gbc.setState(0x2bfc, 0x9684, 0xf1f0, 0x23e2, 0x6382, 0xb3b8, 0x1, 0x0);
        gbc.writeMem(0x2bfc, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x9684);
        EXPECT(gbc.pc(), 0x2bfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 030D
        gbc.setState(0x58ec, 0x1421, 0xed30, 0x83a6, 0x426b, 0x6dec, 0x1, 0x1);
        gbc.writeMem(0x58ec, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x1421);
        EXPECT(gbc.pc(), 0x58ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 030E
        gbc.setState(0x1161, 0x480, 0x7880, 0x41af, 0x2bc6, 0xbce6, 0x1, 0x0);
        gbc.writeMem(0x1161, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x480);
        EXPECT(gbc.pc(), 0x1162);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 030F
        gbc.setState(0x8591, 0x68f7, 0x6f10, 0xe716, 0xb6db, 0x55ac, 0x1, 0x0);
        gbc.writeMem(0x8591, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x68f7);
        EXPECT(gbc.pc(), 0x8592);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8591), 0x9c);
        // 9C 0310
        gbc.setState(0xe75b, 0x9ac6, 0xb6f0, 0x3606, 0x55b5, 0xa6eb, 0x0, 0x0);
        gbc.writeMem(0xe75b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x9ac6);
        EXPECT(gbc.pc(), 0xe75c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe75b), 0x9c);
        // 9C 0311
        gbc.setState(0x57fd, 0x3132, 0xf620, 0xe228, 0x86d1, 0xcbec, 0x0, 0x0);
        gbc.writeMem(0x57fd, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x3132);
        EXPECT(gbc.pc(), 0x57fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0312
        gbc.setState(0xbdab, 0x2138, 0xc0c0, 0xd626, 0xe4f2, 0x9f4d, 0x1, 0x0);
        gbc.writeMem(0xbdab, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x2138);
        EXPECT(gbc.pc(), 0xbdac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdab), 0x9c);
        // 9C 0313
        gbc.setState(0x6ad, 0x90ce, 0x81a0, 0xa3b2, 0x58d4, 0x4bbc, 0x0, 0x0);
        gbc.writeMem(0x6ad, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x90ce);
        EXPECT(gbc.pc(), 0x6ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0314
        gbc.setState(0x7bf2, 0x8674, 0xe620, 0x319, 0x3282, 0x9f56, 0x0, 0x0);
        gbc.writeMem(0x7bf2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x8674);
        EXPECT(gbc.pc(), 0x7bf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0315
        gbc.setState(0x2ee0, 0xfcb6, 0xf590, 0x41f5, 0xc5e1, 0x84d9, 0x0, 0x1);
        gbc.writeMem(0x2ee0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xfcb6);
        EXPECT(gbc.pc(), 0x2ee1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0316
        gbc.setState(0xa425, 0x5bb, 0xf200, 0x9c16, 0xf871, 0xb0f, 0x1, 0x0);
        gbc.writeMem(0xa425, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x5bb);
        EXPECT(gbc.pc(), 0xa426);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa425), 0x9c);
        // 9C 0317
        gbc.setState(0xca53, 0x8c51, 0x2cd0, 0xba3c, 0x4ef1, 0xc47b, 0x1, 0x1);
        gbc.writeMem(0xca53, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x8c51);
        EXPECT(gbc.pc(), 0xca54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca53), 0x9c);
        // 9C 0318
        gbc.setState(0x3224, 0xf99d, 0xcb90, 0x6c99, 0x55c, 0xd6b5, 0x0, 0x0);
        gbc.writeMem(0x3224, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xf99d);
        EXPECT(gbc.pc(), 0x3225);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0319
        gbc.setState(0x3926, 0xae35, 0x5f00, 0xe559, 0xe8c0, 0x2cb1, 0x0, 0x0);
        gbc.writeMem(0x3926, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xae35);
        EXPECT(gbc.pc(), 0x3927);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 031A
        gbc.setState(0xa022, 0xc9bf, 0xf840, 0x12c7, 0x8448, 0x4e07, 0x0, 0x1);
        gbc.writeMem(0xa022, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xc9bf);
        EXPECT(gbc.pc(), 0xa023);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa022), 0x9c);
        // 9C 031B
        gbc.setState(0x1576, 0xdf74, 0x1000, 0xf619, 0xd32f, 0x9260, 0x0, 0x0);
        gbc.writeMem(0x1576, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xdf74);
        EXPECT(gbc.pc(), 0x1577);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 031C
        gbc.setState(0xc646, 0x1881, 0x3da0, 0x6c55, 0xa408, 0xb6f9, 0x1, 0x0);
        gbc.writeMem(0xc646, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x1881);
        EXPECT(gbc.pc(), 0xc647);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc646), 0x9c);
        // 9C 031E
        gbc.setState(0xa8ad, 0x7d66, 0x5080, 0x4fef, 0x56d3, 0x161b, 0x0, 0x0);
        gbc.writeMem(0xa8ad, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x7d66);
        EXPECT(gbc.pc(), 0xa8ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8ad), 0x9c);
        // 9C 031F
        gbc.setState(0x485e, 0xc0f9, 0xd030, 0xdabe, 0x4872, 0x295d, 0x0, 0x0);
        gbc.writeMem(0x485e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xc0f9);
        EXPECT(gbc.pc(), 0x485f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0320
        gbc.setState(0x47a7, 0x3a4e, 0xacc0, 0xae80, 0x4b7a, 0x1ab9, 0x0, 0x1);
        gbc.writeMem(0x47a7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x3a4e);
        EXPECT(gbc.pc(), 0x47a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0321
        gbc.setState(0x3058, 0x64f4, 0xcd0, 0x5361, 0x2ef1, 0xc25c, 0x1, 0x0);
        gbc.writeMem(0x3058, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x64f4);
        EXPECT(gbc.pc(), 0x3059);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0322
        gbc.setState(0x32fa, 0x8c87, 0xe820, 0x8c15, 0xbc69, 0xca11, 0x1, 0x1);
        gbc.writeMem(0x32fa, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x8c87);
        EXPECT(gbc.pc(), 0x32fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0323
        gbc.setState(0x9017, 0x9850, 0x2360, 0x6ba0, 0x650c, 0xdfdd, 0x1, 0x0);
        gbc.writeMem(0x9017, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x9850);
        EXPECT(gbc.pc(), 0x9018);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9017), 0x9c);
        // 9C 0324
        gbc.setState(0xb64, 0x87cd, 0x5810, 0x1f5, 0xc1ca, 0xb9eb, 0x0, 0x1);
        gbc.writeMem(0xb64, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x87cd);
        EXPECT(gbc.pc(), 0xb65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0325
        gbc.setState(0xbd0b, 0xff98, 0x8050, 0x5498, 0xddbe, 0x6581, 0x0, 0x1);
        gbc.writeMem(0xbd0b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xff98);
        EXPECT(gbc.pc(), 0xbd0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd0b), 0x9c);
        // 9C 0326
        gbc.setState(0x9975, 0x570f, 0x65d0, 0x851a, 0x80a9, 0xc0c4, 0x0, 0x0);
        gbc.writeMem(0x9975, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x570f);
        EXPECT(gbc.pc(), 0x9976);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9975), 0x9c);
        // 9C 0327
        gbc.setState(0x6d51, 0xffdd, 0x69b0, 0xaadd, 0x1292, 0x3426, 0x0, 0x0);
        gbc.writeMem(0x6d51, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xffdd);
        EXPECT(gbc.pc(), 0x6d52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0328
        gbc.setState(0x3da2, 0x155b, 0xcab0, 0x9f78, 0xb8c, 0xfa2, 0x1, 0x0);
        gbc.writeMem(0x3da2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x155b);
        EXPECT(gbc.pc(), 0x3da3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0329
        gbc.setState(0xc652, 0x4a25, 0xf710, 0x8c96, 0xc5a6, 0x6d5c, 0x1, 0x0);
        gbc.writeMem(0xc652, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x4a25);
        EXPECT(gbc.pc(), 0xc653);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc652), 0x9c);
        // 9C 032A
        gbc.setState(0xeb41, 0xf7bb, 0x9d80, 0x4d49, 0xf3ff, 0x95c4, 0x0, 0x0);
        gbc.writeMem(0xeb41, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xf7bb);
        EXPECT(gbc.pc(), 0xeb42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb41), 0x9c);
        // 9C 032B
        gbc.setState(0x9e02, 0x9a3d, 0xd5e0, 0x42e2, 0xcb2f, 0x9ed9, 0x1, 0x1);
        gbc.writeMem(0x9e02, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x9a3d);
        EXPECT(gbc.pc(), 0x9e03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e02), 0x9c);
        // 9C 032C
        gbc.setState(0x2eaa, 0x4744, 0x4120, 0x10c4, 0x1e32, 0x891b, 0x1, 0x0);
        gbc.writeMem(0x2eaa, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x4744);
        EXPECT(gbc.pc(), 0x2eab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 032E
        gbc.setState(0xb0af, 0x382e, 0xee40, 0xcbe5, 0x9a8, 0x7275, 0x1, 0x0);
        gbc.writeMem(0xb0af, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x382e);
        EXPECT(gbc.pc(), 0xb0b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0af), 0x9c);
        // 9C 032F
        gbc.setState(0xe6ce, 0x7bcf, 0x6f80, 0x502b, 0xdbca, 0x7564, 0x1, 0x1);
        gbc.writeMem(0xe6ce, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x7bcf);
        EXPECT(gbc.pc(), 0xe6cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6ce), 0x9c);
        // 9C 0330
        gbc.setState(0xca37, 0x12b, 0xc220, 0xb2db, 0x85d6, 0x5adf, 0x1, 0x1);
        gbc.writeMem(0xca37, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x12b);
        EXPECT(gbc.pc(), 0xca38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca37), 0x9c);
        // 9C 0331
        gbc.setState(0xb75d, 0x399a, 0x190, 0x9509, 0xa7db, 0x8619, 0x0, 0x0);
        gbc.writeMem(0xb75d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x399a);
        EXPECT(gbc.pc(), 0xb75e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb75d), 0x9c);
        // 9C 0332
        gbc.setState(0xa87f, 0x9262, 0x8080, 0x8983, 0xaa53, 0xe194, 0x0, 0x1);
        gbc.writeMem(0xa87f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x9262);
        EXPECT(gbc.pc(), 0xa880);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa87f), 0x9c);
        // 9C 0333
        gbc.setState(0x5324, 0x3324, 0x4c40, 0x8afe, 0xb46a, 0x5a79, 0x1, 0x1);
        gbc.writeMem(0x5324, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x3324);
        EXPECT(gbc.pc(), 0x5325);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0334
        gbc.setState(0x11c0, 0x3b1a, 0x9270, 0x205a, 0x50cf, 0x1a72, 0x0, 0x0);
        gbc.writeMem(0x11c0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x3b1a);
        EXPECT(gbc.pc(), 0x11c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0335
        gbc.setState(0xd833, 0x281e, 0x86d0, 0x19c, 0xdd96, 0xf730, 0x0, 0x0);
        gbc.writeMem(0xd833, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x281e);
        EXPECT(gbc.pc(), 0xd834);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd833), 0x9c);
        // 9C 0336
        gbc.setState(0x54c0, 0x786b, 0x8370, 0xdadd, 0x65bc, 0x6b25, 0x1, 0x1);
        gbc.writeMem(0x54c0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x786b);
        EXPECT(gbc.pc(), 0x54c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0337
        gbc.setState(0xb63f, 0x530c, 0x7030, 0x4443, 0xb1d, 0xc084, 0x0, 0x1);
        gbc.writeMem(0xb63f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x530c);
        EXPECT(gbc.pc(), 0xb640);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb63f), 0x9c);
        // 9C 0338
        gbc.setState(0x5abb, 0xe504, 0xb500, 0x8193, 0x4ba2, 0x3a50, 0x1, 0x0);
        gbc.writeMem(0x5abb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xe504);
        EXPECT(gbc.pc(), 0x5abc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0339
        gbc.setState(0xc19c, 0xa53f, 0xd430, 0x1d8c, 0xb709, 0xe90c, 0x1, 0x1);
        gbc.writeMem(0xc19c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xa53f);
        EXPECT(gbc.pc(), 0xc19d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc19c), 0x9c);
        // 9C 033B
        gbc.setState(0x3671, 0x87c7, 0x88d0, 0x1228, 0xe245, 0x4e11, 0x0, 0x0);
        gbc.writeMem(0x3671, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x87c7);
        EXPECT(gbc.pc(), 0x3672);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 033C
        gbc.setState(0x210f, 0x43b6, 0xa7e0, 0x82da, 0xb8d1, 0x618, 0x0, 0x0);
        gbc.writeMem(0x210f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x43b6);
        EXPECT(gbc.pc(), 0x2110);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 033D
        gbc.setState(0x76ea, 0xc75f, 0xfbb0, 0xe123, 0x8324, 0x3d5c, 0x0, 0x1);
        gbc.writeMem(0x76ea, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xc75f);
        EXPECT(gbc.pc(), 0x76eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 033E
        gbc.setState(0x642c, 0xb106, 0x4f80, 0xdcf8, 0xe04d, 0x7135, 0x0, 0x1);
        gbc.writeMem(0x642c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xb106);
        EXPECT(gbc.pc(), 0x642d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 033F
        gbc.setState(0x30e0, 0x76d, 0xf120, 0xfc3, 0x358c, 0x6f80, 0x1, 0x0);
        gbc.writeMem(0x30e0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x76d);
        EXPECT(gbc.pc(), 0x30e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0340
        gbc.setState(0xc1f6, 0x594, 0x5410, 0x64da, 0xb156, 0x965f, 0x1, 0x1);
        gbc.writeMem(0xc1f6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x594);
        EXPECT(gbc.pc(), 0xc1f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1f6), 0x9c);
        // 9C 0341
        gbc.setState(0x522, 0x9f38, 0xfc80, 0x53d9, 0xf586, 0x91f8, 0x1, 0x1);
        gbc.writeMem(0x522, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x9f38);
        EXPECT(gbc.pc(), 0x523);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0342
        gbc.setState(0x8a86, 0xfc64, 0x7fe0, 0xe05b, 0xe8ac, 0x654, 0x1, 0x1);
        gbc.writeMem(0x8a86, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xfc64);
        EXPECT(gbc.pc(), 0x8a87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a86), 0x9c);
        // 9C 0343
        gbc.setState(0x439c, 0xe7fc, 0x98e0, 0x2a5f, 0x4335, 0x3189, 0x1, 0x0);
        gbc.writeMem(0x439c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xe7fc);
        EXPECT(gbc.pc(), 0x439d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0344
        gbc.setState(0x490b, 0x9f67, 0x6470, 0x8f81, 0x449b, 0x874, 0x1, 0x1);
        gbc.writeMem(0x490b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x9f67);
        EXPECT(gbc.pc(), 0x490c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0345
        gbc.setState(0xa5f4, 0xb546, 0x2d30, 0xef0f, 0xa60, 0x2cec, 0x0, 0x1);
        gbc.writeMem(0xa5f4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xb546);
        EXPECT(gbc.pc(), 0xa5f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5f4), 0x9c);
        // 9C 0346
        gbc.setState(0x8019, 0xafd4, 0x5380, 0x783f, 0x2b15, 0x42d7, 0x0, 0x1);
        gbc.writeMem(0x8019, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xafd4);
        EXPECT(gbc.pc(), 0x801a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8019), 0x9c);
        // 9C 0347
        gbc.setState(0x9275, 0xd787, 0x9670, 0xbd15, 0xd5da, 0x4949, 0x1, 0x0);
        gbc.writeMem(0x9275, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xd787);
        EXPECT(gbc.pc(), 0x9276);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9275), 0x9c);
        // 9C 0348
        gbc.setState(0x9443, 0xe26, 0xc690, 0xe863, 0x2fbd, 0x4163, 0x0, 0x0);
        gbc.writeMem(0x9443, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xe26);
        EXPECT(gbc.pc(), 0x9444);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9443), 0x9c);
        // 9C 0349
        gbc.setState(0xa998, 0xce28, 0x2c40, 0xa75, 0x5960, 0xe5, 0x0, 0x1);
        gbc.writeMem(0xa998, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xce28);
        EXPECT(gbc.pc(), 0xa999);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa998), 0x9c);
        // 9C 034B
        gbc.setState(0x1df3, 0xceb7, 0x2980, 0xb263, 0x9c4d, 0xbb14, 0x1, 0x1);
        gbc.writeMem(0x1df3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xceb7);
        EXPECT(gbc.pc(), 0x1df4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 034D
        gbc.setState(0x8216, 0xe8fa, 0xacd0, 0x543d, 0xd792, 0x2346, 0x0, 0x0);
        gbc.writeMem(0x8216, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xe8fa);
        EXPECT(gbc.pc(), 0x8217);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8216), 0x9c);
        // 9C 034E
        gbc.setState(0xbc6d, 0x9e05, 0x7f30, 0x5888, 0xfcf9, 0x3358, 0x1, 0x1);
        gbc.writeMem(0xbc6d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x9e05);
        EXPECT(gbc.pc(), 0xbc6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc6d), 0x9c);
        // 9C 034F
        gbc.setState(0x9bb2, 0x3aaa, 0xc220, 0xc2a1, 0x4579, 0xaee6, 0x0, 0x0);
        gbc.writeMem(0x9bb2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x3aaa);
        EXPECT(gbc.pc(), 0x9bb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bb2), 0x9c);
        // 9C 0350
        gbc.setState(0x8041, 0xea44, 0x3c20, 0x1d20, 0x9b5d, 0x6c8c, 0x1, 0x1);
        gbc.writeMem(0x8041, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xea44);
        EXPECT(gbc.pc(), 0x8042);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8041), 0x9c);
        // 9C 0351
        gbc.setState(0x41e7, 0xef38, 0xa340, 0xa965, 0x31dc, 0x5b59, 0x0, 0x0);
        gbc.writeMem(0x41e7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xef38);
        EXPECT(gbc.pc(), 0x41e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0352
        gbc.setState(0x17f0, 0x255, 0x5ef0, 0x5093, 0xb1d1, 0xb255, 0x1, 0x0);
        gbc.writeMem(0x17f0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x255);
        EXPECT(gbc.pc(), 0x17f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0353
        gbc.setState(0x1644, 0xae6e, 0x8f0, 0x822b, 0x413d, 0xe086, 0x0, 0x1);
        gbc.writeMem(0x1644, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xae6e);
        EXPECT(gbc.pc(), 0x1645);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0354
        gbc.setState(0x53e8, 0x8fc0, 0x4050, 0x6c4d, 0x44ca, 0xc66f, 0x1, 0x1);
        gbc.writeMem(0x53e8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x8fc0);
        EXPECT(gbc.pc(), 0x53e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0355
        gbc.setState(0x6e2d, 0x58d9, 0xa140, 0x832d, 0xa507, 0x7c6f, 0x1, 0x0);
        gbc.writeMem(0x6e2d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x58d9);
        EXPECT(gbc.pc(), 0x6e2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0356
        gbc.setState(0xc3f5, 0x9616, 0xa0b0, 0x93c8, 0x1a63, 0xefa, 0x0, 0x0);
        gbc.writeMem(0xc3f5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x9616);
        EXPECT(gbc.pc(), 0xc3f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3f5), 0x9c);
        // 9C 0357
        gbc.setState(0x2811, 0xc9f6, 0xa750, 0x2d03, 0xa3f4, 0x1038, 0x1, 0x1);
        gbc.writeMem(0x2811, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xc9f6);
        EXPECT(gbc.pc(), 0x2812);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0358
        gbc.setState(0x6434, 0xb736, 0xf1e0, 0x70f9, 0x183, 0xdc67, 0x1, 0x1);
        gbc.writeMem(0x6434, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xb736);
        EXPECT(gbc.pc(), 0x6435);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0359
        gbc.setState(0xae58, 0x1a78, 0xe0d0, 0x181, 0xfe76, 0x420c, 0x1, 0x1);
        gbc.writeMem(0xae58, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x1a78);
        EXPECT(gbc.pc(), 0xae59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae58), 0x9c);
        // 9C 035A
        gbc.setState(0x190c, 0x898b, 0x2830, 0x1790, 0xf9ac, 0x536, 0x0, 0x1);
        gbc.writeMem(0x190c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x898b);
        EXPECT(gbc.pc(), 0x190d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 035B
        gbc.setState(0x67de, 0x9c21, 0x180, 0x9b9, 0x72ba, 0x5391, 0x0, 0x1);
        gbc.writeMem(0x67de, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x9c21);
        EXPECT(gbc.pc(), 0x67df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 035C
        gbc.setState(0x541d, 0x837d, 0x16d0, 0x6144, 0x190c, 0xe4d8, 0x1, 0x1);
        gbc.writeMem(0x541d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x837d);
        EXPECT(gbc.pc(), 0x541e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 035D
        gbc.setState(0xcb6, 0x1021, 0x9b40, 0xeb1, 0x257, 0x62f1, 0x1, 0x1);
        gbc.writeMem(0xcb6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x1021);
        EXPECT(gbc.pc(), 0xcb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 035E
        gbc.setState(0x8a2a, 0x980f, 0x69e0, 0xcff6, 0xa73a, 0xae84, 0x0, 0x1);
        gbc.writeMem(0x8a2a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x980f);
        EXPECT(gbc.pc(), 0x8a2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a2a), 0x9c);
        // 9C 0360
        gbc.setState(0xce20, 0x9f00, 0xd050, 0x80aa, 0x2967, 0xe306, 0x1, 0x1);
        gbc.writeMem(0xce20, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x9f00);
        EXPECT(gbc.pc(), 0xce21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce20), 0x9c);
        // 9C 0361
        gbc.setState(0xd754, 0xde87, 0xb4e0, 0x87de, 0x6452, 0x9588, 0x0, 0x0);
        gbc.writeMem(0xd754, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xde87);
        EXPECT(gbc.pc(), 0xd755);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd754), 0x9c);
        // 9C 0362
        gbc.setState(0x10b, 0x1df0, 0xbb50, 0xe57f, 0x4e4a, 0xadbe, 0x1, 0x1);
        gbc.writeMem(0x10b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x1df0);
        EXPECT(gbc.pc(), 0x10c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0364
        gbc.setState(0xc69d, 0x35ce, 0x2640, 0xc392, 0x461d, 0x57ea, 0x0, 0x0);
        gbc.writeMem(0xc69d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x35ce);
        EXPECT(gbc.pc(), 0xc69e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc69d), 0x9c);
        // 9C 0365
        gbc.setState(0xab85, 0x6c0, 0x5050, 0xb11c, 0xd3f2, 0x637a, 0x0, 0x0);
        gbc.writeMem(0xab85, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x6c0);
        EXPECT(gbc.pc(), 0xab86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab85), 0x9c);
        // 9C 0366
        gbc.setState(0xe9b6, 0xd022, 0xbd90, 0xe156, 0x5e7, 0xd6a7, 0x1, 0x1);
        gbc.writeMem(0xe9b6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xd022);
        EXPECT(gbc.pc(), 0xe9b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9b6), 0x9c);
        // 9C 0367
        gbc.setState(0xbd4c, 0x253f, 0xed40, 0x76d6, 0xbd7c, 0x38bf, 0x1, 0x0);
        gbc.writeMem(0xbd4c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x253f);
        EXPECT(gbc.pc(), 0xbd4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd4c), 0x9c);
        // 9C 0368
        gbc.setState(0x623a, 0x7320, 0x3d60, 0x1d68, 0xa309, 0xee9d, 0x0, 0x0);
        gbc.writeMem(0x623a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x7320);
        EXPECT(gbc.pc(), 0x623b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0369
        gbc.setState(0x132b, 0x8fe1, 0x5380, 0x8be9, 0xab3b, 0xbcb1, 0x0, 0x0);
        gbc.writeMem(0x132b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x8fe1);
        EXPECT(gbc.pc(), 0x132c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 036A
        gbc.setState(0x159b, 0x2422, 0x3690, 0xb434, 0x8885, 0xd923, 0x0, 0x0);
        gbc.writeMem(0x159b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x2422);
        EXPECT(gbc.pc(), 0x159c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 036B
        gbc.setState(0xf21, 0x9bef, 0x4f50, 0x4385, 0x1f4a, 0x891a, 0x0, 0x0);
        gbc.writeMem(0xf21, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x9bef);
        EXPECT(gbc.pc(), 0xf22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 036C
        gbc.setState(0xc49, 0x6123, 0x2440, 0x1dd6, 0xb2f0, 0x39d9, 0x0, 0x1);
        gbc.writeMem(0xc49, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x6123);
        EXPECT(gbc.pc(), 0xc4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 036D
        gbc.setState(0x60c4, 0x6055, 0xdc00, 0x7977, 0x886c, 0x7d96, 0x1, 0x1);
        gbc.writeMem(0x60c4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x6055);
        EXPECT(gbc.pc(), 0x60c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 036E
        gbc.setState(0xa7a2, 0x85d4, 0x9bb0, 0xc664, 0xcaf9, 0xebcd, 0x1, 0x1);
        gbc.writeMem(0xa7a2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x85d4);
        EXPECT(gbc.pc(), 0xa7a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7a2), 0x9c);
        // 9C 036F
        gbc.setState(0x1d09, 0x11d8, 0xf6b0, 0x4e7d, 0x62bf, 0x5f4a, 0x1, 0x1);
        gbc.writeMem(0x1d09, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x11d8);
        EXPECT(gbc.pc(), 0x1d0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0370
        gbc.setState(0xa054, 0xf5b, 0x12d0, 0x8933, 0xadc1, 0xa57e, 0x0, 0x0);
        gbc.writeMem(0xa054, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xf5b);
        EXPECT(gbc.pc(), 0xa055);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa054), 0x9c);
        // 9C 0371
        gbc.setState(0x7e40, 0x595c, 0x34e0, 0xf01f, 0x753a, 0x5491, 0x0, 0x1);
        gbc.writeMem(0x7e40, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x595c);
        EXPECT(gbc.pc(), 0x7e41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0372
        gbc.setState(0xb1a5, 0x342a, 0x47e0, 0x8ae4, 0x8a49, 0x8839, 0x0, 0x0);
        gbc.writeMem(0xb1a5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x342a);
        EXPECT(gbc.pc(), 0xb1a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1a5), 0x9c);
        // 9C 0373
        gbc.setState(0x8886, 0x6086, 0x69c0, 0x6816, 0xb0e, 0x628e, 0x1, 0x0);
        gbc.writeMem(0x8886, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x6086);
        EXPECT(gbc.pc(), 0x8887);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8886), 0x9c);
        // 9C 0374
        gbc.setState(0x898d, 0xd3b, 0xf490, 0x5610, 0x3d78, 0xb7e6, 0x0, 0x1);
        gbc.writeMem(0x898d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xd3b);
        EXPECT(gbc.pc(), 0x898e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x898d), 0x9c);
        // 9C 0375
        gbc.setState(0xbfd7, 0xf9a4, 0xd0d0, 0xe165, 0x379c, 0x1a53, 0x0, 0x0);
        gbc.writeMem(0xbfd7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xf9a4);
        EXPECT(gbc.pc(), 0xbfd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfd7), 0x9c);
        // 9C 0376
        gbc.setState(0xc05c, 0xab96, 0x4350, 0x9a19, 0xb0dc, 0x3f90, 0x1, 0x1);
        gbc.writeMem(0xc05c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xab96);
        EXPECT(gbc.pc(), 0xc05d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc05c), 0x9c);
        // 9C 0377
        gbc.setState(0x348e, 0x102, 0xbff0, 0xdba6, 0x3898, 0xe45e, 0x0, 0x1);
        gbc.writeMem(0x348e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x102);
        EXPECT(gbc.pc(), 0x348f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0378
        gbc.setState(0x963b, 0xf822, 0xc330, 0x5928, 0x139f, 0xdb03, 0x1, 0x0);
        gbc.writeMem(0x963b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xf822);
        EXPECT(gbc.pc(), 0x963c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x963b), 0x9c);
        // 9C 0379
        gbc.setState(0x2d9a, 0x6d84, 0x6680, 0x9987, 0xe6fe, 0x4607, 0x1, 0x0);
        gbc.writeMem(0x2d9a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x6d84);
        EXPECT(gbc.pc(), 0x2d9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 037A
        gbc.setState(0x86e6, 0x2e7b, 0xa5a0, 0xe15f, 0x1d20, 0x4669, 0x0, 0x0);
        gbc.writeMem(0x86e6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x2e7b);
        EXPECT(gbc.pc(), 0x86e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86e6), 0x9c);
        // 9C 037B
        gbc.setState(0x6efb, 0xd663, 0x1ae0, 0x3adf, 0xe054, 0xb866, 0x1, 0x1);
        gbc.writeMem(0x6efb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xd663);
        EXPECT(gbc.pc(), 0x6efc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 037C
        gbc.setState(0x4195, 0xe529, 0xab10, 0x1012, 0x2c34, 0x6461, 0x0, 0x1);
        gbc.writeMem(0x4195, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xe529);
        EXPECT(gbc.pc(), 0x4196);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 037D
        gbc.setState(0xc3e7, 0x9300, 0x2bc0, 0xe35c, 0x52c3, 0xa9d6, 0x0, 0x0);
        gbc.writeMem(0xc3e7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x9300);
        EXPECT(gbc.pc(), 0xc3e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3e7), 0x9c);
        // 9C 037E
        gbc.setState(0xc8b3, 0xe112, 0x1f60, 0xb98, 0x8726, 0x8400, 0x1, 0x0);
        gbc.writeMem(0xc8b3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xe112);
        EXPECT(gbc.pc(), 0xc8b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8b3), 0x9c);
        // 9C 037F
        gbc.setState(0x2f93, 0xd2ef, 0xa920, 0x2ecb, 0xf59a, 0x8449, 0x1, 0x0);
        gbc.writeMem(0x2f93, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xd2ef);
        EXPECT(gbc.pc(), 0x2f94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0380
        gbc.setState(0x8810, 0xb8ee, 0xaf80, 0xd342, 0x89a, 0xd3dd, 0x1, 0x0);
        gbc.writeMem(0x8810, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xb8ee);
        EXPECT(gbc.pc(), 0x8811);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8810), 0x9c);
        // 9C 0381
        gbc.setState(0x70e0, 0x8a1d, 0x8f10, 0x50b4, 0xd2f2, 0x2536, 0x1, 0x1);
        gbc.writeMem(0x70e0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x8a1d);
        EXPECT(gbc.pc(), 0x70e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0382
        gbc.setState(0x4cda, 0x1c7f, 0xfe90, 0x5d22, 0xa63e, 0xba6b, 0x0, 0x0);
        gbc.writeMem(0x4cda, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x1c7f);
        EXPECT(gbc.pc(), 0x4cdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0383
        gbc.setState(0x30f3, 0xac75, 0xa260, 0x16ec, 0x3087, 0xf207, 0x1, 0x1);
        gbc.writeMem(0x30f3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xac75);
        EXPECT(gbc.pc(), 0x30f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 0384
        gbc.setState(0x429b, 0x4010, 0xe2f0, 0x5ef4, 0xc6f3, 0x9bd, 0x1, 0x1);
        gbc.writeMem(0x429b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x4010);
        EXPECT(gbc.pc(), 0x429c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0385
        gbc.setState(0xe029, 0x63cc, 0xb460, 0xfcc0, 0x5dad, 0x5bff, 0x0, 0x0);
        gbc.writeMem(0xe029, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x63cc);
        EXPECT(gbc.pc(), 0xe02a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe029), 0x9c);
        // 9C 0386
        gbc.setState(0xa11d, 0xc84d, 0x4610, 0xbbdd, 0xaa7d, 0x74c3, 0x1, 0x1);
        gbc.writeMem(0xa11d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xc84d);
        EXPECT(gbc.pc(), 0xa11e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa11d), 0x9c);
        // 9C 0387
        gbc.setState(0xe344, 0xc5b5, 0x3a60, 0xcf0d, 0xd431, 0x84cc, 0x0, 0x1);
        gbc.writeMem(0xe344, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xc5b5);
        EXPECT(gbc.pc(), 0xe345);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe344), 0x9c);
        // 9C 0388
        gbc.setState(0x2c32, 0xf5e6, 0xfa80, 0x8d4b, 0xcb36, 0xd4e, 0x0, 0x0);
        gbc.writeMem(0x2c32, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xf5e6);
        EXPECT(gbc.pc(), 0x2c33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0389
        gbc.setState(0x9f98, 0xe6d3, 0x4830, 0xef0a, 0xf188, 0xd67, 0x1, 0x0);
        gbc.writeMem(0x9f98, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xe6d3);
        EXPECT(gbc.pc(), 0x9f99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f98), 0x9c);
        // 9C 038A
        gbc.setState(0x667c, 0xccec, 0x6230, 0xef4d, 0x8ca5, 0xd5dd, 0x0, 0x1);
        gbc.writeMem(0x667c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xccec);
        EXPECT(gbc.pc(), 0x667d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 038B
        gbc.setState(0x9a7, 0xb60a, 0x920, 0x34de, 0x3e28, 0x71ea, 0x1, 0x0);
        gbc.writeMem(0x9a7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xb60a);
        EXPECT(gbc.pc(), 0x9a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 038C
        gbc.setState(0xe49d, 0x883, 0x7900, 0xce12, 0xb70a, 0xea3b, 0x1, 0x1);
        gbc.writeMem(0xe49d, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x883);
        EXPECT(gbc.pc(), 0xe49e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe49d), 0x9c);
        // 9C 038D
        gbc.setState(0x43c6, 0xff4c, 0xce00, 0xf3b4, 0xc563, 0x7176, 0x0, 0x1);
        gbc.writeMem(0x43c6, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xff4c);
        EXPECT(gbc.pc(), 0x43c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 038E
        gbc.setState(0x46e4, 0x28c8, 0xd60, 0x9cd6, 0xe34c, 0x3f44, 0x1, 0x1);
        gbc.writeMem(0x46e4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x28c8);
        EXPECT(gbc.pc(), 0x46e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 038F
        gbc.setState(0x2283, 0x2138, 0xdab0, 0xadc5, 0xe90c, 0xa0e6, 0x1, 0x0);
        gbc.writeMem(0x2283, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x2138);
        EXPECT(gbc.pc(), 0x2284);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0390
        gbc.setState(0xd9df, 0x5cf0, 0x16c0, 0x6307, 0xa541, 0xbcfb, 0x0, 0x1);
        gbc.writeMem(0xd9df, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x5cf0);
        EXPECT(gbc.pc(), 0xd9e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9df), 0x9c);
        // 9C 0391
        gbc.setState(0x8bc2, 0xed8c, 0x3cc0, 0xea8d, 0xb63, 0x68a3, 0x1, 0x1);
        gbc.writeMem(0x8bc2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xed8c);
        EXPECT(gbc.pc(), 0x8bc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bc2), 0x9c);
        // 9C 0392
        gbc.setState(0xc664, 0x2356, 0xc240, 0x87fa, 0x14b5, 0xdc53, 0x1, 0x1);
        gbc.writeMem(0xc664, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x2356);
        EXPECT(gbc.pc(), 0xc665);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc664), 0x9c);
        // 9C 0393
        gbc.setState(0x906, 0x696b, 0x2520, 0x6657, 0xbace, 0xf7d3, 0x1, 0x0);
        gbc.writeMem(0x906, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x696b);
        EXPECT(gbc.pc(), 0x907);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0394
        gbc.setState(0x1f0e, 0xd57d, 0xc390, 0x4219, 0x823a, 0x5994, 0x0, 0x1);
        gbc.writeMem(0x1f0e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xd57d);
        EXPECT(gbc.pc(), 0x1f0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0395
        gbc.setState(0x2dd0, 0xc70, 0x9350, 0xf49d, 0x6c2a, 0xd891, 0x0, 0x0);
        gbc.writeMem(0x2dd0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xc70);
        EXPECT(gbc.pc(), 0x2dd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 0396
        gbc.setState(0x57b8, 0x3b75, 0x7990, 0xdb02, 0xe105, 0x1202, 0x1, 0x1);
        gbc.writeMem(0x57b8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x3b75);
        EXPECT(gbc.pc(), 0x57b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 0397
        gbc.setState(0x5649, 0xd57e, 0xb390, 0x420d, 0x2133, 0x358f, 0x0, 0x1);
        gbc.writeMem(0x5649, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xd57e);
        EXPECT(gbc.pc(), 0x564a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 0398
        gbc.setState(0xc0cd, 0xae74, 0x720, 0x4dc9, 0xe54f, 0xd3e9, 0x0, 0x1);
        gbc.writeMem(0xc0cd, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xae74);
        EXPECT(gbc.pc(), 0xc0ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0cd), 0x9c);
        // 9C 0399
        gbc.setState(0x555c, 0x5a89, 0x7950, 0x6d42, 0x943c, 0x8219, 0x1, 0x1);
        gbc.writeMem(0x555c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x5a89);
        EXPECT(gbc.pc(), 0x555d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 039A
        gbc.setState(0x23c9, 0x532e, 0xbf10, 0xbb10, 0x4d40, 0x42c8, 0x0, 0x0);
        gbc.writeMem(0x23c9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x532e);
        EXPECT(gbc.pc(), 0x23ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 039B
        gbc.setState(0x486e, 0xed6a, 0xce40, 0x755a, 0x5462, 0xb70b, 0x0, 0x1);
        gbc.writeMem(0x486e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xed6a);
        EXPECT(gbc.pc(), 0x486f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 039C
        gbc.setState(0x8bf3, 0x10f2, 0x12c0, 0xa737, 0xa08b, 0x8456, 0x1, 0x1);
        gbc.writeMem(0x8bf3, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x10f2);
        EXPECT(gbc.pc(), 0x8bf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bf3), 0x9c);
        // 9C 039D
        gbc.setState(0xb223, 0x5afa, 0x6830, 0xfbc3, 0x4bf6, 0xea31, 0x0, 0x1);
        gbc.writeMem(0xb223, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x5afa);
        EXPECT(gbc.pc(), 0xb224);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb223), 0x9c);
        // 9C 039E
        gbc.setState(0x8503, 0x45cc, 0x42c0, 0xbf7e, 0xc8d3, 0x5bce, 0x0, 0x1);
        gbc.writeMem(0x8503, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x45cc);
        EXPECT(gbc.pc(), 0x8504);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8503), 0x9c);
        // 9C 039F
        gbc.setState(0x2e12, 0x2264, 0xa990, 0x802b, 0x4c34, 0x2b31, 0x1, 0x1);
        gbc.writeMem(0x2e12, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x2264);
        EXPECT(gbc.pc(), 0x2e13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 03A0
        gbc.setState(0x6f0e, 0x5a6e, 0x96d0, 0x5755, 0x7c37, 0x7a8e, 0x0, 0x0);
        gbc.writeMem(0x6f0e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x5a6e);
        EXPECT(gbc.pc(), 0x6f0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 03A1
        gbc.setState(0xc41, 0x21c4, 0x5da0, 0x2656, 0x60a1, 0xb93e, 0x0, 0x0);
        gbc.writeMem(0xc41, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x21c4);
        EXPECT(gbc.pc(), 0xc42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 03A3
        gbc.setState(0xaf80, 0x749, 0x3c00, 0xe42d, 0x8b93, 0x98a5, 0x0, 0x1);
        gbc.writeMem(0xaf80, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x749);
        EXPECT(gbc.pc(), 0xaf81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf80), 0x9c);
        // 9C 03A4
        gbc.setState(0x818b, 0xda3e, 0x9c20, 0xa2e4, 0xeb3d, 0x3310, 0x0, 0x1);
        gbc.writeMem(0x818b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xda3e);
        EXPECT(gbc.pc(), 0x818c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x818b), 0x9c);
        // 9C 03A5
        gbc.setState(0xa436, 0xde47, 0x3d70, 0x27c8, 0x386f, 0x80c4, 0x1, 0x0);
        gbc.writeMem(0xa436, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xde47);
        EXPECT(gbc.pc(), 0xa437);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa436), 0x9c);
        // 9C 03A6
        gbc.setState(0xd454, 0x3f66, 0xbcd0, 0xbe0b, 0x2f51, 0xcfeb, 0x0, 0x1);
        gbc.writeMem(0xd454, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x3f66);
        EXPECT(gbc.pc(), 0xd455);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd454), 0x9c);
        // 9C 03A7
        gbc.setState(0xd5c1, 0x38e0, 0xd960, 0x2dff, 0x4ba4, 0x7a7b, 0x0, 0x1);
        gbc.writeMem(0xd5c1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x38e0);
        EXPECT(gbc.pc(), 0xd5c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5c1), 0x9c);
        // 9C 03A8
        gbc.setState(0xedde, 0xe664, 0x5740, 0x945d, 0xd3ce, 0x59bf, 0x1, 0x1);
        gbc.writeMem(0xedde, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xe664);
        EXPECT(gbc.pc(), 0xeddf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedde), 0x9c);
        // 9C 03A9
        gbc.setState(0x18ba, 0x650c, 0x73b0, 0x136b, 0xc593, 0x7078, 0x1, 0x1);
        gbc.writeMem(0x18ba, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x650c);
        EXPECT(gbc.pc(), 0x18bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 03AA
        gbc.setState(0x9775, 0xdc82, 0xfdd0, 0x2040, 0x74a2, 0xe5e6, 0x0, 0x0);
        gbc.writeMem(0x9775, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xdc82);
        EXPECT(gbc.pc(), 0x9776);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9775), 0x9c);
        // 9C 03AB
        gbc.setState(0x4397, 0xa7bc, 0x78e0, 0x6e3d, 0x7dac, 0x43e7, 0x1, 0x0);
        gbc.writeMem(0x4397, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa7bc);
        EXPECT(gbc.pc(), 0x4398);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 03AD
        gbc.setState(0x7c85, 0x3463, 0x7b70, 0x44cb, 0x7646, 0x93df, 0x0, 0x0);
        gbc.writeMem(0x7c85, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x3463);
        EXPECT(gbc.pc(), 0x7c86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 03AE
        gbc.setState(0x377b, 0x29d3, 0xbc70, 0xb89d, 0x24c8, 0x672e, 0x0, 0x0);
        gbc.writeMem(0x377b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x29d3);
        EXPECT(gbc.pc(), 0x377c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 03AF
        gbc.setState(0x8ddf, 0xbf0a, 0x9a70, 0x30f6, 0xb426, 0x86ea, 0x0, 0x0);
        gbc.writeMem(0x8ddf, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xbf0a);
        EXPECT(gbc.pc(), 0x8de0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ddf), 0x9c);
        // 9C 03B0
        gbc.setState(0x69f, 0x3d92, 0xc230, 0xdfa3, 0xb03d, 0x1a9f, 0x0, 0x0);
        gbc.writeMem(0x69f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x3d92);
        EXPECT(gbc.pc(), 0x6a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 03B1
        gbc.setState(0x3d5b, 0x8f39, 0xc0e0, 0x3ff5, 0xdb7, 0x6a92, 0x0, 0x0);
        gbc.writeMem(0x3d5b, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x8f39);
        EXPECT(gbc.pc(), 0x3d5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 03B2
        gbc.setState(0x1b85, 0xac3d, 0xdcc0, 0xda09, 0xbb42, 0x6fa2, 0x0, 0x0);
        gbc.writeMem(0x1b85, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xac3d);
        EXPECT(gbc.pc(), 0x1b86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 03B4
        gbc.setState(0xa77e, 0xf837, 0xc410, 0x1f34, 0x8efa, 0x37e3, 0x1, 0x1);
        gbc.writeMem(0xa77e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xf837);
        EXPECT(gbc.pc(), 0xa77f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa77e), 0x9c);
        // 9C 03B5
        gbc.setState(0x73c2, 0x9d82, 0x8af0, 0xd078, 0xc9e9, 0xd78, 0x1, 0x0);
        gbc.writeMem(0x73c2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x9d82);
        EXPECT(gbc.pc(), 0x73c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 03B6
        gbc.setState(0x361, 0x25c1, 0xce70, 0xcf3a, 0x13de, 0x2bb, 0x0, 0x0);
        gbc.writeMem(0x361, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x25c1);
        EXPECT(gbc.pc(), 0x362);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 03B7
        gbc.setState(0xee9e, 0x456b, 0xb130, 0xb805, 0xed49, 0xaad4, 0x1, 0x0);
        gbc.writeMem(0xee9e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x456b);
        EXPECT(gbc.pc(), 0xee9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee9e), 0x9c);
        // 9C 03B8
        gbc.setState(0xbaed, 0xbda0, 0x5f00, 0x4bcd, 0xc604, 0xb98b, 0x1, 0x0);
        gbc.writeMem(0xbaed, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xbda0);
        EXPECT(gbc.pc(), 0xbaee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbaed), 0x9c);
        // 9C 03B9
        gbc.setState(0x34d1, 0xc7cc, 0x6220, 0x6c7e, 0x7962, 0xca70, 0x1, 0x0);
        gbc.writeMem(0x34d1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xc7cc);
        EXPECT(gbc.pc(), 0x34d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 03BA
        gbc.setState(0x4014, 0x3f29, 0x9fc0, 0xda9e, 0x5eb6, 0xc89d, 0x0, 0x1);
        gbc.writeMem(0x4014, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x3f29);
        EXPECT(gbc.pc(), 0x4015);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 03BB
        gbc.setState(0x4263, 0xc9fd, 0x42c0, 0xe693, 0xaa21, 0xf4dc, 0x0, 0x1);
        gbc.writeMem(0x4263, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xc9fd);
        EXPECT(gbc.pc(), 0x4264);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 03BC
        gbc.setState(0x806c, 0x6885, 0xb110, 0xc31c, 0xa622, 0xeb61, 0x1, 0x1);
        gbc.writeMem(0x806c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x6885);
        EXPECT(gbc.pc(), 0x806d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x806c), 0x9c);
        // 9C 03BD
        gbc.setState(0x3cf2, 0xe57a, 0x2b30, 0xad25, 0x1f61, 0x5d27, 0x1, 0x1);
        gbc.writeMem(0x3cf2, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xe57a);
        EXPECT(gbc.pc(), 0x3cf3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 03BE
        gbc.setState(0xd521, 0x3138, 0xfd60, 0xd98d, 0x3979, 0x5e42, 0x0, 0x0);
        gbc.writeMem(0xd521, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x3138);
        EXPECT(gbc.pc(), 0xd522);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd521), 0x9c);
        // 9C 03BF
        gbc.setState(0x7ba0, 0xde51, 0xa10, 0x6fe, 0xc9b4, 0x3bbc, 0x1, 0x0);
        gbc.writeMem(0x7ba0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xde51);
        EXPECT(gbc.pc(), 0x7ba1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 03C0
        gbc.setState(0x90a1, 0x28a7, 0x1520, 0xea10, 0x6365, 0x731, 0x1, 0x1);
        gbc.writeMem(0x90a1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x28a7);
        EXPECT(gbc.pc(), 0x90a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90a1), 0x9c);
        // 9C 03C1
        gbc.setState(0x146a, 0x8615, 0xa2c0, 0x14bb, 0x46a4, 0xf0c8, 0x0, 0x1);
        gbc.writeMem(0x146a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x8615);
        EXPECT(gbc.pc(), 0x146b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 03C2
        gbc.setState(0x49d5, 0x6843, 0x9e0, 0x5058, 0x3453, 0xce57, 0x0, 0x0);
        gbc.writeMem(0x49d5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x6843);
        EXPECT(gbc.pc(), 0x49d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 03C4
        gbc.setState(0xcb, 0x4607, 0x7a50, 0xb910, 0x378b, 0x62f, 0x0, 0x1);
        gbc.writeMem(0xcb, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x4607);
        EXPECT(gbc.pc(), 0xcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 03C5
        gbc.setState(0x5c13, 0x2266, 0x44c0, 0x7b87, 0x149c, 0x6b1b, 0x1, 0x0);
        gbc.writeMem(0x5c13, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x2266);
        EXPECT(gbc.pc(), 0x5c14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 03C6
        gbc.setState(0x242c, 0x9f1e, 0x35f0, 0xc280, 0x59, 0x54fb, 0x0, 0x1);
        gbc.writeMem(0x242c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x9f1e);
        EXPECT(gbc.pc(), 0x242d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 03C7
        gbc.setState(0x33b5, 0xc629, 0x6250, 0xb7f3, 0xc4b0, 0xaf47, 0x0, 0x1);
        gbc.writeMem(0x33b5, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xc629);
        EXPECT(gbc.pc(), 0x33b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 03C8
        gbc.setState(0xb71a, 0xd70d, 0x7b40, 0xb41, 0x79d4, 0x1b91, 0x1, 0x1);
        gbc.writeMem(0xb71a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xd70d);
        EXPECT(gbc.pc(), 0xb71b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb71a), 0x9c);
        // 9C 03C9
        gbc.setState(0xd602, 0x9914, 0xcc0, 0x141e, 0x85e1, 0x6592, 0x1, 0x0);
        gbc.writeMem(0xd602, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x9914);
        EXPECT(gbc.pc(), 0xd603);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd602), 0x9c);
        // 9C 03CA
        gbc.setState(0xa8bf, 0xb7ce, 0x81d0, 0xce5, 0x24bb, 0xab48, 0x1, 0x1);
        gbc.writeMem(0xa8bf, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xb7ce);
        EXPECT(gbc.pc(), 0xa8c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8bf), 0x9c);
        // 9C 03CB
        gbc.setState(0xdf78, 0xf08, 0x44b0, 0x37a4, 0x342f, 0x2b23, 0x0, 0x1);
        gbc.writeMem(0xdf78, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xf08);
        EXPECT(gbc.pc(), 0xdf79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf78), 0x9c);
        // 9C 03CC
        gbc.setState(0xd7e8, 0x64d5, 0xc70, 0x76f5, 0x7d27, 0x81cd, 0x0, 0x1);
        gbc.writeMem(0xd7e8, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x64d5);
        EXPECT(gbc.pc(), 0xd7e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7e8), 0x9c);
        // 9C 03CD
        gbc.setState(0x2145, 0xa6af, 0xea80, 0x51ee, 0xde07, 0xff80, 0x0, 0x1);
        gbc.writeMem(0x2145, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xa6af);
        EXPECT(gbc.pc(), 0x2146);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 03CE
        gbc.setState(0x1d7, 0x921e, 0x4f40, 0x17aa, 0xf98c, 0x48d4, 0x0, 0x0);
        gbc.writeMem(0x1d7, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x921e);
        EXPECT(gbc.pc(), 0x1d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 03CF
        gbc.setState(0x377f, 0x9667, 0xc780, 0xbff3, 0xeaba, 0xb607, 0x1, 0x0);
        gbc.writeMem(0x377f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x9667);
        EXPECT(gbc.pc(), 0x3780);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 03D0
        gbc.setState(0x6b6e, 0x77e7, 0x4560, 0x3908, 0x5271, 0x33c3, 0x0, 0x0);
        gbc.writeMem(0x6b6e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x77e7);
        EXPECT(gbc.pc(), 0x6b6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 03D1
        gbc.setState(0xe32c, 0x9dba, 0x8ea0, 0xfb62, 0xefa6, 0x9d16, 0x0, 0x0);
        gbc.writeMem(0xe32c, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x9dba);
        EXPECT(gbc.pc(), 0xe32d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe32c), 0x9c);
        // 9C 03D2
        gbc.setState(0x84ae, 0x1fbd, 0xeeb0, 0x5d9c, 0xf602, 0x9479, 0x0, 0x0);
        gbc.writeMem(0x84ae, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x1fbd);
        EXPECT(gbc.pc(), 0x84af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84ae), 0x9c);
        // 9C 03D3
        gbc.setState(0x64a, 0x97a9, 0x20, 0x7eb9, 0x7300, 0x7e44, 0x1, 0x1);
        gbc.writeMem(0x64a, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x97a9);
        EXPECT(gbc.pc(), 0x64b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 03D4
        gbc.setState(0x5b71, 0x225b, 0x1960, 0xf018, 0x2c70, 0xf9ca, 0x1, 0x1);
        gbc.writeMem(0x5b71, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x225b);
        EXPECT(gbc.pc(), 0x5b72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 03D5
        gbc.setState(0x6329, 0x7062, 0xda90, 0x708a, 0x77db, 0x9cd6, 0x0, 0x1);
        gbc.writeMem(0x6329, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x7062);
        EXPECT(gbc.pc(), 0x632a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 03D6
        gbc.setState(0x15cc, 0x6872, 0x95f0, 0xc91e, 0xbf3e, 0x1366, 0x1, 0x1);
        gbc.writeMem(0x15cc, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x6872);
        EXPECT(gbc.pc(), 0x15cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 03D7
        gbc.setState(0x6314, 0x741c, 0x6c0, 0x6792, 0x9839, 0xee99, 0x1, 0x1);
        gbc.writeMem(0x6314, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x741c);
        EXPECT(gbc.pc(), 0x6315);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 03D8
        gbc.setState(0xd972, 0xca7c, 0x1f0, 0x8b4c, 0xcefa, 0xf1e5, 0x0, 0x1);
        gbc.writeMem(0xd972, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xca7c);
        EXPECT(gbc.pc(), 0xd973);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd972), 0x9c);
        // 9C 03D9
        gbc.setState(0x75e0, 0xa1ee, 0x1270, 0x40ed, 0x1e45, 0x239d, 0x0, 0x1);
        gbc.writeMem(0x75e0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xa1ee);
        EXPECT(gbc.pc(), 0x75e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 03DA
        gbc.setState(0x18c4, 0x4a33, 0x22f0, 0xfc56, 0xb6a1, 0x1c1, 0x0, 0x0);
        gbc.writeMem(0x18c4, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x4a33);
        EXPECT(gbc.pc(), 0x18c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 03DB
        gbc.setState(0xd800, 0x2042, 0x9d70, 0x661b, 0xd948, 0xb240, 0x1, 0x1);
        gbc.writeMem(0xd800, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x2042);
        EXPECT(gbc.pc(), 0xd801);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd800), 0x9c);
        // 9C 03DC
        gbc.setState(0x286e, 0x1b5a, 0x78e0, 0x5028, 0x9628, 0x87ba, 0x0, 0x0);
        gbc.writeMem(0x286e, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x1b5a);
        EXPECT(gbc.pc(), 0x286f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 03DD
        gbc.setState(0xb8b1, 0x5035, 0xf7e0, 0xa71d, 0xf547, 0x9fa9, 0x1, 0x1);
        gbc.writeMem(0xb8b1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x5035);
        EXPECT(gbc.pc(), 0xb8b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8b1), 0x9c);
        // 9C 03DE
        gbc.setState(0x1cfc, 0xc7d, 0x570, 0x8289, 0xff6d, 0xadcd, 0x1, 0x1);
        gbc.writeMem(0x1cfc, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xc7d);
        EXPECT(gbc.pc(), 0x1cfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 03DF
        gbc.setState(0x1383, 0xd93d, 0xe4a0, 0xcfb8, 0x1fea, 0x8d35, 0x0, 0x0);
        gbc.writeMem(0x1383, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xd93d);
        EXPECT(gbc.pc(), 0x1384);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 03E0
        gbc.setState(0x32ea, 0x8b6a, 0xbf20, 0xc1c0, 0x27b4, 0x1366, 0x1, 0x1);
        gbc.writeMem(0x32ea, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x8b6a);
        EXPECT(gbc.pc(), 0x32eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 9C 03E1
        gbc.setState(0x1902, 0xee16, 0x1db0, 0xb6d9, 0x6667, 0x4100, 0x0, 0x0);
        gbc.writeMem(0x1902, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xee16);
        EXPECT(gbc.pc(), 0x1903);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 9C 03E2
        gbc.setState(0xd9a9, 0x7bc2, 0x1df0, 0xe58a, 0x8b8e, 0x11a1, 0x0, 0x1);
        gbc.writeMem(0xd9a9, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x7bc2);
        EXPECT(gbc.pc(), 0xd9aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9a9), 0x9c);
        // 9C 03E3
        gbc.setState(0xd9f, 0x4b3b, 0xd720, 0xd29f, 0xa971, 0x6ef2, 0x1, 0x1);
        gbc.writeMem(0xd9f, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x4b3b);
        EXPECT(gbc.pc(), 0xda0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 9C 03E4
        gbc.setState(0x54f0, 0xd0ad, 0xccd0, 0x21d6, 0xe868, 0xeea0, 0x1, 0x1);
        gbc.writeMem(0x54f0, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xd0ad);
        EXPECT(gbc.pc(), 0x54f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 9C 03E5
        gbc.setState(0x98d1, 0x3d37, 0x65f0, 0xeec1, 0xbef7, 0x570e, 0x0, 0x0);
        gbc.writeMem(0x98d1, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x3d37);
        EXPECT(gbc.pc(), 0x98d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98d1), 0x9c);
        // 9C 03E6
        gbc.setState(0x5e97, 0xa838, 0xd010, 0xadce, 0x2057, 0xcee4, 0x1, 0x0);
        gbc.writeMem(0x5e97, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xa838);
        EXPECT(gbc.pc(), 0x5e98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
    }
}
#endif
