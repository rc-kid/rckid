    TEST(gbcemu, opcode_3c) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 3C 0000
        gbc.setState(0x2ea3, 0x323a, 0x4e30, 0xd8ce, 0x483b, 0xc98, 0x1, 0x1);
        gbc.writeMem(0x2ea3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x323a);
        EXPECT(gbc.pc(), 0x2ea4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0001
        gbc.setState(0x67ec, 0xfffe, 0x3a20, 0x256b, 0x5779, 0x9a88, 0x0, 0x0);
        gbc.writeMem(0x67ec, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xfffe);
        EXPECT(gbc.pc(), 0x67ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0002
        gbc.setState(0x6461, 0x92fd, 0x9c70, 0x99da, 0x7140, 0xe5ab, 0x1, 0x0);
        gbc.writeMem(0x6461, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x92fd);
        EXPECT(gbc.pc(), 0x6462);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0003
        gbc.setState(0xbd5c, 0xae7a, 0x89b0, 0x6aff, 0xb3af, 0x9b04, 0x0, 0x1);
        gbc.writeMem(0xbd5c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xae7a);
        EXPECT(gbc.pc(), 0xbd5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd5c), 0x3c);
        // 3C 0004
        gbc.setState(0x31d8, 0x5f2e, 0x6280, 0x3c46, 0x20f9, 0x5f32, 0x0, 0x0);
        gbc.writeMem(0x31d8, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x5f2e);
        EXPECT(gbc.pc(), 0x31d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0005
        gbc.setState(0x61a4, 0xcb73, 0xff90, 0x62a4, 0xdc18, 0xa595, 0x0, 0x1);
        gbc.writeMem(0x61a4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xcb73);
        EXPECT(gbc.pc(), 0x61a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 0006
        gbc.setState(0x85ac, 0xe573, 0xd30, 0x6be7, 0x9ee6, 0xc8a9, 0x1, 0x0);
        gbc.writeMem(0x85ac, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xe573);
        EXPECT(gbc.pc(), 0x85ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85ac), 0x3c);
        // 3C 0007
        gbc.setState(0x31ca, 0xf08, 0xbce0, 0x2e69, 0x67df, 0xa0bf, 0x1, 0x1);
        gbc.writeMem(0x31ca, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xf08);
        EXPECT(gbc.pc(), 0x31cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0008
        gbc.setState(0xab91, 0x6b1d, 0x9b80, 0x4a06, 0xeb1d, 0x46a1, 0x1, 0x1);
        gbc.writeMem(0xab91, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x6b1d);
        EXPECT(gbc.pc(), 0xab92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab91), 0x3c);
        // 3C 0009
        gbc.setState(0x24dc, 0xe34d, 0x14d0, 0x8c17, 0x82f0, 0xef6e, 0x0, 0x0);
        gbc.writeMem(0x24dc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xe34d);
        EXPECT(gbc.pc(), 0x24dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 000A
        gbc.setState(0x3f51, 0x5943, 0xa320, 0xdf33, 0xf99c, 0x2f6c, 0x1, 0x1);
        gbc.writeMem(0x3f51, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x5943);
        EXPECT(gbc.pc(), 0x3f52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 000B
        gbc.setState(0x61b, 0xa5f2, 0x6fd0, 0x5c4c, 0xa0ff, 0xdc75, 0x1, 0x0);
        gbc.writeMem(0x61b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa5f2);
        EXPECT(gbc.pc(), 0x61c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 000C
        gbc.setState(0x876e, 0xd639, 0x1310, 0x21b6, 0x7118, 0xfd16, 0x0, 0x0);
        gbc.writeMem(0x876e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xd639);
        EXPECT(gbc.pc(), 0x876f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x876e), 0x3c);
        // 3C 000D
        gbc.setState(0x782, 0xa2fd, 0x9470, 0x7c40, 0x628b, 0x40e2, 0x0, 0x1);
        gbc.writeMem(0x782, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xa2fd);
        EXPECT(gbc.pc(), 0x783);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 000E
        gbc.setState(0x5a56, 0x744c, 0x6fe0, 0x5442, 0xe3f1, 0xd68e, 0x0, 0x0);
        gbc.writeMem(0x5a56, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x744c);
        EXPECT(gbc.pc(), 0x5a57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 000F
        gbc.setState(0xc873, 0x30f9, 0x4f00, 0xc139, 0x6d63, 0xacfd, 0x0, 0x0);
        gbc.writeMem(0xc873, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x30f9);
        EXPECT(gbc.pc(), 0xc874);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc873), 0x3c);
        // 3C 0010
        gbc.setState(0xc8e7, 0x501a, 0xa880, 0x9ed4, 0x8108, 0x4d83, 0x0, 0x1);
        gbc.writeMem(0xc8e7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x501a);
        EXPECT(gbc.pc(), 0xc8e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8e7), 0x3c);
        // 3C 0011
        gbc.setState(0x4650, 0xc6dc, 0x7510, 0xdf0a, 0x6014, 0xfa2, 0x1, 0x0);
        gbc.writeMem(0x4650, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xc6dc);
        EXPECT(gbc.pc(), 0x4651);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0012
        gbc.setState(0xda3c, 0x8ad3, 0xb550, 0x4b0, 0x275d, 0x2515, 0x0, 0x1);
        gbc.writeMem(0xda3c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x8ad3);
        EXPECT(gbc.pc(), 0xda3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda3c), 0x3c);
        // 3C 0014
        gbc.setState(0xe00d, 0xc2a5, 0x2da0, 0x5de6, 0xd95, 0xafc8, 0x0, 0x1);
        gbc.writeMem(0xe00d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xc2a5);
        EXPECT(gbc.pc(), 0xe00e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe00d), 0x3c);
        // 3C 0015
        gbc.setState(0x1143, 0xf5d1, 0xa2d0, 0x9258, 0x4672, 0x37d2, 0x1, 0x0);
        gbc.writeMem(0x1143, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xf5d1);
        EXPECT(gbc.pc(), 0x1144);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0016
        gbc.setState(0x116c, 0x372f, 0x93d0, 0x71f5, 0xfd7e, 0x2063, 0x1, 0x1);
        gbc.writeMem(0x116c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x372f);
        EXPECT(gbc.pc(), 0x116d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0017
        gbc.setState(0x2247, 0x27d6, 0x3c20, 0x9a5c, 0xf35, 0x64f9, 0x0, 0x1);
        gbc.writeMem(0x2247, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x27d6);
        EXPECT(gbc.pc(), 0x2248);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0018
        gbc.setState(0xde44, 0x995b, 0x2ec0, 0x4d32, 0x5069, 0xe169, 0x0, 0x1);
        gbc.writeMem(0xde44, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x995b);
        EXPECT(gbc.pc(), 0xde45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde44), 0x3c);
        // 3C 0019
        gbc.setState(0xae03, 0x984d, 0xf570, 0xb52c, 0x8bdc, 0x94f2, 0x0, 0x1);
        gbc.writeMem(0xae03, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x984d);
        EXPECT(gbc.pc(), 0xae04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae03), 0x3c);
        // 3C 001A
        gbc.setState(0x4f60, 0x8d99, 0x4d10, 0x5c85, 0x59ed, 0xe251, 0x0, 0x0);
        gbc.writeMem(0x4f60, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x8d99);
        EXPECT(gbc.pc(), 0x4f61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 001B
        gbc.setState(0xa619, 0xa35f, 0x7b50, 0xae0f, 0x48a8, 0xb557, 0x0, 0x1);
        gbc.writeMem(0xa619, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xa35f);
        EXPECT(gbc.pc(), 0xa61a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa619), 0x3c);
        // 3C 001C
        gbc.setState(0xe0e7, 0x58cf, 0xcc90, 0x3201, 0xe984, 0xa6e9, 0x0, 0x0);
        gbc.writeMem(0xe0e7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x58cf);
        EXPECT(gbc.pc(), 0xe0e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0e7), 0x3c);
        // 3C 001D
        gbc.setState(0x1af6, 0xa3cf, 0xf7c0, 0xf3e7, 0xaa00, 0x97e0, 0x1, 0x0);
        gbc.writeMem(0x1af6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xa3cf);
        EXPECT(gbc.pc(), 0x1af7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 001E
        gbc.setState(0x5ad, 0x4fcc, 0x2510, 0xd7d4, 0x57a2, 0x5431, 0x0, 0x0);
        gbc.writeMem(0x5ad, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x4fcc);
        EXPECT(gbc.pc(), 0x5ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 001F
        gbc.setState(0xc38d, 0x9de7, 0x8eb0, 0xa14a, 0x5991, 0x793d, 0x0, 0x0);
        gbc.writeMem(0xc38d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x9de7);
        EXPECT(gbc.pc(), 0xc38e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc38d), 0x3c);
        // 3C 0020
        gbc.setState(0x95e5, 0xe447, 0xe690, 0xc7e5, 0x7fef, 0x3477, 0x1, 0x1);
        gbc.writeMem(0x95e5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xe447);
        EXPECT(gbc.pc(), 0x95e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95e5), 0x3c);
        // 3C 0021
        gbc.setState(0xa2e4, 0x2652, 0xb210, 0xf303, 0xa5e1, 0x9fd7, 0x0, 0x0);
        gbc.writeMem(0xa2e4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x2652);
        EXPECT(gbc.pc(), 0xa2e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2e4), 0x3c);
        // 3C 0022
        gbc.setState(0xe82b, 0x2d83, 0x7760, 0x44a0, 0xd283, 0x430b, 0x1, 0x0);
        gbc.writeMem(0xe82b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x2d83);
        EXPECT(gbc.pc(), 0xe82c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe82b), 0x3c);
        // 3C 0023
        gbc.setState(0x3b1a, 0x8dc6, 0x6490, 0x2c4f, 0x7c28, 0xc2c4, 0x0, 0x0);
        gbc.writeMem(0x3b1a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x8dc6);
        EXPECT(gbc.pc(), 0x3b1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0024
        gbc.setState(0xb4f4, 0x94ea, 0x7c60, 0x9dea, 0xd405, 0x3557, 0x0, 0x1);
        gbc.writeMem(0xb4f4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x94ea);
        EXPECT(gbc.pc(), 0xb4f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4f4), 0x3c);
        // 3C 0025
        gbc.setState(0xe62f, 0xa00c, 0x1290, 0x4744, 0xb03d, 0x8c9b, 0x0, 0x1);
        gbc.writeMem(0xe62f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xa00c);
        EXPECT(gbc.pc(), 0xe630);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe62f), 0x3c);
        // 3C 0026
        gbc.setState(0xec72, 0x121d, 0x1f70, 0xb6e0, 0x8239, 0x988, 0x1, 0x1);
        gbc.writeMem(0xec72, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x121d);
        EXPECT(gbc.pc(), 0xec73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec72), 0x3c);
        // 3C 0027
        gbc.setState(0xc5f7, 0xa0cb, 0x7590, 0xde65, 0xf6e8, 0x8c23, 0x1, 0x1);
        gbc.writeMem(0xc5f7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xa0cb);
        EXPECT(gbc.pc(), 0xc5f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5f7), 0x3c);
        // 3C 0028
        gbc.setState(0x83a0, 0x2134, 0x85d0, 0x540, 0x637f, 0xe641, 0x1, 0x1);
        gbc.writeMem(0x83a0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x2134);
        EXPECT(gbc.pc(), 0x83a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83a0), 0x3c);
        // 3C 0029
        gbc.setState(0x76b5, 0x9fc5, 0xf5a0, 0xd1eb, 0x2e89, 0x31e7, 0x1, 0x0);
        gbc.writeMem(0x76b5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9fc5);
        EXPECT(gbc.pc(), 0x76b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 002A
        gbc.setState(0x776e, 0x1854, 0x5c10, 0x9a97, 0x4529, 0x5717, 0x0, 0x0);
        gbc.writeMem(0x776e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x1854);
        EXPECT(gbc.pc(), 0x776f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 002B
        gbc.setState(0xea3a, 0x3246, 0x3e10, 0x300e, 0x31b2, 0xf6dd, 0x0, 0x0);
        gbc.writeMem(0xea3a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x3246);
        EXPECT(gbc.pc(), 0xea3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea3a), 0x3c);
        // 3C 002C
        gbc.setState(0xefad, 0xcf0d, 0x7a80, 0xfff4, 0x8bd, 0x9361, 0x0, 0x0);
        gbc.writeMem(0xefad, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xcf0d);
        EXPECT(gbc.pc(), 0xefae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefad), 0x3c);
        // 3C 002D
        gbc.setState(0x5f8f, 0xc029, 0x4f90, 0x7b6e, 0xf5b5, 0x7a95, 0x1, 0x0);
        gbc.writeMem(0x5f8f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xc029);
        EXPECT(gbc.pc(), 0x5f90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 002E
        gbc.setState(0x32d9, 0x48c9, 0x3a20, 0xeb6c, 0x77c, 0xa5a1, 0x1, 0x1);
        gbc.writeMem(0x32d9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x48c9);
        EXPECT(gbc.pc(), 0x32da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 002F
        gbc.setState(0x28dc, 0x31ca, 0xf460, 0xbaa, 0x4599, 0x1171, 0x0, 0x0);
        gbc.writeMem(0x28dc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x31ca);
        EXPECT(gbc.pc(), 0x28dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0030
        gbc.setState(0xbc70, 0xff34, 0xc040, 0x4990, 0xbb43, 0xf405, 0x1, 0x0);
        gbc.writeMem(0xbc70, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xff34);
        EXPECT(gbc.pc(), 0xbc71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc70), 0x3c);
        // 3C 0031
        gbc.setState(0x63ac, 0xf636, 0x9950, 0x6870, 0xe0a3, 0xb92b, 0x0, 0x1);
        gbc.writeMem(0x63ac, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xf636);
        EXPECT(gbc.pc(), 0x63ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0032
        gbc.setState(0x9e50, 0x78ca, 0x3000, 0x20ec, 0xe78c, 0x940a, 0x1, 0x0);
        gbc.writeMem(0x9e50, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x78ca);
        EXPECT(gbc.pc(), 0x9e51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e50), 0x3c);
        // 3C 0033
        gbc.setState(0xb9f3, 0xd368, 0x5a0, 0x97db, 0x2e8f, 0x884, 0x1, 0x1);
        gbc.writeMem(0xb9f3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xd368);
        EXPECT(gbc.pc(), 0xb9f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9f3), 0x3c);
        // 3C 0034
        gbc.setState(0x6a72, 0x158a, 0x7a0, 0xe550, 0xdbd0, 0xc18e, 0x0, 0x1);
        gbc.writeMem(0x6a72, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x158a);
        EXPECT(gbc.pc(), 0x6a73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0035
        gbc.setState(0x2713, 0xb51a, 0xec70, 0x96c, 0xe0d9, 0xe618, 0x0, 0x1);
        gbc.writeMem(0x2713, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xb51a);
        EXPECT(gbc.pc(), 0x2714);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0036
        gbc.setState(0x61ba, 0xdf78, 0x430, 0x90ab, 0x5af7, 0x7221, 0x0, 0x1);
        gbc.writeMem(0x61ba, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xdf78);
        EXPECT(gbc.pc(), 0x61bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0037
        gbc.setState(0xea5b, 0x67ee, 0x78b0, 0x9b96, 0x3d68, 0x8fae, 0x0, 0x1);
        gbc.writeMem(0xea5b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x67ee);
        EXPECT(gbc.pc(), 0xea5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea5b), 0x3c);
        // 3C 0038
        gbc.setState(0x8ec9, 0xa40f, 0x13e0, 0x9aad, 0x8364, 0xa617, 0x1, 0x1);
        gbc.writeMem(0x8ec9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xa40f);
        EXPECT(gbc.pc(), 0x8eca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ec9), 0x3c);
        // 3C 0039
        gbc.setState(0xb70f, 0x485, 0xebc0, 0xa5a1, 0x3eac, 0xaae6, 0x1, 0x0);
        gbc.writeMem(0xb70f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x485);
        EXPECT(gbc.pc(), 0xb710);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb70f), 0x3c);
        // 3C 003A
        gbc.setState(0x2c72, 0xc8fd, 0x55e0, 0x3add, 0x9454, 0x2e38, 0x1, 0x1);
        gbc.writeMem(0x2c72, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xc8fd);
        EXPECT(gbc.pc(), 0x2c73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 003B
        gbc.setState(0xe335, 0x7851, 0x3110, 0x132d, 0x20af, 0x9a13, 0x1, 0x0);
        gbc.writeMem(0xe335, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x7851);
        EXPECT(gbc.pc(), 0xe336);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe335), 0x3c);
        // 3C 003C
        gbc.setState(0xe0e1, 0xc1ef, 0x64e0, 0x9b46, 0x8be, 0x7cf, 0x1, 0x0);
        gbc.writeMem(0xe0e1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xc1ef);
        EXPECT(gbc.pc(), 0xe0e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0e1), 0x3c);
        // 3C 003D
        gbc.setState(0x67e2, 0x22c0, 0x5310, 0x97ac, 0x601e, 0x7df4, 0x0, 0x0);
        gbc.writeMem(0x67e2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x22c0);
        EXPECT(gbc.pc(), 0x67e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 003E
        gbc.setState(0x2b27, 0x95d7, 0xb40, 0x9fbc, 0xd504, 0xa232, 0x1, 0x1);
        gbc.writeMem(0x2b27, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x95d7);
        EXPECT(gbc.pc(), 0x2b28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 003F
        gbc.setState(0x8749, 0xb417, 0x8c00, 0x6eb1, 0x441f, 0xef33, 0x0, 0x0);
        gbc.writeMem(0x8749, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xb417);
        EXPECT(gbc.pc(), 0x874a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8749), 0x3c);
        // 3C 0040
        gbc.setState(0x35c0, 0xede2, 0x27e0, 0xa5e2, 0xabea, 0x94ce, 0x1, 0x0);
        gbc.writeMem(0x35c0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xede2);
        EXPECT(gbc.pc(), 0x35c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0041
        gbc.setState(0x6a23, 0x7d4, 0xdd00, 0xebe6, 0x8289, 0x3331, 0x1, 0x1);
        gbc.writeMem(0x6a23, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x7d4);
        EXPECT(gbc.pc(), 0x6a24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0042
        gbc.setState(0x7e9c, 0x849e, 0xe700, 0x9611, 0xab14, 0xeb47, 0x0, 0x1);
        gbc.writeMem(0x7e9c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x849e);
        EXPECT(gbc.pc(), 0x7e9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0043
        gbc.setState(0x5f52, 0x18d2, 0x42a0, 0x1c5c, 0x90b, 0x6bf9, 0x1, 0x0);
        gbc.writeMem(0x5f52, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x18d2);
        EXPECT(gbc.pc(), 0x5f53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0044
        gbc.setState(0x68e, 0xc2d1, 0xb960, 0xa0a8, 0xbac6, 0xc6ef, 0x1, 0x1);
        gbc.writeMem(0x68e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xc2d1);
        EXPECT(gbc.pc(), 0x68f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0045
        gbc.setState(0xdd65, 0xf5b3, 0x22b0, 0xef00, 0xe75, 0xf7a7, 0x0, 0x0);
        gbc.writeMem(0xdd65, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xf5b3);
        EXPECT(gbc.pc(), 0xdd66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd65), 0x3c);
        // 3C 0046
        gbc.setState(0xe9af, 0xef0, 0x6c0, 0x591a, 0x686e, 0xf751, 0x0, 0x1);
        gbc.writeMem(0xe9af, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xef0);
        EXPECT(gbc.pc(), 0xe9b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9af), 0x3c);
        // 3C 0047
        gbc.setState(0xdcd5, 0x194a, 0xa000, 0x6002, 0xe96d, 0x132a, 0x1, 0x0);
        gbc.writeMem(0xdcd5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x194a);
        EXPECT(gbc.pc(), 0xdcd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcd5), 0x3c);
        // 3C 0048
        gbc.setState(0xc5fc, 0xcc0f, 0xa630, 0xbc08, 0x1a8a, 0xbb83, 0x1, 0x1);
        gbc.writeMem(0xc5fc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xcc0f);
        EXPECT(gbc.pc(), 0xc5fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5fc), 0x3c);
        // 3C 0049
        gbc.setState(0xbd23, 0xa681, 0x74b0, 0x36b5, 0xc146, 0xdab0, 0x0, 0x1);
        gbc.writeMem(0xbd23, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xa681);
        EXPECT(gbc.pc(), 0xbd24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd23), 0x3c);
        // 3C 004A
        gbc.setState(0x7af6, 0xe16f, 0x9c30, 0xd73e, 0x7104, 0x2b6a, 0x0, 0x0);
        gbc.writeMem(0x7af6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xe16f);
        EXPECT(gbc.pc(), 0x7af7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 004B
        gbc.setState(0x6045, 0x177c, 0xde50, 0x5f1e, 0x9630, 0x7d1c, 0x1, 0x1);
        gbc.writeMem(0x6045, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x177c);
        EXPECT(gbc.pc(), 0x6046);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 004C
        gbc.setState(0x21dd, 0x6137, 0x2330, 0xa905, 0x2bc2, 0x3815, 0x1, 0x1);
        gbc.writeMem(0x21dd, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x6137);
        EXPECT(gbc.pc(), 0x21de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 004D
        gbc.setState(0xd934, 0x6a42, 0xb9b0, 0x66a4, 0x98e3, 0xd8f2, 0x0, 0x0);
        gbc.writeMem(0xd934, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6a42);
        EXPECT(gbc.pc(), 0xd935);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd934), 0x3c);
        // 3C 004E
        gbc.setState(0x243e, 0x2086, 0xc3f0, 0x88e7, 0x40f, 0xb61c, 0x1, 0x0);
        gbc.writeMem(0x243e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x2086);
        EXPECT(gbc.pc(), 0x243f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 004F
        gbc.setState(0x2d76, 0xf137, 0x6650, 0x87aa, 0x210f, 0x4566, 0x1, 0x1);
        gbc.writeMem(0x2d76, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xf137);
        EXPECT(gbc.pc(), 0x2d77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0050
        gbc.setState(0x7cc9, 0x1cc, 0x44e0, 0x8929, 0x9a3a, 0x6e5c, 0x0, 0x0);
        gbc.writeMem(0x7cc9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x1cc);
        EXPECT(gbc.pc(), 0x7cca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0051
        gbc.setState(0x961c, 0xc6b6, 0x1d80, 0xae57, 0xef2b, 0xa132, 0x0, 0x1);
        gbc.writeMem(0x961c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xc6b6);
        EXPECT(gbc.pc(), 0x961d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x961c), 0x3c);
        // 3C 0052
        gbc.setState(0xad15, 0x6fae, 0x4a40, 0xcf71, 0xa28f, 0x49c7, 0x0, 0x1);
        gbc.writeMem(0xad15, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x6fae);
        EXPECT(gbc.pc(), 0xad16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad15), 0x3c);
        // 3C 0053
        gbc.setState(0x6ebc, 0x27e8, 0x1620, 0xc360, 0x5afe, 0x85b5, 0x1, 0x0);
        gbc.writeMem(0x6ebc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x27e8);
        EXPECT(gbc.pc(), 0x6ebd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0054
        gbc.setState(0x764b, 0x8855, 0x52e0, 0x9a28, 0x46af, 0x7a27, 0x1, 0x1);
        gbc.writeMem(0x764b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x8855);
        EXPECT(gbc.pc(), 0x764c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0055
        gbc.setState(0xe147, 0xef56, 0xe740, 0xc8b7, 0xc10f, 0xfb51, 0x0, 0x1);
        gbc.writeMem(0xe147, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xef56);
        EXPECT(gbc.pc(), 0xe148);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe147), 0x3c);
        // 3C 0056
        gbc.setState(0xd2b, 0xcb4e, 0x8350, 0xd323, 0x7d0f, 0xeb26, 0x1, 0x0);
        gbc.writeMem(0xd2b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xcb4e);
        EXPECT(gbc.pc(), 0xd2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0057
        gbc.setState(0x7a23, 0xc38, 0xce00, 0x1647, 0xadb, 0xc798, 0x0, 0x1);
        gbc.writeMem(0x7a23, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xc38);
        EXPECT(gbc.pc(), 0x7a24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0058
        gbc.setState(0xddd1, 0xfa39, 0xab10, 0x750f, 0xa987, 0x6049, 0x0, 0x0);
        gbc.writeMem(0xddd1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xfa39);
        EXPECT(gbc.pc(), 0xddd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddd1), 0x3c);
        // 3C 0059
        gbc.setState(0x5c82, 0x334d, 0xcdc0, 0x663b, 0x95b9, 0xe58, 0x1, 0x0);
        gbc.writeMem(0x5c82, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x334d);
        EXPECT(gbc.pc(), 0x5c83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 005A
        gbc.setState(0x308b, 0x48f5, 0xa8e0, 0x6f, 0x233b, 0x32f1, 0x1, 0x0);
        gbc.writeMem(0x308b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x48f5);
        EXPECT(gbc.pc(), 0x308c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 005B
        gbc.setState(0x3f10, 0xa35d, 0x430, 0xdb1d, 0x1fe3, 0x407a, 0x1, 0x0);
        gbc.writeMem(0x3f10, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xa35d);
        EXPECT(gbc.pc(), 0x3f11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 005C
        gbc.setState(0xc296, 0x59a2, 0xe050, 0x3407, 0xde27, 0x24d, 0x1, 0x1);
        gbc.writeMem(0xc296, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x59a2);
        EXPECT(gbc.pc(), 0xc297);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc296), 0x3c);
        // 3C 005D
        gbc.setState(0x9b58, 0xbb5f, 0xf1e0, 0x75b6, 0xf7c8, 0xae35, 0x1, 0x0);
        gbc.writeMem(0x9b58, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xbb5f);
        EXPECT(gbc.pc(), 0x9b59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b58), 0x3c);
        // 3C 005E
        gbc.setState(0x90ec, 0x9575, 0x92c0, 0x30ea, 0x2a78, 0x880a, 0x0, 0x1);
        gbc.writeMem(0x90ec, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x9575);
        EXPECT(gbc.pc(), 0x90ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90ec), 0x3c);
        // 3C 005F
        gbc.setState(0xc368, 0xe6db, 0x670, 0x2490, 0x829e, 0xd585, 0x1, 0x0);
        gbc.writeMem(0xc368, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xe6db);
        EXPECT(gbc.pc(), 0xc369);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc368), 0x3c);
        // 3C 0060
        gbc.setState(0xe4d, 0xbd39, 0xb210, 0xfbb6, 0x5fdd, 0x2ca2, 0x1, 0x0);
        gbc.writeMem(0xe4d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xbd39);
        EXPECT(gbc.pc(), 0xe4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0062
        gbc.setState(0xe176, 0xf654, 0xc1e0, 0xae0c, 0x5dae, 0x7780, 0x0, 0x0);
        gbc.writeMem(0xe176, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xf654);
        EXPECT(gbc.pc(), 0xe177);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe176), 0x3c);
        // 3C 0063
        gbc.setState(0x3609, 0xa4bf, 0x1e00, 0x70c1, 0x9fb5, 0xb19b, 0x1, 0x0);
        gbc.writeMem(0x3609, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xa4bf);
        EXPECT(gbc.pc(), 0x360a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0064
        gbc.setState(0x8163, 0x2b5a, 0xa3c0, 0x7168, 0xec95, 0x8a7c, 0x0, 0x1);
        gbc.writeMem(0x8163, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x2b5a);
        EXPECT(gbc.pc(), 0x8164);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8163), 0x3c);
        // 3C 0065
        gbc.setState(0x1db6, 0x23f8, 0xaca0, 0x5127, 0x55a1, 0xbd4a, 0x0, 0x0);
        gbc.writeMem(0x1db6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x23f8);
        EXPECT(gbc.pc(), 0x1db7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0066
        gbc.setState(0xcf7d, 0xd19c, 0xa190, 0x2a8c, 0xe39e, 0xbb31, 0x0, 0x1);
        gbc.writeMem(0xcf7d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xd19c);
        EXPECT(gbc.pc(), 0xcf7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf7d), 0x3c);
        // 3C 0067
        gbc.setState(0x9e01, 0x3585, 0xb470, 0x5004, 0x62ab, 0xbb65, 0x0, 0x1);
        gbc.writeMem(0x9e01, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x3585);
        EXPECT(gbc.pc(), 0x9e02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e01), 0x3c);
        // 3C 0068
        gbc.setState(0x3733, 0x17c3, 0x1830, 0x7d22, 0xb9da, 0x7826, 0x0, 0x0);
        gbc.writeMem(0x3733, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x17c3);
        EXPECT(gbc.pc(), 0x3734);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0069
        gbc.setState(0x7e0f, 0xc4a, 0x9590, 0x94d1, 0x7a68, 0x8c86, 0x1, 0x1);
        gbc.writeMem(0x7e0f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xc4a);
        EXPECT(gbc.pc(), 0x7e10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 006A
        gbc.setState(0x3e92, 0xfa9c, 0xef0, 0xc0b3, 0x1bfa, 0x9215, 0x1, 0x0);
        gbc.writeMem(0x3e92, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xfa9c);
        EXPECT(gbc.pc(), 0x3e93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 006B
        gbc.setState(0x89fc, 0xf09, 0x7190, 0x663f, 0x3895, 0xdb6, 0x0, 0x1);
        gbc.writeMem(0x89fc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xf09);
        EXPECT(gbc.pc(), 0x89fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89fc), 0x3c);
        // 3C 006C
        gbc.setState(0x8dcb, 0xa89d, 0xce40, 0x5080, 0xeccb, 0xe2d, 0x1, 0x0);
        gbc.writeMem(0x8dcb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xa89d);
        EXPECT(gbc.pc(), 0x8dcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dcb), 0x3c);
        // 3C 006D
        gbc.setState(0x7cf3, 0x520c, 0xe2d0, 0x9c99, 0x6422, 0x530, 0x0, 0x0);
        gbc.writeMem(0x7cf3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x520c);
        EXPECT(gbc.pc(), 0x7cf4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 006E
        gbc.setState(0x1d7d, 0xb43c, 0x9b30, 0x2559, 0xc090, 0xa74c, 0x1, 0x0);
        gbc.writeMem(0x1d7d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xb43c);
        EXPECT(gbc.pc(), 0x1d7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 006F
        gbc.setState(0xe74b, 0x2b92, 0xc630, 0x69e8, 0x5fc, 0xbee3, 0x1, 0x1);
        gbc.writeMem(0xe74b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x2b92);
        EXPECT(gbc.pc(), 0xe74c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe74b), 0x3c);
        // 3C 0070
        gbc.setState(0xe9db, 0xd932, 0x2360, 0xd876, 0x9c13, 0x86de, 0x0, 0x0);
        gbc.writeMem(0xe9db, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xd932);
        EXPECT(gbc.pc(), 0xe9dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9db), 0x3c);
        // 3C 0071
        gbc.setState(0x203e, 0x68c1, 0x8560, 0x7b52, 0xaf48, 0x11f8, 0x0, 0x1);
        gbc.writeMem(0x203e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x68c1);
        EXPECT(gbc.pc(), 0x203f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0072
        gbc.setState(0x8c3c, 0xd76d, 0xb4f0, 0x5852, 0x2c2e, 0x3266, 0x1, 0x1);
        gbc.writeMem(0x8c3c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xd76d);
        EXPECT(gbc.pc(), 0x8c3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c3c), 0x3c);
        // 3C 0073
        gbc.setState(0x43df, 0x2bc6, 0x8380, 0x4008, 0x9642, 0x828b, 0x0, 0x1);
        gbc.writeMem(0x43df, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x2bc6);
        EXPECT(gbc.pc(), 0x43e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0074
        gbc.setState(0xa9ad, 0xe788, 0xc980, 0xcd7, 0xa6ce, 0x4fb8, 0x1, 0x1);
        gbc.writeMem(0xa9ad, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xe788);
        EXPECT(gbc.pc(), 0xa9ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9ad), 0x3c);
        // 3C 0075
        gbc.setState(0x2504, 0xd633, 0x4e50, 0x6ab2, 0x531f, 0xcf03, 0x0, 0x1);
        gbc.writeMem(0x2504, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xd633);
        EXPECT(gbc.pc(), 0x2505);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0076
        gbc.setState(0x4c37, 0x7c7c, 0xf90, 0xda5b, 0xd491, 0x9be2, 0x0, 0x1);
        gbc.writeMem(0x4c37, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x7c7c);
        EXPECT(gbc.pc(), 0x4c38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 0077
        gbc.setState(0xe5e8, 0x5ac3, 0x3d10, 0xed67, 0x71a1, 0xe710, 0x1, 0x0);
        gbc.writeMem(0xe5e8, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x5ac3);
        EXPECT(gbc.pc(), 0xe5e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5e8), 0x3c);
        // 3C 0078
        gbc.setState(0x1bc7, 0x544b, 0x40a0, 0xa240, 0xb525, 0x5dd2, 0x1, 0x1);
        gbc.writeMem(0x1bc7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x544b);
        EXPECT(gbc.pc(), 0x1bc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0079
        gbc.setState(0xbe34, 0x6b5e, 0x22a0, 0xbeb0, 0x9885, 0xc021, 0x1, 0x1);
        gbc.writeMem(0xbe34, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x6b5e);
        EXPECT(gbc.pc(), 0xbe35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe34), 0x3c);
        // 3C 007B
        gbc.setState(0x6dd9, 0x5f5f, 0xfd90, 0x9a5b, 0xe5d1, 0xc9ba, 0x0, 0x1);
        gbc.writeMem(0x6dd9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x5f5f);
        EXPECT(gbc.pc(), 0x6dda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 007C
        gbc.setState(0x9da9, 0xd350, 0x6540, 0x328a, 0x826a, 0xf98b, 0x0, 0x0);
        gbc.writeMem(0x9da9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xd350);
        EXPECT(gbc.pc(), 0x9daa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9da9), 0x3c);
        // 3C 007D
        gbc.setState(0xbcc4, 0x7ee7, 0xef50, 0xe16, 0x73c4, 0xcb88, 0x1, 0x1);
        gbc.writeMem(0xbcc4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x7ee7);
        EXPECT(gbc.pc(), 0xbcc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcc4), 0x3c);
        // 3C 007E
        gbc.setState(0xb1b3, 0x68f5, 0x49e0, 0x53e2, 0x406e, 0xdd39, 0x1, 0x0);
        gbc.writeMem(0xb1b3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x68f5);
        EXPECT(gbc.pc(), 0xb1b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1b3), 0x3c);
        // 3C 007F
        gbc.setState(0xccd2, 0x160f, 0x83f0, 0x934f, 0x577a, 0x2edf, 0x1, 0x0);
        gbc.writeMem(0xccd2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x160f);
        EXPECT(gbc.pc(), 0xccd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccd2), 0x3c);
        // 3C 0080
        gbc.setState(0x27ae, 0x4051, 0xc860, 0xeb56, 0x1835, 0x4e96, 0x1, 0x0);
        gbc.writeMem(0x27ae, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x4051);
        EXPECT(gbc.pc(), 0x27af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0081
        gbc.setState(0x8a69, 0xecbc, 0x9220, 0xb6db, 0x5f8b, 0xa1c6, 0x0, 0x1);
        gbc.writeMem(0x8a69, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xecbc);
        EXPECT(gbc.pc(), 0x8a6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a69), 0x3c);
        // 3C 0082
        gbc.setState(0x2b1, 0xf22f, 0x41c0, 0xa1a0, 0xcd06, 0xf2a2, 0x0, 0x0);
        gbc.writeMem(0x2b1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xf22f);
        EXPECT(gbc.pc(), 0x2b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0083
        gbc.setState(0xae6e, 0x8369, 0x7ce0, 0x8cf1, 0x7b2b, 0x2115, 0x0, 0x0);
        gbc.writeMem(0xae6e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x8369);
        EXPECT(gbc.pc(), 0xae6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae6e), 0x3c);
        // 3C 0084
        gbc.setState(0x68f4, 0x558, 0xef50, 0x8ddb, 0x4d1d, 0xf5a0, 0x0, 0x1);
        gbc.writeMem(0x68f4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x558);
        EXPECT(gbc.pc(), 0x68f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 0085
        gbc.setState(0x7a73, 0x5375, 0xf440, 0xb2f1, 0xea02, 0x65a3, 0x1, 0x0);
        gbc.writeMem(0x7a73, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x5375);
        EXPECT(gbc.pc(), 0x7a74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0087
        gbc.setState(0xdf99, 0x3e83, 0xbc20, 0xfdb0, 0x98e5, 0x531f, 0x0, 0x1);
        gbc.writeMem(0xdf99, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x3e83);
        EXPECT(gbc.pc(), 0xdf9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf99), 0x3c);
        // 3C 0088
        gbc.setState(0xdf48, 0xd1fa, 0xa3f0, 0xbb63, 0x42c6, 0x857e, 0x0, 0x0);
        gbc.writeMem(0xdf48, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xd1fa);
        EXPECT(gbc.pc(), 0xdf49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf48), 0x3c);
        // 3C 0089
        gbc.setState(0xdf33, 0xcda2, 0x2380, 0x7237, 0xa66, 0x818b, 0x0, 0x0);
        gbc.writeMem(0xdf33, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xcda2);
        EXPECT(gbc.pc(), 0xdf34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf33), 0x3c);
        // 3C 008A
        gbc.setState(0xcbdb, 0xd652, 0x42d0, 0x1043, 0x52d9, 0xf46a, 0x1, 0x0);
        gbc.writeMem(0xcbdb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xd652);
        EXPECT(gbc.pc(), 0xcbdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbdb), 0x3c);
        // 3C 008B
        gbc.setState(0x51fc, 0x532c, 0x4b50, 0x3141, 0x35c1, 0x6e0f, 0x1, 0x1);
        gbc.writeMem(0x51fc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x532c);
        EXPECT(gbc.pc(), 0x51fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 008C
        gbc.setState(0x7bdd, 0x96a5, 0x24c0, 0x6975, 0xfdd5, 0xf3d, 0x1, 0x1);
        gbc.writeMem(0x7bdd, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x96a5);
        EXPECT(gbc.pc(), 0x7bde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 008D
        gbc.setState(0xd6f7, 0xbb53, 0xd8f0, 0x36af, 0xf9bc, 0xb7b5, 0x0, 0x0);
        gbc.writeMem(0xd6f7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xbb53);
        EXPECT(gbc.pc(), 0xd6f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6f7), 0x3c);
        // 3C 008E
        gbc.setState(0x5bc2, 0xa395, 0xe2f0, 0xfad, 0x8b3e, 0x2a38, 0x1, 0x1);
        gbc.writeMem(0x5bc2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xa395);
        EXPECT(gbc.pc(), 0x5bc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 008F
        gbc.setState(0x507b, 0x28b8, 0x3950, 0x12c5, 0x5701, 0x30ed, 0x1, 0x1);
        gbc.writeMem(0x507b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x28b8);
        EXPECT(gbc.pc(), 0x507c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0090
        gbc.setState(0x80b4, 0xa94a, 0xab00, 0x90bf, 0x2116, 0xcef7, 0x1, 0x1);
        gbc.writeMem(0x80b4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa94a);
        EXPECT(gbc.pc(), 0x80b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80b4), 0x3c);
        // 3C 0091
        gbc.setState(0x7f71, 0xc7e8, 0x9b00, 0xd5fe, 0x2686, 0x155b, 0x0, 0x0);
        gbc.writeMem(0x7f71, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xc7e8);
        EXPECT(gbc.pc(), 0x7f72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0092
        gbc.setState(0x75f8, 0x8264, 0x2dc0, 0xe84e, 0x1a20, 0x5542, 0x1, 0x0);
        gbc.writeMem(0x75f8, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x8264);
        EXPECT(gbc.pc(), 0x75f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0093
        gbc.setState(0xd531, 0x33da, 0x47d0, 0x7548, 0x3cd7, 0xf778, 0x0, 0x1);
        gbc.writeMem(0xd531, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x33da);
        EXPECT(gbc.pc(), 0xd532);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd531), 0x3c);
        // 3C 0094
        gbc.setState(0x5763, 0xc497, 0xca0, 0xf248, 0xa70a, 0xece1, 0x0, 0x1);
        gbc.writeMem(0x5763, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xc497);
        EXPECT(gbc.pc(), 0x5764);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0095
        gbc.setState(0xb152, 0xa11c, 0xee50, 0x242d, 0x8988, 0x2c9c, 0x1, 0x0);
        gbc.writeMem(0xb152, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xa11c);
        EXPECT(gbc.pc(), 0xb153);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb152), 0x3c);
        // 3C 0096
        gbc.setState(0xe566, 0x7d03, 0xf430, 0x757a, 0x41d0, 0x570, 0x0, 0x0);
        gbc.writeMem(0xe566, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x7d03);
        EXPECT(gbc.pc(), 0xe567);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe566), 0x3c);
        // 3C 0097
        gbc.setState(0x948c, 0x8804, 0xcd00, 0xf294, 0x1c12, 0x564e, 0x0, 0x0);
        gbc.writeMem(0x948c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x8804);
        EXPECT(gbc.pc(), 0x948d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x948c), 0x3c);
        // 3C 0098
        gbc.setState(0xa265, 0xf188, 0xcb60, 0x9cb3, 0x17fd, 0x3c49, 0x0, 0x1);
        gbc.writeMem(0xa265, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xf188);
        EXPECT(gbc.pc(), 0xa266);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa265), 0x3c);
        // 3C 0099
        gbc.setState(0xdab9, 0x2138, 0x51d0, 0xf136, 0x3bfb, 0xddd8, 0x0, 0x0);
        gbc.writeMem(0xdab9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x2138);
        EXPECT(gbc.pc(), 0xdaba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdab9), 0x3c);
        // 3C 009A
        gbc.setState(0xd9a3, 0x6c64, 0xc280, 0xcec1, 0x3d6e, 0xefd9, 0x1, 0x0);
        gbc.writeMem(0xd9a3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x6c64);
        EXPECT(gbc.pc(), 0xd9a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9a3), 0x3c);
        // 3C 009B
        gbc.setState(0x1be6, 0x9469, 0x2b70, 0x6eb0, 0x8a7b, 0x76f5, 0x0, 0x0);
        gbc.writeMem(0x1be6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x9469);
        EXPECT(gbc.pc(), 0x1be7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 009C
        gbc.setState(0x752e, 0xf842, 0xbc30, 0xe8c1, 0xdc16, 0x3536, 0x1, 0x0);
        gbc.writeMem(0x752e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xf842);
        EXPECT(gbc.pc(), 0x752f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 009D
        gbc.setState(0xcab6, 0x4f8d, 0xc380, 0xb9fe, 0xf14d, 0x7fb8, 0x1, 0x1);
        gbc.writeMem(0xcab6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x4f8d);
        EXPECT(gbc.pc(), 0xcab7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcab6), 0x3c);
        // 3C 009E
        gbc.setState(0x1746, 0xe88b, 0x7d80, 0xa6fc, 0xdd00, 0x42bc, 0x1, 0x1);
        gbc.writeMem(0x1746, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xe88b);
        EXPECT(gbc.pc(), 0x1747);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 009F
        gbc.setState(0xad83, 0xe16e, 0xff20, 0xc165, 0x45f1, 0x79b4, 0x1, 0x1);
        gbc.writeMem(0xad83, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xe16e);
        EXPECT(gbc.pc(), 0xad84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad83), 0x3c);
        // 3C 00A0
        gbc.setState(0xdd90, 0xe08a, 0x6c70, 0xe329, 0x60cf, 0x129e, 0x1, 0x1);
        gbc.writeMem(0xdd90, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xe08a);
        EXPECT(gbc.pc(), 0xdd91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd90), 0x3c);
        // 3C 00A1
        gbc.setState(0x18f8, 0x614a, 0xa2e0, 0x15bc, 0xea07, 0xfa0b, 0x1, 0x0);
        gbc.writeMem(0x18f8, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x614a);
        EXPECT(gbc.pc(), 0x18f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00A2
        gbc.setState(0xc21c, 0x67fa, 0x5270, 0x4ad1, 0x6bb3, 0x521e, 0x1, 0x0);
        gbc.writeMem(0xc21c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x67fa);
        EXPECT(gbc.pc(), 0xc21d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc21c), 0x3c);
        // 3C 00A3
        gbc.setState(0x30d1, 0x45fa, 0x80f0, 0x722d, 0xd0ef, 0xe9df, 0x1, 0x1);
        gbc.writeMem(0x30d1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x45fa);
        EXPECT(gbc.pc(), 0x30d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00A4
        gbc.setState(0x81ae, 0xa2b6, 0x20c0, 0x3c25, 0xa498, 0x46db, 0x1, 0x1);
        gbc.writeMem(0x81ae, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xa2b6);
        EXPECT(gbc.pc(), 0x81af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81ae), 0x3c);
        // 3C 00A5
        gbc.setState(0x5449, 0x7d54, 0xd590, 0x8bda, 0x6e02, 0x89f1, 0x1, 0x0);
        gbc.writeMem(0x5449, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x7d54);
        EXPECT(gbc.pc(), 0x544a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00A6
        gbc.setState(0xca8f, 0x3703, 0xbd50, 0xd794, 0xd6c5, 0xa496, 0x0, 0x1);
        gbc.writeMem(0xca8f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3703);
        EXPECT(gbc.pc(), 0xca90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca8f), 0x3c);
        // 3C 00A7
        gbc.setState(0x8c4d, 0x97e8, 0x9e20, 0xb17d, 0x25f4, 0x59e5, 0x0, 0x0);
        gbc.writeMem(0x8c4d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x97e8);
        EXPECT(gbc.pc(), 0x8c4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c4d), 0x3c);
        // 3C 00A8
        gbc.setState(0xca09, 0x9ec6, 0x5ab0, 0xd2a8, 0x709f, 0xa394, 0x0, 0x1);
        gbc.writeMem(0xca09, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x9ec6);
        EXPECT(gbc.pc(), 0xca0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca09), 0x3c);
        // 3C 00A9
        gbc.setState(0x6d20, 0xc2c3, 0xab40, 0x810e, 0x5ef6, 0x5bd3, 0x1, 0x1);
        gbc.writeMem(0x6d20, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xc2c3);
        EXPECT(gbc.pc(), 0x6d21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00AA
        gbc.setState(0x5444, 0xbc4c, 0x86d0, 0x3b7, 0x2551, 0xb846, 0x1, 0x0);
        gbc.writeMem(0x5444, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xbc4c);
        EXPECT(gbc.pc(), 0x5445);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00AB
        gbc.setState(0x61, 0x7c81, 0x5380, 0xbfae, 0x213c, 0x47be, 0x1, 0x1);
        gbc.writeMem(0x61, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x7c81);
        EXPECT(gbc.pc(), 0x62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00AC
        gbc.setState(0x7e96, 0x70c4, 0x6d00, 0x19d0, 0x8799, 0x85c, 0x0, 0x0);
        gbc.writeMem(0x7e96, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x70c4);
        EXPECT(gbc.pc(), 0x7e97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00AD
        gbc.setState(0xc9ff, 0xf349, 0xdfc0, 0x1c77, 0x156b, 0x61c5, 0x1, 0x0);
        gbc.writeMem(0xc9ff, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xf349);
        EXPECT(gbc.pc(), 0xca00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9ff), 0x3c);
        // 3C 00AE
        gbc.setState(0xefd9, 0xba79, 0xafe0, 0x167, 0x5fc1, 0x9e2d, 0x0, 0x1);
        gbc.writeMem(0xefd9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xba79);
        EXPECT(gbc.pc(), 0xefda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefd9), 0x3c);
        // 3C 00AF
        gbc.setState(0x51b4, 0x6ed5, 0x5f80, 0xb1f5, 0x5b5e, 0x3d7b, 0x0, 0x1);
        gbc.writeMem(0x51b4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x6ed5);
        EXPECT(gbc.pc(), 0x51b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 00B0
        gbc.setState(0x9689, 0x52a5, 0x36b0, 0xfb82, 0x9d4b, 0xd0dc, 0x0, 0x0);
        gbc.writeMem(0x9689, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x52a5);
        EXPECT(gbc.pc(), 0x968a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9689), 0x3c);
        // 3C 00B1
        gbc.setState(0x944a, 0xa640, 0xcf40, 0x88f7, 0x22f, 0x9022, 0x1, 0x0);
        gbc.writeMem(0x944a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xa640);
        EXPECT(gbc.pc(), 0x944b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x944a), 0x3c);
        // 3C 00B2
        gbc.setState(0x63bc, 0x3dcc, 0x5d30, 0xd744, 0xfd70, 0xb3c6, 0x0, 0x0);
        gbc.writeMem(0x63bc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x3dcc);
        EXPECT(gbc.pc(), 0x63bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00B3
        gbc.setState(0xe8d0, 0x1663, 0xae50, 0x2554, 0xc667, 0xc01c, 0x1, 0x0);
        gbc.writeMem(0xe8d0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x1663);
        EXPECT(gbc.pc(), 0xe8d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8d0), 0x3c);
        // 3C 00B4
        gbc.setState(0xdfb2, 0x5784, 0xf5c0, 0x797d, 0xda6c, 0xb5e2, 0x1, 0x1);
        gbc.writeMem(0xdfb2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x5784);
        EXPECT(gbc.pc(), 0xdfb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfb2), 0x3c);
        // 3C 00B5
        gbc.setState(0x4264, 0x8aac, 0x1580, 0x4338, 0xa28e, 0xb63b, 0x1, 0x0);
        gbc.writeMem(0x4264, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8aac);
        EXPECT(gbc.pc(), 0x4265);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00B6
        gbc.setState(0x65c3, 0x5242, 0x9dd0, 0x8e79, 0x928c, 0x8bcf, 0x1, 0x0);
        gbc.writeMem(0x65c3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x5242);
        EXPECT(gbc.pc(), 0x65c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00B7
        gbc.setState(0x77e0, 0xc9f1, 0x6f50, 0x10b3, 0x1cb7, 0x4f8f, 0x1, 0x1);
        gbc.writeMem(0x77e0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xc9f1);
        EXPECT(gbc.pc(), 0x77e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 00B8
        gbc.setState(0xc96a, 0xb6f, 0xe180, 0x4fcb, 0xdde8, 0xc096, 0x1, 0x0);
        gbc.writeMem(0xc96a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xb6f);
        EXPECT(gbc.pc(), 0xc96b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc96a), 0x3c);
        // 3C 00B9
        gbc.setState(0xc3d9, 0xae67, 0xd40, 0x4317, 0xb7ff, 0x8b34, 0x0, 0x1);
        gbc.writeMem(0xc3d9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xae67);
        EXPECT(gbc.pc(), 0xc3da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3d9), 0x3c);
        // 3C 00BA
        gbc.setState(0x17c3, 0x61c9, 0x1160, 0xddea, 0x58c2, 0x5302, 0x0, 0x0);
        gbc.writeMem(0x17c3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x61c9);
        EXPECT(gbc.pc(), 0x17c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00BB
        gbc.setState(0xc4c8, 0x1957, 0x2130, 0xd751, 0xda50, 0x3d76, 0x0, 0x1);
        gbc.writeMem(0xc4c8, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x1957);
        EXPECT(gbc.pc(), 0xc4c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4c8), 0x3c);
        // 3C 00BC
        gbc.setState(0x32b3, 0x3934, 0x6da0, 0xb42a, 0xa8c9, 0x64e7, 0x1, 0x0);
        gbc.writeMem(0x32b3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x3934);
        EXPECT(gbc.pc(), 0x32b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00BD
        gbc.setState(0xa022, 0xad0b, 0x5110, 0x1d8f, 0xcdbc, 0x424b, 0x1, 0x1);
        gbc.writeMem(0xa022, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xad0b);
        EXPECT(gbc.pc(), 0xa023);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa022), 0x3c);
        // 3C 00BE
        gbc.setState(0xbef6, 0x37bb, 0x4110, 0x945f, 0xb3fc, 0xf695, 0x1, 0x1);
        gbc.writeMem(0xbef6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x37bb);
        EXPECT(gbc.pc(), 0xbef7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbef6), 0x3c);
        // 3C 00BF
        gbc.setState(0x217d, 0x2c23, 0xf2a0, 0x68a1, 0xa28b, 0x465d, 0x0, 0x1);
        gbc.writeMem(0x217d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x2c23);
        EXPECT(gbc.pc(), 0x217e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00C0
        gbc.setState(0x9e98, 0x918b, 0x4490, 0xc480, 0x104a, 0x24e, 0x1, 0x1);
        gbc.writeMem(0x9e98, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x918b);
        EXPECT(gbc.pc(), 0x9e99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e98), 0x3c);
        // 3C 00C1
        gbc.setState(0x2325, 0x6d14, 0xc90, 0x8e89, 0xd170, 0x7d0c, 0x1, 0x0);
        gbc.writeMem(0x2325, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x6d14);
        EXPECT(gbc.pc(), 0x2326);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00C3
        gbc.setState(0x968b, 0x9640, 0xc290, 0x4d85, 0x9356, 0x1c4e, 0x1, 0x0);
        gbc.writeMem(0x968b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x9640);
        EXPECT(gbc.pc(), 0x968c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x968b), 0x3c);
        // 3C 00C4
        gbc.setState(0x9b6f, 0x360c, 0x5120, 0xdffc, 0x4f87, 0x69d3, 0x0, 0x1);
        gbc.writeMem(0x9b6f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x360c);
        EXPECT(gbc.pc(), 0x9b70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b6f), 0x3c);
        // 3C 00C6
        gbc.setState(0xd1f3, 0xedf, 0xde50, 0x1213, 0x24dd, 0xe9b4, 0x0, 0x1);
        gbc.writeMem(0xd1f3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xedf);
        EXPECT(gbc.pc(), 0xd1f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1f3), 0x3c);
        // 3C 00C7
        gbc.setState(0x17eb, 0x34ce, 0x6b10, 0xd7e6, 0xf744, 0x787b, 0x1, 0x1);
        gbc.writeMem(0x17eb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x34ce);
        EXPECT(gbc.pc(), 0x17ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00C9
        gbc.setState(0xaf17, 0x2b91, 0x6690, 0x6209, 0x4e2, 0x3455, 0x1, 0x1);
        gbc.writeMem(0xaf17, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x2b91);
        EXPECT(gbc.pc(), 0xaf18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf17), 0x3c);
        // 3C 00CA
        gbc.setState(0xebc9, 0xfeab, 0x3200, 0x5639, 0x4c4f, 0x73a5, 0x1, 0x1);
        gbc.writeMem(0xebc9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xfeab);
        EXPECT(gbc.pc(), 0xebca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebc9), 0x3c);
        // 3C 00CB
        gbc.setState(0x6e07, 0xbb1c, 0xf470, 0xee22, 0xbfcd, 0x120d, 0x0, 0x0);
        gbc.writeMem(0x6e07, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xbb1c);
        EXPECT(gbc.pc(), 0x6e08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00CC
        gbc.setState(0x4600, 0xef35, 0x59d0, 0x383c, 0x658c, 0x496f, 0x1, 0x0);
        gbc.writeMem(0x4600, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xef35);
        EXPECT(gbc.pc(), 0x4601);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00CD
        gbc.setState(0x939c, 0x44ed, 0x6900, 0x9f21, 0x139b, 0xc4cf, 0x1, 0x1);
        gbc.writeMem(0x939c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x44ed);
        EXPECT(gbc.pc(), 0x939d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x939c), 0x3c);
        // 3C 00CE
        gbc.setState(0x6898, 0x595d, 0x7ad0, 0xb669, 0x26fb, 0xb92e, 0x1, 0x1);
        gbc.writeMem(0x6898, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x595d);
        EXPECT(gbc.pc(), 0x6899);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00CF
        gbc.setState(0xdfeb, 0xedac, 0xb200, 0x3b36, 0x3d77, 0xed07, 0x1, 0x1);
        gbc.writeMem(0xdfeb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xedac);
        EXPECT(gbc.pc(), 0xdfec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfeb), 0x3c);
        // 3C 00D0
        gbc.setState(0xb6a6, 0xf8db, 0x9ba0, 0x953d, 0x6e2a, 0xe9c7, 0x0, 0x0);
        gbc.writeMem(0xb6a6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xf8db);
        EXPECT(gbc.pc(), 0xb6a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6a6), 0x3c);
        // 3C 00D2
        gbc.setState(0x6b30, 0xa6f, 0x73b0, 0x1b0f, 0xb95f, 0x135c, 0x0, 0x1);
        gbc.writeMem(0x6b30, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xa6f);
        EXPECT(gbc.pc(), 0x6b31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00D3
        gbc.setState(0xaa8b, 0x1b9b, 0xd110, 0x3b5f, 0x5c8e, 0x2ed6, 0x0, 0x1);
        gbc.writeMem(0xaa8b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x1b9b);
        EXPECT(gbc.pc(), 0xaa8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa8b), 0x3c);
        // 3C 00D4
        gbc.setState(0xc6f1, 0x9bef, 0xe720, 0x3b02, 0x2ac1, 0xf0cd, 0x1, 0x0);
        gbc.writeMem(0xc6f1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x9bef);
        EXPECT(gbc.pc(), 0xc6f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6f1), 0x3c);
        // 3C 00D6
        gbc.setState(0xcfe8, 0xa5fe, 0xa060, 0x76da, 0x800b, 0x8574, 0x1, 0x1);
        gbc.writeMem(0xcfe8, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xa5fe);
        EXPECT(gbc.pc(), 0xcfe9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfe8), 0x3c);
        // 3C 00D7
        gbc.setState(0x3035, 0x107b, 0xdf30, 0xf7dd, 0x91bd, 0xf256, 0x1, 0x1);
        gbc.writeMem(0x3035, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x107b);
        EXPECT(gbc.pc(), 0x3036);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 00D8
        gbc.setState(0xdc24, 0xcc96, 0xc1f0, 0xdd7e, 0x7ff5, 0x744a, 0x0, 0x0);
        gbc.writeMem(0xdc24, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xcc96);
        EXPECT(gbc.pc(), 0xdc25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc24), 0x3c);
        // 3C 00D9
        gbc.setState(0xa5c6, 0xe502, 0xd630, 0x3cd, 0xd875, 0x7b6d, 0x0, 0x0);
        gbc.writeMem(0xa5c6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xe502);
        EXPECT(gbc.pc(), 0xa5c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5c6), 0x3c);
        // 3C 00DA
        gbc.setState(0xa46e, 0x80cc, 0x8420, 0x18ac, 0xf88d, 0xb579, 0x0, 0x0);
        gbc.writeMem(0xa46e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x80cc);
        EXPECT(gbc.pc(), 0xa46f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa46e), 0x3c);
        // 3C 00DB
        gbc.setState(0x3486, 0x9101, 0x8c00, 0xea7a, 0x6048, 0x281a, 0x0, 0x1);
        gbc.writeMem(0x3486, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x9101);
        EXPECT(gbc.pc(), 0x3487);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00DC
        gbc.setState(0x755, 0x5ef7, 0xf030, 0xa333, 0xddd5, 0x498a, 0x0, 0x0);
        gbc.writeMem(0x755, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x5ef7);
        EXPECT(gbc.pc(), 0x756);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00DD
        gbc.setState(0xdbd0, 0xeafa, 0xd1a0, 0x4dc, 0x891b, 0x22b2, 0x0, 0x0);
        gbc.writeMem(0xdbd0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xeafa);
        EXPECT(gbc.pc(), 0xdbd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbd0), 0x3c);
        // 3C 00DE
        gbc.setState(0xbd12, 0xaf81, 0x3650, 0x3a39, 0xfd10, 0x80f2, 0x0, 0x0);
        gbc.writeMem(0xbd12, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xaf81);
        EXPECT(gbc.pc(), 0xbd13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd12), 0x3c);
        // 3C 00DF
        gbc.setState(0xcb71, 0x4687, 0xf110, 0x670a, 0x516f, 0xd7ce, 0x0, 0x1);
        gbc.writeMem(0xcb71, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x4687);
        EXPECT(gbc.pc(), 0xcb72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb71), 0x3c);
        // 3C 00E0
        gbc.setState(0x1992, 0x2232, 0x5da0, 0x5c0a, 0x1717, 0xb464, 0x0, 0x1);
        gbc.writeMem(0x1992, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x2232);
        EXPECT(gbc.pc(), 0x1993);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00E1
        gbc.setState(0xd1b5, 0x9cf4, 0x7d10, 0xe016, 0xa7da, 0x4013, 0x0, 0x1);
        gbc.writeMem(0xd1b5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x9cf4);
        EXPECT(gbc.pc(), 0xd1b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1b5), 0x3c);
        // 3C 00E2
        gbc.setState(0x6dae, 0x104b, 0x6400, 0x7ed7, 0xf0bd, 0x1d23, 0x1, 0x1);
        gbc.writeMem(0x6dae, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x104b);
        EXPECT(gbc.pc(), 0x6daf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00E3
        gbc.setState(0xc44c, 0xd3a7, 0x630, 0x6256, 0xf7fc, 0xb9cc, 0x1, 0x0);
        gbc.writeMem(0xc44c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xd3a7);
        EXPECT(gbc.pc(), 0xc44d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc44c), 0x3c);
        // 3C 00E4
        gbc.setState(0x6fa9, 0x2ea, 0x9cb0, 0x7257, 0xc91c, 0x3e79, 0x0, 0x0);
        gbc.writeMem(0x6fa9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x2ea);
        EXPECT(gbc.pc(), 0x6faa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00E5
        gbc.setState(0xe6a2, 0x5c25, 0x520, 0x2d0, 0x499d, 0x1184, 0x0, 0x1);
        gbc.writeMem(0xe6a2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x5c25);
        EXPECT(gbc.pc(), 0xe6a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6a2), 0x3c);
        // 3C 00E6
        gbc.setState(0x3aa7, 0xdf43, 0xd6a0, 0x5e1, 0xa350, 0x309b, 0x1, 0x0);
        gbc.writeMem(0x3aa7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xdf43);
        EXPECT(gbc.pc(), 0x3aa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00E7
        gbc.setState(0x5f39, 0x7090, 0x7140, 0x79f7, 0x4f7c, 0xffa0, 0x0, 0x0);
        gbc.writeMem(0x5f39, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x7090);
        EXPECT(gbc.pc(), 0x5f3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00E8
        gbc.setState(0x772e, 0x75b9, 0xfb30, 0x94b, 0xd80a, 0x5ca6, 0x1, 0x0);
        gbc.writeMem(0x772e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x75b9);
        EXPECT(gbc.pc(), 0x772f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00EB
        gbc.setState(0x2b58, 0xa9ea, 0x49c0, 0xb243, 0x7260, 0xccd3, 0x0, 0x0);
        gbc.writeMem(0x2b58, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xa9ea);
        EXPECT(gbc.pc(), 0x2b59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00EC
        gbc.setState(0x6283, 0x2265, 0xd20, 0x86fe, 0xfa60, 0x62e2, 0x0, 0x1);
        gbc.writeMem(0x6283, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x2265);
        EXPECT(gbc.pc(), 0x6284);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00ED
        gbc.setState(0x2134, 0x3a75, 0xb800, 0x2187, 0x7502, 0x5343, 0x1, 0x1);
        gbc.writeMem(0x2134, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x3a75);
        EXPECT(gbc.pc(), 0x2135);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00EE
        gbc.setState(0x1514, 0x6b35, 0xdce0, 0x6b6d, 0x5cc9, 0xb3f1, 0x0, 0x1);
        gbc.writeMem(0x1514, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x6b35);
        EXPECT(gbc.pc(), 0x1515);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00EF
        gbc.setState(0xb4cf, 0xdbff, 0x5b10, 0xe3e6, 0x2b4e, 0xae11, 0x0, 0x0);
        gbc.writeMem(0xb4cf, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xdbff);
        EXPECT(gbc.pc(), 0xb4d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4cf), 0x3c);
        // 3C 00F0
        gbc.setState(0xb2e7, 0xe60e, 0x2df0, 0xf97a, 0xe79d, 0x6935, 0x0, 0x0);
        gbc.writeMem(0xb2e7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xe60e);
        EXPECT(gbc.pc(), 0xb2e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2e7), 0x3c);
        // 3C 00F1
        gbc.setState(0x587f, 0x782e, 0xe4e0, 0x2b11, 0x9cf2, 0xd5b1, 0x1, 0x0);
        gbc.writeMem(0x587f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x782e);
        EXPECT(gbc.pc(), 0x5880);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00F2
        gbc.setState(0x12f, 0xba7f, 0x8ee0, 0x1e7f, 0xf10, 0x1cad, 0x1, 0x0);
        gbc.writeMem(0x12f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xba7f);
        EXPECT(gbc.pc(), 0x130);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00F3
        gbc.setState(0x3ee3, 0x1519, 0x2590, 0xcd8e, 0xd76c, 0x6db, 0x0, 0x0);
        gbc.writeMem(0x3ee3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x1519);
        EXPECT(gbc.pc(), 0x3ee4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00F4
        gbc.setState(0xc50c, 0xbd43, 0x45e0, 0x7e16, 0x3dbe, 0x56fa, 0x1, 0x1);
        gbc.writeMem(0xc50c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xbd43);
        EXPECT(gbc.pc(), 0xc50d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc50c), 0x3c);
        // 3C 00F5
        gbc.setState(0xddd7, 0xcefd, 0xa0c0, 0x46d0, 0xec71, 0xd7a8, 0x0, 0x0);
        gbc.writeMem(0xddd7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xcefd);
        EXPECT(gbc.pc(), 0xddd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddd7), 0x3c);
        // 3C 00F6
        gbc.setState(0xc2eb, 0x3a0d, 0x56c0, 0x534f, 0x18dc, 0x5b9a, 0x1, 0x1);
        gbc.writeMem(0xc2eb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x3a0d);
        EXPECT(gbc.pc(), 0xc2ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2eb), 0x3c);
        // 3C 00F7
        gbc.setState(0x3bd5, 0x1879, 0xb6d0, 0x6a5e, 0xbe5a, 0x3e36, 0x1, 0x1);
        gbc.writeMem(0x3bd5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x1879);
        EXPECT(gbc.pc(), 0x3bd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00F8
        gbc.setState(0x4b8a, 0xc7f8, 0x5c30, 0x7158, 0x7193, 0x43ef, 0x1, 0x0);
        gbc.writeMem(0x4b8a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xc7f8);
        EXPECT(gbc.pc(), 0x4b8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00F9
        gbc.setState(0x4c7e, 0x9be9, 0xee00, 0x9f32, 0x8f0b, 0x4b23, 0x1, 0x0);
        gbc.writeMem(0x4c7e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x9be9);
        EXPECT(gbc.pc(), 0x4c7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00FA
        gbc.setState(0x2245, 0xb93e, 0x4ff0, 0xec20, 0x8920, 0xf4f8, 0x1, 0x0);
        gbc.writeMem(0x2245, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xb93e);
        EXPECT(gbc.pc(), 0x2246);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 00FB
        gbc.setState(0x206d, 0xed5f, 0x92e0, 0xe42e, 0x62f3, 0xa0e2, 0x1, 0x0);
        gbc.writeMem(0x206d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xed5f);
        EXPECT(gbc.pc(), 0x206e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00FC
        gbc.setState(0x5e43, 0x411c, 0x32d0, 0x46b4, 0xd7b2, 0x4df8, 0x1, 0x0);
        gbc.writeMem(0x5e43, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x411c);
        EXPECT(gbc.pc(), 0x5e44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 00FD
        gbc.setState(0xecea, 0x7b3e, 0x7640, 0x65b1, 0x3fdd, 0x2431, 0x1, 0x1);
        gbc.writeMem(0xecea, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x7b3e);
        EXPECT(gbc.pc(), 0xeceb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecea), 0x3c);
        // 3C 00FE
        gbc.setState(0x2842, 0x3803, 0xe700, 0x51fa, 0xe1ad, 0x6a39, 0x0, 0x1);
        gbc.writeMem(0x2842, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x3803);
        EXPECT(gbc.pc(), 0x2843);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 00FF
        gbc.setState(0x947e, 0xf83c, 0xf130, 0x1984, 0x8fac, 0x44d6, 0x1, 0x0);
        gbc.writeMem(0x947e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xf83c);
        EXPECT(gbc.pc(), 0x947f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x947e), 0x3c);
        // 3C 0100
        gbc.setState(0xaf6a, 0xf766, 0x8bf0, 0x387e, 0x5388, 0x81e1, 0x0, 0x0);
        gbc.writeMem(0xaf6a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf766);
        EXPECT(gbc.pc(), 0xaf6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf6a), 0x3c);
        // 3C 0101
        gbc.setState(0xcb3, 0xf0e4, 0xd200, 0xb286, 0xb0ca, 0x39fe, 0x1, 0x1);
        gbc.writeMem(0xcb3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xf0e4);
        EXPECT(gbc.pc(), 0xcb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0102
        gbc.setState(0x9d77, 0x8a43, 0x77e0, 0xa177, 0x186f, 0x1758, 0x0, 0x0);
        gbc.writeMem(0x9d77, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x8a43);
        EXPECT(gbc.pc(), 0x9d78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d77), 0x3c);
        // 3C 0103
        gbc.setState(0x5134, 0xd9e5, 0xf7d0, 0x260c, 0x9f25, 0x2ffc, 0x1, 0x1);
        gbc.writeMem(0x5134, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xd9e5);
        EXPECT(gbc.pc(), 0x5135);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0104
        gbc.setState(0x4d23, 0xef31, 0xd8c0, 0x7d6e, 0xeaca, 0x4d7b, 0x1, 0x1);
        gbc.writeMem(0x4d23, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xef31);
        EXPECT(gbc.pc(), 0x4d24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0106
        gbc.setState(0xdad6, 0x9ce4, 0xad00, 0xf58b, 0xfc5d, 0xf877, 0x1, 0x0);
        gbc.writeMem(0xdad6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x9ce4);
        EXPECT(gbc.pc(), 0xdad7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdad6), 0x3c);
        // 3C 0107
        gbc.setState(0x4583, 0xd905, 0xa8b0, 0x51d8, 0x96ae, 0xd54d, 0x0, 0x1);
        gbc.writeMem(0x4583, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xd905);
        EXPECT(gbc.pc(), 0x4584);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0108
        gbc.setState(0x9e84, 0xd8dd, 0x2610, 0x6f4a, 0x9a46, 0xbafd, 0x1, 0x1);
        gbc.writeMem(0x9e84, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xd8dd);
        EXPECT(gbc.pc(), 0x9e85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e84), 0x3c);
        // 3C 0109
        gbc.setState(0xa8f9, 0x7efc, 0x1ed0, 0x323f, 0xee95, 0xd21c, 0x1, 0x1);
        gbc.writeMem(0xa8f9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x7efc);
        EXPECT(gbc.pc(), 0xa8fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8f9), 0x3c);
        // 3C 010A
        gbc.setState(0xbb18, 0x1e09, 0x2370, 0x5c29, 0xb4d5, 0xc43e, 0x0, 0x1);
        gbc.writeMem(0xbb18, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x1e09);
        EXPECT(gbc.pc(), 0xbb19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb18), 0x3c);
        // 3C 010B
        gbc.setState(0x97a8, 0x7f27, 0x2820, 0x9fd1, 0x51b, 0xb4ad, 0x1, 0x0);
        gbc.writeMem(0x97a8, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x7f27);
        EXPECT(gbc.pc(), 0x97a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97a8), 0x3c);
        // 3C 010C
        gbc.setState(0xead3, 0xcca, 0x27e0, 0xf1bd, 0x8df9, 0x547a, 0x1, 0x0);
        gbc.writeMem(0xead3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xcca);
        EXPECT(gbc.pc(), 0xead4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xead3), 0x3c);
        // 3C 010D
        gbc.setState(0x10d4, 0x2974, 0xcb60, 0xb8a9, 0x5890, 0x7e42, 0x0, 0x0);
        gbc.writeMem(0x10d4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x2974);
        EXPECT(gbc.pc(), 0x10d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 010E
        gbc.setState(0x74df, 0xcecb, 0x6330, 0x6050, 0xa02b, 0x6178, 0x1, 0x1);
        gbc.writeMem(0x74df, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xcecb);
        EXPECT(gbc.pc(), 0x74e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 010F
        gbc.setState(0x76dc, 0xf1ec, 0xac0, 0x9209, 0xe938, 0x6dc1, 0x1, 0x1);
        gbc.writeMem(0x76dc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xf1ec);
        EXPECT(gbc.pc(), 0x76dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0110
        gbc.setState(0x3ba1, 0x8f86, 0xa250, 0x624, 0xe1b0, 0x8ed3, 0x1, 0x1);
        gbc.writeMem(0x3ba1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x8f86);
        EXPECT(gbc.pc(), 0x3ba2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0111
        gbc.setState(0x5df6, 0xc20b, 0xc170, 0x3747, 0xb257, 0x2ff9, 0x0, 0x0);
        gbc.writeMem(0x5df6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xc20b);
        EXPECT(gbc.pc(), 0x5df7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0112
        gbc.setState(0xccc5, 0x181, 0x2030, 0xbc95, 0xfadf, 0x40b9, 0x1, 0x1);
        gbc.writeMem(0xccc5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x181);
        EXPECT(gbc.pc(), 0xccc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccc5), 0x3c);
        // 3C 0113
        gbc.setState(0x3fc0, 0xde1f, 0xace0, 0x2af5, 0x37a8, 0x1ac9, 0x1, 0x1);
        gbc.writeMem(0x3fc0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xde1f);
        EXPECT(gbc.pc(), 0x3fc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0114
        gbc.setState(0xd21c, 0x533b, 0x6de0, 0xe513, 0x6cde, 0xdb81, 0x1, 0x0);
        gbc.writeMem(0xd21c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x533b);
        EXPECT(gbc.pc(), 0xd21d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd21c), 0x3c);
        // 3C 0115
        gbc.setState(0x3ec9, 0xe3d7, 0xa010, 0xa5e4, 0x3ab2, 0x15c6, 0x0, 0x0);
        gbc.writeMem(0x3ec9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xe3d7);
        EXPECT(gbc.pc(), 0x3eca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0117
        gbc.setState(0x87cf, 0x73f4, 0x3420, 0x280b, 0x125f, 0x3f29, 0x1, 0x0);
        gbc.writeMem(0x87cf, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x73f4);
        EXPECT(gbc.pc(), 0x87d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87cf), 0x3c);
        // 3C 0118
        gbc.setState(0x49b5, 0x4a3, 0xb2b0, 0x74c9, 0x732f, 0x6dda, 0x0, 0x1);
        gbc.writeMem(0x49b5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x4a3);
        EXPECT(gbc.pc(), 0x49b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0119
        gbc.setState(0x7e0d, 0xf188, 0xf780, 0x3cad, 0xda5, 0x8c18, 0x1, 0x0);
        gbc.writeMem(0x7e0d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xf188);
        EXPECT(gbc.pc(), 0x7e0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 011A
        gbc.setState(0x6c48, 0x6636, 0xcd10, 0x99ae, 0x9891, 0xe671, 0x1, 0x1);
        gbc.writeMem(0x6c48, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x6636);
        EXPECT(gbc.pc(), 0x6c49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 011B
        gbc.setState(0xbb89, 0x5dc1, 0x38e0, 0x6680, 0x5ff8, 0x8290, 0x1, 0x0);
        gbc.writeMem(0xbb89, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x5dc1);
        EXPECT(gbc.pc(), 0xbb8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb89), 0x3c);
        // 3C 011C
        gbc.setState(0xce30, 0x4696, 0x53c0, 0xdc35, 0x324, 0xc846, 0x1, 0x0);
        gbc.writeMem(0xce30, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4696);
        EXPECT(gbc.pc(), 0xce31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce30), 0x3c);
        // 3C 011D
        gbc.setState(0x7a67, 0x18d7, 0x1570, 0xcf4a, 0x6fa5, 0x3a0c, 0x1, 0x1);
        gbc.writeMem(0x7a67, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x18d7);
        EXPECT(gbc.pc(), 0x7a68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 011E
        gbc.setState(0x5584, 0x5a0b, 0xd4a0, 0xdfab, 0xeb9d, 0xbe06, 0x1, 0x1);
        gbc.writeMem(0x5584, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x5a0b);
        EXPECT(gbc.pc(), 0x5585);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 011F
        gbc.setState(0x9192, 0xe3a9, 0xf300, 0x36bf, 0x6be, 0xb817, 0x0, 0x1);
        gbc.writeMem(0x9192, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xe3a9);
        EXPECT(gbc.pc(), 0x9193);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9192), 0x3c);
        // 3C 0120
        gbc.setState(0x306f, 0x3220, 0x5d40, 0xcdf2, 0x9da4, 0x76fc, 0x0, 0x1);
        gbc.writeMem(0x306f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x3220);
        EXPECT(gbc.pc(), 0x3070);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0121
        gbc.setState(0xcb3b, 0xe68e, 0x91c0, 0x91b9, 0xfd94, 0xc305, 0x0, 0x0);
        gbc.writeMem(0xcb3b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xe68e);
        EXPECT(gbc.pc(), 0xcb3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb3b), 0x3c);
        // 3C 0122
        gbc.setState(0x8530, 0xd6cd, 0xd1a0, 0xeb20, 0x6691, 0x4c22, 0x1, 0x0);
        gbc.writeMem(0x8530, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xd6cd);
        EXPECT(gbc.pc(), 0x8531);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8530), 0x3c);
        // 3C 0123
        gbc.setState(0x92b0, 0x905f, 0x1800, 0x9966, 0xc7d0, 0x44ee, 0x0, 0x0);
        gbc.writeMem(0x92b0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x905f);
        EXPECT(gbc.pc(), 0x92b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92b0), 0x3c);
        // 3C 0124
        gbc.setState(0x1005, 0xb171, 0xd340, 0xba76, 0xe4e2, 0x1640, 0x1, 0x1);
        gbc.writeMem(0x1005, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xb171);
        EXPECT(gbc.pc(), 0x1006);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0125
        gbc.setState(0x1bf8, 0xf0b8, 0xef20, 0x606d, 0x511d, 0x2610, 0x1, 0x1);
        gbc.writeMem(0x1bf8, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xf0b8);
        EXPECT(gbc.pc(), 0x1bf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 0126
        gbc.setState(0x6e2d, 0xc326, 0xa5e0, 0x1d30, 0xd682, 0x8c73, 0x1, 0x0);
        gbc.writeMem(0x6e2d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xc326);
        EXPECT(gbc.pc(), 0x6e2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0127
        gbc.setState(0xe9c1, 0x77c7, 0x7c60, 0x7188, 0xf47b, 0x1052, 0x0, 0x0);
        gbc.writeMem(0xe9c1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x77c7);
        EXPECT(gbc.pc(), 0xe9c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9c1), 0x3c);
        // 3C 0128
        gbc.setState(0x4df8, 0xfc0a, 0x4050, 0xde1, 0x2485, 0x6524, 0x0, 0x0);
        gbc.writeMem(0x4df8, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xfc0a);
        EXPECT(gbc.pc(), 0x4df9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0129
        gbc.setState(0xca18, 0x9931, 0x7f90, 0x8fde, 0xd8bc, 0xed1f, 0x1, 0x0);
        gbc.writeMem(0xca18, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x9931);
        EXPECT(gbc.pc(), 0xca19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca18), 0x3c);
        // 3C 012A
        gbc.setState(0x81e6, 0x7ceb, 0xe010, 0x969a, 0x8e2a, 0x6b1b, 0x1, 0x0);
        gbc.writeMem(0x81e6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x7ceb);
        EXPECT(gbc.pc(), 0x81e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81e6), 0x3c);
        // 3C 012B
        gbc.setState(0xa16d, 0x2b95, 0x27d0, 0x2266, 0xff58, 0x660b, 0x0, 0x1);
        gbc.writeMem(0xa16d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x2b95);
        EXPECT(gbc.pc(), 0xa16e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa16d), 0x3c);
        // 3C 012C
        gbc.setState(0xcdfa, 0xd035, 0x7e50, 0x5c75, 0x4c43, 0x8e6c, 0x1, 0x0);
        gbc.writeMem(0xcdfa, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xd035);
        EXPECT(gbc.pc(), 0xcdfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdfa), 0x3c);
        // 3C 012D
        gbc.setState(0xca71, 0xdbd0, 0x240, 0x821a, 0x3182, 0x72f1, 0x0, 0x1);
        gbc.writeMem(0xca71, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xdbd0);
        EXPECT(gbc.pc(), 0xca72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca71), 0x3c);
        // 3C 012E
        gbc.setState(0xd5be, 0x5145, 0xb290, 0x242f, 0x6d09, 0xacb, 0x0, 0x1);
        gbc.writeMem(0xd5be, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x5145);
        EXPECT(gbc.pc(), 0xd5bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5be), 0x3c);
        // 3C 012F
        gbc.setState(0x991c, 0xaa08, 0x7560, 0x7e65, 0x2d79, 0xacfb, 0x0, 0x0);
        gbc.writeMem(0x991c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xaa08);
        EXPECT(gbc.pc(), 0x991d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x991c), 0x3c);
        // 3C 0130
        gbc.setState(0x6e73, 0xfd8, 0xf800, 0x8823, 0x7a99, 0x358, 0x1, 0x0);
        gbc.writeMem(0x6e73, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xfd8);
        EXPECT(gbc.pc(), 0x6e74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0131
        gbc.setState(0xd937, 0x4ec7, 0x40c0, 0xed57, 0x1e1e, 0x900b, 0x0, 0x0);
        gbc.writeMem(0xd937, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x4ec7);
        EXPECT(gbc.pc(), 0xd938);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd937), 0x3c);
        // 3C 0132
        gbc.setState(0x37b4, 0x50b, 0x4970, 0xcebc, 0xe9b2, 0xed60, 0x1, 0x0);
        gbc.writeMem(0x37b4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x50b);
        EXPECT(gbc.pc(), 0x37b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0133
        gbc.setState(0x965e, 0x417f, 0x1140, 0x972c, 0xc851, 0x41d2, 0x1, 0x0);
        gbc.writeMem(0x965e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x417f);
        EXPECT(gbc.pc(), 0x965f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x965e), 0x3c);
        // 3C 0134
        gbc.setState(0x482a, 0x3b71, 0xe590, 0x8583, 0x315c, 0xf58d, 0x0, 0x1);
        gbc.writeMem(0x482a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x3b71);
        EXPECT(gbc.pc(), 0x482b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0135
        gbc.setState(0xb50, 0xe7b2, 0x55e0, 0x2351, 0xbcf4, 0x8e82, 0x0, 0x1);
        gbc.writeMem(0xb50, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xe7b2);
        EXPECT(gbc.pc(), 0xb51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0136
        gbc.setState(0xb6b2, 0x92c6, 0x75b0, 0x2c78, 0xb4d0, 0x520e, 0x1, 0x0);
        gbc.writeMem(0xb6b2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x92c6);
        EXPECT(gbc.pc(), 0xb6b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6b2), 0x3c);
        // 3C 0137
        gbc.setState(0x8208, 0xf57a, 0xda0, 0xb0cb, 0x112a, 0xaac, 0x1, 0x1);
        gbc.writeMem(0x8208, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf57a);
        EXPECT(gbc.pc(), 0x8209);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8208), 0x3c);
        // 3C 0138
        gbc.setState(0x6c17, 0x7830, 0x8100, 0x7304, 0xab4a, 0x57ec, 0x0, 0x1);
        gbc.writeMem(0x6c17, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x7830);
        EXPECT(gbc.pc(), 0x6c18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 013A
        gbc.setState(0x9799, 0x6209, 0x28d0, 0x708f, 0xd979, 0x6fdc, 0x1, 0x0);
        gbc.writeMem(0x9799, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x6209);
        EXPECT(gbc.pc(), 0x979a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9799), 0x3c);
        // 3C 013B
        gbc.setState(0x3cff, 0x96fa, 0x8d90, 0xbd16, 0xea58, 0xa70f, 0x1, 0x1);
        gbc.writeMem(0x3cff, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x96fa);
        EXPECT(gbc.pc(), 0x3d00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 013C
        gbc.setState(0x47c4, 0xdae2, 0x3610, 0x2f95, 0x7afc, 0xf9d3, 0x0, 0x0);
        gbc.writeMem(0x47c4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xdae2);
        EXPECT(gbc.pc(), 0x47c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 013D
        gbc.setState(0x10ad, 0x279d, 0xbe20, 0x5efc, 0xf55d, 0x7a79, 0x0, 0x0);
        gbc.writeMem(0x10ad, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x279d);
        EXPECT(gbc.pc(), 0x10ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 013E
        gbc.setState(0x2631, 0x7717, 0x7ed0, 0xfb9d, 0xa55d, 0x6b27, 0x1, 0x1);
        gbc.writeMem(0x2631, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x7717);
        EXPECT(gbc.pc(), 0x2632);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 013F
        gbc.setState(0x9208, 0xb5b1, 0xdd20, 0x83e7, 0xf105, 0xf5dc, 0x1, 0x1);
        gbc.writeMem(0x9208, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xb5b1);
        EXPECT(gbc.pc(), 0x9209);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9208), 0x3c);
        // 3C 0140
        gbc.setState(0x4c9b, 0xf0a0, 0xeec0, 0xa83a, 0x24d9, 0xdd9c, 0x1, 0x0);
        gbc.writeMem(0x4c9b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xf0a0);
        EXPECT(gbc.pc(), 0x4c9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0141
        gbc.setState(0xd47a, 0x3cbd, 0x2cf0, 0xd56c, 0x63b, 0xf3f8, 0x1, 0x1);
        gbc.writeMem(0xd47a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x3cbd);
        EXPECT(gbc.pc(), 0xd47b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd47a), 0x3c);
        // 3C 0142
        gbc.setState(0x2fcf, 0x4fdf, 0xf510, 0xb171, 0x2e2b, 0x9824, 0x1, 0x0);
        gbc.writeMem(0x2fcf, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x4fdf);
        EXPECT(gbc.pc(), 0x2fd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0143
        gbc.setState(0x8d08, 0xfc3f, 0x9430, 0xbb33, 0x8246, 0x311d, 0x1, 0x0);
        gbc.writeMem(0x8d08, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xfc3f);
        EXPECT(gbc.pc(), 0x8d09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d08), 0x3c);
        // 3C 0144
        gbc.setState(0x275e, 0x6639, 0xc490, 0xf1ae, 0x5d85, 0xe30, 0x0, 0x0);
        gbc.writeMem(0x275e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x6639);
        EXPECT(gbc.pc(), 0x275f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0145
        gbc.setState(0x83fb, 0xc072, 0x1a10, 0xfb67, 0x70bc, 0x6f26, 0x0, 0x1);
        gbc.writeMem(0x83fb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xc072);
        EXPECT(gbc.pc(), 0x83fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83fb), 0x3c);
        // 3C 0147
        gbc.setState(0x3ff2, 0x1080, 0x7930, 0x7017, 0x1d24, 0xa343, 0x0, 0x0);
        gbc.writeMem(0x3ff2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x1080);
        EXPECT(gbc.pc(), 0x3ff3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0148
        gbc.setState(0x8e30, 0x2f27, 0x9f20, 0x47ed, 0x4561, 0x47fd, 0x1, 0x1);
        gbc.writeMem(0x8e30, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x2f27);
        EXPECT(gbc.pc(), 0x8e31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e30), 0x3c);
        // 3C 0149
        gbc.setState(0x9743, 0x96cd, 0x3010, 0x14d4, 0xe260, 0x4b18, 0x0, 0x0);
        gbc.writeMem(0x9743, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x96cd);
        EXPECT(gbc.pc(), 0x9744);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9743), 0x3c);
        // 3C 014A
        gbc.setState(0x7d8c, 0x617c, 0xe690, 0x20c9, 0x3e5a, 0x5132, 0x0, 0x1);
        gbc.writeMem(0x7d8c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x617c);
        EXPECT(gbc.pc(), 0x7d8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 014B
        gbc.setState(0x2d69, 0xc605, 0x88c0, 0x1618, 0x50fd, 0xc620, 0x0, 0x1);
        gbc.writeMem(0x2d69, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xc605);
        EXPECT(gbc.pc(), 0x2d6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 014C
        gbc.setState(0xe798, 0xe7d2, 0x9610, 0x4347, 0x61f7, 0x27de, 0x1, 0x0);
        gbc.writeMem(0xe798, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xe7d2);
        EXPECT(gbc.pc(), 0xe799);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe798), 0x3c);
        // 3C 014D
        gbc.setState(0xe52f, 0x9fb1, 0xcfd0, 0x796b, 0x74e9, 0x75fb, 0x1, 0x0);
        gbc.writeMem(0xe52f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x9fb1);
        EXPECT(gbc.pc(), 0xe530);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe52f), 0x3c);
        // 3C 014F
        gbc.setState(0x9c92, 0xfdb8, 0x7690, 0x585, 0x1304, 0xf918, 0x1, 0x1);
        gbc.writeMem(0x9c92, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xfdb8);
        EXPECT(gbc.pc(), 0x9c93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c92), 0x3c);
        // 3C 0150
        gbc.setState(0x8eef, 0x682c, 0x3b0, 0x7c49, 0x2d3d, 0xbe81, 0x0, 0x1);
        gbc.writeMem(0x8eef, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x682c);
        EXPECT(gbc.pc(), 0x8ef0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8eef), 0x3c);
        // 3C 0151
        gbc.setState(0x9267, 0xfe43, 0xfa20, 0x299e, 0x1f29, 0x9435, 0x0, 0x0);
        gbc.writeMem(0x9267, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xfe43);
        EXPECT(gbc.pc(), 0x9268);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9267), 0x3c);
        // 3C 0152
        gbc.setState(0x441c, 0xe4fc, 0xd040, 0x4dff, 0xd01d, 0xefaf, 0x0, 0x0);
        gbc.writeMem(0x441c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xe4fc);
        EXPECT(gbc.pc(), 0x441d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0153
        gbc.setState(0x481a, 0x73e3, 0x7d00, 0x3942, 0x2590, 0x4d59, 0x1, 0x0);
        gbc.writeMem(0x481a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x73e3);
        EXPECT(gbc.pc(), 0x481b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0154
        gbc.setState(0x5051, 0xa51c, 0xb210, 0x27a2, 0xa295, 0x349c, 0x1, 0x0);
        gbc.writeMem(0x5051, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xa51c);
        EXPECT(gbc.pc(), 0x5052);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0155
        gbc.setState(0x599e, 0xbb7, 0xa3b0, 0x6457, 0xa69c, 0xe067, 0x0, 0x1);
        gbc.writeMem(0x599e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xbb7);
        EXPECT(gbc.pc(), 0x599f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0156
        gbc.setState(0xd856, 0x345e, 0xab20, 0x4df7, 0xdfcd, 0x4800, 0x0, 0x0);
        gbc.writeMem(0xd856, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x345e);
        EXPECT(gbc.pc(), 0xd857);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd856), 0x3c);
        // 3C 0158
        gbc.setState(0xbb66, 0xe6b5, 0x7c00, 0xa55f, 0x87c1, 0xad10, 0x0, 0x0);
        gbc.writeMem(0xbb66, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xe6b5);
        EXPECT(gbc.pc(), 0xbb67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb66), 0x3c);
        // 3C 0159
        gbc.setState(0xcdf4, 0x19ed, 0x6a40, 0x568c, 0xa93a, 0x1043, 0x1, 0x1);
        gbc.writeMem(0xcdf4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x19ed);
        EXPECT(gbc.pc(), 0xcdf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdf4), 0x3c);
        // 3C 015A
        gbc.setState(0x9411, 0xa191, 0x68d0, 0xfdac, 0x6946, 0xa8c4, 0x0, 0x0);
        gbc.writeMem(0x9411, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xa191);
        EXPECT(gbc.pc(), 0x9412);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9411), 0x3c);
        // 3C 015B
        gbc.setState(0x706f, 0x38e1, 0x9e40, 0xe0e0, 0x95be, 0xfa80, 0x0, 0x0);
        gbc.writeMem(0x706f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x38e1);
        EXPECT(gbc.pc(), 0x7070);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 015C
        gbc.setState(0x1bd6, 0x1866, 0x7210, 0x5c80, 0x7e5a, 0x7d30, 0x0, 0x1);
        gbc.writeMem(0x1bd6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x1866);
        EXPECT(gbc.pc(), 0x1bd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 015D
        gbc.setState(0xd864, 0xf58e, 0x28f0, 0x4143, 0x7837, 0x6152, 0x1, 0x0);
        gbc.writeMem(0xd864, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xf58e);
        EXPECT(gbc.pc(), 0xd865);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd864), 0x3c);
        // 3C 015E
        gbc.setState(0x2a2f, 0xa117, 0xf630, 0x441a, 0xb15d, 0xe2ed, 0x0, 0x0);
        gbc.writeMem(0x2a2f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xa117);
        EXPECT(gbc.pc(), 0x2a30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 015F
        gbc.setState(0xd2e3, 0xd2d6, 0xf310, 0x6210, 0xb678, 0xd7d5, 0x0, 0x1);
        gbc.writeMem(0xd2e3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xd2d6);
        EXPECT(gbc.pc(), 0xd2e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2e3), 0x3c);
        // 3C 0160
        gbc.setState(0xa7b4, 0xde53, 0xd7b0, 0xe0bd, 0xc7ed, 0xa6c3, 0x0, 0x1);
        gbc.writeMem(0xa7b4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xde53);
        EXPECT(gbc.pc(), 0xa7b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7b4), 0x3c);
        // 3C 0161
        gbc.setState(0x8b1, 0x7c4a, 0x5870, 0x3e0f, 0x4b26, 0x4bc5, 0x1, 0x0);
        gbc.writeMem(0x8b1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x7c4a);
        EXPECT(gbc.pc(), 0x8b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0162
        gbc.setState(0xa4e7, 0x5e97, 0x78b0, 0xb4a, 0xf97f, 0xbfac, 0x0, 0x1);
        gbc.writeMem(0xa4e7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x5e97);
        EXPECT(gbc.pc(), 0xa4e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4e7), 0x3c);
        // 3C 0163
        gbc.setState(0x3cf4, 0xd491, 0x1a0, 0x2a0a, 0x1409, 0x1db, 0x0, 0x0);
        gbc.writeMem(0x3cf4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xd491);
        EXPECT(gbc.pc(), 0x3cf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0164
        gbc.setState(0xd891, 0xd070, 0x6200, 0x26b, 0x29b5, 0xf56e, 0x1, 0x1);
        gbc.writeMem(0xd891, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xd070);
        EXPECT(gbc.pc(), 0xd892);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd891), 0x3c);
        // 3C 0165
        gbc.setState(0xc476, 0x1a01, 0x6a60, 0xa7b7, 0x868f, 0xe742, 0x1, 0x0);
        gbc.writeMem(0xc476, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x1a01);
        EXPECT(gbc.pc(), 0xc477);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc476), 0x3c);
        // 3C 0166
        gbc.setState(0x5a30, 0xbbb1, 0x7d60, 0x3708, 0xaa82, 0x4d22, 0x1, 0x0);
        gbc.writeMem(0x5a30, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xbbb1);
        EXPECT(gbc.pc(), 0x5a31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0167
        gbc.setState(0x6552, 0x8df6, 0xff70, 0xd153, 0x80df, 0xff46, 0x1, 0x0);
        gbc.writeMem(0x6552, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x8df6);
        EXPECT(gbc.pc(), 0x6553);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 0168
        gbc.setState(0x6627, 0xde0c, 0x690, 0x57f1, 0xf8bf, 0xe3be, 0x1, 0x0);
        gbc.writeMem(0x6627, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xde0c);
        EXPECT(gbc.pc(), 0x6628);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 016A
        gbc.setState(0x3923, 0x5b38, 0xef60, 0x4286, 0xfb39, 0x736b, 0x0, 0x1);
        gbc.writeMem(0x3923, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x5b38);
        EXPECT(gbc.pc(), 0x3924);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 016B
        gbc.setState(0x4c1d, 0xbd1e, 0x5350, 0x20b6, 0xac5d, 0xa2a6, 0x1, 0x1);
        gbc.writeMem(0x4c1d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xbd1e);
        EXPECT(gbc.pc(), 0x4c1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 016C
        gbc.setState(0xac9c, 0xca42, 0xde60, 0x4eeb, 0x1b0, 0x37a, 0x0, 0x0);
        gbc.writeMem(0xac9c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xca42);
        EXPECT(gbc.pc(), 0xac9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac9c), 0x3c);
        // 3C 016D
        gbc.setState(0xeef4, 0xb2f4, 0x3860, 0x617b, 0x84bb, 0xe76f, 0x0, 0x1);
        gbc.writeMem(0xeef4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xb2f4);
        EXPECT(gbc.pc(), 0xeef5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeef4), 0x3c);
        // 3C 016E
        gbc.setState(0x5988, 0x96e2, 0x3190, 0xa5d0, 0xd441, 0x278c, 0x0, 0x0);
        gbc.writeMem(0x5988, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x96e2);
        EXPECT(gbc.pc(), 0x5989);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 016F
        gbc.setState(0xce12, 0x1df9, 0x5d90, 0xa020, 0xcf7, 0x50c, 0x0, 0x1);
        gbc.writeMem(0xce12, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x1df9);
        EXPECT(gbc.pc(), 0xce13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce12), 0x3c);
        // 3C 0170
        gbc.setState(0xe955, 0x86f9, 0xdd40, 0x6a79, 0x1108, 0x495b, 0x0, 0x1);
        gbc.writeMem(0xe955, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x86f9);
        EXPECT(gbc.pc(), 0xe956);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe955), 0x3c);
        // 3C 0171
        gbc.setState(0xac74, 0x37f2, 0xcf60, 0x4de4, 0x639c, 0x7603, 0x0, 0x1);
        gbc.writeMem(0xac74, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x37f2);
        EXPECT(gbc.pc(), 0xac75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac74), 0x3c);
        // 3C 0172
        gbc.setState(0xa42d, 0x3667, 0x1b60, 0xbc78, 0xb047, 0x13c7, 0x1, 0x0);
        gbc.writeMem(0xa42d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x3667);
        EXPECT(gbc.pc(), 0xa42e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa42d), 0x3c);
        // 3C 0174
        gbc.setState(0x6194, 0x3a12, 0xd960, 0x107, 0xe7f8, 0xbe81, 0x1, 0x0);
        gbc.writeMem(0x6194, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x3a12);
        EXPECT(gbc.pc(), 0x6195);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0175
        gbc.setState(0x11e5, 0xe500, 0x35a0, 0xe099, 0xad09, 0x5edc, 0x1, 0x1);
        gbc.writeMem(0x11e5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xe500);
        EXPECT(gbc.pc(), 0x11e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0176
        gbc.setState(0x21ae, 0x168e, 0x1cf0, 0x49c1, 0xea7d, 0xb9ae, 0x1, 0x1);
        gbc.writeMem(0x21ae, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x168e);
        EXPECT(gbc.pc(), 0x21af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0177
        gbc.setState(0x9809, 0x1e9a, 0x1360, 0x4d59, 0xcb1a, 0x5146, 0x1, 0x0);
        gbc.writeMem(0x9809, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x1e9a);
        EXPECT(gbc.pc(), 0x980a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9809), 0x3c);
        // 3C 0178
        gbc.setState(0x5d1a, 0xb66c, 0xab80, 0x9ea6, 0xd69f, 0x5be1, 0x1, 0x0);
        gbc.writeMem(0x5d1a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xb66c);
        EXPECT(gbc.pc(), 0x5d1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 017B
        gbc.setState(0x9b14, 0x58cf, 0xbf90, 0x226c, 0xab16, 0xb9df, 0x0, 0x0);
        gbc.writeMem(0x9b14, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x58cf);
        EXPECT(gbc.pc(), 0x9b15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b14), 0x3c);
        // 3C 017C
        gbc.setState(0x7dfb, 0xcf0e, 0x6fe0, 0x7acc, 0xf292, 0x9208, 0x0, 0x0);
        gbc.writeMem(0x7dfb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xcf0e);
        EXPECT(gbc.pc(), 0x7dfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 017D
        gbc.setState(0x27ab, 0xb467, 0x9620, 0xe306, 0x8cad, 0xbc34, 0x1, 0x1);
        gbc.writeMem(0x27ab, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xb467);
        EXPECT(gbc.pc(), 0x27ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 017E
        gbc.setState(0x31be, 0x9685, 0x7b70, 0xcd97, 0x5f66, 0x41c7, 0x0, 0x0);
        gbc.writeMem(0x31be, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x9685);
        EXPECT(gbc.pc(), 0x31bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 017F
        gbc.setState(0xa315, 0x93d4, 0xa040, 0xcf1e, 0xee71, 0xf6f2, 0x1, 0x1);
        gbc.writeMem(0xa315, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x93d4);
        EXPECT(gbc.pc(), 0xa316);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa315), 0x3c);
        // 3C 0180
        gbc.setState(0x4fc7, 0xc6d7, 0x9210, 0x21ed, 0x67f6, 0xa917, 0x0, 0x0);
        gbc.writeMem(0x4fc7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xc6d7);
        EXPECT(gbc.pc(), 0x4fc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0181
        gbc.setState(0xa92d, 0x70a4, 0xbe40, 0x3c4c, 0xefc7, 0xb9c8, 0x0, 0x0);
        gbc.writeMem(0xa92d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x70a4);
        EXPECT(gbc.pc(), 0xa92e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa92d), 0x3c);
        // 3C 0182
        gbc.setState(0x7514, 0xa89e, 0xf110, 0x8c46, 0x1ba3, 0x657d, 0x1, 0x0);
        gbc.writeMem(0x7514, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xa89e);
        EXPECT(gbc.pc(), 0x7515);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0183
        gbc.setState(0x73f8, 0x2ee4, 0x7dc0, 0x5401, 0xace6, 0x2fad, 0x1, 0x1);
        gbc.writeMem(0x73f8, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x2ee4);
        EXPECT(gbc.pc(), 0x73f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0184
        gbc.setState(0xc6e1, 0xfe76, 0x8c90, 0x8c19, 0x6988, 0x7756, 0x1, 0x0);
        gbc.writeMem(0xc6e1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xfe76);
        EXPECT(gbc.pc(), 0xc6e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6e1), 0x3c);
        // 3C 0185
        gbc.setState(0xdc03, 0x5e75, 0x4380, 0x875a, 0xe305, 0x2d6b, 0x0, 0x0);
        gbc.writeMem(0xdc03, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x5e75);
        EXPECT(gbc.pc(), 0xdc04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc03), 0x3c);
        // 3C 0186
        gbc.setState(0x952d, 0x93c7, 0x2710, 0x576e, 0x352, 0xbc7a, 0x1, 0x0);
        gbc.writeMem(0x952d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x93c7);
        EXPECT(gbc.pc(), 0x952e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x952d), 0x3c);
        // 3C 0187
        gbc.setState(0x7719, 0x70b3, 0xfe50, 0xf483, 0xe1d3, 0x6d54, 0x1, 0x0);
        gbc.writeMem(0x7719, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x70b3);
        EXPECT(gbc.pc(), 0x771a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0188
        gbc.setState(0x2d77, 0xad60, 0x1da0, 0xc1aa, 0x8faa, 0x73d8, 0x1, 0x1);
        gbc.writeMem(0x2d77, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xad60);
        EXPECT(gbc.pc(), 0x2d78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0189
        gbc.setState(0xcbf8, 0x6ae4, 0xc9b0, 0x72ca, 0x53cc, 0x5dd1, 0x0, 0x1);
        gbc.writeMem(0xcbf8, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x6ae4);
        EXPECT(gbc.pc(), 0xcbf9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbf8), 0x3c);
        // 3C 018A
        gbc.setState(0xe1bc, 0x2be6, 0xf3c0, 0xaaf5, 0x27f1, 0xc8c4, 0x1, 0x1);
        gbc.writeMem(0xe1bc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x2be6);
        EXPECT(gbc.pc(), 0xe1bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1bc), 0x3c);
        // 3C 018B
        gbc.setState(0x223c, 0xcf57, 0x9a40, 0x2201, 0x63c7, 0x72a8, 0x1, 0x1);
        gbc.writeMem(0x223c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xcf57);
        EXPECT(gbc.pc(), 0x223d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 018C
        gbc.setState(0x2a99, 0xc59c, 0x5c0, 0xec69, 0xc913, 0xf701, 0x1, 0x0);
        gbc.writeMem(0x2a99, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xc59c);
        EXPECT(gbc.pc(), 0x2a9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 018D
        gbc.setState(0xbef4, 0x1b7b, 0xaaf0, 0x4911, 0x2947, 0x82f2, 0x1, 0x0);
        gbc.writeMem(0xbef4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x1b7b);
        EXPECT(gbc.pc(), 0xbef5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbef4), 0x3c);
        // 3C 018E
        gbc.setState(0x143a, 0x5833, 0xde70, 0x7566, 0xd8d9, 0xdd38, 0x0, 0x0);
        gbc.writeMem(0x143a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x5833);
        EXPECT(gbc.pc(), 0x143b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 018F
        gbc.setState(0x907b, 0x9666, 0x4da0, 0x318, 0x984e, 0x35b3, 0x0, 0x1);
        gbc.writeMem(0x907b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x9666);
        EXPECT(gbc.pc(), 0x907c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x907b), 0x3c);
        // 3C 0190
        gbc.setState(0x6d25, 0x70c4, 0x7470, 0xe19b, 0xfea6, 0x22a, 0x0, 0x0);
        gbc.writeMem(0x6d25, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x70c4);
        EXPECT(gbc.pc(), 0x6d26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0191
        gbc.setState(0x2ade, 0x1120, 0x34d0, 0xf939, 0x9ebe, 0xa6ad, 0x0, 0x1);
        gbc.writeMem(0x2ade, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x1120);
        EXPECT(gbc.pc(), 0x2adf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0192
        gbc.setState(0xc698, 0x6208, 0x12c0, 0xfc23, 0x9631, 0xb31, 0x0, 0x0);
        gbc.writeMem(0xc698, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x6208);
        EXPECT(gbc.pc(), 0xc699);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc698), 0x3c);
        // 3C 0193
        gbc.setState(0xe495, 0xa2c1, 0xcd20, 0xb912, 0xfef2, 0x5fdf, 0x0, 0x1);
        gbc.writeMem(0xe495, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xa2c1);
        EXPECT(gbc.pc(), 0xe496);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe495), 0x3c);
        // 3C 0194
        gbc.setState(0x4c3c, 0xcfa4, 0x8640, 0x95da, 0x60b7, 0x340e, 0x0, 0x1);
        gbc.writeMem(0x4c3c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xcfa4);
        EXPECT(gbc.pc(), 0x4c3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0195
        gbc.setState(0x5c2f, 0x6baa, 0x6d40, 0x5e41, 0xdca5, 0x2ec1, 0x0, 0x1);
        gbc.writeMem(0x5c2f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x6baa);
        EXPECT(gbc.pc(), 0x5c30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0197
        gbc.setState(0x5a02, 0xb97e, 0x3060, 0xef91, 0x2ed0, 0x59af, 0x0, 0x0);
        gbc.writeMem(0x5a02, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xb97e);
        EXPECT(gbc.pc(), 0x5a03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0198
        gbc.setState(0x2f3a, 0x6a26, 0x31e0, 0x4f5, 0xea3f, 0x1eaa, 0x1, 0x1);
        gbc.writeMem(0x2f3a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x6a26);
        EXPECT(gbc.pc(), 0x2f3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0199
        gbc.setState(0xd4cd, 0x9a02, 0xd920, 0xc873, 0x26d8, 0x2dae, 0x0, 0x1);
        gbc.writeMem(0xd4cd, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x9a02);
        EXPECT(gbc.pc(), 0xd4ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4cd), 0x3c);
        // 3C 019A
        gbc.setState(0xbb54, 0x2af8, 0x2c50, 0x6a09, 0x59f8, 0x8c51, 0x1, 0x0);
        gbc.writeMem(0xbb54, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2af8);
        EXPECT(gbc.pc(), 0xbb55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb54), 0x3c);
        // 3C 019B
        gbc.setState(0x4db8, 0xc65e, 0x5220, 0x21f2, 0xeb79, 0x9717, 0x0, 0x0);
        gbc.writeMem(0x4db8, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xc65e);
        EXPECT(gbc.pc(), 0x4db9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 019C
        gbc.setState(0x8a00, 0x90f, 0xbf30, 0x54d6, 0x213, 0x8a86, 0x1, 0x0);
        gbc.writeMem(0x8a00, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x90f);
        EXPECT(gbc.pc(), 0x8a01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a00), 0x3c);
        // 3C 019D
        gbc.setState(0xe9cb, 0x7e2, 0xfc80, 0x6ba9, 0x16ea, 0xbd96, 0x0, 0x1);
        gbc.writeMem(0xe9cb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x7e2);
        EXPECT(gbc.pc(), 0xe9cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9cb), 0x3c);
        // 3C 019E
        gbc.setState(0x395f, 0xbf9, 0x89f0, 0xc428, 0x166, 0xe155, 0x0, 0x0);
        gbc.writeMem(0x395f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xbf9);
        EXPECT(gbc.pc(), 0x3960);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 019F
        gbc.setState(0x1866, 0x1585, 0x5f60, 0xd583, 0xa91b, 0x94e6, 0x1, 0x1);
        gbc.writeMem(0x1866, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x1585);
        EXPECT(gbc.pc(), 0x1867);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 01A0
        gbc.setState(0x4c81, 0x6f79, 0xb0, 0xe3cd, 0xc831, 0xd50d, 0x0, 0x1);
        gbc.writeMem(0x4c81, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6f79);
        EXPECT(gbc.pc(), 0x4c82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01A1
        gbc.setState(0x9e92, 0x4911, 0xf130, 0x69cd, 0x6963, 0x991d, 0x1, 0x0);
        gbc.writeMem(0x9e92, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x4911);
        EXPECT(gbc.pc(), 0x9e93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e92), 0x3c);
        // 3C 01A2
        gbc.setState(0x6b0e, 0x3786, 0x2950, 0xa544, 0xc5c1, 0x6297, 0x1, 0x0);
        gbc.writeMem(0x6b0e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x3786);
        EXPECT(gbc.pc(), 0x6b0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01A3
        gbc.setState(0x9f4c, 0xab5, 0x24d0, 0xca2d, 0x7de9, 0x88ab, 0x1, 0x1);
        gbc.writeMem(0x9f4c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xab5);
        EXPECT(gbc.pc(), 0x9f4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f4c), 0x3c);
        // 3C 01A4
        gbc.setState(0xe33e, 0x2883, 0xca30, 0x307a, 0x95d2, 0x5971, 0x0, 0x1);
        gbc.writeMem(0xe33e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x2883);
        EXPECT(gbc.pc(), 0xe33f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe33e), 0x3c);
        // 3C 01A5
        gbc.setState(0x6f82, 0xb813, 0x6a80, 0x6c7, 0x7ea9, 0xf674, 0x1, 0x1);
        gbc.writeMem(0x6f82, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xb813);
        EXPECT(gbc.pc(), 0x6f83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01A6
        gbc.setState(0x3aad, 0x3053, 0xa450, 0x5959, 0xc007, 0x792a, 0x1, 0x1);
        gbc.writeMem(0x3aad, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x3053);
        EXPECT(gbc.pc(), 0x3aae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01A7
        gbc.setState(0x4d84, 0xec8c, 0xc180, 0x28fd, 0xeb98, 0xfce5, 0x0, 0x1);
        gbc.writeMem(0x4d84, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xec8c);
        EXPECT(gbc.pc(), 0x4d85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01A8
        gbc.setState(0xc639, 0x14b6, 0x7250, 0x3b0f, 0x7253, 0x41db, 0x1, 0x0);
        gbc.writeMem(0xc639, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x14b6);
        EXPECT(gbc.pc(), 0xc63a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc639), 0x3c);
        // 3C 01A9
        gbc.setState(0x7e5b, 0x30e2, 0xc0c0, 0x9020, 0x90f9, 0x4b0c, 0x0, 0x1);
        gbc.writeMem(0x7e5b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x30e2);
        EXPECT(gbc.pc(), 0x7e5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01AA
        gbc.setState(0x8b1, 0x8eab, 0xe200, 0xcbe7, 0x6f17, 0xc041, 0x1, 0x0);
        gbc.writeMem(0x8b1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x8eab);
        EXPECT(gbc.pc(), 0x8b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01AB
        gbc.setState(0xa1a4, 0x96cd, 0xf970, 0x7bf7, 0x72a8, 0x4cb1, 0x1, 0x1);
        gbc.writeMem(0xa1a4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x96cd);
        EXPECT(gbc.pc(), 0xa1a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1a4), 0x3c);
        // 3C 01AC
        gbc.setState(0x1016, 0x4b8d, 0xba30, 0xa46e, 0x32e2, 0xc209, 0x0, 0x0);
        gbc.writeMem(0x1016, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x4b8d);
        EXPECT(gbc.pc(), 0x1017);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01AD
        gbc.setState(0x24eb, 0x18a7, 0x32f0, 0x6c35, 0xc403, 0x5a12, 0x1, 0x1);
        gbc.writeMem(0x24eb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x18a7);
        EXPECT(gbc.pc(), 0x24ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01AE
        gbc.setState(0x1d3, 0x6263, 0x4b20, 0xd7ab, 0xc429, 0xd16, 0x1, 0x0);
        gbc.writeMem(0x1d3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x6263);
        EXPECT(gbc.pc(), 0x1d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01AF
        gbc.setState(0xc35c, 0xb59e, 0xfb0, 0x9f90, 0xc96f, 0x85ea, 0x0, 0x0);
        gbc.writeMem(0xc35c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xb59e);
        EXPECT(gbc.pc(), 0xc35d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc35c), 0x3c);
        // 3C 01B0
        gbc.setState(0xbe59, 0x748, 0xd8a0, 0x16e5, 0xfb56, 0x766e, 0x0, 0x1);
        gbc.writeMem(0xbe59, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x748);
        EXPECT(gbc.pc(), 0xbe5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe59), 0x3c);
        // 3C 01B1
        gbc.setState(0x85f, 0x2c41, 0xa950, 0xfe54, 0xb7ef, 0xf0ca, 0x0, 0x0);
        gbc.writeMem(0x85f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x2c41);
        EXPECT(gbc.pc(), 0x860);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01B2
        gbc.setState(0x2491, 0x6436, 0x89a0, 0x45ef, 0x8391, 0xd3ea, 0x1, 0x1);
        gbc.writeMem(0x2491, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x6436);
        EXPECT(gbc.pc(), 0x2492);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01B3
        gbc.setState(0xec00, 0xcaaa, 0x7e70, 0x895a, 0x1b36, 0x3c4a, 0x0, 0x1);
        gbc.writeMem(0xec00, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xcaaa);
        EXPECT(gbc.pc(), 0xec01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec00), 0x3c);
        // 3C 01B4
        gbc.setState(0x48e9, 0x3985, 0xc680, 0x5662, 0x3701, 0x30f, 0x1, 0x0);
        gbc.writeMem(0x48e9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x3985);
        EXPECT(gbc.pc(), 0x48ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01B5
        gbc.setState(0x9e96, 0xf6e9, 0x7490, 0xa034, 0x41a5, 0xb0b5, 0x0, 0x0);
        gbc.writeMem(0x9e96, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xf6e9);
        EXPECT(gbc.pc(), 0x9e97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e96), 0x3c);
        // 3C 01B6
        gbc.setState(0x2c72, 0xc675, 0x3190, 0x1d2d, 0xc877, 0xa3a, 0x1, 0x0);
        gbc.writeMem(0x2c72, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xc675);
        EXPECT(gbc.pc(), 0x2c73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01B7
        gbc.setState(0x51a7, 0x9976, 0xa810, 0xa447, 0xa7a7, 0xeafe, 0x0, 0x0);
        gbc.writeMem(0x51a7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x9976);
        EXPECT(gbc.pc(), 0x51a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01B8
        gbc.setState(0xe345, 0x7cdf, 0x6460, 0x9485, 0x7683, 0x20b1, 0x0, 0x1);
        gbc.writeMem(0xe345, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x7cdf);
        EXPECT(gbc.pc(), 0xe346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe345), 0x3c);
        // 3C 01B9
        gbc.setState(0x1435, 0x579e, 0xb3a0, 0x74f7, 0x129b, 0x4679, 0x0, 0x0);
        gbc.writeMem(0x1435, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x579e);
        EXPECT(gbc.pc(), 0x1436);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01BA
        gbc.setState(0x7c35, 0x530e, 0x13b0, 0x31b1, 0x892a, 0x5675, 0x0, 0x0);
        gbc.writeMem(0x7c35, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x530e);
        EXPECT(gbc.pc(), 0x7c36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01BB
        gbc.setState(0x5fd5, 0x4e17, 0xe960, 0xf309, 0x75e1, 0x3fa6, 0x0, 0x0);
        gbc.writeMem(0x5fd5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x4e17);
        EXPECT(gbc.pc(), 0x5fd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01BC
        gbc.setState(0xcf7b, 0xc6e1, 0x8d60, 0x9cca, 0x2778, 0x8170, 0x1, 0x1);
        gbc.writeMem(0xcf7b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xc6e1);
        EXPECT(gbc.pc(), 0xcf7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf7b), 0x3c);
        // 3C 01BD
        gbc.setState(0x7fb9, 0x1832, 0x47a0, 0xd546, 0x28db, 0x6ed7, 0x0, 0x1);
        gbc.writeMem(0x7fb9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x1832);
        EXPECT(gbc.pc(), 0x7fba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01BE
        gbc.setState(0x834c, 0x9dd3, 0x48b0, 0xab3, 0xdf7a, 0xaa86, 0x0, 0x1);
        gbc.writeMem(0x834c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x9dd3);
        EXPECT(gbc.pc(), 0x834d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x834c), 0x3c);
        // 3C 01BF
        gbc.setState(0x7bc7, 0x9859, 0xa670, 0x8514, 0xa776, 0xebd8, 0x1, 0x0);
        gbc.writeMem(0x7bc7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x9859);
        EXPECT(gbc.pc(), 0x7bc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01C0
        gbc.setState(0xd793, 0x89a1, 0xabe0, 0xa5ed, 0xd905, 0x6c72, 0x1, 0x0);
        gbc.writeMem(0xd793, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x89a1);
        EXPECT(gbc.pc(), 0xd794);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd793), 0x3c);
        // 3C 01C1
        gbc.setState(0xba0b, 0xbc68, 0x170, 0x33f6, 0xe98, 0xb3a3, 0x1, 0x1);
        gbc.writeMem(0xba0b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xbc68);
        EXPECT(gbc.pc(), 0xba0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba0b), 0x3c);
        // 3C 01C2
        gbc.setState(0x22d1, 0xc23c, 0x3090, 0x2ca9, 0x5649, 0x99be, 0x1, 0x1);
        gbc.writeMem(0x22d1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xc23c);
        EXPECT(gbc.pc(), 0x22d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01C3
        gbc.setState(0x4b8c, 0xe7e, 0xd1e0, 0x6744, 0xeff3, 0x4321, 0x0, 0x1);
        gbc.writeMem(0x4b8c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xe7e);
        EXPECT(gbc.pc(), 0x4b8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01C4
        gbc.setState(0x8ad5, 0x3bf1, 0x7060, 0x642c, 0xc999, 0x2726, 0x0, 0x1);
        gbc.writeMem(0x8ad5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x3bf1);
        EXPECT(gbc.pc(), 0x8ad6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ad5), 0x3c);
        // 3C 01C5
        gbc.setState(0xb0cb, 0x54ee, 0x45e0, 0x6199, 0x475b, 0xe271, 0x1, 0x0);
        gbc.writeMem(0xb0cb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x54ee);
        EXPECT(gbc.pc(), 0xb0cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0cb), 0x3c);
        // 3C 01C7
        gbc.setState(0x1bf, 0xf5d8, 0xdeb0, 0x375b, 0x9624, 0x7d7b, 0x1, 0x0);
        gbc.writeMem(0x1bf, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xf5d8);
        EXPECT(gbc.pc(), 0x1c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01C8
        gbc.setState(0x26c7, 0xf705, 0xfb20, 0x68a4, 0x3b95, 0xca5a, 0x0, 0x1);
        gbc.writeMem(0x26c7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xf705);
        EXPECT(gbc.pc(), 0x26c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01C9
        gbc.setState(0x69ae, 0xc641, 0xffb0, 0xe1bd, 0x65b, 0xdee4, 0x1, 0x0);
        gbc.writeMem(0x69ae, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xc641);
        EXPECT(gbc.pc(), 0x69af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 01CA
        gbc.setState(0x7542, 0xf605, 0x80, 0xf358, 0xd563, 0x1c3c, 0x1, 0x1);
        gbc.writeMem(0x7542, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xf605);
        EXPECT(gbc.pc(), 0x7543);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01CC
        gbc.setState(0xc10, 0xa660, 0x1820, 0x3de5, 0xe53f, 0xff4f, 0x1, 0x1);
        gbc.writeMem(0xc10, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xa660);
        EXPECT(gbc.pc(), 0xc11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01CD
        gbc.setState(0xb29d, 0xf161, 0x1ac0, 0xd85c, 0xcea6, 0x81ae, 0x0, 0x0);
        gbc.writeMem(0xb29d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xf161);
        EXPECT(gbc.pc(), 0xb29e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb29d), 0x3c);
        // 3C 01CE
        gbc.setState(0x8318, 0xf5f3, 0x3950, 0x8da0, 0xbdac, 0xe5c9, 0x0, 0x1);
        gbc.writeMem(0x8318, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xf5f3);
        EXPECT(gbc.pc(), 0x8319);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8318), 0x3c);
        // 3C 01CF
        gbc.setState(0x7941, 0xa05e, 0x6030, 0x964, 0x75fc, 0x3a02, 0x0, 0x1);
        gbc.writeMem(0x7941, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xa05e);
        EXPECT(gbc.pc(), 0x7942);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01D0
        gbc.setState(0x3e73, 0x6ba9, 0x5ee0, 0xcbb3, 0xf0b0, 0x65a0, 0x0, 0x1);
        gbc.writeMem(0x3e73, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x6ba9);
        EXPECT(gbc.pc(), 0x3e74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01D1
        gbc.setState(0x4c2f, 0xea28, 0xb820, 0x9655, 0x9c, 0xc5f2, 0x1, 0x1);
        gbc.writeMem(0x4c2f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xea28);
        EXPECT(gbc.pc(), 0x4c30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01D4
        gbc.setState(0xeb02, 0x47bb, 0xb090, 0x3cc8, 0x1aa1, 0x76d9, 0x1, 0x0);
        gbc.writeMem(0xeb02, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x47bb);
        EXPECT(gbc.pc(), 0xeb03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb02), 0x3c);
        // 3C 01D5
        gbc.setState(0x7c95, 0x3d81, 0xc380, 0x9d15, 0x358e, 0xcf3b, 0x1, 0x0);
        gbc.writeMem(0x7c95, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x3d81);
        EXPECT(gbc.pc(), 0x7c96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01D6
        gbc.setState(0x1b5c, 0xeb, 0xf6d0, 0x7f35, 0x1b49, 0x27d6, 0x0, 0x0);
        gbc.writeMem(0x1b5c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xeb);
        EXPECT(gbc.pc(), 0x1b5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01D7
        gbc.setState(0xd5dc, 0x806c, 0x5e30, 0x419f, 0xf766, 0xf652, 0x1, 0x0);
        gbc.writeMem(0xd5dc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x806c);
        EXPECT(gbc.pc(), 0xd5dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5dc), 0x3c);
        // 3C 01D8
        gbc.setState(0x6091, 0xe8ec, 0xb4e0, 0x492d, 0x5b57, 0x1731, 0x0, 0x0);
        gbc.writeMem(0x6091, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xe8ec);
        EXPECT(gbc.pc(), 0x6092);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01D9
        gbc.setState(0x1eba, 0xf433, 0x6670, 0xb389, 0xb31, 0x110e, 0x0, 0x0);
        gbc.writeMem(0x1eba, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xf433);
        EXPECT(gbc.pc(), 0x1ebb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01DA
        gbc.setState(0x5b65, 0x42b6, 0x77e0, 0x6e60, 0x12d7, 0x319, 0x1, 0x0);
        gbc.writeMem(0x5b65, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x42b6);
        EXPECT(gbc.pc(), 0x5b66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01DB
        gbc.setState(0x4382, 0xfe1e, 0xb940, 0xea8b, 0x1a10, 0x9c94, 0x0, 0x1);
        gbc.writeMem(0x4382, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xfe1e);
        EXPECT(gbc.pc(), 0x4383);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01DC
        gbc.setState(0xfa0, 0x436f, 0xe910, 0x93e1, 0xaea8, 0xa0ea, 0x1, 0x1);
        gbc.writeMem(0xfa0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x436f);
        EXPECT(gbc.pc(), 0xfa1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01DD
        gbc.setState(0xe423, 0xd2ad, 0xe700, 0xcbfb, 0x8c02, 0x77b3, 0x1, 0x1);
        gbc.writeMem(0xe423, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd2ad);
        EXPECT(gbc.pc(), 0xe424);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe423), 0x3c);
        // 3C 01DE
        gbc.setState(0x735b, 0xa29, 0x6b00, 0xa901, 0x7b5e, 0xb88b, 0x0, 0x0);
        gbc.writeMem(0x735b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xa29);
        EXPECT(gbc.pc(), 0x735c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01DF
        gbc.setState(0x9fe4, 0xfb4, 0x2380, 0xc263, 0xa75a, 0xb3a1, 0x0, 0x0);
        gbc.writeMem(0x9fe4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xfb4);
        EXPECT(gbc.pc(), 0x9fe5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fe4), 0x3c);
        // 3C 01E0
        gbc.setState(0x1a0a, 0xe629, 0x8bd0, 0x6316, 0x168c, 0xade2, 0x1, 0x0);
        gbc.writeMem(0x1a0a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xe629);
        EXPECT(gbc.pc(), 0x1a0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01E1
        gbc.setState(0xb875, 0xbb65, 0x5f80, 0xc96a, 0xcef0, 0x6bf, 0x1, 0x1);
        gbc.writeMem(0xb875, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xbb65);
        EXPECT(gbc.pc(), 0xb876);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb875), 0x3c);
        // 3C 01E2
        gbc.setState(0xcca7, 0x26a1, 0x52d0, 0xd533, 0xd57c, 0x64be, 0x0, 0x0);
        gbc.writeMem(0xcca7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x26a1);
        EXPECT(gbc.pc(), 0xcca8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcca7), 0x3c);
        // 3C 01E3
        gbc.setState(0x9067, 0x15d0, 0x63d0, 0x2c8e, 0x60f3, 0x4a94, 0x0, 0x1);
        gbc.writeMem(0x9067, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x15d0);
        EXPECT(gbc.pc(), 0x9068);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9067), 0x3c);
        // 3C 01E4
        gbc.setState(0xb00d, 0x4dd6, 0x41b0, 0x3da5, 0xa3f4, 0x43, 0x0, 0x0);
        gbc.writeMem(0xb00d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x4dd6);
        EXPECT(gbc.pc(), 0xb00e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb00d), 0x3c);
        // 3C 01E5
        gbc.setState(0x687, 0x7429, 0x3870, 0xa5b5, 0xc3fb, 0x3107, 0x1, 0x0);
        gbc.writeMem(0x687, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x7429);
        EXPECT(gbc.pc(), 0x688);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01E6
        gbc.setState(0x419b, 0x1d28, 0xe50, 0xb02f, 0x802f, 0x59d1, 0x0, 0x0);
        gbc.writeMem(0x419b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x1d28);
        EXPECT(gbc.pc(), 0x419c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01E7
        gbc.setState(0x49b0, 0xcf48, 0x9e00, 0x1be, 0xe253, 0x1eb9, 0x1, 0x0);
        gbc.writeMem(0x49b0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xcf48);
        EXPECT(gbc.pc(), 0x49b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01E8
        gbc.setState(0x74e7, 0x3366, 0x7b60, 0x1b86, 0x81bb, 0xa276, 0x1, 0x0);
        gbc.writeMem(0x74e7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x3366);
        EXPECT(gbc.pc(), 0x74e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01E9
        gbc.setState(0xa72f, 0xa172, 0x9ae0, 0xe21d, 0x8857, 0x4ee8, 0x1, 0x0);
        gbc.writeMem(0xa72f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xa172);
        EXPECT(gbc.pc(), 0xa730);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa72f), 0x3c);
        // 3C 01EA
        gbc.setState(0x6efa, 0x6786, 0x6590, 0x8040, 0xaf90, 0xe091, 0x0, 0x1);
        gbc.writeMem(0x6efa, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x6786);
        EXPECT(gbc.pc(), 0x6efb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01EB
        gbc.setState(0x2d44, 0x9314, 0x5330, 0x1bc1, 0xf7a3, 0xa325, 0x0, 0x1);
        gbc.writeMem(0x2d44, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x9314);
        EXPECT(gbc.pc(), 0x2d45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01EC
        gbc.setState(0x4991, 0x3dac, 0x32c0, 0xe7bc, 0xd345, 0xd7e0, 0x1, 0x0);
        gbc.writeMem(0x4991, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x3dac);
        EXPECT(gbc.pc(), 0x4992);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01ED
        gbc.setState(0x1ee2, 0xa868, 0xc6e0, 0x429, 0x5953, 0x86ae, 0x1, 0x0);
        gbc.writeMem(0x1ee2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xa868);
        EXPECT(gbc.pc(), 0x1ee3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01EE
        gbc.setState(0xdc1f, 0x85b1, 0xf580, 0x67a9, 0x2216, 0x8463, 0x1, 0x1);
        gbc.writeMem(0xdc1f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x85b1);
        EXPECT(gbc.pc(), 0xdc20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc1f), 0x3c);
        // 3C 01EF
        gbc.setState(0xcb4, 0xbd6f, 0xd3e0, 0x1d2, 0x2cbe, 0xf5c0, 0x0, 0x1);
        gbc.writeMem(0xcb4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xbd6f);
        EXPECT(gbc.pc(), 0xcb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01F0
        gbc.setState(0xbbc2, 0x160, 0x1450, 0xbed9, 0xdb4b, 0xec42, 0x0, 0x1);
        gbc.writeMem(0xbbc2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x160);
        EXPECT(gbc.pc(), 0xbbc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbc2), 0x3c);
        // 3C 01F1
        gbc.setState(0x8600, 0x4eae, 0x1960, 0xf7c6, 0x4c45, 0xd37d, 0x0, 0x1);
        gbc.writeMem(0x8600, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x4eae);
        EXPECT(gbc.pc(), 0x8601);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8600), 0x3c);
        // 3C 01F2
        gbc.setState(0x827, 0xaed4, 0x2540, 0x4dd0, 0x7ea, 0xee28, 0x1, 0x0);
        gbc.writeMem(0x827, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xaed4);
        EXPECT(gbc.pc(), 0x828);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01F3
        gbc.setState(0xab6c, 0x3d94, 0xa000, 0xcfe7, 0xa19c, 0xae4a, 0x0, 0x1);
        gbc.writeMem(0xab6c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x3d94);
        EXPECT(gbc.pc(), 0xab6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab6c), 0x3c);
        // 3C 01F4
        gbc.setState(0x3848, 0xf51f, 0x36f0, 0x89b9, 0x71a7, 0x6e33, 0x0, 0x0);
        gbc.writeMem(0x3848, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xf51f);
        EXPECT(gbc.pc(), 0x3849);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01F5
        gbc.setState(0xeba1, 0x728e, 0x1bd0, 0xd851, 0x34c, 0x2ba5, 0x0, 0x1);
        gbc.writeMem(0xeba1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x728e);
        EXPECT(gbc.pc(), 0xeba2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeba1), 0x3c);
        // 3C 01F6
        gbc.setState(0x536f, 0xd69a, 0x95a0, 0xb723, 0xbde2, 0xcee, 0x1, 0x1);
        gbc.writeMem(0x536f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xd69a);
        EXPECT(gbc.pc(), 0x5370);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 01F7
        gbc.setState(0x2af6, 0x18fc, 0xccf0, 0xd03d, 0x6a56, 0x32c4, 0x1, 0x1);
        gbc.writeMem(0x2af6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x18fc);
        EXPECT(gbc.pc(), 0x2af7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01F8
        gbc.setState(0x7e9b, 0x2403, 0xb810, 0xb3a8, 0xbb8d, 0xd434, 0x1, 0x0);
        gbc.writeMem(0x7e9b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x2403);
        EXPECT(gbc.pc(), 0x7e9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01F9
        gbc.setState(0x92a5, 0x2c0d, 0xbaf0, 0x782, 0xb06f, 0xe01e, 0x0, 0x0);
        gbc.writeMem(0x92a5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x2c0d);
        EXPECT(gbc.pc(), 0x92a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92a5), 0x3c);
        // 3C 01FA
        gbc.setState(0xb401, 0xc9b6, 0x26b0, 0x4df7, 0x8add, 0x72f3, 0x1, 0x0);
        gbc.writeMem(0xb401, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xc9b6);
        EXPECT(gbc.pc(), 0xb402);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb401), 0x3c);
        // 3C 01FB
        gbc.setState(0xe7c7, 0xbed7, 0x9450, 0xc707, 0x6ad2, 0x55d, 0x1, 0x1);
        gbc.writeMem(0xe7c7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xbed7);
        EXPECT(gbc.pc(), 0xe7c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7c7), 0x3c);
        // 3C 01FC
        gbc.setState(0x9f38, 0x5ea9, 0xb4f0, 0xbb53, 0x10bd, 0xa01c, 0x0, 0x0);
        gbc.writeMem(0x9f38, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x5ea9);
        EXPECT(gbc.pc(), 0x9f39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f38), 0x3c);
        // 3C 01FD
        gbc.setState(0xde23, 0x5f8c, 0xaba0, 0xd6d5, 0xa6bd, 0x3f87, 0x1, 0x0);
        gbc.writeMem(0xde23, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x5f8c);
        EXPECT(gbc.pc(), 0xde24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde23), 0x3c);
        // 3C 01FE
        gbc.setState(0x7cc9, 0x48af, 0xca30, 0xc654, 0x2507, 0x7669, 0x0, 0x0);
        gbc.writeMem(0x7cc9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x48af);
        EXPECT(gbc.pc(), 0x7cca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 01FF
        gbc.setState(0x1bbe, 0x5219, 0x2230, 0xf746, 0xf68f, 0x6631, 0x0, 0x0);
        gbc.writeMem(0x1bbe, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x5219);
        EXPECT(gbc.pc(), 0x1bbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0200
        gbc.setState(0xdf91, 0x9a7f, 0xa8b0, 0xe801, 0xe3d3, 0xfac0, 0x1, 0x1);
        gbc.writeMem(0xdf91, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x9a7f);
        EXPECT(gbc.pc(), 0xdf92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf91), 0x3c);
        // 3C 0202
        gbc.setState(0xe092, 0x4c50, 0x68c0, 0x363a, 0xeb3, 0x6702, 0x0, 0x1);
        gbc.writeMem(0xe092, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x4c50);
        EXPECT(gbc.pc(), 0xe093);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe092), 0x3c);
        // 3C 0203
        gbc.setState(0x4b58, 0xf55a, 0x10b0, 0x883c, 0xa582, 0x1dd0, 0x1, 0x0);
        gbc.writeMem(0x4b58, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xf55a);
        EXPECT(gbc.pc(), 0x4b59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0204
        gbc.setState(0xdc5a, 0x14f2, 0x5390, 0xb96e, 0x9838, 0xce68, 0x0, 0x1);
        gbc.writeMem(0xdc5a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x14f2);
        EXPECT(gbc.pc(), 0xdc5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc5a), 0x3c);
        // 3C 0205
        gbc.setState(0x7235, 0x3d6d, 0xeac0, 0x2054, 0x7b07, 0xd301, 0x0, 0x1);
        gbc.writeMem(0x7235, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x3d6d);
        EXPECT(gbc.pc(), 0x7236);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0206
        gbc.setState(0x3492, 0xa940, 0x65a0, 0x36dc, 0xbb4c, 0xcce7, 0x1, 0x0);
        gbc.writeMem(0x3492, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa940);
        EXPECT(gbc.pc(), 0x3493);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0208
        gbc.setState(0xa86, 0x117, 0x7a0, 0x8ddc, 0x8f77, 0x1ced, 0x0, 0x1);
        gbc.writeMem(0xa86, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x117);
        EXPECT(gbc.pc(), 0xa87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0209
        gbc.setState(0xb7db, 0xa7d, 0x8760, 0x9778, 0x224f, 0xaa34, 0x0, 0x0);
        gbc.writeMem(0xb7db, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xa7d);
        EXPECT(gbc.pc(), 0xb7dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7db), 0x3c);
        // 3C 020A
        gbc.setState(0xcde7, 0xaa80, 0x2dc0, 0x7467, 0x34f8, 0x6232, 0x1, 0x1);
        gbc.writeMem(0xcde7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xaa80);
        EXPECT(gbc.pc(), 0xcde8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcde7), 0x3c);
        // 3C 020B
        gbc.setState(0xc2c3, 0x4fd1, 0x6cc0, 0xafa5, 0x1bf4, 0x4d5, 0x1, 0x0);
        gbc.writeMem(0xc2c3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x4fd1);
        EXPECT(gbc.pc(), 0xc2c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2c3), 0x3c);
        // 3C 020C
        gbc.setState(0xd4c0, 0xb025, 0xbfb0, 0x3f09, 0x6011, 0x63e8, 0x1, 0x0);
        gbc.writeMem(0xd4c0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xb025);
        EXPECT(gbc.pc(), 0xd4c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4c0), 0x3c);
        // 3C 020D
        gbc.setState(0xb424, 0x428f, 0xa150, 0x7961, 0x89a1, 0xa379, 0x1, 0x0);
        gbc.writeMem(0xb424, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x428f);
        EXPECT(gbc.pc(), 0xb425);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb424), 0x3c);
        // 3C 020E
        gbc.setState(0xe716, 0x8b4c, 0x9760, 0x35fe, 0xb14b, 0x7633, 0x1, 0x1);
        gbc.writeMem(0xe716, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x8b4c);
        EXPECT(gbc.pc(), 0xe717);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe716), 0x3c);
        // 3C 020F
        gbc.setState(0x2f66, 0x2675, 0xd2b0, 0x9093, 0x3b1d, 0xa8c1, 0x0, 0x0);
        gbc.writeMem(0x2f66, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x2675);
        EXPECT(gbc.pc(), 0x2f67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0210
        gbc.setState(0x4e7c, 0x6d44, 0x5250, 0x37ba, 0x5f6d, 0x4daa, 0x0, 0x0);
        gbc.writeMem(0x4e7c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x6d44);
        EXPECT(gbc.pc(), 0x4e7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0211
        gbc.setState(0x78d2, 0x4b61, 0x2d10, 0xe9f4, 0x807c, 0x5e28, 0x1, 0x1);
        gbc.writeMem(0x78d2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x4b61);
        EXPECT(gbc.pc(), 0x78d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0212
        gbc.setState(0x2577, 0x2ec3, 0x85f0, 0x79f0, 0xda4c, 0xc7d, 0x1, 0x1);
        gbc.writeMem(0x2577, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x2ec3);
        EXPECT(gbc.pc(), 0x2578);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0213
        gbc.setState(0x6949, 0x899d, 0x7e0, 0x3521, 0x1850, 0x5063, 0x0, 0x1);
        gbc.writeMem(0x6949, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x899d);
        EXPECT(gbc.pc(), 0x694a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0214
        gbc.setState(0x490, 0x8e33, 0xd900, 0x1bc9, 0x4c6a, 0xfc83, 0x0, 0x1);
        gbc.writeMem(0x490, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x8e33);
        EXPECT(gbc.pc(), 0x491);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0215
        gbc.setState(0xbc8b, 0xd3e, 0x59d0, 0xd22a, 0xf4bd, 0xea25, 0x0, 0x0);
        gbc.writeMem(0xbc8b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xd3e);
        EXPECT(gbc.pc(), 0xbc8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc8b), 0x3c);
        // 3C 0216
        gbc.setState(0xe295, 0xef64, 0x14a0, 0xafe8, 0x370d, 0x5a36, 0x1, 0x1);
        gbc.writeMem(0xe295, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xef64);
        EXPECT(gbc.pc(), 0xe296);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe295), 0x3c);
        // 3C 0217
        gbc.setState(0xa909, 0x639a, 0xaad0, 0xb2c1, 0x631c, 0xd05e, 0x1, 0x1);
        gbc.writeMem(0xa909, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x639a);
        EXPECT(gbc.pc(), 0xa90a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa909), 0x3c);
        // 3C 0218
        gbc.setState(0xa62a, 0xfa9d, 0xc370, 0x2620, 0x6e60, 0x716e, 0x0, 0x0);
        gbc.writeMem(0xa62a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xfa9d);
        EXPECT(gbc.pc(), 0xa62b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa62a), 0x3c);
        // 3C 021A
        gbc.setState(0x5319, 0xb527, 0x39a0, 0x9d64, 0x8807, 0xf4c, 0x0, 0x0);
        gbc.writeMem(0x5319, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xb527);
        EXPECT(gbc.pc(), 0x531a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 021B
        gbc.setState(0x1169, 0x2857, 0x1400, 0xc083, 0xe1b6, 0xdffd, 0x1, 0x0);
        gbc.writeMem(0x1169, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x2857);
        EXPECT(gbc.pc(), 0x116a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 021C
        gbc.setState(0x601b, 0xa42b, 0x4990, 0x3613, 0xd9c3, 0x5350, 0x0, 0x0);
        gbc.writeMem(0x601b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xa42b);
        EXPECT(gbc.pc(), 0x601c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 021D
        gbc.setState(0x96f2, 0x45fb, 0xc5a0, 0x571b, 0x7114, 0x32ce, 0x0, 0x0);
        gbc.writeMem(0x96f2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x45fb);
        EXPECT(gbc.pc(), 0x96f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96f2), 0x3c);
        // 3C 021E
        gbc.setState(0x4e95, 0x9da5, 0x1ef0, 0xf0b0, 0x12cf, 0x2fd1, 0x1, 0x0);
        gbc.writeMem(0x4e95, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x9da5);
        EXPECT(gbc.pc(), 0x4e96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 021F
        gbc.setState(0xacdb, 0xa49e, 0xbc10, 0xd4b0, 0x3916, 0xc0eb, 0x0, 0x0);
        gbc.writeMem(0xacdb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xa49e);
        EXPECT(gbc.pc(), 0xacdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacdb), 0x3c);
        // 3C 0220
        gbc.setState(0xe8a0, 0x7a27, 0x9d80, 0xb8b, 0x760a, 0x520c, 0x0, 0x0);
        gbc.writeMem(0xe8a0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x7a27);
        EXPECT(gbc.pc(), 0xe8a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8a0), 0x3c);
        // 3C 0221
        gbc.setState(0xdd2d, 0x103f, 0x1c20, 0xe7cb, 0xc91f, 0xff3b, 0x0, 0x0);
        gbc.writeMem(0xdd2d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x103f);
        EXPECT(gbc.pc(), 0xdd2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd2d), 0x3c);
        // 3C 0222
        gbc.setState(0x582e, 0x5d86, 0xbcd0, 0xc6a4, 0xc324, 0x10d3, 0x1, 0x0);
        gbc.writeMem(0x582e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x5d86);
        EXPECT(gbc.pc(), 0x582f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0223
        gbc.setState(0x814d, 0x8d19, 0x4150, 0x563c, 0xc574, 0x32ef, 0x1, 0x1);
        gbc.writeMem(0x814d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x8d19);
        EXPECT(gbc.pc(), 0x814e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x814d), 0x3c);
        // 3C 0224
        gbc.setState(0xc6c0, 0x8ae8, 0x4b90, 0x78c9, 0xa96b, 0x3173, 0x1, 0x0);
        gbc.writeMem(0xc6c0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x8ae8);
        EXPECT(gbc.pc(), 0xc6c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6c0), 0x3c);
        // 3C 0225
        gbc.setState(0xdfa1, 0x7b88, 0x50d0, 0xfb98, 0x3a6f, 0xde82, 0x0, 0x1);
        gbc.writeMem(0xdfa1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x7b88);
        EXPECT(gbc.pc(), 0xdfa2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfa1), 0x3c);
        // 3C 0226
        gbc.setState(0x6d79, 0xa9e8, 0xea60, 0x939c, 0x9108, 0x6553, 0x0, 0x1);
        gbc.writeMem(0x6d79, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xa9e8);
        EXPECT(gbc.pc(), 0x6d7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0227
        gbc.setState(0xe543, 0x59d, 0xa460, 0xea2e, 0x7e90, 0xc3c, 0x1, 0x1);
        gbc.writeMem(0xe543, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x59d);
        EXPECT(gbc.pc(), 0xe544);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe543), 0x3c);
        // 3C 0228
        gbc.setState(0xde8d, 0x6955, 0x4480, 0x9cc8, 0xca8c, 0x9c30, 0x1, 0x1);
        gbc.writeMem(0xde8d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x6955);
        EXPECT(gbc.pc(), 0xde8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde8d), 0x3c);
        // 3C 0229
        gbc.setState(0x6c75, 0x2378, 0xede0, 0x1f62, 0x7c42, 0xa48f, 0x0, 0x0);
        gbc.writeMem(0x6c75, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x2378);
        EXPECT(gbc.pc(), 0x6c76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 022A
        gbc.setState(0x5d7d, 0xc705, 0x4cd0, 0x9007, 0xf5a4, 0x4833, 0x0, 0x1);
        gbc.writeMem(0x5d7d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xc705);
        EXPECT(gbc.pc(), 0x5d7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 022B
        gbc.setState(0x358d, 0xbb00, 0xbdd0, 0x9e06, 0x5579, 0x55cd, 0x1, 0x0);
        gbc.writeMem(0x358d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xbb00);
        EXPECT(gbc.pc(), 0x358e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 022D
        gbc.setState(0x6da4, 0xbfab, 0xe390, 0x7555, 0xee3a, 0x5fb5, 0x0, 0x0);
        gbc.writeMem(0x6da4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xbfab);
        EXPECT(gbc.pc(), 0x6da5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 022E
        gbc.setState(0xd026, 0x363c, 0xc630, 0x2540, 0x4bd4, 0x4bc5, 0x0, 0x1);
        gbc.writeMem(0xd026, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x363c);
        EXPECT(gbc.pc(), 0xd027);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd026), 0x3c);
        // 3C 022F
        gbc.setState(0x9669, 0x53d5, 0x2290, 0x408, 0x36b5, 0x6f4f, 0x1, 0x0);
        gbc.writeMem(0x9669, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x53d5);
        EXPECT(gbc.pc(), 0x966a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9669), 0x3c);
        // 3C 0230
        gbc.setState(0xb3d1, 0x92aa, 0x6f70, 0xd026, 0x586c, 0x60f, 0x0, 0x1);
        gbc.writeMem(0xb3d1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x92aa);
        EXPECT(gbc.pc(), 0xb3d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3d1), 0x3c);
        // 3C 0231
        gbc.setState(0x84d3, 0xef9a, 0x4900, 0x43cb, 0xbbf4, 0x7ca2, 0x0, 0x1);
        gbc.writeMem(0x84d3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xef9a);
        EXPECT(gbc.pc(), 0x84d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84d3), 0x3c);
        // 3C 0232
        gbc.setState(0xa5de, 0xb865, 0x1ff0, 0x1700, 0x3e54, 0x7007, 0x0, 0x0);
        gbc.writeMem(0xa5de, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xb865);
        EXPECT(gbc.pc(), 0xa5df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5de), 0x3c);
        // 3C 0233
        gbc.setState(0xaba5, 0x4137, 0x9950, 0xe386, 0x68f2, 0x2900, 0x0, 0x0);
        gbc.writeMem(0xaba5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x4137);
        EXPECT(gbc.pc(), 0xaba6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaba5), 0x3c);
        // 3C 0234
        gbc.setState(0x26f3, 0xd572, 0x7080, 0x6ebf, 0xc8f2, 0xa111, 0x0, 0x0);
        gbc.writeMem(0x26f3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xd572);
        EXPECT(gbc.pc(), 0x26f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0235
        gbc.setState(0x3c29, 0x7b5d, 0x8000, 0x48af, 0x36ab, 0x15a6, 0x0, 0x1);
        gbc.writeMem(0x3c29, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x7b5d);
        EXPECT(gbc.pc(), 0x3c2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0236
        gbc.setState(0x9e3f, 0xe522, 0x6910, 0x1811, 0xd8b4, 0xb49e, 0x0, 0x1);
        gbc.writeMem(0x9e3f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xe522);
        EXPECT(gbc.pc(), 0x9e40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e3f), 0x3c);
        // 3C 0237
        gbc.setState(0x23ba, 0x2794, 0x3fe0, 0x2d86, 0x14fe, 0xfaba, 0x1, 0x0);
        gbc.writeMem(0x23ba, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x2794);
        EXPECT(gbc.pc(), 0x23bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 0238
        gbc.setState(0x45ff, 0x25a8, 0x61c0, 0xd1ce, 0x2745, 0x989d, 0x0, 0x0);
        gbc.writeMem(0x45ff, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x25a8);
        EXPECT(gbc.pc(), 0x4600);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0239
        gbc.setState(0xb196, 0x121e, 0x9fe0, 0x282d, 0x7b0a, 0x97c2, 0x0, 0x1);
        gbc.writeMem(0xb196, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x121e);
        EXPECT(gbc.pc(), 0xb197);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb196), 0x3c);
        // 3C 023B
        gbc.setState(0x7516, 0xa312, 0xf760, 0xd8e5, 0x6d19, 0xe61, 0x0, 0x0);
        gbc.writeMem(0x7516, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xa312);
        EXPECT(gbc.pc(), 0x7517);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 023C
        gbc.setState(0x2a7, 0x9d82, 0x4990, 0xc2da, 0x54bb, 0x548d, 0x0, 0x0);
        gbc.writeMem(0x2a7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x9d82);
        EXPECT(gbc.pc(), 0x2a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 023D
        gbc.setState(0x1851, 0x16c8, 0x9c80, 0xcd30, 0x66c6, 0xe9d, 0x0, 0x0);
        gbc.writeMem(0x1851, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x16c8);
        EXPECT(gbc.pc(), 0x1852);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 023E
        gbc.setState(0x86dc, 0x958, 0xe7c0, 0x75e0, 0x78c4, 0x5e8d, 0x1, 0x1);
        gbc.writeMem(0x86dc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x958);
        EXPECT(gbc.pc(), 0x86dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86dc), 0x3c);
        // 3C 023F
        gbc.setState(0x3114, 0x83ba, 0xe640, 0x5980, 0x6d25, 0xd9af, 0x0, 0x1);
        gbc.writeMem(0x3114, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x83ba);
        EXPECT(gbc.pc(), 0x3115);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0240
        gbc.setState(0x3936, 0x201c, 0x3c60, 0xfb45, 0xd9f4, 0x3b3f, 0x0, 0x0);
        gbc.writeMem(0x3936, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x201c);
        EXPECT(gbc.pc(), 0x3937);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0241
        gbc.setState(0x1d43, 0x423d, 0x6800, 0x4604, 0x6276, 0x1f9c, 0x1, 0x1);
        gbc.writeMem(0x1d43, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x423d);
        EXPECT(gbc.pc(), 0x1d44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0242
        gbc.setState(0x9fa5, 0x1194, 0x3740, 0x9869, 0x8dad, 0x25a3, 0x0, 0x0);
        gbc.writeMem(0x9fa5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x1194);
        EXPECT(gbc.pc(), 0x9fa6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fa5), 0x3c);
        // 3C 0243
        gbc.setState(0x8d06, 0x480d, 0xb360, 0xb940, 0xf9ab, 0xccec, 0x1, 0x0);
        gbc.writeMem(0x8d06, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x480d);
        EXPECT(gbc.pc(), 0x8d07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d06), 0x3c);
        // 3C 0244
        gbc.setState(0x9c46, 0x63ea, 0x6bf0, 0xc52b, 0x9503, 0xabcd, 0x1, 0x0);
        gbc.writeMem(0x9c46, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x63ea);
        EXPECT(gbc.pc(), 0x9c47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c46), 0x3c);
        // 3C 0245
        gbc.setState(0x1ccc, 0xd69f, 0xe980, 0x69db, 0xca7c, 0xeb4d, 0x0, 0x1);
        gbc.writeMem(0x1ccc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xd69f);
        EXPECT(gbc.pc(), 0x1ccd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0246
        gbc.setState(0xa994, 0x5982, 0x8c0, 0x46c8, 0xaaab, 0x9337, 0x1, 0x0);
        gbc.writeMem(0xa994, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x5982);
        EXPECT(gbc.pc(), 0xa995);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa994), 0x3c);
        // 3C 0247
        gbc.setState(0x2518, 0xcab3, 0x24f0, 0x80d1, 0x300f, 0xea8f, 0x1, 0x1);
        gbc.writeMem(0x2518, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xcab3);
        EXPECT(gbc.pc(), 0x2519);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0248
        gbc.setState(0xaeec, 0xdc6f, 0xc270, 0x4568, 0x70dd, 0x62bc, 0x1, 0x1);
        gbc.writeMem(0xaeec, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xdc6f);
        EXPECT(gbc.pc(), 0xaeed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaeec), 0x3c);
        // 3C 0249
        gbc.setState(0x8c16, 0xd6a0, 0xdfd0, 0xaae1, 0x7139, 0x960f, 0x1, 0x0);
        gbc.writeMem(0x8c16, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xd6a0);
        EXPECT(gbc.pc(), 0x8c17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c16), 0x3c);
        // 3C 024B
        gbc.setState(0xeb5f, 0xa503, 0x7340, 0x2d30, 0x13a1, 0xe0e1, 0x1, 0x1);
        gbc.writeMem(0xeb5f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xa503);
        EXPECT(gbc.pc(), 0xeb60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb5f), 0x3c);
        // 3C 024C
        gbc.setState(0x255b, 0x6f97, 0x6cd0, 0x5ce4, 0x6904, 0x9fd8, 0x0, 0x0);
        gbc.writeMem(0x255b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x6f97);
        EXPECT(gbc.pc(), 0x255c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 024D
        gbc.setState(0x5721, 0xe755, 0x2df0, 0xbe98, 0x2ec8, 0x909, 0x1, 0x1);
        gbc.writeMem(0x5721, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xe755);
        EXPECT(gbc.pc(), 0x5722);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 024E
        gbc.setState(0x45dc, 0xed4b, 0xb490, 0x2b4c, 0x96e7, 0xbd3, 0x1, 0x0);
        gbc.writeMem(0x45dc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xed4b);
        EXPECT(gbc.pc(), 0x45dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 024F
        gbc.setState(0x9723, 0x7571, 0xbf30, 0x4e55, 0x3ba8, 0xdd15, 0x0, 0x0);
        gbc.writeMem(0x9723, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x7571);
        EXPECT(gbc.pc(), 0x9724);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9723), 0x3c);
        // 3C 0251
        gbc.setState(0xc27e, 0x319f, 0x71f0, 0xb6bc, 0xaf7c, 0x1551, 0x0, 0x0);
        gbc.writeMem(0xc27e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x319f);
        EXPECT(gbc.pc(), 0xc27f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc27e), 0x3c);
        // 3C 0252
        gbc.setState(0x51, 0xdb42, 0x61e0, 0xb974, 0x4cc, 0xc7e8, 0x1, 0x1);
        gbc.writeMem(0x51, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xdb42);
        EXPECT(gbc.pc(), 0x52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0253
        gbc.setState(0x8165, 0xf411, 0x5cd0, 0x22ae, 0xa85e, 0x2c9, 0x0, 0x1);
        gbc.writeMem(0x8165, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xf411);
        EXPECT(gbc.pc(), 0x8166);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8165), 0x3c);
        // 3C 0254
        gbc.setState(0xf9a, 0xa4e, 0xf600, 0xb2cc, 0xf79d, 0x467f, 0x1, 0x1);
        gbc.writeMem(0xf9a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xa4e);
        EXPECT(gbc.pc(), 0xf9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0255
        gbc.setState(0x25bc, 0xbd8f, 0x6fc0, 0x5786, 0x7c56, 0x65d7, 0x1, 0x1);
        gbc.writeMem(0x25bc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xbd8f);
        EXPECT(gbc.pc(), 0x25bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 0257
        gbc.setState(0xb389, 0x955c, 0x1190, 0xd88, 0x66cc, 0x92dc, 0x0, 0x0);
        gbc.writeMem(0xb389, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x955c);
        EXPECT(gbc.pc(), 0xb38a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb389), 0x3c);
        // 3C 0258
        gbc.setState(0xdbe3, 0x7208, 0x6150, 0x57a1, 0x7152, 0x5d99, 0x0, 0x0);
        gbc.writeMem(0xdbe3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x7208);
        EXPECT(gbc.pc(), 0xdbe4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbe3), 0x3c);
        // 3C 0259
        gbc.setState(0xcfad, 0x1a3c, 0x1b60, 0x3c0e, 0xfe56, 0x1fa5, 0x0, 0x1);
        gbc.writeMem(0xcfad, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x1a3c);
        EXPECT(gbc.pc(), 0xcfae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfad), 0x3c);
        // 3C 025A
        gbc.setState(0xc4c0, 0xc3a, 0x63a0, 0x2dd9, 0xe23e, 0x4b79, 0x0, 0x1);
        gbc.writeMem(0xc4c0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xc3a);
        EXPECT(gbc.pc(), 0xc4c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4c0), 0x3c);
        // 3C 025B
        gbc.setState(0xaf24, 0x88bf, 0xca10, 0xbfd9, 0x8454, 0x2635, 0x0, 0x1);
        gbc.writeMem(0xaf24, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x88bf);
        EXPECT(gbc.pc(), 0xaf25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf24), 0x3c);
        // 3C 025C
        gbc.setState(0xb486, 0x1801, 0xaff0, 0xbcff, 0xf3a, 0x7f51, 0x0, 0x0);
        gbc.writeMem(0xb486, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x1801);
        EXPECT(gbc.pc(), 0xb487);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb486), 0x3c);
        // 3C 025D
        gbc.setState(0x96c2, 0x6a67, 0x9490, 0xff01, 0x9676, 0x8462, 0x0, 0x1);
        gbc.writeMem(0x96c2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x6a67);
        EXPECT(gbc.pc(), 0x96c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96c2), 0x3c);
        // 3C 025E
        gbc.setState(0x11e1, 0xf9a8, 0xdbc0, 0xda9e, 0x4ff0, 0x1dcb, 0x1, 0x0);
        gbc.writeMem(0x11e1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xf9a8);
        EXPECT(gbc.pc(), 0x11e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 025F
        gbc.setState(0x83f7, 0x27b6, 0xf1a0, 0x1fb2, 0xcee, 0x505d, 0x1, 0x0);
        gbc.writeMem(0x83f7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x27b6);
        EXPECT(gbc.pc(), 0x83f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83f7), 0x3c);
        // 3C 0260
        gbc.setState(0x2b7b, 0x72f6, 0x5b40, 0x9632, 0xf687, 0x622d, 0x1, 0x0);
        gbc.writeMem(0x2b7b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x72f6);
        EXPECT(gbc.pc(), 0x2b7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0261
        gbc.setState(0xce67, 0xef28, 0xd750, 0xe449, 0xba4a, 0xdfef, 0x1, 0x1);
        gbc.writeMem(0xce67, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xef28);
        EXPECT(gbc.pc(), 0xce68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce67), 0x3c);
        // 3C 0262
        gbc.setState(0x5054, 0x41cb, 0x6e70, 0x4ef1, 0x2e49, 0x89fd, 0x1, 0x0);
        gbc.writeMem(0x5054, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x41cb);
        EXPECT(gbc.pc(), 0x5055);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0263
        gbc.setState(0x3eeb, 0x6c2b, 0x1b90, 0x2a94, 0x524f, 0x1aff, 0x0, 0x0);
        gbc.writeMem(0x3eeb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x6c2b);
        EXPECT(gbc.pc(), 0x3eec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0264
        gbc.setState(0x904e, 0x93ba, 0xe4c0, 0xe735, 0x85f1, 0x7ee9, 0x0, 0x1);
        gbc.writeMem(0x904e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x93ba);
        EXPECT(gbc.pc(), 0x904f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x904e), 0x3c);
        // 3C 0265
        gbc.setState(0x719d, 0x65ee, 0xcd50, 0x3a9, 0xc2c5, 0xc704, 0x0, 0x0);
        gbc.writeMem(0x719d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x65ee);
        EXPECT(gbc.pc(), 0x719e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0266
        gbc.setState(0xc5ed, 0xf18f, 0x1f20, 0xadb5, 0xfa09, 0x1b6b, 0x0, 0x1);
        gbc.writeMem(0xc5ed, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xf18f);
        EXPECT(gbc.pc(), 0xc5ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5ed), 0x3c);
        // 3C 0267
        gbc.setState(0xc0a5, 0xde06, 0x150, 0x19ca, 0x759e, 0xffc1, 0x0, 0x0);
        gbc.writeMem(0xc0a5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xde06);
        EXPECT(gbc.pc(), 0xc0a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0a5), 0x3c);
        // 3C 0268
        gbc.setState(0x7826, 0xb099, 0x7e10, 0x405d, 0x6d30, 0x992f, 0x1, 0x1);
        gbc.writeMem(0x7826, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xb099);
        EXPECT(gbc.pc(), 0x7827);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0269
        gbc.setState(0xafcc, 0xa4ec, 0x1480, 0xf002, 0xad8b, 0x44e8, 0x1, 0x1);
        gbc.writeMem(0xafcc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xa4ec);
        EXPECT(gbc.pc(), 0xafcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafcc), 0x3c);
        // 3C 026A
        gbc.setState(0xe957, 0xefeb, 0x39e0, 0xa29a, 0x6532, 0xa621, 0x1, 0x0);
        gbc.writeMem(0xe957, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xefeb);
        EXPECT(gbc.pc(), 0xe958);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe957), 0x3c);
        // 3C 026B
        gbc.setState(0x8d3e, 0xa3b7, 0x1a0, 0x1688, 0x361b, 0x10fc, 0x1, 0x1);
        gbc.writeMem(0x8d3e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xa3b7);
        EXPECT(gbc.pc(), 0x8d3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d3e), 0x3c);
        // 3C 026C
        gbc.setState(0x98f4, 0xb190, 0x7da0, 0x18eb, 0x949f, 0xca0c, 0x1, 0x0);
        gbc.writeMem(0x98f4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xb190);
        EXPECT(gbc.pc(), 0x98f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98f4), 0x3c);
        // 3C 026D
        gbc.setState(0x67ae, 0x33ed, 0x4280, 0xaf79, 0x4673, 0x5c2a, 0x1, 0x1);
        gbc.writeMem(0x67ae, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x33ed);
        EXPECT(gbc.pc(), 0x67af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 026E
        gbc.setState(0x76fb, 0x8fd0, 0x41b0, 0x6fed, 0x82ec, 0xe6b, 0x0, 0x0);
        gbc.writeMem(0x76fb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x8fd0);
        EXPECT(gbc.pc(), 0x76fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 026F
        gbc.setState(0xa409, 0xeb15, 0x8510, 0x844d, 0x340c, 0x97ef, 0x0, 0x0);
        gbc.writeMem(0xa409, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xeb15);
        EXPECT(gbc.pc(), 0xa40a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa409), 0x3c);
        // 3C 0270
        gbc.setState(0x3d5a, 0xde56, 0xb250, 0x2f42, 0x2514, 0x7e60, 0x1, 0x1);
        gbc.writeMem(0x3d5a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xde56);
        EXPECT(gbc.pc(), 0x3d5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0271
        gbc.setState(0x8643, 0x8954, 0x5fb0, 0x6001, 0xb030, 0xe7c5, 0x1, 0x0);
        gbc.writeMem(0x8643, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x8954);
        EXPECT(gbc.pc(), 0x8644);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8643), 0x3c);
        // 3C 0272
        gbc.setState(0x52b4, 0xa8e5, 0xe2b0, 0xc2a3, 0x29e7, 0xe894, 0x0, 0x0);
        gbc.writeMem(0x52b4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xa8e5);
        EXPECT(gbc.pc(), 0x52b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0273
        gbc.setState(0x8efe, 0x4ef2, 0x76a0, 0x5395, 0xc936, 0x5f5b, 0x1, 0x0);
        gbc.writeMem(0x8efe, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x4ef2);
        EXPECT(gbc.pc(), 0x8eff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8efe), 0x3c);
        // 3C 0274
        gbc.setState(0x411e, 0xd9ed, 0xad90, 0x36ef, 0x4075, 0x3b52, 0x1, 0x1);
        gbc.writeMem(0x411e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xd9ed);
        EXPECT(gbc.pc(), 0x411f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0275
        gbc.setState(0xe18b, 0xb938, 0xd9a0, 0x48ff, 0x47ac, 0x2ce1, 0x1, 0x0);
        gbc.writeMem(0xe18b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xb938);
        EXPECT(gbc.pc(), 0xe18c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe18b), 0x3c);
        // 3C 0276
        gbc.setState(0xecd0, 0x2d65, 0x6970, 0x5883, 0xe05f, 0xa30b, 0x1, 0x0);
        gbc.writeMem(0xecd0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x2d65);
        EXPECT(gbc.pc(), 0xecd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecd0), 0x3c);
        // 3C 0277
        gbc.setState(0xa4f1, 0x7fac, 0x1a00, 0x16a1, 0xae8f, 0xecc9, 0x0, 0x1);
        gbc.writeMem(0xa4f1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x7fac);
        EXPECT(gbc.pc(), 0xa4f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4f1), 0x3c);
        // 3C 0278
        gbc.setState(0x1e82, 0x1260, 0xd2b0, 0x7c2b, 0x3d69, 0x1ef, 0x0, 0x0);
        gbc.writeMem(0x1e82, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x1260);
        EXPECT(gbc.pc(), 0x1e83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0279
        gbc.setState(0xc9d4, 0x5125, 0xcd00, 0xa68f, 0x5e49, 0xd554, 0x1, 0x0);
        gbc.writeMem(0xc9d4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x5125);
        EXPECT(gbc.pc(), 0xc9d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9d4), 0x3c);
        // 3C 027B
        gbc.setState(0x11f9, 0x56a2, 0x5360, 0x8882, 0x63bd, 0xbb9c, 0x1, 0x0);
        gbc.writeMem(0x11f9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x56a2);
        EXPECT(gbc.pc(), 0x11fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 027C
        gbc.setState(0xc389, 0x42e9, 0xc9b0, 0x2b1f, 0xa1e0, 0xa4e4, 0x1, 0x0);
        gbc.writeMem(0xc389, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x42e9);
        EXPECT(gbc.pc(), 0xc38a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc389), 0x3c);
        // 3C 027D
        gbc.setState(0xc17e, 0x929a, 0x27a0, 0x682b, 0x822a, 0x4dd0, 0x0, 0x1);
        gbc.writeMem(0xc17e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x929a);
        EXPECT(gbc.pc(), 0xc17f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc17e), 0x3c);
        // 3C 027E
        gbc.setState(0x63f5, 0x2a4b, 0x9c90, 0x7e7, 0xdc4e, 0x5bf0, 0x1, 0x0);
        gbc.writeMem(0x63f5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x2a4b);
        EXPECT(gbc.pc(), 0x63f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 027F
        gbc.setState(0x1c9d, 0xd06d, 0xed00, 0xa27f, 0x90d5, 0x8faa, 0x0, 0x0);
        gbc.writeMem(0x1c9d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xd06d);
        EXPECT(gbc.pc(), 0x1c9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0280
        gbc.setState(0x32c4, 0x1ad0, 0x7ff0, 0x8e9a, 0xf664, 0x4bff, 0x1, 0x0);
        gbc.writeMem(0x32c4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x1ad0);
        EXPECT(gbc.pc(), 0x32c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 0281
        gbc.setState(0x4c51, 0xeb8c, 0x4590, 0xa959, 0x9474, 0x254, 0x0, 0x1);
        gbc.writeMem(0x4c51, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xeb8c);
        EXPECT(gbc.pc(), 0x4c52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0282
        gbc.setState(0x4587, 0xb2b3, 0x53e0, 0x1b45, 0x732d, 0x3f9a, 0x1, 0x1);
        gbc.writeMem(0x4587, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xb2b3);
        EXPECT(gbc.pc(), 0x4588);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0283
        gbc.setState(0x7fe6, 0x5788, 0x9890, 0xb3be, 0x288, 0xc739, 0x0, 0x0);
        gbc.writeMem(0x7fe6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x5788);
        EXPECT(gbc.pc(), 0x7fe7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0284
        gbc.setState(0x482f, 0x2808, 0xee50, 0x644a, 0x2942, 0x9799, 0x0, 0x0);
        gbc.writeMem(0x482f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x2808);
        EXPECT(gbc.pc(), 0x4830);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0285
        gbc.setState(0x10e0, 0x60e0, 0x12b0, 0x4f73, 0x45bf, 0x397, 0x0, 0x0);
        gbc.writeMem(0x10e0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x60e0);
        EXPECT(gbc.pc(), 0x10e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0287
        gbc.setState(0x1206, 0x1dc6, 0xc4b0, 0xc8c3, 0x4800, 0x3524, 0x0, 0x0);
        gbc.writeMem(0x1206, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x1dc6);
        EXPECT(gbc.pc(), 0x1207);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0288
        gbc.setState(0xa75c, 0x4c08, 0x5600, 0xbc82, 0x72f, 0x8a4, 0x1, 0x1);
        gbc.writeMem(0xa75c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x4c08);
        EXPECT(gbc.pc(), 0xa75d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa75c), 0x3c);
        // 3C 0289
        gbc.setState(0x7f64, 0xe7f9, 0xbaa0, 0x62f1, 0x6cc3, 0x8f0b, 0x1, 0x1);
        gbc.writeMem(0x7f64, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xe7f9);
        EXPECT(gbc.pc(), 0x7f65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 028A
        gbc.setState(0xc2f3, 0x1296, 0xc6e0, 0x46a9, 0x1989, 0xeef6, 0x0, 0x0);
        gbc.writeMem(0xc2f3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x1296);
        EXPECT(gbc.pc(), 0xc2f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2f3), 0x3c);
        // 3C 028B
        gbc.setState(0x9c4b, 0xd80, 0x6d20, 0x8c6a, 0x1ad3, 0xa2bc, 0x1, 0x0);
        gbc.writeMem(0x9c4b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd80);
        EXPECT(gbc.pc(), 0x9c4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c4b), 0x3c);
        // 3C 028C
        gbc.setState(0x577b, 0x9354, 0x1aa0, 0x82f6, 0x3c2e, 0x32c8, 0x0, 0x0);
        gbc.writeMem(0x577b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x9354);
        EXPECT(gbc.pc(), 0x577c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 028D
        gbc.setState(0x6d98, 0xb67c, 0xf280, 0xd6a4, 0xe658, 0xc635, 0x0, 0x1);
        gbc.writeMem(0x6d98, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xb67c);
        EXPECT(gbc.pc(), 0x6d99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 028E
        gbc.setState(0xb11b, 0x31b4, 0x5a80, 0x5153, 0x8d41, 0xdba8, 0x0, 0x0);
        gbc.writeMem(0xb11b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x31b4);
        EXPECT(gbc.pc(), 0xb11c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb11b), 0x3c);
        // 3C 028F
        gbc.setState(0xa28, 0x4b63, 0x1050, 0x351a, 0xda5b, 0x32ff, 0x1, 0x1);
        gbc.writeMem(0xa28, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x4b63);
        EXPECT(gbc.pc(), 0xa29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0291
        gbc.setState(0x6462, 0xd0a1, 0xe9d0, 0xfae7, 0x409c, 0xddda, 0x1, 0x1);
        gbc.writeMem(0x6462, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xd0a1);
        EXPECT(gbc.pc(), 0x6463);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0292
        gbc.setState(0xa9d9, 0x5975, 0x4ee0, 0x7f5d, 0xbebc, 0xac2c, 0x1, 0x0);
        gbc.writeMem(0xa9d9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x5975);
        EXPECT(gbc.pc(), 0xa9da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9d9), 0x3c);
        // 3C 0293
        gbc.setState(0xc941, 0x6519, 0xd850, 0xc3bb, 0xcad2, 0xb8d1, 0x1, 0x1);
        gbc.writeMem(0xc941, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x6519);
        EXPECT(gbc.pc(), 0xc942);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc941), 0x3c);
        // 3C 0294
        gbc.setState(0x9347, 0xc00, 0x5b0, 0xa1a9, 0x9fb7, 0x5f2, 0x1, 0x0);
        gbc.writeMem(0x9347, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xc00);
        EXPECT(gbc.pc(), 0x9348);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9347), 0x3c);
        // 3C 0295
        gbc.setState(0x2ef, 0x2641, 0x80c0, 0x7611, 0x19, 0x5742, 0x0, 0x0);
        gbc.writeMem(0x2ef, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x2641);
        EXPECT(gbc.pc(), 0x2f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0296
        gbc.setState(0xc773, 0x5ee2, 0xf590, 0x4bd, 0x2f55, 0xf46f, 0x0, 0x0);
        gbc.writeMem(0xc773, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x5ee2);
        EXPECT(gbc.pc(), 0xc774);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc773), 0x3c);
        // 3C 0297
        gbc.setState(0xecc9, 0x3b1b, 0x4f50, 0x3dc6, 0x594f, 0xec65, 0x1, 0x0);
        gbc.writeMem(0xecc9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x3b1b);
        EXPECT(gbc.pc(), 0xecca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecc9), 0x3c);
        // 3C 0298
        gbc.setState(0xe921, 0x7d21, 0x3f60, 0x18f3, 0x145d, 0x9eac, 0x0, 0x0);
        gbc.writeMem(0xe921, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x7d21);
        EXPECT(gbc.pc(), 0xe922);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe921), 0x3c);
        // 3C 0299
        gbc.setState(0x2131, 0xe391, 0xf780, 0x6c34, 0x1949, 0x6108, 0x1, 0x0);
        gbc.writeMem(0x2131, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xe391);
        EXPECT(gbc.pc(), 0x2132);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 029A
        gbc.setState(0xd63b, 0x4f41, 0x92b0, 0x55a4, 0xc2e, 0x561, 0x1, 0x1);
        gbc.writeMem(0xd63b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x4f41);
        EXPECT(gbc.pc(), 0xd63c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd63b), 0x3c);
        // 3C 029B
        gbc.setState(0x6fb1, 0x3d5f, 0x3e00, 0xf171, 0x8fc2, 0xc869, 0x1, 0x0);
        gbc.writeMem(0x6fb1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x3d5f);
        EXPECT(gbc.pc(), 0x6fb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 029C
        gbc.setState(0xdb2b, 0xa91f, 0x4e0, 0x1bd4, 0xc27, 0x5a58, 0x0, 0x1);
        gbc.writeMem(0xdb2b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xa91f);
        EXPECT(gbc.pc(), 0xdb2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb2b), 0x3c);
        // 3C 029D
        gbc.setState(0x81a2, 0x6a10, 0x4bf0, 0x5736, 0x4891, 0x4160, 0x0, 0x0);
        gbc.writeMem(0x81a2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x6a10);
        EXPECT(gbc.pc(), 0x81a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81a2), 0x3c);
        // 3C 029E
        gbc.setState(0x73f9, 0x98f9, 0x1360, 0xcaf4, 0x435, 0xba4d, 0x1, 0x1);
        gbc.writeMem(0x73f9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x98f9);
        EXPECT(gbc.pc(), 0x73fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 029F
        gbc.setState(0x9d7c, 0x13cc, 0x9fd0, 0x9bb6, 0x7d0b, 0xd70, 0x0, 0x1);
        gbc.writeMem(0x9d7c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x13cc);
        EXPECT(gbc.pc(), 0x9d7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d7c), 0x3c);
        // 3C 02A0
        gbc.setState(0x3234, 0xb555, 0x8620, 0x2bdf, 0x23a8, 0x649, 0x0, 0x0);
        gbc.writeMem(0x3234, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xb555);
        EXPECT(gbc.pc(), 0x3235);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02A1
        gbc.setState(0x271b, 0xe956, 0x6510, 0x4235, 0xfd7f, 0x2c17, 0x1, 0x0);
        gbc.writeMem(0x271b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xe956);
        EXPECT(gbc.pc(), 0x271c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02A2
        gbc.setState(0xe4f5, 0xcb5e, 0xdde0, 0x6a36, 0x9ae7, 0x55b2, 0x0, 0x0);
        gbc.writeMem(0xe4f5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xcb5e);
        EXPECT(gbc.pc(), 0xe4f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4f5), 0x3c);
        // 3C 02A3
        gbc.setState(0x3580, 0xabf4, 0x5ee0, 0x870e, 0x6f4d, 0x363e, 0x1, 0x1);
        gbc.writeMem(0x3580, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xabf4);
        EXPECT(gbc.pc(), 0x3581);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02A4
        gbc.setState(0x9fe3, 0xdeb6, 0xab0, 0x2b54, 0xe7e0, 0xff9c, 0x1, 0x1);
        gbc.writeMem(0x9fe3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xdeb6);
        EXPECT(gbc.pc(), 0x9fe4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fe3), 0x3c);
        // 3C 02A5
        gbc.setState(0xb0a5, 0x87e3, 0x11e0, 0x160d, 0x4f8f, 0x7d3c, 0x1, 0x1);
        gbc.writeMem(0xb0a5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x87e3);
        EXPECT(gbc.pc(), 0xb0a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0a5), 0x3c);
        // 3C 02A6
        gbc.setState(0xca61, 0x5f53, 0xf0d0, 0xf17e, 0xb2e3, 0x7063, 0x1, 0x1);
        gbc.writeMem(0xca61, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x5f53);
        EXPECT(gbc.pc(), 0xca62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca61), 0x3c);
        // 3C 02A7
        gbc.setState(0x9b9d, 0x5154, 0x5710, 0x91cd, 0x2114, 0x5e92, 0x0, 0x0);
        gbc.writeMem(0x9b9d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x5154);
        EXPECT(gbc.pc(), 0x9b9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b9d), 0x3c);
        // 3C 02A8
        gbc.setState(0x21ae, 0xf99a, 0xa5e0, 0xaa31, 0x97a0, 0x433a, 0x1, 0x0);
        gbc.writeMem(0x21ae, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xf99a);
        EXPECT(gbc.pc(), 0x21af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02A9
        gbc.setState(0x217c, 0xa68e, 0xd280, 0x390d, 0x2d24, 0x1811, 0x1, 0x0);
        gbc.writeMem(0x217c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xa68e);
        EXPECT(gbc.pc(), 0x217d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02AA
        gbc.setState(0xea24, 0x38e9, 0xc030, 0xae8e, 0x398f, 0x5c84, 0x1, 0x0);
        gbc.writeMem(0xea24, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x38e9);
        EXPECT(gbc.pc(), 0xea25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea24), 0x3c);
        // 3C 02AB
        gbc.setState(0x8351, 0xfd6c, 0xdfa0, 0xe8c0, 0xcb10, 0x7c10, 0x0, 0x0);
        gbc.writeMem(0x8351, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xfd6c);
        EXPECT(gbc.pc(), 0x8352);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8351), 0x3c);
        // 3C 02AC
        gbc.setState(0xdc9a, 0x7a45, 0x2e10, 0x55e0, 0x5015, 0xd5fc, 0x1, 0x1);
        gbc.writeMem(0xdc9a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x7a45);
        EXPECT(gbc.pc(), 0xdc9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc9a), 0x3c);
        // 3C 02AD
        gbc.setState(0x696c, 0x7729, 0x4790, 0xc774, 0x2b81, 0x7b32, 0x0, 0x0);
        gbc.writeMem(0x696c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x7729);
        EXPECT(gbc.pc(), 0x696d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02AE
        gbc.setState(0x294b, 0x56, 0xd070, 0x4564, 0x5d44, 0x479d, 0x1, 0x1);
        gbc.writeMem(0x294b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x56);
        EXPECT(gbc.pc(), 0x294c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02AF
        gbc.setState(0xd879, 0x500, 0x9af0, 0xb0a, 0x9c66, 0xfe6c, 0x0, 0x0);
        gbc.writeMem(0xd879, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x500);
        EXPECT(gbc.pc(), 0xd87a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd879), 0x3c);
        // 3C 02B0
        gbc.setState(0x495c, 0x1db4, 0xef60, 0x2e0f, 0x2542, 0x5f59, 0x0, 0x0);
        gbc.writeMem(0x495c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x1db4);
        EXPECT(gbc.pc(), 0x495d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 02B1
        gbc.setState(0x513, 0xc1cd, 0x740, 0x883, 0x34b8, 0x61df, 0x0, 0x0);
        gbc.writeMem(0x513, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xc1cd);
        EXPECT(gbc.pc(), 0x514);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02B2
        gbc.setState(0x1710, 0x1515, 0xd390, 0xbc15, 0xe035, 0x871d, 0x1, 0x1);
        gbc.writeMem(0x1710, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x1515);
        EXPECT(gbc.pc(), 0x1711);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02B3
        gbc.setState(0xea58, 0x8e25, 0x82c0, 0x78a1, 0x33f7, 0xd1b3, 0x0, 0x1);
        gbc.writeMem(0xea58, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x8e25);
        EXPECT(gbc.pc(), 0xea59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea58), 0x3c);
        // 3C 02B4
        gbc.setState(0xd602, 0xc8d1, 0xcbb0, 0x2119, 0x19dd, 0x8f79, 0x0, 0x1);
        gbc.writeMem(0xd602, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xc8d1);
        EXPECT(gbc.pc(), 0xd603);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd602), 0x3c);
        // 3C 02B5
        gbc.setState(0xe53e, 0xcf44, 0xa160, 0x6cbb, 0x4fc, 0x590d, 0x0, 0x1);
        gbc.writeMem(0xe53e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xcf44);
        EXPECT(gbc.pc(), 0xe53f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe53e), 0x3c);
        // 3C 02B6
        gbc.setState(0x673, 0xb52f, 0xcf50, 0x4338, 0xa49d, 0x21a4, 0x1, 0x0);
        gbc.writeMem(0x673, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xb52f);
        EXPECT(gbc.pc(), 0x674);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 02B7
        gbc.setState(0x78dd, 0x2c98, 0x9ca0, 0xacfb, 0x1ae2, 0x54c2, 0x0, 0x0);
        gbc.writeMem(0x78dd, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x2c98);
        EXPECT(gbc.pc(), 0x78de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02B8
        gbc.setState(0x2886, 0xade0, 0xb0f0, 0x17fd, 0xf474, 0x424e, 0x0, 0x1);
        gbc.writeMem(0x2886, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xade0);
        EXPECT(gbc.pc(), 0x2887);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02BB
        gbc.setState(0x2e3d, 0x863, 0x1bd0, 0x59cd, 0x25d2, 0x1f73, 0x1, 0x1);
        gbc.writeMem(0x2e3d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x863);
        EXPECT(gbc.pc(), 0x2e3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02BC
        gbc.setState(0x3dc, 0xa284, 0xee80, 0xcf4f, 0x5eea, 0x16ff, 0x1, 0x0);
        gbc.writeMem(0x3dc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xa284);
        EXPECT(gbc.pc(), 0x3dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02BD
        gbc.setState(0x6325, 0x281, 0x9f60, 0x714, 0xc539, 0xdca0, 0x0, 0x0);
        gbc.writeMem(0x6325, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x281);
        EXPECT(gbc.pc(), 0x6326);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 02BE
        gbc.setState(0xe020, 0xc203, 0xf780, 0x6cc5, 0xb8a6, 0xfa4e, 0x0, 0x0);
        gbc.writeMem(0xe020, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xc203);
        EXPECT(gbc.pc(), 0xe021);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe020), 0x3c);
        // 3C 02BF
        gbc.setState(0x44cf, 0xc00e, 0x470, 0x84cd, 0xbfe3, 0x6768, 0x0, 0x1);
        gbc.writeMem(0x44cf, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xc00e);
        EXPECT(gbc.pc(), 0x44d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02C0
        gbc.setState(0x6b15, 0x62e7, 0x4c70, 0x5465, 0x8ce2, 0x14f1, 0x0, 0x0);
        gbc.writeMem(0x6b15, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x62e7);
        EXPECT(gbc.pc(), 0x6b16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02C1
        gbc.setState(0x6b43, 0x7cc3, 0xd560, 0x9738, 0x5db3, 0xa109, 0x1, 0x1);
        gbc.writeMem(0x6b43, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x7cc3);
        EXPECT(gbc.pc(), 0x6b44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02C2
        gbc.setState(0x11f3, 0xab61, 0x1c30, 0xd7db, 0x9801, 0x19e, 0x1, 0x0);
        gbc.writeMem(0x11f3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xab61);
        EXPECT(gbc.pc(), 0x11f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02C3
        gbc.setState(0x3a31, 0xca76, 0xa430, 0x73a8, 0x9c7c, 0xa84f, 0x0, 0x0);
        gbc.writeMem(0x3a31, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xca76);
        EXPECT(gbc.pc(), 0x3a32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02C4
        gbc.setState(0xebfe, 0xa1fb, 0x8fd0, 0x4065, 0xdb6b, 0xa8a1, 0x1, 0x1);
        gbc.writeMem(0xebfe, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xa1fb);
        EXPECT(gbc.pc(), 0xebff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebfe), 0x3c);
        // 3C 02C5
        gbc.setState(0x296f, 0x10e7, 0xd970, 0xea92, 0x953e, 0x524e, 0x0, 0x0);
        gbc.writeMem(0x296f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x10e7);
        EXPECT(gbc.pc(), 0x2970);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02C6
        gbc.setState(0x4154, 0xfe86, 0xe1a0, 0x3b58, 0xe9f9, 0x331, 0x1, 0x0);
        gbc.writeMem(0x4154, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xfe86);
        EXPECT(gbc.pc(), 0x4155);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02C7
        gbc.setState(0x54cc, 0x1406, 0x1e00, 0xa2d8, 0x76e5, 0xd81, 0x1, 0x0);
        gbc.writeMem(0x54cc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x1406);
        EXPECT(gbc.pc(), 0x54cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02C8
        gbc.setState(0x8e9b, 0x690d, 0x7fb0, 0x53f0, 0xd431, 0xfe29, 0x1, 0x1);
        gbc.writeMem(0x8e9b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x690d);
        EXPECT(gbc.pc(), 0x8e9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e9b), 0x3c);
        // 3C 02C9
        gbc.setState(0xc4f4, 0xd207, 0x6110, 0x40bf, 0x4a4a, 0xdc97, 0x1, 0x1);
        gbc.writeMem(0xc4f4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xd207);
        EXPECT(gbc.pc(), 0xc4f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4f4), 0x3c);
        // 3C 02CA
        gbc.setState(0x7d17, 0x9102, 0x1bd0, 0x2c5a, 0xd005, 0x317e, 0x1, 0x1);
        gbc.writeMem(0x7d17, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x9102);
        EXPECT(gbc.pc(), 0x7d18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02CB
        gbc.setState(0xc064, 0x72da, 0x8990, 0xb8d, 0x153f, 0xacb0, 0x0, 0x1);
        gbc.writeMem(0xc064, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x72da);
        EXPECT(gbc.pc(), 0xc065);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc064), 0x3c);
        // 3C 02CD
        gbc.setState(0xd530, 0xd752, 0xf900, 0x8d13, 0x4dc4, 0x9856, 0x1, 0x1);
        gbc.writeMem(0xd530, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xd752);
        EXPECT(gbc.pc(), 0xd531);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd530), 0x3c);
        // 3C 02CE
        gbc.setState(0x1ce5, 0x1354, 0x7b80, 0x163b, 0x4552, 0xe6e, 0x1, 0x1);
        gbc.writeMem(0x1ce5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x1354);
        EXPECT(gbc.pc(), 0x1ce6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02CF
        gbc.setState(0x8d74, 0xe066, 0x4b30, 0x9df0, 0xe3b3, 0x8f49, 0x1, 0x0);
        gbc.writeMem(0x8d74, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xe066);
        EXPECT(gbc.pc(), 0x8d75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d74), 0x3c);
        // 3C 02D0
        gbc.setState(0x82c3, 0xe458, 0x44f0, 0xc844, 0x8368, 0xbd1b, 0x0, 0x1);
        gbc.writeMem(0x82c3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe458);
        EXPECT(gbc.pc(), 0x82c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82c3), 0x3c);
        // 3C 02D1
        gbc.setState(0x6947, 0xa8c0, 0xa5c0, 0xc53a, 0x252c, 0x1796, 0x0, 0x1);
        gbc.writeMem(0x6947, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xa8c0);
        EXPECT(gbc.pc(), 0x6948);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02D2
        gbc.setState(0xe99, 0xb851, 0xc5b0, 0xda61, 0x4015, 0xe31e, 0x1, 0x1);
        gbc.writeMem(0xe99, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xb851);
        EXPECT(gbc.pc(), 0xe9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02D4
        gbc.setState(0xec5f, 0x51a1, 0x56a0, 0xeb57, 0x8b3b, 0x5ac5, 0x0, 0x0);
        gbc.writeMem(0xec5f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x51a1);
        EXPECT(gbc.pc(), 0xec60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec5f), 0x3c);
        // 3C 02D5
        gbc.setState(0x4fab, 0x9f, 0xb6f0, 0x6f4a, 0xa1fd, 0x4dc, 0x1, 0x1);
        gbc.writeMem(0x4fab, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x9f);
        EXPECT(gbc.pc(), 0x4fac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02D6
        gbc.setState(0x11f2, 0x9abc, 0x8430, 0x11ed, 0xccb7, 0xed42, 0x0, 0x0);
        gbc.writeMem(0x11f2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x9abc);
        EXPECT(gbc.pc(), 0x11f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02D7
        gbc.setState(0x186, 0xac6f, 0x6130, 0x36e5, 0xcc52, 0x395a, 0x0, 0x0);
        gbc.writeMem(0x186, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xac6f);
        EXPECT(gbc.pc(), 0x187);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02D9
        gbc.setState(0x8109, 0xfb0a, 0xb0f0, 0x4339, 0x7ae1, 0x1ab, 0x1, 0x0);
        gbc.writeMem(0x8109, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xfb0a);
        EXPECT(gbc.pc(), 0x810a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8109), 0x3c);
        // 3C 02DA
        gbc.setState(0x3bde, 0xe0e3, 0x2810, 0x6d0b, 0xae37, 0x133f, 0x1, 0x1);
        gbc.writeMem(0x3bde, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe0e3);
        EXPECT(gbc.pc(), 0x3bdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02DB
        gbc.setState(0x18b1, 0x75f9, 0x2f20, 0x96c4, 0x4082, 0x8ee1, 0x1, 0x1);
        gbc.writeMem(0x18b1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x75f9);
        EXPECT(gbc.pc(), 0x18b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 02DC
        gbc.setState(0xbb43, 0x1779, 0x9cb0, 0x57a0, 0x181c, 0x2ba7, 0x0, 0x1);
        gbc.writeMem(0xbb43, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x1779);
        EXPECT(gbc.pc(), 0xbb44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb43), 0x3c);
        // 3C 02DD
        gbc.setState(0x5ae8, 0xf99, 0x3560, 0x2828, 0xe4a3, 0xaa11, 0x0, 0x0);
        gbc.writeMem(0x5ae8, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xf99);
        EXPECT(gbc.pc(), 0x5ae9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02DE
        gbc.setState(0xdc2c, 0x1be3, 0x5240, 0xd107, 0xea32, 0x6d7d, 0x1, 0x0);
        gbc.writeMem(0xdc2c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x1be3);
        EXPECT(gbc.pc(), 0xdc2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc2c), 0x3c);
        // 3C 02DF
        gbc.setState(0x11e7, 0x371d, 0xd8b0, 0xa0a9, 0x507f, 0x2ecb, 0x1, 0x1);
        gbc.writeMem(0x11e7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x371d);
        EXPECT(gbc.pc(), 0x11e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02E0
        gbc.setState(0x8b65, 0x9c9b, 0x1850, 0xd250, 0x69be, 0xa51c, 0x0, 0x0);
        gbc.writeMem(0x8b65, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x9c9b);
        EXPECT(gbc.pc(), 0x8b66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b65), 0x3c);
        // 3C 02E1
        gbc.setState(0xbd, 0x56e5, 0x5c40, 0x75a7, 0x6a, 0x8ef2, 0x1, 0x1);
        gbc.writeMem(0xbd, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x56e5);
        EXPECT(gbc.pc(), 0xbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02E2
        gbc.setState(0x1ef4, 0xd233, 0xeeb0, 0x8580, 0x7cfe, 0x288d, 0x0, 0x0);
        gbc.writeMem(0x1ef4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xd233);
        EXPECT(gbc.pc(), 0x1ef5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02E3
        gbc.setState(0xd749, 0xec09, 0xc500, 0xa726, 0x5ff1, 0x1fcf, 0x1, 0x0);
        gbc.writeMem(0xd749, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xec09);
        EXPECT(gbc.pc(), 0xd74a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd749), 0x3c);
        // 3C 02E4
        gbc.setState(0x9ea, 0xcd75, 0xa1d0, 0xd82e, 0x1554, 0xf60c, 0x0, 0x0);
        gbc.writeMem(0x9ea, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xcd75);
        EXPECT(gbc.pc(), 0x9eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02E5
        gbc.setState(0x40c3, 0x488f, 0x48d0, 0x3d52, 0xbdc5, 0x2b79, 0x0, 0x0);
        gbc.writeMem(0x40c3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x488f);
        EXPECT(gbc.pc(), 0x40c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02E6
        gbc.setState(0x9e92, 0x34f7, 0x5090, 0xaac, 0xa816, 0xd0c1, 0x0, 0x1);
        gbc.writeMem(0x9e92, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x34f7);
        EXPECT(gbc.pc(), 0x9e93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e92), 0x3c);
        // 3C 02E7
        gbc.setState(0xb30a, 0xdd57, 0x8930, 0xc52d, 0x4d27, 0x6e19, 0x1, 0x1);
        gbc.writeMem(0xb30a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xdd57);
        EXPECT(gbc.pc(), 0xb30b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb30a), 0x3c);
        // 3C 02E8
        gbc.setState(0x738f, 0x909f, 0xd2e0, 0xa9c1, 0x6a7d, 0xf4fd, 0x1, 0x1);
        gbc.writeMem(0x738f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x909f);
        EXPECT(gbc.pc(), 0x7390);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02E9
        gbc.setState(0x27a5, 0x608e, 0x74e0, 0xeb88, 0x1468, 0x3981, 0x0, 0x0);
        gbc.writeMem(0x27a5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x608e);
        EXPECT(gbc.pc(), 0x27a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02EA
        gbc.setState(0x40b4, 0x4fc9, 0xbd10, 0xc769, 0xac4c, 0xff6b, 0x0, 0x1);
        gbc.writeMem(0x40b4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x4fc9);
        EXPECT(gbc.pc(), 0x40b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02EB
        gbc.setState(0x3138, 0xb254, 0x58e0, 0xcd10, 0x7524, 0x12ee, 0x0, 0x0);
        gbc.writeMem(0x3138, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xb254);
        EXPECT(gbc.pc(), 0x3139);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02EC
        gbc.setState(0x9e97, 0xf6df, 0x6980, 0xc96c, 0xc1be, 0x845b, 0x1, 0x1);
        gbc.writeMem(0x9e97, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xf6df);
        EXPECT(gbc.pc(), 0x9e98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e97), 0x3c);
        // 3C 02ED
        gbc.setState(0x5d41, 0x4fd0, 0x5980, 0x62d2, 0xf09a, 0x8e98, 0x1, 0x0);
        gbc.writeMem(0x5d41, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4fd0);
        EXPECT(gbc.pc(), 0x5d42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02EE
        gbc.setState(0x83ef, 0xefb4, 0xf420, 0x4cc1, 0x97db, 0xbfc, 0x1, 0x0);
        gbc.writeMem(0x83ef, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xefb4);
        EXPECT(gbc.pc(), 0x83f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83ef), 0x3c);
        // 3C 02EF
        gbc.setState(0x6769, 0xe3bf, 0xff00, 0x9d2c, 0x9d5, 0x87b2, 0x1, 0x1);
        gbc.writeMem(0x6769, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xe3bf);
        EXPECT(gbc.pc(), 0x676a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 02F0
        gbc.setState(0x2667, 0x5a1d, 0xecd0, 0xfdb8, 0x1470, 0xb052, 0x0, 0x0);
        gbc.writeMem(0x2667, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x5a1d);
        EXPECT(gbc.pc(), 0x2668);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02F1
        gbc.setState(0x4246, 0x1002, 0x76c0, 0x2351, 0xef0c, 0xa0cd, 0x1, 0x0);
        gbc.writeMem(0x4246, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x1002);
        EXPECT(gbc.pc(), 0x4247);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02F2
        gbc.setState(0x5484, 0x36e8, 0x5450, 0xe022, 0x3c31, 0xb1be, 0x1, 0x1);
        gbc.writeMem(0x5484, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x36e8);
        EXPECT(gbc.pc(), 0x5485);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02F3
        gbc.setState(0xae17, 0x7a51, 0x1380, 0x4d7e, 0x689d, 0xa2d, 0x1, 0x0);
        gbc.writeMem(0xae17, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x7a51);
        EXPECT(gbc.pc(), 0xae18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae17), 0x3c);
        // 3C 02F4
        gbc.setState(0x8715, 0x5159, 0xde30, 0xe76b, 0xac85, 0xe175, 0x0, 0x0);
        gbc.writeMem(0x8715, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x5159);
        EXPECT(gbc.pc(), 0x8716);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8715), 0x3c);
        // 3C 02F5
        gbc.setState(0xdf3b, 0x3fcf, 0x54d0, 0x3181, 0x68bd, 0x7e95, 0x1, 0x0);
        gbc.writeMem(0xdf3b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x3fcf);
        EXPECT(gbc.pc(), 0xdf3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf3b), 0x3c);
        // 3C 02F6
        gbc.setState(0x827d, 0xdcf6, 0x9ae0, 0xa63c, 0x746e, 0xd976, 0x0, 0x1);
        gbc.writeMem(0x827d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xdcf6);
        EXPECT(gbc.pc(), 0x827e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x827d), 0x3c);
        // 3C 02F7
        gbc.setState(0x7361, 0x77e9, 0xe640, 0xdbfb, 0x4bd1, 0xd091, 0x0, 0x1);
        gbc.writeMem(0x7361, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x77e9);
        EXPECT(gbc.pc(), 0x7362);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02F8
        gbc.setState(0x7d99, 0x8f48, 0x9020, 0xd08, 0x900a, 0x8923, 0x1, 0x0);
        gbc.writeMem(0x7d99, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x8f48);
        EXPECT(gbc.pc(), 0x7d9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 02F9
        gbc.setState(0x5334, 0x8305, 0x3e70, 0x9e74, 0xdf37, 0xd9b9, 0x1, 0x1);
        gbc.writeMem(0x5334, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x8305);
        EXPECT(gbc.pc(), 0x5335);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02FA
        gbc.setState(0x55ca, 0x4330, 0x1b30, 0x8087, 0x6a5b, 0x5e89, 0x0, 0x0);
        gbc.writeMem(0x55ca, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x4330);
        EXPECT(gbc.pc(), 0x55cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 02FC
        gbc.setState(0xebb1, 0x9504, 0xb90, 0xc781, 0xe805, 0x9818, 0x1, 0x1);
        gbc.writeMem(0xebb1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x9504);
        EXPECT(gbc.pc(), 0xebb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebb1), 0x3c);
        // 3C 02FD
        gbc.setState(0x9552, 0xa83d, 0x1280, 0x16f9, 0x3aa9, 0x2fc, 0x1, 0x0);
        gbc.writeMem(0x9552, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xa83d);
        EXPECT(gbc.pc(), 0x9553);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9552), 0x3c);
        // 3C 02FE
        gbc.setState(0x4714, 0xbfa8, 0x6af0, 0xfde1, 0x29b3, 0xa43f, 0x0, 0x1);
        gbc.writeMem(0x4714, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xbfa8);
        EXPECT(gbc.pc(), 0x4715);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0300
        gbc.setState(0xd9fe, 0x3b1d, 0x4690, 0x270d, 0xbf59, 0xcee5, 0x0, 0x0);
        gbc.writeMem(0xd9fe, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x3b1d);
        EXPECT(gbc.pc(), 0xd9ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9fe), 0x3c);
        // 3C 0301
        gbc.setState(0x4388, 0xf8f6, 0x1400, 0x1fe5, 0xc202, 0xcca8, 0x1, 0x0);
        gbc.writeMem(0x4388, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xf8f6);
        EXPECT(gbc.pc(), 0x4389);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0302
        gbc.setState(0xcb41, 0xd074, 0x8c30, 0xd3af, 0x431c, 0xdd6a, 0x0, 0x0);
        gbc.writeMem(0xcb41, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xd074);
        EXPECT(gbc.pc(), 0xcb42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb41), 0x3c);
        // 3C 0303
        gbc.setState(0x33da, 0x3ac3, 0x94b0, 0xabf9, 0x5c97, 0x608a, 0x0, 0x0);
        gbc.writeMem(0x33da, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x3ac3);
        EXPECT(gbc.pc(), 0x33db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0304
        gbc.setState(0x373d, 0xf383, 0xd780, 0x1bf7, 0xb0a3, 0x7555, 0x0, 0x0);
        gbc.writeMem(0x373d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xf383);
        EXPECT(gbc.pc(), 0x373e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0305
        gbc.setState(0x831e, 0x7517, 0x8de0, 0xc193, 0x273b, 0x618d, 0x0, 0x0);
        gbc.writeMem(0x831e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x7517);
        EXPECT(gbc.pc(), 0x831f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x831e), 0x3c);
        // 3C 0306
        gbc.setState(0xa022, 0xaf38, 0xd440, 0x914b, 0x80d3, 0xba3f, 0x1, 0x0);
        gbc.writeMem(0xa022, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xaf38);
        EXPECT(gbc.pc(), 0xa023);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa022), 0x3c);
        // 3C 0307
        gbc.setState(0xb07d, 0xadbe, 0x670, 0xf535, 0x2d0c, 0xe38c, 0x0, 0x1);
        gbc.writeMem(0xb07d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xadbe);
        EXPECT(gbc.pc(), 0xb07e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb07d), 0x3c);
        // 3C 0308
        gbc.setState(0x6d1c, 0xf855, 0xbcc0, 0x55be, 0x6015, 0x3686, 0x0, 0x1);
        gbc.writeMem(0x6d1c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xf855);
        EXPECT(gbc.pc(), 0x6d1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0309
        gbc.setState(0xeb40, 0xd772, 0x1430, 0xf476, 0xc796, 0x2f0c, 0x1, 0x1);
        gbc.writeMem(0xeb40, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xd772);
        EXPECT(gbc.pc(), 0xeb41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb40), 0x3c);
        // 3C 030A
        gbc.setState(0xccad, 0xe686, 0x7570, 0x4942, 0x8506, 0x77a4, 0x1, 0x0);
        gbc.writeMem(0xccad, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xe686);
        EXPECT(gbc.pc(), 0xccae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccad), 0x3c);
        // 3C 030B
        gbc.setState(0xb5f1, 0x82a, 0x20d0, 0x6cb8, 0xe6f4, 0x7ab, 0x1, 0x1);
        gbc.writeMem(0xb5f1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x82a);
        EXPECT(gbc.pc(), 0xb5f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5f1), 0x3c);
        // 3C 030C
        gbc.setState(0xcea8, 0xc943, 0x3070, 0x8729, 0xbded, 0x1a4, 0x1, 0x0);
        gbc.writeMem(0xcea8, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xc943);
        EXPECT(gbc.pc(), 0xcea9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcea8), 0x3c);
        // 3C 030D
        gbc.setState(0xb794, 0xfe47, 0xce20, 0x3ce1, 0x8a41, 0xac2a, 0x1, 0x1);
        gbc.writeMem(0xb794, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xfe47);
        EXPECT(gbc.pc(), 0xb795);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb794), 0x3c);
        // 3C 030E
        gbc.setState(0x15f7, 0x5646, 0xde40, 0x54fe, 0x400f, 0xcbf6, 0x1, 0x1);
        gbc.writeMem(0x15f7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x5646);
        EXPECT(gbc.pc(), 0x15f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0310
        gbc.setState(0x891, 0xd71, 0xafa0, 0x4255, 0xc08c, 0x9dcb, 0x0, 0x1);
        gbc.writeMem(0x891, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xd71);
        EXPECT(gbc.pc(), 0x892);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 0311
        gbc.setState(0x134, 0x7faf, 0x2ff0, 0xf075, 0x69c0, 0xbef1, 0x0, 0x1);
        gbc.writeMem(0x134, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x7faf);
        EXPECT(gbc.pc(), 0x135);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 0313
        gbc.setState(0xe374, 0x7ea2, 0x9220, 0x8fea, 0x694b, 0x580, 0x1, 0x1);
        gbc.writeMem(0xe374, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x7ea2);
        EXPECT(gbc.pc(), 0xe375);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe374), 0x3c);
        // 3C 0314
        gbc.setState(0x79c6, 0x2320, 0x1d70, 0x5c1e, 0x798, 0x7c9a, 0x0, 0x1);
        gbc.writeMem(0x79c6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x2320);
        EXPECT(gbc.pc(), 0x79c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0315
        gbc.setState(0x9a95, 0x36ab, 0x7620, 0x8cde, 0xc515, 0x44f6, 0x1, 0x0);
        gbc.writeMem(0x9a95, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x36ab);
        EXPECT(gbc.pc(), 0x9a96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a95), 0x3c);
        // 3C 0316
        gbc.setState(0xb4a3, 0xe6de, 0x8420, 0xa09b, 0x44a3, 0xe72c, 0x0, 0x1);
        gbc.writeMem(0xb4a3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xe6de);
        EXPECT(gbc.pc(), 0xb4a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4a3), 0x3c);
        // 3C 0317
        gbc.setState(0x9144, 0xa3d1, 0x1910, 0x1f12, 0x524f, 0xd7d2, 0x0, 0x1);
        gbc.writeMem(0x9144, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xa3d1);
        EXPECT(gbc.pc(), 0x9145);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9144), 0x3c);
        // 3C 0318
        gbc.setState(0xae6f, 0x8233, 0xb060, 0x3263, 0xc44e, 0x58b1, 0x0, 0x0);
        gbc.writeMem(0xae6f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x8233);
        EXPECT(gbc.pc(), 0xae70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae6f), 0x3c);
        // 3C 0319
        gbc.setState(0xb10c, 0xb319, 0x1dc0, 0xb0e1, 0xabc1, 0x909e, 0x0, 0x1);
        gbc.writeMem(0xb10c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xb319);
        EXPECT(gbc.pc(), 0xb10d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb10c), 0x3c);
        // 3C 031A
        gbc.setState(0xcf23, 0x54e5, 0x2a20, 0x9a9f, 0x4d60, 0x467, 0x1, 0x1);
        gbc.writeMem(0xcf23, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x54e5);
        EXPECT(gbc.pc(), 0xcf24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf23), 0x3c);
        // 3C 031B
        gbc.setState(0x4b87, 0xb511, 0x5b0, 0x6830, 0xdf45, 0xf9ec, 0x0, 0x1);
        gbc.writeMem(0x4b87, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xb511);
        EXPECT(gbc.pc(), 0x4b88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 031C
        gbc.setState(0xa081, 0xc2b7, 0xe500, 0xe7b7, 0xe456, 0x4ff2, 0x1, 0x0);
        gbc.writeMem(0xa081, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xc2b7);
        EXPECT(gbc.pc(), 0xa082);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa081), 0x3c);
        // 3C 031D
        gbc.setState(0xd606, 0xb9d9, 0xa510, 0xdca8, 0xb874, 0x94f7, 0x1, 0x1);
        gbc.writeMem(0xd606, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xb9d9);
        EXPECT(gbc.pc(), 0xd607);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd606), 0x3c);
        // 3C 031E
        gbc.setState(0xd0b, 0x4d15, 0x5470, 0xfecb, 0x9e88, 0x52f8, 0x0, 0x0);
        gbc.writeMem(0xd0b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x4d15);
        EXPECT(gbc.pc(), 0xd0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 031F
        gbc.setState(0x70df, 0xa567, 0x86e0, 0x912f, 0x1498, 0xfca5, 0x1, 0x0);
        gbc.writeMem(0x70df, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xa567);
        EXPECT(gbc.pc(), 0x70e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0320
        gbc.setState(0x4e1c, 0x1292, 0x32e0, 0x3c63, 0x776b, 0x7260, 0x1, 0x0);
        gbc.writeMem(0x4e1c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x1292);
        EXPECT(gbc.pc(), 0x4e1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0321
        gbc.setState(0x5528, 0x1eb4, 0xa5c0, 0x90d0, 0x9091, 0xd00a, 0x0, 0x0);
        gbc.writeMem(0x5528, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x1eb4);
        EXPECT(gbc.pc(), 0x5529);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0322
        gbc.setState(0x22f6, 0x752e, 0x6400, 0xee5b, 0x6021, 0xc1bd, 0x0, 0x1);
        gbc.writeMem(0x22f6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x752e);
        EXPECT(gbc.pc(), 0x22f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0323
        gbc.setState(0x5033, 0xb626, 0x6c20, 0xf821, 0x5d5, 0xcd43, 0x1, 0x0);
        gbc.writeMem(0x5033, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xb626);
        EXPECT(gbc.pc(), 0x5034);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0324
        gbc.setState(0x134b, 0x51d3, 0xd8e0, 0x881c, 0x6583, 0x620a, 0x0, 0x1);
        gbc.writeMem(0x134b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x51d3);
        EXPECT(gbc.pc(), 0x134c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0325
        gbc.setState(0x93d, 0x2271, 0x3d50, 0xdf7a, 0x35e4, 0x1dcf, 0x0, 0x0);
        gbc.writeMem(0x93d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x2271);
        EXPECT(gbc.pc(), 0x93e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0326
        gbc.setState(0x5127, 0x913b, 0xc8b0, 0x3f7b, 0x494a, 0x4d73, 0x0, 0x1);
        gbc.writeMem(0x5127, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x913b);
        EXPECT(gbc.pc(), 0x5128);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0327
        gbc.setState(0x39a0, 0xff14, 0xa930, 0x9321, 0x6df3, 0x2820, 0x1, 0x0);
        gbc.writeMem(0x39a0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xff14);
        EXPECT(gbc.pc(), 0x39a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0328
        gbc.setState(0x10d0, 0x5864, 0xe050, 0x4bb2, 0x7bc4, 0xe916, 0x0, 0x0);
        gbc.writeMem(0x10d0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x5864);
        EXPECT(gbc.pc(), 0x10d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0329
        gbc.setState(0x5078, 0x1e2b, 0x2900, 0x48dd, 0x9f91, 0x317e, 0x1, 0x0);
        gbc.writeMem(0x5078, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x1e2b);
        EXPECT(gbc.pc(), 0x5079);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 032A
        gbc.setState(0x38f7, 0x4250, 0x8f90, 0xbe5e, 0xff02, 0x145e, 0x1, 0x1);
        gbc.writeMem(0x38f7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x4250);
        EXPECT(gbc.pc(), 0x38f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 032B
        gbc.setState(0x2a22, 0x7420, 0x7720, 0x9ff3, 0x7d6a, 0x534, 0x1, 0x0);
        gbc.writeMem(0x2a22, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x7420);
        EXPECT(gbc.pc(), 0x2a23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 032C
        gbc.setState(0xb818, 0xfa99, 0xe790, 0x237a, 0xa17b, 0x73ce, 0x1, 0x1);
        gbc.writeMem(0xb818, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xfa99);
        EXPECT(gbc.pc(), 0xb819);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb818), 0x3c);
        // 3C 032D
        gbc.setState(0x436b, 0xd870, 0xfb70, 0xf365, 0x3df0, 0x158b, 0x0, 0x1);
        gbc.writeMem(0x436b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xd870);
        EXPECT(gbc.pc(), 0x436c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 032F
        gbc.setState(0x70e9, 0xfd1c, 0xd980, 0xf4e6, 0xc5db, 0x28, 0x0, 0x0);
        gbc.writeMem(0x70e9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xfd1c);
        EXPECT(gbc.pc(), 0x70ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0331
        gbc.setState(0x82c3, 0x594a, 0xf670, 0xec48, 0x73f1, 0xe59e, 0x0, 0x1);
        gbc.writeMem(0x82c3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x594a);
        EXPECT(gbc.pc(), 0x82c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82c3), 0x3c);
        // 3C 0332
        gbc.setState(0x1ae6, 0x3c08, 0xa5a0, 0x49a1, 0xb54d, 0x66a6, 0x0, 0x0);
        gbc.writeMem(0x1ae6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x3c08);
        EXPECT(gbc.pc(), 0x1ae7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0333
        gbc.setState(0x9c40, 0xa871, 0x1bf0, 0x8f69, 0x440d, 0x4309, 0x1, 0x1);
        gbc.writeMem(0x9c40, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xa871);
        EXPECT(gbc.pc(), 0x9c41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c40), 0x3c);
        // 3C 0334
        gbc.setState(0xd148, 0x39c2, 0x8080, 0x30a, 0xdcf9, 0xf3dd, 0x0, 0x1);
        gbc.writeMem(0xd148, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x39c2);
        EXPECT(gbc.pc(), 0xd149);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd148), 0x3c);
        // 3C 0335
        gbc.setState(0x1325, 0x1541, 0x5b90, 0x8915, 0x7083, 0x2380, 0x1, 0x0);
        gbc.writeMem(0x1325, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x1541);
        EXPECT(gbc.pc(), 0x1326);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0336
        gbc.setState(0xdfe3, 0x2205, 0x1250, 0x3b9e, 0xd586, 0xa718, 0x0, 0x1);
        gbc.writeMem(0xdfe3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x2205);
        EXPECT(gbc.pc(), 0xdfe4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfe3), 0x3c);
        // 3C 0337
        gbc.setState(0x5410, 0xdb59, 0x6a50, 0xa618, 0x10e1, 0x7335, 0x0, 0x1);
        gbc.writeMem(0x5410, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xdb59);
        EXPECT(gbc.pc(), 0x5411);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0338
        gbc.setState(0x75d6, 0x5141, 0x9080, 0xb4b6, 0xf379, 0x3b22, 0x1, 0x1);
        gbc.writeMem(0x75d6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x5141);
        EXPECT(gbc.pc(), 0x75d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0339
        gbc.setState(0xef5c, 0x3fb1, 0xbef0, 0x9e71, 0x9c07, 0x3d8a, 0x1, 0x1);
        gbc.writeMem(0xef5c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x3fb1);
        EXPECT(gbc.pc(), 0xef5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef5c), 0x3c);
        // 3C 033A
        gbc.setState(0xe00c, 0xbe32, 0xfba0, 0x984d, 0x12c5, 0xeb13, 0x1, 0x0);
        gbc.writeMem(0xe00c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xbe32);
        EXPECT(gbc.pc(), 0xe00d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe00c), 0x3c);
        // 3C 033C
        gbc.setState(0x6ce6, 0x8d82, 0x7220, 0x9564, 0x2058, 0xe681, 0x0, 0x0);
        gbc.writeMem(0x6ce6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x8d82);
        EXPECT(gbc.pc(), 0x6ce7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 033E
        gbc.setState(0xdb2d, 0x8802, 0x3080, 0x3b06, 0x5256, 0x146e, 0x0, 0x0);
        gbc.writeMem(0xdb2d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x8802);
        EXPECT(gbc.pc(), 0xdb2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb2d), 0x3c);
        // 3C 033F
        gbc.setState(0x1a00, 0xcb6e, 0x37c0, 0x1f20, 0x3de6, 0x8c1c, 0x1, 0x1);
        gbc.writeMem(0x1a00, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xcb6e);
        EXPECT(gbc.pc(), 0x1a01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0340
        gbc.setState(0x17dc, 0x49ad, 0x5ec0, 0xc78d, 0xa044, 0x3589, 0x0, 0x1);
        gbc.writeMem(0x17dc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x49ad);
        EXPECT(gbc.pc(), 0x17dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0342
        gbc.setState(0x2049, 0x6658, 0xe810, 0xae52, 0x7525, 0x29a, 0x0, 0x0);
        gbc.writeMem(0x2049, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x6658);
        EXPECT(gbc.pc(), 0x204a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0343
        gbc.setState(0xd09c, 0x9e4c, 0x1830, 0x4d0c, 0xb03d, 0xddf4, 0x0, 0x0);
        gbc.writeMem(0xd09c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x9e4c);
        EXPECT(gbc.pc(), 0xd09d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd09c), 0x3c);
        // 3C 0344
        gbc.setState(0xc8cf, 0x3271, 0x73c0, 0x355d, 0xa623, 0xfbb4, 0x1, 0x1);
        gbc.writeMem(0xc8cf, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x3271);
        EXPECT(gbc.pc(), 0xc8d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8cf), 0x3c);
        // 3C 0345
        gbc.setState(0xdce2, 0xba8f, 0x5940, 0x99c8, 0x295c, 0xb482, 0x0, 0x0);
        gbc.writeMem(0xdce2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xba8f);
        EXPECT(gbc.pc(), 0xdce3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdce2), 0x3c);
        // 3C 0347
        gbc.setState(0x5af2, 0x7390, 0xc080, 0xa58, 0xa961, 0xd625, 0x1, 0x1);
        gbc.writeMem(0x5af2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x7390);
        EXPECT(gbc.pc(), 0x5af3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0348
        gbc.setState(0xea2d, 0x47c1, 0xc550, 0x5c18, 0xb8c6, 0x4ecc, 0x1, 0x1);
        gbc.writeMem(0xea2d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x47c1);
        EXPECT(gbc.pc(), 0xea2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea2d), 0x3c);
        // 3C 0349
        gbc.setState(0x6a77, 0x5421, 0xc9a0, 0xd189, 0xa8c0, 0xe7fd, 0x1, 0x1);
        gbc.writeMem(0x6a77, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x5421);
        EXPECT(gbc.pc(), 0x6a78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 034A
        gbc.setState(0xb219, 0xcff3, 0xd5c0, 0xe917, 0xa6df, 0x1e22, 0x1, 0x1);
        gbc.writeMem(0xb219, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xcff3);
        EXPECT(gbc.pc(), 0xb21a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb219), 0x3c);
        // 3C 034B
        gbc.setState(0x1f21, 0x1334, 0xed10, 0xa4ae, 0xdbe9, 0xc74f, 0x1, 0x0);
        gbc.writeMem(0x1f21, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x1334);
        EXPECT(gbc.pc(), 0x1f22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 034C
        gbc.setState(0x14db, 0xc78a, 0xdfe0, 0x78f, 0xd7c1, 0x399b, 0x0, 0x0);
        gbc.writeMem(0x14db, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc78a);
        EXPECT(gbc.pc(), 0x14dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 034D
        gbc.setState(0xb1c3, 0xbdfa, 0xd260, 0x75c9, 0xb58d, 0xcb45, 0x1, 0x0);
        gbc.writeMem(0xb1c3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xbdfa);
        EXPECT(gbc.pc(), 0xb1c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1c3), 0x3c);
        // 3C 034E
        gbc.setState(0x2d42, 0xf42e, 0xe0e0, 0x5d0c, 0xf201, 0x6392, 0x0, 0x0);
        gbc.writeMem(0x2d42, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xf42e);
        EXPECT(gbc.pc(), 0x2d43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 034F
        gbc.setState(0x4e06, 0x46e8, 0x83d0, 0xde4e, 0x43de, 0x4dce, 0x1, 0x0);
        gbc.writeMem(0x4e06, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x46e8);
        EXPECT(gbc.pc(), 0x4e07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0350
        gbc.setState(0x3f22, 0x868, 0xc160, 0x547e, 0xd282, 0x9469, 0x0, 0x1);
        gbc.writeMem(0x3f22, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x868);
        EXPECT(gbc.pc(), 0x3f23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0352
        gbc.setState(0x1cf3, 0x6d10, 0x9db0, 0xc6a1, 0x1739, 0x63c2, 0x0, 0x1);
        gbc.writeMem(0x1cf3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x6d10);
        EXPECT(gbc.pc(), 0x1cf4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0353
        gbc.setState(0xe952, 0xcaf7, 0x29f0, 0x1968, 0x5618, 0x328f, 0x0, 0x1);
        gbc.writeMem(0xe952, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xcaf7);
        EXPECT(gbc.pc(), 0xe953);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe952), 0x3c);
        // 3C 0354
        gbc.setState(0x494, 0x6c69, 0xece0, 0x61b0, 0xde9, 0x1382, 0x0, 0x0);
        gbc.writeMem(0x494, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x6c69);
        EXPECT(gbc.pc(), 0x495);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0355
        gbc.setState(0x110e, 0x82a4, 0x7250, 0xbca0, 0xb8ad, 0xfa04, 0x0, 0x1);
        gbc.writeMem(0x110e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x82a4);
        EXPECT(gbc.pc(), 0x110f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0356
        gbc.setState(0xa2f6, 0x7676, 0x1f50, 0x30cd, 0xb19, 0xdba4, 0x0, 0x1);
        gbc.writeMem(0xa2f6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x7676);
        EXPECT(gbc.pc(), 0xa2f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2f6), 0x3c);
        // 3C 0357
        gbc.setState(0xe243, 0xa3cb, 0x5c30, 0x6606, 0xb9c8, 0x4282, 0x1, 0x0);
        gbc.writeMem(0xe243, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xa3cb);
        EXPECT(gbc.pc(), 0xe244);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe243), 0x3c);
        // 3C 0358
        gbc.setState(0x284, 0xd8fa, 0x4790, 0x83e, 0x4ae4, 0x644a, 0x1, 0x0);
        gbc.writeMem(0x284, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xd8fa);
        EXPECT(gbc.pc(), 0x285);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0359
        gbc.setState(0x97e9, 0xc2e2, 0xb240, 0xe012, 0x5ae9, 0x1bac, 0x0, 0x0);
        gbc.writeMem(0x97e9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xc2e2);
        EXPECT(gbc.pc(), 0x97ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97e9), 0x3c);
        // 3C 035A
        gbc.setState(0xf16, 0x5bb1, 0xd20, 0x1cf, 0x8ae8, 0xe216, 0x1, 0x1);
        gbc.writeMem(0xf16, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x5bb1);
        EXPECT(gbc.pc(), 0xf17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 035B
        gbc.setState(0x30c7, 0x1a8f, 0x81a0, 0x9931, 0xc249, 0x314e, 0x1, 0x1);
        gbc.writeMem(0x30c7, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x1a8f);
        EXPECT(gbc.pc(), 0x30c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 035C
        gbc.setState(0xa8c2, 0x39d, 0x66e0, 0x8600, 0xb893, 0xd991, 0x1, 0x0);
        gbc.writeMem(0xa8c2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x39d);
        EXPECT(gbc.pc(), 0xa8c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8c2), 0x3c);
        // 3C 035E
        gbc.setState(0x54aa, 0x680, 0xc4d0, 0xd802, 0xf081, 0xda68, 0x1, 0x1);
        gbc.writeMem(0x54aa, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x680);
        EXPECT(gbc.pc(), 0x54ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 035F
        gbc.setState(0xd7be, 0x40a0, 0x3330, 0x5efd, 0xa172, 0x63cb, 0x0, 0x0);
        gbc.writeMem(0xd7be, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x40a0);
        EXPECT(gbc.pc(), 0xd7bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7be), 0x3c);
        // 3C 0361
        gbc.setState(0x678b, 0xb5f0, 0x1a80, 0xf5d8, 0xdaf, 0xd828, 0x1, 0x1);
        gbc.writeMem(0x678b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb5f0);
        EXPECT(gbc.pc(), 0x678c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0362
        gbc.setState(0xccb, 0xfa4d, 0xb070, 0xd9ed, 0x4d2e, 0xa48a, 0x0, 0x0);
        gbc.writeMem(0xccb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xfa4d);
        EXPECT(gbc.pc(), 0xccc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0363
        gbc.setState(0x5159, 0xf2e6, 0x8270, 0xecf3, 0x527f, 0xa9c, 0x0, 0x1);
        gbc.writeMem(0x5159, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xf2e6);
        EXPECT(gbc.pc(), 0x515a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0364
        gbc.setState(0xa37, 0xc93f, 0x3b30, 0xc705, 0xf490, 0x9ae3, 0x1, 0x1);
        gbc.writeMem(0xa37, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xc93f);
        EXPECT(gbc.pc(), 0xa38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0365
        gbc.setState(0x5534, 0x1641, 0x9220, 0xd9df, 0xdba3, 0xa5c7, 0x0, 0x1);
        gbc.writeMem(0x5534, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x1641);
        EXPECT(gbc.pc(), 0x5535);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0366
        gbc.setState(0x7740, 0xd5f2, 0x8760, 0x6acc, 0x56a5, 0xd978, 0x1, 0x1);
        gbc.writeMem(0x7740, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xd5f2);
        EXPECT(gbc.pc(), 0x7741);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0367
        gbc.setState(0xed2, 0x95c8, 0x3440, 0x9ae7, 0xce75, 0x8720, 0x1, 0x0);
        gbc.writeMem(0xed2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x95c8);
        EXPECT(gbc.pc(), 0xed3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0368
        gbc.setState(0x6b5b, 0x93a2, 0xdfe0, 0x30, 0x7ab9, 0x6680, 0x0, 0x1);
        gbc.writeMem(0x6b5b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x93a2);
        EXPECT(gbc.pc(), 0x6b5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 0369
        gbc.setState(0x3fc6, 0xabb2, 0x1130, 0x5819, 0xe01f, 0x9ca6, 0x0, 0x1);
        gbc.writeMem(0x3fc6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xabb2);
        EXPECT(gbc.pc(), 0x3fc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 036B
        gbc.setState(0x2c00, 0xde19, 0xbb20, 0x3d09, 0xe416, 0x97df, 0x1, 0x1);
        gbc.writeMem(0x2c00, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xde19);
        EXPECT(gbc.pc(), 0x2c01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 036C
        gbc.setState(0x5f61, 0xd678, 0xa60, 0x849, 0x9292, 0x80b8, 0x1, 0x1);
        gbc.writeMem(0x5f61, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xd678);
        EXPECT(gbc.pc(), 0x5f62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 036D
        gbc.setState(0x517f, 0x3590, 0xcba0, 0xb425, 0xb7ef, 0x16e8, 0x1, 0x0);
        gbc.writeMem(0x517f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x3590);
        EXPECT(gbc.pc(), 0x5180);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 036E
        gbc.setState(0x5708, 0xd12d, 0xf970, 0xcb67, 0x7532, 0x2551, 0x0, 0x1);
        gbc.writeMem(0x5708, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xd12d);
        EXPECT(gbc.pc(), 0x5709);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 036F
        gbc.setState(0x84ed, 0xfea3, 0x85c0, 0xa1a5, 0xce69, 0xcaf, 0x1, 0x0);
        gbc.writeMem(0x84ed, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xfea3);
        EXPECT(gbc.pc(), 0x84ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84ed), 0x3c);
        // 3C 0371
        gbc.setState(0xbd1d, 0x55e4, 0xa400, 0xcaab, 0xdae, 0x5d16, 0x0, 0x1);
        gbc.writeMem(0xbd1d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x55e4);
        EXPECT(gbc.pc(), 0xbd1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd1d), 0x3c);
        // 3C 0372
        gbc.setState(0xa5ed, 0x2ce7, 0xa140, 0xa1d9, 0xfa96, 0x1451, 0x1, 0x1);
        gbc.writeMem(0xa5ed, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2ce7);
        EXPECT(gbc.pc(), 0xa5ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5ed), 0x3c);
        // 3C 0373
        gbc.setState(0x2e72, 0xbe4a, 0xe720, 0x9716, 0x5073, 0x6149, 0x1, 0x1);
        gbc.writeMem(0x2e72, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xbe4a);
        EXPECT(gbc.pc(), 0x2e73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0374
        gbc.setState(0xd097, 0x466e, 0x3810, 0xf56d, 0x69f5, 0x3213, 0x0, 0x1);
        gbc.writeMem(0xd097, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x466e);
        EXPECT(gbc.pc(), 0xd098);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd097), 0x3c);
        // 3C 0375
        gbc.setState(0x77a0, 0xefe5, 0x2b30, 0x538f, 0x7f6, 0x9485, 0x1, 0x1);
        gbc.writeMem(0x77a0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xefe5);
        EXPECT(gbc.pc(), 0x77a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0376
        gbc.setState(0x3a93, 0xc2aa, 0x3d40, 0xec52, 0x7681, 0xb64b, 0x0, 0x0);
        gbc.writeMem(0x3a93, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xc2aa);
        EXPECT(gbc.pc(), 0x3a94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0377
        gbc.setState(0x4d9b, 0xc66b, 0x61e0, 0x93f9, 0xd4db, 0xa129, 0x1, 0x1);
        gbc.writeMem(0x4d9b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xc66b);
        EXPECT(gbc.pc(), 0x4d9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0378
        gbc.setState(0xa380, 0xbf50, 0xe8c0, 0x6b04, 0xa979, 0x514d, 0x1, 0x1);
        gbc.writeMem(0xa380, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xbf50);
        EXPECT(gbc.pc(), 0xa381);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa380), 0x3c);
        // 3C 0379
        gbc.setState(0x8868, 0xb95a, 0x8620, 0x18bb, 0xf574, 0x7c9d, 0x0, 0x1);
        gbc.writeMem(0x8868, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xb95a);
        EXPECT(gbc.pc(), 0x8869);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8868), 0x3c);
        // 3C 037A
        gbc.setState(0x6bb1, 0x13cf, 0x2e70, 0x60b8, 0xb603, 0xfb92, 0x0, 0x1);
        gbc.writeMem(0x6bb1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x13cf);
        EXPECT(gbc.pc(), 0x6bb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 037B
        gbc.setState(0x4a58, 0x91a, 0x58b0, 0x849, 0xf798, 0x9383, 0x1, 0x0);
        gbc.writeMem(0x4a58, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x91a);
        EXPECT(gbc.pc(), 0x4a59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 037C
        gbc.setState(0xe88d, 0xa20b, 0x29d0, 0x6192, 0xba3e, 0xd4ae, 0x0, 0x0);
        gbc.writeMem(0xe88d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xa20b);
        EXPECT(gbc.pc(), 0xe88e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe88d), 0x3c);
        // 3C 037D
        gbc.setState(0x9198, 0x4f11, 0x2840, 0xea40, 0x1a34, 0x61ef, 0x1, 0x1);
        gbc.writeMem(0x9198, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x4f11);
        EXPECT(gbc.pc(), 0x9199);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9198), 0x3c);
        // 3C 037E
        gbc.setState(0x121d, 0xd6a4, 0x1810, 0xa9de, 0x5f59, 0xf31b, 0x1, 0x0);
        gbc.writeMem(0x121d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xd6a4);
        EXPECT(gbc.pc(), 0x121e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 037F
        gbc.setState(0x1a93, 0x909d, 0x5590, 0x71fc, 0xcea, 0xed6a, 0x0, 0x1);
        gbc.writeMem(0x1a93, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x909d);
        EXPECT(gbc.pc(), 0x1a94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0380
        gbc.setState(0xc1e6, 0x15ed, 0xbb20, 0x6452, 0xe166, 0xd6b2, 0x0, 0x1);
        gbc.writeMem(0xc1e6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x15ed);
        EXPECT(gbc.pc(), 0xc1e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1e6), 0x3c);
        // 3C 0381
        gbc.setState(0x5a60, 0x570f, 0x4e30, 0xbf72, 0xe165, 0x6ddb, 0x1, 0x0);
        gbc.writeMem(0x5a60, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x570f);
        EXPECT(gbc.pc(), 0x5a61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0382
        gbc.setState(0xc94a, 0x1541, 0xa560, 0x3a67, 0x9909, 0x3a27, 0x1, 0x0);
        gbc.writeMem(0xc94a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x1541);
        EXPECT(gbc.pc(), 0xc94b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc94a), 0x3c);
        // 3C 0383
        gbc.setState(0xaa6f, 0x17d1, 0x3c80, 0xb1da, 0xabcb, 0xfba6, 0x0, 0x0);
        gbc.writeMem(0xaa6f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x17d1);
        EXPECT(gbc.pc(), 0xaa70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa6f), 0x3c);
        // 3C 0384
        gbc.setState(0xdf51, 0x201b, 0xb360, 0x251, 0xe0c9, 0x7d73, 0x1, 0x0);
        gbc.writeMem(0xdf51, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x201b);
        EXPECT(gbc.pc(), 0xdf52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf51), 0x3c);
        // 3C 0385
        gbc.setState(0x54e2, 0x5e0d, 0xbae0, 0xe02b, 0xc94a, 0x6326, 0x0, 0x0);
        gbc.writeMem(0x54e2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x5e0d);
        EXPECT(gbc.pc(), 0x54e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0386
        gbc.setState(0x898a, 0x6cd0, 0x20b0, 0x8a29, 0x608b, 0x6083, 0x1, 0x0);
        gbc.writeMem(0x898a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x6cd0);
        EXPECT(gbc.pc(), 0x898b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x898a), 0x3c);
        // 3C 0387
        gbc.setState(0x234f, 0xfec1, 0x130, 0x97c5, 0xe066, 0xec12, 0x0, 0x1);
        gbc.writeMem(0x234f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xfec1);
        EXPECT(gbc.pc(), 0x2350);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 0388
        gbc.setState(0x2dab, 0x1e5c, 0xfc20, 0x5b97, 0x53d3, 0xce48, 0x0, 0x0);
        gbc.writeMem(0x2dab, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x1e5c);
        EXPECT(gbc.pc(), 0x2dac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0389
        gbc.setState(0x683f, 0xc6a8, 0x65d0, 0x6baf, 0x1fcd, 0xc397, 0x1, 0x0);
        gbc.writeMem(0x683f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xc6a8);
        EXPECT(gbc.pc(), 0x6840);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 038A
        gbc.setState(0xae24, 0x66a, 0x18a0, 0xe9d1, 0xe243, 0x77f3, 0x0, 0x1);
        gbc.writeMem(0xae24, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x66a);
        EXPECT(gbc.pc(), 0xae25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae24), 0x3c);
        // 3C 038B
        gbc.setState(0x21c0, 0x92a6, 0x65a0, 0x1378, 0xa780, 0xdc82, 0x0, 0x0);
        gbc.writeMem(0x21c0, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x92a6);
        EXPECT(gbc.pc(), 0x21c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 038C
        gbc.setState(0x770c, 0x10cf, 0x5bb0, 0x2745, 0xac6, 0x7fe3, 0x1, 0x0);
        gbc.writeMem(0x770c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x10cf);
        EXPECT(gbc.pc(), 0x770d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 038D
        gbc.setState(0x829a, 0x3397, 0xdeb0, 0xcb03, 0xf167, 0x398a, 0x1, 0x0);
        gbc.writeMem(0x829a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x3397);
        EXPECT(gbc.pc(), 0x829b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x829a), 0x3c);
        // 3C 038E
        gbc.setState(0x184, 0x54dd, 0xdce0, 0xb3bc, 0x191d, 0x359c, 0x1, 0x1);
        gbc.writeMem(0x184, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x54dd);
        EXPECT(gbc.pc(), 0x185);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 038F
        gbc.setState(0x39a2, 0x55c2, 0x7cc0, 0xe164, 0x1c7c, 0x433d, 0x0, 0x0);
        gbc.writeMem(0x39a2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x55c2);
        EXPECT(gbc.pc(), 0x39a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0390
        gbc.setState(0xd401, 0x3e15, 0xd900, 0x7c92, 0xac11, 0x5ac1, 0x1, 0x0);
        gbc.writeMem(0xd401, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x3e15);
        EXPECT(gbc.pc(), 0xd402);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd401), 0x3c);
        // 3C 0391
        gbc.setState(0xeeaa, 0x6bb8, 0xc830, 0x6b9c, 0x4023, 0x1bc8, 0x0, 0x0);
        gbc.writeMem(0xeeaa, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x6bb8);
        EXPECT(gbc.pc(), 0xeeab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeeaa), 0x3c);
        // 3C 0392
        gbc.setState(0xbae5, 0xb1c7, 0x18e0, 0x2d91, 0xe7bb, 0x32eb, 0x0, 0x1);
        gbc.writeMem(0xbae5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xb1c7);
        EXPECT(gbc.pc(), 0xbae6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbae5), 0x3c);
        // 3C 0393
        gbc.setState(0xc292, 0x9276, 0x75a0, 0x417b, 0xdb19, 0xe772, 0x1, 0x0);
        gbc.writeMem(0xc292, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x9276);
        EXPECT(gbc.pc(), 0xc293);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc292), 0x3c);
        // 3C 0394
        gbc.setState(0xe2b6, 0x5b3b, 0x5500, 0x82f3, 0x1fcc, 0xaddd, 0x0, 0x1);
        gbc.writeMem(0xe2b6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x5b3b);
        EXPECT(gbc.pc(), 0xe2b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2b6), 0x3c);
        // 3C 0396
        gbc.setState(0x1144, 0x306f, 0xf2a0, 0x171e, 0xf1a4, 0x52cd, 0x0, 0x0);
        gbc.writeMem(0x1144, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x306f);
        EXPECT(gbc.pc(), 0x1145);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0397
        gbc.setState(0x84f1, 0xf7be, 0xd970, 0x36f8, 0x235, 0xcf71, 0x0, 0x1);
        gbc.writeMem(0x84f1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xf7be);
        EXPECT(gbc.pc(), 0x84f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84f1), 0x3c);
        // 3C 0398
        gbc.setState(0xeb5, 0x72bb, 0xee0, 0x90d9, 0xe96b, 0xb884, 0x0, 0x0);
        gbc.writeMem(0xeb5, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x72bb);
        EXPECT(gbc.pc(), 0xeb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 0399
        gbc.setState(0xd150, 0x16f2, 0xa890, 0x98d1, 0x9fdc, 0x9f4b, 0x1, 0x1);
        gbc.writeMem(0xd150, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x16f2);
        EXPECT(gbc.pc(), 0xd151);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd150), 0x3c);
        // 3C 039A
        gbc.setState(0xb9b2, 0xdb3a, 0x17e0, 0xb364, 0x9034, 0x5ee, 0x1, 0x0);
        gbc.writeMem(0xb9b2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xdb3a);
        EXPECT(gbc.pc(), 0xb9b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9b2), 0x3c);
        // 3C 039B
        gbc.setState(0x1c9, 0x6cf7, 0x2f60, 0x74bd, 0xfab9, 0xb3f8, 0x0, 0x1);
        gbc.writeMem(0x1c9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x6cf7);
        EXPECT(gbc.pc(), 0x1ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 039C
        gbc.setState(0x303a, 0x3453, 0xfbc0, 0x867d, 0x3aac, 0xe2b6, 0x0, 0x1);
        gbc.writeMem(0x303a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x3453);
        EXPECT(gbc.pc(), 0x303b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 039D
        gbc.setState(0x1cc4, 0x83d3, 0x6050, 0xbc9e, 0x2cd1, 0x2129, 0x0, 0x0);
        gbc.writeMem(0x1cc4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x83d3);
        EXPECT(gbc.pc(), 0x1cc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 039E
        gbc.setState(0x578b, 0x5dc1, 0xe9d0, 0xf8ce, 0xda0, 0xf53e, 0x1, 0x0);
        gbc.writeMem(0x578b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x5dc1);
        EXPECT(gbc.pc(), 0x578c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 039F
        gbc.setState(0x2934, 0xbeaa, 0x8a30, 0x93c9, 0x27bf, 0xe845, 0x0, 0x1);
        gbc.writeMem(0x2934, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xbeaa);
        EXPECT(gbc.pc(), 0x2935);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 03A0
        gbc.setState(0x2a13, 0x96b8, 0x2d60, 0xb9cb, 0x84d, 0xfe61, 0x0, 0x1);
        gbc.writeMem(0x2a13, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x96b8);
        EXPECT(gbc.pc(), 0x2a14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03A1
        gbc.setState(0xa1de, 0x53d3, 0x6bf0, 0x57cf, 0x5c07, 0x1569, 0x1, 0x0);
        gbc.writeMem(0xa1de, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x53d3);
        EXPECT(gbc.pc(), 0xa1df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1de), 0x3c);
        // 3C 03A3
        gbc.setState(0x385a, 0x7fd1, 0x64e0, 0x99a5, 0xa8c0, 0xd428, 0x0, 0x0);
        gbc.writeMem(0x385a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x7fd1);
        EXPECT(gbc.pc(), 0x385b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03A4
        gbc.setState(0xbc5f, 0xdf48, 0x6c60, 0x433, 0x86f9, 0x3772, 0x1, 0x0);
        gbc.writeMem(0xbc5f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xdf48);
        EXPECT(gbc.pc(), 0xbc60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc5f), 0x3c);
        // 3C 03A5
        gbc.setState(0xbe93, 0xbf3f, 0xb1f0, 0x7ef8, 0x644a, 0x3d3a, 0x1, 0x1);
        gbc.writeMem(0xbe93, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xbf3f);
        EXPECT(gbc.pc(), 0xbe94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe93), 0x3c);
        // 3C 03A6
        gbc.setState(0xd63b, 0xa682, 0x89e0, 0xd6b9, 0x1c14, 0xe2c8, 0x0, 0x1);
        gbc.writeMem(0xd63b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xa682);
        EXPECT(gbc.pc(), 0xd63c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd63b), 0x3c);
        // 3C 03A7
        gbc.setState(0x3df3, 0x2000, 0x1a20, 0x259, 0x4d82, 0x822, 0x0, 0x1);
        gbc.writeMem(0x3df3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x2000);
        EXPECT(gbc.pc(), 0x3df4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03A8
        gbc.setState(0xa4f2, 0x8df2, 0xd6a0, 0x5213, 0xfde0, 0xd28b, 0x0, 0x0);
        gbc.writeMem(0xa4f2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x8df2);
        EXPECT(gbc.pc(), 0xa4f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4f2), 0x3c);
        // 3C 03A9
        gbc.setState(0xb3c3, 0x1c09, 0xef70, 0x2380, 0x2ba0, 0x1b06, 0x0, 0x1);
        gbc.writeMem(0xb3c3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x1c09);
        EXPECT(gbc.pc(), 0xb3c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3c3), 0x3c);
        // 3C 03AA
        gbc.setState(0x18a1, 0xc826, 0x74e0, 0xf470, 0x5914, 0x95a3, 0x0, 0x1);
        gbc.writeMem(0x18a1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xc826);
        EXPECT(gbc.pc(), 0x18a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03AB
        gbc.setState(0xc5a9, 0x5ea5, 0x5ed0, 0x34c, 0x6179, 0xbeb2, 0x1, 0x1);
        gbc.writeMem(0xc5a9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x5ea5);
        EXPECT(gbc.pc(), 0xc5aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5a9), 0x3c);
        // 3C 03AC
        gbc.setState(0x3ea6, 0xa89d, 0xaf30, 0x6c63, 0xaa2d, 0x84e3, 0x0, 0x0);
        gbc.writeMem(0x3ea6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xa89d);
        EXPECT(gbc.pc(), 0x3ea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 03AD
        gbc.setState(0x8227, 0x5ae8, 0x1650, 0x39c1, 0x8f24, 0xa690, 0x1, 0x0);
        gbc.writeMem(0x8227, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x5ae8);
        EXPECT(gbc.pc(), 0x8228);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8227), 0x3c);
        // 3C 03AE
        gbc.setState(0xc02c, 0x3972, 0xeb80, 0x9185, 0xddbb, 0xe1bc, 0x1, 0x0);
        gbc.writeMem(0xc02c, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x3972);
        EXPECT(gbc.pc(), 0xc02d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc02c), 0x3c);
        // 3C 03AF
        gbc.setState(0xb10b, 0x9f6, 0x720, 0x9021, 0xe750, 0x9100, 0x1, 0x1);
        gbc.writeMem(0xb10b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x9f6);
        EXPECT(gbc.pc(), 0xb10c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb10b), 0x3c);
        // 3C 03B0
        gbc.setState(0x91ca, 0xcd11, 0xbab0, 0x6891, 0xfe57, 0x585b, 0x0, 0x1);
        gbc.writeMem(0x91ca, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xcd11);
        EXPECT(gbc.pc(), 0x91cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91ca), 0x3c);
        // 3C 03B1
        gbc.setState(0x58c1, 0xf6a, 0xcaf0, 0xade5, 0xc449, 0x8c21, 0x1, 0x0);
        gbc.writeMem(0x58c1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xf6a);
        EXPECT(gbc.pc(), 0x58c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 03B2
        gbc.setState(0x60e2, 0xb414, 0xdef0, 0xf405, 0xeb19, 0x223b, 0x0, 0x1);
        gbc.writeMem(0x60e2, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xb414);
        EXPECT(gbc.pc(), 0x60e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 03B3
        gbc.setState(0xcb87, 0x2681, 0x3480, 0x964f, 0xdfb2, 0xb0f9, 0x1, 0x0);
        gbc.writeMem(0xcb87, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x2681);
        EXPECT(gbc.pc(), 0xcb88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb87), 0x3c);
        // 3C 03B4
        gbc.setState(0x87bf, 0x603a, 0x4a30, 0xfe07, 0xbd0d, 0xcbc4, 0x1, 0x0);
        gbc.writeMem(0x87bf, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x603a);
        EXPECT(gbc.pc(), 0x87c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87bf), 0x3c);
        // 3C 03B5
        gbc.setState(0x36ad, 0x173e, 0xada0, 0x5300, 0x4dc5, 0x3bd0, 0x0, 0x0);
        gbc.writeMem(0x36ad, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x173e);
        EXPECT(gbc.pc(), 0x36ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03B6
        gbc.setState(0x58ee, 0xc7b8, 0xc610, 0xe92d, 0x79ec, 0xb211, 0x0, 0x0);
        gbc.writeMem(0x58ee, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xc7b8);
        EXPECT(gbc.pc(), 0x58ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 03B7
        gbc.setState(0x8983, 0xf2e5, 0x7c90, 0xa125, 0xce89, 0x3ab1, 0x0, 0x0);
        gbc.writeMem(0x8983, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xf2e5);
        EXPECT(gbc.pc(), 0x8984);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8983), 0x3c);
        // 3C 03B8
        gbc.setState(0x7a8d, 0x7bfe, 0x83f0, 0x27b3, 0xbcea, 0x3445, 0x0, 0x1);
        gbc.writeMem(0x7a8d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x7bfe);
        EXPECT(gbc.pc(), 0x7a8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 03B9
        gbc.setState(0x6983, 0x45d, 0xec40, 0x75f5, 0x4d6c, 0x907d, 0x1, 0x1);
        gbc.writeMem(0x6983, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x45d);
        EXPECT(gbc.pc(), 0x6984);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03BB
        gbc.setState(0x5895, 0xd53f, 0x9000, 0xb09d, 0x783b, 0xd5be, 0x0, 0x0);
        gbc.writeMem(0x5895, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xd53f);
        EXPECT(gbc.pc(), 0x5896);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03BC
        gbc.setState(0x637d, 0xb297, 0xa40, 0x4b34, 0x19da, 0x9611, 0x0, 0x1);
        gbc.writeMem(0x637d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xb297);
        EXPECT(gbc.pc(), 0x637e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03BD
        gbc.setState(0xa2d1, 0x56a2, 0x85f0, 0xec7f, 0xa5e, 0xbb12, 0x0, 0x1);
        gbc.writeMem(0xa2d1, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x56a2);
        EXPECT(gbc.pc(), 0xa2d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2d1), 0x3c);
        // 3C 03BE
        gbc.setState(0xb64a, 0xbbbc, 0xf700, 0x3c3d, 0xce4a, 0x2a90, 0x1, 0x0);
        gbc.writeMem(0xb64a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xbbbc);
        EXPECT(gbc.pc(), 0xb64b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb64a), 0x3c);
        // 3C 03BF
        gbc.setState(0x8ccc, 0x59ea, 0x4880, 0x95ca, 0x1925, 0x8f51, 0x1, 0x0);
        gbc.writeMem(0x8ccc, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x59ea);
        EXPECT(gbc.pc(), 0x8ccd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ccc), 0x3c);
        // 3C 03C0
        gbc.setState(0x4474, 0x1c75, 0x8450, 0xa0e2, 0xf738, 0xb26, 0x0, 0x1);
        gbc.writeMem(0x4474, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x1c75);
        EXPECT(gbc.pc(), 0x4475);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 03C1
        gbc.setState(0x4d6, 0xa406, 0x1bd0, 0x5e8, 0x480c, 0x7fc1, 0x1, 0x1);
        gbc.writeMem(0x4d6, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xa406);
        EXPECT(gbc.pc(), 0x4d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 03C2
        gbc.setState(0x9dfd, 0x84d4, 0x7320, 0xff41, 0xcbc9, 0xa3b1, 0x0, 0x1);
        gbc.writeMem(0x9dfd, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x84d4);
        EXPECT(gbc.pc(), 0x9dfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9dfd), 0x3c);
        // 3C 03C3
        gbc.setState(0xf88, 0x6544, 0x8740, 0x8b19, 0x120d, 0xdfee, 0x0, 0x0);
        gbc.writeMem(0xf88, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x6544);
        EXPECT(gbc.pc(), 0xf89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03C4
        gbc.setState(0x6a3b, 0xcbfa, 0x200, 0xd096, 0x4cf3, 0x6a9f, 0x1, 0x1);
        gbc.writeMem(0x6a3b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xcbfa);
        EXPECT(gbc.pc(), 0x6a3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03C5
        gbc.setState(0x2102, 0x4458, 0x4fb0, 0xd14a, 0xe98e, 0x6c1d, 0x1, 0x1);
        gbc.writeMem(0x2102, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x4458);
        EXPECT(gbc.pc(), 0x2103);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 03C6
        gbc.setState(0xa20, 0xa8e2, 0xa670, 0x3e8e, 0x7e11, 0xbcf1, 0x0, 0x1);
        gbc.writeMem(0xa20, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xa8e2);
        EXPECT(gbc.pc(), 0xa21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 03C7
        gbc.setState(0xaa44, 0xe7ac, 0x1330, 0x3c2c, 0xf542, 0xc6be, 0x1, 0x0);
        gbc.writeMem(0xaa44, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xe7ac);
        EXPECT(gbc.pc(), 0xaa45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa44), 0x3c);
        // 3C 03C8
        gbc.setState(0xde57, 0x5963, 0xabd0, 0xf546, 0x2fd6, 0xcd38, 0x1, 0x0);
        gbc.writeMem(0xde57, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x5963);
        EXPECT(gbc.pc(), 0xde58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde57), 0x3c);
        // 3C 03C9
        gbc.setState(0xe1cb, 0xa350, 0xc650, 0x305e, 0xd51d, 0x8e36, 0x1, 0x0);
        gbc.writeMem(0xe1cb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xa350);
        EXPECT(gbc.pc(), 0xe1cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1cb), 0x3c);
        // 3C 03CA
        gbc.setState(0x172, 0x3428, 0xf9f0, 0x9a3b, 0x1b0f, 0xdcbb, 0x1, 0x0);
        gbc.writeMem(0x172, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x3428);
        EXPECT(gbc.pc(), 0x173);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 03CB
        gbc.setState(0x84eb, 0x1d7c, 0x64e0, 0xd8e3, 0x5a02, 0xc93, 0x0, 0x1);
        gbc.writeMem(0x84eb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x1d7c);
        EXPECT(gbc.pc(), 0x84ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84eb), 0x3c);
        // 3C 03CC
        gbc.setState(0x3e35, 0x6223, 0x6120, 0xe2b8, 0x945a, 0xd800, 0x0, 0x1);
        gbc.writeMem(0x3e35, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x6223);
        EXPECT(gbc.pc(), 0x3e36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03CD
        gbc.setState(0x6a6a, 0xbb91, 0x7f90, 0xc6f3, 0xabf5, 0x2cb1, 0x0, 0x1);
        gbc.writeMem(0x6a6a, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xbb91);
        EXPECT(gbc.pc(), 0x6a6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 03CE
        gbc.setState(0xaae, 0x7a8b, 0x73f0, 0xb6d3, 0xd27, 0xf151, 0x0, 0x1);
        gbc.writeMem(0xaae, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x7a8b);
        EXPECT(gbc.pc(), 0xaaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 03CF
        gbc.setState(0x3a2e, 0x8cd6, 0xda40, 0xdba9, 0x231a, 0xf5cf, 0x1, 0x1);
        gbc.writeMem(0x3a2e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x8cd6);
        EXPECT(gbc.pc(), 0x3a2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03D0
        gbc.setState(0x184f, 0x1fbf, 0x44e0, 0x3ab7, 0xd5dd, 0xf, 0x0, 0x0);
        gbc.writeMem(0x184f, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x1fbf);
        EXPECT(gbc.pc(), 0x1850);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03D1
        gbc.setState(0x9ec3, 0x5280, 0xed00, 0x14b6, 0x8fce, 0xa27c, 0x0, 0x1);
        gbc.writeMem(0x9ec3, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x5280);
        EXPECT(gbc.pc(), 0x9ec4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ec3), 0x3c);
        // 3C 03D3
        gbc.setState(0x8223, 0xbf3, 0xd30, 0x6eb6, 0x6fa6, 0x3712, 0x1, 0x1);
        gbc.writeMem(0x8223, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xbf3);
        EXPECT(gbc.pc(), 0x8224);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8223), 0x3c);
        // 3C 03D4
        gbc.setState(0x3801, 0xedfd, 0x3220, 0xfc9, 0x8780, 0x7df8, 0x1, 0x0);
        gbc.writeMem(0x3801, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xedfd);
        EXPECT(gbc.pc(), 0x3802);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03D6
        gbc.setState(0x3373, 0xd0d1, 0xfdd0, 0x547e, 0xb05e, 0xe81f, 0x0, 0x0);
        gbc.writeMem(0x3373, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xd0d1);
        EXPECT(gbc.pc(), 0x3374);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 03D7
        gbc.setState(0xb566, 0x9876, 0x9f50, 0x2835, 0xfb64, 0xa562, 0x0, 0x0);
        gbc.writeMem(0xb566, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x9876);
        EXPECT(gbc.pc(), 0xb567);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb566), 0x3c);
        // 3C 03D8
        gbc.setState(0x94c4, 0x6d90, 0xb890, 0x4be3, 0x115f, 0xfed7, 0x0, 0x0);
        gbc.writeMem(0x94c4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x6d90);
        EXPECT(gbc.pc(), 0x94c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94c4), 0x3c);
        // 3C 03D9
        gbc.setState(0x3473, 0x8aa, 0x4ff0, 0x44d5, 0x1086, 0x3506, 0x1, 0x1);
        gbc.writeMem(0x3473, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x8aa);
        EXPECT(gbc.pc(), 0x3474);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 3C 03DA
        gbc.setState(0x73a9, 0x253f, 0x4260, 0x3d89, 0x9ec5, 0x169f, 0x1, 0x1);
        gbc.writeMem(0x73a9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x253f);
        EXPECT(gbc.pc(), 0x73aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03DB
        gbc.setState(0x81ad, 0x8419, 0x2fd0, 0x734d, 0x4643, 0x978b, 0x1, 0x1);
        gbc.writeMem(0x81ad, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x8419);
        EXPECT(gbc.pc(), 0x81ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81ad), 0x3c);
        // 3C 03DC
        gbc.setState(0x1ca4, 0xf1f4, 0x35c0, 0x296, 0xb651, 0x5139, 0x0, 0x0);
        gbc.writeMem(0x1ca4, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xf1f4);
        EXPECT(gbc.pc(), 0x1ca5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03DD
        gbc.setState(0x46d9, 0x6053, 0x48c0, 0x4418, 0xd358, 0x6ad4, 0x1, 0x1);
        gbc.writeMem(0x46d9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x6053);
        EXPECT(gbc.pc(), 0x46da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03DE
        gbc.setState(0xba26, 0xd925, 0xf0d0, 0xad59, 0x5444, 0xa3aa, 0x0, 0x1);
        gbc.writeMem(0xba26, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xd925);
        EXPECT(gbc.pc(), 0xba27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba26), 0x3c);
        // 3C 03DF
        gbc.setState(0x8eeb, 0xb48e, 0x1b90, 0xc368, 0xd772, 0x616c, 0x1, 0x1);
        gbc.writeMem(0x8eeb, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xb48e);
        EXPECT(gbc.pc(), 0x8eec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8eeb), 0x3c);
        // 3C 03E0
        gbc.setState(0xb7ea, 0xb705, 0x3930, 0x49e7, 0x968c, 0xaf1f, 0x0, 0x1);
        gbc.writeMem(0xb7ea, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xb705);
        EXPECT(gbc.pc(), 0xb7eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7ea), 0x3c);
        // 3C 03E1
        gbc.setState(0xc10b, 0xe2a1, 0xbea0, 0x7d27, 0x72e4, 0x2bd1, 0x1, 0x1);
        gbc.writeMem(0xc10b, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xe2a1);
        EXPECT(gbc.pc(), 0xc10c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc10b), 0x3c);
        // 3C 03E2
        gbc.setState(0x5c13, 0xdf79, 0xc420, 0xb9fd, 0xce44, 0x2c1, 0x0, 0x0);
        gbc.writeMem(0x5c13, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xdf79);
        EXPECT(gbc.pc(), 0x5c14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03E3
        gbc.setState(0x1c8d, 0xe5e9, 0xd1c0, 0xf177, 0xa578, 0xae9, 0x0, 0x0);
        gbc.writeMem(0x1c8d, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xe5e9);
        EXPECT(gbc.pc(), 0x1c8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03E4
        gbc.setState(0x3ea9, 0x3b08, 0x8d90, 0xa80c, 0x6467, 0x40ff, 0x0, 0x1);
        gbc.writeMem(0x3ea9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x3b08);
        EXPECT(gbc.pc(), 0x3eaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 3C 03E5
        gbc.setState(0x42f9, 0x95dc, 0x1fe0, 0xcc80, 0xdca9, 0xb866, 0x0, 0x0);
        gbc.writeMem(0x42f9, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x95dc);
        EXPECT(gbc.pc(), 0x42fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 3C 03E6
        gbc.setState(0x2e9e, 0xc5f2, 0x2300, 0x36b5, 0x5b87, 0x7056, 0x1, 0x0);
        gbc.writeMem(0x2e9e, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xc5f2);
        EXPECT(gbc.pc(), 0x2e9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 3C 03E7
        gbc.setState(0xc129, 0x106e, 0xe310, 0x31e, 0x701e, 0xe3c7, 0x0, 0x0);
        gbc.writeMem(0xc129, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x106e);
        EXPECT(gbc.pc(), 0xc12a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc129), 0x3c);
    }
