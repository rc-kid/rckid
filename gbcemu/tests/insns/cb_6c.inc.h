    TEST(gbcemu, opcode_cb_6c) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 6C 0000
        gbc.setState(0x6882, 0x5cf5, 0x1db0, 0xd963, 0x40f3, 0x8fec, 0x1, 0x0);
        gbc.writeMem(0x6882, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x5cf5);
        EXPECT(gbc.pc(), 0x6884);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0001
        gbc.setState(0x911c, 0xa56d, 0x4100, 0xab7f, 0xf63f, 0x837b, 0x1, 0x1);
        gbc.writeMem(0x911c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xa56d);
        EXPECT(gbc.pc(), 0x911e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x911c), 0xcb);
        EXPECT(gbc.readMem(0x911d), 0x6c);
        // CB 6C 0002
        gbc.setState(0x222d, 0x77be, 0xefe0, 0xc2d, 0xb314, 0x893b, 0x1, 0x0);
        gbc.writeMem(0x222d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x77be);
        EXPECT(gbc.pc(), 0x222f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0003
        gbc.setState(0xd059, 0x6728, 0xffc0, 0xc844, 0x3530, 0x3948, 0x0, 0x0);
        gbc.writeMem(0xd059, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x6728);
        EXPECT(gbc.pc(), 0xd05b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd059), 0xcb);
        EXPECT(gbc.readMem(0xd05a), 0x6c);
        // CB 6C 0004
        gbc.setState(0x363c, 0x3723, 0x2240, 0xb5c9, 0xd61, 0x2be, 0x1, 0x1);
        gbc.writeMem(0x363c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x3723);
        EXPECT(gbc.pc(), 0x363e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0006
        gbc.setState(0xe74d, 0x1a92, 0x1370, 0x1c31, 0xa565, 0xec4d, 0x0, 0x0);
        gbc.writeMem(0xe74d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x1a92);
        EXPECT(gbc.pc(), 0xe74f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe74d), 0xcb);
        EXPECT(gbc.readMem(0xe74e), 0x6c);
        // CB 6C 0007
        gbc.setState(0xdbdd, 0x7492, 0x8660, 0x568d, 0x8f85, 0x2b6b, 0x1, 0x0);
        gbc.writeMem(0xdbdd, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x7492);
        EXPECT(gbc.pc(), 0xdbdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbdd), 0xcb);
        EXPECT(gbc.readMem(0xdbde), 0x6c);
        // CB 6C 0008
        gbc.setState(0x89b0, 0xe1f0, 0x57f0, 0xfc3f, 0x9aa3, 0x6241, 0x0, 0x0);
        gbc.writeMem(0x89b0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xe1f0);
        EXPECT(gbc.pc(), 0x89b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89b0), 0xcb);
        EXPECT(gbc.readMem(0x89b1), 0x6c);
        // CB 6C 0009
        gbc.setState(0x6cb4, 0x827a, 0x86e0, 0x51b, 0xd4a4, 0x97a2, 0x0, 0x1);
        gbc.writeMem(0x6cb4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x827a);
        EXPECT(gbc.pc(), 0x6cb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 000A
        gbc.setState(0xd221, 0x8977, 0x8ba0, 0xb38, 0x8813, 0x62c2, 0x0, 0x1);
        gbc.writeMem(0xd221, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x8977);
        EXPECT(gbc.pc(), 0xd223);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd221), 0xcb);
        EXPECT(gbc.readMem(0xd222), 0x6c);
        // CB 6C 000B
        gbc.setState(0x11e0, 0x8419, 0x4b0, 0x5c77, 0x9a4a, 0x5c16, 0x1, 0x1);
        gbc.writeMem(0x11e0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x8419);
        EXPECT(gbc.pc(), 0x11e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 000C
        gbc.setState(0x8e4e, 0x7619, 0xd280, 0xde2d, 0xf03d, 0x6a88, 0x0, 0x1);
        gbc.writeMem(0x8e4e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x7619);
        EXPECT(gbc.pc(), 0x8e50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e4e), 0xcb);
        EXPECT(gbc.readMem(0x8e4f), 0x6c);
        // CB 6C 000E
        gbc.setState(0xcfbf, 0x933f, 0x71d0, 0xcf7c, 0x2355, 0xd509, 0x1, 0x1);
        gbc.writeMem(0xcfbf, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x933f);
        EXPECT(gbc.pc(), 0xcfc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfbf), 0xcb);
        EXPECT(gbc.readMem(0xcfc0), 0x6c);
        // CB 6C 000F
        gbc.setState(0xc2ee, 0xb65f, 0x84f0, 0xac63, 0x9b8d, 0xce2b, 0x1, 0x0);
        gbc.writeMem(0xc2ee, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xb65f);
        EXPECT(gbc.pc(), 0xc2f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2ee), 0xcb);
        EXPECT(gbc.readMem(0xc2ef), 0x6c);
        // CB 6C 0010
        gbc.setState(0x75b5, 0x5e52, 0x7e00, 0x2ad7, 0xcd7c, 0xe28f, 0x1, 0x1);
        gbc.writeMem(0x75b5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x5e52);
        EXPECT(gbc.pc(), 0x75b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0011
        gbc.setState(0xca0b, 0x3188, 0x5fd0, 0xe0c8, 0x8630, 0xc3d1, 0x1, 0x1);
        gbc.writeMem(0xca0b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3188);
        EXPECT(gbc.pc(), 0xca0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca0b), 0xcb);
        EXPECT(gbc.readMem(0xca0c), 0x6c);
        // CB 6C 0012
        gbc.setState(0x372, 0x909b, 0x460, 0x2477, 0xf3a5, 0xab28, 0x1, 0x0);
        gbc.writeMem(0x372, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x909b);
        EXPECT(gbc.pc(), 0x374);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0014
        gbc.setState(0x259b, 0xc703, 0x3900, 0x2146, 0x6733, 0xe81f, 0x1, 0x0);
        gbc.writeMem(0x259b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xc703);
        EXPECT(gbc.pc(), 0x259d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0015
        gbc.setState(0x95a2, 0x2d3b, 0x1340, 0x8d53, 0x2fb9, 0x3e05, 0x0, 0x1);
        gbc.writeMem(0x95a2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x2d3b);
        EXPECT(gbc.pc(), 0x95a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95a2), 0xcb);
        EXPECT(gbc.readMem(0x95a3), 0x6c);
        // CB 6C 0016
        gbc.setState(0x2bd0, 0x52d9, 0x880, 0x7562, 0x5286, 0x61dc, 0x1, 0x1);
        gbc.writeMem(0x2bd0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x52d9);
        EXPECT(gbc.pc(), 0x2bd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0017
        gbc.setState(0x3291, 0x465d, 0x49e0, 0xe818, 0x46b5, 0x9fb4, 0x0, 0x1);
        gbc.writeMem(0x3291, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x465d);
        EXPECT(gbc.pc(), 0x3293);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0018
        gbc.setState(0x73b0, 0xd85a, 0x2fa0, 0x805a, 0x144b, 0x7c9a, 0x0, 0x0);
        gbc.writeMem(0x73b0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xd85a);
        EXPECT(gbc.pc(), 0x73b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0019
        gbc.setState(0xb11, 0xb947, 0xeed0, 0xca9e, 0xfe89, 0x4b77, 0x1, 0x0);
        gbc.writeMem(0xb11, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xb947);
        EXPECT(gbc.pc(), 0xb13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 001A
        gbc.setState(0x9b51, 0xff10, 0xbfe0, 0x5635, 0xef45, 0xcf5c, 0x0, 0x1);
        gbc.writeMem(0x9b51, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xff10);
        EXPECT(gbc.pc(), 0x9b53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b51), 0xcb);
        EXPECT(gbc.readMem(0x9b52), 0x6c);
        // CB 6C 001B
        gbc.setState(0x6f18, 0x1c0f, 0x7c50, 0xea6d, 0x2418, 0xde0c, 0x0, 0x0);
        gbc.writeMem(0x6f18, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x1c0f);
        EXPECT(gbc.pc(), 0x6f1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 001C
        gbc.setState(0xe2c9, 0x41d6, 0x55d0, 0x5367, 0xf519, 0x7146, 0x1, 0x0);
        gbc.writeMem(0xe2c9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x41d6);
        EXPECT(gbc.pc(), 0xe2cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2c9), 0xcb);
        EXPECT(gbc.readMem(0xe2ca), 0x6c);
        // CB 6C 001D
        gbc.setState(0x8fd9, 0x560c, 0x37d0, 0xd522, 0xc5de, 0x3c10, 0x0, 0x1);
        gbc.writeMem(0x8fd9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x560c);
        EXPECT(gbc.pc(), 0x8fdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fd9), 0xcb);
        EXPECT(gbc.readMem(0x8fda), 0x6c);
        // CB 6C 001E
        gbc.setState(0xd34b, 0x992a, 0xcdc0, 0x3eba, 0xbb1f, 0xb5a4, 0x0, 0x0);
        gbc.writeMem(0xd34b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x992a);
        EXPECT(gbc.pc(), 0xd34d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd34b), 0xcb);
        EXPECT(gbc.readMem(0xd34c), 0x6c);
        // CB 6C 001F
        gbc.setState(0x8dfe, 0x2495, 0x6920, 0x359d, 0x83d4, 0xd036, 0x0, 0x0);
        gbc.writeMem(0x8dfe, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x2495);
        EXPECT(gbc.pc(), 0x8e00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dfe), 0xcb);
        EXPECT(gbc.readMem(0x8dff), 0x6c);
        // CB 6C 0020
        gbc.setState(0xb9f5, 0x180d, 0xbd90, 0x513f, 0x2da4, 0x2979, 0x1, 0x1);
        gbc.writeMem(0xb9f5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x180d);
        EXPECT(gbc.pc(), 0xb9f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9f5), 0xcb);
        EXPECT(gbc.readMem(0xb9f6), 0x6c);
        // CB 6C 0021
        gbc.setState(0xced, 0x2e18, 0x7400, 0xd8b5, 0xdb1f, 0x8c54, 0x0, 0x1);
        gbc.writeMem(0xced, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x2e18);
        EXPECT(gbc.pc(), 0xcef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0022
        gbc.setState(0x1db9, 0x892d, 0x5220, 0xe1c1, 0xaca1, 0xc0f2, 0x1, 0x1);
        gbc.writeMem(0x1db9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x892d);
        EXPECT(gbc.pc(), 0x1dbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0023
        gbc.setState(0x3dce, 0xb057, 0x4b60, 0xfa8c, 0xaaa6, 0xfda4, 0x1, 0x0);
        gbc.writeMem(0x3dce, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xb057);
        EXPECT(gbc.pc(), 0x3dd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0024
        gbc.setState(0x8ae5, 0xe89, 0x8630, 0xf8a1, 0x1a25, 0xce37, 0x0, 0x1);
        gbc.writeMem(0x8ae5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xe89);
        EXPECT(gbc.pc(), 0x8ae7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ae5), 0xcb);
        EXPECT(gbc.readMem(0x8ae6), 0x6c);
        // CB 6C 0025
        gbc.setState(0x57cd, 0xef63, 0x570, 0x10d7, 0xb512, 0x3145, 0x1, 0x0);
        gbc.writeMem(0x57cd, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xef63);
        EXPECT(gbc.pc(), 0x57cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0026
        gbc.setState(0xbee7, 0xaa37, 0x8370, 0x5169, 0x4dae, 0x3e3b, 0x0, 0x0);
        gbc.writeMem(0xbee7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xaa37);
        EXPECT(gbc.pc(), 0xbee9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbee7), 0xcb);
        EXPECT(gbc.readMem(0xbee8), 0x6c);
        // CB 6C 0027
        gbc.setState(0xa568, 0x7540, 0xf0, 0xd16, 0x4cea, 0xd68f, 0x1, 0x0);
        gbc.writeMem(0xa568, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x7540);
        EXPECT(gbc.pc(), 0xa56a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa568), 0xcb);
        EXPECT(gbc.readMem(0xa569), 0x6c);
        // CB 6C 0028
        gbc.setState(0x9c80, 0xa9a6, 0xc870, 0xb573, 0x2e85, 0xe4ff, 0x1, 0x0);
        gbc.writeMem(0x9c80, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xa9a6);
        EXPECT(gbc.pc(), 0x9c82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c80), 0xcb);
        EXPECT(gbc.readMem(0x9c81), 0x6c);
        // CB 6C 0029
        gbc.setState(0x906f, 0xa4d8, 0xd8a0, 0x27e4, 0x9d59, 0x43a8, 0x0, 0x0);
        gbc.writeMem(0x906f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xa4d8);
        EXPECT(gbc.pc(), 0x9071);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x906f), 0xcb);
        EXPECT(gbc.readMem(0x9070), 0x6c);
        // CB 6C 002A
        gbc.setState(0x787a, 0x6143, 0x7220, 0xe7d, 0xfec6, 0x790d, 0x0, 0x0);
        gbc.writeMem(0x787a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6143);
        EXPECT(gbc.pc(), 0x787c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 002B
        gbc.setState(0x5ae7, 0x5645, 0x4d00, 0x2dc5, 0x5018, 0x5915, 0x1, 0x0);
        gbc.writeMem(0x5ae7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x5645);
        EXPECT(gbc.pc(), 0x5ae9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 002C
        gbc.setState(0xcc54, 0x834c, 0x3db0, 0x7254, 0xfa4f, 0xc949, 0x0, 0x0);
        gbc.writeMem(0xcc54, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x834c);
        EXPECT(gbc.pc(), 0xcc56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc54), 0xcb);
        EXPECT(gbc.readMem(0xcc55), 0x6c);
        // CB 6C 002D
        gbc.setState(0x45de, 0x2b19, 0x2500, 0x5e97, 0xe513, 0x6ff4, 0x0, 0x0);
        gbc.writeMem(0x45de, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x2b19);
        EXPECT(gbc.pc(), 0x45e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 002E
        gbc.setState(0xc095, 0xfae7, 0xadc0, 0x72ad, 0x49ad, 0x5538, 0x0, 0x1);
        gbc.writeMem(0xc095, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xfae7);
        EXPECT(gbc.pc(), 0xc097);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc095), 0xcb);
        EXPECT(gbc.readMem(0xc096), 0x6c);
        // CB 6C 0030
        gbc.setState(0x3668, 0xa3e2, 0x1cb0, 0xeb5f, 0xc1f2, 0x2a82, 0x0, 0x0);
        gbc.writeMem(0x3668, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xa3e2);
        EXPECT(gbc.pc(), 0x366a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0031
        gbc.setState(0xb398, 0xc931, 0x4480, 0xd846, 0xac7b, 0xa6c3, 0x1, 0x1);
        gbc.writeMem(0xb398, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xc931);
        EXPECT(gbc.pc(), 0xb39a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb398), 0xcb);
        EXPECT(gbc.readMem(0xb399), 0x6c);
        // CB 6C 0032
        gbc.setState(0x8bfd, 0xf388, 0x65e0, 0x4627, 0xefde, 0x9d20, 0x1, 0x0);
        gbc.writeMem(0x8bfd, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xf388);
        EXPECT(gbc.pc(), 0x8bff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bfd), 0xcb);
        EXPECT(gbc.readMem(0x8bfe), 0x6c);
        // CB 6C 0033
        gbc.setState(0x6390, 0xd245, 0x2180, 0x2443, 0x176a, 0x3414, 0x1, 0x0);
        gbc.writeMem(0x6390, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xd245);
        EXPECT(gbc.pc(), 0x6392);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0034
        gbc.setState(0x28e6, 0xe03f, 0xca50, 0x2c69, 0x6ae1, 0x2a51, 0x0, 0x1);
        gbc.writeMem(0x28e6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xe03f);
        EXPECT(gbc.pc(), 0x28e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0035
        gbc.setState(0xa4db, 0xa2e9, 0xe260, 0x5581, 0xf1b7, 0x4db7, 0x0, 0x1);
        gbc.writeMem(0xa4db, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xa2e9);
        EXPECT(gbc.pc(), 0xa4dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4db), 0xcb);
        EXPECT(gbc.readMem(0xa4dc), 0x6c);
        // CB 6C 0036
        gbc.setState(0x3f84, 0x2f72, 0xd860, 0x59d0, 0x729b, 0xd0b7, 0x0, 0x0);
        gbc.writeMem(0x3f84, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x2f72);
        EXPECT(gbc.pc(), 0x3f86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0037
        gbc.setState(0xa434, 0xecd5, 0x2640, 0x9d17, 0x4671, 0x68bc, 0x1, 0x1);
        gbc.writeMem(0xa434, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xecd5);
        EXPECT(gbc.pc(), 0xa436);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa434), 0xcb);
        EXPECT(gbc.readMem(0xa435), 0x6c);
        // CB 6C 0038
        gbc.setState(0xa992, 0xf560, 0x4310, 0x5446, 0x89c0, 0x8a80, 0x1, 0x1);
        gbc.writeMem(0xa992, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xf560);
        EXPECT(gbc.pc(), 0xa994);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa992), 0xcb);
        EXPECT(gbc.readMem(0xa993), 0x6c);
        // CB 6C 0039
        gbc.setState(0x2918, 0x5f19, 0xfb70, 0x6292, 0xb4b0, 0xa38d, 0x0, 0x1);
        gbc.writeMem(0x2918, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x5f19);
        EXPECT(gbc.pc(), 0x291a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 003A
        gbc.setState(0xe229, 0x4b6c, 0xc540, 0xb16d, 0x9180, 0xb00, 0x0, 0x1);
        gbc.writeMem(0xe229, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x4b6c);
        EXPECT(gbc.pc(), 0xe22b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe229), 0xcb);
        EXPECT(gbc.readMem(0xe22a), 0x6c);
        // CB 6C 003B
        gbc.setState(0x157a, 0x8b08, 0x3e40, 0xfb72, 0x4318, 0xa3fc, 0x1, 0x0);
        gbc.writeMem(0x157a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x8b08);
        EXPECT(gbc.pc(), 0x157c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 003C
        gbc.setState(0xb8a9, 0x4cc9, 0xb810, 0x4bd3, 0x8973, 0x6862, 0x0, 0x0);
        gbc.writeMem(0xb8a9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x4cc9);
        EXPECT(gbc.pc(), 0xb8ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8a9), 0xcb);
        EXPECT(gbc.readMem(0xb8aa), 0x6c);
        // CB 6C 003D
        gbc.setState(0xd7a8, 0x2ea0, 0x2930, 0x74d, 0x7a45, 0xa873, 0x1, 0x1);
        gbc.writeMem(0xd7a8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x2ea0);
        EXPECT(gbc.pc(), 0xd7aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7a8), 0xcb);
        EXPECT(gbc.readMem(0xd7a9), 0x6c);
        // CB 6C 003E
        gbc.setState(0x91ab, 0x420d, 0x23e0, 0x6c6d, 0xc40c, 0xa52a, 0x0, 0x0);
        gbc.writeMem(0x91ab, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x420d);
        EXPECT(gbc.pc(), 0x91ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91ab), 0xcb);
        EXPECT(gbc.readMem(0x91ac), 0x6c);
        // CB 6C 003F
        gbc.setState(0x775c, 0x43dc, 0xb2d0, 0xa097, 0x431f, 0x9378, 0x0, 0x1);
        gbc.writeMem(0x775c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x43dc);
        EXPECT(gbc.pc(), 0x775e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0040
        gbc.setState(0xbffe, 0x6197, 0xe5b0, 0x8004, 0x1ba1, 0x79a2, 0x1, 0x1);
        gbc.writeMem(0xbffe, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x6197);
        EXPECT(gbc.pc(), 0xc000);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbffe), 0xcb);
        EXPECT(gbc.readMem(0xbfff), 0x6c);
        // CB 6C 0041
        gbc.setState(0xbb13, 0x9eb2, 0x2480, 0x5e7, 0x8587, 0x696d, 0x1, 0x0);
        gbc.writeMem(0xbb13, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x9eb2);
        EXPECT(gbc.pc(), 0xbb15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb13), 0xcb);
        EXPECT(gbc.readMem(0xbb14), 0x6c);
        // CB 6C 0042
        gbc.setState(0x3b5c, 0x565d, 0xc1e0, 0x412d, 0xc1c8, 0xfecb, 0x0, 0x0);
        gbc.writeMem(0x3b5c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x565d);
        EXPECT(gbc.pc(), 0x3b5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0043
        gbc.setState(0x37df, 0xfcfa, 0xc550, 0xe4d9, 0x4ac9, 0x1db1, 0x1, 0x0);
        gbc.writeMem(0x37df, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xfcfa);
        EXPECT(gbc.pc(), 0x37e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0045
        gbc.setState(0xd392, 0xc9ef, 0x4e00, 0x8807, 0x8f6e, 0x1a9c, 0x1, 0x0);
        gbc.writeMem(0xd392, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xc9ef);
        EXPECT(gbc.pc(), 0xd394);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd392), 0xcb);
        EXPECT(gbc.readMem(0xd393), 0x6c);
        // CB 6C 0046
        gbc.setState(0xe01d, 0x7e34, 0xd8f0, 0xd609, 0x4ae, 0xd824, 0x0, 0x0);
        gbc.writeMem(0xe01d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x7e34);
        EXPECT(gbc.pc(), 0xe01f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe01d), 0xcb);
        EXPECT(gbc.readMem(0xe01e), 0x6c);
        // CB 6C 0047
        gbc.setState(0x1cfd, 0x9afe, 0xaad0, 0xd7f3, 0x3e73, 0x9df1, 0x1, 0x0);
        gbc.writeMem(0x1cfd, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x9afe);
        EXPECT(gbc.pc(), 0x1cff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0048
        gbc.setState(0x5458, 0x3a6f, 0xf8a0, 0x249d, 0x274f, 0xcd98, 0x1, 0x0);
        gbc.writeMem(0x5458, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x3a6f);
        EXPECT(gbc.pc(), 0x545a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0049
        gbc.setState(0x645e, 0xcd58, 0xeba0, 0x53d5, 0xe1af, 0x2ea, 0x1, 0x0);
        gbc.writeMem(0x645e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xcd58);
        EXPECT(gbc.pc(), 0x6460);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 004A
        gbc.setState(0x53e2, 0x1560, 0xe540, 0x1e65, 0xb16c, 0x6dd0, 0x1, 0x1);
        gbc.writeMem(0x53e2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x1560);
        EXPECT(gbc.pc(), 0x53e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 004B
        gbc.setState(0x91ea, 0xacb1, 0xbb70, 0x8a07, 0xa97c, 0xad2b, 0x1, 0x0);
        gbc.writeMem(0x91ea, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xacb1);
        EXPECT(gbc.pc(), 0x91ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91ea), 0xcb);
        EXPECT(gbc.readMem(0x91eb), 0x6c);
        // CB 6C 004C
        gbc.setState(0x1b80, 0x721f, 0x7ab0, 0x9c26, 0x5bdc, 0x9f7d, 0x1, 0x0);
        gbc.writeMem(0x1b80, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x721f);
        EXPECT(gbc.pc(), 0x1b82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 004D
        gbc.setState(0xb8bc, 0xb8e9, 0xb3a0, 0x568, 0x7e6c, 0x843f, 0x0, 0x0);
        gbc.writeMem(0xb8bc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xb8e9);
        EXPECT(gbc.pc(), 0xb8be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8bc), 0xcb);
        EXPECT(gbc.readMem(0xb8bd), 0x6c);
        // CB 6C 004E
        gbc.setState(0xc3b0, 0x5b7, 0x1f10, 0xa7d7, 0x5ff1, 0x5c32, 0x0, 0x0);
        gbc.writeMem(0xc3b0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x5b7);
        EXPECT(gbc.pc(), 0xc3b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3b0), 0xcb);
        EXPECT(gbc.readMem(0xc3b1), 0x6c);
        // CB 6C 004F
        gbc.setState(0x7fcc, 0x935a, 0x4d30, 0xba73, 0x11f6, 0x440b, 0x1, 0x1);
        gbc.writeMem(0x7fcc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x935a);
        EXPECT(gbc.pc(), 0x7fce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0050
        gbc.setState(0x272c, 0x66a7, 0x8760, 0x2541, 0x33c7, 0x2d63, 0x0, 0x0);
        gbc.writeMem(0x272c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x66a7);
        EXPECT(gbc.pc(), 0x272e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0051
        gbc.setState(0x6741, 0x5a10, 0xa4d0, 0xfa34, 0x2752, 0x438e, 0x1, 0x0);
        gbc.writeMem(0x6741, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x5a10);
        EXPECT(gbc.pc(), 0x6743);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0052
        gbc.setState(0x7f54, 0x3ef7, 0x46c0, 0x920d, 0xd744, 0x7c73, 0x0, 0x1);
        gbc.writeMem(0x7f54, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x3ef7);
        EXPECT(gbc.pc(), 0x7f56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0053
        gbc.setState(0xcaaf, 0xae25, 0x1d90, 0xe1c2, 0xb462, 0xc422, 0x1, 0x1);
        gbc.writeMem(0xcaaf, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xae25);
        EXPECT(gbc.pc(), 0xcab1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcaaf), 0xcb);
        EXPECT(gbc.readMem(0xcab0), 0x6c);
        // CB 6C 0054
        gbc.setState(0x4383, 0x7bed, 0xe6a0, 0x3d36, 0xbd7d, 0xb585, 0x0, 0x1);
        gbc.writeMem(0x4383, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x7bed);
        EXPECT(gbc.pc(), 0x4385);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0055
        gbc.setState(0x619d, 0x873c, 0x4db0, 0x2c77, 0x7584, 0xd4d0, 0x0, 0x0);
        gbc.writeMem(0x619d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x873c);
        EXPECT(gbc.pc(), 0x619f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0056
        gbc.setState(0x543c, 0x7426, 0x4370, 0xa932, 0x9960, 0xc8e4, 0x1, 0x1);
        gbc.writeMem(0x543c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x7426);
        EXPECT(gbc.pc(), 0x543e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0057
        gbc.setState(0xd4e3, 0xa344, 0x5ef0, 0xb095, 0x2b26, 0x6c7d, 0x1, 0x1);
        gbc.writeMem(0xd4e3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xa344);
        EXPECT(gbc.pc(), 0xd4e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4e3), 0xcb);
        EXPECT(gbc.readMem(0xd4e4), 0x6c);
        // CB 6C 0058
        gbc.setState(0x46d8, 0x5136, 0x41a0, 0xb476, 0xcf98, 0xf72d, 0x0, 0x0);
        gbc.writeMem(0x46d8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5136);
        EXPECT(gbc.pc(), 0x46da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0059
        gbc.setState(0x5bf, 0xe485, 0x4980, 0x2fbc, 0x8591, 0xe9ae, 0x0, 0x1);
        gbc.writeMem(0x5bf, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xe485);
        EXPECT(gbc.pc(), 0x5c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 005A
        gbc.setState(0x98b0, 0x479a, 0x240, 0x3717, 0x2b5, 0x5e0d, 0x1, 0x0);
        gbc.writeMem(0x98b0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x479a);
        EXPECT(gbc.pc(), 0x98b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98b0), 0xcb);
        EXPECT(gbc.readMem(0x98b1), 0x6c);
        // CB 6C 005B
        gbc.setState(0x1843, 0xd688, 0xcc70, 0xfb49, 0xd2eb, 0xd66e, 0x1, 0x0);
        gbc.writeMem(0x1843, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xd688);
        EXPECT(gbc.pc(), 0x1845);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 005C
        gbc.setState(0xc1ec, 0xc279, 0xb570, 0xf948, 0x4e86, 0x5a25, 0x1, 0x1);
        gbc.writeMem(0xc1ec, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xc279);
        EXPECT(gbc.pc(), 0xc1ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1ec), 0xcb);
        EXPECT(gbc.readMem(0xc1ed), 0x6c);
        // CB 6C 005D
        gbc.setState(0x2a1, 0x1626, 0x8550, 0x528a, 0x213e, 0x2158, 0x1, 0x0);
        gbc.writeMem(0x2a1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x1626);
        EXPECT(gbc.pc(), 0x2a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 005E
        gbc.setState(0x9838, 0xbff8, 0x2090, 0xc5a8, 0x4330, 0x6fef, 0x1, 0x1);
        gbc.writeMem(0x9838, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xbff8);
        EXPECT(gbc.pc(), 0x983a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9838), 0xcb);
        EXPECT(gbc.readMem(0x9839), 0x6c);
        // CB 6C 005F
        gbc.setState(0x8d15, 0xfc21, 0xb680, 0x626a, 0x930c, 0x635a, 0x1, 0x1);
        gbc.writeMem(0x8d15, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xfc21);
        EXPECT(gbc.pc(), 0x8d17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d15), 0xcb);
        EXPECT(gbc.readMem(0x8d16), 0x6c);
        // CB 6C 0060
        gbc.setState(0x2c14, 0xe950, 0x3c0, 0x13f7, 0x1dad, 0xccbe, 0x1, 0x1);
        gbc.writeMem(0x2c14, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xe950);
        EXPECT(gbc.pc(), 0x2c16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0061
        gbc.setState(0x5367, 0x3fef, 0x8a70, 0xc854, 0xec1b, 0x1ff8, 0x0, 0x1);
        gbc.writeMem(0x5367, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x3fef);
        EXPECT(gbc.pc(), 0x5369);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0062
        gbc.setState(0xcbc9, 0xa27f, 0xca00, 0xa684, 0x9755, 0x811e, 0x1, 0x0);
        gbc.writeMem(0xcbc9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xa27f);
        EXPECT(gbc.pc(), 0xcbcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbc9), 0xcb);
        EXPECT(gbc.readMem(0xcbca), 0x6c);
        // CB 6C 0063
        gbc.setState(0x903d, 0x2212, 0xe070, 0x935f, 0xca3d, 0x8d13, 0x0, 0x1);
        gbc.writeMem(0x903d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x2212);
        EXPECT(gbc.pc(), 0x903f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x903d), 0xcb);
        EXPECT(gbc.readMem(0x903e), 0x6c);
        // CB 6C 0064
        gbc.setState(0xaac7, 0xec55, 0xcff0, 0xc663, 0xc852, 0x2913, 0x1, 0x0);
        gbc.writeMem(0xaac7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xec55);
        EXPECT(gbc.pc(), 0xaac9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaac7), 0xcb);
        EXPECT(gbc.readMem(0xaac8), 0x6c);
        // CB 6C 0065
        gbc.setState(0x5186, 0x73e1, 0xac20, 0x3ae5, 0x8c87, 0x5de3, 0x0, 0x0);
        gbc.writeMem(0x5186, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x73e1);
        EXPECT(gbc.pc(), 0x5188);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0066
        gbc.setState(0x4deb, 0x8504, 0x2d90, 0xda2d, 0x5c0a, 0xfa62, 0x0, 0x0);
        gbc.writeMem(0x4deb, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x8504);
        EXPECT(gbc.pc(), 0x4ded);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0067
        gbc.setState(0x996, 0xe48b, 0x4b0, 0xb98f, 0x823, 0x846f, 0x0, 0x1);
        gbc.writeMem(0x996, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xe48b);
        EXPECT(gbc.pc(), 0x998);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0068
        gbc.setState(0xe2ed, 0x9dd8, 0x2f90, 0x61d3, 0x6fd4, 0x11c1, 0x1, 0x0);
        gbc.writeMem(0xe2ed, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x9dd8);
        EXPECT(gbc.pc(), 0xe2ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2ed), 0xcb);
        EXPECT(gbc.readMem(0xe2ee), 0x6c);
        // CB 6C 0069
        gbc.setState(0xe72, 0x64b5, 0x89f0, 0xc1c4, 0xbf41, 0x282f, 0x1, 0x1);
        gbc.writeMem(0xe72, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x64b5);
        EXPECT(gbc.pc(), 0xe74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 006A
        gbc.setState(0x4411, 0xca4e, 0x7f40, 0xfa34, 0x21d2, 0x8ee9, 0x1, 0x1);
        gbc.writeMem(0x4411, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xca4e);
        EXPECT(gbc.pc(), 0x4413);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 006B
        gbc.setState(0x3f02, 0xfd25, 0xad40, 0x1f62, 0x6c, 0x9fc4, 0x0, 0x1);
        gbc.writeMem(0x3f02, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xfd25);
        EXPECT(gbc.pc(), 0x3f04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 006C
        gbc.setState(0x5a19, 0x1dd3, 0x2b20, 0x5af4, 0x9111, 0xd0b, 0x0, 0x1);
        gbc.writeMem(0x5a19, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x1dd3);
        EXPECT(gbc.pc(), 0x5a1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 006D
        gbc.setState(0x97ee, 0xa27d, 0x3490, 0xc9c, 0x4648, 0x587, 0x0, 0x0);
        gbc.writeMem(0x97ee, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xa27d);
        EXPECT(gbc.pc(), 0x97f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97ee), 0xcb);
        EXPECT(gbc.readMem(0x97ef), 0x6c);
        // CB 6C 006E
        gbc.setState(0x3385, 0x5d99, 0x84b0, 0xcda7, 0x171f, 0xab6c, 0x1, 0x1);
        gbc.writeMem(0x3385, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x5d99);
        EXPECT(gbc.pc(), 0x3387);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 006F
        gbc.setState(0x82f1, 0x8007, 0x5150, 0xa09b, 0x748c, 0x4fc3, 0x1, 0x1);
        gbc.writeMem(0x82f1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x8007);
        EXPECT(gbc.pc(), 0x82f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82f1), 0xcb);
        EXPECT(gbc.readMem(0x82f2), 0x6c);
        // CB 6C 0070
        gbc.setState(0xa65f, 0x6973, 0xd930, 0xab3, 0xf077, 0xe7c8, 0x1, 0x1);
        gbc.writeMem(0xa65f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x6973);
        EXPECT(gbc.pc(), 0xa661);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa65f), 0xcb);
        EXPECT(gbc.readMem(0xa660), 0x6c);
        // CB 6C 0071
        gbc.setState(0x4e63, 0x8928, 0x6b70, 0xdeca, 0x3468, 0xb192, 0x0, 0x0);
        gbc.writeMem(0x4e63, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x8928);
        EXPECT(gbc.pc(), 0x4e65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0072
        gbc.setState(0xea56, 0xefdb, 0xad70, 0x4fb9, 0x7017, 0xcc5f, 0x1, 0x1);
        gbc.writeMem(0xea56, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xefdb);
        EXPECT(gbc.pc(), 0xea58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea56), 0xcb);
        EXPECT(gbc.readMem(0xea57), 0x6c);
        // CB 6C 0073
        gbc.setState(0x99a8, 0x2bd, 0xc500, 0xbbbc, 0x87c2, 0x2b2a, 0x1, 0x1);
        gbc.writeMem(0x99a8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x2bd);
        EXPECT(gbc.pc(), 0x99aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99a8), 0xcb);
        EXPECT(gbc.readMem(0x99a9), 0x6c);
        // CB 6C 0074
        gbc.setState(0xea26, 0x8a5e, 0xd790, 0xfae1, 0x8009, 0xaaa3, 0x0, 0x1);
        gbc.writeMem(0xea26, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x8a5e);
        EXPECT(gbc.pc(), 0xea28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea26), 0xcb);
        EXPECT(gbc.readMem(0xea27), 0x6c);
        // CB 6C 0075
        gbc.setState(0x84d, 0x96b5, 0x2200, 0xc07f, 0x6702, 0xa280, 0x0, 0x0);
        gbc.writeMem(0x84d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x96b5);
        EXPECT(gbc.pc(), 0x84f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0076
        gbc.setState(0x2b20, 0x6ccf, 0x26b0, 0x5c14, 0x9a99, 0x5097, 0x0, 0x1);
        gbc.writeMem(0x2b20, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x6ccf);
        EXPECT(gbc.pc(), 0x2b22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0077
        gbc.setState(0xaf50, 0x62c, 0x60b0, 0x4822, 0x65f1, 0x6ba3, 0x0, 0x1);
        gbc.writeMem(0xaf50, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x62c);
        EXPECT(gbc.pc(), 0xaf52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf50), 0xcb);
        EXPECT(gbc.readMem(0xaf51), 0x6c);
        // CB 6C 0078
        gbc.setState(0x5665, 0xe4e1, 0xf5b0, 0xf7da, 0x1d09, 0xc28f, 0x0, 0x1);
        gbc.writeMem(0x5665, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe4e1);
        EXPECT(gbc.pc(), 0x5667);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0079
        gbc.setState(0x5a8d, 0x213c, 0xfb80, 0xb641, 0xfc60, 0xbf76, 0x0, 0x1);
        gbc.writeMem(0x5a8d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x213c);
        EXPECT(gbc.pc(), 0x5a8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 007A
        gbc.setState(0x54e9, 0x6e74, 0x9990, 0xe431, 0x94a2, 0xb464, 0x0, 0x1);
        gbc.writeMem(0x54e9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x6e74);
        EXPECT(gbc.pc(), 0x54eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 007B
        gbc.setState(0xc066, 0x89c2, 0xf360, 0x7ee7, 0x824b, 0xae50, 0x0, 0x1);
        gbc.writeMem(0xc066, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x89c2);
        EXPECT(gbc.pc(), 0xc068);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc066), 0xcb);
        EXPECT(gbc.readMem(0xc067), 0x6c);
        // CB 6C 007C
        gbc.setState(0xb423, 0xa3da, 0x80e0, 0x58bd, 0x5e67, 0x4189, 0x1, 0x0);
        gbc.writeMem(0xb423, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xa3da);
        EXPECT(gbc.pc(), 0xb425);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb423), 0xcb);
        EXPECT(gbc.readMem(0xb424), 0x6c);
        // CB 6C 007D
        gbc.setState(0x291e, 0x8484, 0xa890, 0x1e1f, 0x55a5, 0xb263, 0x1, 0x1);
        gbc.writeMem(0x291e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x8484);
        EXPECT(gbc.pc(), 0x2920);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 007E
        gbc.setState(0x5f96, 0x8d14, 0x23f0, 0xef48, 0xb6c6, 0xc110, 0x1, 0x0);
        gbc.writeMem(0x5f96, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x8d14);
        EXPECT(gbc.pc(), 0x5f98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0080
        gbc.setState(0xce3a, 0x9200, 0x9130, 0x3384, 0x267e, 0xf1a9, 0x1, 0x1);
        gbc.writeMem(0xce3a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x9200);
        EXPECT(gbc.pc(), 0xce3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce3a), 0xcb);
        EXPECT(gbc.readMem(0xce3b), 0x6c);
        // CB 6C 0082
        gbc.setState(0x5156, 0x6d68, 0x2cd0, 0x3186, 0xf38e, 0x65dd, 0x1, 0x1);
        gbc.writeMem(0x5156, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x6d68);
        EXPECT(gbc.pc(), 0x5158);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0083
        gbc.setState(0xe21b, 0x983e, 0x5500, 0x7594, 0x4af7, 0x7cc7, 0x1, 0x0);
        gbc.writeMem(0xe21b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x983e);
        EXPECT(gbc.pc(), 0xe21d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe21b), 0xcb);
        EXPECT(gbc.readMem(0xe21c), 0x6c);
        // CB 6C 0084
        gbc.setState(0xab11, 0xd767, 0xe040, 0xe76f, 0xa75c, 0x3ad9, 0x1, 0x0);
        gbc.writeMem(0xab11, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xd767);
        EXPECT(gbc.pc(), 0xab13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab11), 0xcb);
        EXPECT(gbc.readMem(0xab12), 0x6c);
        // CB 6C 0085
        gbc.setState(0x9a65, 0xbfd8, 0x8010, 0x5333, 0xe1c0, 0x7e65, 0x0, 0x1);
        gbc.writeMem(0x9a65, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xbfd8);
        EXPECT(gbc.pc(), 0x9a67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a65), 0xcb);
        EXPECT(gbc.readMem(0x9a66), 0x6c);
        // CB 6C 0086
        gbc.setState(0x3186, 0xe052, 0x5ab0, 0x58d0, 0x46ec, 0x597, 0x1, 0x1);
        gbc.writeMem(0x3186, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xe052);
        EXPECT(gbc.pc(), 0x3188);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0088
        gbc.setState(0x3503, 0x518d, 0x7250, 0xf31d, 0x678b, 0x66fb, 0x0, 0x1);
        gbc.writeMem(0x3503, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x518d);
        EXPECT(gbc.pc(), 0x3505);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0089
        gbc.setState(0xb5a0, 0xedc6, 0x9a20, 0xfbd, 0x953b, 0x4cdd, 0x0, 0x0);
        gbc.writeMem(0xb5a0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xedc6);
        EXPECT(gbc.pc(), 0xb5a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5a0), 0xcb);
        EXPECT(gbc.readMem(0xb5a1), 0x6c);
        // CB 6C 008A
        gbc.setState(0x4ae3, 0x2a02, 0x32d0, 0x2b70, 0xf50a, 0x6f86, 0x1, 0x1);
        gbc.writeMem(0x4ae3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2a02);
        EXPECT(gbc.pc(), 0x4ae5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 008B
        gbc.setState(0x2f3d, 0x102a, 0xa20, 0x1e36, 0x628, 0xbfaf, 0x1, 0x1);
        gbc.writeMem(0x2f3d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x102a);
        EXPECT(gbc.pc(), 0x2f3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 008C
        gbc.setState(0x49a8, 0x5687, 0xdb00, 0xc13, 0xbf76, 0x546b, 0x0, 0x1);
        gbc.writeMem(0x49a8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x5687);
        EXPECT(gbc.pc(), 0x49aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 008D
        gbc.setState(0xb9f8, 0xf793, 0xd770, 0x6c35, 0xf9f3, 0xfaae, 0x1, 0x0);
        gbc.writeMem(0xb9f8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xf793);
        EXPECT(gbc.pc(), 0xb9fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9f8), 0xcb);
        EXPECT(gbc.readMem(0xb9f9), 0x6c);
        // CB 6C 008E
        gbc.setState(0x21f1, 0x93e0, 0x8440, 0xf6cf, 0x799, 0x734d, 0x0, 0x1);
        gbc.writeMem(0x21f1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x93e0);
        EXPECT(gbc.pc(), 0x21f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 008F
        gbc.setState(0x7a4d, 0xc918, 0xc690, 0x9079, 0x97ed, 0xd41f, 0x1, 0x1);
        gbc.writeMem(0x7a4d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xc918);
        EXPECT(gbc.pc(), 0x7a4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0090
        gbc.setState(0x9641, 0x4a72, 0x5bd0, 0xa7a6, 0x9957, 0xb872, 0x0, 0x0);
        gbc.writeMem(0x9641, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x4a72);
        EXPECT(gbc.pc(), 0x9643);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9641), 0xcb);
        EXPECT(gbc.readMem(0x9642), 0x6c);
        // CB 6C 0091
        gbc.setState(0x5514, 0xb3f6, 0xcf30, 0xdabc, 0xdc9e, 0x275a, 0x0, 0x0);
        gbc.writeMem(0x5514, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xb3f6);
        EXPECT(gbc.pc(), 0x5516);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0092
        gbc.setState(0xcbe9, 0xf775, 0xce30, 0x178c, 0xb2ba, 0x70c0, 0x1, 0x1);
        gbc.writeMem(0xcbe9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xf775);
        EXPECT(gbc.pc(), 0xcbeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbe9), 0xcb);
        EXPECT(gbc.readMem(0xcbea), 0x6c);
        // CB 6C 0093
        gbc.setState(0xa95a, 0xe2bf, 0xc280, 0xde15, 0x1eea, 0xa21b, 0x1, 0x0);
        gbc.writeMem(0xa95a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe2bf);
        EXPECT(gbc.pc(), 0xa95c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa95a), 0xcb);
        EXPECT(gbc.readMem(0xa95b), 0x6c);
        // CB 6C 0094
        gbc.setState(0x6fc, 0x9d9a, 0xfe50, 0xaa60, 0x9ee5, 0xbd44, 0x1, 0x1);
        gbc.writeMem(0x6fc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x9d9a);
        EXPECT(gbc.pc(), 0x6fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0095
        gbc.setState(0x10ce, 0x9d, 0x3170, 0xf372, 0x284a, 0xab55, 0x1, 0x1);
        gbc.writeMem(0x10ce, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x9d);
        EXPECT(gbc.pc(), 0x10d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0096
        gbc.setState(0x24b5, 0xef34, 0xa650, 0x52a5, 0x34eb, 0xd2dc, 0x0, 0x1);
        gbc.writeMem(0x24b5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xef34);
        EXPECT(gbc.pc(), 0x24b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0097
        gbc.setState(0x1d3f, 0xa50b, 0x3c30, 0xb2d6, 0xb8a9, 0x7149, 0x0, 0x0);
        gbc.writeMem(0x1d3f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xa50b);
        EXPECT(gbc.pc(), 0x1d41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0098
        gbc.setState(0xc32, 0x2e89, 0x4730, 0x7754, 0x4da7, 0x29ed, 0x1, 0x0);
        gbc.writeMem(0xc32, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x2e89);
        EXPECT(gbc.pc(), 0xc34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0099
        gbc.setState(0x3b4b, 0xecff, 0x1c80, 0x12b5, 0x9e5f, 0xf761, 0x1, 0x0);
        gbc.writeMem(0x3b4b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xecff);
        EXPECT(gbc.pc(), 0x3b4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 009A
        gbc.setState(0xcc56, 0x30bb, 0x8240, 0x5ece, 0x4323, 0x3208, 0x1, 0x0);
        gbc.writeMem(0xcc56, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x30bb);
        EXPECT(gbc.pc(), 0xcc58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc56), 0xcb);
        EXPECT(gbc.readMem(0xcc57), 0x6c);
        // CB 6C 009B
        gbc.setState(0x75e7, 0xb378, 0xa880, 0xc56f, 0x8761, 0x3702, 0x0, 0x0);
        gbc.writeMem(0x75e7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xb378);
        EXPECT(gbc.pc(), 0x75e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 009C
        gbc.setState(0xf02, 0x6d17, 0x3630, 0xb575, 0x84fb, 0x898e, 0x0, 0x1);
        gbc.writeMem(0xf02, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x6d17);
        EXPECT(gbc.pc(), 0xf04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 009D
        gbc.setState(0x199a, 0xca37, 0x9490, 0x2650, 0x1f31, 0x3504, 0x1, 0x0);
        gbc.writeMem(0x199a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xca37);
        EXPECT(gbc.pc(), 0x199c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 009E
        gbc.setState(0xbdfb, 0xe06f, 0xcb20, 0x3f52, 0xaecd, 0x89b5, 0x1, 0x1);
        gbc.writeMem(0xbdfb, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xe06f);
        EXPECT(gbc.pc(), 0xbdfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdfb), 0xcb);
        EXPECT(gbc.readMem(0xbdfc), 0x6c);
        // CB 6C 009F
        gbc.setState(0x7125, 0xcfc5, 0x5200, 0xb556, 0xfcaa, 0x5478, 0x1, 0x0);
        gbc.writeMem(0x7125, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xcfc5);
        EXPECT(gbc.pc(), 0x7127);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00A0
        gbc.setState(0x9398, 0x5add, 0x11b0, 0xce95, 0x9b79, 0x5b95, 0x0, 0x0);
        gbc.writeMem(0x9398, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x5add);
        EXPECT(gbc.pc(), 0x939a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9398), 0xcb);
        EXPECT(gbc.readMem(0x9399), 0x6c);
        // CB 6C 00A1
        gbc.setState(0xa5f2, 0x680b, 0x830, 0x31dc, 0xa0f, 0xcb12, 0x0, 0x1);
        gbc.writeMem(0xa5f2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x680b);
        EXPECT(gbc.pc(), 0xa5f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5f2), 0xcb);
        EXPECT(gbc.readMem(0xa5f3), 0x6c);
        // CB 6C 00A3
        gbc.setState(0x3484, 0x83f9, 0x22a0, 0xa417, 0xa83, 0xa716, 0x0, 0x0);
        gbc.writeMem(0x3484, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x83f9);
        EXPECT(gbc.pc(), 0x3486);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00A4
        gbc.setState(0x42f2, 0xc721, 0xd2f0, 0x9f78, 0x9b01, 0x1bf1, 0x1, 0x0);
        gbc.writeMem(0x42f2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xc721);
        EXPECT(gbc.pc(), 0x42f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00A5
        gbc.setState(0x3d5c, 0xbc88, 0x8150, 0x7632, 0x77ff, 0xbd39, 0x0, 0x1);
        gbc.writeMem(0x3d5c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xbc88);
        EXPECT(gbc.pc(), 0x3d5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00A6
        gbc.setState(0x43ff, 0xeb4e, 0x1050, 0xbdcb, 0xc71f, 0x297, 0x0, 0x1);
        gbc.writeMem(0x43ff, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xeb4e);
        EXPECT(gbc.pc(), 0x4401);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00A7
        gbc.setState(0x98c6, 0xfee1, 0x4110, 0xab7, 0x8dd, 0x9ba3, 0x1, 0x1);
        gbc.writeMem(0x98c6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xfee1);
        EXPECT(gbc.pc(), 0x98c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98c6), 0xcb);
        EXPECT(gbc.readMem(0x98c7), 0x6c);
        // CB 6C 00A8
        gbc.setState(0xcfc8, 0x805c, 0xcb20, 0x5092, 0x49eb, 0x673e, 0x1, 0x0);
        gbc.writeMem(0xcfc8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x805c);
        EXPECT(gbc.pc(), 0xcfca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfc8), 0xcb);
        EXPECT(gbc.readMem(0xcfc9), 0x6c);
        // CB 6C 00A9
        gbc.setState(0xaf8b, 0x520d, 0x1f70, 0xaa85, 0xd7bb, 0x1c8f, 0x1, 0x1);
        gbc.writeMem(0xaf8b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x520d);
        EXPECT(gbc.pc(), 0xaf8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf8b), 0xcb);
        EXPECT(gbc.readMem(0xaf8c), 0x6c);
        // CB 6C 00AA
        gbc.setState(0xe3cd, 0x79fa, 0x2e30, 0x187, 0xb394, 0xb718, 0x0, 0x1);
        gbc.writeMem(0xe3cd, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x79fa);
        EXPECT(gbc.pc(), 0xe3cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3cd), 0xcb);
        EXPECT(gbc.readMem(0xe3ce), 0x6c);
        // CB 6C 00AB
        gbc.setState(0xb077, 0xa72b, 0xd7d0, 0x9226, 0x2fa4, 0xd6a2, 0x0, 0x0);
        gbc.writeMem(0xb077, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xa72b);
        EXPECT(gbc.pc(), 0xb079);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb077), 0xcb);
        EXPECT(gbc.readMem(0xb078), 0x6c);
        // CB 6C 00AC
        gbc.setState(0xb0c2, 0xb720, 0xfa40, 0xde8c, 0xb96f, 0xc74c, 0x0, 0x0);
        gbc.writeMem(0xb0c2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xb720);
        EXPECT(gbc.pc(), 0xb0c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0c2), 0xcb);
        EXPECT(gbc.readMem(0xb0c3), 0x6c);
        // CB 6C 00AD
        gbc.setState(0x9c71, 0x62db, 0x9810, 0x696d, 0x9d0c, 0xbbb2, 0x1, 0x1);
        gbc.writeMem(0x9c71, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x62db);
        EXPECT(gbc.pc(), 0x9c73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c71), 0xcb);
        EXPECT(gbc.readMem(0x9c72), 0x6c);
        // CB 6C 00AE
        gbc.setState(0x1a78, 0xec6, 0xcf0, 0x84a1, 0xd789, 0xe018, 0x0, 0x1);
        gbc.writeMem(0x1a78, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xec6);
        EXPECT(gbc.pc(), 0x1a7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00AF
        gbc.setState(0x1bf2, 0x57a2, 0x4270, 0x6963, 0x80d7, 0xa984, 0x1, 0x0);
        gbc.writeMem(0x1bf2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x57a2);
        EXPECT(gbc.pc(), 0x1bf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00B0
        gbc.setState(0x5f0d, 0x4435, 0x91c0, 0x8d53, 0xefa5, 0x7f4, 0x0, 0x1);
        gbc.writeMem(0x5f0d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x4435);
        EXPECT(gbc.pc(), 0x5f0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00B1
        gbc.setState(0xe4a8, 0x9d24, 0x8550, 0x4fae, 0xf5e1, 0x77e5, 0x1, 0x1);
        gbc.writeMem(0xe4a8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x9d24);
        EXPECT(gbc.pc(), 0xe4aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4a8), 0xcb);
        EXPECT(gbc.readMem(0xe4a9), 0x6c);
        // CB 6C 00B2
        gbc.setState(0x4d03, 0xb051, 0xf470, 0xafc2, 0xcda4, 0xb8ec, 0x0, 0x0);
        gbc.writeMem(0x4d03, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xb051);
        EXPECT(gbc.pc(), 0x4d05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00B4
        gbc.setState(0x52ce, 0x3422, 0x1940, 0xddf4, 0xe396, 0xe14b, 0x0, 0x1);
        gbc.writeMem(0x52ce, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x3422);
        EXPECT(gbc.pc(), 0x52d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00B5
        gbc.setState(0x3d37, 0x6ea8, 0x790, 0x1ea5, 0x879e, 0x2d80, 0x0, 0x0);
        gbc.writeMem(0x3d37, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x6ea8);
        EXPECT(gbc.pc(), 0x3d39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00B6
        gbc.setState(0x4bc6, 0xb9a, 0xab50, 0x1ae0, 0x5143, 0x8768, 0x0, 0x0);
        gbc.writeMem(0x4bc6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xb9a);
        EXPECT(gbc.pc(), 0x4bc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00B7
        gbc.setState(0xd45d, 0x2ce3, 0x8ce0, 0xd109, 0x3fe5, 0x2587, 0x1, 0x0);
        gbc.writeMem(0xd45d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x2ce3);
        EXPECT(gbc.pc(), 0xd45f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd45d), 0xcb);
        EXPECT(gbc.readMem(0xd45e), 0x6c);
        // CB 6C 00B8
        gbc.setState(0x941a, 0x27a7, 0x3c0, 0x72ff, 0x9021, 0xa58b, 0x0, 0x1);
        gbc.writeMem(0x941a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x27a7);
        EXPECT(gbc.pc(), 0x941c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x941a), 0xcb);
        EXPECT(gbc.readMem(0x941b), 0x6c);
        // CB 6C 00B9
        gbc.setState(0x149a, 0xe183, 0xe360, 0x2b79, 0x2656, 0xa6d4, 0x1, 0x1);
        gbc.writeMem(0x149a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xe183);
        EXPECT(gbc.pc(), 0x149c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00BA
        gbc.setState(0x50cb, 0x12eb, 0x1df0, 0x3b08, 0x80b3, 0x4875, 0x0, 0x0);
        gbc.writeMem(0x50cb, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x12eb);
        EXPECT(gbc.pc(), 0x50cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00BB
        gbc.setState(0x8ed0, 0x551b, 0xcbc0, 0x792b, 0x2181, 0xff1c, 0x1, 0x1);
        gbc.writeMem(0x8ed0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x551b);
        EXPECT(gbc.pc(), 0x8ed2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ed0), 0xcb);
        EXPECT(gbc.readMem(0x8ed1), 0x6c);
        // CB 6C 00BC
        gbc.setState(0xe209, 0x968f, 0x6df0, 0xefbc, 0x9326, 0xa00b, 0x0, 0x1);
        gbc.writeMem(0xe209, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x968f);
        EXPECT(gbc.pc(), 0xe20b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe209), 0xcb);
        EXPECT(gbc.readMem(0xe20a), 0x6c);
        // CB 6C 00BD
        gbc.setState(0xcd66, 0x6ce1, 0x8f60, 0x9fa5, 0x166a, 0x425e, 0x1, 0x0);
        gbc.writeMem(0xcd66, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x6ce1);
        EXPECT(gbc.pc(), 0xcd68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd66), 0xcb);
        EXPECT(gbc.readMem(0xcd67), 0x6c);
        // CB 6C 00BE
        gbc.setState(0x1702, 0x848e, 0xde90, 0x4946, 0xf662, 0x4623, 0x1, 0x0);
        gbc.writeMem(0x1702, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x848e);
        EXPECT(gbc.pc(), 0x1704);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00BF
        gbc.setState(0x4b29, 0xdb27, 0x7e40, 0x29ca, 0xa399, 0x343b, 0x1, 0x1);
        gbc.writeMem(0x4b29, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xdb27);
        EXPECT(gbc.pc(), 0x4b2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00C0
        gbc.setState(0x618d, 0x3618, 0xab20, 0x798, 0xabd6, 0x52bc, 0x0, 0x1);
        gbc.writeMem(0x618d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x3618);
        EXPECT(gbc.pc(), 0x618f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00C1
        gbc.setState(0xc9fc, 0xdf7e, 0x5cc0, 0x999a, 0x399b, 0x1046, 0x0, 0x1);
        gbc.writeMem(0xc9fc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xdf7e);
        EXPECT(gbc.pc(), 0xc9fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9fc), 0xcb);
        EXPECT(gbc.readMem(0xc9fd), 0x6c);
        // CB 6C 00C2
        gbc.setState(0x4c8a, 0xe9a3, 0x60a0, 0xaf78, 0x2f9a, 0xcada, 0x1, 0x0);
        gbc.writeMem(0x4c8a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xe9a3);
        EXPECT(gbc.pc(), 0x4c8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00C3
        gbc.setState(0xad52, 0xbd0a, 0x7ed0, 0xebfc, 0xcbc2, 0x63a3, 0x1, 0x0);
        gbc.writeMem(0xad52, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xbd0a);
        EXPECT(gbc.pc(), 0xad54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad52), 0xcb);
        EXPECT(gbc.readMem(0xad53), 0x6c);
        // CB 6C 00C4
        gbc.setState(0x9908, 0xa420, 0x88a0, 0xf79e, 0xe2c2, 0xdf41, 0x1, 0x0);
        gbc.writeMem(0x9908, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xa420);
        EXPECT(gbc.pc(), 0x990a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9908), 0xcb);
        EXPECT(gbc.readMem(0x9909), 0x6c);
        // CB 6C 00C6
        gbc.setState(0x2d8e, 0x7f51, 0xc20, 0xe108, 0x7e1e, 0x2ce1, 0x1, 0x0);
        gbc.writeMem(0x2d8e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x7f51);
        EXPECT(gbc.pc(), 0x2d90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00C7
        gbc.setState(0x6d45, 0xdb11, 0xa320, 0xc9d, 0x926c, 0x1710, 0x0, 0x0);
        gbc.writeMem(0x6d45, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xdb11);
        EXPECT(gbc.pc(), 0x6d47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00C8
        gbc.setState(0xd36d, 0x420d, 0x8c0, 0x8f19, 0xb923, 0x5f6e, 0x1, 0x1);
        gbc.writeMem(0xd36d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x420d);
        EXPECT(gbc.pc(), 0xd36f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd36d), 0xcb);
        EXPECT(gbc.readMem(0xd36e), 0x6c);
        // CB 6C 00C9
        gbc.setState(0x812f, 0xa9e5, 0xf610, 0x8d6a, 0x4a67, 0x77ec, 0x0, 0x0);
        gbc.writeMem(0x812f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xa9e5);
        EXPECT(gbc.pc(), 0x8131);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x812f), 0xcb);
        EXPECT(gbc.readMem(0x8130), 0x6c);
        // CB 6C 00CA
        gbc.setState(0x1b23, 0x20e8, 0x3a50, 0x6da3, 0x5fd0, 0x448e, 0x1, 0x1);
        gbc.writeMem(0x1b23, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x20e8);
        EXPECT(gbc.pc(), 0x1b25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00CC
        gbc.setState(0x6466, 0x9b79, 0xfaf0, 0x3aac, 0x9104, 0x8b9e, 0x1, 0x1);
        gbc.writeMem(0x6466, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x9b79);
        EXPECT(gbc.pc(), 0x6468);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00CD
        gbc.setState(0xb609, 0x5901, 0xe380, 0xa822, 0x1c38, 0x20b, 0x1, 0x1);
        gbc.writeMem(0xb609, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x5901);
        EXPECT(gbc.pc(), 0xb60b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb609), 0xcb);
        EXPECT(gbc.readMem(0xb60a), 0x6c);
        // CB 6C 00CE
        gbc.setState(0xdda3, 0x48d6, 0x9bc0, 0x6480, 0xcf77, 0xfc93, 0x1, 0x1);
        gbc.writeMem(0xdda3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x48d6);
        EXPECT(gbc.pc(), 0xdda5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdda3), 0xcb);
        EXPECT(gbc.readMem(0xdda4), 0x6c);
        // CB 6C 00CF
        gbc.setState(0xcd13, 0xd9b5, 0x7e90, 0xbe42, 0xee0b, 0xd4a5, 0x1, 0x1);
        gbc.writeMem(0xcd13, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xd9b5);
        EXPECT(gbc.pc(), 0xcd15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd13), 0xcb);
        EXPECT(gbc.readMem(0xcd14), 0x6c);
        // CB 6C 00D0
        gbc.setState(0x73bd, 0xeb44, 0x1ef0, 0x7aec, 0xbbb1, 0xecd1, 0x1, 0x0);
        gbc.writeMem(0x73bd, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xeb44);
        EXPECT(gbc.pc(), 0x73bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00D1
        gbc.setState(0xba39, 0x68d0, 0x69a0, 0xdde8, 0x12f3, 0xa613, 0x1, 0x0);
        gbc.writeMem(0xba39, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x68d0);
        EXPECT(gbc.pc(), 0xba3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba39), 0xcb);
        EXPECT(gbc.readMem(0xba3a), 0x6c);
        // CB 6C 00D2
        gbc.setState(0x563, 0x8456, 0xffb0, 0xed72, 0xa738, 0xcd59, 0x1, 0x1);
        gbc.writeMem(0x563, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x8456);
        EXPECT(gbc.pc(), 0x565);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00D4
        gbc.setState(0x938c, 0x27c2, 0x41e0, 0x3da7, 0xcf8, 0x4fd6, 0x1, 0x0);
        gbc.writeMem(0x938c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x27c2);
        EXPECT(gbc.pc(), 0x938e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x938c), 0xcb);
        EXPECT(gbc.readMem(0x938d), 0x6c);
        // CB 6C 00D5
        gbc.setState(0xb2b4, 0xf85f, 0xf90, 0xa947, 0x7aab, 0x3599, 0x1, 0x1);
        gbc.writeMem(0xb2b4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xf85f);
        EXPECT(gbc.pc(), 0xb2b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2b4), 0xcb);
        EXPECT(gbc.readMem(0xb2b5), 0x6c);
        // CB 6C 00D6
        gbc.setState(0x4c22, 0xaa7d, 0xdd20, 0x92c4, 0x2bf4, 0xe195, 0x1, 0x1);
        gbc.writeMem(0x4c22, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xaa7d);
        EXPECT(gbc.pc(), 0x4c24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00D7
        gbc.setState(0xb0f8, 0xb82f, 0x5620, 0xfa5a, 0x15f9, 0xff06, 0x0, 0x1);
        gbc.writeMem(0xb0f8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xb82f);
        EXPECT(gbc.pc(), 0xb0fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0f8), 0xcb);
        EXPECT(gbc.readMem(0xb0f9), 0x6c);
        // CB 6C 00D8
        gbc.setState(0x5116, 0x9ea0, 0x9920, 0x15bd, 0xbd38, 0x60eb, 0x1, 0x0);
        gbc.writeMem(0x5116, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x9ea0);
        EXPECT(gbc.pc(), 0x5118);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00D9
        gbc.setState(0x26d8, 0x88af, 0xf2e0, 0xa631, 0x2392, 0xf8c8, 0x1, 0x1);
        gbc.writeMem(0x26d8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x88af);
        EXPECT(gbc.pc(), 0x26da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00DA
        gbc.setState(0x84d9, 0x73cc, 0x8590, 0x3f7c, 0x2937, 0xbd2, 0x0, 0x0);
        gbc.writeMem(0x84d9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x73cc);
        EXPECT(gbc.pc(), 0x84db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84d9), 0xcb);
        EXPECT(gbc.readMem(0x84da), 0x6c);
        // CB 6C 00DC
        gbc.setState(0x44f, 0x3bb9, 0x61d0, 0xc88e, 0x1694, 0x4521, 0x1, 0x1);
        gbc.writeMem(0x44f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x3bb9);
        EXPECT(gbc.pc(), 0x451);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00DD
        gbc.setState(0xec2f, 0x263b, 0x1790, 0x3ca6, 0x8fca, 0x2cdd, 0x0, 0x1);
        gbc.writeMem(0xec2f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x263b);
        EXPECT(gbc.pc(), 0xec31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec2f), 0xcb);
        EXPECT(gbc.readMem(0xec30), 0x6c);
        // CB 6C 00DE
        gbc.setState(0x73df, 0xb970, 0x1700, 0x5b64, 0x30f, 0x12de, 0x0, 0x0);
        gbc.writeMem(0x73df, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xb970);
        EXPECT(gbc.pc(), 0x73e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00DF
        gbc.setState(0x3069, 0xc11c, 0x380, 0xdcf2, 0xad1, 0x6849, 0x1, 0x0);
        gbc.writeMem(0x3069, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xc11c);
        EXPECT(gbc.pc(), 0x306b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00E0
        gbc.setState(0x52c5, 0xe2b9, 0xc0f0, 0x2c, 0x2f44, 0x5617, 0x0, 0x0);
        gbc.writeMem(0x52c5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xe2b9);
        EXPECT(gbc.pc(), 0x52c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00E1
        gbc.setState(0x9928, 0xb780, 0xa2a0, 0xbc05, 0xe5b4, 0x77b4, 0x1, 0x1);
        gbc.writeMem(0x9928, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xb780);
        EXPECT(gbc.pc(), 0x992a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9928), 0xcb);
        EXPECT(gbc.readMem(0x9929), 0x6c);
        // CB 6C 00E2
        gbc.setState(0x9b26, 0x91f6, 0xc780, 0xaca9, 0x907e, 0x62cb, 0x0, 0x0);
        gbc.writeMem(0x9b26, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x91f6);
        EXPECT(gbc.pc(), 0x9b28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b26), 0xcb);
        EXPECT(gbc.readMem(0x9b27), 0x6c);
        // CB 6C 00E3
        gbc.setState(0x46fc, 0x4c86, 0xbda0, 0xe9eb, 0xb493, 0xa211, 0x0, 0x1);
        gbc.writeMem(0x46fc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x4c86);
        EXPECT(gbc.pc(), 0x46fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00E4
        gbc.setState(0x9275, 0x4c16, 0xc220, 0x93d4, 0x3353, 0xaf91, 0x1, 0x1);
        gbc.writeMem(0x9275, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4c16);
        EXPECT(gbc.pc(), 0x9277);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9275), 0xcb);
        EXPECT(gbc.readMem(0x9276), 0x6c);
        // CB 6C 00E5
        gbc.setState(0xc981, 0x268c, 0xf8d0, 0x1fc1, 0x5071, 0x60bf, 0x1, 0x0);
        gbc.writeMem(0xc981, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x268c);
        EXPECT(gbc.pc(), 0xc983);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc981), 0xcb);
        EXPECT(gbc.readMem(0xc982), 0x6c);
        // CB 6C 00E6
        gbc.setState(0xce7a, 0xd2b2, 0x8790, 0x1bb4, 0x33fa, 0xa32e, 0x0, 0x1);
        gbc.writeMem(0xce7a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xd2b2);
        EXPECT(gbc.pc(), 0xce7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce7a), 0xcb);
        EXPECT(gbc.readMem(0xce7b), 0x6c);
        // CB 6C 00E7
        gbc.setState(0x4ac1, 0xb3a0, 0x8810, 0xfebe, 0x96aa, 0x568c, 0x1, 0x1);
        gbc.writeMem(0x4ac1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xb3a0);
        EXPECT(gbc.pc(), 0x4ac3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00E8
        gbc.setState(0xc413, 0x8a52, 0xe380, 0xd19e, 0xe75, 0x1fb0, 0x1, 0x0);
        gbc.writeMem(0xc413, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x8a52);
        EXPECT(gbc.pc(), 0xc415);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc413), 0xcb);
        EXPECT(gbc.readMem(0xc414), 0x6c);
        // CB 6C 00E9
        gbc.setState(0x4464, 0x90d5, 0x4ca0, 0x17f, 0xc35b, 0x5a1a, 0x0, 0x1);
        gbc.writeMem(0x4464, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x90d5);
        EXPECT(gbc.pc(), 0x4466);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00EA
        gbc.setState(0x3826, 0x523b, 0xbf90, 0xd8d, 0x6519, 0xcdc1, 0x0, 0x1);
        gbc.writeMem(0x3826, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x523b);
        EXPECT(gbc.pc(), 0x3828);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00EB
        gbc.setState(0x1d42, 0x9e7f, 0xfbb0, 0x77d3, 0xf858, 0x34a2, 0x1, 0x0);
        gbc.writeMem(0x1d42, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x9e7f);
        EXPECT(gbc.pc(), 0x1d44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00EC
        gbc.setState(0xd41, 0xd289, 0x20b0, 0x64f1, 0x56ce, 0x54e4, 0x1, 0x0);
        gbc.writeMem(0xd41, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xd289);
        EXPECT(gbc.pc(), 0xd43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00ED
        gbc.setState(0x67a7, 0x383d, 0x5280, 0x247a, 0x80a9, 0x5621, 0x0, 0x0);
        gbc.writeMem(0x67a7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x383d);
        EXPECT(gbc.pc(), 0x67a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00EE
        gbc.setState(0xd8d6, 0x1898, 0x1020, 0x7f16, 0x2650, 0x87fe, 0x1, 0x0);
        gbc.writeMem(0xd8d6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x1898);
        EXPECT(gbc.pc(), 0xd8d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8d6), 0xcb);
        EXPECT(gbc.readMem(0xd8d7), 0x6c);
        // CB 6C 00EF
        gbc.setState(0x2731, 0xf878, 0xf2b0, 0x3cc8, 0xde8c, 0x39ea, 0x1, 0x0);
        gbc.writeMem(0x2731, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xf878);
        EXPECT(gbc.pc(), 0x2733);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00F0
        gbc.setState(0x5954, 0xec2e, 0x4e00, 0x5025, 0x381a, 0x9665, 0x1, 0x1);
        gbc.writeMem(0x5954, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xec2e);
        EXPECT(gbc.pc(), 0x5956);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00F1
        gbc.setState(0xc3d7, 0xf725, 0x8b0, 0x9ae9, 0xcc40, 0x1a51, 0x1, 0x1);
        gbc.writeMem(0xc3d7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xf725);
        EXPECT(gbc.pc(), 0xc3d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3d7), 0xcb);
        EXPECT(gbc.readMem(0xc3d8), 0x6c);
        // CB 6C 00F2
        gbc.setState(0x70b5, 0x87b0, 0xc1c0, 0x40d3, 0xb302, 0xc374, 0x0, 0x1);
        gbc.writeMem(0x70b5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x87b0);
        EXPECT(gbc.pc(), 0x70b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00F3
        gbc.setState(0x8b5f, 0xada1, 0x8d90, 0xe603, 0xcf94, 0xa3a0, 0x0, 0x0);
        gbc.writeMem(0x8b5f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xada1);
        EXPECT(gbc.pc(), 0x8b61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b5f), 0xcb);
        EXPECT(gbc.readMem(0x8b60), 0x6c);
        // CB 6C 00F4
        gbc.setState(0xc649, 0x10ea, 0xe220, 0xcfb5, 0x7309, 0xf312, 0x1, 0x0);
        gbc.writeMem(0xc649, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x10ea);
        EXPECT(gbc.pc(), 0xc64b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc649), 0xcb);
        EXPECT(gbc.readMem(0xc64a), 0x6c);
        // CB 6C 00F6
        gbc.setState(0xe84c, 0x2afe, 0x4c90, 0xb457, 0x2f16, 0xf9e9, 0x1, 0x0);
        gbc.writeMem(0xe84c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x2afe);
        EXPECT(gbc.pc(), 0xe84e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe84c), 0xcb);
        EXPECT(gbc.readMem(0xe84d), 0x6c);
        // CB 6C 00F7
        gbc.setState(0x16a2, 0x5c5f, 0x5060, 0x65fe, 0x83a3, 0x1e18, 0x0, 0x1);
        gbc.writeMem(0x16a2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x5c5f);
        EXPECT(gbc.pc(), 0x16a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00F8
        gbc.setState(0x7181, 0xe295, 0xc430, 0x19b9, 0x996a, 0xafe5, 0x1, 0x0);
        gbc.writeMem(0x7181, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xe295);
        EXPECT(gbc.pc(), 0x7183);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00F9
        gbc.setState(0x6427, 0x7c0c, 0x1b10, 0xd640, 0x9601, 0x56a6, 0x1, 0x1);
        gbc.writeMem(0x6427, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x7c0c);
        EXPECT(gbc.pc(), 0x6429);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00FA
        gbc.setState(0x7e86, 0x9bd0, 0x1f70, 0x7452, 0xa0cb, 0x782d, 0x1, 0x1);
        gbc.writeMem(0x7e86, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x9bd0);
        EXPECT(gbc.pc(), 0x7e88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00FB
        gbc.setState(0x81cf, 0x697c, 0xafc0, 0x19a1, 0xb67d, 0xe715, 0x0, 0x0);
        gbc.writeMem(0x81cf, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x697c);
        EXPECT(gbc.pc(), 0x81d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81cf), 0xcb);
        EXPECT(gbc.readMem(0x81d0), 0x6c);
        // CB 6C 00FC
        gbc.setState(0x3e5c, 0x1427, 0xcb70, 0x3508, 0x8297, 0x29b, 0x0, 0x1);
        gbc.writeMem(0x3e5c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x1427);
        EXPECT(gbc.pc(), 0x3e5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 00FD
        gbc.setState(0x34d, 0xa969, 0x5f60, 0x3eb9, 0xad5c, 0xfe73, 0x0, 0x1);
        gbc.writeMem(0x34d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xa969);
        EXPECT(gbc.pc(), 0x34f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00FE
        gbc.setState(0x24fa, 0x1751, 0xb580, 0x9fa6, 0x5b2, 0xd4fc, 0x1, 0x1);
        gbc.writeMem(0x24fa, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x1751);
        EXPECT(gbc.pc(), 0x24fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 00FF
        gbc.setState(0x55, 0xa42f, 0x4380, 0x9609, 0x5969, 0x829d, 0x0, 0x0);
        gbc.writeMem(0x55, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xa42f);
        EXPECT(gbc.pc(), 0x57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0100
        gbc.setState(0x2e72, 0xa09a, 0x7310, 0xe5c7, 0xe1f1, 0xc561, 0x1, 0x1);
        gbc.writeMem(0x2e72, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xa09a);
        EXPECT(gbc.pc(), 0x2e74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0101
        gbc.setState(0xd847, 0x45f5, 0xf6b0, 0xe84e, 0x6b88, 0x2c38, 0x1, 0x1);
        gbc.writeMem(0xd847, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x45f5);
        EXPECT(gbc.pc(), 0xd849);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd847), 0xcb);
        EXPECT(gbc.readMem(0xd848), 0x6c);
        // CB 6C 0102
        gbc.setState(0x7141, 0xed8b, 0x27b0, 0x77a5, 0x49ae, 0xcbeb, 0x0, 0x1);
        gbc.writeMem(0x7141, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xed8b);
        EXPECT(gbc.pc(), 0x7143);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0103
        gbc.setState(0x9131, 0xc5c, 0x8630, 0xcd6b, 0x33f4, 0xf85d, 0x1, 0x1);
        gbc.writeMem(0x9131, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xc5c);
        EXPECT(gbc.pc(), 0x9133);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9131), 0xcb);
        EXPECT(gbc.readMem(0x9132), 0x6c);
        // CB 6C 0104
        gbc.setState(0x31fc, 0x5a27, 0xec20, 0xa8c4, 0x91e8, 0x7c2f, 0x0, 0x1);
        gbc.writeMem(0x31fc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x5a27);
        EXPECT(gbc.pc(), 0x31fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0105
        gbc.setState(0xaff0, 0x6907, 0xa0c0, 0xbe4f, 0x3c19, 0xeb74, 0x1, 0x0);
        gbc.writeMem(0xaff0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x6907);
        EXPECT(gbc.pc(), 0xaff2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaff0), 0xcb);
        EXPECT(gbc.readMem(0xaff1), 0x6c);
        // CB 6C 0106
        gbc.setState(0x21c2, 0xd08d, 0x6ba0, 0xdb21, 0x22b3, 0xf48c, 0x1, 0x0);
        gbc.writeMem(0x21c2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xd08d);
        EXPECT(gbc.pc(), 0x21c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0107
        gbc.setState(0x893a, 0x20b5, 0x5730, 0xda01, 0x9d06, 0x9769, 0x0, 0x0);
        gbc.writeMem(0x893a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x20b5);
        EXPECT(gbc.pc(), 0x893c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x893a), 0xcb);
        EXPECT(gbc.readMem(0x893b), 0x6c);
        // CB 6C 0108
        gbc.setState(0xc60d, 0xe3de, 0xcb30, 0x994e, 0xf546, 0x7572, 0x1, 0x0);
        gbc.writeMem(0xc60d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xe3de);
        EXPECT(gbc.pc(), 0xc60f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc60d), 0xcb);
        EXPECT(gbc.readMem(0xc60e), 0x6c);
        // CB 6C 0109
        gbc.setState(0x9819, 0xa17a, 0xc010, 0x3da1, 0xff1, 0x738f, 0x0, 0x0);
        gbc.writeMem(0x9819, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xa17a);
        EXPECT(gbc.pc(), 0x981b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9819), 0xcb);
        EXPECT(gbc.readMem(0x981a), 0x6c);
        // CB 6C 010A
        gbc.setState(0xad94, 0xe2b9, 0x1150, 0xd7fc, 0x3039, 0x5882, 0x0, 0x1);
        gbc.writeMem(0xad94, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xe2b9);
        EXPECT(gbc.pc(), 0xad96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad94), 0xcb);
        EXPECT(gbc.readMem(0xad95), 0x6c);
        // CB 6C 010B
        gbc.setState(0x74fa, 0xcc32, 0x6fe0, 0xaf62, 0xa689, 0xea19, 0x0, 0x0);
        gbc.writeMem(0x74fa, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xcc32);
        EXPECT(gbc.pc(), 0x74fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 010C
        gbc.setState(0x1a73, 0x4741, 0x6860, 0x8b1, 0x2820, 0x64bd, 0x0, 0x1);
        gbc.writeMem(0x1a73, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x4741);
        EXPECT(gbc.pc(), 0x1a75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 010D
        gbc.setState(0x1f90, 0x7b2f, 0x40, 0xf3dc, 0xaa29, 0xe7c5, 0x0, 0x1);
        gbc.writeMem(0x1f90, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x7b2f);
        EXPECT(gbc.pc(), 0x1f92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 010E
        gbc.setState(0x37e4, 0x90c5, 0x5aa0, 0x710f, 0x7382, 0x7469, 0x0, 0x1);
        gbc.writeMem(0x37e4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x90c5);
        EXPECT(gbc.pc(), 0x37e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 010F
        gbc.setState(0xea, 0xac0c, 0xb60, 0x569d, 0xdeae, 0x5257, 0x1, 0x0);
        gbc.writeMem(0xea, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xac0c);
        EXPECT(gbc.pc(), 0xec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0110
        gbc.setState(0xe838, 0xc724, 0xde10, 0x5dc1, 0xc361, 0x5796, 0x1, 0x0);
        gbc.writeMem(0xe838, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xc724);
        EXPECT(gbc.pc(), 0xe83a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe838), 0xcb);
        EXPECT(gbc.readMem(0xe839), 0x6c);
        // CB 6C 0111
        gbc.setState(0x29fd, 0xe251, 0x5120, 0x7577, 0x2754, 0x1e52, 0x0, 0x1);
        gbc.writeMem(0x29fd, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xe251);
        EXPECT(gbc.pc(), 0x29ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0112
        gbc.setState(0xb8a2, 0x2aa2, 0xc780, 0x352, 0x9bce, 0xa, 0x1, 0x1);
        gbc.writeMem(0xb8a2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x2aa2);
        EXPECT(gbc.pc(), 0xb8a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8a2), 0xcb);
        EXPECT(gbc.readMem(0xb8a3), 0x6c);
        // CB 6C 0113
        gbc.setState(0xb02e, 0x93d9, 0xcdf0, 0x3f33, 0x689f, 0x55b6, 0x0, 0x0);
        gbc.writeMem(0xb02e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x93d9);
        EXPECT(gbc.pc(), 0xb030);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb02e), 0xcb);
        EXPECT(gbc.readMem(0xb02f), 0x6c);
        // CB 6C 0114
        gbc.setState(0xa611, 0xc312, 0x7680, 0xfe26, 0x9164, 0x72a, 0x1, 0x0);
        gbc.writeMem(0xa611, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xc312);
        EXPECT(gbc.pc(), 0xa613);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa611), 0xcb);
        EXPECT(gbc.readMem(0xa612), 0x6c);
        // CB 6C 0115
        gbc.setState(0x41ad, 0x27c3, 0x2140, 0xea57, 0xf7cb, 0x5668, 0x1, 0x0);
        gbc.writeMem(0x41ad, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x27c3);
        EXPECT(gbc.pc(), 0x41af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0116
        gbc.setState(0x8447, 0x64c, 0xd9a0, 0x6c94, 0x373f, 0x7132, 0x1, 0x1);
        gbc.writeMem(0x8447, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x64c);
        EXPECT(gbc.pc(), 0x8449);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8447), 0xcb);
        EXPECT(gbc.readMem(0x8448), 0x6c);
        // CB 6C 0117
        gbc.setState(0xd046, 0x6a68, 0x930, 0x1d6, 0x10b8, 0x4f61, 0x1, 0x0);
        gbc.writeMem(0xd046, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x6a68);
        EXPECT(gbc.pc(), 0xd048);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd046), 0xcb);
        EXPECT(gbc.readMem(0xd047), 0x6c);
        // CB 6C 0118
        gbc.setState(0xbb83, 0x3127, 0xa750, 0xda49, 0x930f, 0x76b9, 0x0, 0x0);
        gbc.writeMem(0xbb83, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x3127);
        EXPECT(gbc.pc(), 0xbb85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb83), 0xcb);
        EXPECT(gbc.readMem(0xbb84), 0x6c);
        // CB 6C 0119
        gbc.setState(0x1ccc, 0x3049, 0x3700, 0xc807, 0xb7bb, 0x1757, 0x0, 0x1);
        gbc.writeMem(0x1ccc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x3049);
        EXPECT(gbc.pc(), 0x1cce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 011A
        gbc.setState(0x1555, 0x3626, 0x8f50, 0x13ca, 0x60b0, 0xe841, 0x1, 0x0);
        gbc.writeMem(0x1555, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x3626);
        EXPECT(gbc.pc(), 0x1557);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 011B
        gbc.setState(0x2176, 0x378d, 0xc080, 0xf03c, 0x9e1e, 0xc611, 0x1, 0x1);
        gbc.writeMem(0x2176, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x378d);
        EXPECT(gbc.pc(), 0x2178);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 011C
        gbc.setState(0x1473, 0x8a25, 0x1150, 0xc2c4, 0x3e23, 0xb5d8, 0x0, 0x0);
        gbc.writeMem(0x1473, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x8a25);
        EXPECT(gbc.pc(), 0x1475);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 011E
        gbc.setState(0x8c91, 0x6486, 0x8d10, 0xfc4, 0x856, 0xf9f4, 0x1, 0x1);
        gbc.writeMem(0x8c91, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x6486);
        EXPECT(gbc.pc(), 0x8c93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c91), 0xcb);
        EXPECT(gbc.readMem(0x8c92), 0x6c);
        // CB 6C 011F
        gbc.setState(0xbe25, 0xeef5, 0xd9b0, 0x9285, 0x6163, 0xc324, 0x1, 0x0);
        gbc.writeMem(0xbe25, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xeef5);
        EXPECT(gbc.pc(), 0xbe27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe25), 0xcb);
        EXPECT(gbc.readMem(0xbe26), 0x6c);
        // CB 6C 0120
        gbc.setState(0xd734, 0x9568, 0x46b0, 0xb196, 0x729, 0x7ade, 0x0, 0x1);
        gbc.writeMem(0xd734, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x9568);
        EXPECT(gbc.pc(), 0xd736);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd734), 0xcb);
        EXPECT(gbc.readMem(0xd735), 0x6c);
        // CB 6C 0121
        gbc.setState(0xb07d, 0x7820, 0x6520, 0x7de2, 0x793b, 0xf3d1, 0x0, 0x0);
        gbc.writeMem(0xb07d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x7820);
        EXPECT(gbc.pc(), 0xb07f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb07d), 0xcb);
        EXPECT(gbc.readMem(0xb07e), 0x6c);
        // CB 6C 0122
        gbc.setState(0xa6b6, 0xc251, 0xe1c0, 0x1ced, 0xeb0a, 0x49dd, 0x0, 0x0);
        gbc.writeMem(0xa6b6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xc251);
        EXPECT(gbc.pc(), 0xa6b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6b6), 0xcb);
        EXPECT(gbc.readMem(0xa6b7), 0x6c);
        // CB 6C 0124
        gbc.setState(0x1051, 0x860d, 0x8490, 0x14ee, 0x9736, 0x77a2, 0x0, 0x0);
        gbc.writeMem(0x1051, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x860d);
        EXPECT(gbc.pc(), 0x1053);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0125
        gbc.setState(0x901d, 0xb750, 0x2420, 0x33eb, 0xc941, 0x188d, 0x0, 0x0);
        gbc.writeMem(0x901d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xb750);
        EXPECT(gbc.pc(), 0x901f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x901d), 0xcb);
        EXPECT(gbc.readMem(0x901e), 0x6c);
        // CB 6C 0126
        gbc.setState(0xdf0, 0xaf08, 0x1d20, 0x40ad, 0xeb7c, 0xd2cb, 0x1, 0x1);
        gbc.writeMem(0xdf0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xaf08);
        EXPECT(gbc.pc(), 0xdf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0127
        gbc.setState(0x6700, 0x671c, 0x4e0, 0xf4c3, 0x8a07, 0x911a, 0x0, 0x0);
        gbc.writeMem(0x6700, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x671c);
        EXPECT(gbc.pc(), 0x6702);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0128
        gbc.setState(0xb8a6, 0xc1b1, 0x9620, 0xcedb, 0xd77a, 0xc1cd, 0x0, 0x0);
        gbc.writeMem(0xb8a6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xc1b1);
        EXPECT(gbc.pc(), 0xb8a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8a6), 0xcb);
        EXPECT(gbc.readMem(0xb8a7), 0x6c);
        // CB 6C 0129
        gbc.setState(0x4703, 0xd47, 0xcd20, 0x324c, 0x8a, 0x2fde, 0x0, 0x0);
        gbc.writeMem(0x4703, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xd47);
        EXPECT(gbc.pc(), 0x4705);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 012A
        gbc.setState(0x7d9a, 0xbd98, 0xcbc0, 0x2f32, 0x5e3d, 0x4b44, 0x1, 0x0);
        gbc.writeMem(0x7d9a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xbd98);
        EXPECT(gbc.pc(), 0x7d9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 012B
        gbc.setState(0x245b, 0x4418, 0x3c40, 0x7db1, 0xf0cb, 0x6f35, 0x0, 0x0);
        gbc.writeMem(0x245b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x4418);
        EXPECT(gbc.pc(), 0x245d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 012C
        gbc.setState(0x7f16, 0xa868, 0x16b0, 0x5525, 0x4653, 0x2c9c, 0x0, 0x1);
        gbc.writeMem(0x7f16, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xa868);
        EXPECT(gbc.pc(), 0x7f18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 012D
        gbc.setState(0x4dce, 0x82ae, 0x8cc0, 0x81bd, 0xd0ec, 0x450b, 0x1, 0x0);
        gbc.writeMem(0x4dce, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x82ae);
        EXPECT(gbc.pc(), 0x4dd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 012E
        gbc.setState(0x2309, 0x5758, 0x6340, 0xdcaa, 0x7a9d, 0x2941, 0x1, 0x1);
        gbc.writeMem(0x2309, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x5758);
        EXPECT(gbc.pc(), 0x230b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 012F
        gbc.setState(0x208b, 0xd452, 0x4150, 0xd85d, 0x73b0, 0xe026, 0x0, 0x1);
        gbc.writeMem(0x208b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xd452);
        EXPECT(gbc.pc(), 0x208d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0130
        gbc.setState(0xdd01, 0x7190, 0xbcc0, 0x4d10, 0xa4e8, 0x1dd2, 0x1, 0x1);
        gbc.writeMem(0xdd01, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x7190);
        EXPECT(gbc.pc(), 0xdd03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd01), 0xcb);
        EXPECT(gbc.readMem(0xdd02), 0x6c);
        // CB 6C 0131
        gbc.setState(0x612d, 0x556a, 0x3d60, 0x44a3, 0x61a8, 0x5c9b, 0x1, 0x1);
        gbc.writeMem(0x612d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x556a);
        EXPECT(gbc.pc(), 0x612f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0133
        gbc.setState(0x9d9a, 0xd83c, 0x3740, 0xb792, 0xda27, 0xa7d5, 0x1, 0x0);
        gbc.writeMem(0x9d9a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xd83c);
        EXPECT(gbc.pc(), 0x9d9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d9a), 0xcb);
        EXPECT(gbc.readMem(0x9d9b), 0x6c);
        // CB 6C 0134
        gbc.setState(0x97fa, 0x414f, 0x1570, 0x6e45, 0x7df6, 0x6a80, 0x1, 0x1);
        gbc.writeMem(0x97fa, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x414f);
        EXPECT(gbc.pc(), 0x97fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97fa), 0xcb);
        EXPECT(gbc.readMem(0x97fb), 0x6c);
        // CB 6C 0135
        gbc.setState(0xc822, 0x6bbf, 0x5360, 0xd24e, 0xa88d, 0xf64b, 0x1, 0x1);
        gbc.writeMem(0xc822, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x6bbf);
        EXPECT(gbc.pc(), 0xc824);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc822), 0xcb);
        EXPECT(gbc.readMem(0xc823), 0x6c);
        // CB 6C 0136
        gbc.setState(0x99d7, 0x730a, 0xed40, 0x8ef5, 0x5b4b, 0x7505, 0x0, 0x0);
        gbc.writeMem(0x99d7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x730a);
        EXPECT(gbc.pc(), 0x99d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99d7), 0xcb);
        EXPECT(gbc.readMem(0x99d8), 0x6c);
        // CB 6C 0137
        gbc.setState(0xcfc2, 0xde93, 0xd3d0, 0x49d5, 0xcc7, 0x6deb, 0x1, 0x0);
        gbc.writeMem(0xcfc2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xde93);
        EXPECT(gbc.pc(), 0xcfc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfc2), 0xcb);
        EXPECT(gbc.readMem(0xcfc3), 0x6c);
        // CB 6C 0138
        gbc.setState(0xcdf4, 0x9e1b, 0xe90, 0x22ae, 0x7254, 0x5635, 0x0, 0x1);
        gbc.writeMem(0xcdf4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x9e1b);
        EXPECT(gbc.pc(), 0xcdf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdf4), 0xcb);
        EXPECT(gbc.readMem(0xcdf5), 0x6c);
        // CB 6C 0139
        gbc.setState(0x6fd8, 0x3c9b, 0xb430, 0xc794, 0x9b7f, 0x18a0, 0x1, 0x1);
        gbc.writeMem(0x6fd8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3c9b);
        EXPECT(gbc.pc(), 0x6fda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 013A
        gbc.setState(0xbc25, 0xf519, 0xee60, 0xb072, 0x2e73, 0x51f7, 0x1, 0x1);
        gbc.writeMem(0xbc25, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xf519);
        EXPECT(gbc.pc(), 0xbc27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc25), 0xcb);
        EXPECT(gbc.readMem(0xbc26), 0x6c);
        // CB 6C 013B
        gbc.setState(0xde57, 0x98b3, 0x5760, 0x147f, 0xb2ca, 0xddbc, 0x1, 0x0);
        gbc.writeMem(0xde57, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x98b3);
        EXPECT(gbc.pc(), 0xde59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde57), 0xcb);
        EXPECT(gbc.readMem(0xde58), 0x6c);
        // CB 6C 013C
        gbc.setState(0x28cf, 0x1042, 0x4bf0, 0xcdbe, 0x4d98, 0x199a, 0x0, 0x1);
        gbc.writeMem(0x28cf, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x1042);
        EXPECT(gbc.pc(), 0x28d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 013D
        gbc.setState(0x4d56, 0x5ade, 0x1c40, 0x2ac5, 0x4e0f, 0xccb2, 0x1, 0x0);
        gbc.writeMem(0x4d56, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x5ade);
        EXPECT(gbc.pc(), 0x4d58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 013E
        gbc.setState(0xe3c4, 0x5001, 0x47b0, 0xf02a, 0xc624, 0x9ed4, 0x1, 0x1);
        gbc.writeMem(0xe3c4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x5001);
        EXPECT(gbc.pc(), 0xe3c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3c4), 0xcb);
        EXPECT(gbc.readMem(0xe3c5), 0x6c);
        // CB 6C 013F
        gbc.setState(0xda8, 0xce8c, 0xae10, 0xa835, 0xb7f7, 0x84c, 0x1, 0x1);
        gbc.writeMem(0xda8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xce8c);
        EXPECT(gbc.pc(), 0xdaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0140
        gbc.setState(0x4263, 0x3503, 0x4120, 0x5332, 0xddff, 0x3925, 0x1, 0x0);
        gbc.writeMem(0x4263, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x3503);
        EXPECT(gbc.pc(), 0x4265);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0141
        gbc.setState(0x77e5, 0x77a2, 0x5b0, 0x8167, 0x8465, 0x7933, 0x0, 0x0);
        gbc.writeMem(0x77e5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x77a2);
        EXPECT(gbc.pc(), 0x77e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0142
        gbc.setState(0x6b5b, 0xea29, 0xad80, 0xf95e, 0xf932, 0x9625, 0x0, 0x0);
        gbc.writeMem(0x6b5b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xea29);
        EXPECT(gbc.pc(), 0x6b5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0143
        gbc.setState(0x6cc, 0x4ea4, 0xdbf0, 0x1254, 0xfbf9, 0x5eef, 0x1, 0x0);
        gbc.writeMem(0x6cc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x4ea4);
        EXPECT(gbc.pc(), 0x6ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0144
        gbc.setState(0xc508, 0xf4fa, 0x9160, 0x8f8b, 0x331a, 0xe1df, 0x0, 0x0);
        gbc.writeMem(0xc508, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xf4fa);
        EXPECT(gbc.pc(), 0xc50a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc508), 0xcb);
        EXPECT(gbc.readMem(0xc509), 0x6c);
        // CB 6C 0146
        gbc.setState(0x6f97, 0x6445, 0x1a60, 0x48b6, 0x36a2, 0x7c8e, 0x1, 0x1);
        gbc.writeMem(0x6f97, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x6445);
        EXPECT(gbc.pc(), 0x6f99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0147
        gbc.setState(0x29ee, 0x3e87, 0xc170, 0x2929, 0xe37b, 0xb70, 0x1, 0x1);
        gbc.writeMem(0x29ee, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x3e87);
        EXPECT(gbc.pc(), 0x29f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0148
        gbc.setState(0x7bdf, 0x6def, 0xb0b0, 0x71db, 0xbd16, 0xfb2, 0x1, 0x0);
        gbc.writeMem(0x7bdf, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x6def);
        EXPECT(gbc.pc(), 0x7be1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0149
        gbc.setState(0xce0c, 0x5d63, 0x4ab0, 0x5aec, 0x5b4e, 0x430e, 0x1, 0x1);
        gbc.writeMem(0xce0c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x5d63);
        EXPECT(gbc.pc(), 0xce0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce0c), 0xcb);
        EXPECT(gbc.readMem(0xce0d), 0x6c);
        // CB 6C 014A
        gbc.setState(0xdac2, 0x3e47, 0x3ea0, 0x281b, 0xd382, 0xa52e, 0x0, 0x1);
        gbc.writeMem(0xdac2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x3e47);
        EXPECT(gbc.pc(), 0xdac4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdac2), 0xcb);
        EXPECT(gbc.readMem(0xdac3), 0x6c);
        // CB 6C 014B
        gbc.setState(0x9f40, 0x6e3c, 0xbc90, 0xe4aa, 0xf63b, 0x8f4e, 0x1, 0x1);
        gbc.writeMem(0x9f40, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x6e3c);
        EXPECT(gbc.pc(), 0x9f42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f40), 0xcb);
        EXPECT(gbc.readMem(0x9f41), 0x6c);
        // CB 6C 014D
        gbc.setState(0xbcb2, 0x17dd, 0x1eb0, 0x2ec8, 0xb439, 0x7784, 0x0, 0x1);
        gbc.writeMem(0xbcb2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x17dd);
        EXPECT(gbc.pc(), 0xbcb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcb2), 0xcb);
        EXPECT(gbc.readMem(0xbcb3), 0x6c);
        // CB 6C 014E
        gbc.setState(0x3a47, 0xa7bb, 0x86a0, 0x532c, 0x7502, 0xfc28, 0x1, 0x1);
        gbc.writeMem(0x3a47, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xa7bb);
        EXPECT(gbc.pc(), 0x3a49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 014F
        gbc.setState(0x39ce, 0xeb9, 0x4260, 0x1014, 0x921a, 0x26fc, 0x0, 0x1);
        gbc.writeMem(0x39ce, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xeb9);
        EXPECT(gbc.pc(), 0x39d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0151
        gbc.setState(0xe2b0, 0x200f, 0xcac0, 0xd180, 0x3563, 0x38b5, 0x1, 0x1);
        gbc.writeMem(0xe2b0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x200f);
        EXPECT(gbc.pc(), 0xe2b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2b0), 0xcb);
        EXPECT(gbc.readMem(0xe2b1), 0x6c);
        // CB 6C 0152
        gbc.setState(0xd51c, 0x5d31, 0xadd0, 0xb573, 0x5cb8, 0x8aac, 0x0, 0x0);
        gbc.writeMem(0xd51c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x5d31);
        EXPECT(gbc.pc(), 0xd51e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd51c), 0xcb);
        EXPECT(gbc.readMem(0xd51d), 0x6c);
        // CB 6C 0153
        gbc.setState(0x5d8a, 0xcfe5, 0x6a20, 0xd0d0, 0xbed5, 0xd998, 0x1, 0x1);
        gbc.writeMem(0x5d8a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xcfe5);
        EXPECT(gbc.pc(), 0x5d8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0154
        gbc.setState(0x2a30, 0xae3c, 0x4f70, 0xd864, 0xc285, 0x3786, 0x1, 0x0);
        gbc.writeMem(0x2a30, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xae3c);
        EXPECT(gbc.pc(), 0x2a32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0155
        gbc.setState(0x488b, 0xa823, 0xa350, 0x9d4d, 0x7da5, 0x4091, 0x0, 0x0);
        gbc.writeMem(0x488b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xa823);
        EXPECT(gbc.pc(), 0x488d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0156
        gbc.setState(0xe3be, 0x93e1, 0xff00, 0xe00f, 0xdedd, 0xf296, 0x0, 0x1);
        gbc.writeMem(0xe3be, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x93e1);
        EXPECT(gbc.pc(), 0xe3c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3be), 0xcb);
        EXPECT(gbc.readMem(0xe3bf), 0x6c);
        // CB 6C 0157
        gbc.setState(0xde92, 0x344f, 0x9140, 0x2671, 0x50aa, 0xe5f8, 0x1, 0x0);
        gbc.writeMem(0xde92, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x344f);
        EXPECT(gbc.pc(), 0xde94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde92), 0xcb);
        EXPECT(gbc.readMem(0xde93), 0x6c);
        // CB 6C 0159
        gbc.setState(0xcf26, 0x64bd, 0xafd0, 0x7270, 0x9d4, 0x7c46, 0x1, 0x1);
        gbc.writeMem(0xcf26, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x64bd);
        EXPECT(gbc.pc(), 0xcf28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf26), 0xcb);
        EXPECT(gbc.readMem(0xcf27), 0x6c);
        // CB 6C 015A
        gbc.setState(0x2e92, 0xecbc, 0x4d30, 0xa564, 0xacd9, 0x7f0, 0x1, 0x0);
        gbc.writeMem(0x2e92, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xecbc);
        EXPECT(gbc.pc(), 0x2e94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 015B
        gbc.setState(0xd825, 0x9101, 0x8430, 0x3af9, 0x6e16, 0xf98d, 0x1, 0x1);
        gbc.writeMem(0xd825, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x9101);
        EXPECT(gbc.pc(), 0xd827);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd825), 0xcb);
        EXPECT(gbc.readMem(0xd826), 0x6c);
        // CB 6C 015C
        gbc.setState(0xe04e, 0x61d6, 0xadb0, 0xf27d, 0xa50, 0x9332, 0x0, 0x1);
        gbc.writeMem(0xe04e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x61d6);
        EXPECT(gbc.pc(), 0xe050);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe04e), 0xcb);
        EXPECT(gbc.readMem(0xe04f), 0x6c);
        // CB 6C 015D
        gbc.setState(0xb2e0, 0x4b99, 0x1530, 0xa08d, 0x3dc6, 0xd995, 0x1, 0x0);
        gbc.writeMem(0xb2e0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x4b99);
        EXPECT(gbc.pc(), 0xb2e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2e0), 0xcb);
        EXPECT(gbc.readMem(0xb2e1), 0x6c);
        // CB 6C 015E
        gbc.setState(0x7209, 0xbe75, 0x4120, 0x4a42, 0x84a1, 0xe677, 0x0, 0x0);
        gbc.writeMem(0x7209, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xbe75);
        EXPECT(gbc.pc(), 0x720b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 015F
        gbc.setState(0x2548, 0x3a11, 0x7270, 0xa6fa, 0xbce8, 0xd561, 0x0, 0x1);
        gbc.writeMem(0x2548, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x3a11);
        EXPECT(gbc.pc(), 0x254a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0160
        gbc.setState(0xc405, 0x9c0b, 0xcd00, 0x539c, 0xb245, 0x207c, 0x1, 0x0);
        gbc.writeMem(0xc405, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x9c0b);
        EXPECT(gbc.pc(), 0xc407);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc405), 0xcb);
        EXPECT(gbc.readMem(0xc406), 0x6c);
        // CB 6C 0161
        gbc.setState(0x17ef, 0x600e, 0x36d0, 0xf815, 0x79eb, 0x54e4, 0x1, 0x0);
        gbc.writeMem(0x17ef, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x600e);
        EXPECT(gbc.pc(), 0x17f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0162
        gbc.setState(0x7d4d, 0xa23b, 0x8580, 0x3155, 0xec3, 0x79bc, 0x0, 0x0);
        gbc.writeMem(0x7d4d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xa23b);
        EXPECT(gbc.pc(), 0x7d4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0163
        gbc.setState(0xb976, 0xddc9, 0xea00, 0x5dc5, 0xbbc7, 0x121e, 0x0, 0x0);
        gbc.writeMem(0xb976, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xddc9);
        EXPECT(gbc.pc(), 0xb978);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb976), 0xcb);
        EXPECT(gbc.readMem(0xb977), 0x6c);
        // CB 6C 0164
        gbc.setState(0xd278, 0x338, 0xf10, 0x5f06, 0xe4b4, 0x923, 0x1, 0x0);
        gbc.writeMem(0xd278, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x338);
        EXPECT(gbc.pc(), 0xd27a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd278), 0xcb);
        EXPECT(gbc.readMem(0xd279), 0x6c);
        // CB 6C 0165
        gbc.setState(0x3a17, 0xc676, 0x2690, 0xcb53, 0x8524, 0x9a1f, 0x1, 0x1);
        gbc.writeMem(0x3a17, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xc676);
        EXPECT(gbc.pc(), 0x3a19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0166
        gbc.setState(0xd384, 0x167e, 0x6fa0, 0x5956, 0xe9da, 0x693d, 0x1, 0x1);
        gbc.writeMem(0xd384, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x167e);
        EXPECT(gbc.pc(), 0xd386);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd384), 0xcb);
        EXPECT(gbc.readMem(0xd385), 0x6c);
        // CB 6C 0167
        gbc.setState(0xbc3c, 0xffbb, 0xecc0, 0xfdde, 0xb1c1, 0xf94c, 0x0, 0x1);
        gbc.writeMem(0xbc3c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xffbb);
        EXPECT(gbc.pc(), 0xbc3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc3c), 0xcb);
        EXPECT(gbc.readMem(0xbc3d), 0x6c);
        // CB 6C 0168
        gbc.setState(0x7cea, 0xfcbe, 0x4970, 0xd1cf, 0x9933, 0x4e0e, 0x1, 0x1);
        gbc.writeMem(0x7cea, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xfcbe);
        EXPECT(gbc.pc(), 0x7cec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0169
        gbc.setState(0x24e0, 0x190f, 0x2d60, 0x2780, 0x4626, 0xbe2f, 0x1, 0x1);
        gbc.writeMem(0x24e0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x190f);
        EXPECT(gbc.pc(), 0x24e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 016A
        gbc.setState(0x2bdb, 0x975, 0xcfb0, 0xfb26, 0x655b, 0x6384, 0x0, 0x1);
        gbc.writeMem(0x2bdb, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x975);
        EXPECT(gbc.pc(), 0x2bdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 016B
        gbc.setState(0xdfed, 0x9206, 0x7990, 0xfa70, 0x16f7, 0xe82b, 0x1, 0x1);
        gbc.writeMem(0xdfed, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9206);
        EXPECT(gbc.pc(), 0xdfef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfed), 0xcb);
        EXPECT(gbc.readMem(0xdfee), 0x6c);
        // CB 6C 016C
        gbc.setState(0x81c0, 0x1d1b, 0x84e0, 0x3a9a, 0xede1, 0x4e3a, 0x0, 0x0);
        gbc.writeMem(0x81c0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x1d1b);
        EXPECT(gbc.pc(), 0x81c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81c0), 0xcb);
        EXPECT(gbc.readMem(0x81c1), 0x6c);
        // CB 6C 016D
        gbc.setState(0xe9e4, 0x3da2, 0xa00, 0xfff9, 0x3c69, 0x5f60, 0x1, 0x1);
        gbc.writeMem(0xe9e4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x3da2);
        EXPECT(gbc.pc(), 0xe9e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9e4), 0xcb);
        EXPECT(gbc.readMem(0xe9e5), 0x6c);
        // CB 6C 016E
        gbc.setState(0xdc14, 0xee63, 0x28d0, 0x3ac4, 0xd218, 0xdc4b, 0x1, 0x1);
        gbc.writeMem(0xdc14, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xee63);
        EXPECT(gbc.pc(), 0xdc16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc14), 0xcb);
        EXPECT(gbc.readMem(0xdc15), 0x6c);
        // CB 6C 016F
        gbc.setState(0x5c17, 0x87c8, 0x2000, 0x9e22, 0x2c6f, 0x3a33, 0x1, 0x1);
        gbc.writeMem(0x5c17, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x87c8);
        EXPECT(gbc.pc(), 0x5c19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0170
        gbc.setState(0x35d6, 0xd3c8, 0x7150, 0x868a, 0xe76d, 0xab70, 0x0, 0x0);
        gbc.writeMem(0x35d6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xd3c8);
        EXPECT(gbc.pc(), 0x35d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0171
        gbc.setState(0x64a9, 0xdb94, 0xba20, 0x5edb, 0x90d1, 0x37d1, 0x0, 0x1);
        gbc.writeMem(0x64a9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xdb94);
        EXPECT(gbc.pc(), 0x64ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0173
        gbc.setState(0xb886, 0xf657, 0x4510, 0x7309, 0x3efb, 0xdf5b, 0x1, 0x1);
        gbc.writeMem(0xb886, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xf657);
        EXPECT(gbc.pc(), 0xb888);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb886), 0xcb);
        EXPECT(gbc.readMem(0xb887), 0x6c);
        // CB 6C 0174
        gbc.setState(0x9eb4, 0xf8c8, 0xf070, 0x3796, 0xc4ee, 0xd14, 0x0, 0x0);
        gbc.writeMem(0x9eb4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xf8c8);
        EXPECT(gbc.pc(), 0x9eb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9eb4), 0xcb);
        EXPECT(gbc.readMem(0x9eb5), 0x6c);
        // CB 6C 0175
        gbc.setState(0xb9bd, 0x308, 0xd7f0, 0xa83f, 0x3733, 0x3759, 0x0, 0x1);
        gbc.writeMem(0xb9bd, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x308);
        EXPECT(gbc.pc(), 0xb9bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9bd), 0xcb);
        EXPECT(gbc.readMem(0xb9be), 0x6c);
        // CB 6C 0176
        gbc.setState(0xa058, 0x2d84, 0xd890, 0x6f09, 0xf3, 0x4df2, 0x1, 0x1);
        gbc.writeMem(0xa058, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x2d84);
        EXPECT(gbc.pc(), 0xa05a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa058), 0xcb);
        EXPECT(gbc.readMem(0xa059), 0x6c);
        // CB 6C 0177
        gbc.setState(0xa6b, 0x57f4, 0x6350, 0x1342, 0xd2ab, 0x5170, 0x1, 0x1);
        gbc.writeMem(0xa6b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x57f4);
        EXPECT(gbc.pc(), 0xa6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0178
        gbc.setState(0x7f2e, 0x49c0, 0xa380, 0xa367, 0xfe88, 0x77fa, 0x1, 0x0);
        gbc.writeMem(0x7f2e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x49c0);
        EXPECT(gbc.pc(), 0x7f30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0179
        gbc.setState(0x68af, 0xae8b, 0x40b0, 0xde7e, 0xe3df, 0x2520, 0x1, 0x0);
        gbc.writeMem(0x68af, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xae8b);
        EXPECT(gbc.pc(), 0x68b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 017A
        gbc.setState(0x1650, 0xdc7c, 0xce10, 0xbc9, 0x7aed, 0xd965, 0x1, 0x1);
        gbc.writeMem(0x1650, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xdc7c);
        EXPECT(gbc.pc(), 0x1652);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 017B
        gbc.setState(0x20d0, 0xd0f, 0x1420, 0x659, 0xa775, 0x98e7, 0x0, 0x1);
        gbc.writeMem(0x20d0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xd0f);
        EXPECT(gbc.pc(), 0x20d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 017C
        gbc.setState(0xd053, 0xcb39, 0x80d0, 0x7df3, 0xb2c7, 0x578a, 0x1, 0x0);
        gbc.writeMem(0xd053, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xcb39);
        EXPECT(gbc.pc(), 0xd055);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd053), 0xcb);
        EXPECT(gbc.readMem(0xd054), 0x6c);
        // CB 6C 017D
        gbc.setState(0x7d6a, 0x4ce6, 0xa740, 0x6ca7, 0x1135, 0x93f7, 0x0, 0x1);
        gbc.writeMem(0x7d6a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x4ce6);
        EXPECT(gbc.pc(), 0x7d6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 017E
        gbc.setState(0xc2b0, 0x6292, 0xef00, 0xc418, 0x4dfa, 0x63da, 0x0, 0x0);
        gbc.writeMem(0xc2b0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x6292);
        EXPECT(gbc.pc(), 0xc2b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2b0), 0xcb);
        EXPECT(gbc.readMem(0xc2b1), 0x6c);
        // CB 6C 017F
        gbc.setState(0xa457, 0x4640, 0xbf30, 0xdd77, 0xa6b0, 0xa2e2, 0x1, 0x0);
        gbc.writeMem(0xa457, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x4640);
        EXPECT(gbc.pc(), 0xa459);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa457), 0xcb);
        EXPECT(gbc.readMem(0xa458), 0x6c);
        // CB 6C 0180
        gbc.setState(0x1dd0, 0x7e8c, 0x3b90, 0x38f7, 0xe0f4, 0xf27e, 0x1, 0x0);
        gbc.writeMem(0x1dd0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x7e8c);
        EXPECT(gbc.pc(), 0x1dd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0181
        gbc.setState(0xe87a, 0x353a, 0x8070, 0x8e97, 0x7506, 0x42ee, 0x1, 0x0);
        gbc.writeMem(0xe87a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x353a);
        EXPECT(gbc.pc(), 0xe87c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe87a), 0xcb);
        EXPECT(gbc.readMem(0xe87b), 0x6c);
        // CB 6C 0182
        gbc.setState(0x2b49, 0xa5ef, 0xb10, 0x7271, 0xaf47, 0xa399, 0x1, 0x1);
        gbc.writeMem(0x2b49, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xa5ef);
        EXPECT(gbc.pc(), 0x2b4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0183
        gbc.setState(0xc1c0, 0x6426, 0xfc30, 0x14b7, 0xdcb4, 0x39c3, 0x1, 0x0);
        gbc.writeMem(0xc1c0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x6426);
        EXPECT(gbc.pc(), 0xc1c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1c0), 0xcb);
        EXPECT(gbc.readMem(0xc1c1), 0x6c);
        // CB 6C 0184
        gbc.setState(0x9430, 0x1113, 0xc5b0, 0xe04a, 0x594a, 0xb44e, 0x0, 0x1);
        gbc.writeMem(0x9430, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x1113);
        EXPECT(gbc.pc(), 0x9432);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9430), 0xcb);
        EXPECT(gbc.readMem(0x9431), 0x6c);
        // CB 6C 0185
        gbc.setState(0xc740, 0xc685, 0x1b90, 0xb94, 0xd733, 0xeb12, 0x0, 0x1);
        gbc.writeMem(0xc740, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xc685);
        EXPECT(gbc.pc(), 0xc742);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc740), 0xcb);
        EXPECT(gbc.readMem(0xc741), 0x6c);
        // CB 6C 0186
        gbc.setState(0xbd64, 0xb1e4, 0x1820, 0xb118, 0x7bb9, 0xfb8, 0x0, 0x0);
        gbc.writeMem(0xbd64, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xb1e4);
        EXPECT(gbc.pc(), 0xbd66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd64), 0xcb);
        EXPECT(gbc.readMem(0xbd65), 0x6c);
        // CB 6C 0187
        gbc.setState(0xc407, 0x92aa, 0x2a10, 0x283a, 0xc04b, 0x5dd8, 0x1, 0x1);
        gbc.writeMem(0xc407, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x92aa);
        EXPECT(gbc.pc(), 0xc409);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc407), 0xcb);
        EXPECT(gbc.readMem(0xc408), 0x6c);
        // CB 6C 0188
        gbc.setState(0xe2b2, 0xdda1, 0xbab0, 0xff65, 0xde79, 0xa8a6, 0x1, 0x0);
        gbc.writeMem(0xe2b2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xdda1);
        EXPECT(gbc.pc(), 0xe2b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2b2), 0xcb);
        EXPECT(gbc.readMem(0xe2b3), 0x6c);
        // CB 6C 0189
        gbc.setState(0xc7d9, 0x5746, 0xa7c0, 0x4eef, 0xc7d0, 0x3710, 0x0, 0x1);
        gbc.writeMem(0xc7d9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x5746);
        EXPECT(gbc.pc(), 0xc7db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7d9), 0xcb);
        EXPECT(gbc.readMem(0xc7da), 0x6c);
        // CB 6C 018A
        gbc.setState(0xc02e, 0xb6ab, 0x8f10, 0x3394, 0xdcd, 0xf75f, 0x1, 0x1);
        gbc.writeMem(0xc02e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xb6ab);
        EXPECT(gbc.pc(), 0xc030);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc02e), 0xcb);
        EXPECT(gbc.readMem(0xc02f), 0x6c);
        // CB 6C 018B
        gbc.setState(0x74c8, 0x8797, 0x6a10, 0x3cd3, 0xc61, 0xb0bf, 0x1, 0x0);
        gbc.writeMem(0x74c8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x8797);
        EXPECT(gbc.pc(), 0x74ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 018C
        gbc.setState(0x7c81, 0x2edf, 0x99b0, 0xe253, 0x333, 0xc6fa, 0x1, 0x0);
        gbc.writeMem(0x7c81, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x2edf);
        EXPECT(gbc.pc(), 0x7c83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 018D
        gbc.setState(0x567f, 0xd2ff, 0x92e0, 0xa34b, 0xd0d, 0xb878, 0x1, 0x0);
        gbc.writeMem(0x567f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xd2ff);
        EXPECT(gbc.pc(), 0x5681);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 018E
        gbc.setState(0x6ea6, 0x9200, 0xc400, 0x52b5, 0xf819, 0xc6f6, 0x1, 0x1);
        gbc.writeMem(0x6ea6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x9200);
        EXPECT(gbc.pc(), 0x6ea8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 018F
        gbc.setState(0x80d6, 0x67c8, 0xa8f0, 0xd770, 0x65bd, 0xb73b, 0x0, 0x0);
        gbc.writeMem(0x80d6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x67c8);
        EXPECT(gbc.pc(), 0x80d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80d6), 0xcb);
        EXPECT(gbc.readMem(0x80d7), 0x6c);
        // CB 6C 0190
        gbc.setState(0x33bb, 0xe590, 0x89b0, 0x2909, 0x61e9, 0x6d3e, 0x0, 0x1);
        gbc.writeMem(0x33bb, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xe590);
        EXPECT(gbc.pc(), 0x33bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0191
        gbc.setState(0xc27b, 0xa2bb, 0xc460, 0xd6df, 0xdbb0, 0xe3e9, 0x1, 0x0);
        gbc.writeMem(0xc27b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xa2bb);
        EXPECT(gbc.pc(), 0xc27d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc27b), 0xcb);
        EXPECT(gbc.readMem(0xc27c), 0x6c);
        // CB 6C 0192
        gbc.setState(0x76df, 0x75da, 0xda80, 0xb411, 0x188a, 0x9b42, 0x1, 0x0);
        gbc.writeMem(0x76df, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x75da);
        EXPECT(gbc.pc(), 0x76e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0193
        gbc.setState(0xcb8e, 0xcab8, 0xb2c0, 0x166d, 0x1ac0, 0x2712, 0x1, 0x1);
        gbc.writeMem(0xcb8e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xcab8);
        EXPECT(gbc.pc(), 0xcb90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb8e), 0xcb);
        EXPECT(gbc.readMem(0xcb8f), 0x6c);
        // CB 6C 0194
        gbc.setState(0x7b6d, 0xf01b, 0x1510, 0x3caa, 0x4983, 0x2ed9, 0x1, 0x0);
        gbc.writeMem(0x7b6d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xf01b);
        EXPECT(gbc.pc(), 0x7b6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0195
        gbc.setState(0xbc47, 0xd76e, 0x4910, 0x484c, 0xce60, 0x1af1, 0x0, 0x1);
        gbc.writeMem(0xbc47, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xd76e);
        EXPECT(gbc.pc(), 0xbc49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc47), 0xcb);
        EXPECT(gbc.readMem(0xbc48), 0x6c);
        // CB 6C 0196
        gbc.setState(0x9879, 0xd504, 0xf410, 0xc571, 0xa67d, 0xdccd, 0x0, 0x1);
        gbc.writeMem(0x9879, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xd504);
        EXPECT(gbc.pc(), 0x987b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9879), 0xcb);
        EXPECT(gbc.readMem(0x987a), 0x6c);
        // CB 6C 0197
        gbc.setState(0x5af0, 0x3a0a, 0xf960, 0xd83, 0x190e, 0xc3a2, 0x0, 0x1);
        gbc.writeMem(0x5af0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x3a0a);
        EXPECT(gbc.pc(), 0x5af2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0198
        gbc.setState(0x99e2, 0xb5e5, 0x1870, 0x5f89, 0xe0ce, 0x6765, 0x0, 0x0);
        gbc.writeMem(0x99e2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xb5e5);
        EXPECT(gbc.pc(), 0x99e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99e2), 0xcb);
        EXPECT(gbc.readMem(0x99e3), 0x6c);
        // CB 6C 0199
        gbc.setState(0x565d, 0x82be, 0xa150, 0x41ff, 0xcb6f, 0x499b, 0x0, 0x1);
        gbc.writeMem(0x565d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x82be);
        EXPECT(gbc.pc(), 0x565f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 019A
        gbc.setState(0xb565, 0x140c, 0x2ee0, 0x8c7e, 0xf415, 0xd0f4, 0x1, 0x1);
        gbc.writeMem(0xb565, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x140c);
        EXPECT(gbc.pc(), 0xb567);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb565), 0xcb);
        EXPECT(gbc.readMem(0xb566), 0x6c);
        // CB 6C 019B
        gbc.setState(0x5a2f, 0xf5e2, 0xa610, 0xf33a, 0xac82, 0xc81c, 0x0, 0x0);
        gbc.writeMem(0x5a2f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xf5e2);
        EXPECT(gbc.pc(), 0x5a31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 019D
        gbc.setState(0xdb17, 0x17a8, 0x8620, 0x4e94, 0x204a, 0xd25c, 0x1, 0x0);
        gbc.writeMem(0xdb17, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x17a8);
        EXPECT(gbc.pc(), 0xdb19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb17), 0xcb);
        EXPECT(gbc.readMem(0xdb18), 0x6c);
        // CB 6C 019E
        gbc.setState(0x94c1, 0x494b, 0x2350, 0xd953, 0x3777, 0xc960, 0x0, 0x1);
        gbc.writeMem(0x94c1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x494b);
        EXPECT(gbc.pc(), 0x94c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94c1), 0xcb);
        EXPECT(gbc.readMem(0x94c2), 0x6c);
        // CB 6C 019F
        gbc.setState(0x1db2, 0x57b5, 0x1950, 0x3f13, 0x9b16, 0x5e6d, 0x1, 0x1);
        gbc.writeMem(0x1db2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x57b5);
        EXPECT(gbc.pc(), 0x1db4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01A0
        gbc.setState(0xb948, 0xa652, 0x9bd0, 0xacb1, 0x2d09, 0xfc97, 0x0, 0x1);
        gbc.writeMem(0xb948, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa652);
        EXPECT(gbc.pc(), 0xb94a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb948), 0xcb);
        EXPECT(gbc.readMem(0xb949), 0x6c);
        // CB 6C 01A1
        gbc.setState(0x32ec, 0xafaf, 0x7d90, 0x1743, 0x3c61, 0xa6f6, 0x0, 0x0);
        gbc.writeMem(0x32ec, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xafaf);
        EXPECT(gbc.pc(), 0x32ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01A2
        gbc.setState(0x21ac, 0xe2ab, 0x2840, 0x2a5a, 0xf09, 0xf47c, 0x1, 0x1);
        gbc.writeMem(0x21ac, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xe2ab);
        EXPECT(gbc.pc(), 0x21ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01A3
        gbc.setState(0xa73f, 0xc19a, 0xe0d0, 0xfd9c, 0xa9, 0xf74b, 0x1, 0x0);
        gbc.writeMem(0xa73f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xc19a);
        EXPECT(gbc.pc(), 0xa741);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa73f), 0xcb);
        EXPECT(gbc.readMem(0xa740), 0x6c);
        // CB 6C 01A4
        gbc.setState(0x11fc, 0xc785, 0xf360, 0x44f4, 0xfecc, 0xef35, 0x0, 0x1);
        gbc.writeMem(0x11fc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc785);
        EXPECT(gbc.pc(), 0x11fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01A5
        gbc.setState(0x46d, 0x15c6, 0x3d30, 0x9a8f, 0xd0ac, 0x8b24, 0x0, 0x0);
        gbc.writeMem(0x46d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x15c6);
        EXPECT(gbc.pc(), 0x46f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01A6
        gbc.setState(0x3048, 0x5d90, 0xaf40, 0x2694, 0x8331, 0x7412, 0x0, 0x1);
        gbc.writeMem(0x3048, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x5d90);
        EXPECT(gbc.pc(), 0x304a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01A7
        gbc.setState(0x9bed, 0x6587, 0x1bf0, 0xb0e2, 0x5647, 0x58e5, 0x1, 0x1);
        gbc.writeMem(0x9bed, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x6587);
        EXPECT(gbc.pc(), 0x9bef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bed), 0xcb);
        EXPECT(gbc.readMem(0x9bee), 0x6c);
        // CB 6C 01A8
        gbc.setState(0xb65b, 0xb535, 0x37c0, 0x1c66, 0xd165, 0xdef9, 0x0, 0x1);
        gbc.writeMem(0xb65b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xb535);
        EXPECT(gbc.pc(), 0xb65d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb65b), 0xcb);
        EXPECT(gbc.readMem(0xb65c), 0x6c);
        // CB 6C 01A9
        gbc.setState(0x79d1, 0x9b49, 0x8cd0, 0x5dfb, 0x61e, 0xa8a9, 0x1, 0x0);
        gbc.writeMem(0x79d1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x9b49);
        EXPECT(gbc.pc(), 0x79d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01AA
        gbc.setState(0xe88c, 0x8d43, 0xb110, 0x7909, 0x4924, 0xedb5, 0x0, 0x0);
        gbc.writeMem(0xe88c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x8d43);
        EXPECT(gbc.pc(), 0xe88e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe88c), 0xcb);
        EXPECT(gbc.readMem(0xe88d), 0x6c);
        // CB 6C 01AB
        gbc.setState(0x1bab, 0x4bf8, 0x44e0, 0x96a1, 0xd340, 0x9b5b, 0x1, 0x0);
        gbc.writeMem(0x1bab, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x4bf8);
        EXPECT(gbc.pc(), 0x1bad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01AC
        gbc.setState(0x2d9a, 0xa566, 0x1110, 0x5193, 0x635e, 0x475f, 0x1, 0x1);
        gbc.writeMem(0x2d9a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xa566);
        EXPECT(gbc.pc(), 0x2d9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01AD
        gbc.setState(0xe98f, 0x4004, 0x630, 0xb1d, 0x3405, 0x4d13, 0x1, 0x1);
        gbc.writeMem(0xe98f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x4004);
        EXPECT(gbc.pc(), 0xe991);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe98f), 0xcb);
        EXPECT(gbc.readMem(0xe990), 0x6c);
        // CB 6C 01AE
        gbc.setState(0x1cc4, 0x104, 0xb2d0, 0x9dbd, 0x4f5d, 0xa484, 0x0, 0x1);
        gbc.writeMem(0x1cc4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x104);
        EXPECT(gbc.pc(), 0x1cc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01AF
        gbc.setState(0xa104, 0x4891, 0xc910, 0x9b54, 0x3955, 0xf2c1, 0x0, 0x0);
        gbc.writeMem(0xa104, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x4891);
        EXPECT(gbc.pc(), 0xa106);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa104), 0xcb);
        EXPECT(gbc.readMem(0xa105), 0x6c);
        // CB 6C 01B1
        gbc.setState(0x27f, 0xea44, 0x700, 0x5d7b, 0x8b31, 0x74d1, 0x0, 0x1);
        gbc.writeMem(0x27f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xea44);
        EXPECT(gbc.pc(), 0x281);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01B2
        gbc.setState(0xcec3, 0x97c1, 0xd300, 0x6a4d, 0x9c64, 0x5a53, 0x0, 0x1);
        gbc.writeMem(0xcec3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x97c1);
        EXPECT(gbc.pc(), 0xcec5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcec3), 0xcb);
        EXPECT(gbc.readMem(0xcec4), 0x6c);
        // CB 6C 01B3
        gbc.setState(0x6384, 0x8732, 0x7ee0, 0x97, 0x4ad6, 0x4496, 0x0, 0x1);
        gbc.writeMem(0x6384, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x8732);
        EXPECT(gbc.pc(), 0x6386);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01B4
        gbc.setState(0x2310, 0xa4f1, 0xc200, 0x7b8d, 0x1ca1, 0xd215, 0x1, 0x0);
        gbc.writeMem(0x2310, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xa4f1);
        EXPECT(gbc.pc(), 0x2312);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01B5
        gbc.setState(0x1c3, 0x6f0a, 0x1c50, 0x3942, 0xe250, 0xdf91, 0x1, 0x1);
        gbc.writeMem(0x1c3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x6f0a);
        EXPECT(gbc.pc(), 0x1c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01B6
        gbc.setState(0xd8a6, 0x6fc7, 0x6620, 0xd18, 0x8394, 0x6b1f, 0x1, 0x1);
        gbc.writeMem(0xd8a6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x6fc7);
        EXPECT(gbc.pc(), 0xd8a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8a6), 0xcb);
        EXPECT(gbc.readMem(0xd8a7), 0x6c);
        // CB 6C 01B7
        gbc.setState(0x7c88, 0xafb4, 0x81f0, 0x52ab, 0xd498, 0x9e31, 0x0, 0x1);
        gbc.writeMem(0x7c88, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xafb4);
        EXPECT(gbc.pc(), 0x7c8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01B8
        gbc.setState(0x746a, 0x5a28, 0xdc80, 0x4827, 0x32b8, 0xef76, 0x0, 0x1);
        gbc.writeMem(0x746a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x5a28);
        EXPECT(gbc.pc(), 0x746c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01B9
        gbc.setState(0x7630, 0x4904, 0x26d0, 0xfaaf, 0xad1e, 0x9397, 0x0, 0x1);
        gbc.writeMem(0x7630, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x4904);
        EXPECT(gbc.pc(), 0x7632);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01BA
        gbc.setState(0xd2bc, 0x9494, 0x1ef0, 0x5c54, 0xea9e, 0xd3e7, 0x0, 0x0);
        gbc.writeMem(0xd2bc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9494);
        EXPECT(gbc.pc(), 0xd2be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2bc), 0xcb);
        EXPECT(gbc.readMem(0xd2bd), 0x6c);
        // CB 6C 01BB
        gbc.setState(0x199c, 0xa8cb, 0x7ab0, 0xf8a3, 0x8170, 0x6f2c, 0x0, 0x1);
        gbc.writeMem(0x199c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xa8cb);
        EXPECT(gbc.pc(), 0x199e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01BC
        gbc.setState(0xb2f, 0x4647, 0xf3b0, 0xcd2a, 0x231d, 0x9ae4, 0x1, 0x1);
        gbc.writeMem(0xb2f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x4647);
        EXPECT(gbc.pc(), 0xb31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01BD
        gbc.setState(0xe6be, 0xadf2, 0xdbd0, 0x56b7, 0xeace, 0xf585, 0x0, 0x0);
        gbc.writeMem(0xe6be, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xadf2);
        EXPECT(gbc.pc(), 0xe6c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6be), 0xcb);
        EXPECT(gbc.readMem(0xe6bf), 0x6c);
        // CB 6C 01BE
        gbc.setState(0x1b83, 0xc84c, 0xb4f0, 0xe4a6, 0x709f, 0x9a30, 0x1, 0x0);
        gbc.writeMem(0x1b83, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xc84c);
        EXPECT(gbc.pc(), 0x1b85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01BF
        gbc.setState(0x4a7a, 0x78bf, 0xae0, 0x4f9c, 0x5829, 0xae42, 0x1, 0x1);
        gbc.writeMem(0x4a7a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x78bf);
        EXPECT(gbc.pc(), 0x4a7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01C0
        gbc.setState(0xd9fa, 0x89c0, 0x7080, 0xa030, 0x60a2, 0xfc48, 0x0, 0x1);
        gbc.writeMem(0xd9fa, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x89c0);
        EXPECT(gbc.pc(), 0xd9fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9fa), 0xcb);
        EXPECT(gbc.readMem(0xd9fb), 0x6c);
        // CB 6C 01C1
        gbc.setState(0x5011, 0xcd0f, 0x6300, 0xaefc, 0xc81b, 0xd440, 0x0, 0x0);
        gbc.writeMem(0x5011, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xcd0f);
        EXPECT(gbc.pc(), 0x5013);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01C2
        gbc.setState(0x6175, 0xbd53, 0xea00, 0xe8fd, 0x9e5, 0x8434, 0x1, 0x0);
        gbc.writeMem(0x6175, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xbd53);
        EXPECT(gbc.pc(), 0x6177);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01C3
        gbc.setState(0x7186, 0x21f8, 0x5240, 0xaaf3, 0x818, 0x8d4a, 0x1, 0x0);
        gbc.writeMem(0x7186, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x21f8);
        EXPECT(gbc.pc(), 0x7188);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01C4
        gbc.setState(0x1834, 0xbae6, 0x5d60, 0x4ff, 0x79c9, 0x49a6, 0x0, 0x1);
        gbc.writeMem(0x1834, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xbae6);
        EXPECT(gbc.pc(), 0x1836);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01C5
        gbc.setState(0x2670, 0xa377, 0xf620, 0x8a8f, 0x29c1, 0x1491, 0x0, 0x0);
        gbc.writeMem(0x2670, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xa377);
        EXPECT(gbc.pc(), 0x2672);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01C6
        gbc.setState(0x2fa0, 0xd23d, 0xac80, 0x19f9, 0x2ebe, 0xdf6e, 0x0, 0x0);
        gbc.writeMem(0x2fa0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xd23d);
        EXPECT(gbc.pc(), 0x2fa2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01C7
        gbc.setState(0xb9d1, 0xea12, 0xfde0, 0x6413, 0xeef2, 0x1e2f, 0x1, 0x0);
        gbc.writeMem(0xb9d1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xea12);
        EXPECT(gbc.pc(), 0xb9d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9d1), 0xcb);
        EXPECT(gbc.readMem(0xb9d2), 0x6c);
        // CB 6C 01C8
        gbc.setState(0x58d6, 0x272d, 0xaa80, 0xfade, 0xaff6, 0xd84f, 0x1, 0x1);
        gbc.writeMem(0x58d6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x272d);
        EXPECT(gbc.pc(), 0x58d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01C9
        gbc.setState(0xe263, 0xf473, 0x4ae0, 0x91db, 0x9b47, 0xf81f, 0x1, 0x0);
        gbc.writeMem(0xe263, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xf473);
        EXPECT(gbc.pc(), 0xe265);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe263), 0xcb);
        EXPECT(gbc.readMem(0xe264), 0x6c);
        // CB 6C 01CA
        gbc.setState(0xe106, 0x3bc6, 0x7610, 0x900a, 0x10b6, 0xcce, 0x0, 0x1);
        gbc.writeMem(0xe106, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x3bc6);
        EXPECT(gbc.pc(), 0xe108);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe106), 0xcb);
        EXPECT(gbc.readMem(0xe107), 0x6c);
        // CB 6C 01CB
        gbc.setState(0xa26, 0x6c02, 0x37d0, 0x24fe, 0x6575, 0xdf0c, 0x1, 0x1);
        gbc.writeMem(0xa26, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x6c02);
        EXPECT(gbc.pc(), 0xa28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01CC
        gbc.setState(0x1da1, 0x53f2, 0xb00, 0xeb42, 0xf33, 0x39de, 0x0, 0x0);
        gbc.writeMem(0x1da1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x53f2);
        EXPECT(gbc.pc(), 0x1da3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01CD
        gbc.setState(0x37b7, 0x3c5d, 0xdfa0, 0x7bf3, 0x3f, 0x4c55, 0x0, 0x1);
        gbc.writeMem(0x37b7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x3c5d);
        EXPECT(gbc.pc(), 0x37b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01CE
        gbc.setState(0xd2b, 0xd414, 0xf900, 0xd088, 0x5a43, 0xaf0e, 0x1, 0x0);
        gbc.writeMem(0xd2b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xd414);
        EXPECT(gbc.pc(), 0xd2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01CF
        gbc.setState(0xaddb, 0x48e5, 0x47a0, 0x1ae4, 0x6d6a, 0x4225, 0x0, 0x1);
        gbc.writeMem(0xaddb, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x48e5);
        EXPECT(gbc.pc(), 0xaddd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaddb), 0xcb);
        EXPECT(gbc.readMem(0xaddc), 0x6c);
        // CB 6C 01D0
        gbc.setState(0x4fb3, 0x7499, 0x7650, 0x63ae, 0xa7da, 0xfcb0, 0x1, 0x0);
        gbc.writeMem(0x4fb3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7499);
        EXPECT(gbc.pc(), 0x4fb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01D1
        gbc.setState(0xb3d9, 0x61a1, 0xdff0, 0x9a8c, 0x4629, 0x1474, 0x1, 0x0);
        gbc.writeMem(0xb3d9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x61a1);
        EXPECT(gbc.pc(), 0xb3db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3d9), 0xcb);
        EXPECT(gbc.readMem(0xb3da), 0x6c);
        // CB 6C 01D3
        gbc.setState(0x860f, 0x2147, 0x5860, 0xe23c, 0x96f4, 0x4f26, 0x1, 0x0);
        gbc.writeMem(0x860f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x2147);
        EXPECT(gbc.pc(), 0x8611);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x860f), 0xcb);
        EXPECT(gbc.readMem(0x8610), 0x6c);
        // CB 6C 01D4
        gbc.setState(0xb62c, 0x8a75, 0x3fd0, 0x9007, 0xef1a, 0xb4d9, 0x1, 0x1);
        gbc.writeMem(0xb62c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x8a75);
        EXPECT(gbc.pc(), 0xb62e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb62c), 0xcb);
        EXPECT(gbc.readMem(0xb62d), 0x6c);
        // CB 6C 01D5
        gbc.setState(0x1355, 0x8bb5, 0xbe20, 0xe34, 0xfec6, 0x5ed0, 0x1, 0x0);
        gbc.writeMem(0x1355, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x8bb5);
        EXPECT(gbc.pc(), 0x1357);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01D6
        gbc.setState(0x5c40, 0x1f6f, 0x40f0, 0xd28f, 0x786b, 0xfb4d, 0x1, 0x1);
        gbc.writeMem(0x5c40, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x1f6f);
        EXPECT(gbc.pc(), 0x5c42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01D7
        gbc.setState(0x76ba, 0xcd6b, 0xe430, 0xd009, 0x6950, 0x6de5, 0x0, 0x0);
        gbc.writeMem(0x76ba, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xcd6b);
        EXPECT(gbc.pc(), 0x76bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01D8
        gbc.setState(0xa43a, 0x5732, 0xb5f0, 0xe28, 0x63b7, 0x7ad5, 0x0, 0x1);
        gbc.writeMem(0xa43a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x5732);
        EXPECT(gbc.pc(), 0xa43c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa43a), 0xcb);
        EXPECT(gbc.readMem(0xa43b), 0x6c);
        // CB 6C 01D9
        gbc.setState(0xd454, 0x20d8, 0x58e0, 0x2fa0, 0x198e, 0x9678, 0x0, 0x1);
        gbc.writeMem(0xd454, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x20d8);
        EXPECT(gbc.pc(), 0xd456);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd454), 0xcb);
        EXPECT(gbc.readMem(0xd455), 0x6c);
        // CB 6C 01DA
        gbc.setState(0x1027, 0xdc2e, 0xea10, 0x98ac, 0x855a, 0xa986, 0x0, 0x0);
        gbc.writeMem(0x1027, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xdc2e);
        EXPECT(gbc.pc(), 0x1029);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01DB
        gbc.setState(0x41b5, 0x4f5b, 0x56f0, 0xa6ec, 0x9685, 0x4efd, 0x0, 0x1);
        gbc.writeMem(0x41b5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x4f5b);
        EXPECT(gbc.pc(), 0x41b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01DC
        gbc.setState(0x82a3, 0x4d98, 0x93d0, 0xd59b, 0x8c2, 0x4ff4, 0x0, 0x0);
        gbc.writeMem(0x82a3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x4d98);
        EXPECT(gbc.pc(), 0x82a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82a3), 0xcb);
        EXPECT(gbc.readMem(0x82a4), 0x6c);
        // CB 6C 01DD
        gbc.setState(0x3b16, 0xaecb, 0x96b0, 0xd9d9, 0x9acc, 0x213, 0x0, 0x0);
        gbc.writeMem(0x3b16, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xaecb);
        EXPECT(gbc.pc(), 0x3b18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01DF
        gbc.setState(0xde3b, 0x446d, 0x2810, 0x84e4, 0xbc73, 0x8e06, 0x1, 0x0);
        gbc.writeMem(0xde3b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x446d);
        EXPECT(gbc.pc(), 0xde3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde3b), 0xcb);
        EXPECT(gbc.readMem(0xde3c), 0x6c);
        // CB 6C 01E0
        gbc.setState(0x936b, 0xd1a5, 0x41e0, 0xded3, 0xb8c, 0xfc39, 0x1, 0x1);
        gbc.writeMem(0x936b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xd1a5);
        EXPECT(gbc.pc(), 0x936d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x936b), 0xcb);
        EXPECT(gbc.readMem(0x936c), 0x6c);
        // CB 6C 01E1
        gbc.setState(0x1319, 0xc1f0, 0xbf30, 0x3111, 0xd463, 0xc327, 0x1, 0x1);
        gbc.writeMem(0x1319, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xc1f0);
        EXPECT(gbc.pc(), 0x131b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01E2
        gbc.setState(0x185b, 0x9938, 0xa560, 0xa2f5, 0xa944, 0x5492, 0x0, 0x0);
        gbc.writeMem(0x185b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x9938);
        EXPECT(gbc.pc(), 0x185d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01E3
        gbc.setState(0x4630, 0x8a3a, 0xa810, 0x964, 0xbfa4, 0x23ba, 0x1, 0x1);
        gbc.writeMem(0x4630, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x8a3a);
        EXPECT(gbc.pc(), 0x4632);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01E4
        gbc.setState(0x3202, 0x455a, 0x7e30, 0x171c, 0x92a6, 0xfdba, 0x1, 0x1);
        gbc.writeMem(0x3202, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x455a);
        EXPECT(gbc.pc(), 0x3204);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01E5
        gbc.setState(0x62b1, 0x101e, 0x73d0, 0xd90d, 0x3132, 0xe93f, 0x1, 0x0);
        gbc.writeMem(0x62b1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x101e);
        EXPECT(gbc.pc(), 0x62b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01E6
        gbc.setState(0x8ee2, 0x46b3, 0x5110, 0xd917, 0x42df, 0x8c10, 0x1, 0x1);
        gbc.writeMem(0x8ee2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x46b3);
        EXPECT(gbc.pc(), 0x8ee4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ee2), 0xcb);
        EXPECT(gbc.readMem(0x8ee3), 0x6c);
        // CB 6C 01E7
        gbc.setState(0x39ac, 0x1cf0, 0xc790, 0x7550, 0x305e, 0x5996, 0x1, 0x0);
        gbc.writeMem(0x39ac, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x1cf0);
        EXPECT(gbc.pc(), 0x39ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01E8
        gbc.setState(0xa04, 0x42f4, 0xbb80, 0x2b1, 0x665a, 0x28a8, 0x0, 0x0);
        gbc.writeMem(0xa04, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x42f4);
        EXPECT(gbc.pc(), 0xa06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01E9
        gbc.setState(0x11e0, 0x6d5, 0x41c0, 0xbaba, 0x8372, 0xbd4f, 0x0, 0x1);
        gbc.writeMem(0x11e0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x6d5);
        EXPECT(gbc.pc(), 0x11e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01EA
        gbc.setState(0x2c75, 0x40fb, 0xaa10, 0xc36, 0xff39, 0x5a9e, 0x0, 0x1);
        gbc.writeMem(0x2c75, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x40fb);
        EXPECT(gbc.pc(), 0x2c77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01EB
        gbc.setState(0x3feb, 0x56b7, 0x3450, 0xf5c3, 0x9be0, 0xa8f3, 0x1, 0x0);
        gbc.writeMem(0x3feb, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x56b7);
        EXPECT(gbc.pc(), 0x3fed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01EC
        gbc.setState(0x7e98, 0xa076, 0xc770, 0x2878, 0xe46a, 0xb423, 0x0, 0x0);
        gbc.writeMem(0x7e98, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xa076);
        EXPECT(gbc.pc(), 0x7e9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01ED
        gbc.setState(0xe92f, 0x7c28, 0x58c0, 0xf1a2, 0x31e4, 0x5602, 0x1, 0x0);
        gbc.writeMem(0xe92f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x7c28);
        EXPECT(gbc.pc(), 0xe931);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe92f), 0xcb);
        EXPECT(gbc.readMem(0xe930), 0x6c);
        // CB 6C 01EE
        gbc.setState(0x8c22, 0xdbc9, 0xc2a0, 0x8322, 0x42b4, 0x6228, 0x1, 0x0);
        gbc.writeMem(0x8c22, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xdbc9);
        EXPECT(gbc.pc(), 0x8c24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c22), 0xcb);
        EXPECT(gbc.readMem(0x8c23), 0x6c);
        // CB 6C 01EF
        gbc.setState(0x1629, 0xd3, 0xac60, 0xd5ce, 0x7669, 0xcb7d, 0x0, 0x1);
        gbc.writeMem(0x1629, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xd3);
        EXPECT(gbc.pc(), 0x162b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01F0
        gbc.setState(0xef95, 0x8a31, 0xf830, 0x6bfb, 0xe1b9, 0xd802, 0x0, 0x0);
        gbc.writeMem(0xef95, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x8a31);
        EXPECT(gbc.pc(), 0xef97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef95), 0xcb);
        EXPECT(gbc.readMem(0xef96), 0x6c);
        // CB 6C 01F1
        gbc.setState(0x8544, 0x92a3, 0xa210, 0x2c88, 0x1655, 0xc994, 0x1, 0x0);
        gbc.writeMem(0x8544, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x92a3);
        EXPECT(gbc.pc(), 0x8546);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8544), 0xcb);
        EXPECT(gbc.readMem(0x8545), 0x6c);
        // CB 6C 01F2
        gbc.setState(0xda81, 0x69e3, 0x1700, 0x76, 0xe284, 0x9a20, 0x1, 0x1);
        gbc.writeMem(0xda81, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x69e3);
        EXPECT(gbc.pc(), 0xda83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda81), 0xcb);
        EXPECT(gbc.readMem(0xda82), 0x6c);
        // CB 6C 01F3
        gbc.setState(0x2484, 0x9efc, 0xe0e0, 0xb6ac, 0xe8a5, 0x282b, 0x1, 0x1);
        gbc.writeMem(0x2484, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9efc);
        EXPECT(gbc.pc(), 0x2486);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01F4
        gbc.setState(0xcd1c, 0x1ae1, 0xbd80, 0xef6, 0x861a, 0x2bdc, 0x0, 0x0);
        gbc.writeMem(0xcd1c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x1ae1);
        EXPECT(gbc.pc(), 0xcd1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd1c), 0xcb);
        EXPECT(gbc.readMem(0xcd1d), 0x6c);
        // CB 6C 01F5
        gbc.setState(0xbfd2, 0xa80f, 0x8310, 0x9473, 0x2030, 0x4339, 0x1, 0x0);
        gbc.writeMem(0xbfd2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xa80f);
        EXPECT(gbc.pc(), 0xbfd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfd2), 0xcb);
        EXPECT(gbc.readMem(0xbfd3), 0x6c);
        // CB 6C 01F6
        gbc.setState(0x6cf9, 0x6b9f, 0x22b0, 0x91ea, 0xf592, 0x7e88, 0x1, 0x0);
        gbc.writeMem(0x6cf9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x6b9f);
        EXPECT(gbc.pc(), 0x6cfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01F7
        gbc.setState(0x9c69, 0x2934, 0x24c0, 0xa164, 0x1c03, 0xfaf9, 0x1, 0x0);
        gbc.writeMem(0x9c69, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x2934);
        EXPECT(gbc.pc(), 0x9c6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c69), 0xcb);
        EXPECT(gbc.readMem(0x9c6a), 0x6c);
        // CB 6C 01F8
        gbc.setState(0x86d7, 0x80c9, 0x25f0, 0x4761, 0xe7f0, 0x4996, 0x0, 0x1);
        gbc.writeMem(0x86d7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x80c9);
        EXPECT(gbc.pc(), 0x86d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86d7), 0xcb);
        EXPECT(gbc.readMem(0x86d8), 0x6c);
        // CB 6C 01F9
        gbc.setState(0xe62f, 0x35eb, 0x35f0, 0xa3b5, 0x8f9, 0x4d3f, 0x0, 0x1);
        gbc.writeMem(0xe62f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x35eb);
        EXPECT(gbc.pc(), 0xe631);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe62f), 0xcb);
        EXPECT(gbc.readMem(0xe630), 0x6c);
        // CB 6C 01FA
        gbc.setState(0xa508, 0x4da6, 0xa2c0, 0x43f7, 0xc34f, 0x8da4, 0x1, 0x0);
        gbc.writeMem(0xa508, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x4da6);
        EXPECT(gbc.pc(), 0xa50a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa508), 0xcb);
        EXPECT(gbc.readMem(0xa509), 0x6c);
        // CB 6C 01FB
        gbc.setState(0x4872, 0x9e85, 0xdae0, 0x4e7, 0xb354, 0xb651, 0x0, 0x0);
        gbc.writeMem(0x4872, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x9e85);
        EXPECT(gbc.pc(), 0x4874);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01FC
        gbc.setState(0xccd5, 0xdda0, 0x24b0, 0xaa39, 0xa26f, 0x4256, 0x0, 0x0);
        gbc.writeMem(0xccd5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xdda0);
        EXPECT(gbc.pc(), 0xccd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccd5), 0xcb);
        EXPECT(gbc.readMem(0xccd6), 0x6c);
        // CB 6C 01FD
        gbc.setState(0x696, 0xf6de, 0xbde0, 0xc471, 0xbdab, 0x1d42, 0x1, 0x0);
        gbc.writeMem(0x696, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xf6de);
        EXPECT(gbc.pc(), 0x698);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 01FE
        gbc.setState(0x3db, 0x903, 0x3310, 0x9646, 0xaacb, 0xfb93, 0x0, 0x1);
        gbc.writeMem(0x3db, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x903);
        EXPECT(gbc.pc(), 0x3dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 01FF
        gbc.setState(0xca93, 0xc9c4, 0x36f0, 0x1ff8, 0x4983, 0x8aa, 0x0, 0x0);
        gbc.writeMem(0xca93, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xc9c4);
        EXPECT(gbc.pc(), 0xca95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca93), 0xcb);
        EXPECT(gbc.readMem(0xca94), 0x6c);
        // CB 6C 0200
        gbc.setState(0xa7ad, 0x6381, 0xb290, 0x5417, 0x5c80, 0x85c5, 0x0, 0x1);
        gbc.writeMem(0xa7ad, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x6381);
        EXPECT(gbc.pc(), 0xa7af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7ad), 0xcb);
        EXPECT(gbc.readMem(0xa7ae), 0x6c);
        // CB 6C 0201
        gbc.setState(0xc27d, 0x6695, 0xe3d0, 0x7a2f, 0x4785, 0x1012, 0x1, 0x0);
        gbc.writeMem(0xc27d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x6695);
        EXPECT(gbc.pc(), 0xc27f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc27d), 0xcb);
        EXPECT(gbc.readMem(0xc27e), 0x6c);
        // CB 6C 0202
        gbc.setState(0x5669, 0x8a67, 0xb4e0, 0x3f0d, 0xf754, 0x5527, 0x0, 0x0);
        gbc.writeMem(0x5669, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x8a67);
        EXPECT(gbc.pc(), 0x566b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0203
        gbc.setState(0x1872, 0x8c9c, 0x5890, 0xe3c7, 0x8710, 0x61d0, 0x1, 0x1);
        gbc.writeMem(0x1872, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x8c9c);
        EXPECT(gbc.pc(), 0x1874);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0204
        gbc.setState(0xae3f, 0x85a2, 0xa2b0, 0x6d82, 0x433d, 0x123e, 0x1, 0x0);
        gbc.writeMem(0xae3f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x85a2);
        EXPECT(gbc.pc(), 0xae41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae3f), 0xcb);
        EXPECT(gbc.readMem(0xae40), 0x6c);
        // CB 6C 0205
        gbc.setState(0x2ad8, 0xab7d, 0x7180, 0xa118, 0x8da9, 0xf558, 0x1, 0x0);
        gbc.writeMem(0x2ad8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xab7d);
        EXPECT(gbc.pc(), 0x2ada);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0206
        gbc.setState(0xb50f, 0x3bf, 0xa6b0, 0x4fde, 0x87b1, 0x3e1f, 0x0, 0x1);
        gbc.writeMem(0xb50f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x3bf);
        EXPECT(gbc.pc(), 0xb511);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb50f), 0xcb);
        EXPECT(gbc.readMem(0xb510), 0x6c);
        // CB 6C 0207
        gbc.setState(0xde56, 0x2358, 0x3cd0, 0x5dee, 0x8d5d, 0xb432, 0x1, 0x0);
        gbc.writeMem(0xde56, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2358);
        EXPECT(gbc.pc(), 0xde58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde56), 0xcb);
        EXPECT(gbc.readMem(0xde57), 0x6c);
        // CB 6C 0208
        gbc.setState(0xa38, 0xc23b, 0xf260, 0x4033, 0xd159, 0x99e3, 0x0, 0x0);
        gbc.writeMem(0xa38, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xc23b);
        EXPECT(gbc.pc(), 0xa3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0209
        gbc.setState(0xd8ef, 0x3278, 0x8c30, 0x95eb, 0xcbc8, 0x7c51, 0x1, 0x1);
        gbc.writeMem(0xd8ef, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x3278);
        EXPECT(gbc.pc(), 0xd8f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8ef), 0xcb);
        EXPECT(gbc.readMem(0xd8f0), 0x6c);
        // CB 6C 020B
        gbc.setState(0xace5, 0x9fc1, 0xed70, 0xef3b, 0x3ecf, 0xbdb4, 0x0, 0x0);
        gbc.writeMem(0xace5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x9fc1);
        EXPECT(gbc.pc(), 0xace7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xace5), 0xcb);
        EXPECT(gbc.readMem(0xace6), 0x6c);
        // CB 6C 020C
        gbc.setState(0x8650, 0x57f4, 0xa5a0, 0x918b, 0x6eb4, 0x9356, 0x1, 0x0);
        gbc.writeMem(0x8650, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x57f4);
        EXPECT(gbc.pc(), 0x8652);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8650), 0xcb);
        EXPECT(gbc.readMem(0x8651), 0x6c);
        // CB 6C 020D
        gbc.setState(0x9123, 0x4eb8, 0x6d50, 0x288e, 0x764a, 0xb1df, 0x0, 0x1);
        gbc.writeMem(0x9123, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x4eb8);
        EXPECT(gbc.pc(), 0x9125);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9123), 0xcb);
        EXPECT(gbc.readMem(0x9124), 0x6c);
        // CB 6C 020E
        gbc.setState(0x4567, 0xe2b9, 0xf830, 0x44ea, 0x932d, 0x59eb, 0x0, 0x1);
        gbc.writeMem(0x4567, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xe2b9);
        EXPECT(gbc.pc(), 0x4569);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 020F
        gbc.setState(0x5116, 0xdac7, 0x2ae0, 0x58ee, 0x9954, 0x7f9, 0x0, 0x0);
        gbc.writeMem(0x5116, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xdac7);
        EXPECT(gbc.pc(), 0x5118);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0210
        gbc.setState(0x4bc7, 0xd478, 0xc870, 0x18e4, 0x282f, 0x3c5b, 0x0, 0x1);
        gbc.writeMem(0x4bc7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xd478);
        EXPECT(gbc.pc(), 0x4bc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0211
        gbc.setState(0x7678, 0x185c, 0x4070, 0x9afb, 0xa0f5, 0xcc43, 0x1, 0x1);
        gbc.writeMem(0x7678, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x185c);
        EXPECT(gbc.pc(), 0x767a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0212
        gbc.setState(0xba97, 0xbe89, 0x45a0, 0xdd8c, 0xf757, 0x8ab9, 0x1, 0x1);
        gbc.writeMem(0xba97, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xbe89);
        EXPECT(gbc.pc(), 0xba99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba97), 0xcb);
        EXPECT(gbc.readMem(0xba98), 0x6c);
        // CB 6C 0213
        gbc.setState(0x7383, 0x53d9, 0x5cb0, 0x3a0a, 0x5c7a, 0x3a54, 0x0, 0x1);
        gbc.writeMem(0x7383, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x53d9);
        EXPECT(gbc.pc(), 0x7385);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0214
        gbc.setState(0xe346, 0x8c15, 0x84d0, 0xdbb, 0x8ffc, 0x7e0, 0x0, 0x1);
        gbc.writeMem(0xe346, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x8c15);
        EXPECT(gbc.pc(), 0xe348);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe346), 0xcb);
        EXPECT(gbc.readMem(0xe347), 0x6c);
        // CB 6C 0215
        gbc.setState(0xc75a, 0xd79b, 0x4170, 0x3be9, 0xbd1a, 0x4c2d, 0x1, 0x0);
        gbc.writeMem(0xc75a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xd79b);
        EXPECT(gbc.pc(), 0xc75c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc75a), 0xcb);
        EXPECT(gbc.readMem(0xc75b), 0x6c);
        // CB 6C 0216
        gbc.setState(0x44cf, 0x38dc, 0xe4b0, 0x431e, 0xa852, 0x58ed, 0x1, 0x0);
        gbc.writeMem(0x44cf, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x38dc);
        EXPECT(gbc.pc(), 0x44d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0217
        gbc.setState(0xa122, 0x1019, 0xad0, 0x18df, 0x7958, 0x155, 0x1, 0x1);
        gbc.writeMem(0xa122, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x1019);
        EXPECT(gbc.pc(), 0xa124);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa122), 0xcb);
        EXPECT(gbc.readMem(0xa123), 0x6c);
        // CB 6C 0218
        gbc.setState(0x8504, 0x35b2, 0x7e40, 0x83b7, 0x5168, 0x39cc, 0x1, 0x0);
        gbc.writeMem(0x8504, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x35b2);
        EXPECT(gbc.pc(), 0x8506);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8504), 0xcb);
        EXPECT(gbc.readMem(0x8505), 0x6c);
        // CB 6C 0219
        gbc.setState(0x8d6b, 0x7db4, 0x35f0, 0xc7da, 0x9ee9, 0xc963, 0x1, 0x1);
        gbc.writeMem(0x8d6b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x7db4);
        EXPECT(gbc.pc(), 0x8d6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d6b), 0xcb);
        EXPECT(gbc.readMem(0x8d6c), 0x6c);
        // CB 6C 021B
        gbc.setState(0x839c, 0x9e06, 0x1df0, 0x30c2, 0xef26, 0x325e, 0x1, 0x0);
        gbc.writeMem(0x839c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x9e06);
        EXPECT(gbc.pc(), 0x839e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x839c), 0xcb);
        EXPECT(gbc.readMem(0x839d), 0x6c);
        // CB 6C 021C
        gbc.setState(0x640a, 0x18a8, 0x1130, 0xac68, 0x606, 0xfc12, 0x1, 0x1);
        gbc.writeMem(0x640a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x18a8);
        EXPECT(gbc.pc(), 0x640c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 021D
        gbc.setState(0x64ae, 0x880f, 0x9a90, 0x256, 0x257f, 0xdbc1, 0x1, 0x0);
        gbc.writeMem(0x64ae, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x880f);
        EXPECT(gbc.pc(), 0x64b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 021E
        gbc.setState(0xae40, 0xfeb5, 0xdcf0, 0xc43c, 0x15bc, 0x7d04, 0x1, 0x0);
        gbc.writeMem(0xae40, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xfeb5);
        EXPECT(gbc.pc(), 0xae42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae40), 0xcb);
        EXPECT(gbc.readMem(0xae41), 0x6c);
        // CB 6C 021F
        gbc.setState(0x8bd, 0xf67a, 0x7230, 0x12b0, 0xfea1, 0xfc75, 0x1, 0x1);
        gbc.writeMem(0x8bd, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xf67a);
        EXPECT(gbc.pc(), 0x8bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0220
        gbc.setState(0xd57d, 0x357b, 0x3350, 0x5742, 0x7a8c, 0x25fb, 0x1, 0x1);
        gbc.writeMem(0xd57d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x357b);
        EXPECT(gbc.pc(), 0xd57f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd57d), 0xcb);
        EXPECT(gbc.readMem(0xd57e), 0x6c);
        // CB 6C 0221
        gbc.setState(0xe579, 0x20b9, 0x1360, 0xdfa6, 0x7f98, 0x855d, 0x0, 0x1);
        gbc.writeMem(0xe579, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x20b9);
        EXPECT(gbc.pc(), 0xe57b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe579), 0xcb);
        EXPECT(gbc.readMem(0xe57a), 0x6c);
        // CB 6C 0222
        gbc.setState(0x6f71, 0xd0ad, 0xb890, 0xa21d, 0x6825, 0xa300, 0x1, 0x0);
        gbc.writeMem(0x6f71, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xd0ad);
        EXPECT(gbc.pc(), 0x6f73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0223
        gbc.setState(0x5dc6, 0x80a5, 0x9340, 0xa4b6, 0xba72, 0x93b4, 0x1, 0x0);
        gbc.writeMem(0x5dc6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x80a5);
        EXPECT(gbc.pc(), 0x5dc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0224
        gbc.setState(0x7c9d, 0xc089, 0xae80, 0xba7, 0xec82, 0xc39, 0x0, 0x0);
        gbc.writeMem(0x7c9d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xc089);
        EXPECT(gbc.pc(), 0x7c9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0225
        gbc.setState(0xaec3, 0xfae7, 0x2390, 0xee0f, 0x68ac, 0x9295, 0x1, 0x1);
        gbc.writeMem(0xaec3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xfae7);
        EXPECT(gbc.pc(), 0xaec5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaec3), 0xcb);
        EXPECT(gbc.readMem(0xaec4), 0x6c);
        // CB 6C 0226
        gbc.setState(0xcbb4, 0xce7c, 0x5950, 0xf07e, 0x773b, 0x9cb9, 0x0, 0x0);
        gbc.writeMem(0xcbb4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xce7c);
        EXPECT(gbc.pc(), 0xcbb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbb4), 0xcb);
        EXPECT(gbc.readMem(0xcbb5), 0x6c);
        // CB 6C 0227
        gbc.setState(0x61ab, 0x43ed, 0xaa60, 0x3a38, 0x6136, 0x1151, 0x1, 0x1);
        gbc.writeMem(0x61ab, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x43ed);
        EXPECT(gbc.pc(), 0x61ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0228
        gbc.setState(0xdbdc, 0x3470, 0x90b0, 0xc58b, 0x22a2, 0x1aae, 0x1, 0x0);
        gbc.writeMem(0xdbdc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x3470);
        EXPECT(gbc.pc(), 0xdbde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbdc), 0xcb);
        EXPECT(gbc.readMem(0xdbdd), 0x6c);
        // CB 6C 0229
        gbc.setState(0xbb4, 0x928c, 0xf020, 0xfb6b, 0xb059, 0x92ce, 0x1, 0x1);
        gbc.writeMem(0xbb4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x928c);
        EXPECT(gbc.pc(), 0xbb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 022A
        gbc.setState(0xa071, 0x47b8, 0xe960, 0x399, 0x4aba, 0x266b, 0x1, 0x1);
        gbc.writeMem(0xa071, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x47b8);
        EXPECT(gbc.pc(), 0xa073);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa071), 0xcb);
        EXPECT(gbc.readMem(0xa072), 0x6c);
        // CB 6C 022B
        gbc.setState(0xc98a, 0x4ec1, 0xb460, 0xabe2, 0x4743, 0x4fa4, 0x0, 0x0);
        gbc.writeMem(0xc98a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x4ec1);
        EXPECT(gbc.pc(), 0xc98c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc98a), 0xcb);
        EXPECT(gbc.readMem(0xc98b), 0x6c);
        // CB 6C 022C
        gbc.setState(0xecb4, 0xa3, 0x61e0, 0x92ca, 0x8a8f, 0xb31b, 0x1, 0x1);
        gbc.writeMem(0xecb4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xa3);
        EXPECT(gbc.pc(), 0xecb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecb4), 0xcb);
        EXPECT(gbc.readMem(0xecb5), 0x6c);
        // CB 6C 022D
        gbc.setState(0x87ef, 0x8f1c, 0x8d0, 0xd59c, 0xfb41, 0x253b, 0x1, 0x0);
        gbc.writeMem(0x87ef, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8f1c);
        EXPECT(gbc.pc(), 0x87f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87ef), 0xcb);
        EXPECT(gbc.readMem(0x87f0), 0x6c);
        // CB 6C 022E
        gbc.setState(0x6a44, 0x554, 0x4d20, 0x9752, 0x4fb7, 0x3273, 0x1, 0x0);
        gbc.writeMem(0x6a44, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x554);
        EXPECT(gbc.pc(), 0x6a46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 022F
        gbc.setState(0x4cd7, 0x1c73, 0xb0a0, 0xb876, 0x506b, 0xb121, 0x1, 0x0);
        gbc.writeMem(0x4cd7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x1c73);
        EXPECT(gbc.pc(), 0x4cd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0230
        gbc.setState(0xe3af, 0x45aa, 0x7e70, 0x9b75, 0x31a5, 0xe845, 0x0, 0x1);
        gbc.writeMem(0xe3af, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x45aa);
        EXPECT(gbc.pc(), 0xe3b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3af), 0xcb);
        EXPECT(gbc.readMem(0xe3b0), 0x6c);
        // CB 6C 0231
        gbc.setState(0xb5a1, 0xe1d8, 0x3c0, 0x2818, 0xda14, 0xf764, 0x0, 0x1);
        gbc.writeMem(0xb5a1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xe1d8);
        EXPECT(gbc.pc(), 0xb5a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5a1), 0xcb);
        EXPECT(gbc.readMem(0xb5a2), 0x6c);
        // CB 6C 0232
        gbc.setState(0x9348, 0x155f, 0x6c90, 0xf883, 0x66c3, 0xdee1, 0x1, 0x0);
        gbc.writeMem(0x9348, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x155f);
        EXPECT(gbc.pc(), 0x934a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9348), 0xcb);
        EXPECT(gbc.readMem(0x9349), 0x6c);
        // CB 6C 0233
        gbc.setState(0xc362, 0x8b99, 0x7a30, 0x1a56, 0xb438, 0x20e5, 0x1, 0x1);
        gbc.writeMem(0xc362, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x8b99);
        EXPECT(gbc.pc(), 0xc364);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc362), 0xcb);
        EXPECT(gbc.readMem(0xc363), 0x6c);
        // CB 6C 0234
        gbc.setState(0x31ee, 0xafa7, 0x2b30, 0x4bd7, 0xf981, 0x8c8a, 0x1, 0x0);
        gbc.writeMem(0x31ee, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xafa7);
        EXPECT(gbc.pc(), 0x31f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0235
        gbc.setState(0xab, 0xbc52, 0x3a0, 0xc18c, 0x776e, 0x87ae, 0x0, 0x1);
        gbc.writeMem(0xab, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xbc52);
        EXPECT(gbc.pc(), 0xad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0236
        gbc.setState(0xa0a9, 0x9b5c, 0xbc50, 0xcbb7, 0x2410, 0x654a, 0x1, 0x0);
        gbc.writeMem(0xa0a9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x9b5c);
        EXPECT(gbc.pc(), 0xa0ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0a9), 0xcb);
        EXPECT(gbc.readMem(0xa0aa), 0x6c);
        // CB 6C 0237
        gbc.setState(0xeb1c, 0xee9e, 0x3ba0, 0xd11a, 0x8312, 0xb571, 0x1, 0x0);
        gbc.writeMem(0xeb1c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xee9e);
        EXPECT(gbc.pc(), 0xeb1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb1c), 0xcb);
        EXPECT(gbc.readMem(0xeb1d), 0x6c);
        // CB 6C 0238
        gbc.setState(0x73bc, 0xfef7, 0xfa80, 0x8c89, 0x3a6a, 0x229c, 0x1, 0x0);
        gbc.writeMem(0x73bc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xfef7);
        EXPECT(gbc.pc(), 0x73be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0239
        gbc.setState(0x1520, 0x28b, 0x3ce0, 0xcd76, 0xe186, 0x2fd5, 0x1, 0x1);
        gbc.writeMem(0x1520, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x28b);
        EXPECT(gbc.pc(), 0x1522);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 023A
        gbc.setState(0xd894, 0x5fb9, 0x55d0, 0x5d94, 0x1908, 0xe24f, 0x1, 0x1);
        gbc.writeMem(0xd894, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x5fb9);
        EXPECT(gbc.pc(), 0xd896);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd894), 0xcb);
        EXPECT(gbc.readMem(0xd895), 0x6c);
        // CB 6C 023B
        gbc.setState(0x95a0, 0xc6a4, 0x9340, 0x4200, 0xdf71, 0x2340, 0x1, 0x0);
        gbc.writeMem(0x95a0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xc6a4);
        EXPECT(gbc.pc(), 0x95a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95a0), 0xcb);
        EXPECT(gbc.readMem(0x95a1), 0x6c);
        // CB 6C 023C
        gbc.setState(0x96a6, 0x2641, 0xd230, 0x348a, 0x8083, 0x4054, 0x1, 0x0);
        gbc.writeMem(0x96a6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x2641);
        EXPECT(gbc.pc(), 0x96a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96a6), 0xcb);
        EXPECT(gbc.readMem(0x96a7), 0x6c);
        // CB 6C 023D
        gbc.setState(0x160d, 0x8ed1, 0xa090, 0x1149, 0x7e17, 0x41e1, 0x1, 0x0);
        gbc.writeMem(0x160d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x8ed1);
        EXPECT(gbc.pc(), 0x160f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 023F
        gbc.setState(0x9646, 0xe65a, 0xdca0, 0x6274, 0x1260, 0x145d, 0x0, 0x1);
        gbc.writeMem(0x9646, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xe65a);
        EXPECT(gbc.pc(), 0x9648);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9646), 0xcb);
        EXPECT(gbc.readMem(0x9647), 0x6c);
        // CB 6C 0240
        gbc.setState(0x2a91, 0xf19d, 0xd670, 0xab7f, 0xfaf7, 0x1c22, 0x0, 0x1);
        gbc.writeMem(0x2a91, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xf19d);
        EXPECT(gbc.pc(), 0x2a93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0241
        gbc.setState(0xb6a2, 0xe41e, 0x4ba0, 0xae88, 0xa9d2, 0x51a5, 0x0, 0x1);
        gbc.writeMem(0xb6a2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xe41e);
        EXPECT(gbc.pc(), 0xb6a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6a2), 0xcb);
        EXPECT(gbc.readMem(0xb6a3), 0x6c);
        // CB 6C 0242
        gbc.setState(0x52d9, 0xe0a4, 0x6fd0, 0x7b5, 0x9621, 0xb22, 0x1, 0x1);
        gbc.writeMem(0x52d9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xe0a4);
        EXPECT(gbc.pc(), 0x52db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0243
        gbc.setState(0x916c, 0x6ccd, 0xcbd0, 0x7768, 0x37d4, 0xc960, 0x0, 0x1);
        gbc.writeMem(0x916c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x6ccd);
        EXPECT(gbc.pc(), 0x916e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x916c), 0xcb);
        EXPECT(gbc.readMem(0x916d), 0x6c);
        // CB 6C 0244
        gbc.setState(0xaa9c, 0x956e, 0x3280, 0x90a2, 0x6a07, 0x4c18, 0x1, 0x0);
        gbc.writeMem(0xaa9c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x956e);
        EXPECT(gbc.pc(), 0xaa9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa9c), 0xcb);
        EXPECT(gbc.readMem(0xaa9d), 0x6c);
        // CB 6C 0245
        gbc.setState(0xd80a, 0xa111, 0xc680, 0xae94, 0xed6f, 0xe542, 0x1, 0x0);
        gbc.writeMem(0xd80a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xa111);
        EXPECT(gbc.pc(), 0xd80c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd80a), 0xcb);
        EXPECT(gbc.readMem(0xd80b), 0x6c);
        // CB 6C 0246
        gbc.setState(0xa8c5, 0x859d, 0x8c30, 0xbe39, 0x4ee0, 0x297c, 0x1, 0x1);
        gbc.writeMem(0xa8c5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x859d);
        EXPECT(gbc.pc(), 0xa8c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8c5), 0xcb);
        EXPECT(gbc.readMem(0xa8c6), 0x6c);
        // CB 6C 0247
        gbc.setState(0x2e88, 0x4f58, 0xdf80, 0x579c, 0x54c2, 0xae20, 0x0, 0x1);
        gbc.writeMem(0x2e88, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x4f58);
        EXPECT(gbc.pc(), 0x2e8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0248
        gbc.setState(0x4e25, 0xa7d6, 0x3170, 0x2035, 0x4ba5, 0x795, 0x1, 0x0);
        gbc.writeMem(0x4e25, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xa7d6);
        EXPECT(gbc.pc(), 0x4e27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 024A
        gbc.setState(0x1607, 0xfa1d, 0x7460, 0x33f, 0x8172, 0xbbb3, 0x0, 0x0);
        gbc.writeMem(0x1607, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xfa1d);
        EXPECT(gbc.pc(), 0x1609);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 024B
        gbc.setState(0x80f, 0x37ee, 0x69f0, 0x7753, 0xd621, 0xa2b1, 0x1, 0x1);
        gbc.writeMem(0x80f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x37ee);
        EXPECT(gbc.pc(), 0x811);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 024C
        gbc.setState(0x87c1, 0x6cdd, 0x3dd0, 0xc78e, 0xda9, 0xa4da, 0x1, 0x1);
        gbc.writeMem(0x87c1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x6cdd);
        EXPECT(gbc.pc(), 0x87c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87c1), 0xcb);
        EXPECT(gbc.readMem(0x87c2), 0x6c);
        // CB 6C 024D
        gbc.setState(0xa7cb, 0xb1ff, 0xe620, 0x1aa0, 0x6237, 0xa6f9, 0x1, 0x0);
        gbc.writeMem(0xa7cb, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xb1ff);
        EXPECT(gbc.pc(), 0xa7cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7cb), 0xcb);
        EXPECT(gbc.readMem(0xa7cc), 0x6c);
        // CB 6C 024F
        gbc.setState(0xdee1, 0x594b, 0xa5b0, 0x3d69, 0x4947, 0xb5d0, 0x1, 0x0);
        gbc.writeMem(0xdee1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x594b);
        EXPECT(gbc.pc(), 0xdee3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdee1), 0xcb);
        EXPECT(gbc.readMem(0xdee2), 0x6c);
        // CB 6C 0250
        gbc.setState(0x3b1e, 0x6d2c, 0x7bc0, 0x763f, 0x79cd, 0x3d0, 0x1, 0x1);
        gbc.writeMem(0x3b1e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x6d2c);
        EXPECT(gbc.pc(), 0x3b20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0251
        gbc.setState(0x61f5, 0x2164, 0x5070, 0xa58, 0x253d, 0xfcfb, 0x1, 0x1);
        gbc.writeMem(0x61f5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2164);
        EXPECT(gbc.pc(), 0x61f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0252
        gbc.setState(0x179, 0xb739, 0xad80, 0xf61f, 0x81b6, 0xdabf, 0x1, 0x0);
        gbc.writeMem(0x179, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xb739);
        EXPECT(gbc.pc(), 0x17b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0254
        gbc.setState(0x9d0c, 0x4ce9, 0x29f0, 0xdc6d, 0x8f0a, 0xe254, 0x1, 0x1);
        gbc.writeMem(0x9d0c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x4ce9);
        EXPECT(gbc.pc(), 0x9d0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d0c), 0xcb);
        EXPECT(gbc.readMem(0x9d0d), 0x6c);
        // CB 6C 0255
        gbc.setState(0xeedf, 0x9d10, 0x9430, 0xaffd, 0x3366, 0x5153, 0x1, 0x0);
        gbc.writeMem(0xeedf, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x9d10);
        EXPECT(gbc.pc(), 0xeee1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeedf), 0xcb);
        EXPECT(gbc.readMem(0xeee0), 0x6c);
        // CB 6C 0256
        gbc.setState(0xadbb, 0x6af1, 0x7e90, 0x87c3, 0xc43f, 0xb482, 0x1, 0x1);
        gbc.writeMem(0xadbb, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x6af1);
        EXPECT(gbc.pc(), 0xadbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadbb), 0xcb);
        EXPECT(gbc.readMem(0xadbc), 0x6c);
        // CB 6C 0258
        gbc.setState(0x966, 0x8531, 0xb2b0, 0x2f12, 0x58e6, 0x18e2, 0x0, 0x1);
        gbc.writeMem(0x966, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x8531);
        EXPECT(gbc.pc(), 0x968);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0259
        gbc.setState(0xc249, 0x7900, 0xb770, 0x9761, 0x6cef, 0xf59d, 0x0, 0x1);
        gbc.writeMem(0xc249, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x7900);
        EXPECT(gbc.pc(), 0xc24b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc249), 0xcb);
        EXPECT(gbc.readMem(0xc24a), 0x6c);
        // CB 6C 025A
        gbc.setState(0x4c96, 0xf23d, 0x42c0, 0xabd1, 0x89c4, 0xff0f, 0x0, 0x1);
        gbc.writeMem(0x4c96, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xf23d);
        EXPECT(gbc.pc(), 0x4c98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 025B
        gbc.setState(0x47a5, 0xa6b, 0xe00, 0x8620, 0x4306, 0xf2a, 0x1, 0x0);
        gbc.writeMem(0x47a5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xa6b);
        EXPECT(gbc.pc(), 0x47a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 025C
        gbc.setState(0x65a2, 0x8c7, 0xf440, 0x8043, 0xc669, 0x84da, 0x0, 0x0);
        gbc.writeMem(0x65a2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x8c7);
        EXPECT(gbc.pc(), 0x65a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 025D
        gbc.setState(0x59c3, 0xca9d, 0x7310, 0xaef9, 0xf0d1, 0xf027, 0x0, 0x0);
        gbc.writeMem(0x59c3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xca9d);
        EXPECT(gbc.pc(), 0x59c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 025E
        gbc.setState(0x40b1, 0xe1a5, 0x3810, 0x179d, 0xf4c, 0x6861, 0x0, 0x0);
        gbc.writeMem(0x40b1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xe1a5);
        EXPECT(gbc.pc(), 0x40b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 025F
        gbc.setState(0x8ece, 0xf2ba, 0x680, 0xbd2d, 0xa2d3, 0x598f, 0x1, 0x1);
        gbc.writeMem(0x8ece, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf2ba);
        EXPECT(gbc.pc(), 0x8ed0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ece), 0xcb);
        EXPECT(gbc.readMem(0x8ecf), 0x6c);
        // CB 6C 0260
        gbc.setState(0xe795, 0x399a, 0x5790, 0x1529, 0xb4f1, 0xa61a, 0x0, 0x0);
        gbc.writeMem(0xe795, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x399a);
        EXPECT(gbc.pc(), 0xe797);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe795), 0xcb);
        EXPECT(gbc.readMem(0xe796), 0x6c);
        // CB 6C 0261
        gbc.setState(0xa0c5, 0x92ed, 0xbaf0, 0x3367, 0x8a3e, 0xcb8b, 0x1, 0x0);
        gbc.writeMem(0xa0c5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x92ed);
        EXPECT(gbc.pc(), 0xa0c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0c5), 0xcb);
        EXPECT(gbc.readMem(0xa0c6), 0x6c);
        // CB 6C 0262
        gbc.setState(0xd612, 0xefb7, 0x13a0, 0x80ad, 0x88d0, 0x48dd, 0x0, 0x1);
        gbc.writeMem(0xd612, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xefb7);
        EXPECT(gbc.pc(), 0xd614);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd612), 0xcb);
        EXPECT(gbc.readMem(0xd613), 0x6c);
        // CB 6C 0263
        gbc.setState(0xb7fd, 0xd07, 0x2350, 0x2276, 0x66ce, 0xd6ea, 0x1, 0x1);
        gbc.writeMem(0xb7fd, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xd07);
        EXPECT(gbc.pc(), 0xb7ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7fd), 0xcb);
        EXPECT(gbc.readMem(0xb7fe), 0x6c);
        // CB 6C 0264
        gbc.setState(0xc343, 0x83cc, 0x9de0, 0x862c, 0xa84b, 0x667e, 0x1, 0x1);
        gbc.writeMem(0xc343, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x83cc);
        EXPECT(gbc.pc(), 0xc345);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc343), 0xcb);
        EXPECT(gbc.readMem(0xc344), 0x6c);
        // CB 6C 0265
        gbc.setState(0x45a2, 0x294c, 0x9880, 0x8cb3, 0x843b, 0xa10b, 0x0, 0x1);
        gbc.writeMem(0x45a2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x294c);
        EXPECT(gbc.pc(), 0x45a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0266
        gbc.setState(0x6cf, 0x62bf, 0xa90, 0x7067, 0x7b2d, 0x13, 0x1, 0x1);
        gbc.writeMem(0x6cf, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x62bf);
        EXPECT(gbc.pc(), 0x6d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0267
        gbc.setState(0x2d73, 0x790c, 0xcc00, 0xfaf9, 0xabee, 0xaae7, 0x1, 0x0);
        gbc.writeMem(0x2d73, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x790c);
        EXPECT(gbc.pc(), 0x2d75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0268
        gbc.setState(0x7b3f, 0x5662, 0xdd20, 0x6f60, 0x2145, 0x2065, 0x1, 0x0);
        gbc.writeMem(0x7b3f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x5662);
        EXPECT(gbc.pc(), 0x7b41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0269
        gbc.setState(0x320d, 0x18be, 0x5e0, 0xd1cc, 0x555, 0xf484, 0x0, 0x1);
        gbc.writeMem(0x320d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x18be);
        EXPECT(gbc.pc(), 0x320f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 026A
        gbc.setState(0xcdc8, 0xf402, 0x29f0, 0x253f, 0xa4e5, 0x3210, 0x0, 0x1);
        gbc.writeMem(0xcdc8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xf402);
        EXPECT(gbc.pc(), 0xcdca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdc8), 0xcb);
        EXPECT(gbc.readMem(0xcdc9), 0x6c);
        // CB 6C 026B
        gbc.setState(0x34c2, 0x2dde, 0xfbb0, 0x39f8, 0x6f86, 0x3492, 0x1, 0x0);
        gbc.writeMem(0x34c2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x2dde);
        EXPECT(gbc.pc(), 0x34c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 026C
        gbc.setState(0x684b, 0x63de, 0xba90, 0x77d7, 0xacaa, 0xf2f9, 0x1, 0x1);
        gbc.writeMem(0x684b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x63de);
        EXPECT(gbc.pc(), 0x684d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 026D
        gbc.setState(0x76e0, 0x749, 0x5fd0, 0x520e, 0x8724, 0x9c5a, 0x0, 0x0);
        gbc.writeMem(0x76e0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x749);
        EXPECT(gbc.pc(), 0x76e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 026E
        gbc.setState(0x2690, 0x902a, 0x7150, 0x7f43, 0xec28, 0xa07b, 0x0, 0x1);
        gbc.writeMem(0x2690, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x902a);
        EXPECT(gbc.pc(), 0x2692);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 026F
        gbc.setState(0xbab3, 0xae27, 0xf2c0, 0x7d08, 0x7db5, 0x7939, 0x1, 0x0);
        gbc.writeMem(0xbab3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xae27);
        EXPECT(gbc.pc(), 0xbab5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbab3), 0xcb);
        EXPECT(gbc.readMem(0xbab4), 0x6c);
        // CB 6C 0270
        gbc.setState(0xcf09, 0x35d, 0xa1f0, 0xa3af, 0x6623, 0x22ce, 0x1, 0x1);
        gbc.writeMem(0xcf09, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x35d);
        EXPECT(gbc.pc(), 0xcf0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf09), 0xcb);
        EXPECT(gbc.readMem(0xcf0a), 0x6c);
        // CB 6C 0271
        gbc.setState(0x38df, 0x3998, 0xa490, 0x98a3, 0x1a5a, 0xed14, 0x0, 0x0);
        gbc.writeMem(0x38df, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x3998);
        EXPECT(gbc.pc(), 0x38e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0272
        gbc.setState(0xc732, 0x869e, 0xe3e0, 0xa83e, 0xff67, 0xdafa, 0x0, 0x0);
        gbc.writeMem(0xc732, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x869e);
        EXPECT(gbc.pc(), 0xc734);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc732), 0xcb);
        EXPECT(gbc.readMem(0xc733), 0x6c);
        // CB 6C 0273
        gbc.setState(0x5ab6, 0x3713, 0xeba0, 0xdcfa, 0xc803, 0x73df, 0x0, 0x0);
        gbc.writeMem(0x5ab6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x3713);
        EXPECT(gbc.pc(), 0x5ab8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0275
        gbc.setState(0x9a3f, 0x8645, 0x1950, 0xf944, 0x28c0, 0x8c78, 0x0, 0x0);
        gbc.writeMem(0x9a3f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x8645);
        EXPECT(gbc.pc(), 0x9a41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a3f), 0xcb);
        EXPECT(gbc.readMem(0x9a40), 0x6c);
        // CB 6C 0276
        gbc.setState(0x411, 0xb0a0, 0x6290, 0x2f77, 0xf43b, 0xa69c, 0x0, 0x1);
        gbc.writeMem(0x411, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xb0a0);
        EXPECT(gbc.pc(), 0x413);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0277
        gbc.setState(0xd907, 0x5770, 0x1d80, 0x2f88, 0x7e5b, 0x507f, 0x1, 0x0);
        gbc.writeMem(0xd907, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x5770);
        EXPECT(gbc.pc(), 0xd909);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd907), 0xcb);
        EXPECT(gbc.readMem(0xd908), 0x6c);
        // CB 6C 0278
        gbc.setState(0x91c4, 0xad71, 0xa6d0, 0x5dfb, 0x2c46, 0x8c0a, 0x1, 0x1);
        gbc.writeMem(0x91c4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xad71);
        EXPECT(gbc.pc(), 0x91c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91c4), 0xcb);
        EXPECT(gbc.readMem(0x91c5), 0x6c);
        // CB 6C 0279
        gbc.setState(0x4869, 0xec7e, 0x1a50, 0x33ed, 0x6f37, 0x35fc, 0x0, 0x0);
        gbc.writeMem(0x4869, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xec7e);
        EXPECT(gbc.pc(), 0x486b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 027A
        gbc.setState(0x88ae, 0xfbfd, 0x1820, 0x3b10, 0x4f07, 0xc135, 0x1, 0x0);
        gbc.writeMem(0x88ae, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xfbfd);
        EXPECT(gbc.pc(), 0x88b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88ae), 0xcb);
        EXPECT(gbc.readMem(0x88af), 0x6c);
        // CB 6C 027B
        gbc.setState(0x57c9, 0x7b77, 0x9d50, 0x7cff, 0x2a69, 0xbaed, 0x0, 0x1);
        gbc.writeMem(0x57c9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7b77);
        EXPECT(gbc.pc(), 0x57cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 027C
        gbc.setState(0x67d7, 0xeeb, 0xbdf0, 0x3976, 0x355f, 0xc49e, 0x0, 0x0);
        gbc.writeMem(0x67d7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xeeb);
        EXPECT(gbc.pc(), 0x67d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 027D
        gbc.setState(0x1eb3, 0xe698, 0x9e20, 0x96f1, 0x8a01, 0xf4d1, 0x1, 0x0);
        gbc.writeMem(0x1eb3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xe698);
        EXPECT(gbc.pc(), 0x1eb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 027E
        gbc.setState(0xcd89, 0x6c8b, 0xb600, 0xb44f, 0xb3fd, 0xbcc0, 0x1, 0x1);
        gbc.writeMem(0xcd89, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x6c8b);
        EXPECT(gbc.pc(), 0xcd8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd89), 0xcb);
        EXPECT(gbc.readMem(0xcd8a), 0x6c);
        // CB 6C 027F
        gbc.setState(0x900a, 0xae15, 0x4190, 0x410f, 0xa352, 0xc6ba, 0x0, 0x0);
        gbc.writeMem(0x900a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xae15);
        EXPECT(gbc.pc(), 0x900c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x900a), 0xcb);
        EXPECT(gbc.readMem(0x900b), 0x6c);
        // CB 6C 0280
        gbc.setState(0x4746, 0xa09e, 0xac60, 0xba23, 0x8bab, 0xe505, 0x0, 0x1);
        gbc.writeMem(0x4746, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xa09e);
        EXPECT(gbc.pc(), 0x4748);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0281
        gbc.setState(0x935e, 0xa5b7, 0x69a0, 0xae71, 0x8f53, 0xa66c, 0x0, 0x1);
        gbc.writeMem(0x935e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xa5b7);
        EXPECT(gbc.pc(), 0x9360);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x935e), 0xcb);
        EXPECT(gbc.readMem(0x935f), 0x6c);
        // CB 6C 0282
        gbc.setState(0xebfe, 0x4012, 0xafb0, 0x996b, 0xc41c, 0x150a, 0x1, 0x0);
        gbc.writeMem(0xebfe, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x4012);
        EXPECT(gbc.pc(), 0xec00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebfe), 0xcb);
        EXPECT(gbc.readMem(0xebff), 0x6c);
        // CB 6C 0283
        gbc.setState(0xd072, 0x9f91, 0xf5b0, 0x28a5, 0xb366, 0x9c74, 0x1, 0x1);
        gbc.writeMem(0xd072, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x9f91);
        EXPECT(gbc.pc(), 0xd074);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd072), 0xcb);
        EXPECT(gbc.readMem(0xd073), 0x6c);
        // CB 6C 0284
        gbc.setState(0xdfe7, 0xb80d, 0x28c0, 0xa21e, 0xbae6, 0xff5f, 0x0, 0x1);
        gbc.writeMem(0xdfe7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xb80d);
        EXPECT(gbc.pc(), 0xdfe9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfe7), 0xcb);
        EXPECT(gbc.readMem(0xdfe8), 0x6c);
        // CB 6C 0285
        gbc.setState(0xe5b3, 0x6242, 0xed40, 0x2c9a, 0x3246, 0x4398, 0x1, 0x1);
        gbc.writeMem(0xe5b3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x6242);
        EXPECT(gbc.pc(), 0xe5b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5b3), 0xcb);
        EXPECT(gbc.readMem(0xe5b4), 0x6c);
        // CB 6C 0286
        gbc.setState(0x2ddd, 0x242d, 0x6a00, 0xd5b, 0xe9fe, 0x1775, 0x1, 0x0);
        gbc.writeMem(0x2ddd, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x242d);
        EXPECT(gbc.pc(), 0x2ddf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0287
        gbc.setState(0xc1d5, 0x6b4b, 0x1e60, 0x956f, 0x7826, 0xc4a1, 0x1, 0x0);
        gbc.writeMem(0xc1d5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x6b4b);
        EXPECT(gbc.pc(), 0xc1d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1d5), 0xcb);
        EXPECT(gbc.readMem(0xc1d6), 0x6c);
        // CB 6C 0288
        gbc.setState(0x8523, 0x72ca, 0xbb20, 0x3bb1, 0x9463, 0xa15c, 0x1, 0x1);
        gbc.writeMem(0x8523, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x72ca);
        EXPECT(gbc.pc(), 0x8525);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8523), 0xcb);
        EXPECT(gbc.readMem(0x8524), 0x6c);
        // CB 6C 0289
        gbc.setState(0xbef9, 0x2450, 0x8490, 0xb362, 0x5e6f, 0x966d, 0x0, 0x1);
        gbc.writeMem(0xbef9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x2450);
        EXPECT(gbc.pc(), 0xbefb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbef9), 0xcb);
        EXPECT(gbc.readMem(0xbefa), 0x6c);
        // CB 6C 028A
        gbc.setState(0x6e36, 0x9221, 0xb1c0, 0xc7e6, 0xa210, 0x7ce7, 0x0, 0x1);
        gbc.writeMem(0x6e36, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9221);
        EXPECT(gbc.pc(), 0x6e38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 028B
        gbc.setState(0xaf65, 0x760d, 0xb550, 0x502f, 0x5bac, 0x3599, 0x0, 0x1);
        gbc.writeMem(0xaf65, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x760d);
        EXPECT(gbc.pc(), 0xaf67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf65), 0xcb);
        EXPECT(gbc.readMem(0xaf66), 0x6c);
        // CB 6C 028C
        gbc.setState(0x3eb8, 0x4429, 0x6b40, 0x164d, 0x284f, 0x46cb, 0x0, 0x0);
        gbc.writeMem(0x3eb8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x4429);
        EXPECT(gbc.pc(), 0x3eba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 028D
        gbc.setState(0xa1f3, 0xe322, 0xc2e0, 0x4e01, 0x4f15, 0x8368, 0x1, 0x0);
        gbc.writeMem(0xa1f3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xe322);
        EXPECT(gbc.pc(), 0xa1f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1f3), 0xcb);
        EXPECT(gbc.readMem(0xa1f4), 0x6c);
        // CB 6C 028E
        gbc.setState(0xa399, 0xf325, 0x63f0, 0xb74b, 0xd753, 0xae3a, 0x1, 0x1);
        gbc.writeMem(0xa399, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xf325);
        EXPECT(gbc.pc(), 0xa39b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa399), 0xcb);
        EXPECT(gbc.readMem(0xa39a), 0x6c);
        // CB 6C 028F
        gbc.setState(0x5fee, 0xc691, 0x6530, 0x3bb, 0xb1ac, 0x2e35, 0x0, 0x0);
        gbc.writeMem(0x5fee, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc691);
        EXPECT(gbc.pc(), 0x5ff0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0290
        gbc.setState(0x47a2, 0x3f5e, 0xfef0, 0x65ea, 0x754e, 0xfe88, 0x1, 0x1);
        gbc.writeMem(0x47a2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x3f5e);
        EXPECT(gbc.pc(), 0x47a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0291
        gbc.setState(0x5901, 0x16df, 0xd740, 0xc59, 0x7a68, 0x4038, 0x0, 0x1);
        gbc.writeMem(0x5901, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x16df);
        EXPECT(gbc.pc(), 0x5903);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0292
        gbc.setState(0xd66d, 0xf994, 0xe210, 0x684a, 0xb885, 0xedcf, 0x1, 0x0);
        gbc.writeMem(0xd66d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xf994);
        EXPECT(gbc.pc(), 0xd66f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd66d), 0xcb);
        EXPECT(gbc.readMem(0xd66e), 0x6c);
        // CB 6C 0293
        gbc.setState(0x7807, 0xde3c, 0x7af0, 0x49fd, 0xa136, 0xa81d, 0x0, 0x0);
        gbc.writeMem(0x7807, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xde3c);
        EXPECT(gbc.pc(), 0x7809);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0294
        gbc.setState(0x4fe2, 0x6d17, 0x8610, 0x6d52, 0x5de3, 0x374f, 0x0, 0x1);
        gbc.writeMem(0x4fe2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x6d17);
        EXPECT(gbc.pc(), 0x4fe4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0295
        gbc.setState(0x4a03, 0x438a, 0x96b0, 0xa6fe, 0x462a, 0x3f02, 0x1, 0x1);
        gbc.writeMem(0x4a03, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x438a);
        EXPECT(gbc.pc(), 0x4a05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0296
        gbc.setState(0xcf89, 0x9909, 0x30e0, 0xa82, 0xff48, 0x2ddc, 0x1, 0x1);
        gbc.writeMem(0xcf89, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x9909);
        EXPECT(gbc.pc(), 0xcf8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf89), 0xcb);
        EXPECT(gbc.readMem(0xcf8a), 0x6c);
        // CB 6C 0297
        gbc.setState(0xe8dc, 0x97cf, 0x85c0, 0x9776, 0x7ec7, 0x68b1, 0x1, 0x1);
        gbc.writeMem(0xe8dc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x97cf);
        EXPECT(gbc.pc(), 0xe8de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8dc), 0xcb);
        EXPECT(gbc.readMem(0xe8dd), 0x6c);
        // CB 6C 0298
        gbc.setState(0x62dd, 0x66a3, 0x6d80, 0xcc28, 0x451e, 0xcb2c, 0x0, 0x0);
        gbc.writeMem(0x62dd, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x66a3);
        EXPECT(gbc.pc(), 0x62df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0299
        gbc.setState(0x88d3, 0xefc1, 0xe960, 0x44d7, 0xff85, 0x9019, 0x0, 0x1);
        gbc.writeMem(0x88d3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xefc1);
        EXPECT(gbc.pc(), 0x88d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88d3), 0xcb);
        EXPECT(gbc.readMem(0x88d4), 0x6c);
        // CB 6C 029A
        gbc.setState(0x7296, 0xcfb6, 0xd3a0, 0xdd0b, 0x61c0, 0x4807, 0x1, 0x0);
        gbc.writeMem(0x7296, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xcfb6);
        EXPECT(gbc.pc(), 0x7298);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 029B
        gbc.setState(0xcb10, 0xec7e, 0xd500, 0xb055, 0x149, 0xf735, 0x1, 0x1);
        gbc.writeMem(0xcb10, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xec7e);
        EXPECT(gbc.pc(), 0xcb12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb10), 0xcb);
        EXPECT(gbc.readMem(0xcb11), 0x6c);
        // CB 6C 029C
        gbc.setState(0x64cb, 0x9987, 0xd430, 0xf7aa, 0x6c79, 0x79cb, 0x1, 0x0);
        gbc.writeMem(0x64cb, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x9987);
        EXPECT(gbc.pc(), 0x64cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 029E
        gbc.setState(0xa86f, 0x6990, 0x2220, 0x1ff2, 0x5269, 0x8501, 0x0, 0x0);
        gbc.writeMem(0xa86f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x6990);
        EXPECT(gbc.pc(), 0xa871);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa86f), 0xcb);
        EXPECT(gbc.readMem(0xa870), 0x6c);
        // CB 6C 029F
        gbc.setState(0xe0d8, 0x27c2, 0xccf0, 0xf24, 0x4290, 0xb774, 0x1, 0x1);
        gbc.writeMem(0xe0d8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x27c2);
        EXPECT(gbc.pc(), 0xe0da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0d8), 0xcb);
        EXPECT(gbc.readMem(0xe0d9), 0x6c);
        // CB 6C 02A0
        gbc.setState(0xb25c, 0xc9af, 0xee10, 0x3405, 0xfeaa, 0xc6f7, 0x1, 0x1);
        gbc.writeMem(0xb25c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xc9af);
        EXPECT(gbc.pc(), 0xb25e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb25c), 0xcb);
        EXPECT(gbc.readMem(0xb25d), 0x6c);
        // CB 6C 02A1
        gbc.setState(0xef3f, 0xb7b2, 0x13d0, 0xe559, 0x7f0d, 0x2aea, 0x1, 0x0);
        gbc.writeMem(0xef3f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xb7b2);
        EXPECT(gbc.pc(), 0xef41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef3f), 0xcb);
        EXPECT(gbc.readMem(0xef40), 0x6c);
        // CB 6C 02A2
        gbc.setState(0xda19, 0x8be, 0xbe90, 0xe01f, 0x1fc4, 0xae48, 0x1, 0x1);
        gbc.writeMem(0xda19, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x8be);
        EXPECT(gbc.pc(), 0xda1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda19), 0xcb);
        EXPECT(gbc.readMem(0xda1a), 0x6c);
        // CB 6C 02A3
        gbc.setState(0xec44, 0xaa1, 0xb990, 0x8902, 0xce78, 0xaa9f, 0x1, 0x1);
        gbc.writeMem(0xec44, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xaa1);
        EXPECT(gbc.pc(), 0xec46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec44), 0xcb);
        EXPECT(gbc.readMem(0xec45), 0x6c);
        // CB 6C 02A4
        gbc.setState(0x930a, 0x2489, 0xdb50, 0xaa95, 0x3dcf, 0x3db5, 0x0, 0x0);
        gbc.writeMem(0x930a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x2489);
        EXPECT(gbc.pc(), 0x930c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x930a), 0xcb);
        EXPECT(gbc.readMem(0x930b), 0x6c);
        // CB 6C 02A5
        gbc.setState(0xc8ed, 0x1fc2, 0xe1b0, 0x437d, 0x577f, 0xabd7, 0x1, 0x1);
        gbc.writeMem(0xc8ed, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x1fc2);
        EXPECT(gbc.pc(), 0xc8ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8ed), 0xcb);
        EXPECT(gbc.readMem(0xc8ee), 0x6c);
        // CB 6C 02A6
        gbc.setState(0x47cc, 0xc091, 0xe990, 0x6066, 0xa593, 0x8b95, 0x0, 0x1);
        gbc.writeMem(0x47cc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xc091);
        EXPECT(gbc.pc(), 0x47ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02A7
        gbc.setState(0xeae3, 0x2e21, 0x43a0, 0xfe71, 0x767c, 0x7ff7, 0x1, 0x0);
        gbc.writeMem(0xeae3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x2e21);
        EXPECT(gbc.pc(), 0xeae5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeae3), 0xcb);
        EXPECT(gbc.readMem(0xeae4), 0x6c);
        // CB 6C 02A8
        gbc.setState(0x2ee2, 0x8127, 0x5b70, 0x2bbe, 0xee34, 0xc8b, 0x0, 0x0);
        gbc.writeMem(0x2ee2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x8127);
        EXPECT(gbc.pc(), 0x2ee4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02AA
        gbc.setState(0xae3a, 0xc7e3, 0x9c90, 0x5440, 0x92ed, 0x1745, 0x1, 0x0);
        gbc.writeMem(0xae3a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xc7e3);
        EXPECT(gbc.pc(), 0xae3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae3a), 0xcb);
        EXPECT(gbc.readMem(0xae3b), 0x6c);
        // CB 6C 02AB
        gbc.setState(0x9180, 0x2e42, 0xc910, 0xf83e, 0xf53d, 0x5697, 0x1, 0x0);
        gbc.writeMem(0x9180, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x2e42);
        EXPECT(gbc.pc(), 0x9182);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9180), 0xcb);
        EXPECT(gbc.readMem(0x9181), 0x6c);
        // CB 6C 02AC
        gbc.setState(0x6512, 0xc842, 0x98c0, 0xc289, 0x2d94, 0x1f4d, 0x0, 0x0);
        gbc.writeMem(0x6512, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xc842);
        EXPECT(gbc.pc(), 0x6514);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02AD
        gbc.setState(0xe8ad, 0xcb2, 0x1710, 0xb158, 0xfaae, 0x4312, 0x0, 0x1);
        gbc.writeMem(0xe8ad, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xcb2);
        EXPECT(gbc.pc(), 0xe8af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8ad), 0xcb);
        EXPECT(gbc.readMem(0xe8ae), 0x6c);
        // CB 6C 02AE
        gbc.setState(0xdb26, 0x5f46, 0x4420, 0xeb08, 0x39b8, 0xd7e5, 0x1, 0x0);
        gbc.writeMem(0xdb26, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x5f46);
        EXPECT(gbc.pc(), 0xdb28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb26), 0xcb);
        EXPECT(gbc.readMem(0xdb27), 0x6c);
        // CB 6C 02B0
        gbc.setState(0x306, 0x90ff, 0x5b10, 0x9084, 0xb9c9, 0x17da, 0x1, 0x0);
        gbc.writeMem(0x306, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x90ff);
        EXPECT(gbc.pc(), 0x308);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02B1
        gbc.setState(0x6c44, 0xb797, 0x7ed0, 0x7c19, 0x2027, 0xebfc, 0x1, 0x0);
        gbc.writeMem(0x6c44, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xb797);
        EXPECT(gbc.pc(), 0x6c46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02B2
        gbc.setState(0x288, 0x3697, 0x82d0, 0xea86, 0x48a2, 0x49df, 0x1, 0x0);
        gbc.writeMem(0x288, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x3697);
        EXPECT(gbc.pc(), 0x28a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02B3
        gbc.setState(0x6bb4, 0x2a0a, 0x5e40, 0xb835, 0x6dc3, 0x1ad9, 0x0, 0x0);
        gbc.writeMem(0x6bb4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x2a0a);
        EXPECT(gbc.pc(), 0x6bb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02B4
        gbc.setState(0x4db8, 0xed0, 0xc600, 0x5401, 0xae29, 0x65d3, 0x0, 0x1);
        gbc.writeMem(0x4db8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xed0);
        EXPECT(gbc.pc(), 0x4dba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02B6
        gbc.setState(0x73aa, 0xa12b, 0xa10, 0xd731, 0x620e, 0x5843, 0x0, 0x0);
        gbc.writeMem(0x73aa, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xa12b);
        EXPECT(gbc.pc(), 0x73ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02B7
        gbc.setState(0xc2be, 0x3c26, 0x7900, 0xbdb1, 0xe69d, 0xe032, 0x1, 0x0);
        gbc.writeMem(0xc2be, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x3c26);
        EXPECT(gbc.pc(), 0xc2c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2be), 0xcb);
        EXPECT(gbc.readMem(0xc2bf), 0x6c);
        // CB 6C 02B8
        gbc.setState(0x989e, 0x1641, 0xcc10, 0x786b, 0xf60a, 0xa7da, 0x1, 0x0);
        gbc.writeMem(0x989e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x1641);
        EXPECT(gbc.pc(), 0x98a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x989e), 0xcb);
        EXPECT(gbc.readMem(0x989f), 0x6c);
        // CB 6C 02B9
        gbc.setState(0xcd4a, 0xf574, 0x5b80, 0xd481, 0x834f, 0x99df, 0x1, 0x1);
        gbc.writeMem(0xcd4a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xf574);
        EXPECT(gbc.pc(), 0xcd4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd4a), 0xcb);
        EXPECT(gbc.readMem(0xcd4b), 0x6c);
        // CB 6C 02BA
        gbc.setState(0x767d, 0xf35f, 0xb620, 0x2999, 0xbcc, 0xdb8, 0x1, 0x1);
        gbc.writeMem(0x767d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xf35f);
        EXPECT(gbc.pc(), 0x767f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02BB
        gbc.setState(0xb666, 0x47af, 0x77d0, 0xb6f4, 0x9a8b, 0xb884, 0x0, 0x0);
        gbc.writeMem(0xb666, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x47af);
        EXPECT(gbc.pc(), 0xb668);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb666), 0xcb);
        EXPECT(gbc.readMem(0xb667), 0x6c);
        // CB 6C 02BC
        gbc.setState(0x723f, 0xb506, 0x5d30, 0x4b0f, 0x3438, 0x3e27, 0x0, 0x0);
        gbc.writeMem(0x723f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xb506);
        EXPECT(gbc.pc(), 0x7241);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02BD
        gbc.setState(0x78cf, 0x8466, 0x2f80, 0x258a, 0x44da, 0x898a, 0x0, 0x0);
        gbc.writeMem(0x78cf, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x8466);
        EXPECT(gbc.pc(), 0x78d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02BE
        gbc.setState(0x5bc9, 0x377d, 0x8ee0, 0xd101, 0x389a, 0xbaf1, 0x0, 0x1);
        gbc.writeMem(0x5bc9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x377d);
        EXPECT(gbc.pc(), 0x5bcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02BF
        gbc.setState(0x54b7, 0x94ba, 0x9dd0, 0xd59, 0xa16, 0xb220, 0x0, 0x1);
        gbc.writeMem(0x54b7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x94ba);
        EXPECT(gbc.pc(), 0x54b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02C0
        gbc.setState(0x4b67, 0xf868, 0xf680, 0x5f6, 0xa247, 0x494, 0x0, 0x1);
        gbc.writeMem(0x4b67, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xf868);
        EXPECT(gbc.pc(), 0x4b69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02C1
        gbc.setState(0x276c, 0x3734, 0xf1e0, 0x9b16, 0xc181, 0x2243, 0x1, 0x1);
        gbc.writeMem(0x276c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x3734);
        EXPECT(gbc.pc(), 0x276e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02C2
        gbc.setState(0xabd6, 0x377c, 0x2a90, 0x2588, 0xd4ab, 0xca4b, 0x1, 0x0);
        gbc.writeMem(0xabd6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x377c);
        EXPECT(gbc.pc(), 0xabd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabd6), 0xcb);
        EXPECT(gbc.readMem(0xabd7), 0x6c);
        // CB 6C 02C3
        gbc.setState(0xbef, 0x942d, 0x15d0, 0x5df8, 0x9e3e, 0x9312, 0x0, 0x0);
        gbc.writeMem(0xbef, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x942d);
        EXPECT(gbc.pc(), 0xbf1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02C4
        gbc.setState(0x15a3, 0x2e65, 0xc7e0, 0x8679, 0xea8d, 0x2d33, 0x0, 0x1);
        gbc.writeMem(0x15a3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x2e65);
        EXPECT(gbc.pc(), 0x15a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02C5
        gbc.setState(0xac04, 0xf41f, 0xadc0, 0xe55a, 0xcebd, 0x86fd, 0x0, 0x1);
        gbc.writeMem(0xac04, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xf41f);
        EXPECT(gbc.pc(), 0xac06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac04), 0xcb);
        EXPECT(gbc.readMem(0xac05), 0x6c);
        // CB 6C 02C7
        gbc.setState(0xb5f9, 0xab7b, 0xac50, 0x7890, 0x3b8d, 0x272a, 0x1, 0x0);
        gbc.writeMem(0xb5f9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xab7b);
        EXPECT(gbc.pc(), 0xb5fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5f9), 0xcb);
        EXPECT(gbc.readMem(0xb5fa), 0x6c);
        // CB 6C 02C8
        gbc.setState(0xef5b, 0x3859, 0x4bd0, 0x6b14, 0xfb07, 0xb6cb, 0x0, 0x0);
        gbc.writeMem(0xef5b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x3859);
        EXPECT(gbc.pc(), 0xef5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef5b), 0xcb);
        EXPECT(gbc.readMem(0xef5c), 0x6c);
        // CB 6C 02CA
        gbc.setState(0x5bae, 0xd207, 0xe470, 0xfb83, 0xafa2, 0x1de8, 0x0, 0x1);
        gbc.writeMem(0x5bae, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xd207);
        EXPECT(gbc.pc(), 0x5bb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02CB
        gbc.setState(0x1a55, 0xf13b, 0x48c0, 0x7b25, 0xabfc, 0xb57e, 0x1, 0x0);
        gbc.writeMem(0x1a55, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xf13b);
        EXPECT(gbc.pc(), 0x1a57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02CC
        gbc.setState(0x8075, 0x42d4, 0xd7f0, 0x9921, 0x1a0d, 0xd0f0, 0x0, 0x0);
        gbc.writeMem(0x8075, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x42d4);
        EXPECT(gbc.pc(), 0x8077);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8075), 0xcb);
        EXPECT(gbc.readMem(0x8076), 0x6c);
        // CB 6C 02CD
        gbc.setState(0x1e90, 0x8cd5, 0x8be0, 0xf4a9, 0x61dc, 0x6130, 0x0, 0x0);
        gbc.writeMem(0x1e90, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x8cd5);
        EXPECT(gbc.pc(), 0x1e92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02CE
        gbc.setState(0x227f, 0x4c09, 0x18d0, 0x7931, 0xaaae, 0x43a7, 0x0, 0x0);
        gbc.writeMem(0x227f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x4c09);
        EXPECT(gbc.pc(), 0x2281);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02CF
        gbc.setState(0xc40, 0xb52e, 0x46f0, 0x2020, 0x5ed5, 0x6da2, 0x0, 0x1);
        gbc.writeMem(0xc40, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xb52e);
        EXPECT(gbc.pc(), 0xc42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02D0
        gbc.setState(0x268c, 0xfc5c, 0xc420, 0x21b2, 0x256e, 0xaf98, 0x1, 0x0);
        gbc.writeMem(0x268c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xfc5c);
        EXPECT(gbc.pc(), 0x268e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02D1
        gbc.setState(0x5572, 0xc4c2, 0xe700, 0x7846, 0xb8, 0xfa30, 0x1, 0x0);
        gbc.writeMem(0x5572, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xc4c2);
        EXPECT(gbc.pc(), 0x5574);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02D2
        gbc.setState(0x4e47, 0xfba0, 0xf310, 0x8e35, 0xa3e6, 0x48e6, 0x0, 0x0);
        gbc.writeMem(0x4e47, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xfba0);
        EXPECT(gbc.pc(), 0x4e49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02D3
        gbc.setState(0x3df2, 0x4d14, 0xec90, 0x8b22, 0xd4b1, 0x38ed, 0x0, 0x1);
        gbc.writeMem(0x3df2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x4d14);
        EXPECT(gbc.pc(), 0x3df4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02D4
        gbc.setState(0xb86b, 0x9a3f, 0xb850, 0x496f, 0x631c, 0x3d4d, 0x1, 0x0);
        gbc.writeMem(0xb86b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x9a3f);
        EXPECT(gbc.pc(), 0xb86d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb86b), 0xcb);
        EXPECT(gbc.readMem(0xb86c), 0x6c);
        // CB 6C 02D5
        gbc.setState(0xaba6, 0x2f65, 0x8b60, 0xf5e0, 0xf7e5, 0x1dbb, 0x0, 0x0);
        gbc.writeMem(0xaba6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2f65);
        EXPECT(gbc.pc(), 0xaba8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaba6), 0xcb);
        EXPECT(gbc.readMem(0xaba7), 0x6c);
        // CB 6C 02D6
        gbc.setState(0xd85a, 0x4084, 0x4640, 0xedf, 0x6c2d, 0x70a7, 0x1, 0x1);
        gbc.writeMem(0xd85a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x4084);
        EXPECT(gbc.pc(), 0xd85c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd85a), 0xcb);
        EXPECT(gbc.readMem(0xd85b), 0x6c);
        // CB 6C 02D7
        gbc.setState(0x8cb3, 0x22c9, 0x5590, 0xf953, 0xb71e, 0xa210, 0x0, 0x0);
        gbc.writeMem(0x8cb3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x22c9);
        EXPECT(gbc.pc(), 0x8cb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cb3), 0xcb);
        EXPECT(gbc.readMem(0x8cb4), 0x6c);
        // CB 6C 02D8
        gbc.setState(0x4986, 0x1177, 0xa40, 0x25cf, 0x264b, 0xf74b, 0x1, 0x0);
        gbc.writeMem(0x4986, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x1177);
        EXPECT(gbc.pc(), 0x4988);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02D9
        gbc.setState(0x2ccc, 0x47b3, 0x2690, 0x9425, 0x1b99, 0x2c2, 0x1, 0x1);
        gbc.writeMem(0x2ccc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x47b3);
        EXPECT(gbc.pc(), 0x2cce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02DA
        gbc.setState(0x92f, 0x774f, 0xa6a0, 0x3a9b, 0xd006, 0x3cf4, 0x0, 0x0);
        gbc.writeMem(0x92f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x774f);
        EXPECT(gbc.pc(), 0x931);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02DB
        gbc.setState(0x3a02, 0xfb7e, 0x2100, 0x55a5, 0xf7a6, 0x495d, 0x1, 0x0);
        gbc.writeMem(0x3a02, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xfb7e);
        EXPECT(gbc.pc(), 0x3a04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02DC
        gbc.setState(0x6a53, 0x5727, 0x410, 0xe3fb, 0xaf9c, 0x1739, 0x0, 0x0);
        gbc.writeMem(0x6a53, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x5727);
        EXPECT(gbc.pc(), 0x6a55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02DD
        gbc.setState(0xd125, 0x9307, 0x3820, 0x5c5d, 0xe44e, 0xf86, 0x0, 0x1);
        gbc.writeMem(0xd125, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x9307);
        EXPECT(gbc.pc(), 0xd127);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd125), 0xcb);
        EXPECT(gbc.readMem(0xd126), 0x6c);
        // CB 6C 02DE
        gbc.setState(0x86bd, 0x8186, 0xcf50, 0x3c88, 0x3b11, 0x5f5, 0x0, 0x0);
        gbc.writeMem(0x86bd, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x8186);
        EXPECT(gbc.pc(), 0x86bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86bd), 0xcb);
        EXPECT(gbc.readMem(0x86be), 0x6c);
        // CB 6C 02DF
        gbc.setState(0x8944, 0xbea0, 0x7890, 0x9d3f, 0x878b, 0x5c99, 0x1, 0x1);
        gbc.writeMem(0x8944, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xbea0);
        EXPECT(gbc.pc(), 0x8946);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8944), 0xcb);
        EXPECT(gbc.readMem(0x8945), 0x6c);
        // CB 6C 02E0
        gbc.setState(0xa136, 0xdb7b, 0x4eb0, 0x62, 0x42e4, 0x4d30, 0x0, 0x0);
        gbc.writeMem(0xa136, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xdb7b);
        EXPECT(gbc.pc(), 0xa138);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa136), 0xcb);
        EXPECT(gbc.readMem(0xa137), 0x6c);
        // CB 6C 02E1
        gbc.setState(0xc591, 0x6a3c, 0xef20, 0x9266, 0x65b0, 0x9458, 0x1, 0x1);
        gbc.writeMem(0xc591, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x6a3c);
        EXPECT(gbc.pc(), 0xc593);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc591), 0xcb);
        EXPECT(gbc.readMem(0xc592), 0x6c);
        // CB 6C 02E2
        gbc.setState(0x440, 0xe9b4, 0xe3e0, 0xb133, 0x3044, 0xba23, 0x0, 0x1);
        gbc.writeMem(0x440, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xe9b4);
        EXPECT(gbc.pc(), 0x442);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02E3
        gbc.setState(0x2b4c, 0x7e51, 0xfff0, 0x97de, 0x82fb, 0x8522, 0x1, 0x0);
        gbc.writeMem(0x2b4c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x7e51);
        EXPECT(gbc.pc(), 0x2b4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02E4
        gbc.setState(0x5e23, 0xcd97, 0x9b50, 0xc301, 0xe774, 0x75a9, 0x0, 0x1);
        gbc.writeMem(0x5e23, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xcd97);
        EXPECT(gbc.pc(), 0x5e25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02E5
        gbc.setState(0x22a2, 0xe252, 0xa420, 0x74ee, 0x4f1c, 0x2c24, 0x0, 0x0);
        gbc.writeMem(0x22a2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xe252);
        EXPECT(gbc.pc(), 0x22a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02E6
        gbc.setState(0x85e8, 0xe4c4, 0xa3d0, 0x5d3f, 0x4ed5, 0x80b1, 0x0, 0x1);
        gbc.writeMem(0x85e8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xe4c4);
        EXPECT(gbc.pc(), 0x85ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85e8), 0xcb);
        EXPECT(gbc.readMem(0x85e9), 0x6c);
        // CB 6C 02E7
        gbc.setState(0x2ab3, 0x42ff, 0x6640, 0xe682, 0x8fa8, 0xa4e0, 0x0, 0x0);
        gbc.writeMem(0x2ab3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x42ff);
        EXPECT(gbc.pc(), 0x2ab5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02E8
        gbc.setState(0xb0fc, 0x923f, 0xee0, 0x664b, 0xa1c5, 0x368f, 0x0, 0x1);
        gbc.writeMem(0xb0fc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x923f);
        EXPECT(gbc.pc(), 0xb0fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0fc), 0xcb);
        EXPECT(gbc.readMem(0xb0fd), 0x6c);
        // CB 6C 02E9
        gbc.setState(0xc9f0, 0x40e4, 0x63b0, 0x21, 0x61ed, 0xa542, 0x0, 0x1);
        gbc.writeMem(0xc9f0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x40e4);
        EXPECT(gbc.pc(), 0xc9f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9f0), 0xcb);
        EXPECT(gbc.readMem(0xc9f1), 0x6c);
        // CB 6C 02EA
        gbc.setState(0xb626, 0xd7b1, 0x6240, 0x2e8d, 0xadf6, 0xbf29, 0x1, 0x0);
        gbc.writeMem(0xb626, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xd7b1);
        EXPECT(gbc.pc(), 0xb628);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb626), 0xcb);
        EXPECT(gbc.readMem(0xb627), 0x6c);
        // CB 6C 02EB
        gbc.setState(0x806a, 0xce08, 0x41d0, 0x51b5, 0xf77, 0xe073, 0x0, 0x1);
        gbc.writeMem(0x806a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xce08);
        EXPECT(gbc.pc(), 0x806c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x806a), 0xcb);
        EXPECT(gbc.readMem(0x806b), 0x6c);
        // CB 6C 02EC
        gbc.setState(0xec58, 0xdc38, 0xb6a0, 0x5082, 0x48d1, 0xbbc2, 0x0, 0x1);
        gbc.writeMem(0xec58, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xdc38);
        EXPECT(gbc.pc(), 0xec5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec58), 0xcb);
        EXPECT(gbc.readMem(0xec59), 0x6c);
        // CB 6C 02ED
        gbc.setState(0x5a39, 0x6040, 0x8b30, 0xd270, 0xc6ac, 0xd8a9, 0x1, 0x0);
        gbc.writeMem(0x5a39, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x6040);
        EXPECT(gbc.pc(), 0x5a3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02EE
        gbc.setState(0x33cf, 0x9fbe, 0x2530, 0xd39b, 0xe990, 0xc13, 0x0, 0x1);
        gbc.writeMem(0x33cf, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x9fbe);
        EXPECT(gbc.pc(), 0x33d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02EF
        gbc.setState(0x139a, 0x5469, 0x9720, 0x82b3, 0xffda, 0xbd36, 0x1, 0x1);
        gbc.writeMem(0x139a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x5469);
        EXPECT(gbc.pc(), 0x139c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02F0
        gbc.setState(0x8972, 0x9590, 0x3fc0, 0x8160, 0x8ea4, 0x6ef9, 0x1, 0x0);
        gbc.writeMem(0x8972, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x9590);
        EXPECT(gbc.pc(), 0x8974);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8972), 0xcb);
        EXPECT(gbc.readMem(0x8973), 0x6c);
        // CB 6C 02F2
        gbc.setState(0x9cc3, 0xcd84, 0xea50, 0x9305, 0x1331, 0xf843, 0x1, 0x0);
        gbc.writeMem(0x9cc3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xcd84);
        EXPECT(gbc.pc(), 0x9cc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cc3), 0xcb);
        EXPECT(gbc.readMem(0x9cc4), 0x6c);
        // CB 6C 02F3
        gbc.setState(0x419d, 0x3187, 0xb2d0, 0xa699, 0xc9b1, 0xdb, 0x1, 0x1);
        gbc.writeMem(0x419d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x3187);
        EXPECT(gbc.pc(), 0x419f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02F4
        gbc.setState(0xb90b, 0x8ba6, 0xf220, 0xd7ea, 0xd78a, 0x4d38, 0x1, 0x0);
        gbc.writeMem(0xb90b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x8ba6);
        EXPECT(gbc.pc(), 0xb90d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb90b), 0xcb);
        EXPECT(gbc.readMem(0xb90c), 0x6c);
        // CB 6C 02F5
        gbc.setState(0x871d, 0xddc7, 0x3d00, 0x2478, 0xe7da, 0x9cc5, 0x0, 0x1);
        gbc.writeMem(0x871d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xddc7);
        EXPECT(gbc.pc(), 0x871f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x871d), 0xcb);
        EXPECT(gbc.readMem(0x871e), 0x6c);
        // CB 6C 02F6
        gbc.setState(0xb974, 0x916e, 0x66a0, 0x3497, 0x7b14, 0x1c8a, 0x0, 0x1);
        gbc.writeMem(0xb974, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x916e);
        EXPECT(gbc.pc(), 0xb976);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb974), 0xcb);
        EXPECT(gbc.readMem(0xb975), 0x6c);
        // CB 6C 02F7
        gbc.setState(0xb1c9, 0x6253, 0x600, 0x7ac1, 0x76ab, 0xb5b7, 0x0, 0x1);
        gbc.writeMem(0xb1c9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x6253);
        EXPECT(gbc.pc(), 0xb1cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1c9), 0xcb);
        EXPECT(gbc.readMem(0xb1ca), 0x6c);
        // CB 6C 02F8
        gbc.setState(0x9733, 0x7a21, 0x7bd0, 0xf88a, 0xddd2, 0xde81, 0x0, 0x0);
        gbc.writeMem(0x9733, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x7a21);
        EXPECT(gbc.pc(), 0x9735);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9733), 0xcb);
        EXPECT(gbc.readMem(0x9734), 0x6c);
        // CB 6C 02F9
        gbc.setState(0xa4f9, 0xf87e, 0x1700, 0x5928, 0xdbe5, 0xa619, 0x1, 0x1);
        gbc.writeMem(0xa4f9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xf87e);
        EXPECT(gbc.pc(), 0xa4fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4f9), 0xcb);
        EXPECT(gbc.readMem(0xa4fa), 0x6c);
        // CB 6C 02FA
        gbc.setState(0x82e0, 0x83d8, 0x59c0, 0xa32d, 0xf0cf, 0x370d, 0x0, 0x0);
        gbc.writeMem(0x82e0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x83d8);
        EXPECT(gbc.pc(), 0x82e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82e0), 0xcb);
        EXPECT(gbc.readMem(0x82e1), 0x6c);
        // CB 6C 02FB
        gbc.setState(0xe28, 0x72ff, 0xea50, 0x354b, 0x900e, 0x21bb, 0x0, 0x1);
        gbc.writeMem(0xe28, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x72ff);
        EXPECT(gbc.pc(), 0xe2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 02FC
        gbc.setState(0x61c1, 0x1375, 0x9b40, 0xfe13, 0xa62f, 0x31a1, 0x0, 0x1);
        gbc.writeMem(0x61c1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x1375);
        EXPECT(gbc.pc(), 0x61c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 02FD
        gbc.setState(0xc81a, 0x9958, 0x7390, 0x8c66, 0x4a3e, 0xbd99, 0x1, 0x0);
        gbc.writeMem(0xc81a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x9958);
        EXPECT(gbc.pc(), 0xc81c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc81a), 0xcb);
        EXPECT(gbc.readMem(0xc81b), 0x6c);
        // CB 6C 02FE
        gbc.setState(0xde17, 0x26c1, 0xf2e0, 0xf96, 0x6ca2, 0x9a1f, 0x1, 0x1);
        gbc.writeMem(0xde17, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x26c1);
        EXPECT(gbc.pc(), 0xde19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde17), 0xcb);
        EXPECT(gbc.readMem(0xde18), 0x6c);
        // CB 6C 02FF
        gbc.setState(0xdbe2, 0x8546, 0x5330, 0xd168, 0x5f9f, 0x479f, 0x0, 0x1);
        gbc.writeMem(0xdbe2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x8546);
        EXPECT(gbc.pc(), 0xdbe4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbe2), 0xcb);
        EXPECT(gbc.readMem(0xdbe3), 0x6c);
        // CB 6C 0300
        gbc.setState(0x0, 0xb36c, 0xdb50, 0xf8ab, 0x39e1, 0xd52f, 0x1, 0x0);
        gbc.writeMem(0x0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xb36c);
        EXPECT(gbc.pc(), 0x2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0301
        gbc.setState(0x9088, 0xa223, 0xd910, 0xdf2c, 0x41c0, 0x689, 0x0, 0x1);
        gbc.writeMem(0x9088, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xa223);
        EXPECT(gbc.pc(), 0x908a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9088), 0xcb);
        EXPECT(gbc.readMem(0x9089), 0x6c);
        // CB 6C 0302
        gbc.setState(0x5449, 0x87d5, 0x3aa0, 0xc77b, 0x16c4, 0xbeba, 0x0, 0x0);
        gbc.writeMem(0x5449, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x87d5);
        EXPECT(gbc.pc(), 0x544b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0303
        gbc.setState(0xc329, 0x9544, 0xad0, 0xedc0, 0x9009, 0x25b8, 0x1, 0x1);
        gbc.writeMem(0xc329, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x9544);
        EXPECT(gbc.pc(), 0xc32b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc329), 0xcb);
        EXPECT(gbc.readMem(0xc32a), 0x6c);
        // CB 6C 0304
        gbc.setState(0xcca3, 0xe94b, 0x3040, 0x9c31, 0x2800, 0x9bd, 0x1, 0x1);
        gbc.writeMem(0xcca3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xe94b);
        EXPECT(gbc.pc(), 0xcca5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcca3), 0xcb);
        EXPECT(gbc.readMem(0xcca4), 0x6c);
        // CB 6C 0305
        gbc.setState(0xa872, 0x2a3d, 0x65c0, 0x40e7, 0xfa52, 0x1b3e, 0x1, 0x0);
        gbc.writeMem(0xa872, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x2a3d);
        EXPECT(gbc.pc(), 0xa874);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa872), 0xcb);
        EXPECT(gbc.readMem(0xa873), 0x6c);
        // CB 6C 0306
        gbc.setState(0x7b22, 0x1adc, 0xfd80, 0xb6da, 0xee65, 0x9c67, 0x1, 0x1);
        gbc.writeMem(0x7b22, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x1adc);
        EXPECT(gbc.pc(), 0x7b24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0307
        gbc.setState(0x1764, 0x262c, 0x7710, 0x1ce0, 0x7b84, 0xe49c, 0x1, 0x1);
        gbc.writeMem(0x1764, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x262c);
        EXPECT(gbc.pc(), 0x1766);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0308
        gbc.setState(0x2f0d, 0x3293, 0xa360, 0x9ba7, 0x3dac, 0xbdaa, 0x1, 0x0);
        gbc.writeMem(0x2f0d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x3293);
        EXPECT(gbc.pc(), 0x2f0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0309
        gbc.setState(0xd790, 0x5758, 0x6110, 0xbcf0, 0x74a1, 0xac27, 0x0, 0x1);
        gbc.writeMem(0xd790, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x5758);
        EXPECT(gbc.pc(), 0xd792);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd790), 0xcb);
        EXPECT(gbc.readMem(0xd791), 0x6c);
        // CB 6C 030A
        gbc.setState(0x3079, 0x5714, 0xf030, 0xfc7e, 0x5d15, 0x446e, 0x0, 0x0);
        gbc.writeMem(0x3079, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x5714);
        EXPECT(gbc.pc(), 0x307b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 030B
        gbc.setState(0xb1fe, 0x80ac, 0xe800, 0x5461, 0xc138, 0x14d7, 0x1, 0x0);
        gbc.writeMem(0xb1fe, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x80ac);
        EXPECT(gbc.pc(), 0xb200);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1fe), 0xcb);
        EXPECT(gbc.readMem(0xb1ff), 0x6c);
        // CB 6C 030D
        gbc.setState(0x2bfe, 0x3d1f, 0x2ae0, 0x5406, 0x5a8b, 0x1604, 0x0, 0x1);
        gbc.writeMem(0x2bfe, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x3d1f);
        EXPECT(gbc.pc(), 0x2c00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 030E
        gbc.setState(0xdb6, 0xc77a, 0x6c0, 0xd919, 0x279f, 0xbae0, 0x1, 0x0);
        gbc.writeMem(0xdb6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xc77a);
        EXPECT(gbc.pc(), 0xdb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 030F
        gbc.setState(0x3c0b, 0xccf7, 0x600, 0x57da, 0x1915, 0x5399, 0x0, 0x1);
        gbc.writeMem(0x3c0b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xccf7);
        EXPECT(gbc.pc(), 0x3c0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0310
        gbc.setState(0x4189, 0xddc9, 0xa050, 0x448e, 0x72bd, 0xa152, 0x0, 0x1);
        gbc.writeMem(0x4189, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xddc9);
        EXPECT(gbc.pc(), 0x418b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0311
        gbc.setState(0xe740, 0x4e36, 0x9660, 0x1025, 0x34aa, 0x3087, 0x1, 0x1);
        gbc.writeMem(0xe740, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x4e36);
        EXPECT(gbc.pc(), 0xe742);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe740), 0xcb);
        EXPECT(gbc.readMem(0xe741), 0x6c);
        // CB 6C 0312
        gbc.setState(0x2206, 0x14c6, 0x4df0, 0x497e, 0xac3, 0x99ed, 0x0, 0x1);
        gbc.writeMem(0x2206, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x14c6);
        EXPECT(gbc.pc(), 0x2208);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0316
        gbc.setState(0x9e67, 0x456, 0xf430, 0x2f1f, 0x94ad, 0x59e6, 0x1, 0x0);
        gbc.writeMem(0x9e67, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x456);
        EXPECT(gbc.pc(), 0x9e69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e67), 0xcb);
        EXPECT(gbc.readMem(0x9e68), 0x6c);
        // CB 6C 0317
        gbc.setState(0xe704, 0x77cc, 0xd570, 0x5120, 0x137c, 0x621f, 0x1, 0x0);
        gbc.writeMem(0xe704, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x77cc);
        EXPECT(gbc.pc(), 0xe706);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe704), 0xcb);
        EXPECT(gbc.readMem(0xe705), 0x6c);
        // CB 6C 0318
        gbc.setState(0x26c0, 0x5433, 0x1010, 0x4c66, 0xf280, 0x438f, 0x1, 0x0);
        gbc.writeMem(0x26c0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x5433);
        EXPECT(gbc.pc(), 0x26c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0319
        gbc.setState(0x264a, 0x3aee, 0x4880, 0xacec, 0x7976, 0x451f, 0x1, 0x0);
        gbc.writeMem(0x264a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x3aee);
        EXPECT(gbc.pc(), 0x264c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 031A
        gbc.setState(0x554a, 0xa027, 0xc690, 0x983d, 0x3515, 0x36e0, 0x1, 0x1);
        gbc.writeMem(0x554a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xa027);
        EXPECT(gbc.pc(), 0x554c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 031B
        gbc.setState(0xbd76, 0x262, 0x91a0, 0x2541, 0x1b60, 0xd58d, 0x0, 0x1);
        gbc.writeMem(0xbd76, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x262);
        EXPECT(gbc.pc(), 0xbd78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd76), 0xcb);
        EXPECT(gbc.readMem(0xbd77), 0x6c);
        // CB 6C 031C
        gbc.setState(0x9f11, 0x81bb, 0x47b0, 0x6d4b, 0xff6e, 0xc10d, 0x1, 0x0);
        gbc.writeMem(0x9f11, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x81bb);
        EXPECT(gbc.pc(), 0x9f13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f11), 0xcb);
        EXPECT(gbc.readMem(0x9f12), 0x6c);
        // CB 6C 031D
        gbc.setState(0x37d0, 0xe39b, 0x1980, 0x334c, 0xb19d, 0xc9b6, 0x0, 0x0);
        gbc.writeMem(0x37d0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xe39b);
        EXPECT(gbc.pc(), 0x37d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 031E
        gbc.setState(0x6afa, 0x6fa1, 0xdb90, 0xf580, 0xae4d, 0xc119, 0x0, 0x0);
        gbc.writeMem(0x6afa, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x6fa1);
        EXPECT(gbc.pc(), 0x6afc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0321
        gbc.setState(0x442d, 0x725b, 0xafd0, 0xc4b6, 0x814f, 0x2ec7, 0x0, 0x1);
        gbc.writeMem(0x442d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x725b);
        EXPECT(gbc.pc(), 0x442f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0323
        gbc.setState(0xd1fa, 0x8be2, 0x9d90, 0xe4f6, 0x548, 0x6a7, 0x1, 0x1);
        gbc.writeMem(0xd1fa, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x8be2);
        EXPECT(gbc.pc(), 0xd1fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1fa), 0xcb);
        EXPECT(gbc.readMem(0xd1fb), 0x6c);
        // CB 6C 0324
        gbc.setState(0x3a04, 0x172b, 0x4d00, 0x7e5a, 0xe9d8, 0x4288, 0x1, 0x0);
        gbc.writeMem(0x3a04, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x172b);
        EXPECT(gbc.pc(), 0x3a06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0325
        gbc.setState(0xc5c, 0xe7a5, 0xef70, 0x5b83, 0x8944, 0xd98f, 0x1, 0x1);
        gbc.writeMem(0xc5c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe7a5);
        EXPECT(gbc.pc(), 0xc5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0326
        gbc.setState(0xb71b, 0xc9dc, 0xfab0, 0x87b1, 0x864c, 0x2184, 0x0, 0x0);
        gbc.writeMem(0xb71b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xc9dc);
        EXPECT(gbc.pc(), 0xb71d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb71b), 0xcb);
        EXPECT(gbc.readMem(0xb71c), 0x6c);
        // CB 6C 0327
        gbc.setState(0x6de2, 0x1d8b, 0xb4c0, 0x5d4a, 0x17e0, 0x2a2f, 0x0, 0x0);
        gbc.writeMem(0x6de2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x1d8b);
        EXPECT(gbc.pc(), 0x6de4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0328
        gbc.setState(0x733e, 0x955e, 0xed00, 0xb8ab, 0xdd8e, 0x84b1, 0x0, 0x1);
        gbc.writeMem(0x733e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x955e);
        EXPECT(gbc.pc(), 0x7340);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0329
        gbc.setState(0xb1ad, 0xf0e2, 0xa6e0, 0x19a3, 0x707c, 0x3d47, 0x0, 0x1);
        gbc.writeMem(0xb1ad, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xf0e2);
        EXPECT(gbc.pc(), 0xb1af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1ad), 0xcb);
        EXPECT(gbc.readMem(0xb1ae), 0x6c);
        // CB 6C 032A
        gbc.setState(0x2eda, 0x42a9, 0x3a70, 0x59b2, 0x9cd0, 0xbf4, 0x1, 0x0);
        gbc.writeMem(0x2eda, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x42a9);
        EXPECT(gbc.pc(), 0x2edc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 032B
        gbc.setState(0x9bed, 0x400a, 0x3510, 0x5bcc, 0xe25a, 0x8b53, 0x1, 0x0);
        gbc.writeMem(0x9bed, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x400a);
        EXPECT(gbc.pc(), 0x9bef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bed), 0xcb);
        EXPECT(gbc.readMem(0x9bee), 0x6c);
        // CB 6C 032C
        gbc.setState(0x39fe, 0xc5d9, 0xb480, 0xa80f, 0x6319, 0xd9aa, 0x0, 0x0);
        gbc.writeMem(0x39fe, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xc5d9);
        EXPECT(gbc.pc(), 0x3a00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 032D
        gbc.setState(0x3c76, 0x1cba, 0xcc40, 0x2b82, 0x1c74, 0x4b49, 0x1, 0x0);
        gbc.writeMem(0x3c76, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x1cba);
        EXPECT(gbc.pc(), 0x3c78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 032E
        gbc.setState(0xdfd3, 0x866d, 0x1590, 0x6098, 0x1284, 0xa0a2, 0x0, 0x0);
        gbc.writeMem(0xdfd3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x866d);
        EXPECT(gbc.pc(), 0xdfd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfd3), 0xcb);
        EXPECT(gbc.readMem(0xdfd4), 0x6c);
        // CB 6C 032F
        gbc.setState(0xfc, 0xe614, 0x8a50, 0x5c11, 0xaebc, 0xa3bd, 0x0, 0x0);
        gbc.writeMem(0xfc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xe614);
        EXPECT(gbc.pc(), 0xfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0330
        gbc.setState(0x6d29, 0x3f06, 0x9030, 0xf15c, 0xbb3a, 0xd260, 0x1, 0x1);
        gbc.writeMem(0x6d29, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x3f06);
        EXPECT(gbc.pc(), 0x6d2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0331
        gbc.setState(0x82a4, 0x157b, 0xc500, 0x645, 0x2866, 0xda0b, 0x1, 0x1);
        gbc.writeMem(0x82a4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x157b);
        EXPECT(gbc.pc(), 0x82a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82a4), 0xcb);
        EXPECT(gbc.readMem(0x82a5), 0x6c);
        // CB 6C 0333
        gbc.setState(0x2934, 0x2149, 0xf130, 0x1d93, 0xcc67, 0x5c99, 0x1, 0x0);
        gbc.writeMem(0x2934, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x2149);
        EXPECT(gbc.pc(), 0x2936);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0334
        gbc.setState(0xcfeb, 0x1ce6, 0x7700, 0xe921, 0x6bfd, 0x180b, 0x1, 0x0);
        gbc.writeMem(0xcfeb, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x1ce6);
        EXPECT(gbc.pc(), 0xcfed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfeb), 0xcb);
        EXPECT(gbc.readMem(0xcfec), 0x6c);
        // CB 6C 0335
        gbc.setState(0x3d40, 0xf0de, 0xdef0, 0xfffb, 0xaa5b, 0xd63a, 0x0, 0x1);
        gbc.writeMem(0x3d40, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xf0de);
        EXPECT(gbc.pc(), 0x3d42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0336
        gbc.setState(0x7d8d, 0xbe5a, 0xa80, 0x84ad, 0x3a34, 0x8e26, 0x0, 0x1);
        gbc.writeMem(0x7d8d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xbe5a);
        EXPECT(gbc.pc(), 0x7d8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0337
        gbc.setState(0x7ee9, 0x6319, 0xbf20, 0x6bd6, 0x790, 0x7629, 0x0, 0x1);
        gbc.writeMem(0x7ee9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x6319);
        EXPECT(gbc.pc(), 0x7eeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0338
        gbc.setState(0x2d8d, 0x45a2, 0xd3f0, 0x89c0, 0x6cd, 0x5dcf, 0x0, 0x0);
        gbc.writeMem(0x2d8d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x45a2);
        EXPECT(gbc.pc(), 0x2d8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0339
        gbc.setState(0x1517, 0xbdbd, 0xd340, 0x4278, 0xec32, 0xe85d, 0x1, 0x1);
        gbc.writeMem(0x1517, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xbdbd);
        EXPECT(gbc.pc(), 0x1519);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 033A
        gbc.setState(0xbe56, 0x2f8c, 0x9620, 0x2d11, 0x3b8e, 0x4069, 0x0, 0x1);
        gbc.writeMem(0xbe56, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x2f8c);
        EXPECT(gbc.pc(), 0xbe58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe56), 0xcb);
        EXPECT(gbc.readMem(0xbe57), 0x6c);
        // CB 6C 033B
        gbc.setState(0x4f9e, 0x2daa, 0xcea0, 0x9e1, 0xd233, 0x87bd, 0x1, 0x1);
        gbc.writeMem(0x4f9e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x2daa);
        EXPECT(gbc.pc(), 0x4fa0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 033C
        gbc.setState(0x130d, 0xccc, 0x3790, 0x5cc5, 0x3117, 0xa541, 0x1, 0x1);
        gbc.writeMem(0x130d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xccc);
        EXPECT(gbc.pc(), 0x130f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 033D
        gbc.setState(0xc58b, 0x2fbf, 0xf690, 0xe71, 0x246e, 0x3416, 0x0, 0x0);
        gbc.writeMem(0xc58b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x2fbf);
        EXPECT(gbc.pc(), 0xc58d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc58b), 0xcb);
        EXPECT(gbc.readMem(0xc58c), 0x6c);
        // CB 6C 033E
        gbc.setState(0xe62, 0xa482, 0x30, 0x4ff2, 0x97ec, 0xc5f2, 0x0, 0x0);
        gbc.writeMem(0xe62, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xa482);
        EXPECT(gbc.pc(), 0xe64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 033F
        gbc.setState(0x65ea, 0x2579, 0x9760, 0xf74c, 0xb937, 0x6ca5, 0x0, 0x0);
        gbc.writeMem(0x65ea, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2579);
        EXPECT(gbc.pc(), 0x65ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0340
        gbc.setState(0xef46, 0x3e74, 0x9170, 0x1a6e, 0x95ac, 0xa31, 0x1, 0x1);
        gbc.writeMem(0xef46, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x3e74);
        EXPECT(gbc.pc(), 0xef48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef46), 0xcb);
        EXPECT(gbc.readMem(0xef47), 0x6c);
        // CB 6C 0341
        gbc.setState(0xdd8b, 0x269, 0x8a50, 0x7354, 0x4b10, 0x1e93, 0x0, 0x1);
        gbc.writeMem(0xdd8b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x269);
        EXPECT(gbc.pc(), 0xdd8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd8b), 0xcb);
        EXPECT(gbc.readMem(0xdd8c), 0x6c);
        // CB 6C 0342
        gbc.setState(0xd3bd, 0x841b, 0x1ab0, 0xcd02, 0x3c03, 0x482d, 0x1, 0x0);
        gbc.writeMem(0xd3bd, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x841b);
        EXPECT(gbc.pc(), 0xd3bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3bd), 0xcb);
        EXPECT(gbc.readMem(0xd3be), 0x6c);
        // CB 6C 0343
        gbc.setState(0x1275, 0x437e, 0xa8e0, 0x5bd9, 0x3640, 0x4eed, 0x1, 0x1);
        gbc.writeMem(0x1275, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x437e);
        EXPECT(gbc.pc(), 0x1277);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0344
        gbc.setState(0xde5c, 0x8e6c, 0x1cb0, 0x7125, 0x67f0, 0xaad9, 0x1, 0x0);
        gbc.writeMem(0xde5c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x8e6c);
        EXPECT(gbc.pc(), 0xde5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde5c), 0xcb);
        EXPECT(gbc.readMem(0xde5d), 0x6c);
        // CB 6C 0345
        gbc.setState(0x4671, 0xd866, 0x650, 0xc49c, 0x9ea8, 0xf8cc, 0x1, 0x0);
        gbc.writeMem(0x4671, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xd866);
        EXPECT(gbc.pc(), 0x4673);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0346
        gbc.setState(0x14f, 0xb60d, 0x6840, 0x5ddb, 0xcc43, 0x7c9, 0x1, 0x0);
        gbc.writeMem(0x14f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xb60d);
        EXPECT(gbc.pc(), 0x151);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0347
        gbc.setState(0x6849, 0x5f75, 0xde10, 0xbfde, 0x2725, 0x9234, 0x1, 0x0);
        gbc.writeMem(0x6849, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x5f75);
        EXPECT(gbc.pc(), 0x684b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0348
        gbc.setState(0xa5b2, 0xb368, 0x3c10, 0x8ff6, 0x5eb6, 0x35bc, 0x0, 0x1);
        gbc.writeMem(0xa5b2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xb368);
        EXPECT(gbc.pc(), 0xa5b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5b2), 0xcb);
        EXPECT(gbc.readMem(0xa5b3), 0x6c);
        // CB 6C 0349
        gbc.setState(0x5728, 0x4680, 0x210, 0x7d0f, 0xa4c8, 0x7bc1, 0x1, 0x0);
        gbc.writeMem(0x5728, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x4680);
        EXPECT(gbc.pc(), 0x572a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 034A
        gbc.setState(0x6ba6, 0xbfbc, 0x7770, 0xc5e8, 0x798b, 0x5069, 0x0, 0x1);
        gbc.writeMem(0x6ba6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xbfbc);
        EXPECT(gbc.pc(), 0x6ba8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 034B
        gbc.setState(0x71e6, 0x423a, 0x7240, 0x53ee, 0x46f1, 0x2d3f, 0x0, 0x0);
        gbc.writeMem(0x71e6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x423a);
        EXPECT(gbc.pc(), 0x71e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 034C
        gbc.setState(0x4c84, 0xf518, 0x5760, 0xa8c6, 0x361a, 0xf089, 0x0, 0x0);
        gbc.writeMem(0x4c84, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xf518);
        EXPECT(gbc.pc(), 0x4c86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 034D
        gbc.setState(0x2f25, 0x91a0, 0x7c50, 0x2bbc, 0xf53b, 0x9433, 0x0, 0x0);
        gbc.writeMem(0x2f25, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x91a0);
        EXPECT(gbc.pc(), 0x2f27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 034E
        gbc.setState(0x4d8e, 0x4cf7, 0xb390, 0x12fa, 0x436, 0x268c, 0x1, 0x1);
        gbc.writeMem(0x4d8e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x4cf7);
        EXPECT(gbc.pc(), 0x4d90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 034F
        gbc.setState(0x848f, 0xfe09, 0x6b00, 0x892f, 0x2684, 0xae62, 0x0, 0x0);
        gbc.writeMem(0x848f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xfe09);
        EXPECT(gbc.pc(), 0x8491);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x848f), 0xcb);
        EXPECT(gbc.readMem(0x8490), 0x6c);
        // CB 6C 0350
        gbc.setState(0x16b9, 0xc311, 0xd9b0, 0x805d, 0x44c4, 0xe80f, 0x1, 0x1);
        gbc.writeMem(0x16b9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xc311);
        EXPECT(gbc.pc(), 0x16bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0351
        gbc.setState(0xeab3, 0x3ecb, 0xcd80, 0x8c5a, 0x810c, 0x977e, 0x1, 0x0);
        gbc.writeMem(0xeab3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x3ecb);
        EXPECT(gbc.pc(), 0xeab5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeab3), 0xcb);
        EXPECT(gbc.readMem(0xeab4), 0x6c);
        // CB 6C 0352
        gbc.setState(0xdf47, 0x303e, 0xf120, 0x1646, 0xf8e6, 0x4003, 0x0, 0x0);
        gbc.writeMem(0xdf47, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x303e);
        EXPECT(gbc.pc(), 0xdf49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf47), 0xcb);
        EXPECT(gbc.readMem(0xdf48), 0x6c);
        // CB 6C 0353
        gbc.setState(0x561a, 0x76e5, 0xf9e0, 0xf9f6, 0x896c, 0x13f8, 0x0, 0x1);
        gbc.writeMem(0x561a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x76e5);
        EXPECT(gbc.pc(), 0x561c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0354
        gbc.setState(0x3e0, 0x2c8c, 0xa3e0, 0x56f3, 0x76b8, 0x5d39, 0x0, 0x0);
        gbc.writeMem(0x3e0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x2c8c);
        EXPECT(gbc.pc(), 0x3e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0355
        gbc.setState(0x38b4, 0xf0be, 0x19e0, 0xe041, 0x5143, 0x4aa1, 0x1, 0x1);
        gbc.writeMem(0x38b4, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xf0be);
        EXPECT(gbc.pc(), 0x38b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0356
        gbc.setState(0x34ad, 0x47c9, 0x94f0, 0x42d9, 0x7fe2, 0x3e40, 0x1, 0x0);
        gbc.writeMem(0x34ad, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x47c9);
        EXPECT(gbc.pc(), 0x34af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0357
        gbc.setState(0x2cd1, 0x25ca, 0x3c0, 0x6715, 0x7d45, 0x35d9, 0x1, 0x0);
        gbc.writeMem(0x2cd1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x25ca);
        EXPECT(gbc.pc(), 0x2cd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0358
        gbc.setState(0x3a30, 0x3554, 0x85b0, 0x2a8, 0xe4b4, 0xfbd0, 0x1, 0x0);
        gbc.writeMem(0x3a30, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x3554);
        EXPECT(gbc.pc(), 0x3a32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0359
        gbc.setState(0x26bc, 0x353c, 0x1d50, 0xa0c4, 0xd444, 0x96a9, 0x0, 0x1);
        gbc.writeMem(0x26bc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x353c);
        EXPECT(gbc.pc(), 0x26be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 035A
        gbc.setState(0x5dc0, 0xd0b7, 0xd5e0, 0xe0a7, 0xed1d, 0xe88b, 0x1, 0x1);
        gbc.writeMem(0x5dc0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xd0b7);
        EXPECT(gbc.pc(), 0x5dc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 035B
        gbc.setState(0xaa8, 0x31b8, 0xd700, 0xab, 0x9d63, 0xdbe5, 0x0, 0x1);
        gbc.writeMem(0xaa8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x31b8);
        EXPECT(gbc.pc(), 0xaaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 035C
        gbc.setState(0xc844, 0xd539, 0xbc90, 0x1930, 0x1374, 0x59e4, 0x0, 0x0);
        gbc.writeMem(0xc844, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xd539);
        EXPECT(gbc.pc(), 0xc846);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc844), 0xcb);
        EXPECT(gbc.readMem(0xc845), 0x6c);
        // CB 6C 035E
        gbc.setState(0x2cc7, 0xdb3f, 0xc320, 0x44d, 0xf936, 0x228f, 0x1, 0x0);
        gbc.writeMem(0x2cc7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xdb3f);
        EXPECT(gbc.pc(), 0x2cc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 035F
        gbc.setState(0xbeca, 0xbfee, 0xa5d0, 0x6ac0, 0xfd32, 0x92bc, 0x0, 0x1);
        gbc.writeMem(0xbeca, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xbfee);
        EXPECT(gbc.pc(), 0xbecc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbeca), 0xcb);
        EXPECT(gbc.readMem(0xbecb), 0x6c);
        // CB 6C 0360
        gbc.setState(0x6689, 0xa123, 0x85c0, 0x88bc, 0x1242, 0xa412, 0x1, 0x1);
        gbc.writeMem(0x6689, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xa123);
        EXPECT(gbc.pc(), 0x668b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0361
        gbc.setState(0xccd8, 0x2228, 0x3820, 0xc8ed, 0x70e1, 0xc809, 0x1, 0x0);
        gbc.writeMem(0xccd8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x2228);
        EXPECT(gbc.pc(), 0xccda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccd8), 0xcb);
        EXPECT(gbc.readMem(0xccd9), 0x6c);
        // CB 6C 0362
        gbc.setState(0x5ff1, 0x4c28, 0xafe0, 0x12b3, 0x9c9f, 0xf4df, 0x1, 0x0);
        gbc.writeMem(0x5ff1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x4c28);
        EXPECT(gbc.pc(), 0x5ff3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0363
        gbc.setState(0xe033, 0x9b8, 0xd550, 0xcf4f, 0xee3b, 0x2903, 0x1, 0x0);
        gbc.writeMem(0xe033, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x9b8);
        EXPECT(gbc.pc(), 0xe035);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe033), 0xcb);
        EXPECT(gbc.readMem(0xe034), 0x6c);
        // CB 6C 0364
        gbc.setState(0x9cd9, 0xe292, 0xbfb0, 0xd3a1, 0x3270, 0x80e2, 0x0, 0x1);
        gbc.writeMem(0x9cd9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xe292);
        EXPECT(gbc.pc(), 0x9cdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cd9), 0xcb);
        EXPECT(gbc.readMem(0x9cda), 0x6c);
        // CB 6C 0365
        gbc.setState(0x64b6, 0xd5d5, 0x4750, 0x4f29, 0xc334, 0x3f8e, 0x0, 0x0);
        gbc.writeMem(0x64b6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xd5d5);
        EXPECT(gbc.pc(), 0x64b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0366
        gbc.setState(0xb5c7, 0xba7, 0xe8d0, 0xea0b, 0x2651, 0xb00e, 0x1, 0x1);
        gbc.writeMem(0xb5c7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xba7);
        EXPECT(gbc.pc(), 0xb5c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5c7), 0xcb);
        EXPECT(gbc.readMem(0xb5c8), 0x6c);
        // CB 6C 0367
        gbc.setState(0xaf97, 0xf78e, 0xe1f0, 0x36bc, 0xbebf, 0x373, 0x0, 0x0);
        gbc.writeMem(0xaf97, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xf78e);
        EXPECT(gbc.pc(), 0xaf99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf97), 0xcb);
        EXPECT(gbc.readMem(0xaf98), 0x6c);
        // CB 6C 0368
        gbc.setState(0xdaca, 0x1efb, 0xcc10, 0x6d78, 0x6b02, 0xa949, 0x1, 0x0);
        gbc.writeMem(0xdaca, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x1efb);
        EXPECT(gbc.pc(), 0xdacc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdaca), 0xcb);
        EXPECT(gbc.readMem(0xdacb), 0x6c);
        // CB 6C 0369
        gbc.setState(0x298d, 0x4fd0, 0xd7b0, 0x97a7, 0x616, 0x9e87, 0x1, 0x1);
        gbc.writeMem(0x298d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x4fd0);
        EXPECT(gbc.pc(), 0x298f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 036A
        gbc.setState(0xc39f, 0x1880, 0x8650, 0x280d, 0xe2b0, 0x2d79, 0x0, 0x0);
        gbc.writeMem(0xc39f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x1880);
        EXPECT(gbc.pc(), 0xc3a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc39f), 0xcb);
        EXPECT(gbc.readMem(0xc3a0), 0x6c);
        // CB 6C 036B
        gbc.setState(0x9c9, 0x58bc, 0x7060, 0x16cc, 0xff44, 0xd12f, 0x0, 0x1);
        gbc.writeMem(0x9c9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x58bc);
        EXPECT(gbc.pc(), 0x9cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 036C
        gbc.setState(0xe205, 0xe62b, 0x22b0, 0x1343, 0x3db3, 0xf595, 0x0, 0x0);
        gbc.writeMem(0xe205, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xe62b);
        EXPECT(gbc.pc(), 0xe207);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe205), 0xcb);
        EXPECT(gbc.readMem(0xe206), 0x6c);
        // CB 6C 036D
        gbc.setState(0x3219, 0xb314, 0x3dc0, 0xc92d, 0x89ec, 0xa25f, 0x1, 0x0);
        gbc.writeMem(0x3219, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xb314);
        EXPECT(gbc.pc(), 0x321b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 036E
        gbc.setState(0x7e00, 0xb161, 0x3180, 0x25a0, 0xdbe3, 0x6ea2, 0x1, 0x1);
        gbc.writeMem(0x7e00, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xb161);
        EXPECT(gbc.pc(), 0x7e02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 036F
        gbc.setState(0xbbfa, 0x801c, 0x8910, 0x35, 0xde3e, 0xc977, 0x1, 0x1);
        gbc.writeMem(0xbbfa, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x801c);
        EXPECT(gbc.pc(), 0xbbfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbfa), 0xcb);
        EXPECT(gbc.readMem(0xbbfb), 0x6c);
        // CB 6C 0370
        gbc.setState(0x3445, 0x61b4, 0x72c0, 0x50bf, 0x9328, 0x946a, 0x1, 0x1);
        gbc.writeMem(0x3445, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x61b4);
        EXPECT(gbc.pc(), 0x3447);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0371
        gbc.setState(0xcdb, 0xfdc4, 0x8060, 0xbc9f, 0xeef, 0xb43f, 0x1, 0x1);
        gbc.writeMem(0xcdb, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xfdc4);
        EXPECT(gbc.pc(), 0xcdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0372
        gbc.setState(0xe76e, 0xfae7, 0xa190, 0x174b, 0x6a1d, 0x7715, 0x1, 0x1);
        gbc.writeMem(0xe76e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xfae7);
        EXPECT(gbc.pc(), 0xe770);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe76e), 0xcb);
        EXPECT(gbc.readMem(0xe76f), 0x6c);
        // CB 6C 0373
        gbc.setState(0x9517, 0xd224, 0x52d0, 0x4520, 0xa0d4, 0x6f88, 0x0, 0x0);
        gbc.writeMem(0x9517, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xd224);
        EXPECT(gbc.pc(), 0x9519);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9517), 0xcb);
        EXPECT(gbc.readMem(0x9518), 0x6c);
        // CB 6C 0374
        gbc.setState(0x14f7, 0x1826, 0x36a0, 0x8bf9, 0x9e60, 0x31ed, 0x1, 0x1);
        gbc.writeMem(0x14f7, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x1826);
        EXPECT(gbc.pc(), 0x14f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0375
        gbc.setState(0x44f0, 0x8736, 0xbf80, 0x9133, 0x9ce8, 0x26f3, 0x0, 0x0);
        gbc.writeMem(0x44f0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x8736);
        EXPECT(gbc.pc(), 0x44f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0376
        gbc.setState(0xcc24, 0xddad, 0x81f0, 0x9d0f, 0x37cb, 0xbbe6, 0x1, 0x0);
        gbc.writeMem(0xcc24, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xddad);
        EXPECT(gbc.pc(), 0xcc26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc24), 0xcb);
        EXPECT(gbc.readMem(0xcc25), 0x6c);
        // CB 6C 0377
        gbc.setState(0x2c51, 0x6c9, 0x7bf0, 0xbf8, 0xf0b7, 0x3d4a, 0x0, 0x0);
        gbc.writeMem(0x2c51, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x6c9);
        EXPECT(gbc.pc(), 0x2c53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0378
        gbc.setState(0x9107, 0xc5af, 0x5c60, 0x2414, 0x6f02, 0x4a65, 0x1, 0x1);
        gbc.writeMem(0x9107, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xc5af);
        EXPECT(gbc.pc(), 0x9109);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9107), 0xcb);
        EXPECT(gbc.readMem(0x9108), 0x6c);
        // CB 6C 0379
        gbc.setState(0x697a, 0x82aa, 0xb730, 0x153a, 0xf3d9, 0x67d4, 0x1, 0x0);
        gbc.writeMem(0x697a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x82aa);
        EXPECT(gbc.pc(), 0x697c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 037A
        gbc.setState(0xc320, 0xbaf4, 0x280, 0x4bd7, 0xb118, 0x8a31, 0x1, 0x0);
        gbc.writeMem(0xc320, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xbaf4);
        EXPECT(gbc.pc(), 0xc322);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc320), 0xcb);
        EXPECT(gbc.readMem(0xc321), 0x6c);
        // CB 6C 037B
        gbc.setState(0xc3b, 0xdc4, 0x2430, 0xc72a, 0x1b71, 0x6c7c, 0x1, 0x1);
        gbc.writeMem(0xc3b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xdc4);
        EXPECT(gbc.pc(), 0xc3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 037C
        gbc.setState(0x6dd6, 0xd586, 0xf930, 0x1f2, 0x6bcd, 0xa775, 0x0, 0x0);
        gbc.writeMem(0x6dd6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xd586);
        EXPECT(gbc.pc(), 0x6dd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 037D
        gbc.setState(0x4691, 0xe78f, 0x2870, 0x5179, 0x11d9, 0x164a, 0x1, 0x0);
        gbc.writeMem(0x4691, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xe78f);
        EXPECT(gbc.pc(), 0x4693);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 037E
        gbc.setState(0xd7e8, 0xb343, 0xa00, 0x2cbd, 0x6118, 0x8e40, 0x0, 0x1);
        gbc.writeMem(0xd7e8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xb343);
        EXPECT(gbc.pc(), 0xd7ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7e8), 0xcb);
        EXPECT(gbc.readMem(0xd7e9), 0x6c);
        // CB 6C 0380
        gbc.setState(0x1550, 0x905c, 0xd2a0, 0xf0ca, 0x2869, 0x48b1, 0x1, 0x0);
        gbc.writeMem(0x1550, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x905c);
        EXPECT(gbc.pc(), 0x1552);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0381
        gbc.setState(0x33d0, 0x544c, 0x4190, 0xd0a6, 0x3b79, 0x603f, 0x1, 0x0);
        gbc.writeMem(0x33d0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x544c);
        EXPECT(gbc.pc(), 0x33d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0382
        gbc.setState(0x7e17, 0x3b32, 0xa7a0, 0xd50e, 0x12e5, 0x14f2, 0x1, 0x0);
        gbc.writeMem(0x7e17, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x3b32);
        EXPECT(gbc.pc(), 0x7e19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0383
        gbc.setState(0x8297, 0x732b, 0xba00, 0x6ff3, 0x26b5, 0x9fe3, 0x1, 0x1);
        gbc.writeMem(0x8297, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x732b);
        EXPECT(gbc.pc(), 0x8299);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8297), 0xcb);
        EXPECT(gbc.readMem(0x8298), 0x6c);
        // CB 6C 0384
        gbc.setState(0xb05c, 0xabe6, 0x9bf0, 0x734b, 0xf64d, 0x849f, 0x1, 0x0);
        gbc.writeMem(0xb05c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xabe6);
        EXPECT(gbc.pc(), 0xb05e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb05c), 0xcb);
        EXPECT(gbc.readMem(0xb05d), 0x6c);
        // CB 6C 0386
        gbc.setState(0x2dcc, 0x71f9, 0xc9c0, 0x2cc5, 0xd982, 0xba39, 0x0, 0x1);
        gbc.writeMem(0x2dcc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x71f9);
        EXPECT(gbc.pc(), 0x2dce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0387
        gbc.setState(0x4e27, 0xf7c9, 0xda60, 0xca33, 0x1a59, 0x594, 0x1, 0x1);
        gbc.writeMem(0x4e27, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xf7c9);
        EXPECT(gbc.pc(), 0x4e29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0388
        gbc.setState(0xc766, 0x9ae8, 0x4ff0, 0xda1b, 0x888f, 0x4663, 0x0, 0x0);
        gbc.writeMem(0xc766, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x9ae8);
        EXPECT(gbc.pc(), 0xc768);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc766), 0xcb);
        EXPECT(gbc.readMem(0xc767), 0x6c);
        // CB 6C 0389
        gbc.setState(0xac40, 0xd617, 0x6e70, 0x11d0, 0xfc2, 0x5627, 0x1, 0x0);
        gbc.writeMem(0xac40, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xd617);
        EXPECT(gbc.pc(), 0xac42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac40), 0xcb);
        EXPECT(gbc.readMem(0xac41), 0x6c);
        // CB 6C 038A
        gbc.setState(0xa18d, 0xfc3a, 0xb230, 0x7175, 0xf01e, 0xed10, 0x0, 0x1);
        gbc.writeMem(0xa18d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xfc3a);
        EXPECT(gbc.pc(), 0xa18f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa18d), 0xcb);
        EXPECT(gbc.readMem(0xa18e), 0x6c);
        // CB 6C 038B
        gbc.setState(0xcb33, 0x95d8, 0xe700, 0x8340, 0xa75c, 0x3af5, 0x0, 0x1);
        gbc.writeMem(0xcb33, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x95d8);
        EXPECT(gbc.pc(), 0xcb35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb33), 0xcb);
        EXPECT(gbc.readMem(0xcb34), 0x6c);
        // CB 6C 038C
        gbc.setState(0x1542, 0x30, 0xc2e0, 0xb896, 0x22a4, 0xb2a, 0x1, 0x1);
        gbc.writeMem(0x1542, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x30);
        EXPECT(gbc.pc(), 0x1544);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 038D
        gbc.setState(0xc72f, 0x8b5d, 0x2e00, 0x52d6, 0x6889, 0x4220, 0x1, 0x1);
        gbc.writeMem(0xc72f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8b5d);
        EXPECT(gbc.pc(), 0xc731);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc72f), 0xcb);
        EXPECT(gbc.readMem(0xc730), 0x6c);
        // CB 6C 038E
        gbc.setState(0xab18, 0x7eda, 0x4130, 0x6a59, 0x9e93, 0x4023, 0x0, 0x1);
        gbc.writeMem(0xab18, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x7eda);
        EXPECT(gbc.pc(), 0xab1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab18), 0xcb);
        EXPECT(gbc.readMem(0xab19), 0x6c);
        // CB 6C 038F
        gbc.setState(0xc42f, 0xf087, 0x500, 0x8445, 0xcf7b, 0xbd61, 0x0, 0x0);
        gbc.writeMem(0xc42f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xf087);
        EXPECT(gbc.pc(), 0xc431);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc42f), 0xcb);
        EXPECT(gbc.readMem(0xc430), 0x6c);
        // CB 6C 0390
        gbc.setState(0xa263, 0x9050, 0x90b0, 0x11f, 0x5116, 0xf25e, 0x0, 0x1);
        gbc.writeMem(0xa263, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x9050);
        EXPECT(gbc.pc(), 0xa265);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa263), 0xcb);
        EXPECT(gbc.readMem(0xa264), 0x6c);
        // CB 6C 0391
        gbc.setState(0xa719, 0xbe8c, 0xcd00, 0x1b2d, 0xcab5, 0x72c9, 0x0, 0x0);
        gbc.writeMem(0xa719, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xbe8c);
        EXPECT(gbc.pc(), 0xa71b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa719), 0xcb);
        EXPECT(gbc.readMem(0xa71a), 0x6c);
        // CB 6C 0392
        gbc.setState(0x8147, 0x4bc9, 0xcc20, 0x4002, 0x1e21, 0x2da7, 0x1, 0x0);
        gbc.writeMem(0x8147, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x4bc9);
        EXPECT(gbc.pc(), 0x8149);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8147), 0xcb);
        EXPECT(gbc.readMem(0x8148), 0x6c);
        // CB 6C 0393
        gbc.setState(0x3f33, 0xfda0, 0x4c80, 0x11d2, 0x3938, 0x31f5, 0x1, 0x0);
        gbc.writeMem(0x3f33, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xfda0);
        EXPECT(gbc.pc(), 0x3f35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0394
        gbc.setState(0xac90, 0xf511, 0x9c00, 0x141c, 0x1b10, 0xc62e, 0x0, 0x0);
        gbc.writeMem(0xac90, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xf511);
        EXPECT(gbc.pc(), 0xac92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac90), 0xcb);
        EXPECT(gbc.readMem(0xac91), 0x6c);
        // CB 6C 0395
        gbc.setState(0x764d, 0x4bd4, 0xa250, 0x9d, 0x9df8, 0xc766, 0x0, 0x0);
        gbc.writeMem(0x764d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x4bd4);
        EXPECT(gbc.pc(), 0x764f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 0396
        gbc.setState(0x12e0, 0xd33b, 0xe060, 0xc2f0, 0xa93d, 0xa769, 0x0, 0x1);
        gbc.writeMem(0x12e0, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xd33b);
        EXPECT(gbc.pc(), 0x12e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 0397
        gbc.setState(0xc02e, 0xf8d3, 0xfea0, 0x5e5a, 0x3747, 0xe51a, 0x0, 0x1);
        gbc.writeMem(0xc02e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xf8d3);
        EXPECT(gbc.pc(), 0xc030);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc02e), 0xcb);
        EXPECT(gbc.readMem(0xc02f), 0x6c);
        // CB 6C 0398
        gbc.setState(0x886c, 0xe8c2, 0x5800, 0x92da, 0xbd9c, 0xf17a, 0x1, 0x1);
        gbc.writeMem(0x886c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xe8c2);
        EXPECT(gbc.pc(), 0x886e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x886c), 0xcb);
        EXPECT(gbc.readMem(0x886d), 0x6c);
        // CB 6C 0399
        gbc.setState(0x3915, 0x4f54, 0xc9b0, 0x33eb, 0xddd, 0xae6c, 0x0, 0x0);
        gbc.writeMem(0x3915, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x4f54);
        EXPECT(gbc.pc(), 0x3917);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 039A
        gbc.setState(0x674, 0xb66d, 0xa3d0, 0x24bb, 0x3d76, 0xc6e1, 0x0, 0x0);
        gbc.writeMem(0x674, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xb66d);
        EXPECT(gbc.pc(), 0x676);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 039B
        gbc.setState(0x6395, 0x3422, 0x5b60, 0x70c4, 0x5a7e, 0x92a6, 0x1, 0x1);
        gbc.writeMem(0x6395, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x3422);
        EXPECT(gbc.pc(), 0x6397);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 039C
        gbc.setState(0x100c, 0x38ba, 0x5bb0, 0x3e76, 0x7bd3, 0x3beb, 0x0, 0x0);
        gbc.writeMem(0x100c, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x38ba);
        EXPECT(gbc.pc(), 0x100e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 039D
        gbc.setState(0xde7b, 0x9acf, 0x7ba0, 0x8ca1, 0xdfdc, 0xa980, 0x1, 0x1);
        gbc.writeMem(0xde7b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x9acf);
        EXPECT(gbc.pc(), 0xde7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde7b), 0xcb);
        EXPECT(gbc.readMem(0xde7c), 0x6c);
        // CB 6C 039E
        gbc.setState(0x38e3, 0x92b3, 0xf290, 0xdf58, 0xc01e, 0x8079, 0x0, 0x0);
        gbc.writeMem(0x38e3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x92b3);
        EXPECT(gbc.pc(), 0x38e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 039F
        gbc.setState(0xc02d, 0x3524, 0xf240, 0x23d, 0xc02, 0xdf82, 0x0, 0x0);
        gbc.writeMem(0xc02d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x3524);
        EXPECT(gbc.pc(), 0xc02f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc02d), 0xcb);
        EXPECT(gbc.readMem(0xc02e), 0x6c);
        // CB 6C 03A0
        gbc.setState(0xda1e, 0x6fc7, 0x8b0, 0x6558, 0x17ab, 0x7b0d, 0x0, 0x0);
        gbc.writeMem(0xda1e, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6fc7);
        EXPECT(gbc.pc(), 0xda20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda1e), 0xcb);
        EXPECT(gbc.readMem(0xda1f), 0x6c);
        // CB 6C 03A1
        gbc.setState(0x2ff3, 0x681, 0x45b0, 0x9768, 0xd863, 0x6964, 0x0, 0x1);
        gbc.writeMem(0x2ff3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x681);
        EXPECT(gbc.pc(), 0x2ff5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03A2
        gbc.setState(0x11c5, 0xb8f7, 0xd5d0, 0xd331, 0x60e6, 0x8304, 0x1, 0x1);
        gbc.writeMem(0x11c5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xb8f7);
        EXPECT(gbc.pc(), 0x11c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03A3
        gbc.setState(0x1ba5, 0xffa1, 0x5f60, 0x9460, 0x12ab, 0xc05d, 0x0, 0x0);
        gbc.writeMem(0x1ba5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xffa1);
        EXPECT(gbc.pc(), 0x1ba7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03A4
        gbc.setState(0xa41f, 0x368, 0x62f0, 0xbdd2, 0x88c5, 0xa4f7, 0x1, 0x0);
        gbc.writeMem(0xa41f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x368);
        EXPECT(gbc.pc(), 0xa421);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa41f), 0xcb);
        EXPECT(gbc.readMem(0xa420), 0x6c);
        // CB 6C 03A5
        gbc.setState(0x4b70, 0x2983, 0xa80, 0x5175, 0x22af, 0xaffb, 0x1, 0x0);
        gbc.writeMem(0x4b70, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2983);
        EXPECT(gbc.pc(), 0x4b72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03A6
        gbc.setState(0x3345, 0x648b, 0x80b0, 0xe13c, 0x9cdf, 0xefa4, 0x1, 0x1);
        gbc.writeMem(0x3345, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x648b);
        EXPECT(gbc.pc(), 0x3347);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03A7
        gbc.setState(0xe6ee, 0x2c0b, 0xd800, 0xe643, 0xb2ed, 0x9f1b, 0x1, 0x0);
        gbc.writeMem(0xe6ee, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x2c0b);
        EXPECT(gbc.pc(), 0xe6f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6ee), 0xcb);
        EXPECT(gbc.readMem(0xe6ef), 0x6c);
        // CB 6C 03A8
        gbc.setState(0xa856, 0x35fd, 0xd290, 0xbebf, 0x5bd4, 0x7bc6, 0x1, 0x1);
        gbc.writeMem(0xa856, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x35fd);
        EXPECT(gbc.pc(), 0xa858);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa856), 0xcb);
        EXPECT(gbc.readMem(0xa857), 0x6c);
        // CB 6C 03A9
        gbc.setState(0x4d12, 0xbf96, 0x6c70, 0xc703, 0xecc2, 0x8fac, 0x0, 0x1);
        gbc.writeMem(0x4d12, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xbf96);
        EXPECT(gbc.pc(), 0x4d14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03AA
        gbc.setState(0x3094, 0xb79, 0xc1a0, 0x98af, 0x6463, 0x99d7, 0x0, 0x1);
        gbc.writeMem(0x3094, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xb79);
        EXPECT(gbc.pc(), 0x3096);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03AB
        gbc.setState(0xcbd5, 0x4ce, 0x130, 0x1a5e, 0xe92d, 0x5e33, 0x1, 0x0);
        gbc.writeMem(0xcbd5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x4ce);
        EXPECT(gbc.pc(), 0xcbd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbd5), 0xcb);
        EXPECT(gbc.readMem(0xcbd6), 0x6c);
        // CB 6C 03AC
        gbc.setState(0x5431, 0xfb84, 0x7390, 0x893d, 0x89c2, 0x2a3b, 0x0, 0x0);
        gbc.writeMem(0x5431, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xfb84);
        EXPECT(gbc.pc(), 0x5433);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03AD
        gbc.setState(0x390, 0xe1b3, 0x83d0, 0xc473, 0xd5b7, 0x1ec3, 0x1, 0x1);
        gbc.writeMem(0x390, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xe1b3);
        EXPECT(gbc.pc(), 0x392);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03AE
        gbc.setState(0x4927, 0x3308, 0xa4d0, 0xee83, 0x6781, 0x16eb, 0x1, 0x1);
        gbc.writeMem(0x4927, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x3308);
        EXPECT(gbc.pc(), 0x4929);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03AF
        gbc.setState(0x1332, 0x7303, 0xc0e0, 0x8254, 0x252d, 0x7d93, 0x1, 0x0);
        gbc.writeMem(0x1332, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x7303);
        EXPECT(gbc.pc(), 0x1334);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03B0
        gbc.setState(0xd61f, 0xfc43, 0x3800, 0x823, 0x3ef6, 0xfa5d, 0x0, 0x0);
        gbc.writeMem(0xd61f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xfc43);
        EXPECT(gbc.pc(), 0xd621);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd61f), 0xcb);
        EXPECT(gbc.readMem(0xd620), 0x6c);
        // CB 6C 03B1
        gbc.setState(0x7705, 0xb413, 0x1560, 0x6bd8, 0xa62a, 0x6f68, 0x1, 0x0);
        gbc.writeMem(0x7705, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xb413);
        EXPECT(gbc.pc(), 0x7707);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03B2
        gbc.setState(0xe530, 0xb92d, 0x2a0, 0x3c09, 0xdae9, 0x81ab, 0x0, 0x0);
        gbc.writeMem(0xe530, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xb92d);
        EXPECT(gbc.pc(), 0xe532);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe530), 0xcb);
        EXPECT(gbc.readMem(0xe531), 0x6c);
        // CB 6C 03B3
        gbc.setState(0x178d, 0x244a, 0x61b0, 0x76a0, 0x2ca, 0xb07, 0x0, 0x0);
        gbc.writeMem(0x178d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x244a);
        EXPECT(gbc.pc(), 0x178f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03B4
        gbc.setState(0xca50, 0x9fb0, 0xe250, 0x59c0, 0xae2a, 0x45a4, 0x1, 0x0);
        gbc.writeMem(0xca50, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x9fb0);
        EXPECT(gbc.pc(), 0xca52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca50), 0xcb);
        EXPECT(gbc.readMem(0xca51), 0x6c);
        // CB 6C 03B5
        gbc.setState(0x2487, 0x32b, 0xaae0, 0x740e, 0x3cb1, 0xdf0a, 0x1, 0x0);
        gbc.writeMem(0x2487, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x32b);
        EXPECT(gbc.pc(), 0x2489);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03B6
        gbc.setState(0x2d12, 0xa35f, 0x300, 0x91d6, 0x1b00, 0x86d6, 0x0, 0x1);
        gbc.writeMem(0x2d12, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xa35f);
        EXPECT(gbc.pc(), 0x2d14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03B7
        gbc.setState(0x149f, 0x6d59, 0xa470, 0x6852, 0xf573, 0x980d, 0x0, 0x0);
        gbc.writeMem(0x149f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6d59);
        EXPECT(gbc.pc(), 0x14a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03B8
        gbc.setState(0xb727, 0xc2ed, 0x2270, 0xfd74, 0x543d, 0xb988, 0x1, 0x0);
        gbc.writeMem(0xb727, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xc2ed);
        EXPECT(gbc.pc(), 0xb729);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb727), 0xcb);
        EXPECT(gbc.readMem(0xb728), 0x6c);
        // CB 6C 03B9
        gbc.setState(0xd4e8, 0x9332, 0xe1a0, 0x736b, 0x519e, 0xc885, 0x0, 0x1);
        gbc.writeMem(0xd4e8, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x9332);
        EXPECT(gbc.pc(), 0xd4ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4e8), 0xcb);
        EXPECT(gbc.readMem(0xd4e9), 0x6c);
        // CB 6C 03BA
        gbc.setState(0x5e13, 0x5ef0, 0x13d0, 0x4b58, 0x8606, 0xb196, 0x0, 0x1);
        gbc.writeMem(0x5e13, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x5ef0);
        EXPECT(gbc.pc(), 0x5e15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03BB
        gbc.setState(0x6d72, 0x4c79, 0xbe50, 0x62fd, 0x914, 0x76d9, 0x1, 0x1);
        gbc.writeMem(0x6d72, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x4c79);
        EXPECT(gbc.pc(), 0x6d74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03BD
        gbc.setState(0x205a, 0xae3b, 0x3080, 0xc1ac, 0x7481, 0x476f, 0x0, 0x1);
        gbc.writeMem(0x205a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xae3b);
        EXPECT(gbc.pc(), 0x205c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03BE
        gbc.setState(0x506d, 0x684, 0xeec0, 0x98f1, 0xce15, 0x7ef1, 0x0, 0x0);
        gbc.writeMem(0x506d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x684);
        EXPECT(gbc.pc(), 0x506f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03BF
        gbc.setState(0x3fff, 0xe7d9, 0x280, 0x9cef, 0x2d6d, 0x3b1d, 0x0, 0x0);
        gbc.writeMem(0x3fff, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xe7d9);
        EXPECT(gbc.pc(), 0x4001);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03C1
        gbc.setState(0x2a11, 0x31e3, 0x1ea0, 0xcf24, 0xab2b, 0x43ec, 0x1, 0x0);
        gbc.writeMem(0x2a11, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x31e3);
        EXPECT(gbc.pc(), 0x2a13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03C2
        gbc.setState(0x8105, 0x6a7f, 0x21d0, 0xe2f0, 0x721c, 0x8a46, 0x1, 0x0);
        gbc.writeMem(0x8105, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x6a7f);
        EXPECT(gbc.pc(), 0x8107);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8105), 0xcb);
        EXPECT(gbc.readMem(0x8106), 0x6c);
        // CB 6C 03C3
        gbc.setState(0xea48, 0x2de9, 0x2130, 0x9b9f, 0xf02a, 0x3e28, 0x0, 0x0);
        gbc.writeMem(0xea48, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x2de9);
        EXPECT(gbc.pc(), 0xea4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea48), 0xcb);
        EXPECT(gbc.readMem(0xea49), 0x6c);
        // CB 6C 03C4
        gbc.setState(0x2da1, 0x60c3, 0xdf0, 0x9cb9, 0xe5a6, 0x38e, 0x0, 0x1);
        gbc.writeMem(0x2da1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x60c3);
        EXPECT(gbc.pc(), 0x2da3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03C5
        gbc.setState(0x5e2b, 0xbf4d, 0x4a00, 0x530, 0x9703, 0x97ce, 0x0, 0x1);
        gbc.writeMem(0x5e2b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xbf4d);
        EXPECT(gbc.pc(), 0x5e2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03C6
        gbc.setState(0x95fc, 0x3d7, 0x47d0, 0xf17f, 0x9a66, 0x83b5, 0x1, 0x1);
        gbc.writeMem(0x95fc, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x3d7);
        EXPECT(gbc.pc(), 0x95fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95fc), 0xcb);
        EXPECT(gbc.readMem(0x95fd), 0x6c);
        // CB 6C 03C7
        gbc.setState(0xa6ff, 0xd109, 0x7ca0, 0x7a8a, 0x6e55, 0x1655, 0x1, 0x1);
        gbc.writeMem(0xa6ff, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xd109);
        EXPECT(gbc.pc(), 0xa701);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6ff), 0xcb);
        EXPECT(gbc.readMem(0xa700), 0x6c);
        // CB 6C 03C8
        gbc.setState(0xc0c2, 0xcc07, 0x6cd0, 0xcab2, 0x4e02, 0xc01b, 0x1, 0x0);
        gbc.writeMem(0xc0c2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xcc07);
        EXPECT(gbc.pc(), 0xc0c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0c2), 0xcb);
        EXPECT(gbc.readMem(0xc0c3), 0x6c);
        // CB 6C 03C9
        gbc.setState(0x71d3, 0xa357, 0x71e0, 0x6dea, 0xb48, 0xfd59, 0x1, 0x0);
        gbc.writeMem(0x71d3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xa357);
        EXPECT(gbc.pc(), 0x71d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03CA
        gbc.setState(0x3b75, 0xaaa2, 0xc0, 0xc724, 0x7101, 0xe6d, 0x0, 0x1);
        gbc.writeMem(0x3b75, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xaaa2);
        EXPECT(gbc.pc(), 0x3b77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03CC
        gbc.setState(0xe3a3, 0xa96a, 0x4120, 0x34ab, 0xbab8, 0xb846, 0x1, 0x1);
        gbc.writeMem(0xe3a3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xa96a);
        EXPECT(gbc.pc(), 0xe3a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3a3), 0xcb);
        EXPECT(gbc.readMem(0xe3a4), 0x6c);
        // CB 6C 03CD
        gbc.setState(0x88da, 0xb082, 0xd2b0, 0xd239, 0x596e, 0x2f16, 0x0, 0x0);
        gbc.writeMem(0x88da, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xb082);
        EXPECT(gbc.pc(), 0x88dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88da), 0xcb);
        EXPECT(gbc.readMem(0x88db), 0x6c);
        // CB 6C 03CE
        gbc.setState(0x209b, 0x9d89, 0x7220, 0x2eb0, 0x9886, 0x5248, 0x0, 0x0);
        gbc.writeMem(0x209b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x9d89);
        EXPECT(gbc.pc(), 0x209d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03CF
        gbc.setState(0x16c2, 0xb11a, 0x2b30, 0x5908, 0x472f, 0x2fae, 0x0, 0x0);
        gbc.writeMem(0x16c2, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xb11a);
        EXPECT(gbc.pc(), 0x16c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03D0
        gbc.setState(0xa249, 0x4dd3, 0xf4f0, 0x1a30, 0x5f70, 0xcf88, 0x1, 0x0);
        gbc.writeMem(0xa249, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x4dd3);
        EXPECT(gbc.pc(), 0xa24b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa249), 0xcb);
        EXPECT(gbc.readMem(0xa24a), 0x6c);
        // CB 6C 03D1
        gbc.setState(0xeb3, 0x6858, 0xb490, 0x9e7, 0xf399, 0xc601, 0x1, 0x1);
        gbc.writeMem(0xeb3, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x6858);
        EXPECT(gbc.pc(), 0xeb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03D2
        gbc.setState(0x2e6a, 0x4875, 0x4d50, 0x7723, 0xf9af, 0xbb36, 0x0, 0x1);
        gbc.writeMem(0x2e6a, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x4875);
        EXPECT(gbc.pc(), 0x2e6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03D3
        gbc.setState(0xb622, 0xd22a, 0x940, 0x1d26, 0x6c01, 0x30c4, 0x1, 0x1);
        gbc.writeMem(0xb622, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xd22a);
        EXPECT(gbc.pc(), 0xb624);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb622), 0xcb);
        EXPECT(gbc.readMem(0xb623), 0x6c);
        // CB 6C 03D4
        gbc.setState(0x29c5, 0x7c43, 0x4030, 0x6d9a, 0x24b2, 0x5758, 0x0, 0x0);
        gbc.writeMem(0x29c5, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x7c43);
        EXPECT(gbc.pc(), 0x29c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03D5
        gbc.setState(0x56b6, 0x93cc, 0x16e0, 0xc03f, 0x243b, 0x34a4, 0x1, 0x0);
        gbc.writeMem(0x56b6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x93cc);
        EXPECT(gbc.pc(), 0x56b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03D6
        gbc.setState(0xb1ba, 0xaa4e, 0x6db0, 0x763f, 0x477b, 0x5828, 0x0, 0x0);
        gbc.writeMem(0xb1ba, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xaa4e);
        EXPECT(gbc.pc(), 0xb1bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1ba), 0xcb);
        EXPECT(gbc.readMem(0xb1bb), 0x6c);
        // CB 6C 03D7
        gbc.setState(0x6592, 0xf67a, 0x6fc0, 0xc4e1, 0xd98b, 0x6bd2, 0x1, 0x1);
        gbc.writeMem(0x6592, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xf67a);
        EXPECT(gbc.pc(), 0x6594);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03D8
        gbc.setState(0x8263, 0xa047, 0x6830, 0x7640, 0x69e1, 0x3426, 0x1, 0x0);
        gbc.writeMem(0x8263, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xa047);
        EXPECT(gbc.pc(), 0x8265);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8263), 0xcb);
        EXPECT(gbc.readMem(0x8264), 0x6c);
        // CB 6C 03D9
        gbc.setState(0xa0b1, 0xae47, 0x1960, 0xd473, 0xa645, 0xd7be, 0x0, 0x1);
        gbc.writeMem(0xa0b1, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xae47);
        EXPECT(gbc.pc(), 0xa0b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0b1), 0xcb);
        EXPECT(gbc.readMem(0xa0b2), 0x6c);
        // CB 6C 03DB
        gbc.setState(0x15b6, 0x51e3, 0x9090, 0x28c5, 0x1399, 0x9c63, 0x0, 0x1);
        gbc.writeMem(0x15b6, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x51e3);
        EXPECT(gbc.pc(), 0x15b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03DC
        gbc.setState(0x51a9, 0xe9df, 0xc360, 0xaaeb, 0x7bc, 0x2bfe, 0x0, 0x1);
        gbc.writeMem(0x51a9, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe9df);
        EXPECT(gbc.pc(), 0x51ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03DD
        gbc.setState(0x5a7f, 0xd3a, 0x65b0, 0x628a, 0xe9ff, 0x11d5, 0x0, 0x0);
        gbc.writeMem(0x5a7f, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xd3a);
        EXPECT(gbc.pc(), 0x5a81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03DE
        gbc.setState(0x645b, 0x457c, 0xc90, 0xb3a1, 0x171a, 0xbc43, 0x0, 0x1);
        gbc.writeMem(0x645b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x457c);
        EXPECT(gbc.pc(), 0x645d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03DF
        gbc.setState(0x831b, 0x49a9, 0xf730, 0x8f29, 0x66eb, 0x431e, 0x1, 0x0);
        gbc.writeMem(0x831b, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x49a9);
        EXPECT(gbc.pc(), 0x831d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x831b), 0xcb);
        EXPECT(gbc.readMem(0x831c), 0x6c);
        // CB 6C 03E0
        gbc.setState(0x4763, 0x71e5, 0xdf50, 0x1e53, 0xd177, 0xbae3, 0x0, 0x0);
        gbc.writeMem(0x4763, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x71e5);
        EXPECT(gbc.pc(), 0x4765);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 6C 03E1
        gbc.setState(0x80, 0xd8b8, 0x1580, 0x221f, 0xeb97, 0x6ee6, 0x0, 0x0);
        gbc.writeMem(0x80, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xd8b8);
        EXPECT(gbc.pc(), 0x82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03E2
        gbc.setState(0x1d, 0xff57, 0xcd00, 0xd9fa, 0xe1e4, 0x98ba, 0x0, 0x0);
        gbc.writeMem(0x1d, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xff57);
        EXPECT(gbc.pc(), 0x1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03E3
        gbc.setState(0x55ae, 0x45b, 0x560, 0x6a61, 0xf750, 0xe2e8, 0x0, 0x0);
        gbc.writeMem(0x55ae, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x45b);
        EXPECT(gbc.pc(), 0x55b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03E4
        gbc.setState(0x9290, 0x5b1d, 0xfdd0, 0x893c, 0xd76, 0xfa39, 0x1, 0x1);
        gbc.writeMem(0x9290, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x5b1d);
        EXPECT(gbc.pc(), 0x9292);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9290), 0xcb);
        EXPECT(gbc.readMem(0x9291), 0x6c);
        // CB 6C 03E5
        gbc.setState(0x5325, 0x508a, 0x5320, 0xec2c, 0x8639, 0x1820, 0x1, 0x0);
        gbc.writeMem(0x5325, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x508a);
        EXPECT(gbc.pc(), 0x5327);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 6C 03E6
        gbc.setState(0xc429, 0x75ef, 0xe120, 0xea62, 0x7dd2, 0x614b, 0x1, 0x1);
        gbc.writeMem(0xc429, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x75ef);
        EXPECT(gbc.pc(), 0xc42b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc429), 0xcb);
        EXPECT(gbc.readMem(0xc42a), 0x6c);
        // CB 6C 03E7
        gbc.setState(0x3d47, 0xde03, 0x7ac0, 0x6c33, 0x146b, 0xc500, 0x0, 0x1);
        gbc.writeMem(0x3d47, { 0xcb, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xde03);
        EXPECT(gbc.pc(), 0x3d49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
    }
