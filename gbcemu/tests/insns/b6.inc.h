    TEST(gbcemu, opcode_b6) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // B6 0000
        gbc.setState(0x1a2c, 0xae0, 0x8e30, 0x8d2e, 0x5ff7, 0x8dc6, 0x0, 0x0);
        gbc.writeMem(0x1a2c, { 0xb6 });
        gbc.writeMem(0x8dc6, { 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xae0);
        EXPECT(gbc.pc(), 0x1a2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dc6), 0xa1);
        // B6 0001
        gbc.setState(0x7460, 0xf658, 0xbe90, 0x8c43, 0x40a4, 0x1766, 0x1, 0x0);
        gbc.writeMem(0x1766, { 0x18 });
        gbc.writeMem(0x7460, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xf658);
        EXPECT(gbc.pc(), 0x7461);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0002
        gbc.setState(0x609c, 0xfbb5, 0xd2b0, 0xbfd3, 0x5679, 0x35bd, 0x0, 0x0);
        gbc.writeMem(0x35bd, { 0x3e });
        gbc.writeMem(0x609c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xfbb5);
        EXPECT(gbc.pc(), 0x609d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0003
        gbc.setState(0xb7a9, 0xbfa1, 0x80c0, 0x3b67, 0xd384, 0x9943, 0x1, 0x0);
        gbc.writeMem(0x9943, { 0xb7 });
        gbc.writeMem(0xb7a9, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xbfa1);
        EXPECT(gbc.pc(), 0xb7aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9943), 0xb7);
        EXPECT(gbc.readMem(0xb7a9), 0xb6);
        // B6 0004
        gbc.setState(0x9d3b, 0x581b, 0xd9d0, 0x161c, 0xc392, 0xceca, 0x0, 0x1);
        gbc.writeMem(0x9d3b, { 0xb6 });
        gbc.writeMem(0xceca, { 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x581b);
        EXPECT(gbc.pc(), 0x9d3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d3b), 0xb6);
        EXPECT(gbc.readMem(0xceca), 0x35);
        // B6 0005
        gbc.setState(0x45b3, 0xa9ef, 0x88c0, 0x766e, 0x7e4, 0xe931, 0x0, 0x0);
        gbc.writeMem(0x45b3, { 0xb6 });
        gbc.writeMem(0xe931, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xa9ef);
        EXPECT(gbc.pc(), 0x45b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe931), 0xc5);
        // B6 0006
        gbc.setState(0xefe2, 0x8547, 0xb3c0, 0xd6d2, 0x88b2, 0xc540, 0x1, 0x0);
        gbc.writeMem(0xc540, { 0x98 });
        gbc.writeMem(0xefe2, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x8547);
        EXPECT(gbc.pc(), 0xefe3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc540), 0x98);
        EXPECT(gbc.readMem(0xefe2), 0xb6);
        // B6 0007
        gbc.setState(0xb35, 0x114f, 0x8310, 0xd2a2, 0xb218, 0x13e1, 0x1, 0x0);
        gbc.writeMem(0xb35, { 0xb6 });
        gbc.writeMem(0x13e1, { 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x114f);
        EXPECT(gbc.pc(), 0xb36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0008
        gbc.setState(0x6ad2, 0xd581, 0xec20, 0x21b0, 0xdc14, 0x5097, 0x1, 0x1);
        gbc.writeMem(0x5097, { 0x94 });
        gbc.writeMem(0x6ad2, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xd581);
        EXPECT(gbc.pc(), 0x6ad3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0009
        gbc.setState(0x527e, 0xc5c6, 0x5ec0, 0x24e7, 0x2884, 0xe25e, 0x0, 0x1);
        gbc.writeMem(0x527e, { 0xb6 });
        gbc.writeMem(0xe25e, { 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xc5c6);
        EXPECT(gbc.pc(), 0x527f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe25e), 0x70);
        // B6 000A
        gbc.setState(0x192e, 0x1d5f, 0xa120, 0xb437, 0x2bcb, 0x80c4, 0x1, 0x0);
        gbc.writeMem(0x192e, { 0xb6 });
        gbc.writeMem(0x80c4, { 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x1d5f);
        EXPECT(gbc.pc(), 0x192f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80c4), 0xa9);
        // B6 000B
        gbc.setState(0x9e36, 0xbef0, 0x81e0, 0x81c5, 0x5e51, 0xf655, 0x1, 0x0);
        gbc.writeMem(0x9e36, { 0xb6 });
        gbc.writeMem(0xf655, { 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xbef0);
        EXPECT(gbc.pc(), 0x9e37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e36), 0xb6);
        EXPECT(gbc.readMem(0xf655), 0x73);
        // B6 000C
        gbc.setState(0x86cf, 0x53a5, 0x5f90, 0xed1a, 0x5839, 0xaf89, 0x0, 0x0);
        gbc.writeMem(0x86cf, { 0xb6 });
        gbc.writeMem(0xaf89, { 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x53a5);
        EXPECT(gbc.pc(), 0x86d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86cf), 0xb6);
        EXPECT(gbc.readMem(0xaf89), 0x6b);
        // B6 000D
        gbc.setState(0x7fd5, 0x1092, 0x6b90, 0x8810, 0xcbc, 0x1b06, 0x0, 0x1);
        gbc.writeMem(0x1b06, { 0xb4 });
        gbc.writeMem(0x7fd5, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x1092);
        EXPECT(gbc.pc(), 0x7fd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 000E
        gbc.setState(0x88a5, 0x7b05, 0xaf30, 0x12f5, 0xe02e, 0xbdf9, 0x0, 0x0);
        gbc.writeMem(0x88a5, { 0xb6 });
        gbc.writeMem(0xbdf9, { 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x7b05);
        EXPECT(gbc.pc(), 0x88a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88a5), 0xb6);
        EXPECT(gbc.readMem(0xbdf9), 0xb);
        // B6 000F
        gbc.setState(0x65a5, 0x1e8, 0x9c0, 0x8f9c, 0xd24, 0xd59b, 0x0, 0x1);
        gbc.writeMem(0x65a5, { 0xb6 });
        gbc.writeMem(0xd59b, { 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x1e8);
        EXPECT(gbc.pc(), 0x65a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd59b), 0x2);
        // B6 0010
        gbc.setState(0xe990, 0x6b4d, 0xae30, 0x5609, 0xccf0, 0x4abe, 0x0, 0x1);
        gbc.writeMem(0x4abe, { 0x9b });
        gbc.writeMem(0xe990, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x6b4d);
        EXPECT(gbc.pc(), 0xe991);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe990), 0xb6);
        // B6 0011
        gbc.setState(0xc2f6, 0x7d78, 0x4940, 0x3114, 0xfac0, 0x5fe2, 0x0, 0x1);
        gbc.writeMem(0x5fe2, { 0xfa });
        gbc.writeMem(0xc2f6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x7d78);
        EXPECT(gbc.pc(), 0xc2f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2f6), 0xb6);
        // B6 0013
        gbc.setState(0x4b3e, 0x4071, 0x5620, 0xb3c3, 0xf5a, 0xf19b, 0x0, 0x1);
        gbc.writeMem(0x4b3e, { 0xb6 });
        gbc.writeMem(0xf19b, { 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x4071);
        EXPECT(gbc.pc(), 0x4b3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf19b), 0x5a);
        // B6 0014
        gbc.setState(0x43d8, 0x17c7, 0x56c0, 0xb10d, 0xe358, 0xf603, 0x1, 0x1);
        gbc.writeMem(0x43d8, { 0xb6 });
        gbc.writeMem(0xf603, { 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x17c7);
        EXPECT(gbc.pc(), 0x43d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf603), 0x91);
        // B6 0015
        gbc.setState(0xd40, 0x98f5, 0xda60, 0x7a48, 0xb777, 0xec33, 0x0, 0x1);
        gbc.writeMem(0xd40, { 0xb6 });
        gbc.writeMem(0xec33, { 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x98f5);
        EXPECT(gbc.pc(), 0xd41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec33), 0xbf);
        // B6 0016
        gbc.setState(0xc574, 0xf23f, 0x13c0, 0xf2c5, 0xe5d5, 0x21d7, 0x0, 0x0);
        gbc.writeMem(0x21d7, { 0xf1 });
        gbc.writeMem(0xc574, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xf23f);
        EXPECT(gbc.pc(), 0xc575);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc574), 0xb6);
        // B6 0017
        gbc.setState(0x3f62, 0x3879, 0x1da0, 0x6238, 0x4a04, 0xff3d, 0x1, 0x0);
        gbc.writeMem(0x3f62, { 0xb6 });
        gbc.writeMem(0xff3d, { 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x3879);
        EXPECT(gbc.pc(), 0x3f63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xff3d), 0xcb);
        // B6 0018
        gbc.setState(0xa0eb, 0x9546, 0x7da0, 0xe439, 0x2cd9, 0xa434, 0x1, 0x1);
        gbc.writeMem(0xa0eb, { 0xb6 });
        gbc.writeMem(0xa434, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x9546);
        EXPECT(gbc.pc(), 0xa0ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0eb), 0xb6);
        EXPECT(gbc.readMem(0xa434), 0x9c);
        // B6 0019
        gbc.setState(0x56fa, 0xeee5, 0x89b0, 0x38d4, 0x97b9, 0x1268, 0x1, 0x1);
        gbc.writeMem(0x1268, { 0x90 });
        gbc.writeMem(0x56fa, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xeee5);
        EXPECT(gbc.pc(), 0x56fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 001A
        gbc.setState(0x562c, 0x3c62, 0x2220, 0x134e, 0x614, 0x8f9c, 0x1, 0x1);
        gbc.writeMem(0x562c, { 0xb6 });
        gbc.writeMem(0x8f9c, { 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x3c62);
        EXPECT(gbc.pc(), 0x562d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f9c), 0x51);
        // B6 001B
        gbc.setState(0xebc7, 0x2d28, 0x73e0, 0x2c29, 0x18dd, 0xc101, 0x1, 0x0);
        gbc.writeMem(0xc101, { 0x79 });
        gbc.writeMem(0xebc7, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x2d28);
        EXPECT(gbc.pc(), 0xebc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc101), 0x79);
        EXPECT(gbc.readMem(0xebc7), 0xb6);
        // B6 001C
        gbc.setState(0xd246, 0xac73, 0x290, 0x515d, 0x2811, 0x4299, 0x1, 0x1);
        gbc.writeMem(0x4299, { 0x50 });
        gbc.writeMem(0xd246, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xac73);
        EXPECT(gbc.pc(), 0xd247);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd246), 0xb6);
        // B6 001D
        gbc.setState(0x723c, 0xe3c3, 0x9330, 0xe943, 0x79b0, 0xab96, 0x0, 0x1);
        gbc.writeMem(0x723c, { 0xb6 });
        gbc.writeMem(0xab96, { 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xe3c3);
        EXPECT(gbc.pc(), 0x723d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab96), 0x8e);
        // B6 001E
        gbc.setState(0xc49b, 0x6574, 0x7470, 0x45e9, 0xbb85, 0xacf8, 0x1, 0x0);
        gbc.writeMem(0xacf8, { 0x45 });
        gbc.writeMem(0xc49b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x6574);
        EXPECT(gbc.pc(), 0xc49c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacf8), 0x45);
        EXPECT(gbc.readMem(0xc49b), 0xb6);
        // B6 001F
        gbc.setState(0x28d6, 0x63d0, 0x9d90, 0xa9fb, 0xb883, 0x3d6, 0x0, 0x1);
        gbc.writeMem(0x3d6, { 0xae });
        gbc.writeMem(0x28d6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x63d0);
        EXPECT(gbc.pc(), 0x28d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0020
        gbc.setState(0x306, 0xdd65, 0x2a10, 0x2bd0, 0xd88a, 0xfad3, 0x1, 0x1);
        gbc.writeMem(0x306, { 0xb6 });
        gbc.writeMem(0xfad3, { 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xdd65);
        EXPECT(gbc.pc(), 0x307);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfad3), 0x8b);
        // B6 0021
        gbc.setState(0xe9b2, 0xbded, 0x4b50, 0x40d9, 0x938, 0xce04, 0x1, 0x1);
        gbc.writeMem(0xce04, { 0xbb });
        gbc.writeMem(0xe9b2, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xbded);
        EXPECT(gbc.pc(), 0xe9b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce04), 0xbb);
        EXPECT(gbc.readMem(0xe9b2), 0xb6);
        // B6 0022
        gbc.setState(0x8707, 0xcf86, 0x3b50, 0x9c53, 0x4993, 0xae8, 0x0, 0x1);
        gbc.writeMem(0xae8, { 0xdb });
        gbc.writeMem(0x8707, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xcf86);
        EXPECT(gbc.pc(), 0x8708);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8707), 0xb6);
        // B6 0023
        gbc.setState(0x6610, 0xb349, 0xb2d0, 0xe9e7, 0xc6f, 0x92fd, 0x0, 0x1);
        gbc.writeMem(0x6610, { 0xb6 });
        gbc.writeMem(0x92fd, { 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xb349);
        EXPECT(gbc.pc(), 0x6611);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92fd), 0x20);
        // B6 0025
        gbc.setState(0x42da, 0x642c, 0x47a0, 0x8fa8, 0x3f7c, 0xa08e, 0x1, 0x1);
        gbc.writeMem(0x42da, { 0xb6 });
        gbc.writeMem(0xa08e, { 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x642c);
        EXPECT(gbc.pc(), 0x42db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa08e), 0x8e);
        // B6 0026
        gbc.setState(0x5fd5, 0x4033, 0x7d80, 0x90ee, 0xe894, 0x8601, 0x1, 0x1);
        gbc.writeMem(0x5fd5, { 0xb6 });
        gbc.writeMem(0x8601, { 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x4033);
        EXPECT(gbc.pc(), 0x5fd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8601), 0x7f);
        // B6 0027
        gbc.setState(0x1565, 0x1913, 0x7480, 0x7cd2, 0xbeaa, 0x941e, 0x0, 0x0);
        gbc.writeMem(0x1565, { 0xb6 });
        gbc.writeMem(0x941e, { 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x1913);
        EXPECT(gbc.pc(), 0x1566);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x941e), 0x39);
        // B6 0028
        gbc.setState(0x20ce, 0x4112, 0xb9a0, 0xe5db, 0xdd40, 0x282a, 0x1, 0x1);
        gbc.writeMem(0x20ce, { 0xb6 });
        gbc.writeMem(0x282a, { 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x4112);
        EXPECT(gbc.pc(), 0x20cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0029
        gbc.setState(0x53c2, 0x5360, 0xd380, 0xc968, 0xab06, 0x375b, 0x1, 0x0);
        gbc.writeMem(0x375b, { 0x35 });
        gbc.writeMem(0x53c2, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x5360);
        EXPECT(gbc.pc(), 0x53c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 002A
        gbc.setState(0x6df0, 0xf12, 0x2f30, 0x3f76, 0xdedf, 0xadf5, 0x0, 0x0);
        gbc.writeMem(0x6df0, { 0xb6 });
        gbc.writeMem(0xadf5, { 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xf12);
        EXPECT(gbc.pc(), 0x6df1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadf5), 0xe3);
        // B6 002B
        gbc.setState(0xee0c, 0xac40, 0xbae0, 0x70e4, 0xd345, 0x8ed8, 0x1, 0x1);
        gbc.writeMem(0x8ed8, { 0xf });
        gbc.writeMem(0xee0c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xac40);
        EXPECT(gbc.pc(), 0xee0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ed8), 0xf);
        EXPECT(gbc.readMem(0xee0c), 0xb6);
        // B6 002D
        gbc.setState(0xe396, 0x3205, 0x16f0, 0xf3ff, 0x1bf6, 0x96a2, 0x1, 0x0);
        gbc.writeMem(0x96a2, { 0x9f });
        gbc.writeMem(0xe396, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x3205);
        EXPECT(gbc.pc(), 0xe397);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96a2), 0x9f);
        EXPECT(gbc.readMem(0xe396), 0xb6);
        // B6 002E
        gbc.setState(0xe35e, 0x6d5b, 0xf6e0, 0x112b, 0xffc, 0xfa8e, 0x1, 0x0);
        gbc.writeMem(0xe35e, { 0xb6 });
        gbc.writeMem(0xfa8e, { 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x6d5b);
        EXPECT(gbc.pc(), 0xe35f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe35e), 0xb6);
        EXPECT(gbc.readMem(0xfa8e), 0xb8);
        // B6 002F
        gbc.setState(0x2bf, 0x1b81, 0x5ba0, 0xbcdb, 0x3769, 0x53ac, 0x0, 0x1);
        gbc.writeMem(0x2bf, { 0xb6 });
        gbc.writeMem(0x53ac, { 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x1b81);
        EXPECT(gbc.pc(), 0x2c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0030
        gbc.setState(0xc09a, 0x5772, 0x7ee0, 0xd5ff, 0xcca5, 0x9f96, 0x1, 0x1);
        gbc.writeMem(0x9f96, { 0x13 });
        gbc.writeMem(0xc09a, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x5772);
        EXPECT(gbc.pc(), 0xc09b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f96), 0x13);
        EXPECT(gbc.readMem(0xc09a), 0xb6);
        // B6 0032
        gbc.setState(0x13b3, 0xac61, 0x78e0, 0x3f6a, 0x5124, 0x4375, 0x1, 0x0);
        gbc.writeMem(0x13b3, { 0xb6 });
        gbc.writeMem(0x4375, { 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xac61);
        EXPECT(gbc.pc(), 0x13b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0033
        gbc.setState(0x108d, 0xe339, 0xc9f0, 0x81dc, 0x21a2, 0xeb89, 0x1, 0x1);
        gbc.writeMem(0x108d, { 0xb6 });
        gbc.writeMem(0xeb89, { 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xe339);
        EXPECT(gbc.pc(), 0x108e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb89), 0xf2);
        // B6 0034
        gbc.setState(0x1fca, 0x56fc, 0xccd0, 0xdb80, 0x6e4b, 0xe58f, 0x0, 0x1);
        gbc.writeMem(0x1fca, { 0xb6 });
        gbc.writeMem(0xe58f, { 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x56fc);
        EXPECT(gbc.pc(), 0x1fcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe58f), 0x38);
        // B6 0035
        gbc.setState(0x131d, 0x51da, 0x3580, 0x8f51, 0x576, 0x4d72, 0x0, 0x1);
        gbc.writeMem(0x131d, { 0xb6 });
        gbc.writeMem(0x4d72, { 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x51da);
        EXPECT(gbc.pc(), 0x131e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0036
        gbc.setState(0x4421, 0x1ae8, 0xfeb0, 0xf79d, 0x1ef0, 0x5442, 0x0, 0x1);
        gbc.writeMem(0x4421, { 0xb6 });
        gbc.writeMem(0x5442, { 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x1ae8);
        EXPECT(gbc.pc(), 0x4422);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0037
        gbc.setState(0x23cc, 0x7a1f, 0x8380, 0xb6f6, 0xccf8, 0x5f20, 0x0, 0x1);
        gbc.writeMem(0x23cc, { 0xb6 });
        gbc.writeMem(0x5f20, { 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x7a1f);
        EXPECT(gbc.pc(), 0x23cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0038
        gbc.setState(0x38c5, 0x414, 0x8410, 0xcc68, 0x707e, 0x2b6c, 0x0, 0x0);
        gbc.writeMem(0x2b6c, { 0x1f });
        gbc.writeMem(0x38c5, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x414);
        EXPECT(gbc.pc(), 0x38c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0039
        gbc.setState(0x3700, 0x2c5c, 0xc9f0, 0x8ba2, 0x616e, 0x7d37, 0x0, 0x0);
        gbc.writeMem(0x3700, { 0xb6 });
        gbc.writeMem(0x7d37, { 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x2c5c);
        EXPECT(gbc.pc(), 0x3701);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 003A
        gbc.setState(0x10dd, 0xd80, 0x3210, 0xb3eb, 0x399, 0xf9f0, 0x0, 0x0);
        gbc.writeMem(0x10dd, { 0xb6 });
        gbc.writeMem(0xf9f0, { 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xd80);
        EXPECT(gbc.pc(), 0x10de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf9f0), 0x6d);
        // B6 003B
        gbc.setState(0x151f, 0x62b5, 0xfd80, 0xab44, 0x6b8c, 0x1a80, 0x1, 0x0);
        gbc.writeMem(0x151f, { 0xb6 });
        gbc.writeMem(0x1a80, { 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x62b5);
        EXPECT(gbc.pc(), 0x1520);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 003C
        gbc.setState(0x8131, 0xc27e, 0xe020, 0x89c, 0x696d, 0xcace, 0x1, 0x0);
        gbc.writeMem(0x8131, { 0xb6 });
        gbc.writeMem(0xcace, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xc27e);
        EXPECT(gbc.pc(), 0x8132);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8131), 0xb6);
        EXPECT(gbc.readMem(0xcace), 0x48);
        // B6 003D
        gbc.setState(0x4636, 0x6e7c, 0x30f0, 0xdf1e, 0xe6df, 0x416f, 0x1, 0x0);
        gbc.writeMem(0x416f, { 0xbd });
        gbc.writeMem(0x4636, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x6e7c);
        EXPECT(gbc.pc(), 0x4637);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 003E
        gbc.setState(0x9228, 0xcfe2, 0x4c60, 0xcd61, 0xe438, 0x340f, 0x0, 0x0);
        gbc.writeMem(0x340f, { 0xc0 });
        gbc.writeMem(0x9228, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xcfe2);
        EXPECT(gbc.pc(), 0x9229);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9228), 0xb6);
        // B6 003F
        gbc.setState(0x672d, 0xcf55, 0x5540, 0x29de, 0xc9b7, 0xe231, 0x1, 0x0);
        gbc.writeMem(0x672d, { 0xb6 });
        gbc.writeMem(0xe231, { 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xcf55);
        EXPECT(gbc.pc(), 0x672e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe231), 0xbe);
        // B6 0040
        gbc.setState(0x3c4, 0xd4f8, 0x7a10, 0xa93e, 0x7260, 0x2b00, 0x1, 0x0);
        gbc.writeMem(0x3c4, { 0xb6 });
        gbc.writeMem(0x2b00, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xd4f8);
        EXPECT(gbc.pc(), 0x3c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0041
        gbc.setState(0xaf71, 0x978, 0xe200, 0x179f, 0xe30d, 0xce09, 0x1, 0x1);
        gbc.writeMem(0xaf71, { 0xb6 });
        gbc.writeMem(0xce09, { 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x978);
        EXPECT(gbc.pc(), 0xaf72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf71), 0xb6);
        EXPECT(gbc.readMem(0xce09), 0x85);
        // B6 0042
        gbc.setState(0xaca4, 0x6809, 0x6410, 0x69fb, 0x28bf, 0x8155, 0x1, 0x1);
        gbc.writeMem(0x8155, { 0x67 });
        gbc.writeMem(0xaca4, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x6809);
        EXPECT(gbc.pc(), 0xaca5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8155), 0x67);
        EXPECT(gbc.readMem(0xaca4), 0xb6);
        // B6 0043
        gbc.setState(0x4e45, 0x770a, 0xeb30, 0x991b, 0x4d0b, 0x8012, 0x1, 0x0);
        gbc.writeMem(0x4e45, { 0xb6 });
        gbc.writeMem(0x8012, { 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x770a);
        EXPECT(gbc.pc(), 0x4e46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8012), 0x38);
        // B6 0044
        gbc.setState(0x804f, 0xa703, 0x8870, 0x5deb, 0x5d, 0x87bf, 0x0, 0x1);
        gbc.writeMem(0x804f, { 0xb6 });
        gbc.writeMem(0x87bf, { 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xa703);
        EXPECT(gbc.pc(), 0x8050);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x804f), 0xb6);
        EXPECT(gbc.readMem(0x87bf), 0x46);
        // B6 0045
        gbc.setState(0x998c, 0xa977, 0x72b0, 0x4b66, 0x19d3, 0x7e5a, 0x0, 0x0);
        gbc.writeMem(0x7e5a, { 0x4d });
        gbc.writeMem(0x998c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xa977);
        EXPECT(gbc.pc(), 0x998d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x998c), 0xb6);
        // B6 0046
        gbc.setState(0x8d23, 0x6ea8, 0x9810, 0xf239, 0x16cf, 0x8c5e, 0x1, 0x1);
        gbc.writeMem(0x8c5e, { 0x72 });
        gbc.writeMem(0x8d23, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x6ea8);
        EXPECT(gbc.pc(), 0x8d24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c5e), 0x72);
        EXPECT(gbc.readMem(0x8d23), 0xb6);
        // B6 0047
        gbc.setState(0x540f, 0x6d6f, 0xbe40, 0xfe75, 0xc839, 0xa251, 0x0, 0x0);
        gbc.writeMem(0x540f, { 0xb6 });
        gbc.writeMem(0xa251, { 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x6d6f);
        EXPECT(gbc.pc(), 0x5410);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa251), 0xf7);
        // B6 0048
        gbc.setState(0x26e1, 0x2eee, 0x3500, 0x2e41, 0x81d, 0x1452, 0x0, 0x0);
        gbc.writeMem(0x1452, { 0xb9 });
        gbc.writeMem(0x26e1, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x2eee);
        EXPECT(gbc.pc(), 0x26e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 004A
        gbc.setState(0x5c2f, 0x7350, 0x2640, 0x2676, 0x1286, 0xa3be, 0x1, 0x1);
        gbc.writeMem(0x5c2f, { 0xb6 });
        gbc.writeMem(0xa3be, { 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x7350);
        EXPECT(gbc.pc(), 0x5c30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3be), 0xe9);
        // B6 004B
        gbc.setState(0x7659, 0x12aa, 0xf920, 0xc507, 0x8222, 0xb075, 0x0, 0x1);
        gbc.writeMem(0x7659, { 0xb6 });
        gbc.writeMem(0xb075, { 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x12aa);
        EXPECT(gbc.pc(), 0x765a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb075), 0xd2);
        // B6 004C
        gbc.setState(0xe244, 0x3363, 0xd5a0, 0xc097, 0xf2b2, 0xc68e, 0x0, 0x1);
        gbc.writeMem(0xc68e, { 0x13 });
        gbc.writeMem(0xe244, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x3363);
        EXPECT(gbc.pc(), 0xe245);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc68e), 0x13);
        EXPECT(gbc.readMem(0xe244), 0xb6);
        // B6 004D
        gbc.setState(0x16c8, 0x4ce5, 0x5a10, 0xd223, 0xc141, 0x89ce, 0x1, 0x1);
        gbc.writeMem(0x16c8, { 0xb6 });
        gbc.writeMem(0x89ce, { 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x4ce5);
        EXPECT(gbc.pc(), 0x16c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89ce), 0xc7);
        // B6 004E
        gbc.setState(0xdf32, 0x89b2, 0x2200, 0x1ef8, 0xb59c, 0x2e95, 0x1, 0x1);
        gbc.writeMem(0x2e95, { 0xbd });
        gbc.writeMem(0xdf32, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x89b2);
        EXPECT(gbc.pc(), 0xdf33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf32), 0xb6);
        // B6 004F
        gbc.setState(0x6627, 0x2f45, 0x1bc0, 0xef, 0x97d8, 0x94, 0x0, 0x0);
        gbc.writeMem(0x94, { 0xe7 });
        gbc.writeMem(0x6627, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x2f45);
        EXPECT(gbc.pc(), 0x6628);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0050
        gbc.setState(0x670, 0x3b65, 0xcf20, 0x8654, 0x3b7c, 0x1074, 0x1, 0x1);
        gbc.writeMem(0x670, { 0xb6 });
        gbc.writeMem(0x1074, { 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x3b65);
        EXPECT(gbc.pc(), 0x671);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0052
        gbc.setState(0x5a7e, 0x288b, 0x7420, 0xcbd4, 0x25d8, 0x1e39, 0x0, 0x0);
        gbc.writeMem(0x1e39, { 0xd4 });
        gbc.writeMem(0x5a7e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x288b);
        EXPECT(gbc.pc(), 0x5a7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0053
        gbc.setState(0x8aa3, 0xb52c, 0x6540, 0xac48, 0xd158, 0x9f5d, 0x0, 0x0);
        gbc.writeMem(0x8aa3, { 0xb6 });
        gbc.writeMem(0x9f5d, { 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xb52c);
        EXPECT(gbc.pc(), 0x8aa4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8aa3), 0xb6);
        EXPECT(gbc.readMem(0x9f5d), 0x30);
        // B6 0054
        gbc.setState(0x73eb, 0xda36, 0xc520, 0xb094, 0x73b8, 0x6265, 0x1, 0x0);
        gbc.writeMem(0x6265, { 0xe8 });
        gbc.writeMem(0x73eb, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xda36);
        EXPECT(gbc.pc(), 0x73ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0055
        gbc.setState(0xd067, 0xd9a2, 0x990, 0xfc0b, 0x99c5, 0xa69d, 0x1, 0x1);
        gbc.writeMem(0xa69d, { 0x51 });
        gbc.writeMem(0xd067, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xd9a2);
        EXPECT(gbc.pc(), 0xd068);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa69d), 0x51);
        EXPECT(gbc.readMem(0xd067), 0xb6);
        // B6 0056
        gbc.setState(0x62cf, 0x921b, 0x7a50, 0x458c, 0xe30, 0x92db, 0x0, 0x1);
        gbc.writeMem(0x62cf, { 0xb6 });
        gbc.writeMem(0x92db, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x921b);
        EXPECT(gbc.pc(), 0x62d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92db), 0x48);
        // B6 0057
        gbc.setState(0x413b, 0x9dbf, 0xf70, 0x1009, 0x99e4, 0xea63, 0x0, 0x1);
        gbc.writeMem(0x413b, { 0xb6 });
        gbc.writeMem(0xea63, { 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x9dbf);
        EXPECT(gbc.pc(), 0x413c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea63), 0x80);
        // B6 0058
        gbc.setState(0x8d88, 0xfb9e, 0xd740, 0x9c06, 0x541, 0x1228, 0x1, 0x0);
        gbc.writeMem(0x1228, { 0xa1 });
        gbc.writeMem(0x8d88, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xfb9e);
        EXPECT(gbc.pc(), 0x8d89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d88), 0xb6);
        // B6 0059
        gbc.setState(0x9f64, 0xce97, 0xf760, 0xf7af, 0xc1e5, 0x40bd, 0x0, 0x1);
        gbc.writeMem(0x40bd, { 0xe1 });
        gbc.writeMem(0x9f64, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xce97);
        EXPECT(gbc.pc(), 0x9f65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f64), 0xb6);
        // B6 005A
        gbc.setState(0x68e1, 0xc59d, 0xc70, 0x6d7a, 0xbd90, 0x4772, 0x0, 0x0);
        gbc.writeMem(0x4772, { 0x9e });
        gbc.writeMem(0x68e1, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xc59d);
        EXPECT(gbc.pc(), 0x68e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 005B
        gbc.setState(0xb90b, 0x238, 0x290, 0xf96e, 0xd926, 0xdc9d, 0x1, 0x0);
        gbc.writeMem(0xb90b, { 0xb6 });
        gbc.writeMem(0xdc9d, { 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x238);
        EXPECT(gbc.pc(), 0xb90c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb90b), 0xb6);
        EXPECT(gbc.readMem(0xdc9d), 0xfd);
        // B6 005C
        gbc.setState(0x124b, 0x99cf, 0xdc60, 0x6f8a, 0x7de, 0xb22e, 0x1, 0x1);
        gbc.writeMem(0x124b, { 0xb6 });
        gbc.writeMem(0xb22e, { 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x99cf);
        EXPECT(gbc.pc(), 0x124c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb22e), 0x27);
        // B6 005D
        gbc.setState(0xa575, 0x7c0e, 0xe340, 0x5493, 0xd79b, 0xb853, 0x0, 0x0);
        gbc.writeMem(0xa575, { 0xb6 });
        gbc.writeMem(0xb853, { 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7c0e);
        EXPECT(gbc.pc(), 0xa576);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa575), 0xb6);
        EXPECT(gbc.readMem(0xb853), 0xa6);
        // B6 005E
        gbc.setState(0xee3b, 0x1da7, 0xd100, 0x90b0, 0xe62a, 0x1faa, 0x0, 0x1);
        gbc.writeMem(0x1faa, { 0x3c });
        gbc.writeMem(0xee3b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x1da7);
        EXPECT(gbc.pc(), 0xee3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee3b), 0xb6);
        // B6 005F
        gbc.setState(0x8292, 0x989b, 0xf740, 0x4f63, 0xe2bb, 0xa78d, 0x1, 0x1);
        gbc.writeMem(0x8292, { 0xb6 });
        gbc.writeMem(0xa78d, { 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x989b);
        EXPECT(gbc.pc(), 0x8293);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8292), 0xb6);
        EXPECT(gbc.readMem(0xa78d), 0x70);
        // B6 0060
        gbc.setState(0xb410, 0xef0a, 0x93d0, 0xdcd, 0x4003, 0xd4b6, 0x0, 0x0);
        gbc.writeMem(0xb410, { 0xb6 });
        gbc.writeMem(0xd4b6, { 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xef0a);
        EXPECT(gbc.pc(), 0xb411);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb410), 0xb6);
        EXPECT(gbc.readMem(0xd4b6), 0x77);
        // B6 0061
        gbc.setState(0xbda3, 0x1b38, 0xd130, 0x4ea4, 0x70b1, 0xdba3, 0x0, 0x0);
        gbc.writeMem(0xbda3, { 0xb6 });
        gbc.writeMem(0xdba3, { 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x1b38);
        EXPECT(gbc.pc(), 0xbda4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbda3), 0xb6);
        EXPECT(gbc.readMem(0xdba3), 0xdf);
        // B6 0062
        gbc.setState(0x29ab, 0x2622, 0xd900, 0xd0df, 0x38c7, 0x82eb, 0x1, 0x1);
        gbc.writeMem(0x29ab, { 0xb6 });
        gbc.writeMem(0x82eb, { 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x2622);
        EXPECT(gbc.pc(), 0x29ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82eb), 0xf6);
        // B6 0063
        gbc.setState(0xe5ac, 0xba7b, 0xeae0, 0x6e87, 0x1422, 0xe0b1, 0x1, 0x1);
        gbc.writeMem(0xe0b1, { 0xe4 });
        gbc.writeMem(0xe5ac, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xba7b);
        EXPECT(gbc.pc(), 0xe5ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0b1), 0xe4);
        EXPECT(gbc.readMem(0xe5ac), 0xb6);
        // B6 0064
        gbc.setState(0x66a, 0x8d93, 0x6850, 0x4150, 0x5372, 0x1100, 0x1, 0x0);
        gbc.writeMem(0x66a, { 0xb6 });
        gbc.writeMem(0x1100, { 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x8d93);
        EXPECT(gbc.pc(), 0x66b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0065
        gbc.setState(0xca59, 0xb6bd, 0x4710, 0x17b7, 0x8afc, 0xa0f3, 0x0, 0x0);
        gbc.writeMem(0xa0f3, { 0xd8 });
        gbc.writeMem(0xca59, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xb6bd);
        EXPECT(gbc.pc(), 0xca5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0f3), 0xd8);
        EXPECT(gbc.readMem(0xca59), 0xb6);
        // B6 0066
        gbc.setState(0xb207, 0x754f, 0xe80, 0x5e14, 0x4edf, 0xb7f1, 0x0, 0x0);
        gbc.writeMem(0xb207, { 0xb6 });
        gbc.writeMem(0xb7f1, { 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x754f);
        EXPECT(gbc.pc(), 0xb208);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb207), 0xb6);
        EXPECT(gbc.readMem(0xb7f1), 0x6e);
        // B6 0067
        gbc.setState(0x2a29, 0xdbfe, 0xea90, 0xcb1, 0xac88, 0xd01e, 0x0, 0x1);
        gbc.writeMem(0x2a29, { 0xb6 });
        gbc.writeMem(0xd01e, { 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xdbfe);
        EXPECT(gbc.pc(), 0x2a2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd01e), 0x2d);
        // B6 0068
        gbc.setState(0x504c, 0x4135, 0xc020, 0x6c1d, 0x3272, 0xf902, 0x1, 0x1);
        gbc.writeMem(0x504c, { 0xb6 });
        gbc.writeMem(0xf902, { 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x4135);
        EXPECT(gbc.pc(), 0x504d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf902), 0x8);
        // B6 0069
        gbc.setState(0x3941, 0x3e0e, 0x4160, 0xe1e2, 0x16b6, 0xd657, 0x1, 0x0);
        gbc.writeMem(0x3941, { 0xb6 });
        gbc.writeMem(0xd657, { 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x3e0e);
        EXPECT(gbc.pc(), 0x3942);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd657), 0x96);
        // B6 006A
        gbc.setState(0x283c, 0x2563, 0xcde0, 0xb1f2, 0xd938, 0x25a6, 0x0, 0x0);
        gbc.writeMem(0x25a6, { 0x37 });
        gbc.writeMem(0x283c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x2563);
        EXPECT(gbc.pc(), 0x283d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 006B
        gbc.setState(0x789f, 0xf7d7, 0x5b20, 0x1f9a, 0x4f0b, 0x437, 0x0, 0x1);
        gbc.writeMem(0x437, { 0x5a });
        gbc.writeMem(0x789f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xf7d7);
        EXPECT(gbc.pc(), 0x78a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 006C
        gbc.setState(0xd276, 0x76f0, 0x3e10, 0xd686, 0x456e, 0x6342, 0x1, 0x1);
        gbc.writeMem(0x6342, { 0xf0 });
        gbc.writeMem(0xd276, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x76f0);
        EXPECT(gbc.pc(), 0xd277);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd276), 0xb6);
        // B6 006D
        gbc.setState(0x6196, 0xde1, 0xd6a0, 0xbc9f, 0x5063, 0x7744, 0x0, 0x0);
        gbc.writeMem(0x6196, { 0xb6 });
        gbc.writeMem(0x7744, { 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xde1);
        EXPECT(gbc.pc(), 0x6197);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 006E
        gbc.setState(0xa2ef, 0xd977, 0x1650, 0x3ca1, 0x5953, 0xa310, 0x1, 0x1);
        gbc.writeMem(0xa2ef, { 0xb6 });
        gbc.writeMem(0xa310, { 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xd977);
        EXPECT(gbc.pc(), 0xa2f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2ef), 0xb6);
        EXPECT(gbc.readMem(0xa310), 0xda);
        // B6 006F
        gbc.setState(0x70a6, 0x7c86, 0xf070, 0xa47c, 0x9f41, 0xa28c, 0x0, 0x1);
        gbc.writeMem(0x70a6, { 0xb6 });
        gbc.writeMem(0xa28c, { 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x7c86);
        EXPECT(gbc.pc(), 0x70a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa28c), 0x76);
        // B6 0071
        gbc.setState(0x6ede, 0x9ac0, 0xfc90, 0x3e03, 0x32a2, 0x680d, 0x0, 0x0);
        gbc.writeMem(0x680d, { 0x8c });
        gbc.writeMem(0x6ede, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x9ac0);
        EXPECT(gbc.pc(), 0x6edf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0072
        gbc.setState(0x584e, 0xa146, 0xea40, 0xf101, 0xf14, 0x66d4, 0x1, 0x1);
        gbc.writeMem(0x584e, { 0xb6 });
        gbc.writeMem(0x66d4, { 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xa146);
        EXPECT(gbc.pc(), 0x584f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0073
        gbc.setState(0xb939, 0x560f, 0x6040, 0xf312, 0xff2a, 0xdafb, 0x0, 0x0);
        gbc.writeMem(0xb939, { 0xb6 });
        gbc.writeMem(0xdafb, { 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x560f);
        EXPECT(gbc.pc(), 0xb93a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb939), 0xb6);
        EXPECT(gbc.readMem(0xdafb), 0x71);
        // B6 0074
        gbc.setState(0xea31, 0x2e2c, 0x30, 0xd325, 0x36a2, 0x60a, 0x0, 0x1);
        gbc.writeMem(0x60a, { 0xf0 });
        gbc.writeMem(0xea31, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x2e2c);
        EXPECT(gbc.pc(), 0xea32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea31), 0xb6);
        // B6 0075
        gbc.setState(0x88b5, 0x2f60, 0xb0d0, 0x4908, 0x4ca3, 0xe8ee, 0x0, 0x0);
        gbc.writeMem(0x88b5, { 0xb6 });
        gbc.writeMem(0xe8ee, { 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x2f60);
        EXPECT(gbc.pc(), 0x88b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88b5), 0xb6);
        EXPECT(gbc.readMem(0xe8ee), 0xe9);
        // B6 0076
        gbc.setState(0xbf1c, 0x59b7, 0xa580, 0x5590, 0x9088, 0xb408, 0x0, 0x1);
        gbc.writeMem(0xb408, { 0x85 });
        gbc.writeMem(0xbf1c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x59b7);
        EXPECT(gbc.pc(), 0xbf1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb408), 0x85);
        EXPECT(gbc.readMem(0xbf1c), 0xb6);
        // B6 0077
        gbc.setState(0xda33, 0x9389, 0x95d0, 0x6d44, 0xa1b5, 0x6d4e, 0x0, 0x0);
        gbc.writeMem(0x6d4e, { 0x86 });
        gbc.writeMem(0xda33, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x9389);
        EXPECT(gbc.pc(), 0xda34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda33), 0xb6);
        // B6 0078
        gbc.setState(0x8e4b, 0x9a6b, 0xa880, 0x9042, 0x274f, 0x18e4, 0x1, 0x0);
        gbc.writeMem(0x18e4, { 0x29 });
        gbc.writeMem(0x8e4b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x9a6b);
        EXPECT(gbc.pc(), 0x8e4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e4b), 0xb6);
        // B6 0079
        gbc.setState(0xa96c, 0x6d3e, 0x70, 0x49a, 0x1af5, 0x64dc, 0x0, 0x1);
        gbc.writeMem(0x64dc, { 0xdf });
        gbc.writeMem(0xa96c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x6d3e);
        EXPECT(gbc.pc(), 0xa96d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa96c), 0xb6);
        // B6 007A
        gbc.setState(0xe4e4, 0x2f60, 0x6430, 0x7e4c, 0x2738, 0xf0b5, 0x0, 0x1);
        gbc.writeMem(0xe4e4, { 0xb6 });
        gbc.writeMem(0xf0b5, { 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x2f60);
        EXPECT(gbc.pc(), 0xe4e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4e4), 0xb6);
        EXPECT(gbc.readMem(0xf0b5), 0xc7);
        // B6 007B
        gbc.setState(0xb4be, 0xd2a6, 0xc6f0, 0x298d, 0x2bed, 0x1083, 0x1, 0x0);
        gbc.writeMem(0x1083, { 0xcf });
        gbc.writeMem(0xb4be, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xd2a6);
        EXPECT(gbc.pc(), 0xb4bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4be), 0xb6);
        // B6 007C
        gbc.setState(0x355b, 0x7da8, 0xdf40, 0x939a, 0xec18, 0x27a6, 0x1, 0x0);
        gbc.writeMem(0x27a6, { 0x53 });
        gbc.writeMem(0x355b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x7da8);
        EXPECT(gbc.pc(), 0x355c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 007D
        gbc.setState(0x7194, 0x8840, 0xf350, 0xcae5, 0xf0cf, 0xc495, 0x0, 0x1);
        gbc.writeMem(0x7194, { 0xb6 });
        gbc.writeMem(0xc495, { 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x8840);
        EXPECT(gbc.pc(), 0x7195);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc495), 0xdf);
        // B6 007E
        gbc.setState(0x6c15, 0xfbe9, 0xd530, 0xe3ff, 0x48b4, 0x9329, 0x1, 0x0);
        gbc.writeMem(0x6c15, { 0xb6 });
        gbc.writeMem(0x9329, { 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xfbe9);
        EXPECT(gbc.pc(), 0x6c16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9329), 0x9);
        // B6 007F
        gbc.setState(0xd02a, 0x9c18, 0xa410, 0x1331, 0xbe05, 0xa731, 0x1, 0x0);
        gbc.writeMem(0xa731, { 0x33 });
        gbc.writeMem(0xd02a, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x9c18);
        EXPECT(gbc.pc(), 0xd02b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa731), 0x33);
        EXPECT(gbc.readMem(0xd02a), 0xb6);
        // B6 0080
        gbc.setState(0xc104, 0x250e, 0xcd80, 0x5190, 0x4e3c, 0xe283, 0x0, 0x0);
        gbc.writeMem(0xc104, { 0xb6 });
        gbc.writeMem(0xe283, { 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x250e);
        EXPECT(gbc.pc(), 0xc105);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc104), 0xb6);
        EXPECT(gbc.readMem(0xe283), 0x55);
        // B6 0081
        gbc.setState(0x4485, 0x2afa, 0x2230, 0xf6b, 0x9532, 0x48aa, 0x1, 0x0);
        gbc.writeMem(0x4485, { 0xb6 });
        gbc.writeMem(0x48aa, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x2afa);
        EXPECT(gbc.pc(), 0x4486);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0083
        gbc.setState(0x6ddd, 0xc31f, 0x1f60, 0xdcd6, 0x10eb, 0xea92, 0x1, 0x1);
        gbc.writeMem(0x6ddd, { 0xb6 });
        gbc.writeMem(0xea92, { 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xc31f);
        EXPECT(gbc.pc(), 0x6dde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea92), 0xdb);
        // B6 0084
        gbc.setState(0xb43, 0x4ea3, 0x1cc0, 0x2974, 0xab9e, 0x7a24, 0x0, 0x0);
        gbc.writeMem(0xb43, { 0xb6 });
        gbc.writeMem(0x7a24, { 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x4ea3);
        EXPECT(gbc.pc(), 0xb44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0085
        gbc.setState(0x8080, 0xdb6c, 0x19d0, 0x2b0c, 0x6f12, 0x4e4, 0x1, 0x1);
        gbc.writeMem(0x4e4, { 0x69 });
        gbc.writeMem(0x8080, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xdb6c);
        EXPECT(gbc.pc(), 0x8081);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8080), 0xb6);
        // B6 0086
        gbc.setState(0x5203, 0xe7a7, 0x4e10, 0xb811, 0x8ba0, 0xa23e, 0x1, 0x1);
        gbc.writeMem(0x5203, { 0xb6 });
        gbc.writeMem(0xa23e, { 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xe7a7);
        EXPECT(gbc.pc(), 0x5204);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa23e), 0x62);
        // B6 0087
        gbc.setState(0xe980, 0xcba9, 0x8560, 0xb238, 0x45ba, 0xcfbe, 0x0, 0x1);
        gbc.writeMem(0xcfbe, { 0x4f });
        gbc.writeMem(0xe980, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xcba9);
        EXPECT(gbc.pc(), 0xe981);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfbe), 0x4f);
        EXPECT(gbc.readMem(0xe980), 0xb6);
        // B6 0088
        gbc.setState(0x21f5, 0x1ab5, 0xd420, 0x6175, 0x1af2, 0x96cd, 0x0, 0x0);
        gbc.writeMem(0x21f5, { 0xb6 });
        gbc.writeMem(0x96cd, { 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x1ab5);
        EXPECT(gbc.pc(), 0x21f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96cd), 0x78);
        // B6 0089
        gbc.setState(0xc12d, 0x68f5, 0x4b70, 0x1ab9, 0x287f, 0x5a48, 0x0, 0x0);
        gbc.writeMem(0x5a48, { 0x1d });
        gbc.writeMem(0xc12d, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x68f5);
        EXPECT(gbc.pc(), 0xc12e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc12d), 0xb6);
        // B6 008B
        gbc.setState(0x7d29, 0xe164, 0x9280, 0xbadb, 0xc9c9, 0xf16f, 0x1, 0x0);
        gbc.writeMem(0x7d29, { 0xb6 });
        gbc.writeMem(0xf16f, { 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xe164);
        EXPECT(gbc.pc(), 0x7d2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf16f), 0x15);
        // B6 008C
        gbc.setState(0xebc4, 0xe0be, 0x6dc0, 0x51d3, 0xe13e, 0xa17a, 0x1, 0x0);
        gbc.writeMem(0xa17a, { 0x86 });
        gbc.writeMem(0xebc4, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xe0be);
        EXPECT(gbc.pc(), 0xebc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa17a), 0x86);
        EXPECT(gbc.readMem(0xebc4), 0xb6);
        // B6 008D
        gbc.setState(0x4e8e, 0x4bed, 0x5820, 0x9e61, 0x593e, 0xa551, 0x1, 0x0);
        gbc.writeMem(0x4e8e, { 0xb6 });
        gbc.writeMem(0xa551, { 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x4bed);
        EXPECT(gbc.pc(), 0x4e8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa551), 0x15);
        // B6 008E
        gbc.setState(0x8a2a, 0x4256, 0x97e0, 0x5c43, 0x4452, 0x5ceb, 0x1, 0x0);
        gbc.writeMem(0x5ceb, { 0x7b });
        gbc.writeMem(0x8a2a, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x4256);
        EXPECT(gbc.pc(), 0x8a2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a2a), 0xb6);
        // B6 0090
        gbc.setState(0x4c6b, 0x6a0b, 0x4de0, 0xa519, 0x6a83, 0x9469, 0x0, 0x1);
        gbc.writeMem(0x4c6b, { 0xb6 });
        gbc.writeMem(0x9469, { 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x6a0b);
        EXPECT(gbc.pc(), 0x4c6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9469), 0xed);
        // B6 0092
        gbc.setState(0x1c30, 0x67c3, 0xb020, 0x6d71, 0xe36c, 0x9c31, 0x0, 0x1);
        gbc.writeMem(0x1c30, { 0xb6 });
        gbc.writeMem(0x9c31, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x67c3);
        EXPECT(gbc.pc(), 0x1c31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c31), 0x89);
        // B6 0093
        gbc.setState(0x3409, 0x92cd, 0xa640, 0xeb1e, 0x44ad, 0x8062, 0x1, 0x0);
        gbc.writeMem(0x3409, { 0xb6 });
        gbc.writeMem(0x8062, { 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x92cd);
        EXPECT(gbc.pc(), 0x340a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8062), 0x1d);
        // B6 0094
        gbc.setState(0x49f1, 0x5884, 0x45f0, 0x8c60, 0x2a72, 0x3833, 0x0, 0x1);
        gbc.writeMem(0x3833, { 0xf });
        gbc.writeMem(0x49f1, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x5884);
        EXPECT(gbc.pc(), 0x49f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0095
        gbc.setState(0x1b35, 0xa121, 0xb770, 0xcb87, 0x946d, 0x3193, 0x0, 0x1);
        gbc.writeMem(0x1b35, { 0xb6 });
        gbc.writeMem(0x3193, { 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xa121);
        EXPECT(gbc.pc(), 0x1b36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0096
        gbc.setState(0xc234, 0x4e79, 0x4f20, 0x155c, 0x1fba, 0xc5c0, 0x1, 0x0);
        gbc.writeMem(0xc234, { 0xb6 });
        gbc.writeMem(0xc5c0, { 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x4e79);
        EXPECT(gbc.pc(), 0xc235);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc234), 0xb6);
        EXPECT(gbc.readMem(0xc5c0), 0x4b);
        // B6 0097
        gbc.setState(0x10a1, 0x7f6d, 0x48d0, 0xc372, 0x21b9, 0xc1ed, 0x0, 0x0);
        gbc.writeMem(0x10a1, { 0xb6 });
        gbc.writeMem(0xc1ed, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7f6d);
        EXPECT(gbc.pc(), 0x10a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1ed), 0xc5);
        // B6 0098
        gbc.setState(0x2bad, 0xc6ff, 0x6270, 0xa12, 0x3107, 0xc867, 0x0, 0x1);
        gbc.writeMem(0x2bad, { 0xb6 });
        gbc.writeMem(0xc867, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xc6ff);
        EXPECT(gbc.pc(), 0x2bae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc867), 0x37);
        // B6 0099
        gbc.setState(0x593e, 0xcb85, 0xa40, 0xc019, 0xa82c, 0xcb90, 0x0, 0x0);
        gbc.writeMem(0x593e, { 0xb6 });
        gbc.writeMem(0xcb90, { 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xcb85);
        EXPECT(gbc.pc(), 0x593f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb90), 0x29);
        // B6 009A
        gbc.setState(0x3e6f, 0x8b9b, 0x5120, 0x383, 0x5c99, 0x2246, 0x1, 0x0);
        gbc.writeMem(0x2246, { 0x40 });
        gbc.writeMem(0x3e6f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x8b9b);
        EXPECT(gbc.pc(), 0x3e70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 009B
        gbc.setState(0xe42d, 0x9b71, 0x2ca0, 0x7e05, 0x5c1e, 0xf417, 0x1, 0x1);
        gbc.writeMem(0xe42d, { 0xb6 });
        gbc.writeMem(0xf417, { 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x9b71);
        EXPECT(gbc.pc(), 0xe42e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe42d), 0xb6);
        EXPECT(gbc.readMem(0xf417), 0x6e);
        // B6 009C
        gbc.setState(0x30f0, 0x7bd0, 0xea70, 0x8a2, 0xbe88, 0xdfe6, 0x0, 0x0);
        gbc.writeMem(0x30f0, { 0xb6 });
        gbc.writeMem(0xdfe6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x7bd0);
        EXPECT(gbc.pc(), 0x30f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfe6), 0x5f);
        // B6 009D
        gbc.setState(0x2e8a, 0xed13, 0x5a30, 0x27ff, 0x87e1, 0x9e3f, 0x1, 0x1);
        gbc.writeMem(0x2e8a, { 0xb6 });
        gbc.writeMem(0x9e3f, { 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xed13);
        EXPECT(gbc.pc(), 0x2e8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e3f), 0x56);
        // B6 009E
        gbc.setState(0xdcc0, 0x2d6c, 0x6d00, 0x2181, 0xda91, 0x83dd, 0x1, 0x1);
        gbc.writeMem(0x83dd, { 0xcf });
        gbc.writeMem(0xdcc0, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x2d6c);
        EXPECT(gbc.pc(), 0xdcc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83dd), 0xcf);
        EXPECT(gbc.readMem(0xdcc0), 0xb6);
        // B6 009F
        gbc.setState(0x8b8b, 0xd0c5, 0x1ec0, 0x36c0, 0x6823, 0xa460, 0x0, 0x1);
        gbc.writeMem(0x8b8b, { 0xb6 });
        gbc.writeMem(0xa460, { 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xd0c5);
        EXPECT(gbc.pc(), 0x8b8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b8b), 0xb6);
        EXPECT(gbc.readMem(0xa460), 0xb1);
        // B6 00A0
        gbc.setState(0xc283, 0x35db, 0x4fb0, 0xc4f4, 0x760e, 0xa088, 0x0, 0x1);
        gbc.writeMem(0xa088, { 0xd9 });
        gbc.writeMem(0xc283, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x35db);
        EXPECT(gbc.pc(), 0xc284);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa088), 0xd9);
        EXPECT(gbc.readMem(0xc283), 0xb6);
        // B6 00A1
        gbc.setState(0xa867, 0xb43, 0x5a50, 0x77e4, 0xb606, 0x20e0, 0x1, 0x1);
        gbc.writeMem(0x20e0, { 0x80 });
        gbc.writeMem(0xa867, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xb43);
        EXPECT(gbc.pc(), 0xa868);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa867), 0xb6);
        // B6 00A2
        gbc.setState(0x1bfd, 0x77b7, 0x700, 0x814, 0xf16b, 0xd705, 0x0, 0x0);
        gbc.writeMem(0x1bfd, { 0xb6 });
        gbc.writeMem(0xd705, { 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x77b7);
        EXPECT(gbc.pc(), 0x1bfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd705), 0xf1);
        // B6 00A3
        gbc.setState(0xae1d, 0xd457, 0x2970, 0x2695, 0x9106, 0x3a2a, 0x0, 0x1);
        gbc.writeMem(0x3a2a, { 0xb3 });
        gbc.writeMem(0xae1d, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xd457);
        EXPECT(gbc.pc(), 0xae1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae1d), 0xb6);
        // B6 00A4
        gbc.setState(0x433, 0x2ac5, 0xe800, 0x2c83, 0x9a07, 0x361d, 0x0, 0x1);
        gbc.writeMem(0x433, { 0xb6 });
        gbc.writeMem(0x361d, { 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x2ac5);
        EXPECT(gbc.pc(), 0x434);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00A5
        gbc.setState(0x716b, 0x3b24, 0xae60, 0x15eb, 0x633e, 0xac13, 0x1, 0x1);
        gbc.writeMem(0x716b, { 0xb6 });
        gbc.writeMem(0xac13, { 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x3b24);
        EXPECT(gbc.pc(), 0x716c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac13), 0x16);
        // B6 00A6
        gbc.setState(0x30de, 0xeef4, 0x4420, 0x9452, 0x6163, 0x34a6, 0x0, 0x1);
        gbc.writeMem(0x30de, { 0xb6 });
        gbc.writeMem(0x34a6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xeef4);
        EXPECT(gbc.pc(), 0x30df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00A7
        gbc.setState(0xc0af, 0xb890, 0x1970, 0x90e3, 0x65ed, 0xf657, 0x1, 0x0);
        gbc.writeMem(0xc0af, { 0xb6 });
        gbc.writeMem(0xf657, { 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xb890);
        EXPECT(gbc.pc(), 0xc0b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0af), 0xb6);
        EXPECT(gbc.readMem(0xf657), 0x70);
        // B6 00A8
        gbc.setState(0x2388, 0xa14a, 0xe210, 0x82d3, 0xfe8d, 0xf4e6, 0x0, 0x0);
        gbc.writeMem(0x2388, { 0xb6 });
        gbc.writeMem(0xf4e6, { 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xa14a);
        EXPECT(gbc.pc(), 0x2389);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf4e6), 0x75);
        // B6 00A9
        gbc.setState(0x4207, 0x7116, 0x9ba0, 0x13e7, 0xa0ea, 0xbb09, 0x0, 0x1);
        gbc.writeMem(0x4207, { 0xb6 });
        gbc.writeMem(0xbb09, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x7116);
        EXPECT(gbc.pc(), 0x4208);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb09), 0x89);
        // B6 00AA
        gbc.setState(0x1cf4, 0x2215, 0xa820, 0x56c4, 0x4ded, 0x7f4b, 0x1, 0x0);
        gbc.writeMem(0x1cf4, { 0xb6 });
        gbc.writeMem(0x7f4b, { 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x2215);
        EXPECT(gbc.pc(), 0x1cf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00AB
        gbc.setState(0xa036, 0xcac, 0x3490, 0x6809, 0x61f9, 0x1078, 0x1, 0x1);
        gbc.writeMem(0x1078, { 0x0 });
        gbc.writeMem(0xa036, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xcac);
        EXPECT(gbc.pc(), 0xa037);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa036), 0xb6);
        // B6 00AC
        gbc.setState(0x622, 0xc82f, 0xba80, 0x3954, 0xa8b0, 0x269a, 0x0, 0x0);
        gbc.writeMem(0x622, { 0xb6 });
        gbc.writeMem(0x269a, { 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xc82f);
        EXPECT(gbc.pc(), 0x623);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00AD
        gbc.setState(0xb4da, 0xd001, 0x5210, 0xd9e9, 0xb40b, 0xc86c, 0x1, 0x1);
        gbc.writeMem(0xb4da, { 0xb6 });
        gbc.writeMem(0xc86c, { 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xd001);
        EXPECT(gbc.pc(), 0xb4db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4da), 0xb6);
        EXPECT(gbc.readMem(0xc86c), 0xc1);
        // B6 00AE
        gbc.setState(0x7673, 0xaa59, 0x5d00, 0x1c84, 0x5e73, 0x9c3, 0x0, 0x1);
        gbc.writeMem(0x9c3, { 0xf2 });
        gbc.writeMem(0x7673, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xaa59);
        EXPECT(gbc.pc(), 0x7674);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00AF
        gbc.setState(0x8060, 0x76e4, 0xad50, 0x42b9, 0x75a1, 0x86a8, 0x1, 0x0);
        gbc.writeMem(0x8060, { 0xb6 });
        gbc.writeMem(0x86a8, { 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x76e4);
        EXPECT(gbc.pc(), 0x8061);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8060), 0xb6);
        EXPECT(gbc.readMem(0x86a8), 0x2f);
        // B6 00B0
        gbc.setState(0x36ed, 0xa005, 0x6be0, 0xb1bf, 0xaf6c, 0x9809, 0x0, 0x1);
        gbc.writeMem(0x36ed, { 0xb6 });
        gbc.writeMem(0x9809, { 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xa005);
        EXPECT(gbc.pc(), 0x36ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9809), 0x4f);
        // B6 00B1
        gbc.setState(0x6ea5, 0xabe8, 0x4f20, 0x4076, 0x644c, 0x5386, 0x0, 0x0);
        gbc.writeMem(0x5386, { 0x13 });
        gbc.writeMem(0x6ea5, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xabe8);
        EXPECT(gbc.pc(), 0x6ea6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00B2
        gbc.setState(0x4096, 0x637b, 0xf5b0, 0xca97, 0x28e0, 0x7cb7, 0x1, 0x0);
        gbc.writeMem(0x4096, { 0xb6 });
        gbc.writeMem(0x7cb7, { 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x637b);
        EXPECT(gbc.pc(), 0x4097);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00B3
        gbc.setState(0xc752, 0xd603, 0x7440, 0x2b47, 0xf3a6, 0xb0e9, 0x1, 0x1);
        gbc.writeMem(0xb0e9, { 0xc8 });
        gbc.writeMem(0xc752, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xd603);
        EXPECT(gbc.pc(), 0xc753);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0e9), 0xc8);
        EXPECT(gbc.readMem(0xc752), 0xb6);
        // B6 00B4
        gbc.setState(0x3117, 0x53b9, 0x9ef0, 0x320e, 0x4027, 0x7d94, 0x1, 0x0);
        gbc.writeMem(0x3117, { 0xb6 });
        gbc.writeMem(0x7d94, { 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x53b9);
        EXPECT(gbc.pc(), 0x3118);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00B5
        gbc.setState(0xd999, 0xf912, 0xccc0, 0x3100, 0xe72d, 0x8199, 0x1, 0x0);
        gbc.writeMem(0x8199, { 0xc8 });
        gbc.writeMem(0xd999, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xf912);
        EXPECT(gbc.pc(), 0xd99a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8199), 0xc8);
        EXPECT(gbc.readMem(0xd999), 0xb6);
        // B6 00B6
        gbc.setState(0x4069, 0xf14, 0x5820, 0x1f14, 0x1e51, 0x2220, 0x0, 0x1);
        gbc.writeMem(0x2220, { 0xa3 });
        gbc.writeMem(0x4069, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xf14);
        EXPECT(gbc.pc(), 0x406a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00B7
        gbc.setState(0xbea5, 0x27f8, 0xc370, 0xff03, 0x5fd3, 0x3389, 0x1, 0x1);
        gbc.writeMem(0x3389, { 0xb8 });
        gbc.writeMem(0xbea5, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x27f8);
        EXPECT(gbc.pc(), 0xbea6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbea5), 0xb6);
        // B6 00B8
        gbc.setState(0xed2b, 0xb51f, 0x1d80, 0x5cb6, 0xd719, 0x8105, 0x1, 0x1);
        gbc.writeMem(0x8105, { 0xe4 });
        gbc.writeMem(0xed2b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xb51f);
        EXPECT(gbc.pc(), 0xed2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8105), 0xe4);
        EXPECT(gbc.readMem(0xed2b), 0xb6);
        // B6 00B9
        gbc.setState(0x7dbf, 0x69aa, 0x8730, 0x80c9, 0xcef6, 0x96a4, 0x1, 0x1);
        gbc.writeMem(0x7dbf, { 0xb6 });
        gbc.writeMem(0x96a4, { 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x69aa);
        EXPECT(gbc.pc(), 0x7dc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96a4), 0xd);
        // B6 00BA
        gbc.setState(0xca92, 0xdc35, 0x9720, 0xede3, 0x14b7, 0x678a, 0x1, 0x1);
        gbc.writeMem(0x678a, { 0x78 });
        gbc.writeMem(0xca92, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xdc35);
        EXPECT(gbc.pc(), 0xca93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca92), 0xb6);
        // B6 00BB
        gbc.setState(0x77c4, 0x4edb, 0x1a90, 0x556c, 0x39ef, 0xbd7f, 0x0, 0x0);
        gbc.writeMem(0x77c4, { 0xb6 });
        gbc.writeMem(0xbd7f, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x4edb);
        EXPECT(gbc.pc(), 0x77c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd7f), 0xc5);
        // B6 00BC
        gbc.setState(0xdc08, 0xa570, 0xf050, 0x46a5, 0x4f29, 0x1cef, 0x1, 0x1);
        gbc.writeMem(0x1cef, { 0x68 });
        gbc.writeMem(0xdc08, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xa570);
        EXPECT(gbc.pc(), 0xdc09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc08), 0xb6);
        // B6 00BD
        gbc.setState(0x4c74, 0x11d7, 0xb680, 0x3576, 0x7d47, 0x2312, 0x1, 0x1);
        gbc.writeMem(0x2312, { 0x82 });
        gbc.writeMem(0x4c74, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x11d7);
        EXPECT(gbc.pc(), 0x4c75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00BE
        gbc.setState(0x3a15, 0x568, 0xe80, 0x2ce2, 0xc61c, 0x91e9, 0x0, 0x0);
        gbc.writeMem(0x3a15, { 0xb6 });
        gbc.writeMem(0x91e9, { 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x568);
        EXPECT(gbc.pc(), 0x3a16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91e9), 0xf0);
        // B6 00BF
        gbc.setState(0x9d2d, 0xe67e, 0x2770, 0xd0bd, 0x868d, 0x8fd9, 0x0, 0x0);
        gbc.writeMem(0x8fd9, { 0x8b });
        gbc.writeMem(0x9d2d, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xe67e);
        EXPECT(gbc.pc(), 0x9d2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fd9), 0x8b);
        EXPECT(gbc.readMem(0x9d2d), 0xb6);
        // B6 00C0
        gbc.setState(0x76e8, 0x3975, 0xcd00, 0x7e8b, 0x4bdd, 0x7a2e, 0x0, 0x1);
        gbc.writeMem(0x76e8, { 0xb6 });
        gbc.writeMem(0x7a2e, { 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x3975);
        EXPECT(gbc.pc(), 0x76e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00C1
        gbc.setState(0x75ee, 0xa2df, 0xe160, 0xbdd1, 0x811, 0xd039, 0x1, 0x0);
        gbc.writeMem(0x75ee, { 0xb6 });
        gbc.writeMem(0xd039, { 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xa2df);
        EXPECT(gbc.pc(), 0x75ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd039), 0x3e);
        // B6 00C2
        gbc.setState(0x12ed, 0xf629, 0xae60, 0x7558, 0xdd47, 0x35b9, 0x1, 0x0);
        gbc.writeMem(0x12ed, { 0xb6 });
        gbc.writeMem(0x35b9, { 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xf629);
        EXPECT(gbc.pc(), 0x12ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00C3
        gbc.setState(0xe0b4, 0x20af, 0xfac0, 0xfc82, 0x8e59, 0x8f20, 0x1, 0x1);
        gbc.writeMem(0x8f20, { 0x38 });
        gbc.writeMem(0xe0b4, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x20af);
        EXPECT(gbc.pc(), 0xe0b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f20), 0x38);
        EXPECT(gbc.readMem(0xe0b4), 0xb6);
        // B6 00C4
        gbc.setState(0xd2d1, 0x827c, 0x4290, 0x7460, 0x4b2e, 0x65b8, 0x0, 0x0);
        gbc.writeMem(0x65b8, { 0xfe });
        gbc.writeMem(0xd2d1, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x827c);
        EXPECT(gbc.pc(), 0xd2d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2d1), 0xb6);
        // B6 00C6
        gbc.setState(0xe7a1, 0x30a2, 0xdfc0, 0xb459, 0xccb7, 0x76ac, 0x0, 0x0);
        gbc.writeMem(0x76ac, { 0x84 });
        gbc.writeMem(0xe7a1, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x30a2);
        EXPECT(gbc.pc(), 0xe7a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7a1), 0xb6);
        // B6 00C7
        gbc.setState(0x9967, 0x5bb0, 0x3320, 0x3ea2, 0x7109, 0x64f4, 0x0, 0x1);
        gbc.writeMem(0x64f4, { 0xab });
        gbc.writeMem(0x9967, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x5bb0);
        EXPECT(gbc.pc(), 0x9968);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9967), 0xb6);
        // B6 00C8
        gbc.setState(0xe6b4, 0x6618, 0xafb0, 0xb072, 0xfecb, 0xf393, 0x1, 0x0);
        gbc.writeMem(0xe6b4, { 0xb6 });
        gbc.writeMem(0xf393, { 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x6618);
        EXPECT(gbc.pc(), 0xe6b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6b4), 0xb6);
        EXPECT(gbc.readMem(0xf393), 0x13);
        // B6 00C9
        gbc.setState(0x44e, 0x5e0e, 0x9eb0, 0x1b57, 0x4d84, 0x3b0a, 0x1, 0x0);
        gbc.writeMem(0x44e, { 0xb6 });
        gbc.writeMem(0x3b0a, { 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x5e0e);
        EXPECT(gbc.pc(), 0x44f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00CA
        gbc.setState(0xd0a0, 0xdf26, 0xb2d0, 0x48f2, 0xa905, 0xb3b2, 0x1, 0x0);
        gbc.writeMem(0xb3b2, { 0xbd });
        gbc.writeMem(0xd0a0, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xdf26);
        EXPECT(gbc.pc(), 0xd0a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3b2), 0xbd);
        EXPECT(gbc.readMem(0xd0a0), 0xb6);
        // B6 00CB
        gbc.setState(0x2e25, 0x5c9b, 0x1220, 0x5a43, 0xa5f6, 0x5ea2, 0x0, 0x1);
        gbc.writeMem(0x2e25, { 0xb6 });
        gbc.writeMem(0x5ea2, { 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x5c9b);
        EXPECT(gbc.pc(), 0x2e26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00CC
        gbc.setState(0xcf96, 0x509d, 0x1770, 0x862b, 0x4f4, 0x488d, 0x0, 0x0);
        gbc.writeMem(0x488d, { 0x76 });
        gbc.writeMem(0xcf96, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x509d);
        EXPECT(gbc.pc(), 0xcf97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf96), 0xb6);
        // B6 00CD
        gbc.setState(0x922, 0x32cf, 0x5ab0, 0xed55, 0x7fbf, 0xefb6, 0x1, 0x1);
        gbc.writeMem(0x922, { 0xb6 });
        gbc.writeMem(0xefb6, { 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x32cf);
        EXPECT(gbc.pc(), 0x923);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefb6), 0xd8);
        // B6 00CE
        gbc.setState(0x65b2, 0x8f05, 0x38c0, 0x3f90, 0xcabe, 0xcbe3, 0x1, 0x1);
        gbc.writeMem(0x65b2, { 0xb6 });
        gbc.writeMem(0xcbe3, { 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x8f05);
        EXPECT(gbc.pc(), 0x65b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbe3), 0x6);
        // B6 00CF
        gbc.setState(0x728b, 0xdbbd, 0x4c40, 0x5c57, 0x9e2b, 0x5b55, 0x0, 0x1);
        gbc.writeMem(0x5b55, { 0x97 });
        gbc.writeMem(0x728b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xdbbd);
        EXPECT(gbc.pc(), 0x728c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00D0
        gbc.setState(0x79a3, 0x1558, 0x30e0, 0x7648, 0x79fe, 0xc14f, 0x0, 0x1);
        gbc.writeMem(0x79a3, { 0xb6 });
        gbc.writeMem(0xc14f, { 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x1558);
        EXPECT(gbc.pc(), 0x79a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc14f), 0x19);
        // B6 00D1
        gbc.setState(0x8db5, 0x7a0e, 0xa680, 0x22bf, 0x280e, 0xeae0, 0x1, 0x1);
        gbc.writeMem(0x8db5, { 0xb6 });
        gbc.writeMem(0xeae0, { 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x7a0e);
        EXPECT(gbc.pc(), 0x8db6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8db5), 0xb6);
        EXPECT(gbc.readMem(0xeae0), 0xde);
        // B6 00D2
        gbc.setState(0xa2b8, 0xaf6b, 0xb080, 0xe7d7, 0xbee7, 0x2740, 0x0, 0x1);
        gbc.writeMem(0x2740, { 0x63 });
        gbc.writeMem(0xa2b8, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xaf6b);
        EXPECT(gbc.pc(), 0xa2b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2b8), 0xb6);
        // B6 00D3
        gbc.setState(0x5109, 0x533e, 0xd580, 0x1585, 0x2cfe, 0x484e, 0x1, 0x0);
        gbc.writeMem(0x484e, { 0xb9 });
        gbc.writeMem(0x5109, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x533e);
        EXPECT(gbc.pc(), 0x510a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00D5
        gbc.setState(0x9344, 0x84a8, 0x57d0, 0x7247, 0xa272, 0xb130, 0x0, 0x0);
        gbc.writeMem(0x9344, { 0xb6 });
        gbc.writeMem(0xb130, { 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x84a8);
        EXPECT(gbc.pc(), 0x9345);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9344), 0xb6);
        EXPECT(gbc.readMem(0xb130), 0xeb);
        // B6 00D6
        gbc.setState(0xc40f, 0x94f0, 0xe510, 0x5d1a, 0x1df5, 0xce72, 0x0, 0x0);
        gbc.writeMem(0xc40f, { 0xb6 });
        gbc.writeMem(0xce72, { 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x94f0);
        EXPECT(gbc.pc(), 0xc410);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc40f), 0xb6);
        EXPECT(gbc.readMem(0xce72), 0x70);
        // B6 00D7
        gbc.setState(0x97de, 0x1c80, 0xc8c0, 0x6ef7, 0xf69b, 0x9494, 0x1, 0x0);
        gbc.writeMem(0x9494, { 0x86 });
        gbc.writeMem(0x97de, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x1c80);
        EXPECT(gbc.pc(), 0x97df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9494), 0x86);
        EXPECT(gbc.readMem(0x97de), 0xb6);
        // B6 00D8
        gbc.setState(0x5d57, 0x9baa, 0x90, 0x2674, 0x3838, 0xcc0e, 0x1, 0x0);
        gbc.writeMem(0x5d57, { 0xb6 });
        gbc.writeMem(0xcc0e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x9baa);
        EXPECT(gbc.pc(), 0x5d58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc0e), 0xb6);
        // B6 00D9
        gbc.setState(0x9bd6, 0x93a0, 0xea0, 0xfa8f, 0x80ec, 0xe223, 0x0, 0x1);
        gbc.writeMem(0x9bd6, { 0xb6 });
        gbc.writeMem(0xe223, { 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x93a0);
        EXPECT(gbc.pc(), 0x9bd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bd6), 0xb6);
        EXPECT(gbc.readMem(0xe223), 0xa2);
        // B6 00DA
        gbc.setState(0x9273, 0x55ff, 0xa950, 0x8aae, 0xcf04, 0xbb6d, 0x0, 0x0);
        gbc.writeMem(0x9273, { 0xb6 });
        gbc.writeMem(0xbb6d, { 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x55ff);
        EXPECT(gbc.pc(), 0x9274);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9273), 0xb6);
        EXPECT(gbc.readMem(0xbb6d), 0xc9);
        // B6 00DB
        gbc.setState(0x7bdc, 0x32f0, 0xcf80, 0x9714, 0x79cf, 0x6cad, 0x0, 0x1);
        gbc.writeMem(0x6cad, { 0x9a });
        gbc.writeMem(0x7bdc, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x32f0);
        EXPECT(gbc.pc(), 0x7bdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00DC
        gbc.setState(0xb25a, 0x8b9f, 0xf600, 0x3345, 0x5ec9, 0x434d, 0x1, 0x0);
        gbc.writeMem(0x434d, { 0x23 });
        gbc.writeMem(0xb25a, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x8b9f);
        EXPECT(gbc.pc(), 0xb25b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb25a), 0xb6);
        // B6 00DF
        gbc.setState(0xd830, 0xa1fc, 0x3b30, 0x28cc, 0x7d7f, 0x1cd2, 0x0, 0x1);
        gbc.writeMem(0x1cd2, { 0x8 });
        gbc.writeMem(0xd830, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xa1fc);
        EXPECT(gbc.pc(), 0xd831);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd830), 0xb6);
        // B6 00E0
        gbc.setState(0x8e6b, 0x4f8c, 0x8120, 0x5155, 0xb3dc, 0x2157, 0x1, 0x1);
        gbc.writeMem(0x2157, { 0xc0 });
        gbc.writeMem(0x8e6b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x4f8c);
        EXPECT(gbc.pc(), 0x8e6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e6b), 0xb6);
        // B6 00E1
        gbc.setState(0x8262, 0x6e54, 0xd700, 0x1fdc, 0x2706, 0x1c72, 0x1, 0x0);
        gbc.writeMem(0x1c72, { 0x4b });
        gbc.writeMem(0x8262, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x6e54);
        EXPECT(gbc.pc(), 0x8263);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8262), 0xb6);
        // B6 00E2
        gbc.setState(0xd28a, 0xc62e, 0x5f80, 0x2606, 0xd810, 0xd305, 0x1, 0x1);
        gbc.writeMem(0xd28a, { 0xb6 });
        gbc.writeMem(0xd305, { 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xc62e);
        EXPECT(gbc.pc(), 0xd28b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd28a), 0xb6);
        EXPECT(gbc.readMem(0xd305), 0xa7);
        // B6 00E3
        gbc.setState(0x336a, 0xc272, 0x3670, 0x674, 0x6f79, 0xaf8e, 0x1, 0x0);
        gbc.writeMem(0x336a, { 0xb6 });
        gbc.writeMem(0xaf8e, { 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xc272);
        EXPECT(gbc.pc(), 0x336b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf8e), 0xf5);
        // B6 00E4
        gbc.setState(0x4b8c, 0x7c43, 0x96d0, 0xbbdf, 0x68a9, 0xb8ee, 0x0, 0x0);
        gbc.writeMem(0x4b8c, { 0xb6 });
        gbc.writeMem(0xb8ee, { 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x7c43);
        EXPECT(gbc.pc(), 0x4b8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8ee), 0x5d);
        // B6 00E5
        gbc.setState(0x49c9, 0x694b, 0x63f0, 0x3df8, 0xb732, 0x4b90, 0x1, 0x0);
        gbc.writeMem(0x49c9, { 0xb6 });
        gbc.writeMem(0x4b90, { 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x694b);
        EXPECT(gbc.pc(), 0x49ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00E6
        gbc.setState(0xd74c, 0x8af0, 0xace0, 0x7a1d, 0x9f22, 0x8e40, 0x0, 0x0);
        gbc.writeMem(0x8e40, { 0xf });
        gbc.writeMem(0xd74c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x8af0);
        EXPECT(gbc.pc(), 0xd74d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e40), 0xf);
        EXPECT(gbc.readMem(0xd74c), 0xb6);
        // B6 00E7
        gbc.setState(0xa7f3, 0xc4f5, 0x8310, 0xd7fc, 0xf385, 0x6bb4, 0x1, 0x0);
        gbc.writeMem(0x6bb4, { 0x3b });
        gbc.writeMem(0xa7f3, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xc4f5);
        EXPECT(gbc.pc(), 0xa7f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7f3), 0xb6);
        // B6 00E8
        gbc.setState(0x12bd, 0x5ec2, 0xf100, 0x8f10, 0xb330, 0x8457, 0x0, 0x1);
        gbc.writeMem(0x12bd, { 0xb6 });
        gbc.writeMem(0x8457, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x5ec2);
        EXPECT(gbc.pc(), 0x12be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8457), 0xf);
        // B6 00E9
        gbc.setState(0x18cf, 0xd334, 0xabb0, 0xbf4d, 0x493a, 0xbb86, 0x1, 0x0);
        gbc.writeMem(0x18cf, { 0xb6 });
        gbc.writeMem(0xbb86, { 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xd334);
        EXPECT(gbc.pc(), 0x18d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb86), 0xff);
        // B6 00EA
        gbc.setState(0x1b6d, 0xabd3, 0xe6d0, 0x647, 0x7299, 0x6bf3, 0x0, 0x1);
        gbc.writeMem(0x1b6d, { 0xb6 });
        gbc.writeMem(0x6bf3, { 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xabd3);
        EXPECT(gbc.pc(), 0x1b6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00EB
        gbc.setState(0x43a3, 0x74ef, 0x53d0, 0xc29c, 0x5744, 0x86fa, 0x1, 0x1);
        gbc.writeMem(0x43a3, { 0xb6 });
        gbc.writeMem(0x86fa, { 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x74ef);
        EXPECT(gbc.pc(), 0x43a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86fa), 0x39);
        // B6 00EC
        gbc.setState(0x3ccc, 0x781, 0xfcc0, 0x130f, 0x509f, 0x5fc5, 0x0, 0x1);
        gbc.writeMem(0x3ccc, { 0xb6 });
        gbc.writeMem(0x5fc5, { 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x781);
        EXPECT(gbc.pc(), 0x3ccd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00ED
        gbc.setState(0x9214, 0x7f2d, 0xaf40, 0xde3, 0xe399, 0xd55d, 0x0, 0x1);
        gbc.writeMem(0x9214, { 0xb6 });
        gbc.writeMem(0xd55d, { 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x7f2d);
        EXPECT(gbc.pc(), 0x9215);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9214), 0xb6);
        EXPECT(gbc.readMem(0xd55d), 0x52);
        // B6 00EE
        gbc.setState(0xd021, 0xa7b0, 0x2510, 0xf795, 0x7829, 0xe3c8, 0x1, 0x1);
        gbc.writeMem(0xd021, { 0xb6 });
        gbc.writeMem(0xe3c8, { 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xa7b0);
        EXPECT(gbc.pc(), 0xd022);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd021), 0xb6);
        EXPECT(gbc.readMem(0xe3c8), 0xee);
        // B6 00F0
        gbc.setState(0x6c07, 0xf331, 0xc0a0, 0x7ec, 0xdb79, 0xce4d, 0x0, 0x1);
        gbc.writeMem(0x6c07, { 0xb6 });
        gbc.writeMem(0xce4d, { 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xf331);
        EXPECT(gbc.pc(), 0x6c08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce4d), 0xf2);
        // B6 00F1
        gbc.setState(0x279b, 0xb46f, 0x39e0, 0x5fde, 0x4180, 0x3a15, 0x1, 0x1);
        gbc.writeMem(0x279b, { 0xb6 });
        gbc.writeMem(0x3a15, { 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xb46f);
        EXPECT(gbc.pc(), 0x279c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00F2
        gbc.setState(0x1b43, 0xda26, 0xfb20, 0x7725, 0xff3c, 0x1d11, 0x1, 0x1);
        gbc.writeMem(0x1b43, { 0xb6 });
        gbc.writeMem(0x1d11, { 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xda26);
        EXPECT(gbc.pc(), 0x1b44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00F3
        gbc.setState(0xc7ec, 0xc93f, 0x80c0, 0xd0bc, 0xafe2, 0x263b, 0x0, 0x0);
        gbc.writeMem(0x263b, { 0xe5 });
        gbc.writeMem(0xc7ec, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc93f);
        EXPECT(gbc.pc(), 0xc7ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7ec), 0xb6);
        // B6 00F4
        gbc.setState(0x6744, 0xc37c, 0x5140, 0x94bc, 0x39f7, 0xaccf, 0x0, 0x1);
        gbc.writeMem(0x6744, { 0xb6 });
        gbc.writeMem(0xaccf, { 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xc37c);
        EXPECT(gbc.pc(), 0x6745);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaccf), 0x6c);
        // B6 00F5
        gbc.setState(0x8e89, 0x50a1, 0x4a30, 0x1064, 0xcf53, 0x1c91, 0x1, 0x1);
        gbc.writeMem(0x1c91, { 0xcb });
        gbc.writeMem(0x8e89, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x50a1);
        EXPECT(gbc.pc(), 0x8e8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e89), 0xb6);
        // B6 00F6
        gbc.setState(0xa3dc, 0x5571, 0x28d0, 0x5dd9, 0x3461, 0xe33f, 0x1, 0x0);
        gbc.writeMem(0xa3dc, { 0xb6 });
        gbc.writeMem(0xe33f, { 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x5571);
        EXPECT(gbc.pc(), 0xa3dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3dc), 0xb6);
        EXPECT(gbc.readMem(0xe33f), 0x27);
        // B6 00F7
        gbc.setState(0xdcad, 0xb65b, 0x2bc0, 0xc21e, 0xc986, 0x1f1d, 0x0, 0x1);
        gbc.writeMem(0x1f1d, { 0xc4 });
        gbc.writeMem(0xdcad, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xb65b);
        EXPECT(gbc.pc(), 0xdcae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcad), 0xb6);
        // B6 00F8
        gbc.setState(0x356f, 0x68ea, 0x8720, 0x2890, 0x303b, 0x3db8, 0x1, 0x1);
        gbc.writeMem(0x356f, { 0xb6 });
        gbc.writeMem(0x3db8, { 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x68ea);
        EXPECT(gbc.pc(), 0x3570);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00F9
        gbc.setState(0xbd67, 0xce5a, 0x3250, 0x82da, 0x2194, 0x9458, 0x1, 0x0);
        gbc.writeMem(0x9458, { 0xee });
        gbc.writeMem(0xbd67, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xce5a);
        EXPECT(gbc.pc(), 0xbd68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9458), 0xee);
        EXPECT(gbc.readMem(0xbd67), 0xb6);
        // B6 00FA
        gbc.setState(0x704, 0x2ac7, 0x8460, 0xb8d6, 0xc0d0, 0x1fc5, 0x1, 0x1);
        gbc.writeMem(0x704, { 0xb6 });
        gbc.writeMem(0x1fc5, { 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x2ac7);
        EXPECT(gbc.pc(), 0x705);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00FB
        gbc.setState(0x829a, 0x6bca, 0x2410, 0x5858, 0xef01, 0xc5ce, 0x0, 0x1);
        gbc.writeMem(0x829a, { 0xb6 });
        gbc.writeMem(0xc5ce, { 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x6bca);
        EXPECT(gbc.pc(), 0x829b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x829a), 0xb6);
        EXPECT(gbc.readMem(0xc5ce), 0x6c);
        // B6 00FC
        gbc.setState(0x2055, 0xc36d, 0xa6c0, 0x71c5, 0xc5d4, 0xd865, 0x1, 0x1);
        gbc.writeMem(0x2055, { 0xb6 });
        gbc.writeMem(0xd865, { 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xc36d);
        EXPECT(gbc.pc(), 0x2056);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd865), 0xdb);
        // B6 00FD
        gbc.setState(0xf86, 0xdea7, 0xbda0, 0xe880, 0x4ff6, 0x355f, 0x1, 0x1);
        gbc.writeMem(0xf86, { 0xb6 });
        gbc.writeMem(0x355f, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xdea7);
        EXPECT(gbc.pc(), 0xf87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00FE
        gbc.setState(0x131, 0x9cc6, 0xe2a0, 0xda10, 0xf92c, 0x1628, 0x1, 0x0);
        gbc.writeMem(0x131, { 0xb6 });
        gbc.writeMem(0x1628, { 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x9cc6);
        EXPECT(gbc.pc(), 0x132);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 00FF
        gbc.setState(0xc103, 0xbb49, 0xf870, 0xfdfd, 0x3ad5, 0x81f5, 0x1, 0x0);
        gbc.writeMem(0x81f5, { 0x18 });
        gbc.writeMem(0xc103, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xbb49);
        EXPECT(gbc.pc(), 0xc104);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81f5), 0x18);
        EXPECT(gbc.readMem(0xc103), 0xb6);
        // B6 0100
        gbc.setState(0x553c, 0x41d4, 0x7d0, 0x2e83, 0xb7ae, 0x926c, 0x0, 0x0);
        gbc.writeMem(0x553c, { 0xb6 });
        gbc.writeMem(0x926c, { 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x41d4);
        EXPECT(gbc.pc(), 0x553d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x926c), 0x4);
        // B6 0101
        gbc.setState(0xd854, 0xc65f, 0x8060, 0xed28, 0x61b8, 0x7e3d, 0x1, 0x1);
        gbc.writeMem(0x7e3d, { 0x4 });
        gbc.writeMem(0xd854, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xc65f);
        EXPECT(gbc.pc(), 0xd855);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd854), 0xb6);
        // B6 0102
        gbc.setState(0xd6b7, 0xec6c, 0x32e0, 0x95a3, 0xe74, 0xbb09, 0x1, 0x0);
        gbc.writeMem(0xbb09, { 0x89 });
        gbc.writeMem(0xd6b7, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xec6c);
        EXPECT(gbc.pc(), 0xd6b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb09), 0x89);
        EXPECT(gbc.readMem(0xd6b7), 0xb6);
        // B6 0103
        gbc.setState(0x42df, 0x86c8, 0xe280, 0xfad, 0xa169, 0xde45, 0x1, 0x0);
        gbc.writeMem(0x42df, { 0xb6 });
        gbc.writeMem(0xde45, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x86c8);
        EXPECT(gbc.pc(), 0x42e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde45), 0x37);
        // B6 0104
        gbc.setState(0xa4fe, 0xca41, 0xda70, 0x51c5, 0xa8f3, 0x861d, 0x1, 0x0);
        gbc.writeMem(0x861d, { 0x1d });
        gbc.writeMem(0xa4fe, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xca41);
        EXPECT(gbc.pc(), 0xa4ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x861d), 0x1d);
        EXPECT(gbc.readMem(0xa4fe), 0xb6);
        // B6 0105
        gbc.setState(0xe1eb, 0xa3af, 0x86d0, 0xe9d4, 0xcda0, 0x4651, 0x1, 0x1);
        gbc.writeMem(0x4651, { 0x76 });
        gbc.writeMem(0xe1eb, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xa3af);
        EXPECT(gbc.pc(), 0xe1ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1eb), 0xb6);
        // B6 0106
        gbc.setState(0xc45, 0xf8bd, 0x3a70, 0xff5, 0xca58, 0x98d6, 0x0, 0x0);
        gbc.writeMem(0xc45, { 0xb6 });
        gbc.writeMem(0x98d6, { 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xf8bd);
        EXPECT(gbc.pc(), 0xc46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98d6), 0xc7);
        // B6 0107
        gbc.setState(0xb02f, 0xcc0, 0x5720, 0xfd20, 0xcb7a, 0x1235, 0x1, 0x1);
        gbc.writeMem(0x1235, { 0xd5 });
        gbc.writeMem(0xb02f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xcc0);
        EXPECT(gbc.pc(), 0xb030);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb02f), 0xb6);
        // B6 0108
        gbc.setState(0xbb54, 0xab7a, 0x780, 0x3835, 0x7d6a, 0x67eb, 0x1, 0x0);
        gbc.writeMem(0x67eb, { 0xd5 });
        gbc.writeMem(0xbb54, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xab7a);
        EXPECT(gbc.pc(), 0xbb55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb54), 0xb6);
        // B6 0109
        gbc.setState(0xc7df, 0xc761, 0x9b00, 0x8379, 0xffba, 0x2773, 0x1, 0x0);
        gbc.writeMem(0x2773, { 0xd1 });
        gbc.writeMem(0xc7df, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xc761);
        EXPECT(gbc.pc(), 0xc7e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7df), 0xb6);
        // B6 010A
        gbc.setState(0x7a03, 0xd4a3, 0x4040, 0x69a, 0x97c6, 0xe26a, 0x1, 0x0);
        gbc.writeMem(0x7a03, { 0xb6 });
        gbc.writeMem(0xe26a, { 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xd4a3);
        EXPECT(gbc.pc(), 0x7a04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe26a), 0x6b);
        // B6 010B
        gbc.setState(0x7133, 0xe43f, 0xdd30, 0xbf9a, 0xd4dc, 0x7fc5, 0x0, 0x0);
        gbc.writeMem(0x7133, { 0xb6 });
        gbc.writeMem(0x7fc5, { 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe43f);
        EXPECT(gbc.pc(), 0x7134);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 010C
        gbc.setState(0x71d6, 0x5b15, 0x4850, 0x4762, 0xf578, 0x5950, 0x1, 0x1);
        gbc.writeMem(0x5950, { 0xc3 });
        gbc.writeMem(0x71d6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x5b15);
        EXPECT(gbc.pc(), 0x71d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 010D
        gbc.setState(0x6a93, 0x8c76, 0x82c0, 0x1e35, 0x68fb, 0xd9dd, 0x1, 0x0);
        gbc.writeMem(0x6a93, { 0xb6 });
        gbc.writeMem(0xd9dd, { 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x8c76);
        EXPECT(gbc.pc(), 0x6a94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9dd), 0x3c);
        // B6 010E
        gbc.setState(0xe8ae, 0xff46, 0x4830, 0x89e8, 0x311c, 0x464f, 0x1, 0x1);
        gbc.writeMem(0x464f, { 0x8e });
        gbc.writeMem(0xe8ae, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xff46);
        EXPECT(gbc.pc(), 0xe8af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8ae), 0xb6);
        // B6 010F
        gbc.setState(0x529e, 0xe24f, 0x8f20, 0xd773, 0x964c, 0x910, 0x0, 0x1);
        gbc.writeMem(0x910, { 0x9e });
        gbc.writeMem(0x529e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xe24f);
        EXPECT(gbc.pc(), 0x529f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0110
        gbc.setState(0x77c, 0xdf4c, 0x2fe0, 0xa36a, 0x8f50, 0x5cc2, 0x1, 0x1);
        gbc.writeMem(0x77c, { 0xb6 });
        gbc.writeMem(0x5cc2, { 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xdf4c);
        EXPECT(gbc.pc(), 0x77d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0111
        gbc.setState(0xa606, 0x7ba4, 0xdc0, 0xb136, 0x5f7a, 0x8946, 0x0, 0x0);
        gbc.writeMem(0x8946, { 0xa7 });
        gbc.writeMem(0xa606, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x7ba4);
        EXPECT(gbc.pc(), 0xa607);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8946), 0xa7);
        EXPECT(gbc.readMem(0xa606), 0xb6);
        // B6 0112
        gbc.setState(0x9c71, 0x9b9d, 0xb770, 0xc89b, 0x5340, 0x6eda, 0x1, 0x0);
        gbc.writeMem(0x6eda, { 0xec });
        gbc.writeMem(0x9c71, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x9b9d);
        EXPECT(gbc.pc(), 0x9c72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c71), 0xb6);
        // B6 0113
        gbc.setState(0x980, 0xdfc3, 0xa7b0, 0x46dc, 0xd0a4, 0x4b26, 0x1, 0x0);
        gbc.writeMem(0x980, { 0xb6 });
        gbc.writeMem(0x4b26, { 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xdfc3);
        EXPECT(gbc.pc(), 0x981);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0114
        gbc.setState(0xa81b, 0x9c6d, 0xcf90, 0x4b51, 0xee45, 0x9f81, 0x0, 0x1);
        gbc.writeMem(0x9f81, { 0xa1 });
        gbc.writeMem(0xa81b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x9c6d);
        EXPECT(gbc.pc(), 0xa81c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f81), 0xa1);
        EXPECT(gbc.readMem(0xa81b), 0xb6);
        // B6 0115
        gbc.setState(0x304d, 0xd124, 0xf920, 0x819d, 0x77b, 0x7e51, 0x0, 0x0);
        gbc.writeMem(0x304d, { 0xb6 });
        gbc.writeMem(0x7e51, { 0x40 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xd124);
        EXPECT(gbc.pc(), 0x304e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0116
        gbc.setState(0xb84, 0x8c10, 0xb1d0, 0xe1e8, 0xf96e, 0xb790, 0x0, 0x0);
        gbc.writeMem(0xb84, { 0xb6 });
        gbc.writeMem(0xb790, { 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x8c10);
        EXPECT(gbc.pc(), 0xb85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb790), 0x2b);
        // B6 0117
        gbc.setState(0x7720, 0xe071, 0x5030, 0xe325, 0xf333, 0x20f7, 0x0, 0x0);
        gbc.writeMem(0x20f7, { 0x9 });
        gbc.writeMem(0x7720, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xe071);
        EXPECT(gbc.pc(), 0x7721);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0118
        gbc.setState(0xcbf6, 0xc12d, 0x2740, 0x23b1, 0xd290, 0x7a6a, 0x1, 0x0);
        gbc.writeMem(0x7a6a, { 0xb6 });
        gbc.writeMem(0xcbf6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xc12d);
        EXPECT(gbc.pc(), 0xcbf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbf6), 0xb6);
        // B6 011A
        gbc.setState(0x7a55, 0x4fd8, 0x6510, 0xed36, 0x9b50, 0x3b0d, 0x0, 0x0);
        gbc.writeMem(0x3b0d, { 0xbc });
        gbc.writeMem(0x7a55, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x4fd8);
        EXPECT(gbc.pc(), 0x7a56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 011B
        gbc.setState(0x9f2a, 0x6659, 0x3750, 0xe00, 0x2129, 0x1e53, 0x1, 0x1);
        gbc.writeMem(0x1e53, { 0xda });
        gbc.writeMem(0x9f2a, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x6659);
        EXPECT(gbc.pc(), 0x9f2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f2a), 0xb6);
        // B6 011C
        gbc.setState(0x82ca, 0xa77e, 0x7720, 0x6377, 0xbc94, 0x1041, 0x1, 0x1);
        gbc.writeMem(0x1041, { 0xba });
        gbc.writeMem(0x82ca, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xa77e);
        EXPECT(gbc.pc(), 0x82cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82ca), 0xb6);
        // B6 011D
        gbc.setState(0x6629, 0x5609, 0xbbe0, 0xffe0, 0x5b2c, 0xeb9, 0x1, 0x1);
        gbc.writeMem(0xeb9, { 0x71 });
        gbc.writeMem(0x6629, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x5609);
        EXPECT(gbc.pc(), 0x662a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 011E
        gbc.setState(0xe2c8, 0x84dc, 0xe3f0, 0x3870, 0xc0df, 0x34c6, 0x0, 0x0);
        gbc.writeMem(0x34c6, { 0xe7 });
        gbc.writeMem(0xe2c8, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x84dc);
        EXPECT(gbc.pc(), 0xe2c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2c8), 0xb6);
        // B6 011F
        gbc.setState(0x79b5, 0xb74b, 0xb2e0, 0xfb92, 0x3e73, 0x6620, 0x0, 0x1);
        gbc.writeMem(0x6620, { 0x6d });
        gbc.writeMem(0x79b5, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xb74b);
        EXPECT(gbc.pc(), 0x79b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0120
        gbc.setState(0x17c0, 0x724e, 0xd470, 0xf133, 0xbed9, 0xefee, 0x1, 0x1);
        gbc.writeMem(0x17c0, { 0xb6 });
        gbc.writeMem(0xefee, { 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x724e);
        EXPECT(gbc.pc(), 0x17c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefee), 0x25);
        // B6 0121
        gbc.setState(0x235d, 0xa367, 0x3b80, 0x5201, 0x54e7, 0x3a52, 0x1, 0x0);
        gbc.writeMem(0x235d, { 0xb6 });
        gbc.writeMem(0x3a52, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xa367);
        EXPECT(gbc.pc(), 0x235e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0122
        gbc.setState(0x9dc7, 0x854c, 0x6fe0, 0x40e3, 0x64a, 0x9989, 0x1, 0x0);
        gbc.writeMem(0x9989, { 0x28 });
        gbc.writeMem(0x9dc7, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x854c);
        EXPECT(gbc.pc(), 0x9dc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9989), 0x28);
        EXPECT(gbc.readMem(0x9dc7), 0xb6);
        // B6 0123
        gbc.setState(0x52a0, 0xc7c9, 0xfbb0, 0x4921, 0xc8f4, 0x9076, 0x1, 0x1);
        gbc.writeMem(0x52a0, { 0xb6 });
        gbc.writeMem(0x9076, { 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xc7c9);
        EXPECT(gbc.pc(), 0x52a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9076), 0xf6);
        // B6 0124
        gbc.setState(0x958, 0x37ab, 0x34c0, 0xe8dc, 0x350c, 0xb6f2, 0x1, 0x0);
        gbc.writeMem(0x958, { 0xb6 });
        gbc.writeMem(0xb6f2, { 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x37ab);
        EXPECT(gbc.pc(), 0x959);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6f2), 0xae);
        // B6 0125
        gbc.setState(0x2788, 0xc2a2, 0x8030, 0x4bea, 0x3e6b, 0xe640, 0x0, 0x1);
        gbc.writeMem(0x2788, { 0xb6 });
        gbc.writeMem(0xe640, { 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xc2a2);
        EXPECT(gbc.pc(), 0x2789);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe640), 0x91);
        // B6 0126
        gbc.setState(0x8ae0, 0xdbf8, 0x9b80, 0xef19, 0x953d, 0x81d1, 0x0, 0x0);
        gbc.writeMem(0x81d1, { 0x43 });
        gbc.writeMem(0x8ae0, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xdbf8);
        EXPECT(gbc.pc(), 0x8ae1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81d1), 0x43);
        EXPECT(gbc.readMem(0x8ae0), 0xb6);
        // B6 0127
        gbc.setState(0x3ca, 0xf773, 0x6fc0, 0xa477, 0x94f7, 0xa25e, 0x0, 0x0);
        gbc.writeMem(0x3ca, { 0xb6 });
        gbc.writeMem(0xa25e, { 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xf773);
        EXPECT(gbc.pc(), 0x3cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa25e), 0x5b);
        // B6 0128
        gbc.setState(0xeb7f, 0x2b8d, 0xba80, 0x5b8f, 0x2898, 0x1c10, 0x0, 0x1);
        gbc.writeMem(0x1c10, { 0xf5 });
        gbc.writeMem(0xeb7f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x2b8d);
        EXPECT(gbc.pc(), 0xeb80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb7f), 0xb6);
        // B6 0129
        gbc.setState(0x5719, 0xc313, 0x1610, 0x6685, 0x7e1e, 0x9b63, 0x1, 0x0);
        gbc.writeMem(0x5719, { 0xb6 });
        gbc.writeMem(0x9b63, { 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xc313);
        EXPECT(gbc.pc(), 0x571a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b63), 0xbb);
        // B6 012A
        gbc.setState(0x63c1, 0x575a, 0x97e0, 0xa99f, 0x482, 0xdd43, 0x1, 0x1);
        gbc.writeMem(0x63c1, { 0xb6 });
        gbc.writeMem(0xdd43, { 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x575a);
        EXPECT(gbc.pc(), 0x63c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd43), 0x73);
        // B6 012B
        gbc.setState(0xa625, 0x9e66, 0xb790, 0x79b8, 0x7018, 0x7609, 0x1, 0x0);
        gbc.writeMem(0x7609, { 0x8d });
        gbc.writeMem(0xa625, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x9e66);
        EXPECT(gbc.pc(), 0xa626);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa625), 0xb6);
        // B6 012C
        gbc.setState(0xa9fa, 0x4c9f, 0xa350, 0x9ce9, 0x957c, 0x6800, 0x0, 0x0);
        gbc.writeMem(0x6800, { 0xa5 });
        gbc.writeMem(0xa9fa, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x4c9f);
        EXPECT(gbc.pc(), 0xa9fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9fa), 0xb6);
        // B6 012D
        gbc.setState(0x4ce2, 0xe9f0, 0xc00, 0x32a8, 0xa028, 0x4680, 0x0, 0x0);
        gbc.writeMem(0x4680, { 0x7a });
        gbc.writeMem(0x4ce2, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xe9f0);
        EXPECT(gbc.pc(), 0x4ce3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 012E
        gbc.setState(0x4a24, 0xdbe7, 0x34b0, 0x5b98, 0x4e3, 0x7334, 0x1, 0x1);
        gbc.writeMem(0x4a24, { 0xb6 });
        gbc.writeMem(0x7334, { 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xdbe7);
        EXPECT(gbc.pc(), 0x4a25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0130
        gbc.setState(0xdf25, 0x8976, 0x3400, 0x5d3f, 0xde07, 0xfd8f, 0x0, 0x1);
        gbc.writeMem(0xdf25, { 0xb6 });
        gbc.writeMem(0xfd8f, { 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x8976);
        EXPECT(gbc.pc(), 0xdf26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf25), 0xb6);
        EXPECT(gbc.readMem(0xfd8f), 0xe2);
        // B6 0131
        gbc.setState(0x3080, 0x899b, 0xca50, 0x722e, 0xe88a, 0xff77, 0x0, 0x0);
        gbc.writeMem(0x3080, { 0xb6 });
        gbc.writeMem(0xff77, { 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x899b);
        EXPECT(gbc.pc(), 0x3081);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xff77), 0x52);
        // B6 0133
        gbc.setState(0x5679, 0xa309, 0xab00, 0x75a4, 0x6164, 0x3753, 0x0, 0x1);
        gbc.writeMem(0x3753, { 0xdd });
        gbc.writeMem(0x5679, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xa309);
        EXPECT(gbc.pc(), 0x567a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0134
        gbc.setState(0x4870, 0x3d5c, 0xb720, 0x914c, 0x4ffb, 0xd65e, 0x0, 0x0);
        gbc.writeMem(0x4870, { 0xb6 });
        gbc.writeMem(0xd65e, { 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x3d5c);
        EXPECT(gbc.pc(), 0x4871);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd65e), 0x8c);
        // B6 0135
        gbc.setState(0x4f79, 0x9814, 0x7b60, 0x78df, 0xbee5, 0x9cb3, 0x1, 0x1);
        gbc.writeMem(0x4f79, { 0xb6 });
        gbc.writeMem(0x9cb3, { 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x9814);
        EXPECT(gbc.pc(), 0x4f7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cb3), 0x98);
        // B6 0136
        gbc.setState(0xeb6e, 0xed86, 0x5270, 0xc135, 0x6671, 0x4be, 0x0, 0x0);
        gbc.writeMem(0x4be, { 0x5e });
        gbc.writeMem(0xeb6e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xed86);
        EXPECT(gbc.pc(), 0xeb6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb6e), 0xb6);
        // B6 0137
        gbc.setState(0x1db1, 0x9fbe, 0x20d0, 0x1f6, 0xacb4, 0x2d1b, 0x0, 0x1);
        gbc.writeMem(0x1db1, { 0xb6 });
        gbc.writeMem(0x2d1b, { 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x9fbe);
        EXPECT(gbc.pc(), 0x1db2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0139
        gbc.setState(0xe422, 0xaefd, 0x9930, 0xc848, 0xc32f, 0x1c3e, 0x0, 0x1);
        gbc.writeMem(0x1c3e, { 0x6e });
        gbc.writeMem(0xe422, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xaefd);
        EXPECT(gbc.pc(), 0xe423);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe422), 0xb6);
        // B6 013A
        gbc.setState(0x5ca5, 0x99ef, 0x6960, 0x58cb, 0x6036, 0x6315, 0x0, 0x0);
        gbc.writeMem(0x5ca5, { 0xb6 });
        gbc.writeMem(0x6315, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x99ef);
        EXPECT(gbc.pc(), 0x5ca6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 013B
        gbc.setState(0x66f2, 0x985, 0x9ce0, 0xe452, 0xe9b2, 0x896d, 0x0, 0x1);
        gbc.writeMem(0x66f2, { 0xb6 });
        gbc.writeMem(0x896d, { 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x985);
        EXPECT(gbc.pc(), 0x66f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x896d), 0xf9);
        // B6 013C
        gbc.setState(0x963d, 0x4753, 0x98a0, 0x87a7, 0xaae3, 0xb2bb, 0x1, 0x1);
        gbc.writeMem(0x963d, { 0xb6 });
        gbc.writeMem(0xb2bb, { 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x4753);
        EXPECT(gbc.pc(), 0x963e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x963d), 0xb6);
        EXPECT(gbc.readMem(0xb2bb), 0xb3);
        // B6 013D
        gbc.setState(0x705c, 0xea5c, 0xf3d0, 0x15e3, 0xd840, 0xde97, 0x1, 0x0);
        gbc.writeMem(0x705c, { 0xb6 });
        gbc.writeMem(0xde97, { 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xea5c);
        EXPECT(gbc.pc(), 0x705d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde97), 0x9b);
        // B6 013E
        gbc.setState(0xa6b6, 0xb756, 0x5ec0, 0xd37e, 0x9836, 0x4cde, 0x0, 0x1);
        gbc.writeMem(0x4cde, { 0x6 });
        gbc.writeMem(0xa6b6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xb756);
        EXPECT(gbc.pc(), 0xa6b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6b6), 0xb6);
        // B6 013F
        gbc.setState(0xe1a, 0x2a47, 0x67d0, 0x2edf, 0x4f7c, 0x5da6, 0x0, 0x1);
        gbc.writeMem(0xe1a, { 0xb6 });
        gbc.writeMem(0x5da6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x2a47);
        EXPECT(gbc.pc(), 0xe1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0140
        gbc.setState(0x5fe0, 0xae42, 0xd570, 0x8a0f, 0x8a09, 0x470, 0x0, 0x1);
        gbc.writeMem(0x470, { 0x32 });
        gbc.writeMem(0x5fe0, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xae42);
        EXPECT(gbc.pc(), 0x5fe1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0141
        gbc.setState(0x4687, 0xa781, 0x7880, 0xae88, 0xc78c, 0x555f, 0x1, 0x0);
        gbc.writeMem(0x4687, { 0xb6 });
        gbc.writeMem(0x555f, { 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xa781);
        EXPECT(gbc.pc(), 0x4688);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0142
        gbc.setState(0xb60c, 0xa63d, 0xf780, 0x5a18, 0x33d9, 0x21c0, 0x0, 0x1);
        gbc.writeMem(0x21c0, { 0x5e });
        gbc.writeMem(0xb60c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xa63d);
        EXPECT(gbc.pc(), 0xb60d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb60c), 0xb6);
        // B6 0143
        gbc.setState(0xd1f7, 0x49e3, 0x70a0, 0x20a5, 0xfea1, 0xfbca, 0x1, 0x1);
        gbc.writeMem(0xd1f7, { 0xb6 });
        gbc.writeMem(0xfbca, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x49e3);
        EXPECT(gbc.pc(), 0xd1f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1f7), 0xb6);
        EXPECT(gbc.readMem(0xfbca), 0x41);
        // B6 0144
        gbc.setState(0x9559, 0x6a33, 0x8500, 0x7f65, 0x729b, 0x7913, 0x0, 0x1);
        gbc.writeMem(0x7913, { 0x15 });
        gbc.writeMem(0x9559, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x6a33);
        EXPECT(gbc.pc(), 0x955a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9559), 0xb6);
        // B6 0145
        gbc.setState(0x1d88, 0xe5c0, 0x4fc0, 0xc0c, 0x6da3, 0x254b, 0x0, 0x1);
        gbc.writeMem(0x1d88, { 0xb6 });
        gbc.writeMem(0x254b, { 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xe5c0);
        EXPECT(gbc.pc(), 0x1d89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0146
        gbc.setState(0x5c61, 0x8360, 0x9e40, 0x41c3, 0xbd53, 0x85c4, 0x0, 0x1);
        gbc.writeMem(0x5c61, { 0xb6 });
        gbc.writeMem(0x85c4, { 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x8360);
        EXPECT(gbc.pc(), 0x5c62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85c4), 0x72);
        // B6 0147
        gbc.setState(0xd4c2, 0xac83, 0xa040, 0x6616, 0x5b30, 0x8025, 0x0, 0x0);
        gbc.writeMem(0x8025, { 0x67 });
        gbc.writeMem(0xd4c2, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xac83);
        EXPECT(gbc.pc(), 0xd4c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8025), 0x67);
        EXPECT(gbc.readMem(0xd4c2), 0xb6);
        // B6 0148
        gbc.setState(0xd895, 0xb655, 0x56f0, 0x8092, 0x5868, 0xdd8b, 0x1, 0x0);
        gbc.writeMem(0xd895, { 0xb6 });
        gbc.writeMem(0xdd8b, { 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xb655);
        EXPECT(gbc.pc(), 0xd896);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd895), 0xb6);
        EXPECT(gbc.readMem(0xdd8b), 0x7a);
        // B6 0149
        gbc.setState(0xe297, 0xacf3, 0x4fa0, 0xb036, 0x7f70, 0x6e5, 0x1, 0x1);
        gbc.writeMem(0x6e5, { 0xe3 });
        gbc.writeMem(0xe297, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xacf3);
        EXPECT(gbc.pc(), 0xe298);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe297), 0xb6);
        // B6 014A
        gbc.setState(0xe16d, 0xf15b, 0x160, 0xfcb0, 0xc3cb, 0x7b63, 0x1, 0x1);
        gbc.writeMem(0x7b63, { 0xdb });
        gbc.writeMem(0xe16d, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xf15b);
        EXPECT(gbc.pc(), 0xe16e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe16d), 0xb6);
        // B6 014C
        gbc.setState(0x331b, 0xe172, 0xeda0, 0x18db, 0x151d, 0x24fe, 0x1, 0x0);
        gbc.writeMem(0x24fe, { 0x9f });
        gbc.writeMem(0x331b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe172);
        EXPECT(gbc.pc(), 0x331c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 014D
        gbc.setState(0x1940, 0x8016, 0x210, 0xe544, 0xf3d6, 0x9598, 0x1, 0x1);
        gbc.writeMem(0x1940, { 0xb6 });
        gbc.writeMem(0x9598, { 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x8016);
        EXPECT(gbc.pc(), 0x1941);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9598), 0xe3);
        // B6 014E
        gbc.setState(0x94b2, 0xa52b, 0xe070, 0x5b35, 0x648a, 0x33b6, 0x0, 0x0);
        gbc.writeMem(0x33b6, { 0xdf });
        gbc.writeMem(0x94b2, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xa52b);
        EXPECT(gbc.pc(), 0x94b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94b2), 0xb6);
        // B6 014F
        gbc.setState(0x7de2, 0xe4e5, 0x9340, 0x6562, 0x6d0b, 0xb41b, 0x0, 0x0);
        gbc.writeMem(0x7de2, { 0xb6 });
        gbc.writeMem(0xb41b, { 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe4e5);
        EXPECT(gbc.pc(), 0x7de3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb41b), 0x36);
        // B6 0151
        gbc.setState(0xa963, 0x1c06, 0x2360, 0x3dce, 0x160d, 0xa3c, 0x0, 0x0);
        gbc.writeMem(0xa3c, { 0xa9 });
        gbc.writeMem(0xa963, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x1c06);
        EXPECT(gbc.pc(), 0xa964);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa963), 0xb6);
        // B6 0152
        gbc.setState(0xa172, 0x8cbe, 0x5890, 0x46ff, 0x2759, 0xcc74, 0x1, 0x0);
        gbc.writeMem(0xa172, { 0xb6 });
        gbc.writeMem(0xcc74, { 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x8cbe);
        EXPECT(gbc.pc(), 0xa173);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa172), 0xb6);
        EXPECT(gbc.readMem(0xcc74), 0x28);
        // B6 0153
        gbc.setState(0x745b, 0xe688, 0xd250, 0xf33a, 0xca27, 0x7f48, 0x0, 0x1);
        gbc.writeMem(0x745b, { 0xb6 });
        gbc.writeMem(0x7f48, { 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xe688);
        EXPECT(gbc.pc(), 0x745c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0154
        gbc.setState(0x2cdd, 0x8875, 0xc240, 0x5ea1, 0xb741, 0xf9f6, 0x0, 0x1);
        gbc.writeMem(0x2cdd, { 0xb6 });
        gbc.writeMem(0xf9f6, { 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x8875);
        EXPECT(gbc.pc(), 0x2cde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf9f6), 0x6d);
        // B6 0155
        gbc.setState(0x5a6d, 0x9c12, 0xe560, 0x367b, 0x4c31, 0x7ddc, 0x1, 0x0);
        gbc.writeMem(0x5a6d, { 0xb6 });
        gbc.writeMem(0x7ddc, { 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x9c12);
        EXPECT(gbc.pc(), 0x5a6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0156
        gbc.setState(0x1acf, 0xc893, 0xcb30, 0x2612, 0x1584, 0x2578, 0x1, 0x0);
        gbc.writeMem(0x1acf, { 0xb6 });
        gbc.writeMem(0x2578, { 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xc893);
        EXPECT(gbc.pc(), 0x1ad0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0157
        gbc.setState(0xb682, 0x5b9f, 0x5f30, 0xaa9f, 0x1f80, 0x68bb, 0x1, 0x1);
        gbc.writeMem(0x68bb, { 0x7b });
        gbc.writeMem(0xb682, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x5b9f);
        EXPECT(gbc.pc(), 0xb683);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb682), 0xb6);
        // B6 0158
        gbc.setState(0xc482, 0xd7b8, 0xd3e0, 0x21c0, 0x968b, 0xd753, 0x1, 0x1);
        gbc.writeMem(0xc482, { 0xb6 });
        gbc.writeMem(0xd753, { 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xd7b8);
        EXPECT(gbc.pc(), 0xc483);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc482), 0xb6);
        EXPECT(gbc.readMem(0xd753), 0xa);
        // B6 0159
        gbc.setState(0x9104, 0x9afa, 0xe240, 0xe21b, 0xcd16, 0x1131, 0x1, 0x0);
        gbc.writeMem(0x1131, { 0x5c });
        gbc.writeMem(0x9104, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x9afa);
        EXPECT(gbc.pc(), 0x9105);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9104), 0xb6);
        // B6 015A
        gbc.setState(0xb595, 0x49fb, 0xcff0, 0xff86, 0xb2f, 0x9abc, 0x0, 0x0);
        gbc.writeMem(0x9abc, { 0xcb });
        gbc.writeMem(0xb595, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x49fb);
        EXPECT(gbc.pc(), 0xb596);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9abc), 0xcb);
        EXPECT(gbc.readMem(0xb595), 0xb6);
        // B6 015B
        gbc.setState(0x3a3, 0x1f93, 0xf5e0, 0xf7e, 0x4298, 0x7ea6, 0x0, 0x1);
        gbc.writeMem(0x3a3, { 0xb6 });
        gbc.writeMem(0x7ea6, { 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x1f93);
        EXPECT(gbc.pc(), 0x3a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 015C
        gbc.setState(0x2796, 0x8218, 0x9730, 0x12d8, 0x5a69, 0xfd71, 0x0, 0x0);
        gbc.writeMem(0x2796, { 0xb6 });
        gbc.writeMem(0xfd71, { 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x8218);
        EXPECT(gbc.pc(), 0x2797);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfd71), 0x3b);
        // B6 015D
        gbc.setState(0x6604, 0x5bf2, 0xea50, 0xa129, 0x38f4, 0x93f5, 0x1, 0x1);
        gbc.writeMem(0x6604, { 0xb6 });
        gbc.writeMem(0x93f5, { 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x5bf2);
        EXPECT(gbc.pc(), 0x6605);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93f5), 0x7e);
        // B6 015E
        gbc.setState(0x180d, 0x3116, 0x3950, 0xa855, 0x6757, 0x999, 0x1, 0x1);
        gbc.writeMem(0x999, { 0xfd });
        gbc.writeMem(0x180d, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x3116);
        EXPECT(gbc.pc(), 0x180e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 015F
        gbc.setState(0x7f25, 0x845b, 0xfc70, 0xa975, 0x571f, 0xaff0, 0x1, 0x1);
        gbc.writeMem(0x7f25, { 0xb6 });
        gbc.writeMem(0xaff0, { 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x845b);
        EXPECT(gbc.pc(), 0x7f26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaff0), 0x1d);
        // B6 0160
        gbc.setState(0x318c, 0xbb00, 0x5900, 0xc222, 0xfdce, 0xd633, 0x1, 0x1);
        gbc.writeMem(0x318c, { 0xb6 });
        gbc.writeMem(0xd633, { 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xbb00);
        EXPECT(gbc.pc(), 0x318d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd633), 0x82);
        // B6 0161
        gbc.setState(0x3777, 0x7604, 0xe180, 0x396f, 0x6edd, 0x2c2d, 0x1, 0x1);
        gbc.writeMem(0x2c2d, { 0xfe });
        gbc.writeMem(0x3777, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x7604);
        EXPECT(gbc.pc(), 0x3778);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0162
        gbc.setState(0x6f4e, 0xe2f8, 0xb070, 0xd68a, 0xb61e, 0x9ff, 0x0, 0x0);
        gbc.writeMem(0x9ff, { 0x3a });
        gbc.writeMem(0x6f4e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xe2f8);
        EXPECT(gbc.pc(), 0x6f4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0163
        gbc.setState(0x564c, 0x6cda, 0xce60, 0xe7ca, 0x74db, 0xf899, 0x1, 0x0);
        gbc.writeMem(0x564c, { 0xb6 });
        gbc.writeMem(0xf899, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x6cda);
        EXPECT(gbc.pc(), 0x564d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf899), 0x17);
        // B6 0164
        gbc.setState(0xc915, 0x85f6, 0x79e0, 0x333, 0xfc08, 0x9ab2, 0x0, 0x0);
        gbc.writeMem(0x9ab2, { 0xe3 });
        gbc.writeMem(0xc915, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x85f6);
        EXPECT(gbc.pc(), 0xc916);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ab2), 0xe3);
        EXPECT(gbc.readMem(0xc915), 0xb6);
        // B6 0165
        gbc.setState(0x4c43, 0x2da1, 0x7640, 0xf32c, 0x672a, 0x5f15, 0x1, 0x0);
        gbc.writeMem(0x4c43, { 0xb6 });
        gbc.writeMem(0x5f15, { 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x2da1);
        EXPECT(gbc.pc(), 0x4c44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0166
        gbc.setState(0x1012, 0x9bd6, 0xb0c0, 0xd08f, 0xf19b, 0x9eb1, 0x1, 0x0);
        gbc.writeMem(0x1012, { 0xb6 });
        gbc.writeMem(0x9eb1, { 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x9bd6);
        EXPECT(gbc.pc(), 0x1013);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eb1), 0xee);
        // B6 0167
        gbc.setState(0x1fa9, 0xdd54, 0x90b0, 0xfc98, 0x2118, 0xb5c, 0x1, 0x0);
        gbc.writeMem(0xb5c, { 0xf });
        gbc.writeMem(0x1fa9, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xdd54);
        EXPECT(gbc.pc(), 0x1faa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0168
        gbc.setState(0x9e2a, 0x3ffd, 0x25e0, 0x8d69, 0xe700, 0xdd6a, 0x1, 0x0);
        gbc.writeMem(0x9e2a, { 0xb6 });
        gbc.writeMem(0xdd6a, { 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x3ffd);
        EXPECT(gbc.pc(), 0x9e2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e2a), 0xb6);
        EXPECT(gbc.readMem(0xdd6a), 0x11);
        // B6 016A
        gbc.setState(0x7bea, 0x3b50, 0x25e0, 0x8b09, 0xf77, 0xc922, 0x0, 0x1);
        gbc.writeMem(0x7bea, { 0xb6 });
        gbc.writeMem(0xc922, { 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x3b50);
        EXPECT(gbc.pc(), 0x7beb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc922), 0xa3);
        // B6 016B
        gbc.setState(0xd4e5, 0x55ee, 0xf780, 0x35b6, 0x242c, 0x6ca2, 0x1, 0x0);
        gbc.writeMem(0x6ca2, { 0x54 });
        gbc.writeMem(0xd4e5, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x55ee);
        EXPECT(gbc.pc(), 0xd4e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4e5), 0xb6);
        // B6 016C
        gbc.setState(0x3d48, 0xd00c, 0x7d20, 0xff78, 0x5ab2, 0x57fc, 0x1, 0x0);
        gbc.writeMem(0x3d48, { 0xb6 });
        gbc.writeMem(0x57fc, { 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xd00c);
        EXPECT(gbc.pc(), 0x3d49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 016D
        gbc.setState(0x1461, 0x44fc, 0x7c10, 0xf70e, 0x73ab, 0xc77a, 0x0, 0x1);
        gbc.writeMem(0x1461, { 0xb6 });
        gbc.writeMem(0xc77a, { 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x44fc);
        EXPECT(gbc.pc(), 0x1462);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc77a), 0x70);
        // B6 016E
        gbc.setState(0xadfb, 0xebae, 0x39a0, 0xa274, 0x41f0, 0xc157, 0x1, 0x1);
        gbc.writeMem(0xadfb, { 0xb6 });
        gbc.writeMem(0xc157, { 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xebae);
        EXPECT(gbc.pc(), 0xadfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadfb), 0xb6);
        EXPECT(gbc.readMem(0xc157), 0xbc);
        // B6 016F
        gbc.setState(0x4f3c, 0x821, 0xa1e0, 0x1913, 0xbbbf, 0xedb3, 0x1, 0x0);
        gbc.writeMem(0x4f3c, { 0xb6 });
        gbc.writeMem(0xedb3, { 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x821);
        EXPECT(gbc.pc(), 0x4f3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedb3), 0x39);
        // B6 0170
        gbc.setState(0x806c, 0xeadd, 0xf6b0, 0xaa2d, 0x48e2, 0xc9ca, 0x0, 0x0);
        gbc.writeMem(0x806c, { 0xb6 });
        gbc.writeMem(0xc9ca, { 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xeadd);
        EXPECT(gbc.pc(), 0x806d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x806c), 0xb6);
        EXPECT(gbc.readMem(0xc9ca), 0xa4);
        // B6 0172
        gbc.setState(0x8619, 0xbecc, 0x6f70, 0xae71, 0xb422, 0x1c8e, 0x1, 0x0);
        gbc.writeMem(0x1c8e, { 0x38 });
        gbc.writeMem(0x8619, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xbecc);
        EXPECT(gbc.pc(), 0x861a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8619), 0xb6);
        // B6 0173
        gbc.setState(0xd8a6, 0x8b0c, 0x2310, 0x48d6, 0xeecd, 0x40d5, 0x1, 0x1);
        gbc.writeMem(0x40d5, { 0x4e });
        gbc.writeMem(0xd8a6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x8b0c);
        EXPECT(gbc.pc(), 0xd8a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8a6), 0xb6);
        // B6 0174
        gbc.setState(0x19e3, 0x732c, 0xb470, 0x528, 0xfeb9, 0x679c, 0x1, 0x0);
        gbc.writeMem(0x19e3, { 0xb6 });
        gbc.writeMem(0x679c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x732c);
        EXPECT(gbc.pc(), 0x19e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0175
        gbc.setState(0xb7b1, 0xf338, 0x3e10, 0x38f1, 0x201e, 0xff3b, 0x0, 0x1);
        gbc.writeMem(0xb7b1, { 0xb6 });
        gbc.writeMem(0xff3b, { 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xf338);
        EXPECT(gbc.pc(), 0xb7b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7b1), 0xb6);
        EXPECT(gbc.readMem(0xff3b), 0xb2);
        // B6 0176
        gbc.setState(0x9250, 0xca07, 0x9980, 0xa120, 0xe8e2, 0x7452, 0x1, 0x0);
        gbc.writeMem(0x7452, { 0x30 });
        gbc.writeMem(0x9250, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xca07);
        EXPECT(gbc.pc(), 0x9251);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9250), 0xb6);
        // B6 0177
        gbc.setState(0x2079, 0x9d49, 0xe9a0, 0x5ecb, 0xed70, 0x29db, 0x0, 0x0);
        gbc.writeMem(0x2079, { 0xb6 });
        gbc.writeMem(0x29db, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x9d49);
        EXPECT(gbc.pc(), 0x207a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0178
        gbc.setState(0x677f, 0xcd4e, 0x4340, 0x2262, 0x63c8, 0xeba2, 0x0, 0x1);
        gbc.writeMem(0x677f, { 0xb6 });
        gbc.writeMem(0xeba2, { 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xcd4e);
        EXPECT(gbc.pc(), 0x6780);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeba2), 0xd);
        // B6 0179
        gbc.setState(0xe357, 0x5e83, 0x9b20, 0x62e6, 0x497, 0xd91a, 0x0, 0x1);
        gbc.writeMem(0xd91a, { 0xa4 });
        gbc.writeMem(0xe357, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x5e83);
        EXPECT(gbc.pc(), 0xe358);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd91a), 0xa4);
        EXPECT(gbc.readMem(0xe357), 0xb6);
        // B6 017A
        gbc.setState(0x6952, 0x4827, 0x64b0, 0x5517, 0x8505, 0xd22c, 0x0, 0x0);
        gbc.writeMem(0x6952, { 0xb6 });
        gbc.writeMem(0xd22c, { 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x4827);
        EXPECT(gbc.pc(), 0x6953);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd22c), 0x8);
        // B6 017B
        gbc.setState(0xd145, 0x3aa8, 0x5080, 0xb103, 0x8efd, 0x105, 0x1, 0x1);
        gbc.writeMem(0x105, { 0xa });
        gbc.writeMem(0xd145, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x3aa8);
        EXPECT(gbc.pc(), 0xd146);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd145), 0xb6);
        // B6 017C
        gbc.setState(0x150d, 0x4cc9, 0x8820, 0x6d8e, 0x3419, 0xf582, 0x1, 0x0);
        gbc.writeMem(0x150d, { 0xb6 });
        gbc.writeMem(0xf582, { 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x4cc9);
        EXPECT(gbc.pc(), 0x150e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf582), 0x4b);
        // B6 017D
        gbc.setState(0x7552, 0x334e, 0xbb90, 0xb763, 0x232, 0xc164, 0x0, 0x0);
        gbc.writeMem(0x7552, { 0xb6 });
        gbc.writeMem(0xc164, { 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x334e);
        EXPECT(gbc.pc(), 0x7553);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc164), 0x6);
        // B6 017E
        gbc.setState(0xbe41, 0x5370, 0x6bf0, 0x7efe, 0x80d3, 0x82b1, 0x1, 0x1);
        gbc.writeMem(0x82b1, { 0x8e });
        gbc.writeMem(0xbe41, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x5370);
        EXPECT(gbc.pc(), 0xbe42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82b1), 0x8e);
        EXPECT(gbc.readMem(0xbe41), 0xb6);
        // B6 017F
        gbc.setState(0xd448, 0xde7a, 0x46c0, 0xebf0, 0x89a3, 0x3b8a, 0x0, 0x1);
        gbc.writeMem(0x3b8a, { 0x28 });
        gbc.writeMem(0xd448, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xde7a);
        EXPECT(gbc.pc(), 0xd449);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd448), 0xb6);
        // B6 0180
        gbc.setState(0x30dc, 0xc4e0, 0x2f10, 0x9a54, 0xf971, 0x724d, 0x0, 0x1);
        gbc.writeMem(0x30dc, { 0xb6 });
        gbc.writeMem(0x724d, { 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xc4e0);
        EXPECT(gbc.pc(), 0x30dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0182
        gbc.setState(0x36ea, 0x438, 0xe630, 0x2cf4, 0x701e, 0x8281, 0x0, 0x0);
        gbc.writeMem(0x36ea, { 0xb6 });
        gbc.writeMem(0x8281, { 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x438);
        EXPECT(gbc.pc(), 0x36eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8281), 0xb8);
        // B6 0183
        gbc.setState(0x42c5, 0x59c7, 0x5be0, 0x6ed1, 0x4609, 0xaa41, 0x0, 0x1);
        gbc.writeMem(0x42c5, { 0xb6 });
        gbc.writeMem(0xaa41, { 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x59c7);
        EXPECT(gbc.pc(), 0x42c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa41), 0xe3);
        // B6 0184
        gbc.setState(0xb148, 0x2e80, 0xce30, 0x7ea3, 0x82fa, 0x3783, 0x0, 0x1);
        gbc.writeMem(0x3783, { 0x50 });
        gbc.writeMem(0xb148, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x2e80);
        EXPECT(gbc.pc(), 0xb149);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb148), 0xb6);
        // B6 0185
        gbc.setState(0x4184, 0xb3aa, 0x9e20, 0x8fb8, 0xebf4, 0xce01, 0x1, 0x1);
        gbc.writeMem(0x4184, { 0xb6 });
        gbc.writeMem(0xce01, { 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xb3aa);
        EXPECT(gbc.pc(), 0x4185);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce01), 0xd5);
        // B6 0186
        gbc.setState(0xb0f8, 0x50f2, 0x62d0, 0x88b1, 0xb9bb, 0xa6c8, 0x1, 0x0);
        gbc.writeMem(0xa6c8, { 0x91 });
        gbc.writeMem(0xb0f8, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x50f2);
        EXPECT(gbc.pc(), 0xb0f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6c8), 0x91);
        EXPECT(gbc.readMem(0xb0f8), 0xb6);
        // B6 0187
        gbc.setState(0xba01, 0xe5d0, 0x8ae0, 0x1a51, 0x500, 0x248b, 0x0, 0x1);
        gbc.writeMem(0x248b, { 0xd7 });
        gbc.writeMem(0xba01, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xe5d0);
        EXPECT(gbc.pc(), 0xba02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba01), 0xb6);
        // B6 0188
        gbc.setState(0xb3a0, 0xfbaf, 0xfc90, 0xb6df, 0xc711, 0x95f, 0x1, 0x1);
        gbc.writeMem(0x95f, { 0xfb });
        gbc.writeMem(0xb3a0, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xfbaf);
        EXPECT(gbc.pc(), 0xb3a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3a0), 0xb6);
        // B6 0189
        gbc.setState(0x1aa2, 0x1eb5, 0x6050, 0x2577, 0xfae6, 0x6d1e, 0x1, 0x0);
        gbc.writeMem(0x1aa2, { 0xb6 });
        gbc.writeMem(0x6d1e, { 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x1eb5);
        EXPECT(gbc.pc(), 0x1aa3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 018A
        gbc.setState(0x31f5, 0xfc38, 0xea50, 0xede1, 0x8b5d, 0x347, 0x1, 0x1);
        gbc.writeMem(0x347, { 0x5f });
        gbc.writeMem(0x31f5, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xfc38);
        EXPECT(gbc.pc(), 0x31f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 018B
        gbc.setState(0xaf0b, 0xde51, 0xfb10, 0x2b24, 0xe387, 0x262a, 0x1, 0x1);
        gbc.writeMem(0x262a, { 0x3c });
        gbc.writeMem(0xaf0b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xde51);
        EXPECT(gbc.pc(), 0xaf0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf0b), 0xb6);
        // B6 018C
        gbc.setState(0x419d, 0x1d0b, 0x8480, 0x6497, 0x5aaf, 0x7791, 0x1, 0x1);
        gbc.writeMem(0x419d, { 0xb6 });
        gbc.writeMem(0x7791, { 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x1d0b);
        EXPECT(gbc.pc(), 0x419e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 018D
        gbc.setState(0xd689, 0x8048, 0x48f0, 0x511, 0xfd41, 0xe283, 0x1, 0x0);
        gbc.writeMem(0xd689, { 0xb6 });
        gbc.writeMem(0xe283, { 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x8048);
        EXPECT(gbc.pc(), 0xd68a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd689), 0xb6);
        EXPECT(gbc.readMem(0xe283), 0x55);
        // B6 018E
        gbc.setState(0xb76c, 0x1c92, 0xc250, 0x3b07, 0xfd25, 0xeaa4, 0x0, 0x0);
        gbc.writeMem(0xb76c, { 0xb6 });
        gbc.writeMem(0xeaa4, { 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x1c92);
        EXPECT(gbc.pc(), 0xb76d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb76c), 0xb6);
        EXPECT(gbc.readMem(0xeaa4), 0x87);
        // B6 018F
        gbc.setState(0x91ce, 0xdda6, 0x8820, 0x7721, 0xc33b, 0xfb86, 0x0, 0x0);
        gbc.writeMem(0x91ce, { 0xb6 });
        gbc.writeMem(0xfb86, { 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xdda6);
        EXPECT(gbc.pc(), 0x91cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91ce), 0xb6);
        EXPECT(gbc.readMem(0xfb86), 0xdf);
        // B6 0190
        gbc.setState(0x46cd, 0x9467, 0x7da0, 0x6f73, 0x618e, 0xbf, 0x1, 0x1);
        gbc.writeMem(0xbf, { 0x36 });
        gbc.writeMem(0x46cd, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x9467);
        EXPECT(gbc.pc(), 0x46ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0191
        gbc.setState(0x3c9e, 0x2e7a, 0x1950, 0x8829, 0xf501, 0x2473, 0x1, 0x0);
        gbc.writeMem(0x2473, { 0x78 });
        gbc.writeMem(0x3c9e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x2e7a);
        EXPECT(gbc.pc(), 0x3c9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0192
        gbc.setState(0x5f76, 0x5a8b, 0x12b0, 0x8388, 0x4a21, 0xfefb, 0x0, 0x1);
        gbc.writeMem(0x5f76, { 0xb6 });
        gbc.writeMem(0xfefb, { 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x5a8b);
        EXPECT(gbc.pc(), 0x5f77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfefb), 0xe8);
        // B6 0193
        gbc.setState(0x54a8, 0xa0da, 0x7f10, 0xdfe3, 0x9f29, 0x7938, 0x1, 0x1);
        gbc.writeMem(0x54a8, { 0xb6 });
        gbc.writeMem(0x7938, { 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xa0da);
        EXPECT(gbc.pc(), 0x54a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0194
        gbc.setState(0xb614, 0x1e07, 0x1800, 0x584e, 0x8b38, 0x7647, 0x1, 0x0);
        gbc.writeMem(0x7647, { 0xc });
        gbc.writeMem(0xb614, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x1e07);
        EXPECT(gbc.pc(), 0xb615);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb614), 0xb6);
        // B6 0195
        gbc.setState(0xa722, 0x1978, 0x49d0, 0x1f5b, 0x1d08, 0x3081, 0x0, 0x1);
        gbc.writeMem(0x3081, { 0xdc });
        gbc.writeMem(0xa722, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x1978);
        EXPECT(gbc.pc(), 0xa723);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa722), 0xb6);
        // B6 0196
        gbc.setState(0x8451, 0x9bd6, 0xfaf0, 0x63ea, 0xc110, 0xe2ab, 0x0, 0x0);
        gbc.writeMem(0x8451, { 0xb6 });
        gbc.writeMem(0xe2ab, { 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x9bd6);
        EXPECT(gbc.pc(), 0x8452);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8451), 0xb6);
        EXPECT(gbc.readMem(0xe2ab), 0x27);
        // B6 0197
        gbc.setState(0x86a, 0x8230, 0x25c0, 0xb672, 0xb6f8, 0x40c0, 0x0, 0x1);
        gbc.writeMem(0x86a, { 0xb6 });
        gbc.writeMem(0x40c0, { 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x8230);
        EXPECT(gbc.pc(), 0x86b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0198
        gbc.setState(0xc0b3, 0x4719, 0x6b50, 0xb12e, 0x29e8, 0x6c33, 0x0, 0x0);
        gbc.writeMem(0x6c33, { 0xbc });
        gbc.writeMem(0xc0b3, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x4719);
        EXPECT(gbc.pc(), 0xc0b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0b3), 0xb6);
        // B6 0199
        gbc.setState(0xc91, 0xf656, 0x3b40, 0x2fb6, 0x457b, 0xcfb7, 0x1, 0x1);
        gbc.writeMem(0xc91, { 0xb6 });
        gbc.writeMem(0xcfb7, { 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xf656);
        EXPECT(gbc.pc(), 0xc92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfb7), 0x4e);
        // B6 019A
        gbc.setState(0xb1ab, 0x8094, 0x3390, 0x69ba, 0x8f71, 0xf21e, 0x1, 0x0);
        gbc.writeMem(0xb1ab, { 0xb6 });
        gbc.writeMem(0xf21e, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x8094);
        EXPECT(gbc.pc(), 0xb1ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1ab), 0xb6);
        EXPECT(gbc.readMem(0xf21e), 0x88);
        // B6 019D
        gbc.setState(0x712f, 0x2a0, 0x2b30, 0x54d8, 0x96f8, 0xb623, 0x1, 0x0);
        gbc.writeMem(0x712f, { 0xb6 });
        gbc.writeMem(0xb623, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x2a0);
        EXPECT(gbc.pc(), 0x7130);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb623), 0xac);
        // B6 019E
        gbc.setState(0xba61, 0xde70, 0x2060, 0x1c4a, 0xe3d5, 0x75fe, 0x0, 0x1);
        gbc.writeMem(0x75fe, { 0x19 });
        gbc.writeMem(0xba61, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xde70);
        EXPECT(gbc.pc(), 0xba62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba61), 0xb6);
        // B6 019F
        gbc.setState(0x770b, 0x8be6, 0x4ef0, 0xccba, 0xf30e, 0xca65, 0x1, 0x1);
        gbc.writeMem(0x770b, { 0xb6 });
        gbc.writeMem(0xca65, { 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x8be6);
        EXPECT(gbc.pc(), 0x770c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca65), 0xc);
        // B6 01A0
        gbc.setState(0x262e, 0x8c7a, 0xffc0, 0x7b79, 0x4ad5, 0xa089, 0x1, 0x0);
        gbc.writeMem(0x262e, { 0xb6 });
        gbc.writeMem(0xa089, { 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x8c7a);
        EXPECT(gbc.pc(), 0x262f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa089), 0x84);
        // B6 01A1
        gbc.setState(0x6463, 0x1ce4, 0x3d50, 0xabbd, 0x9988, 0x274, 0x1, 0x1);
        gbc.writeMem(0x274, { 0xcb });
        gbc.writeMem(0x6463, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x1ce4);
        EXPECT(gbc.pc(), 0x6464);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01A2
        gbc.setState(0x815, 0xae01, 0xe9f0, 0x3512, 0x8ee3, 0xeb8f, 0x0, 0x1);
        gbc.writeMem(0x815, { 0xb6 });
        gbc.writeMem(0xeb8f, { 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xae01);
        EXPECT(gbc.pc(), 0x816);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb8f), 0xd5);
        // B6 01A3
        gbc.setState(0xa7b8, 0x1429, 0xa720, 0x5e89, 0xcf8a, 0xf1fb, 0x0, 0x0);
        gbc.writeMem(0xa7b8, { 0xb6 });
        gbc.writeMem(0xf1fb, { 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x1429);
        EXPECT(gbc.pc(), 0xa7b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7b8), 0xb6);
        EXPECT(gbc.readMem(0xf1fb), 0xe8);
        // B6 01A4
        gbc.setState(0x2d28, 0xe8a4, 0xe260, 0x5340, 0x1967, 0x475, 0x0, 0x1);
        gbc.writeMem(0x475, { 0x6f });
        gbc.writeMem(0x2d28, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xe8a4);
        EXPECT(gbc.pc(), 0x2d29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01A5
        gbc.setState(0x313a, 0x873, 0x3880, 0x4a1a, 0x8987, 0xc3ed, 0x1, 0x0);
        gbc.writeMem(0x313a, { 0xb6 });
        gbc.writeMem(0xc3ed, { 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x873);
        EXPECT(gbc.pc(), 0x313b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3ed), 0x8a);
        // B6 01A6
        gbc.setState(0x4f9b, 0x4bc8, 0xa4a0, 0x9f9a, 0xf326, 0x43f9, 0x1, 0x1);
        gbc.writeMem(0x43f9, { 0xbd });
        gbc.writeMem(0x4f9b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x4bc8);
        EXPECT(gbc.pc(), 0x4f9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01A7
        gbc.setState(0xcdd9, 0x8abd, 0x92d0, 0x52de, 0xbb94, 0xbd16, 0x1, 0x0);
        gbc.writeMem(0xbd16, { 0x16 });
        gbc.writeMem(0xcdd9, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x8abd);
        EXPECT(gbc.pc(), 0xcdda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd16), 0x16);
        EXPECT(gbc.readMem(0xcdd9), 0xb6);
        // B6 01A8
        gbc.setState(0x1e48, 0xb820, 0x2b50, 0xcb09, 0x99ba, 0x7117, 0x0, 0x1);
        gbc.writeMem(0x1e48, { 0xb6 });
        gbc.writeMem(0x7117, { 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xb820);
        EXPECT(gbc.pc(), 0x1e49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01A9
        gbc.setState(0x54d6, 0xb3ef, 0x200, 0xd88, 0xe5dd, 0xa471, 0x0, 0x1);
        gbc.writeMem(0x54d6, { 0xb6 });
        gbc.writeMem(0xa471, { 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xb3ef);
        EXPECT(gbc.pc(), 0x54d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa471), 0x21);
        // B6 01AA
        gbc.setState(0x9c78, 0x7877, 0xee10, 0xd896, 0x9d6b, 0x77d9, 0x1, 0x1);
        gbc.writeMem(0x77d9, { 0x24 });
        gbc.writeMem(0x9c78, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x7877);
        EXPECT(gbc.pc(), 0x9c79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c78), 0xb6);
        // B6 01AB
        gbc.setState(0x42da, 0x5802, 0x9c20, 0x2872, 0xbf1e, 0xfc40, 0x1, 0x1);
        gbc.writeMem(0x42da, { 0xb6 });
        gbc.writeMem(0xfc40, { 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x5802);
        EXPECT(gbc.pc(), 0x42db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfc40), 0x7b);
        // B6 01AC
        gbc.setState(0x9569, 0xda41, 0x3670, 0x74ec, 0x639e, 0xe154, 0x0, 0x1);
        gbc.writeMem(0x9569, { 0xb6 });
        gbc.writeMem(0xe154, { 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xda41);
        EXPECT(gbc.pc(), 0x956a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9569), 0xb6);
        EXPECT(gbc.readMem(0xe154), 0x23);
        // B6 01AD
        gbc.setState(0xc788, 0xa7df, 0x4bd0, 0x825f, 0x9eea, 0x1612, 0x0, 0x0);
        gbc.writeMem(0x1612, { 0x3c });
        gbc.writeMem(0xc788, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xa7df);
        EXPECT(gbc.pc(), 0xc789);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc788), 0xb6);
        // B6 01AE
        gbc.setState(0xc1ac, 0x18d9, 0x1100, 0xd8f6, 0x947f, 0x48c4, 0x1, 0x1);
        gbc.writeMem(0x48c4, { 0x59 });
        gbc.writeMem(0xc1ac, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x18d9);
        EXPECT(gbc.pc(), 0xc1ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1ac), 0xb6);
        // B6 01AF
        gbc.setState(0x5fb9, 0xe49d, 0x7c70, 0x2468, 0x8113, 0x63d0, 0x0, 0x1);
        gbc.writeMem(0x5fb9, { 0xb6 });
        gbc.writeMem(0x63d0, { 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xe49d);
        EXPECT(gbc.pc(), 0x5fba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01B0
        gbc.setState(0x9dda, 0xdcd7, 0xd0d0, 0xb823, 0x3788, 0x4846, 0x1, 0x1);
        gbc.writeMem(0x4846, { 0xc6 });
        gbc.writeMem(0x9dda, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xdcd7);
        EXPECT(gbc.pc(), 0x9ddb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9dda), 0xb6);
        // B6 01B1
        gbc.setState(0xdab4, 0xb2b7, 0x8060, 0xcdf8, 0x3e8e, 0x5b47, 0x1, 0x1);
        gbc.writeMem(0x5b47, { 0xbc });
        gbc.writeMem(0xdab4, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xb2b7);
        EXPECT(gbc.pc(), 0xdab5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdab4), 0xb6);
        // B6 01B2
        gbc.setState(0xcbfb, 0xdb0b, 0xbbe0, 0x295e, 0x7916, 0xc63a, 0x0, 0x1);
        gbc.writeMem(0xc63a, { 0x95 });
        gbc.writeMem(0xcbfb, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xdb0b);
        EXPECT(gbc.pc(), 0xcbfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc63a), 0x95);
        EXPECT(gbc.readMem(0xcbfb), 0xb6);
        // B6 01B3
        gbc.setState(0x1904, 0xa1bf, 0xdca0, 0x3558, 0xff79, 0xcc8f, 0x0, 0x0);
        gbc.writeMem(0x1904, { 0xb6 });
        gbc.writeMem(0xcc8f, { 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xa1bf);
        EXPECT(gbc.pc(), 0x1905);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc8f), 0xd9);
        // B6 01B4
        gbc.setState(0xa1a9, 0xa28f, 0x9700, 0xb6f5, 0x6af3, 0x90f4, 0x0, 0x1);
        gbc.writeMem(0x90f4, { 0x9a });
        gbc.writeMem(0xa1a9, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xa28f);
        EXPECT(gbc.pc(), 0xa1aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90f4), 0x9a);
        EXPECT(gbc.readMem(0xa1a9), 0xb6);
        // B6 01B5
        gbc.setState(0x41a3, 0x4458, 0x8340, 0x87b9, 0xc0aa, 0x2ce, 0x0, 0x0);
        gbc.writeMem(0x2ce, { 0xee });
        gbc.writeMem(0x41a3, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x4458);
        EXPECT(gbc.pc(), 0x41a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01B6
        gbc.setState(0xde66, 0x132e, 0xfa30, 0x1a5, 0x3677, 0xf410, 0x0, 0x0);
        gbc.writeMem(0xde66, { 0xb6 });
        gbc.writeMem(0xf410, { 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x132e);
        EXPECT(gbc.pc(), 0xde67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde66), 0xb6);
        EXPECT(gbc.readMem(0xf410), 0xae);
        // B6 01B7
        gbc.setState(0x5b2a, 0xf828, 0x9b90, 0xf3f5, 0x6a5c, 0x423a, 0x1, 0x1);
        gbc.writeMem(0x423a, { 0x26 });
        gbc.writeMem(0x5b2a, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xf828);
        EXPECT(gbc.pc(), 0x5b2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01B9
        gbc.setState(0x2408, 0x3616, 0xc710, 0x92ea, 0xb06b, 0xe86e, 0x0, 0x1);
        gbc.writeMem(0x2408, { 0xb6 });
        gbc.writeMem(0xe86e, { 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x3616);
        EXPECT(gbc.pc(), 0x2409);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe86e), 0xbb);
        // B6 01BA
        gbc.setState(0x4c0a, 0x9e27, 0x5090, 0xd5f4, 0x4aa0, 0xaebd, 0x1, 0x1);
        gbc.writeMem(0x4c0a, { 0xb6 });
        gbc.writeMem(0xaebd, { 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x9e27);
        EXPECT(gbc.pc(), 0x4c0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaebd), 0x63);
        // B6 01BB
        gbc.setState(0xdcd5, 0xe8ab, 0x28c0, 0x1d6f, 0x54c1, 0x5515, 0x0, 0x1);
        gbc.writeMem(0x5515, { 0x5f });
        gbc.writeMem(0xdcd5, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xe8ab);
        EXPECT(gbc.pc(), 0xdcd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcd5), 0xb6);
        // B6 01BC
        gbc.setState(0xda31, 0xa427, 0xc790, 0x5797, 0x421b, 0xe8ce, 0x0, 0x1);
        gbc.writeMem(0xda31, { 0xb6 });
        gbc.writeMem(0xe8ce, { 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xa427);
        EXPECT(gbc.pc(), 0xda32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda31), 0xb6);
        EXPECT(gbc.readMem(0xe8ce), 0xa7);
        // B6 01BD
        gbc.setState(0x55f7, 0x58f4, 0xeb50, 0xc670, 0xf893, 0x4e68, 0x0, 0x0);
        gbc.writeMem(0x4e68, { 0xe7 });
        gbc.writeMem(0x55f7, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x58f4);
        EXPECT(gbc.pc(), 0x55f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01BE
        gbc.setState(0x9c1b, 0x629, 0x5450, 0x848b, 0x2aae, 0xabcc, 0x0, 0x1);
        gbc.writeMem(0x9c1b, { 0xb6 });
        gbc.writeMem(0xabcc, { 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x629);
        EXPECT(gbc.pc(), 0x9c1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c1b), 0xb6);
        EXPECT(gbc.readMem(0xabcc), 0x12);
        // B6 01C0
        gbc.setState(0x3213, 0x8fd3, 0xcc90, 0x8597, 0x756d, 0x270e, 0x0, 0x1);
        gbc.writeMem(0x270e, { 0x13 });
        gbc.writeMem(0x3213, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x8fd3);
        EXPECT(gbc.pc(), 0x3214);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01C1
        gbc.setState(0x66e1, 0xe7b8, 0x9550, 0xe953, 0x863a, 0xe28c, 0x1, 0x1);
        gbc.writeMem(0x66e1, { 0xb6 });
        gbc.writeMem(0xe28c, { 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xe7b8);
        EXPECT(gbc.pc(), 0x66e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe28c), 0x4a);
        // B6 01C2
        gbc.setState(0xde52, 0x37c5, 0x5260, 0x2992, 0x2bff, 0x5338, 0x0, 0x0);
        gbc.writeMem(0x5338, { 0x39 });
        gbc.writeMem(0xde52, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x37c5);
        EXPECT(gbc.pc(), 0xde53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde52), 0xb6);
        // B6 01C3
        gbc.setState(0x67c, 0xea49, 0x1f80, 0x564c, 0x1bb9, 0x31b3, 0x0, 0x1);
        gbc.writeMem(0x67c, { 0xb6 });
        gbc.writeMem(0x31b3, { 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xea49);
        EXPECT(gbc.pc(), 0x67d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01C4
        gbc.setState(0x249d, 0xe438, 0xa180, 0xa5f5, 0xc779, 0xb7d4, 0x1, 0x1);
        gbc.writeMem(0x249d, { 0xb6 });
        gbc.writeMem(0xb7d4, { 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xe438);
        EXPECT(gbc.pc(), 0x249e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7d4), 0xb2);
        // B6 01C5
        gbc.setState(0x3e7a, 0x90a6, 0x2b20, 0xde04, 0x4902, 0x8241, 0x0, 0x1);
        gbc.writeMem(0x3e7a, { 0xb6 });
        gbc.writeMem(0x8241, { 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x90a6);
        EXPECT(gbc.pc(), 0x3e7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8241), 0x7a);
        // B6 01C6
        gbc.setState(0x2006, 0x4267, 0x1c10, 0xe307, 0xba44, 0xaaad, 0x0, 0x0);
        gbc.writeMem(0x2006, { 0xb6 });
        gbc.writeMem(0xaaad, { 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x4267);
        EXPECT(gbc.pc(), 0x2007);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaad), 0xa4);
        // B6 01C7
        gbc.setState(0x3d66, 0x9fab, 0xf320, 0x413a, 0x4cdb, 0x868d, 0x0, 0x1);
        gbc.writeMem(0x3d66, { 0xb6 });
        gbc.writeMem(0x868d, { 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x9fab);
        EXPECT(gbc.pc(), 0x3d67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x868d), 0xc9);
        // B6 01C8
        gbc.setState(0xa457, 0x92b7, 0xca50, 0xf508, 0x669d, 0x2238, 0x0, 0x1);
        gbc.writeMem(0x2238, { 0x33 });
        gbc.writeMem(0xa457, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x92b7);
        EXPECT(gbc.pc(), 0xa458);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa457), 0xb6);
        // B6 01C9
        gbc.setState(0x3a7d, 0x4350, 0xd4f0, 0xa9e, 0xbb8b, 0x310, 0x1, 0x1);
        gbc.writeMem(0x310, { 0xb2 });
        gbc.writeMem(0x3a7d, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x4350);
        EXPECT(gbc.pc(), 0x3a7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01CB
        gbc.setState(0xdcd7, 0x616e, 0xc280, 0x5c8b, 0xb6ee, 0x4106, 0x1, 0x0);
        gbc.writeMem(0x4106, { 0x66 });
        gbc.writeMem(0xdcd7, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x616e);
        EXPECT(gbc.pc(), 0xdcd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcd7), 0xb6);
        // B6 01CC
        gbc.setState(0xd085, 0xe401, 0xeae0, 0xd3b5, 0xb1f8, 0x8c68, 0x0, 0x0);
        gbc.writeMem(0x8c68, { 0x4c });
        gbc.writeMem(0xd085, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xe401);
        EXPECT(gbc.pc(), 0xd086);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c68), 0x4c);
        EXPECT(gbc.readMem(0xd085), 0xb6);
        // B6 01CD
        gbc.setState(0x4f18, 0x34a5, 0x8bf0, 0x8b11, 0xb873, 0xfda3, 0x1, 0x0);
        gbc.writeMem(0x4f18, { 0xb6 });
        gbc.writeMem(0xfda3, { 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x34a5);
        EXPECT(gbc.pc(), 0x4f19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfda3), 0x79);
        // B6 01CE
        gbc.setState(0xa03, 0xd5a3, 0xc880, 0xe819, 0xab19, 0xe4c2, 0x1, 0x0);
        gbc.writeMem(0xa03, { 0xb6 });
        gbc.writeMem(0xe4c2, { 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xd5a3);
        EXPECT(gbc.pc(), 0xa04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4c2), 0x6d);
        // B6 01CF
        gbc.setState(0x8756, 0x5043, 0x2490, 0xc9ea, 0x2edf, 0x161, 0x0, 0x1);
        gbc.writeMem(0x161, { 0xe0 });
        gbc.writeMem(0x8756, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x5043);
        EXPECT(gbc.pc(), 0x8757);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8756), 0xb6);
        // B6 01D0
        gbc.setState(0x8241, 0x26f2, 0x4290, 0xb5ba, 0xbef2, 0xc820, 0x1, 0x0);
        gbc.writeMem(0x8241, { 0xb6 });
        gbc.writeMem(0xc820, { 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x26f2);
        EXPECT(gbc.pc(), 0x8242);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8241), 0xb6);
        EXPECT(gbc.readMem(0xc820), 0xec);
        // B6 01D1
        gbc.setState(0x3ecb, 0x9d60, 0x20c0, 0x6c84, 0xe472, 0x7311, 0x1, 0x1);
        gbc.writeMem(0x3ecb, { 0xb6 });
        gbc.writeMem(0x7311, { 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x9d60);
        EXPECT(gbc.pc(), 0x3ecc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01D3
        gbc.setState(0x5fe8, 0x8836, 0x9f70, 0xffc7, 0x82a8, 0x6409, 0x0, 0x1);
        gbc.writeMem(0x5fe8, { 0xb6 });
        gbc.writeMem(0x6409, { 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x8836);
        EXPECT(gbc.pc(), 0x5fe9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01D4
        gbc.setState(0x9080, 0x48df, 0xdb70, 0xe391, 0x5e24, 0x2e76, 0x1, 0x1);
        gbc.writeMem(0x2e76, { 0x42 });
        gbc.writeMem(0x9080, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x48df);
        EXPECT(gbc.pc(), 0x9081);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9080), 0xb6);
        // B6 01D6
        gbc.setState(0x56b0, 0x4eaf, 0x9240, 0xfb5a, 0x56a5, 0xe1cf, 0x1, 0x0);
        gbc.writeMem(0x56b0, { 0xb6 });
        gbc.writeMem(0xe1cf, { 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x4eaf);
        EXPECT(gbc.pc(), 0x56b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1cf), 0xcd);
        // B6 01D7
        gbc.setState(0x143d, 0x28d9, 0x8b40, 0xbe38, 0x6c23, 0xf5b0, 0x1, 0x1);
        gbc.writeMem(0x143d, { 0xb6 });
        gbc.writeMem(0xf5b0, { 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x28d9);
        EXPECT(gbc.pc(), 0x143e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf5b0), 0x27);
        // B6 01D8
        gbc.setState(0xcbfd, 0x49d2, 0x7c20, 0x1a6a, 0x872c, 0x95b1, 0x1, 0x1);
        gbc.writeMem(0x95b1, { 0xed });
        gbc.writeMem(0xcbfd, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x49d2);
        EXPECT(gbc.pc(), 0xcbfe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95b1), 0xed);
        EXPECT(gbc.readMem(0xcbfd), 0xb6);
        // B6 01D9
        gbc.setState(0x33ae, 0x6f50, 0x2cb0, 0xaa14, 0xd8c3, 0x989, 0x1, 0x1);
        gbc.writeMem(0x989, { 0xd9 });
        gbc.writeMem(0x33ae, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x6f50);
        EXPECT(gbc.pc(), 0x33af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01DA
        gbc.setState(0x7d39, 0x4b96, 0xc0b0, 0x65f, 0x41f6, 0x50c3, 0x1, 0x0);
        gbc.writeMem(0x50c3, { 0x19 });
        gbc.writeMem(0x7d39, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x4b96);
        EXPECT(gbc.pc(), 0x7d3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01DB
        gbc.setState(0x4695, 0x1f1d, 0x2fd0, 0x56d9, 0x62e2, 0xe4d, 0x0, 0x0);
        gbc.writeMem(0xe4d, { 0x11 });
        gbc.writeMem(0x4695, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x1f1d);
        EXPECT(gbc.pc(), 0x4696);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01DC
        gbc.setState(0x4325, 0xe3bd, 0xe680, 0xffff, 0xf1b0, 0x2044, 0x0, 0x0);
        gbc.writeMem(0x2044, { 0xb5 });
        gbc.writeMem(0x4325, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xe3bd);
        EXPECT(gbc.pc(), 0x4326);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01DD
        gbc.setState(0x37c6, 0xcc13, 0x2050, 0xffa0, 0x1d4, 0x314c, 0x1, 0x1);
        gbc.writeMem(0x314c, { 0xed });
        gbc.writeMem(0x37c6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xcc13);
        EXPECT(gbc.pc(), 0x37c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01DE
        gbc.setState(0x3e04, 0x6fe9, 0xcaa0, 0x1f54, 0xec87, 0x2608, 0x1, 0x1);
        gbc.writeMem(0x2608, { 0x9a });
        gbc.writeMem(0x3e04, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x6fe9);
        EXPECT(gbc.pc(), 0x3e05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01DF
        gbc.setState(0x364f, 0x6bfc, 0xc620, 0x79c0, 0x7c4b, 0x9937, 0x0, 0x1);
        gbc.writeMem(0x364f, { 0xb6 });
        gbc.writeMem(0x9937, { 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x6bfc);
        EXPECT(gbc.pc(), 0x3650);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9937), 0x7a);
        // B6 01E0
        gbc.setState(0xbf9f, 0x345c, 0xe840, 0x90b4, 0xf39e, 0xc2b3, 0x0, 0x1);
        gbc.writeMem(0xbf9f, { 0xb6 });
        gbc.writeMem(0xc2b3, { 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x345c);
        EXPECT(gbc.pc(), 0xbfa0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf9f), 0xb6);
        EXPECT(gbc.readMem(0xc2b3), 0xe9);
        // B6 01E1
        gbc.setState(0x2de7, 0xda5a, 0x4a30, 0x72d0, 0x55c1, 0x2e44, 0x0, 0x0);
        gbc.writeMem(0x2de7, { 0xb6 });
        gbc.writeMem(0x2e44, { 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xda5a);
        EXPECT(gbc.pc(), 0x2de8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01E2
        gbc.setState(0x358e, 0x1862, 0x95a0, 0xddee, 0xb89e, 0x767e, 0x0, 0x0);
        gbc.writeMem(0x358e, { 0xb6 });
        gbc.writeMem(0x767e, { 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x1862);
        EXPECT(gbc.pc(), 0x358f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01E3
        gbc.setState(0xcadb, 0x1c6d, 0xfb40, 0xed9d, 0x64d6, 0xbd87, 0x1, 0x1);
        gbc.writeMem(0xbd87, { 0x98 });
        gbc.writeMem(0xcadb, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x1c6d);
        EXPECT(gbc.pc(), 0xcadc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd87), 0x98);
        EXPECT(gbc.readMem(0xcadb), 0xb6);
        // B6 01E4
        gbc.setState(0x5ab0, 0x1254, 0xff40, 0xa99c, 0xc58a, 0x544e, 0x1, 0x1);
        gbc.writeMem(0x544e, { 0xcb });
        gbc.writeMem(0x5ab0, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x1254);
        EXPECT(gbc.pc(), 0x5ab1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01E5
        gbc.setState(0x9df2, 0x85e5, 0xda50, 0x13a4, 0xc2ea, 0x8669, 0x1, 0x0);
        gbc.writeMem(0x8669, { 0x9d });
        gbc.writeMem(0x9df2, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x85e5);
        EXPECT(gbc.pc(), 0x9df3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8669), 0x9d);
        EXPECT(gbc.readMem(0x9df2), 0xb6);
        // B6 01E6
        gbc.setState(0x62d5, 0x9fc9, 0x9c50, 0xea49, 0x595b, 0x522c, 0x0, 0x0);
        gbc.writeMem(0x522c, { 0xfe });
        gbc.writeMem(0x62d5, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x9fc9);
        EXPECT(gbc.pc(), 0x62d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01E7
        gbc.setState(0x1b13, 0x803b, 0xa570, 0x13a0, 0x2f0d, 0x50a6, 0x0, 0x1);
        gbc.writeMem(0x1b13, { 0xb6 });
        gbc.writeMem(0x50a6, { 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x803b);
        EXPECT(gbc.pc(), 0x1b14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01E8
        gbc.setState(0x1896, 0x4161, 0x3700, 0xca6b, 0xf53c, 0x9b70, 0x0, 0x1);
        gbc.writeMem(0x1896, { 0xb6 });
        gbc.writeMem(0x9b70, { 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x4161);
        EXPECT(gbc.pc(), 0x1897);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b70), 0xe);
        // B6 01E9
        gbc.setState(0x6f07, 0x809b, 0xe4a0, 0x739e, 0xcfa7, 0x1fd1, 0x1, 0x1);
        gbc.writeMem(0x1fd1, { 0xae });
        gbc.writeMem(0x6f07, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x809b);
        EXPECT(gbc.pc(), 0x6f08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01EA
        gbc.setState(0xe259, 0xc61a, 0x6770, 0xa845, 0x6870, 0x2fc6, 0x1, 0x1);
        gbc.writeMem(0x2fc6, { 0xfd });
        gbc.writeMem(0xe259, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xc61a);
        EXPECT(gbc.pc(), 0xe25a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe259), 0xb6);
        // B6 01EB
        gbc.setState(0x1c9d, 0xe43d, 0x9970, 0xec8d, 0x1282, 0x6c7f, 0x1, 0x0);
        gbc.writeMem(0x1c9d, { 0xb6 });
        gbc.writeMem(0x6c7f, { 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe43d);
        EXPECT(gbc.pc(), 0x1c9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01EC
        gbc.setState(0x6258, 0xad73, 0x6170, 0xd4f8, 0x7e24, 0x9d39, 0x0, 0x1);
        gbc.writeMem(0x6258, { 0xb6 });
        gbc.writeMem(0x9d39, { 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xad73);
        EXPECT(gbc.pc(), 0x6259);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d39), 0xd8);
        // B6 01EE
        gbc.setState(0xab24, 0xda7, 0xc260, 0xf1f8, 0x3176, 0x9d6b, 0x1, 0x1);
        gbc.writeMem(0x9d6b, { 0x9d });
        gbc.writeMem(0xab24, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xda7);
        EXPECT(gbc.pc(), 0xab25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d6b), 0x9d);
        EXPECT(gbc.readMem(0xab24), 0xb6);
        // B6 01EF
        gbc.setState(0x8364, 0x1a3c, 0x36d0, 0x4390, 0x288d, 0xb625, 0x0, 0x0);
        gbc.writeMem(0x8364, { 0xb6 });
        gbc.writeMem(0xb625, { 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x1a3c);
        EXPECT(gbc.pc(), 0x8365);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8364), 0xb6);
        EXPECT(gbc.readMem(0xb625), 0x6b);
        // B6 01F0
        gbc.setState(0xa809, 0xb906, 0x9fc0, 0xf7b3, 0x97c, 0x9714, 0x0, 0x0);
        gbc.writeMem(0x9714, { 0x91 });
        gbc.writeMem(0xa809, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xb906);
        EXPECT(gbc.pc(), 0xa80a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9714), 0x91);
        EXPECT(gbc.readMem(0xa809), 0xb6);
        // B6 01F1
        gbc.setState(0x9cf4, 0x6fc5, 0x84c0, 0x992f, 0x81d2, 0xbc5e, 0x1, 0x0);
        gbc.writeMem(0x9cf4, { 0xb6 });
        gbc.writeMem(0xbc5e, { 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x6fc5);
        EXPECT(gbc.pc(), 0x9cf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cf4), 0xb6);
        EXPECT(gbc.readMem(0xbc5e), 0xb);
        // B6 01F2
        gbc.setState(0x5038, 0xc745, 0x2b90, 0x692e, 0x663a, 0x5d33, 0x1, 0x1);
        gbc.writeMem(0x5038, { 0xb6 });
        gbc.writeMem(0x5d33, { 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xc745);
        EXPECT(gbc.pc(), 0x5039);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01F3
        gbc.setState(0x2f5f, 0x1aa6, 0xbc0, 0x2268, 0x3093, 0x7c36, 0x0, 0x1);
        gbc.writeMem(0x2f5f, { 0xb6 });
        gbc.writeMem(0x7c36, { 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x1aa6);
        EXPECT(gbc.pc(), 0x2f60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01F4
        gbc.setState(0x2589, 0x4552, 0xf120, 0xd19a, 0xe4ac, 0xb6f6, 0x1, 0x1);
        gbc.writeMem(0x2589, { 0xb6 });
        gbc.writeMem(0xb6f6, { 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x4552);
        EXPECT(gbc.pc(), 0x258a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6f6), 0x68);
        // B6 01F6
        gbc.setState(0x1251, 0x298d, 0x9720, 0x8a5e, 0x4473, 0x23d0, 0x0, 0x1);
        gbc.writeMem(0x1251, { 0xb6 });
        gbc.writeMem(0x23d0, { 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x298d);
        EXPECT(gbc.pc(), 0x1252);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01F7
        gbc.setState(0xcf34, 0xbded, 0xec40, 0x8ed2, 0x7d86, 0xf350, 0x0, 0x0);
        gbc.writeMem(0xcf34, { 0xb6 });
        gbc.writeMem(0xf350, { 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xbded);
        EXPECT(gbc.pc(), 0xcf35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf34), 0xb6);
        EXPECT(gbc.readMem(0xf350), 0x1e);
        // B6 01F8
        gbc.setState(0x6abf, 0xc377, 0x9140, 0x5c75, 0x3296, 0x6296, 0x0, 0x0);
        gbc.writeMem(0x6296, { 0xa9 });
        gbc.writeMem(0x6abf, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xc377);
        EXPECT(gbc.pc(), 0x6ac0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01FA
        gbc.setState(0x3b3, 0x32a0, 0xc0a0, 0x5388, 0x20d6, 0x2e56, 0x1, 0x1);
        gbc.writeMem(0x3b3, { 0xb6 });
        gbc.writeMem(0x2e56, { 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x32a0);
        EXPECT(gbc.pc(), 0x3b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01FB
        gbc.setState(0x55ab, 0x9006, 0x4bd0, 0x20bf, 0xeb71, 0xd0ee, 0x0, 0x1);
        gbc.writeMem(0x55ab, { 0xb6 });
        gbc.writeMem(0xd0ee, { 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x9006);
        EXPECT(gbc.pc(), 0x55ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0ee), 0x8a);
        // B6 01FC
        gbc.setState(0x7e9c, 0xac36, 0xd490, 0xd2a0, 0x8386, 0x239f, 0x1, 0x0);
        gbc.writeMem(0x239f, { 0x18 });
        gbc.writeMem(0x7e9c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xac36);
        EXPECT(gbc.pc(), 0x7e9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01FD
        gbc.setState(0xba91, 0x5b5c, 0xe9e0, 0xf36, 0xde3d, 0x756b, 0x1, 0x1);
        gbc.writeMem(0x756b, { 0xd5 });
        gbc.writeMem(0xba91, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x5b5c);
        EXPECT(gbc.pc(), 0xba92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba91), 0xb6);
        // B6 01FE
        gbc.setState(0x5bf6, 0x959, 0x1070, 0xa3dd, 0x6162, 0x5324, 0x0, 0x1);
        gbc.writeMem(0x5324, { 0x2d });
        gbc.writeMem(0x5bf6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x959);
        EXPECT(gbc.pc(), 0x5bf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 01FF
        gbc.setState(0x5847, 0x9cbb, 0x73e0, 0xabce, 0xf22, 0x436f, 0x0, 0x0);
        gbc.writeMem(0x436f, { 0xa3 });
        gbc.writeMem(0x5847, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x9cbb);
        EXPECT(gbc.pc(), 0x5848);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0200
        gbc.setState(0xb4d9, 0xa4d4, 0x8830, 0xf1b7, 0x8fbb, 0x9716, 0x0, 0x0);
        gbc.writeMem(0x9716, { 0xdd });
        gbc.writeMem(0xb4d9, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xa4d4);
        EXPECT(gbc.pc(), 0xb4da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9716), 0xdd);
        EXPECT(gbc.readMem(0xb4d9), 0xb6);
        // B6 0201
        gbc.setState(0xb419, 0x9069, 0x60a0, 0x7bc0, 0xc311, 0x69d6, 0x1, 0x0);
        gbc.writeMem(0x69d6, { 0xd9 });
        gbc.writeMem(0xb419, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x9069);
        EXPECT(gbc.pc(), 0xb41a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb419), 0xb6);
        // B6 0202
        gbc.setState(0x3e00, 0x7b84, 0xfec0, 0xd149, 0x4e8e, 0x8a2b, 0x0, 0x1);
        gbc.writeMem(0x3e00, { 0xb6 });
        gbc.writeMem(0x8a2b, { 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x7b84);
        EXPECT(gbc.pc(), 0x3e01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a2b), 0xea);
        // B6 0203
        gbc.setState(0x7039, 0x6178, 0xc3d0, 0x875c, 0x7ba5, 0x8980, 0x0, 0x1);
        gbc.writeMem(0x7039, { 0xb6 });
        gbc.writeMem(0x8980, { 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x6178);
        EXPECT(gbc.pc(), 0x703a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8980), 0x8a);
        // B6 0204
        gbc.setState(0xd7f5, 0x7d9a, 0x8b80, 0xf8f2, 0xfe2b, 0xf86d, 0x1, 0x0);
        gbc.writeMem(0xd7f5, { 0xb6 });
        gbc.writeMem(0xf86d, { 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x7d9a);
        EXPECT(gbc.pc(), 0xd7f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7f5), 0xb6);
        EXPECT(gbc.readMem(0xf86d), 0xd6);
        // B6 0205
        gbc.setState(0x7360, 0x61ee, 0x48a0, 0xac07, 0xb8dc, 0x6e57, 0x0, 0x0);
        gbc.writeMem(0x6e57, { 0x16 });
        gbc.writeMem(0x7360, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x61ee);
        EXPECT(gbc.pc(), 0x7361);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0206
        gbc.setState(0x6c9f, 0x30e3, 0xab60, 0xd58d, 0x8a1d, 0x42f2, 0x1, 0x1);
        gbc.writeMem(0x42f2, { 0x70 });
        gbc.writeMem(0x6c9f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x30e3);
        EXPECT(gbc.pc(), 0x6ca0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0207
        gbc.setState(0x1e46, 0x9129, 0x2550, 0x571d, 0x9cc7, 0x41c0, 0x1, 0x0);
        gbc.writeMem(0x1e46, { 0xb6 });
        gbc.writeMem(0x41c0, { 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x9129);
        EXPECT(gbc.pc(), 0x1e47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0208
        gbc.setState(0x82b0, 0xda2a, 0x12d0, 0xa1e2, 0x18ac, 0x3358, 0x0, 0x1);
        gbc.writeMem(0x3358, { 0x22 });
        gbc.writeMem(0x82b0, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xda2a);
        EXPECT(gbc.pc(), 0x82b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82b0), 0xb6);
        // B6 0209
        gbc.setState(0x9e9c, 0xd910, 0xf810, 0x5951, 0x7997, 0x4349, 0x1, 0x1);
        gbc.writeMem(0x4349, { 0xcd });
        gbc.writeMem(0x9e9c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xd910);
        EXPECT(gbc.pc(), 0x9e9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e9c), 0xb6);
        // B6 020A
        gbc.setState(0x4e64, 0x708c, 0xd750, 0xd4a1, 0x2af7, 0x41ed, 0x1, 0x0);
        gbc.writeMem(0x41ed, { 0x5 });
        gbc.writeMem(0x4e64, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x708c);
        EXPECT(gbc.pc(), 0x4e65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 020B
        gbc.setState(0x4379, 0x43a9, 0x24c0, 0x4fc3, 0x328, 0x6bcf, 0x0, 0x1);
        gbc.writeMem(0x4379, { 0xb6 });
        gbc.writeMem(0x6bcf, { 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x43a9);
        EXPECT(gbc.pc(), 0x437a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 020C
        gbc.setState(0xd249, 0x5409, 0x8010, 0xc5f4, 0xc5dd, 0xe9b0, 0x1, 0x1);
        gbc.writeMem(0xd249, { 0xb6 });
        gbc.writeMem(0xe9b0, { 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x5409);
        EXPECT(gbc.pc(), 0xd24a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd249), 0xb6);
        EXPECT(gbc.readMem(0xe9b0), 0xfc);
        // B6 020D
        gbc.setState(0x4efb, 0x4b4d, 0xbaa0, 0xe471, 0xf066, 0xa92a, 0x0, 0x1);
        gbc.writeMem(0x4efb, { 0xb6 });
        gbc.writeMem(0xa92a, { 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x4b4d);
        EXPECT(gbc.pc(), 0x4efc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa92a), 0xb8);
        // B6 020E
        gbc.setState(0x1511, 0x278c, 0x7a60, 0x521b, 0x9241, 0x665e, 0x0, 0x1);
        gbc.writeMem(0x1511, { 0xb6 });
        gbc.writeMem(0x665e, { 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x278c);
        EXPECT(gbc.pc(), 0x1512);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 020F
        gbc.setState(0x51e3, 0xa368, 0xcfa0, 0xfbda, 0xc42, 0x5686, 0x1, 0x0);
        gbc.writeMem(0x51e3, { 0xb6 });
        gbc.writeMem(0x5686, { 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xa368);
        EXPECT(gbc.pc(), 0x51e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0210
        gbc.setState(0x8c35, 0xac69, 0x430, 0x83c, 0xc5a7, 0x4005, 0x0, 0x0);
        gbc.writeMem(0x4005, { 0xbe });
        gbc.writeMem(0x8c35, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xac69);
        EXPECT(gbc.pc(), 0x8c36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c35), 0xb6);
        // B6 0211
        gbc.setState(0x11b9, 0x6604, 0x4ce0, 0x65ec, 0x5780, 0xf60e, 0x0, 0x1);
        gbc.writeMem(0x11b9, { 0xb6 });
        gbc.writeMem(0xf60e, { 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x6604);
        EXPECT(gbc.pc(), 0x11ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf60e), 0xd1);
        // B6 0213
        gbc.setState(0xc474, 0xf724, 0xbc30, 0xac7e, 0xf8a8, 0x4181, 0x1, 0x0);
        gbc.writeMem(0x4181, { 0x87 });
        gbc.writeMem(0xc474, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xf724);
        EXPECT(gbc.pc(), 0xc475);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc474), 0xb6);
        // B6 0214
        gbc.setState(0xeb94, 0xd7e5, 0xde50, 0x103a, 0xd902, 0xec85, 0x0, 0x0);
        gbc.writeMem(0xeb94, { 0xb6 });
        gbc.writeMem(0xec85, { 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xd7e5);
        EXPECT(gbc.pc(), 0xeb95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb94), 0xb6);
        EXPECT(gbc.readMem(0xec85), 0xcf);
        // B6 0215
        gbc.setState(0x7875, 0x75f7, 0x7af0, 0x86ca, 0x189e, 0x164c, 0x0, 0x0);
        gbc.writeMem(0x164c, { 0xec });
        gbc.writeMem(0x7875, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x75f7);
        EXPECT(gbc.pc(), 0x7876);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0216
        gbc.setState(0x4a10, 0xcc5f, 0xd540, 0x8df2, 0x8037, 0xc93a, 0x1, 0x1);
        gbc.writeMem(0x4a10, { 0xb6 });
        gbc.writeMem(0xc93a, { 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xcc5f);
        EXPECT(gbc.pc(), 0x4a11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc93a), 0xf5);
        // B6 0217
        gbc.setState(0x8a2c, 0x942c, 0x51b0, 0x6388, 0xea4d, 0x4f24, 0x0, 0x0);
        gbc.writeMem(0x4f24, { 0x2 });
        gbc.writeMem(0x8a2c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x942c);
        EXPECT(gbc.pc(), 0x8a2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a2c), 0xb6);
        // B6 0218
        gbc.setState(0xb5bb, 0xcc97, 0x9000, 0x85a4, 0x4290, 0xc203, 0x1, 0x1);
        gbc.writeMem(0xb5bb, { 0xb6 });
        gbc.writeMem(0xc203, { 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xcc97);
        EXPECT(gbc.pc(), 0xb5bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5bb), 0xb6);
        EXPECT(gbc.readMem(0xc203), 0xbf);
        // B6 0219
        gbc.setState(0x77f2, 0x7e42, 0xbc60, 0x8094, 0x8a78, 0x2caf, 0x0, 0x1);
        gbc.writeMem(0x2caf, { 0xaa });
        gbc.writeMem(0x77f2, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x7e42);
        EXPECT(gbc.pc(), 0x77f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 021A
        gbc.setState(0x1a94, 0x4962, 0x51d0, 0x7d52, 0xaf90, 0xc167, 0x1, 0x1);
        gbc.writeMem(0x1a94, { 0xb6 });
        gbc.writeMem(0xc167, { 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x4962);
        EXPECT(gbc.pc(), 0x1a95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc167), 0xa4);
        // B6 021B
        gbc.setState(0x6ad3, 0x4cf3, 0x3850, 0xe0b, 0x3b9e, 0x4f9, 0x1, 0x1);
        gbc.writeMem(0x4f9, { 0x50 });
        gbc.writeMem(0x6ad3, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x4cf3);
        EXPECT(gbc.pc(), 0x6ad4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 021C
        gbc.setState(0x2c1b, 0xff81, 0x6f70, 0x7037, 0xf923, 0xa03f, 0x0, 0x1);
        gbc.writeMem(0x2c1b, { 0xb6 });
        gbc.writeMem(0xa03f, { 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xff81);
        EXPECT(gbc.pc(), 0x2c1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa03f), 0x36);
        // B6 021D
        gbc.setState(0x6d54, 0x161a, 0xee20, 0x7ca2, 0xfa90, 0x4017, 0x0, 0x0);
        gbc.writeMem(0x4017, { 0x95 });
        gbc.writeMem(0x6d54, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x161a);
        EXPECT(gbc.pc(), 0x6d55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 021F
        gbc.setState(0x4e08, 0x1bab, 0x19a0, 0xf7ee, 0x690f, 0xe3b4, 0x1, 0x0);
        gbc.writeMem(0x4e08, { 0xb6 });
        gbc.writeMem(0xe3b4, { 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x1bab);
        EXPECT(gbc.pc(), 0x4e09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3b4), 0xb2);
        // B6 0220
        gbc.setState(0xbf27, 0x7c9a, 0x17e0, 0x2ac8, 0xfd7e, 0x1833, 0x0, 0x0);
        gbc.writeMem(0x1833, { 0xd8 });
        gbc.writeMem(0xbf27, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x7c9a);
        EXPECT(gbc.pc(), 0xbf28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf27), 0xb6);
        // B6 0221
        gbc.setState(0xb72, 0x68db, 0x1480, 0x6d1b, 0x73fc, 0x69b, 0x0, 0x1);
        gbc.writeMem(0x69b, { 0xdf });
        gbc.writeMem(0xb72, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x68db);
        EXPECT(gbc.pc(), 0xb73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0223
        gbc.setState(0x806d, 0x1d2b, 0xd550, 0x1489, 0xa403, 0x6a3f, 0x0, 0x1);
        gbc.writeMem(0x6a3f, { 0xaa });
        gbc.writeMem(0x806d, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x1d2b);
        EXPECT(gbc.pc(), 0x806e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x806d), 0xb6);
        // B6 0224
        gbc.setState(0xe508, 0x1c3a, 0xc3c0, 0x46d7, 0x3131, 0x2342, 0x1, 0x0);
        gbc.writeMem(0x2342, { 0x23 });
        gbc.writeMem(0xe508, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x1c3a);
        EXPECT(gbc.pc(), 0xe509);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe508), 0xb6);
        // B6 0225
        gbc.setState(0xd73f, 0x8095, 0xe20, 0xc1e7, 0xf1b5, 0x62a7, 0x0, 0x0);
        gbc.writeMem(0x62a7, { 0xb6 });
        gbc.writeMem(0xd73f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x8095);
        EXPECT(gbc.pc(), 0xd740);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd73f), 0xb6);
        // B6 0226
        gbc.setState(0x1b83, 0xf7b6, 0x7290, 0xd283, 0xec6e, 0x12e7, 0x1, 0x1);
        gbc.writeMem(0x12e7, { 0x23 });
        gbc.writeMem(0x1b83, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xf7b6);
        EXPECT(gbc.pc(), 0x1b84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0227
        gbc.setState(0x3b97, 0xc3ca, 0x9940, 0x9d42, 0x9619, 0x72ff, 0x0, 0x1);
        gbc.writeMem(0x3b97, { 0xb6 });
        gbc.writeMem(0x72ff, { 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xc3ca);
        EXPECT(gbc.pc(), 0x3b98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0228
        gbc.setState(0xcff1, 0x7ea7, 0xe730, 0xc2dc, 0xd268, 0x1773, 0x1, 0x1);
        gbc.writeMem(0x1773, { 0xdc });
        gbc.writeMem(0xcff1, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x7ea7);
        EXPECT(gbc.pc(), 0xcff2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcff1), 0xb6);
        // B6 0229
        gbc.setState(0x968a, 0xcd8d, 0xe4e0, 0x8c5, 0x9ce4, 0x786f, 0x0, 0x1);
        gbc.writeMem(0x786f, { 0x49 });
        gbc.writeMem(0x968a, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xcd8d);
        EXPECT(gbc.pc(), 0x968b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x968a), 0xb6);
        // B6 022A
        gbc.setState(0x35ae, 0x8db7, 0x9630, 0x61c1, 0x8d40, 0x97c, 0x1, 0x0);
        gbc.writeMem(0x97c, { 0xca });
        gbc.writeMem(0x35ae, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x8db7);
        EXPECT(gbc.pc(), 0x35af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 022B
        gbc.setState(0xd2a, 0xa087, 0xb1e0, 0x4e1f, 0x722d, 0x2151, 0x1, 0x1);
        gbc.writeMem(0xd2a, { 0xb6 });
        gbc.writeMem(0x2151, { 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xa087);
        EXPECT(gbc.pc(), 0xd2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 022C
        gbc.setState(0x1c20, 0xa04d, 0xb810, 0xfb9, 0x2e2b, 0xaaab, 0x1, 0x1);
        gbc.writeMem(0x1c20, { 0xb6 });
        gbc.writeMem(0xaaab, { 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xa04d);
        EXPECT(gbc.pc(), 0x1c21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaab), 0x45);
        // B6 022D
        gbc.setState(0x2807, 0x95e3, 0xa080, 0xec0a, 0x710b, 0xf160, 0x0, 0x0);
        gbc.writeMem(0x2807, { 0xb6 });
        gbc.writeMem(0xf160, { 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x95e3);
        EXPECT(gbc.pc(), 0x2808);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf160), 0xd5);
        // B6 022E
        gbc.setState(0x842b, 0x3017, 0x9ae0, 0x83ee, 0xad6f, 0xaaa0, 0x1, 0x1);
        gbc.writeMem(0x842b, { 0xb6 });
        gbc.writeMem(0xaaa0, { 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3017);
        EXPECT(gbc.pc(), 0x842c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x842b), 0xb6);
        EXPECT(gbc.readMem(0xaaa0), 0xa1);
        // B6 0230
        gbc.setState(0x6d3d, 0xfa89, 0x890, 0x2a8e, 0xf138, 0xdb8a, 0x0, 0x1);
        gbc.writeMem(0x6d3d, { 0xb6 });
        gbc.writeMem(0xdb8a, { 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xfa89);
        EXPECT(gbc.pc(), 0x6d3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb8a), 0x9e);
        // B6 0231
        gbc.setState(0x255b, 0x78c4, 0x4b20, 0xe7e9, 0xa702, 0xabac, 0x0, 0x1);
        gbc.writeMem(0x255b, { 0xb6 });
        gbc.writeMem(0xabac, { 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x78c4);
        EXPECT(gbc.pc(), 0x255c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabac), 0x23);
        // B6 0232
        gbc.setState(0xad71, 0xe787, 0xd710, 0x1596, 0x182, 0x44b7, 0x1, 0x0);
        gbc.writeMem(0x44b7, { 0x3 });
        gbc.writeMem(0xad71, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xe787);
        EXPECT(gbc.pc(), 0xad72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad71), 0xb6);
        // B6 0233
        gbc.setState(0x7035, 0x6bfd, 0x6fc0, 0xe192, 0x64fe, 0x6a93, 0x1, 0x1);
        gbc.writeMem(0x6a93, { 0x80 });
        gbc.writeMem(0x7035, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x6bfd);
        EXPECT(gbc.pc(), 0x7036);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0234
        gbc.setState(0x9f1, 0x6b0, 0x3af0, 0xb0f5, 0x7cc1, 0xc319, 0x0, 0x1);
        gbc.writeMem(0x9f1, { 0xb6 });
        gbc.writeMem(0xc319, { 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x6b0);
        EXPECT(gbc.pc(), 0x9f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc319), 0xf6);
        // B6 0235
        gbc.setState(0xb070, 0x73b3, 0x8080, 0xed81, 0xeec1, 0xced5, 0x1, 0x0);
        gbc.writeMem(0xb070, { 0xb6 });
        gbc.writeMem(0xced5, { 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x73b3);
        EXPECT(gbc.pc(), 0xb071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb070), 0xb6);
        EXPECT(gbc.readMem(0xced5), 0x94);
        // B6 0236
        gbc.setState(0x5cde, 0x2ddd, 0xcd90, 0x98c1, 0xce68, 0x7e48, 0x1, 0x1);
        gbc.writeMem(0x5cde, { 0xb6 });
        gbc.writeMem(0x7e48, { 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x2ddd);
        EXPECT(gbc.pc(), 0x5cdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0237
        gbc.setState(0x649f, 0x3e72, 0x9f10, 0x4177, 0xfcee, 0xe24d, 0x1, 0x0);
        gbc.writeMem(0x649f, { 0xb6 });
        gbc.writeMem(0xe24d, { 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x3e72);
        EXPECT(gbc.pc(), 0x64a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe24d), 0x1);
        // B6 0239
        gbc.setState(0x961f, 0x19e4, 0x8d00, 0x794b, 0x5bf, 0x88d7, 0x0, 0x1);
        gbc.writeMem(0x88d7, { 0xc2 });
        gbc.writeMem(0x961f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x19e4);
        EXPECT(gbc.pc(), 0x9620);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88d7), 0xc2);
        EXPECT(gbc.readMem(0x961f), 0xb6);
        // B6 023C
        gbc.setState(0x1e05, 0x12c1, 0x6900, 0xedbb, 0x955, 0xaa9, 0x1, 0x0);
        gbc.writeMem(0xaa9, { 0x6f });
        gbc.writeMem(0x1e05, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x12c1);
        EXPECT(gbc.pc(), 0x1e06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 023D
        gbc.setState(0x5226, 0x18c7, 0x630, 0xac6f, 0x49eb, 0xe89c, 0x0, 0x1);
        gbc.writeMem(0x5226, { 0xb6 });
        gbc.writeMem(0xe89c, { 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x18c7);
        EXPECT(gbc.pc(), 0x5227);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe89c), 0x6c);
        // B6 023E
        gbc.setState(0x89bd, 0x26dc, 0xc8e0, 0x91a3, 0xd91a, 0x710f, 0x1, 0x1);
        gbc.writeMem(0x710f, { 0xe8 });
        gbc.writeMem(0x89bd, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x26dc);
        EXPECT(gbc.pc(), 0x89be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89bd), 0xb6);
        // B6 023F
        gbc.setState(0x3e1f, 0x2cc, 0x4b20, 0x7fd2, 0xe496, 0xe4ac, 0x1, 0x0);
        gbc.writeMem(0x3e1f, { 0xb6 });
        gbc.writeMem(0xe4ac, { 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x2cc);
        EXPECT(gbc.pc(), 0x3e20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4ac), 0xd1);
        // B6 0240
        gbc.setState(0xc436, 0xea7c, 0x55a0, 0x4013, 0xf94b, 0x53a6, 0x0, 0x0);
        gbc.writeMem(0x53a6, { 0x74 });
        gbc.writeMem(0xc436, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xea7c);
        EXPECT(gbc.pc(), 0xc437);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc436), 0xb6);
        // B6 0241
        gbc.setState(0x1b1e, 0x8521, 0xaa30, 0x58c3, 0x6c86, 0xabce, 0x1, 0x0);
        gbc.writeMem(0x1b1e, { 0xb6 });
        gbc.writeMem(0xabce, { 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x8521);
        EXPECT(gbc.pc(), 0x1b1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabce), 0x53);
        // B6 0242
        gbc.setState(0x24f0, 0x10fb, 0x8430, 0x1a32, 0x5c88, 0x4744, 0x1, 0x1);
        gbc.writeMem(0x24f0, { 0xb6 });
        gbc.writeMem(0x4744, { 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x10fb);
        EXPECT(gbc.pc(), 0x24f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0243
        gbc.setState(0x10a7, 0xaae3, 0xd2b0, 0x1313, 0xd3b1, 0x3208, 0x0, 0x0);
        gbc.writeMem(0x10a7, { 0xb6 });
        gbc.writeMem(0x3208, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xaae3);
        EXPECT(gbc.pc(), 0x10a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0244
        gbc.setState(0x1594, 0xb4dd, 0x1100, 0xea0d, 0x82a4, 0xd906, 0x0, 0x0);
        gbc.writeMem(0x1594, { 0xb6 });
        gbc.writeMem(0xd906, { 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xb4dd);
        EXPECT(gbc.pc(), 0x1595);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd906), 0xcc);
        // B6 0245
        gbc.setState(0x26a0, 0xb12e, 0xf370, 0x7836, 0xcfae, 0x20f6, 0x1, 0x0);
        gbc.writeMem(0x20f6, { 0x3d });
        gbc.writeMem(0x26a0, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xb12e);
        EXPECT(gbc.pc(), 0x26a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0246
        gbc.setState(0xb8b4, 0x6ca7, 0xecc0, 0xa1ca, 0x82b3, 0x16a0, 0x0, 0x1);
        gbc.writeMem(0x16a0, { 0xbb });
        gbc.writeMem(0xb8b4, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x6ca7);
        EXPECT(gbc.pc(), 0xb8b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8b4), 0xb6);
        // B6 0247
        gbc.setState(0x5c66, 0xdaed, 0xf800, 0x65a3, 0x4a60, 0xfa08, 0x0, 0x1);
        gbc.writeMem(0x5c66, { 0xb6 });
        gbc.writeMem(0xfa08, { 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xdaed);
        EXPECT(gbc.pc(), 0x5c67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfa08), 0x26);
        // B6 0248
        gbc.setState(0x92e8, 0xbed6, 0xf880, 0xe9fd, 0x3794, 0xf046, 0x0, 0x0);
        gbc.writeMem(0x92e8, { 0xb6 });
        gbc.writeMem(0xf046, { 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xbed6);
        EXPECT(gbc.pc(), 0x92e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92e8), 0xb6);
        EXPECT(gbc.readMem(0xf046), 0xd4);
        // B6 0249
        gbc.setState(0x9a17, 0x6918, 0xd750, 0xbc0, 0x4c02, 0x18a0, 0x1, 0x1);
        gbc.writeMem(0x18a0, { 0x58 });
        gbc.writeMem(0x9a17, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x6918);
        EXPECT(gbc.pc(), 0x9a18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a17), 0xb6);
        // B6 024A
        gbc.setState(0xcd5, 0xdd18, 0x8430, 0xcfc2, 0x7f08, 0xe996, 0x1, 0x0);
        gbc.writeMem(0xcd5, { 0xb6 });
        gbc.writeMem(0xe996, { 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xdd18);
        EXPECT(gbc.pc(), 0xcd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe996), 0xbe);
        // B6 024B
        gbc.setState(0x9078, 0xc202, 0x3430, 0x2dea, 0xdce1, 0x351d, 0x1, 0x1);
        gbc.writeMem(0x351d, { 0xe });
        gbc.writeMem(0x9078, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xc202);
        EXPECT(gbc.pc(), 0x9079);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9078), 0xb6);
        // B6 024C
        gbc.setState(0xe2ab, 0x6157, 0xb280, 0x2351, 0xbafd, 0xa1da, 0x0, 0x0);
        gbc.writeMem(0xa1da, { 0x16 });
        gbc.writeMem(0xe2ab, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x6157);
        EXPECT(gbc.pc(), 0xe2ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1da), 0x16);
        EXPECT(gbc.readMem(0xe2ab), 0xb6);
        // B6 024D
        gbc.setState(0xbac5, 0xa2fb, 0x2330, 0xc468, 0x5ce5, 0x3c58, 0x0, 0x1);
        gbc.writeMem(0x3c58, { 0xde });
        gbc.writeMem(0xbac5, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xa2fb);
        EXPECT(gbc.pc(), 0xbac6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbac5), 0xb6);
        // B6 024E
        gbc.setState(0x5e43, 0x7247, 0x33f0, 0xaeb1, 0xb1d4, 0xf25, 0x0, 0x0);
        gbc.writeMem(0xf25, { 0xa2 });
        gbc.writeMem(0x5e43, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x7247);
        EXPECT(gbc.pc(), 0x5e44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 024F
        gbc.setState(0x185c, 0xc6a6, 0xbc10, 0x946f, 0x46c8, 0xca02, 0x0, 0x0);
        gbc.writeMem(0x185c, { 0xb6 });
        gbc.writeMem(0xca02, { 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xc6a6);
        EXPECT(gbc.pc(), 0x185d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca02), 0x2);
        // B6 0250
        gbc.setState(0xab9b, 0x194, 0x8640, 0x4199, 0x2613, 0x386f, 0x1, 0x1);
        gbc.writeMem(0x386f, { 0x35 });
        gbc.writeMem(0xab9b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x194);
        EXPECT(gbc.pc(), 0xab9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab9b), 0xb6);
        // B6 0251
        gbc.setState(0x2481, 0xe447, 0x9f20, 0xed53, 0x9875, 0x2732, 0x0, 0x1);
        gbc.writeMem(0x2481, { 0xb6 });
        gbc.writeMem(0x2732, { 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xe447);
        EXPECT(gbc.pc(), 0x2482);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0252
        gbc.setState(0x96ce, 0xc4f5, 0xf190, 0xd064, 0x489e, 0x36ee, 0x0, 0x0);
        gbc.writeMem(0x36ee, { 0x8b });
        gbc.writeMem(0x96ce, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xc4f5);
        EXPECT(gbc.pc(), 0x96cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96ce), 0xb6);
        // B6 0253
        gbc.setState(0x5e99, 0xcdaf, 0x1520, 0xc3b1, 0x237e, 0xacb6, 0x1, 0x1);
        gbc.writeMem(0x5e99, { 0xb6 });
        gbc.writeMem(0xacb6, { 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xcdaf);
        EXPECT(gbc.pc(), 0x5e9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacb6), 0xcf);
        // B6 0254
        gbc.setState(0xc5b2, 0x8ace, 0x6120, 0x5c4a, 0x8726, 0x3ce3, 0x0, 0x1);
        gbc.writeMem(0x3ce3, { 0xd6 });
        gbc.writeMem(0xc5b2, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x8ace);
        EXPECT(gbc.pc(), 0xc5b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5b2), 0xb6);
        // B6 0255
        gbc.setState(0x6d92, 0x87a8, 0xe040, 0x898c, 0x52a8, 0x65d0, 0x1, 0x1);
        gbc.writeMem(0x65d0, { 0x22 });
        gbc.writeMem(0x6d92, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x87a8);
        EXPECT(gbc.pc(), 0x6d93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0256
        gbc.setState(0x8b1e, 0x6d1d, 0x3320, 0xc26f, 0x2e02, 0x26b0, 0x1, 0x0);
        gbc.writeMem(0x26b0, { 0x9 });
        gbc.writeMem(0x8b1e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x6d1d);
        EXPECT(gbc.pc(), 0x8b1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b1e), 0xb6);
        // B6 0257
        gbc.setState(0xa19c, 0xb411, 0xc80, 0x1113, 0xdaf8, 0xfade, 0x1, 0x0);
        gbc.writeMem(0xa19c, { 0xb6 });
        gbc.writeMem(0xfade, { 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xb411);
        EXPECT(gbc.pc(), 0xa19d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa19c), 0xb6);
        EXPECT(gbc.readMem(0xfade), 0x39);
        // B6 0258
        gbc.setState(0x4836, 0xfc30, 0x6150, 0x5919, 0x94b9, 0xaa37, 0x1, 0x1);
        gbc.writeMem(0x4836, { 0xb6 });
        gbc.writeMem(0xaa37, { 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xfc30);
        EXPECT(gbc.pc(), 0x4837);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa37), 0xd5);
        // B6 0259
        gbc.setState(0xb6a4, 0xc8b7, 0xe130, 0xfb6a, 0x6ec9, 0x9974, 0x1, 0x0);
        gbc.writeMem(0x9974, { 0x75 });
        gbc.writeMem(0xb6a4, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xc8b7);
        EXPECT(gbc.pc(), 0xb6a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9974), 0x75);
        EXPECT(gbc.readMem(0xb6a4), 0xb6);
        // B6 025A
        gbc.setState(0xa46b, 0x7856, 0xffc0, 0x30ef, 0x9332, 0x3813, 0x0, 0x1);
        gbc.writeMem(0x3813, { 0x43 });
        gbc.writeMem(0xa46b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x7856);
        EXPECT(gbc.pc(), 0xa46c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa46b), 0xb6);
        // B6 025B
        gbc.setState(0x143d, 0xb9ab, 0x3f70, 0x5d9c, 0x58fc, 0x5987, 0x1, 0x1);
        gbc.writeMem(0x143d, { 0xb6 });
        gbc.writeMem(0x5987, { 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xb9ab);
        EXPECT(gbc.pc(), 0x143e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 025C
        gbc.setState(0x84b, 0xd508, 0x2e00, 0x9e6f, 0xa0dc, 0x7bb2, 0x0, 0x0);
        gbc.writeMem(0x84b, { 0xb6 });
        gbc.writeMem(0x7bb2, { 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xd508);
        EXPECT(gbc.pc(), 0x84c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 025E
        gbc.setState(0xe9fd, 0xb600, 0x730, 0x9491, 0xe5f5, 0xa0ad, 0x1, 0x0);
        gbc.writeMem(0xa0ad, { 0x19 });
        gbc.writeMem(0xe9fd, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xb600);
        EXPECT(gbc.pc(), 0xe9fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0ad), 0x19);
        EXPECT(gbc.readMem(0xe9fd), 0xb6);
        // B6 025F
        gbc.setState(0x4c40, 0xcce, 0x5780, 0xe5c7, 0x8889, 0x3270, 0x0, 0x1);
        gbc.writeMem(0x3270, { 0x7d });
        gbc.writeMem(0x4c40, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xcce);
        EXPECT(gbc.pc(), 0x4c41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0260
        gbc.setState(0x13e7, 0x720b, 0x2950, 0xf153, 0x2067, 0xb13d, 0x0, 0x1);
        gbc.writeMem(0x13e7, { 0xb6 });
        gbc.writeMem(0xb13d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x720b);
        EXPECT(gbc.pc(), 0x13e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb13d), 0x41);
        // B6 0261
        gbc.setState(0xc0d6, 0x8ab2, 0x85d0, 0xc85, 0xfe86, 0x41, 0x1, 0x0);
        gbc.writeMem(0x41, { 0x15 });
        gbc.writeMem(0xc0d6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x8ab2);
        EXPECT(gbc.pc(), 0xc0d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0d6), 0xb6);
        // B6 0262
        gbc.setState(0x6fec, 0xea53, 0x8a40, 0xbac3, 0x551a, 0xe25, 0x0, 0x0);
        gbc.writeMem(0xe25, { 0x5c });
        gbc.writeMem(0x6fec, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xea53);
        EXPECT(gbc.pc(), 0x6fed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0264
        gbc.setState(0x25d7, 0xa84a, 0x2860, 0x8a87, 0x96cd, 0xb3cc, 0x1, 0x1);
        gbc.writeMem(0x25d7, { 0xb6 });
        gbc.writeMem(0xb3cc, { 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xa84a);
        EXPECT(gbc.pc(), 0x25d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3cc), 0x81);
        // B6 0265
        gbc.setState(0x64f8, 0x3e8b, 0xdae0, 0xb1e6, 0xaad9, 0x1be5, 0x1, 0x0);
        gbc.writeMem(0x1be5, { 0xda });
        gbc.writeMem(0x64f8, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x3e8b);
        EXPECT(gbc.pc(), 0x64f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0266
        gbc.setState(0x1b3, 0xf7ea, 0xb1c0, 0x2bb5, 0x874f, 0x41d7, 0x0, 0x1);
        gbc.writeMem(0x1b3, { 0xb6 });
        gbc.writeMem(0x41d7, { 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xf7ea);
        EXPECT(gbc.pc(), 0x1b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0267
        gbc.setState(0x9b2a, 0xfe7c, 0x1270, 0x6e25, 0x64d8, 0xb650, 0x0, 0x0);
        gbc.writeMem(0x9b2a, { 0xb6 });
        gbc.writeMem(0xb650, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xfe7c);
        EXPECT(gbc.pc(), 0x9b2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b2a), 0xb6);
        EXPECT(gbc.readMem(0xb650), 0xf);
        // B6 0268
        gbc.setState(0x39b6, 0x68c6, 0x3170, 0xb43a, 0x76b, 0xef04, 0x0, 0x0);
        gbc.writeMem(0x39b6, { 0xb6 });
        gbc.writeMem(0xef04, { 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x68c6);
        EXPECT(gbc.pc(), 0x39b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef04), 0x71);
        // B6 0269
        gbc.setState(0x2ad8, 0x56ca, 0x8b60, 0xb40a, 0xc2c2, 0x9f37, 0x1, 0x0);
        gbc.writeMem(0x2ad8, { 0xb6 });
        gbc.writeMem(0x9f37, { 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x56ca);
        EXPECT(gbc.pc(), 0x2ad9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f37), 0xb2);
        // B6 026A
        gbc.setState(0x8021, 0xee90, 0xcd0, 0xbfe7, 0x1161, 0xa721, 0x0, 0x1);
        gbc.writeMem(0x8021, { 0xb6 });
        gbc.writeMem(0xa721, { 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xee90);
        EXPECT(gbc.pc(), 0x8022);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8021), 0xb6);
        EXPECT(gbc.readMem(0xa721), 0x33);
        // B6 026B
        gbc.setState(0x5a2e, 0xeaf1, 0x43d0, 0x2508, 0x11f3, 0x546d, 0x1, 0x0);
        gbc.writeMem(0x546d, { 0x7d });
        gbc.writeMem(0x5a2e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xeaf1);
        EXPECT(gbc.pc(), 0x5a2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 026C
        gbc.setState(0x50b6, 0x25e9, 0x9300, 0xf09d, 0x4bb3, 0x15ca, 0x0, 0x0);
        gbc.writeMem(0x15ca, { 0x26 });
        gbc.writeMem(0x50b6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x25e9);
        EXPECT(gbc.pc(), 0x50b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 026D
        gbc.setState(0x6e14, 0xea4a, 0xf7f0, 0x50fb, 0x1a6e, 0x7237, 0x1, 0x1);
        gbc.writeMem(0x6e14, { 0xb6 });
        gbc.writeMem(0x7237, { 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xea4a);
        EXPECT(gbc.pc(), 0x6e15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 026E
        gbc.setState(0xd1f7, 0xb808, 0xfbb0, 0x4a6b, 0x8c4, 0xac32, 0x0, 0x1);
        gbc.writeMem(0xac32, { 0x76 });
        gbc.writeMem(0xd1f7, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xb808);
        EXPECT(gbc.pc(), 0xd1f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac32), 0x76);
        EXPECT(gbc.readMem(0xd1f7), 0xb6);
        // B6 026F
        gbc.setState(0x9d2c, 0x3370, 0xca90, 0x6e82, 0x8279, 0x8c68, 0x0, 0x0);
        gbc.writeMem(0x8c68, { 0x4c });
        gbc.writeMem(0x9d2c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x3370);
        EXPECT(gbc.pc(), 0x9d2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c68), 0x4c);
        EXPECT(gbc.readMem(0x9d2c), 0xb6);
        // B6 0270
        gbc.setState(0x3966, 0x746f, 0x14b0, 0xdf4e, 0xaad2, 0x76b2, 0x0, 0x0);
        gbc.writeMem(0x3966, { 0xb6 });
        gbc.writeMem(0x76b2, { 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x746f);
        EXPECT(gbc.pc(), 0x3967);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0271
        gbc.setState(0x1fb8, 0x7019, 0x8b00, 0x5a1, 0x7fb7, 0xc472, 0x1, 0x1);
        gbc.writeMem(0x1fb8, { 0xb6 });
        gbc.writeMem(0xc472, { 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x7019);
        EXPECT(gbc.pc(), 0x1fb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc472), 0x36);
        // B6 0272
        gbc.setState(0x74db, 0x8d99, 0x7d90, 0x1617, 0xb966, 0x2311, 0x0, 0x1);
        gbc.writeMem(0x2311, { 0xd7 });
        gbc.writeMem(0x74db, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x8d99);
        EXPECT(gbc.pc(), 0x74dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0273
        gbc.setState(0x98da, 0x6969, 0x36d0, 0xf992, 0xd58a, 0x2529, 0x1, 0x0);
        gbc.writeMem(0x2529, { 0x52 });
        gbc.writeMem(0x98da, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x6969);
        EXPECT(gbc.pc(), 0x98db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98da), 0xb6);
        // B6 0274
        gbc.setState(0x5ebc, 0x206d, 0xe5d0, 0xed61, 0xa35a, 0x64d2, 0x0, 0x1);
        gbc.writeMem(0x5ebc, { 0xb6 });
        gbc.writeMem(0x64d2, { 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x206d);
        EXPECT(gbc.pc(), 0x5ebd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0275
        gbc.setState(0x75b5, 0x720e, 0xa770, 0x9f34, 0x73ae, 0xc00c, 0x0, 0x0);
        gbc.writeMem(0x75b5, { 0xb6 });
        gbc.writeMem(0xc00c, { 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x720e);
        EXPECT(gbc.pc(), 0x75b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc00c), 0x38);
        // B6 0276
        gbc.setState(0x6aee, 0xe82c, 0xbc00, 0xf7a9, 0xb896, 0xf5aa, 0x0, 0x0);
        gbc.writeMem(0x6aee, { 0xb6 });
        gbc.writeMem(0xf5aa, { 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xe82c);
        EXPECT(gbc.pc(), 0x6aef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf5aa), 0x2e);
        // B6 0279
        gbc.setState(0xa8f, 0x66a3, 0xe0d0, 0xf1d5, 0x6069, 0x33e0, 0x1, 0x0);
        gbc.writeMem(0xa8f, { 0xb6 });
        gbc.writeMem(0x33e0, { 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x66a3);
        EXPECT(gbc.pc(), 0xa90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 027A
        gbc.setState(0x92eb, 0x450c, 0x4110, 0xd48a, 0x2172, 0x77d9, 0x0, 0x1);
        gbc.writeMem(0x77d9, { 0x24 });
        gbc.writeMem(0x92eb, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x450c);
        EXPECT(gbc.pc(), 0x92ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92eb), 0xb6);
        // B6 027B
        gbc.setState(0x81c2, 0x455b, 0xe4a0, 0x27a5, 0xdd74, 0xc7df, 0x0, 0x1);
        gbc.writeMem(0x81c2, { 0xb6 });
        gbc.writeMem(0xc7df, { 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x455b);
        EXPECT(gbc.pc(), 0x81c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81c2), 0xb6);
        EXPECT(gbc.readMem(0xc7df), 0xa9);
        // B6 027C
        gbc.setState(0x7552, 0xed53, 0xd840, 0x75f5, 0x2ee9, 0xb155, 0x0, 0x0);
        gbc.writeMem(0x7552, { 0xb6 });
        gbc.writeMem(0xb155, { 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xed53);
        EXPECT(gbc.pc(), 0x7553);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb155), 0x8a);
        // B6 027D
        gbc.setState(0x6de2, 0xa92, 0x2df0, 0xfa21, 0xc66e, 0x29fd, 0x0, 0x0);
        gbc.writeMem(0x29fd, { 0x43 });
        gbc.writeMem(0x6de2, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xa92);
        EXPECT(gbc.pc(), 0x6de3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 027E
        gbc.setState(0xae75, 0xf26b, 0xf130, 0x799b, 0x79f2, 0xf5e, 0x0, 0x1);
        gbc.writeMem(0xf5e, { 0x33 });
        gbc.writeMem(0xae75, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xf26b);
        EXPECT(gbc.pc(), 0xae76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae75), 0xb6);
        // B6 027F
        gbc.setState(0x5f2f, 0x4be8, 0xacc0, 0xad4c, 0x3fb0, 0x4138, 0x0, 0x1);
        gbc.writeMem(0x4138, { 0x8 });
        gbc.writeMem(0x5f2f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x4be8);
        EXPECT(gbc.pc(), 0x5f30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0280
        gbc.setState(0xe7fd, 0xad5a, 0xa360, 0xb58a, 0x3412, 0xe9b6, 0x0, 0x0);
        gbc.writeMem(0xe7fd, { 0xb6 });
        gbc.writeMem(0xe9b6, { 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xad5a);
        EXPECT(gbc.pc(), 0xe7fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7fd), 0xb6);
        EXPECT(gbc.readMem(0xe9b6), 0xb3);
        // B6 0281
        gbc.setState(0xad49, 0x1f3d, 0x2b20, 0x247, 0x1b6c, 0x341c, 0x1, 0x0);
        gbc.writeMem(0x341c, { 0x6c });
        gbc.writeMem(0xad49, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x1f3d);
        EXPECT(gbc.pc(), 0xad4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad49), 0xb6);
        // B6 0282
        gbc.setState(0x5f16, 0x13a, 0xb130, 0x34f0, 0x5d16, 0x6297, 0x1, 0x1);
        gbc.writeMem(0x5f16, { 0xb6 });
        gbc.writeMem(0x6297, { 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x13a);
        EXPECT(gbc.pc(), 0x5f17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0283
        gbc.setState(0x101f, 0xd1c5, 0x63f0, 0x21d0, 0x39c7, 0x27ef, 0x1, 0x0);
        gbc.writeMem(0x101f, { 0xb6 });
        gbc.writeMem(0x27ef, { 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xd1c5);
        EXPECT(gbc.pc(), 0x1020);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0284
        gbc.setState(0x7b05, 0x3ad6, 0x9260, 0xfefa, 0x6050, 0x8e8, 0x1, 0x1);
        gbc.writeMem(0x8e8, { 0xad });
        gbc.writeMem(0x7b05, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x3ad6);
        EXPECT(gbc.pc(), 0x7b06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0286
        gbc.setState(0x127, 0x2831, 0xddf0, 0x3ee7, 0x872a, 0x3b63, 0x0, 0x0);
        gbc.writeMem(0x127, { 0xb6 });
        gbc.writeMem(0x3b63, { 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x2831);
        EXPECT(gbc.pc(), 0x128);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0287
        gbc.setState(0xe943, 0x1f27, 0xebd0, 0xadb4, 0x9aad, 0xe05f, 0x1, 0x0);
        gbc.writeMem(0xe05f, { 0xa1 });
        gbc.writeMem(0xe943, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x1f27);
        EXPECT(gbc.pc(), 0xe944);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe05f), 0xa1);
        EXPECT(gbc.readMem(0xe943), 0xb6);
        // B6 0288
        gbc.setState(0xb1c4, 0x160f, 0x40d0, 0x5fda, 0x5b88, 0xb01f, 0x0, 0x1);
        gbc.writeMem(0xb01f, { 0xe3 });
        gbc.writeMem(0xb1c4, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x160f);
        EXPECT(gbc.pc(), 0xb1c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb01f), 0xe3);
        EXPECT(gbc.readMem(0xb1c4), 0xb6);
        // B6 0289
        gbc.setState(0x4ead, 0xd65e, 0x8550, 0xc542, 0x5c94, 0xa655, 0x0, 0x0);
        gbc.writeMem(0x4ead, { 0xb6 });
        gbc.writeMem(0xa655, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xd65e);
        EXPECT(gbc.pc(), 0x4eae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa655), 0x24);
        // B6 028A
        gbc.setState(0xeb9e, 0x30e, 0xbff0, 0x7805, 0x3a63, 0x2706, 0x0, 0x0);
        gbc.writeMem(0x2706, { 0x1b });
        gbc.writeMem(0xeb9e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x30e);
        EXPECT(gbc.pc(), 0xeb9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb9e), 0xb6);
        // B6 028B
        gbc.setState(0xc49c, 0xceb9, 0x8160, 0x2345, 0xecb, 0x9858, 0x0, 0x1);
        gbc.writeMem(0x9858, { 0xf2 });
        gbc.writeMem(0xc49c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xceb9);
        EXPECT(gbc.pc(), 0xc49d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9858), 0xf2);
        EXPECT(gbc.readMem(0xc49c), 0xb6);
        // B6 028C
        gbc.setState(0x2a7, 0x9d21, 0xc60, 0xb333, 0xad80, 0xefed, 0x0, 0x0);
        gbc.writeMem(0x2a7, { 0xb6 });
        gbc.writeMem(0xefed, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x9d21);
        EXPECT(gbc.pc(), 0x2a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefed), 0xb0);
        // B6 028D
        gbc.setState(0x8b15, 0x6edc, 0x49b0, 0x3382, 0x4f6, 0x3df4, 0x1, 0x1);
        gbc.writeMem(0x3df4, { 0x69 });
        gbc.writeMem(0x8b15, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x6edc);
        EXPECT(gbc.pc(), 0x8b16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b15), 0xb6);
        // B6 028E
        gbc.setState(0x1b07, 0x411e, 0x5880, 0x5c6c, 0xcff1, 0xfeb5, 0x0, 0x0);
        gbc.writeMem(0x1b07, { 0xb6 });
        gbc.writeMem(0xfeb5, { 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x411e);
        EXPECT(gbc.pc(), 0x1b08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfeb5), 0x2c);
        // B6 028F
        gbc.setState(0x1760, 0xf4d7, 0x2100, 0xd8a9, 0x4fb4, 0x867f, 0x0, 0x1);
        gbc.writeMem(0x1760, { 0xb6 });
        gbc.writeMem(0x867f, { 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xf4d7);
        EXPECT(gbc.pc(), 0x1761);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x867f), 0x49);
        // B6 0290
        gbc.setState(0x774a, 0xb0b7, 0x58f0, 0x4404, 0xb694, 0x2ad7, 0x1, 0x1);
        gbc.writeMem(0x2ad7, { 0xa6 });
        gbc.writeMem(0x774a, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xb0b7);
        EXPECT(gbc.pc(), 0x774b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0291
        gbc.setState(0x42bd, 0x5889, 0x2e30, 0xfcec, 0xfb9c, 0x555c, 0x0, 0x0);
        gbc.writeMem(0x42bd, { 0xb6 });
        gbc.writeMem(0x555c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x5889);
        EXPECT(gbc.pc(), 0x42be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0292
        gbc.setState(0x9cd5, 0x5483, 0x6840, 0x4339, 0x469e, 0xcfcd, 0x0, 0x0);
        gbc.writeMem(0x9cd5, { 0xb6 });
        gbc.writeMem(0xcfcd, { 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x5483);
        EXPECT(gbc.pc(), 0x9cd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cd5), 0xb6);
        EXPECT(gbc.readMem(0xcfcd), 0xe8);
        // B6 0293
        gbc.setState(0xdf5e, 0x92f9, 0x38e0, 0x8ccc, 0xe242, 0xae94, 0x0, 0x0);
        gbc.writeMem(0xae94, { 0x1c });
        gbc.writeMem(0xdf5e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x92f9);
        EXPECT(gbc.pc(), 0xdf5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae94), 0x1c);
        EXPECT(gbc.readMem(0xdf5e), 0xb6);
        // B6 0294
        gbc.setState(0x9252, 0x3445, 0xc2c0, 0x6d56, 0x359, 0xfe1b, 0x0, 0x1);
        gbc.writeMem(0x9252, { 0xb6 });
        gbc.writeMem(0xfe1b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x3445);
        EXPECT(gbc.pc(), 0x9253);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9252), 0xb6);
        EXPECT(gbc.readMem(0xfe1b), 0x24);
        // B6 0295
        gbc.setState(0xdf32, 0x7993, 0x7460, 0xbc5c, 0xc64c, 0x140a, 0x1, 0x0);
        gbc.writeMem(0x140a, { 0xba });
        gbc.writeMem(0xdf32, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x7993);
        EXPECT(gbc.pc(), 0xdf33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf32), 0xb6);
        // B6 0297
        gbc.setState(0xc5a, 0x3e8f, 0xa600, 0xc38d, 0xf67b, 0x836f, 0x0, 0x0);
        gbc.writeMem(0xc5a, { 0xb6 });
        gbc.writeMem(0x836f, { 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x3e8f);
        EXPECT(gbc.pc(), 0xc5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x836f), 0xd9);
        // B6 0298
        gbc.setState(0x2eed, 0x9b9e, 0x29d0, 0x5e00, 0x1ebd, 0x7a59, 0x0, 0x1);
        gbc.writeMem(0x2eed, { 0xb6 });
        gbc.writeMem(0x7a59, { 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x9b9e);
        EXPECT(gbc.pc(), 0x2eee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0299
        gbc.setState(0x748c, 0x1666, 0xbc00, 0x78c4, 0x1efb, 0xb153, 0x1, 0x0);
        gbc.writeMem(0x748c, { 0xb6 });
        gbc.writeMem(0xb153, { 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x1666);
        EXPECT(gbc.pc(), 0x748d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb153), 0xc9);
        // B6 029A
        gbc.setState(0x529e, 0xc2c3, 0xd300, 0xac12, 0xf44d, 0xf94, 0x0, 0x0);
        gbc.writeMem(0xf94, { 0x46 });
        gbc.writeMem(0x529e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xc2c3);
        EXPECT(gbc.pc(), 0x529f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 029B
        gbc.setState(0xdf3e, 0xdabf, 0xf5d0, 0xf5df, 0x1003, 0x5411, 0x1, 0x1);
        gbc.writeMem(0x5411, { 0x18 });
        gbc.writeMem(0xdf3e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xdabf);
        EXPECT(gbc.pc(), 0xdf3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf3e), 0xb6);
        // B6 029D
        gbc.setState(0xe468, 0xb32b, 0x2ac0, 0x2b58, 0x514, 0x8428, 0x1, 0x0);
        gbc.writeMem(0x8428, { 0xd9 });
        gbc.writeMem(0xe468, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb32b);
        EXPECT(gbc.pc(), 0xe469);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8428), 0xd9);
        EXPECT(gbc.readMem(0xe468), 0xb6);
        // B6 029E
        gbc.setState(0x7b4c, 0x8db1, 0x1780, 0x7e14, 0xa26b, 0x3f38, 0x1, 0x1);
        gbc.writeMem(0x3f38, { 0xd8 });
        gbc.writeMem(0x7b4c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x8db1);
        EXPECT(gbc.pc(), 0x7b4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 029F
        gbc.setState(0x12f2, 0x7c02, 0xc360, 0xa57, 0xe726, 0xfe53, 0x1, 0x1);
        gbc.writeMem(0x12f2, { 0xb6 });
        gbc.writeMem(0xfe53, { 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7c02);
        EXPECT(gbc.pc(), 0x12f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfe53), 0xef);
        // B6 02A0
        gbc.setState(0x5232, 0xfb58, 0x5f50, 0x65fb, 0xf7a2, 0x8a0f, 0x0, 0x0);
        gbc.writeMem(0x5232, { 0xb6 });
        gbc.writeMem(0x8a0f, { 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xfb58);
        EXPECT(gbc.pc(), 0x5233);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a0f), 0x53);
        // B6 02A1
        gbc.setState(0x84c3, 0x68fe, 0xe400, 0xe204, 0x71e1, 0x2c45, 0x1, 0x0);
        gbc.writeMem(0x2c45, { 0x8b });
        gbc.writeMem(0x84c3, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x68fe);
        EXPECT(gbc.pc(), 0x84c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84c3), 0xb6);
        // B6 02A2
        gbc.setState(0x8029, 0x387e, 0x4dd0, 0x907d, 0xa8fa, 0xb037, 0x0, 0x1);
        gbc.writeMem(0x8029, { 0xb6 });
        gbc.writeMem(0xb037, { 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x387e);
        EXPECT(gbc.pc(), 0x802a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8029), 0xb6);
        EXPECT(gbc.readMem(0xb037), 0xf9);
        // B6 02A3
        gbc.setState(0x5fd1, 0x6b15, 0x84d0, 0xb53a, 0x1c49, 0x8b43, 0x1, 0x0);
        gbc.writeMem(0x5fd1, { 0xb6 });
        gbc.writeMem(0x8b43, { 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x6b15);
        EXPECT(gbc.pc(), 0x5fd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b43), 0x59);
        // B6 02A5
        gbc.setState(0xe3d3, 0x1093, 0xa2a0, 0xe254, 0x4469, 0x9287, 0x1, 0x0);
        gbc.writeMem(0x9287, { 0x30 });
        gbc.writeMem(0xe3d3, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x1093);
        EXPECT(gbc.pc(), 0xe3d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9287), 0x30);
        EXPECT(gbc.readMem(0xe3d3), 0xb6);
        // B6 02A6
        gbc.setState(0x9608, 0xf58b, 0x2d20, 0x6c21, 0x100a, 0x3c1c, 0x1, 0x0);
        gbc.writeMem(0x3c1c, { 0xe8 });
        gbc.writeMem(0x9608, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xf58b);
        EXPECT(gbc.pc(), 0x9609);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9608), 0xb6);
        // B6 02A7
        gbc.setState(0xa3e0, 0xe8be, 0x8220, 0xa943, 0xe489, 0xb09a, 0x1, 0x0);
        gbc.writeMem(0xa3e0, { 0xb6 });
        gbc.writeMem(0xb09a, { 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xe8be);
        EXPECT(gbc.pc(), 0xa3e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3e0), 0xb6);
        EXPECT(gbc.readMem(0xb09a), 0x63);
        // B6 02A8
        gbc.setState(0xd20b, 0xfaae, 0x76b0, 0xe5c3, 0xa301, 0xed3a, 0x1, 0x0);
        gbc.writeMem(0xd20b, { 0xb6 });
        gbc.writeMem(0xed3a, { 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xfaae);
        EXPECT(gbc.pc(), 0xd20c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd20b), 0xb6);
        EXPECT(gbc.readMem(0xed3a), 0x7c);
        // B6 02A9
        gbc.setState(0xae15, 0xa93, 0x7e40, 0xb094, 0x7747, 0x6b8a, 0x0, 0x1);
        gbc.writeMem(0x6b8a, { 0x2d });
        gbc.writeMem(0xae15, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xa93);
        EXPECT(gbc.pc(), 0xae16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae15), 0xb6);
        // B6 02AA
        gbc.setState(0x717f, 0x6512, 0xf7d0, 0xb917, 0xf66c, 0x54ee, 0x1, 0x0);
        gbc.writeMem(0x54ee, { 0xe });
        gbc.writeMem(0x717f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x6512);
        EXPECT(gbc.pc(), 0x7180);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02AB
        gbc.setState(0x1803, 0xd393, 0x9220, 0x242a, 0x71e2, 0xd7c3, 0x0, 0x0);
        gbc.writeMem(0x1803, { 0xb6 });
        gbc.writeMem(0xd7c3, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xd393);
        EXPECT(gbc.pc(), 0x1804);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7c3), 0x5);
        // B6 02AC
        gbc.setState(0x39c2, 0xb155, 0x3800, 0xefa3, 0x2ffc, 0x70c5, 0x0, 0x1);
        gbc.writeMem(0x39c2, { 0xb6 });
        gbc.writeMem(0x70c5, { 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xb155);
        EXPECT(gbc.pc(), 0x39c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02AD
        gbc.setState(0xe51, 0x6f31, 0x6ba0, 0x3423, 0x4771, 0xc8d0, 0x1, 0x1);
        gbc.writeMem(0xe51, { 0xb6 });
        gbc.writeMem(0xc8d0, { 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x6f31);
        EXPECT(gbc.pc(), 0xe52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8d0), 0x26);
        // B6 02AE
        gbc.setState(0x5017, 0x5f3, 0xde30, 0xf73a, 0xf661, 0xcde7, 0x0, 0x1);
        gbc.writeMem(0x5017, { 0xb6 });
        gbc.writeMem(0xcde7, { 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x5f3);
        EXPECT(gbc.pc(), 0x5018);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcde7), 0x97);
        // B6 02AF
        gbc.setState(0x32a4, 0x9ff, 0xf7b0, 0x62bd, 0x8f31, 0xb85b, 0x1, 0x1);
        gbc.writeMem(0x32a4, { 0xb6 });
        gbc.writeMem(0xb85b, { 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x9ff);
        EXPECT(gbc.pc(), 0x32a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb85b), 0xe8);
        // B6 02B0
        gbc.setState(0x7eb5, 0xd3b6, 0xd250, 0xb651, 0xa530, 0xedeb, 0x1, 0x0);
        gbc.writeMem(0x7eb5, { 0xb6 });
        gbc.writeMem(0xedeb, { 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xd3b6);
        EXPECT(gbc.pc(), 0x7eb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedeb), 0xde);
        // B6 02B1
        gbc.setState(0xaeab, 0xee23, 0xebb0, 0x92c4, 0xbd9e, 0x74ea, 0x0, 0x0);
        gbc.writeMem(0x74ea, { 0x71 });
        gbc.writeMem(0xaeab, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xee23);
        EXPECT(gbc.pc(), 0xaeac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaeab), 0xb6);
        // B6 02B2
        gbc.setState(0x7822, 0x55a, 0xfb20, 0x415f, 0x9f3c, 0x1e5b, 0x1, 0x0);
        gbc.writeMem(0x1e5b, { 0xa0 });
        gbc.writeMem(0x7822, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x55a);
        EXPECT(gbc.pc(), 0x7823);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02B3
        gbc.setState(0x1ffb, 0x2f60, 0x85c0, 0xf995, 0xeba8, 0xb557, 0x1, 0x1);
        gbc.writeMem(0x1ffb, { 0xb6 });
        gbc.writeMem(0xb557, { 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x2f60);
        EXPECT(gbc.pc(), 0x1ffc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb557), 0x4c);
        // B6 02B4
        gbc.setState(0x71ae, 0xf7c2, 0xbc30, 0xb29e, 0x3149, 0x2a1d, 0x0, 0x0);
        gbc.writeMem(0x2a1d, { 0x95 });
        gbc.writeMem(0x71ae, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xf7c2);
        EXPECT(gbc.pc(), 0x71af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02B6
        gbc.setState(0x6b4, 0xa9f3, 0x2cf0, 0x8482, 0xf087, 0xd9c9, 0x0, 0x1);
        gbc.writeMem(0x6b4, { 0xb6 });
        gbc.writeMem(0xd9c9, { 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xa9f3);
        EXPECT(gbc.pc(), 0x6b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9c9), 0xbe);
        // B6 02B7
        gbc.setState(0xe021, 0x4500, 0x5ef0, 0xfce0, 0xd21c, 0x61, 0x0, 0x0);
        gbc.writeMem(0x61, { 0x8f });
        gbc.writeMem(0xe021, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x4500);
        EXPECT(gbc.pc(), 0xe022);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe021), 0xb6);
        // B6 02B8
        gbc.setState(0xa9fd, 0xfca4, 0x59c0, 0x1953, 0xde6e, 0xe854, 0x1, 0x1);
        gbc.writeMem(0xa9fd, { 0xb6 });
        gbc.writeMem(0xe854, { 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xfca4);
        EXPECT(gbc.pc(), 0xa9fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9fd), 0xb6);
        EXPECT(gbc.readMem(0xe854), 0xfd);
        // B6 02B9
        gbc.setState(0xb126, 0xe282, 0x9420, 0x41ba, 0x2837, 0x2771, 0x0, 0x1);
        gbc.writeMem(0x2771, { 0x97 });
        gbc.writeMem(0xb126, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xe282);
        EXPECT(gbc.pc(), 0xb127);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb126), 0xb6);
        // B6 02BA
        gbc.setState(0x27f4, 0xe748, 0x43a0, 0xb6d0, 0xa78e, 0x9b36, 0x1, 0x1);
        gbc.writeMem(0x27f4, { 0xb6 });
        gbc.writeMem(0x9b36, { 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xe748);
        EXPECT(gbc.pc(), 0x27f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b36), 0x1c);
        // B6 02BB
        gbc.setState(0x6a85, 0xbf4a, 0x6430, 0x1478, 0x49da, 0x31a4, 0x1, 0x0);
        gbc.writeMem(0x31a4, { 0xce });
        gbc.writeMem(0x6a85, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xbf4a);
        EXPECT(gbc.pc(), 0x6a86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02BC
        gbc.setState(0x26d9, 0xc81b, 0x6e50, 0xa8ed, 0x8cb9, 0x2c9f, 0x0, 0x1);
        gbc.writeMem(0x26d9, { 0xb6 });
        gbc.writeMem(0x2c9f, { 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xc81b);
        EXPECT(gbc.pc(), 0x26da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02BD
        gbc.setState(0x2974, 0x1c23, 0x5230, 0xb688, 0x124a, 0xb4c3, 0x1, 0x1);
        gbc.writeMem(0x2974, { 0xb6 });
        gbc.writeMem(0xb4c3, { 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x1c23);
        EXPECT(gbc.pc(), 0x2975);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4c3), 0x15);
        // B6 02BE
        gbc.setState(0xb374, 0x480b, 0xf160, 0xa2c, 0xa3d8, 0x8281, 0x1, 0x1);
        gbc.writeMem(0x8281, { 0xb8 });
        gbc.writeMem(0xb374, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x480b);
        EXPECT(gbc.pc(), 0xb375);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8281), 0xb8);
        EXPECT(gbc.readMem(0xb374), 0xb6);
        // B6 02BF
        gbc.setState(0xc8f7, 0x4fe9, 0xe0c0, 0xcae, 0x78a7, 0x29, 0x0, 0x1);
        gbc.writeMem(0x29, { 0xf0 });
        gbc.writeMem(0xc8f7, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x4fe9);
        EXPECT(gbc.pc(), 0xc8f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8f7), 0xb6);
        // B6 02C0
        gbc.setState(0x9ca1, 0x3287, 0xe270, 0x5519, 0x9e3a, 0x4f55, 0x0, 0x0);
        gbc.writeMem(0x4f55, { 0xcc });
        gbc.writeMem(0x9ca1, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x3287);
        EXPECT(gbc.pc(), 0x9ca2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ca1), 0xb6);
        // B6 02C1
        gbc.setState(0xb2ad, 0x4313, 0x75e0, 0x1172, 0xcf7d, 0x10a5, 0x1, 0x1);
        gbc.writeMem(0x10a5, { 0x51 });
        gbc.writeMem(0xb2ad, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x4313);
        EXPECT(gbc.pc(), 0xb2ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2ad), 0xb6);
        // B6 02C2
        gbc.setState(0xb08, 0x5353, 0xfd50, 0x12b6, 0xb916, 0x9fca, 0x0, 0x0);
        gbc.writeMem(0xb08, { 0xb6 });
        gbc.writeMem(0x9fca, { 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x5353);
        EXPECT(gbc.pc(), 0xb09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fca), 0xb5);
        // B6 02C3
        gbc.setState(0x358d, 0xf8c6, 0xb710, 0xcb69, 0x9c73, 0x9cd7, 0x0, 0x1);
        gbc.writeMem(0x358d, { 0xb6 });
        gbc.writeMem(0x9cd7, { 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xf8c6);
        EXPECT(gbc.pc(), 0x358e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cd7), 0x1d);
        // B6 02C4
        gbc.setState(0xe1ec, 0x10a4, 0xf650, 0xeb6c, 0x24b6, 0xf55, 0x1, 0x1);
        gbc.writeMem(0xf55, { 0x69 });
        gbc.writeMem(0xe1ec, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x10a4);
        EXPECT(gbc.pc(), 0xe1ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1ec), 0xb6);
        // B6 02C5
        gbc.setState(0x714e, 0x29ce, 0x8370, 0xf511, 0x8c29, 0x4a5e, 0x0, 0x1);
        gbc.writeMem(0x4a5e, { 0xfd });
        gbc.writeMem(0x714e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x29ce);
        EXPECT(gbc.pc(), 0x714f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02C6
        gbc.setState(0x89a6, 0x2471, 0x5890, 0x47e0, 0x590d, 0x73d8, 0x0, 0x1);
        gbc.writeMem(0x73d8, { 0xe9 });
        gbc.writeMem(0x89a6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x2471);
        EXPECT(gbc.pc(), 0x89a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89a6), 0xb6);
        // B6 02C7
        gbc.setState(0xabd8, 0xeb5e, 0xe850, 0xa9e6, 0xace1, 0xd33f, 0x1, 0x1);
        gbc.writeMem(0xabd8, { 0xb6 });
        gbc.writeMem(0xd33f, { 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xeb5e);
        EXPECT(gbc.pc(), 0xabd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabd8), 0xb6);
        EXPECT(gbc.readMem(0xd33f), 0xbf);
        // B6 02C8
        gbc.setState(0xed2a, 0x349d, 0x3840, 0x3258, 0xc96f, 0x9983, 0x0, 0x1);
        gbc.writeMem(0x9983, { 0xf5 });
        gbc.writeMem(0xed2a, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x349d);
        EXPECT(gbc.pc(), 0xed2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9983), 0xf5);
        EXPECT(gbc.readMem(0xed2a), 0xb6);
        // B6 02C9
        gbc.setState(0x53eb, 0x64e9, 0x4180, 0x6d56, 0x2af5, 0x2b47, 0x0, 0x0);
        gbc.writeMem(0x2b47, { 0x6c });
        gbc.writeMem(0x53eb, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x64e9);
        EXPECT(gbc.pc(), 0x53ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02CA
        gbc.setState(0xd947, 0x200e, 0xf1f0, 0x408, 0x19b6, 0x36d6, 0x1, 0x0);
        gbc.writeMem(0x36d6, { 0xa0 });
        gbc.writeMem(0xd947, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x200e);
        EXPECT(gbc.pc(), 0xd948);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd947), 0xb6);
        // B6 02CB
        gbc.setState(0x82d8, 0x3bb0, 0x2b10, 0x4b3a, 0x7a06, 0x4329, 0x1, 0x0);
        gbc.writeMem(0x4329, { 0x8b });
        gbc.writeMem(0x82d8, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x3bb0);
        EXPECT(gbc.pc(), 0x82d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82d8), 0xb6);
        // B6 02CC
        gbc.setState(0x3e1, 0x2b6d, 0x9500, 0xef5c, 0x3761, 0xbd68, 0x1, 0x1);
        gbc.writeMem(0x3e1, { 0xb6 });
        gbc.writeMem(0xbd68, { 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x2b6d);
        EXPECT(gbc.pc(), 0x3e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd68), 0xba);
        // B6 02CD
        gbc.setState(0xe67b, 0x6333, 0x73c0, 0xa6b6, 0xa97b, 0xb7b3, 0x1, 0x1);
        gbc.writeMem(0xb7b3, { 0x2d });
        gbc.writeMem(0xe67b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x6333);
        EXPECT(gbc.pc(), 0xe67c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7b3), 0x2d);
        EXPECT(gbc.readMem(0xe67b), 0xb6);
        // B6 02CE
        gbc.setState(0x9025, 0xd616, 0x90e0, 0x33d7, 0xd2c2, 0xead2, 0x1, 0x0);
        gbc.writeMem(0x9025, { 0xb6 });
        gbc.writeMem(0xead2, { 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xd616);
        EXPECT(gbc.pc(), 0x9026);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9025), 0xb6);
        EXPECT(gbc.readMem(0xead2), 0xf4);
        // B6 02CF
        gbc.setState(0x601e, 0xaf7d, 0xd250, 0xfe6a, 0xfc43, 0x58ff, 0x1, 0x1);
        gbc.writeMem(0x58ff, { 0x7c });
        gbc.writeMem(0x601e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xaf7d);
        EXPECT(gbc.pc(), 0x601f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02D0
        gbc.setState(0x8d00, 0x67, 0x3b20, 0x3a68, 0x2f1, 0x21d5, 0x0, 0x0);
        gbc.writeMem(0x21d5, { 0x55 });
        gbc.writeMem(0x8d00, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x67);
        EXPECT(gbc.pc(), 0x8d01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d00), 0xb6);
        // B6 02D1
        gbc.setState(0xbec5, 0xb6c6, 0xce80, 0x56d7, 0x3141, 0x1247, 0x1, 0x0);
        gbc.writeMem(0x1247, { 0xc1 });
        gbc.writeMem(0xbec5, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xb6c6);
        EXPECT(gbc.pc(), 0xbec6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbec5), 0xb6);
        // B6 02D2
        gbc.setState(0x4248, 0xf5be, 0x66e0, 0x7863, 0x7e9f, 0xc7d8, 0x0, 0x1);
        gbc.writeMem(0x4248, { 0xb6 });
        gbc.writeMem(0xc7d8, { 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xf5be);
        EXPECT(gbc.pc(), 0x4249);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7d8), 0x48);
        // B6 02D3
        gbc.setState(0x8bc3, 0xd215, 0xab60, 0xd450, 0x2694, 0x51ac, 0x0, 0x1);
        gbc.writeMem(0x51ac, { 0x62 });
        gbc.writeMem(0x8bc3, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd215);
        EXPECT(gbc.pc(), 0x8bc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bc3), 0xb6);
        // B6 02D4
        gbc.setState(0x166, 0x7fcb, 0xfd60, 0x2790, 0x211f, 0xbe96, 0x1, 0x0);
        gbc.writeMem(0x166, { 0xb6 });
        gbc.writeMem(0xbe96, { 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x7fcb);
        EXPECT(gbc.pc(), 0x167);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe96), 0xba);
        // B6 02D5
        gbc.setState(0xdfa7, 0x825d, 0x90e0, 0x3940, 0x17cd, 0x27aa, 0x1, 0x0);
        gbc.writeMem(0x27aa, { 0xeb });
        gbc.writeMem(0xdfa7, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x825d);
        EXPECT(gbc.pc(), 0xdfa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfa7), 0xb6);
        // B6 02D6
        gbc.setState(0xa16f, 0xdf85, 0x1750, 0x9d58, 0x93ad, 0xdd, 0x1, 0x0);
        gbc.writeMem(0xdd, { 0x49 });
        gbc.writeMem(0xa16f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xdf85);
        EXPECT(gbc.pc(), 0xa170);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa16f), 0xb6);
        // B6 02D7
        gbc.setState(0x9ece, 0xb5b1, 0x5680, 0x4c1, 0x532c, 0xc306, 0x0, 0x0);
        gbc.writeMem(0x9ece, { 0xb6 });
        gbc.writeMem(0xc306, { 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xb5b1);
        EXPECT(gbc.pc(), 0x9ecf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ece), 0xb6);
        EXPECT(gbc.readMem(0xc306), 0xd9);
        // B6 02D8
        gbc.setState(0xd26b, 0x2af9, 0xd190, 0x7fb1, 0x4225, 0xbe35, 0x1, 0x1);
        gbc.writeMem(0xbe35, { 0xc3 });
        gbc.writeMem(0xd26b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x2af9);
        EXPECT(gbc.pc(), 0xd26c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe35), 0xc3);
        EXPECT(gbc.readMem(0xd26b), 0xb6);
        // B6 02DA
        gbc.setState(0x30, 0xc0e8, 0x74b0, 0x5b2, 0x9f83, 0x8425, 0x1, 0x0);
        gbc.writeMem(0x30, { 0xb6 });
        gbc.writeMem(0x8425, { 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xc0e8);
        EXPECT(gbc.pc(), 0x31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8425), 0x35);
        // B6 02DB
        gbc.setState(0x69da, 0xe211, 0x3da0, 0x387, 0xfc06, 0x2d59, 0x0, 0x0);
        gbc.writeMem(0x2d59, { 0x1 });
        gbc.writeMem(0x69da, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xe211);
        EXPECT(gbc.pc(), 0x69db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02DC
        gbc.setState(0x3735, 0x3bb4, 0x4c90, 0xe1aa, 0xedbe, 0x7836, 0x1, 0x1);
        gbc.writeMem(0x3735, { 0xb6 });
        gbc.writeMem(0x7836, { 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x3bb4);
        EXPECT(gbc.pc(), 0x3736);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02DD
        gbc.setState(0x23a5, 0x9d28, 0xe0a0, 0x183, 0xf983, 0x409e, 0x0, 0x0);
        gbc.writeMem(0x23a5, { 0xb6 });
        gbc.writeMem(0x409e, { 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x9d28);
        EXPECT(gbc.pc(), 0x23a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02DE
        gbc.setState(0x8358, 0x5de0, 0x9fb0, 0x25dc, 0x63b6, 0x821e, 0x0, 0x0);
        gbc.writeMem(0x821e, { 0xac });
        gbc.writeMem(0x8358, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x5de0);
        EXPECT(gbc.pc(), 0x8359);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x821e), 0xac);
        EXPECT(gbc.readMem(0x8358), 0xb6);
        // B6 02DF
        gbc.setState(0x24c0, 0xe713, 0x42e0, 0x1ddd, 0xf98f, 0x480, 0x1, 0x0);
        gbc.writeMem(0x480, { 0xff });
        gbc.writeMem(0x24c0, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xe713);
        EXPECT(gbc.pc(), 0x24c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02E0
        gbc.setState(0x5b8b, 0xc598, 0x41a0, 0x9ff4, 0x330b, 0xa9ff, 0x1, 0x0);
        gbc.writeMem(0x5b8b, { 0xb6 });
        gbc.writeMem(0xa9ff, { 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xc598);
        EXPECT(gbc.pc(), 0x5b8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9ff), 0x19);
        // B6 02E1
        gbc.setState(0x7f47, 0x37c3, 0xe370, 0xfe33, 0xa0d7, 0x5e9c, 0x1, 0x1);
        gbc.writeMem(0x5e9c, { 0x56 });
        gbc.writeMem(0x7f47, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x37c3);
        EXPECT(gbc.pc(), 0x7f48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02E2
        gbc.setState(0x7314, 0x4143, 0x48f0, 0x39a5, 0x1d91, 0xef83, 0x0, 0x0);
        gbc.writeMem(0x7314, { 0xb6 });
        gbc.writeMem(0xef83, { 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x4143);
        EXPECT(gbc.pc(), 0x7315);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef83), 0x6c);
        // B6 02E3
        gbc.setState(0x77cb, 0xe249, 0x6b40, 0x669a, 0x17c1, 0x157b, 0x1, 0x0);
        gbc.writeMem(0x157b, { 0x6d });
        gbc.writeMem(0x77cb, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xe249);
        EXPECT(gbc.pc(), 0x77cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02E4
        gbc.setState(0xc233, 0x38f4, 0x5c90, 0xccce, 0x4a2b, 0x1374, 0x1, 0x1);
        gbc.writeMem(0x1374, { 0xfd });
        gbc.writeMem(0xc233, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x38f4);
        EXPECT(gbc.pc(), 0xc234);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc233), 0xb6);
        // B6 02E5
        gbc.setState(0x568f, 0x4076, 0x7d0, 0x681a, 0x30fa, 0xefbd, 0x0, 0x1);
        gbc.writeMem(0x568f, { 0xb6 });
        gbc.writeMem(0xefbd, { 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x4076);
        EXPECT(gbc.pc(), 0x5690);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefbd), 0xae);
        // B6 02E6
        gbc.setState(0x1dbf, 0x7aaa, 0x8e00, 0xc82, 0x1436, 0x9e12, 0x1, 0x1);
        gbc.writeMem(0x1dbf, { 0xb6 });
        gbc.writeMem(0x9e12, { 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x7aaa);
        EXPECT(gbc.pc(), 0x1dc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e12), 0xb);
        // B6 02E7
        gbc.setState(0x8c4d, 0xaac3, 0x1970, 0x3e3, 0x17e7, 0x541, 0x0, 0x0);
        gbc.writeMem(0x541, { 0xb6 });
        gbc.writeMem(0x8c4d, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xaac3);
        EXPECT(gbc.pc(), 0x8c4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c4d), 0xb6);
        // B6 02E8
        gbc.setState(0x50d6, 0xd98f, 0x45f0, 0x12d1, 0xc089, 0x7ee8, 0x0, 0x1);
        gbc.writeMem(0x50d6, { 0xb6 });
        gbc.writeMem(0x7ee8, { 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xd98f);
        EXPECT(gbc.pc(), 0x50d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02E9
        gbc.setState(0x8181, 0xf7ff, 0xf800, 0xbf0f, 0xf179, 0x316a, 0x1, 0x0);
        gbc.writeMem(0x316a, { 0xd });
        gbc.writeMem(0x8181, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xf7ff);
        EXPECT(gbc.pc(), 0x8182);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8181), 0xb6);
        // B6 02EA
        gbc.setState(0x289a, 0x2cbc, 0x94c0, 0xebe3, 0x540d, 0xc9fa, 0x0, 0x1);
        gbc.writeMem(0x289a, { 0xb6 });
        gbc.writeMem(0xc9fa, { 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x2cbc);
        EXPECT(gbc.pc(), 0x289b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9fa), 0xd);
        // B6 02EB
        gbc.setState(0x5f01, 0xf151, 0x1590, 0xe284, 0xdcc4, 0xc432, 0x1, 0x1);
        gbc.writeMem(0x5f01, { 0xb6 });
        gbc.writeMem(0xc432, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xf151);
        EXPECT(gbc.pc(), 0x5f02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc432), 0x24);
        // B6 02EC
        gbc.setState(0xeefe, 0x6296, 0x4280, 0x520a, 0xa3d1, 0xc52f, 0x0, 0x1);
        gbc.writeMem(0xc52f, { 0x5b });
        gbc.writeMem(0xeefe, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x6296);
        EXPECT(gbc.pc(), 0xeeff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc52f), 0x5b);
        EXPECT(gbc.readMem(0xeefe), 0xb6);
        // B6 02ED
        gbc.setState(0xe451, 0xcfd7, 0x85c0, 0xb2ff, 0x2937, 0xba59, 0x0, 0x1);
        gbc.writeMem(0xba59, { 0x12 });
        gbc.writeMem(0xe451, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xcfd7);
        EXPECT(gbc.pc(), 0xe452);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba59), 0x12);
        EXPECT(gbc.readMem(0xe451), 0xb6);
        // B6 02EF
        gbc.setState(0xba43, 0xb0f0, 0xee00, 0xc9ca, 0xe52a, 0xb700, 0x0, 0x0);
        gbc.writeMem(0xb700, { 0x27 });
        gbc.writeMem(0xba43, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xb0f0);
        EXPECT(gbc.pc(), 0xba44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb700), 0x27);
        EXPECT(gbc.readMem(0xba43), 0xb6);
        // B6 02F0
        gbc.setState(0x685d, 0x6b92, 0x6890, 0x6899, 0x5a4f, 0xa885, 0x1, 0x1);
        gbc.writeMem(0x685d, { 0xb6 });
        gbc.writeMem(0xa885, { 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x6b92);
        EXPECT(gbc.pc(), 0x685e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa885), 0xa8);
        // B6 02F1
        gbc.setState(0xb4d7, 0xefaa, 0x42f0, 0x87a4, 0xd26, 0xe521, 0x0, 0x0);
        gbc.writeMem(0xb4d7, { 0xb6 });
        gbc.writeMem(0xe521, { 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xefaa);
        EXPECT(gbc.pc(), 0xb4d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4d7), 0xb6);
        EXPECT(gbc.readMem(0xe521), 0x7b);
        // B6 02F2
        gbc.setState(0x5f74, 0x39e2, 0x8400, 0xef07, 0xe243, 0x3590, 0x1, 0x0);
        gbc.writeMem(0x3590, { 0x22 });
        gbc.writeMem(0x5f74, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x39e2);
        EXPECT(gbc.pc(), 0x5f75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02F3
        gbc.setState(0x7c70, 0xf142, 0xfbf0, 0x5e03, 0x720b, 0x227, 0x0, 0x1);
        gbc.writeMem(0x227, { 0x94 });
        gbc.writeMem(0x7c70, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xf142);
        EXPECT(gbc.pc(), 0x7c71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02F4
        gbc.setState(0x6188, 0x7cf, 0x8c00, 0x60fc, 0xc651, 0xa730, 0x0, 0x0);
        gbc.writeMem(0x6188, { 0xb6 });
        gbc.writeMem(0xa730, { 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x7cf);
        EXPECT(gbc.pc(), 0x6189);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa730), 0x86);
        // B6 02F5
        gbc.setState(0x67e7, 0x2fb2, 0x86d0, 0x4533, 0x92b6, 0x90a, 0x0, 0x0);
        gbc.writeMem(0x90a, { 0xaf });
        gbc.writeMem(0x67e7, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x2fb2);
        EXPECT(gbc.pc(), 0x67e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02F7
        gbc.setState(0x2e92, 0x6c59, 0x2a40, 0x3e3f, 0x585d, 0xf480, 0x0, 0x1);
        gbc.writeMem(0x2e92, { 0xb6 });
        gbc.writeMem(0xf480, { 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x6c59);
        EXPECT(gbc.pc(), 0x2e93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf480), 0x93);
        // B6 02F8
        gbc.setState(0x2b07, 0xc061, 0x3220, 0xd8e5, 0x9e50, 0x49f1, 0x1, 0x1);
        gbc.writeMem(0x2b07, { 0xb6 });
        gbc.writeMem(0x49f1, { 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xc061);
        EXPECT(gbc.pc(), 0x2b08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02F9
        gbc.setState(0x5926, 0x40d2, 0x1d80, 0xdaed, 0x9579, 0xdde0, 0x0, 0x1);
        gbc.writeMem(0x5926, { 0xb6 });
        gbc.writeMem(0xdde0, { 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x40d2);
        EXPECT(gbc.pc(), 0x5927);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdde0), 0xa2);
        // B6 02FA
        gbc.setState(0xacab, 0xea6d, 0xcf70, 0x5e1b, 0xd583, 0xc51, 0x1, 0x1);
        gbc.writeMem(0xc51, { 0xfb });
        gbc.writeMem(0xacab, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xea6d);
        EXPECT(gbc.pc(), 0xacac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacab), 0xb6);
        // B6 02FB
        gbc.setState(0x3981, 0x9885, 0x560, 0xe36e, 0x9d31, 0xdbc9, 0x0, 0x0);
        gbc.writeMem(0x3981, { 0xb6 });
        gbc.writeMem(0xdbc9, { 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x9885);
        EXPECT(gbc.pc(), 0x3982);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbc9), 0xdb);
        // B6 02FC
        gbc.setState(0xc724, 0xf78f, 0xd490, 0x5ca3, 0xb251, 0x10f3, 0x1, 0x1);
        gbc.writeMem(0x10f3, { 0xfc });
        gbc.writeMem(0xc724, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xf78f);
        EXPECT(gbc.pc(), 0xc725);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc724), 0xb6);
        // B6 02FD
        gbc.setState(0x5be9, 0x4346, 0x9870, 0x112e, 0x3a0f, 0x398, 0x1, 0x0);
        gbc.writeMem(0x398, { 0x13 });
        gbc.writeMem(0x5be9, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4346);
        EXPECT(gbc.pc(), 0x5bea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 02FE
        gbc.setState(0xb4f9, 0xeaa, 0xad30, 0x28d9, 0x9e1b, 0xf7f7, 0x0, 0x1);
        gbc.writeMem(0xb4f9, { 0xb6 });
        gbc.writeMem(0xf7f7, { 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xeaa);
        EXPECT(gbc.pc(), 0xb4fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4f9), 0xb6);
        EXPECT(gbc.readMem(0xf7f7), 0x50);
        // B6 0300
        gbc.setState(0x185, 0xd69b, 0xe2b0, 0x92f5, 0x36b4, 0xfd85, 0x1, 0x0);
        gbc.writeMem(0x185, { 0xb6 });
        gbc.writeMem(0xfd85, { 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xd69b);
        EXPECT(gbc.pc(), 0x186);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfd85), 0x77);
        // B6 0301
        gbc.setState(0x4236, 0x832b, 0xf780, 0x1b47, 0xb706, 0x2f11, 0x0, 0x1);
        gbc.writeMem(0x2f11, { 0xb8 });
        gbc.writeMem(0x4236, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x832b);
        EXPECT(gbc.pc(), 0x4237);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0302
        gbc.setState(0x4dcc, 0x6f5f, 0xbca0, 0x539f, 0x4a74, 0x84a, 0x1, 0x1);
        gbc.writeMem(0x84a, { 0x1 });
        gbc.writeMem(0x4dcc, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x6f5f);
        EXPECT(gbc.pc(), 0x4dcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0303
        gbc.setState(0xa535, 0x3ed6, 0xcf70, 0x4029, 0xce83, 0x43f5, 0x0, 0x1);
        gbc.writeMem(0x43f5, { 0x8e });
        gbc.writeMem(0xa535, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x3ed6);
        EXPECT(gbc.pc(), 0xa536);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa535), 0xb6);
        // B6 0304
        gbc.setState(0xf0b, 0x7130, 0x4a60, 0x44e0, 0x6a4f, 0x3798, 0x0, 0x1);
        gbc.writeMem(0xf0b, { 0xb6 });
        gbc.writeMem(0x3798, { 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x7130);
        EXPECT(gbc.pc(), 0xf0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0305
        gbc.setState(0xa8f3, 0xff01, 0xf220, 0x516d, 0x6b13, 0x971f, 0x1, 0x0);
        gbc.writeMem(0x971f, { 0xb3 });
        gbc.writeMem(0xa8f3, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xff01);
        EXPECT(gbc.pc(), 0xa8f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x971f), 0xb3);
        EXPECT(gbc.readMem(0xa8f3), 0xb6);
        // B6 0307
        gbc.setState(0x36b, 0x2a20, 0x9cc0, 0x5879, 0xd6a6, 0x75af, 0x0, 0x1);
        gbc.writeMem(0x36b, { 0xb6 });
        gbc.writeMem(0x75af, { 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x2a20);
        EXPECT(gbc.pc(), 0x36c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0308
        gbc.setState(0xbc47, 0xa2ba, 0x1fd0, 0x36c0, 0x21a4, 0x958a, 0x0, 0x0);
        gbc.writeMem(0x958a, { 0x8e });
        gbc.writeMem(0xbc47, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xa2ba);
        EXPECT(gbc.pc(), 0xbc48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x958a), 0x8e);
        EXPECT(gbc.readMem(0xbc47), 0xb6);
        // B6 0309
        gbc.setState(0x28ab, 0xe9b9, 0xd510, 0xc3fc, 0xa158, 0x2128, 0x0, 0x1);
        gbc.writeMem(0x2128, { 0x3a });
        gbc.writeMem(0x28ab, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xe9b9);
        EXPECT(gbc.pc(), 0x28ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 030A
        gbc.setState(0x3225, 0x7c88, 0x680, 0xfa5e, 0xfedb, 0xabd, 0x0, 0x0);
        gbc.writeMem(0xabd, { 0xe5 });
        gbc.writeMem(0x3225, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x7c88);
        EXPECT(gbc.pc(), 0x3226);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 030B
        gbc.setState(0xd823, 0xc866, 0x6740, 0xd656, 0x6852, 0xac72, 0x1, 0x1);
        gbc.writeMem(0xac72, { 0x66 });
        gbc.writeMem(0xd823, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xc866);
        EXPECT(gbc.pc(), 0xd824);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac72), 0x66);
        EXPECT(gbc.readMem(0xd823), 0xb6);
        // B6 030C
        gbc.setState(0xbc4c, 0x770f, 0x7e30, 0xeac6, 0xa824, 0x3b02, 0x0, 0x0);
        gbc.writeMem(0x3b02, { 0x45 });
        gbc.writeMem(0xbc4c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x770f);
        EXPECT(gbc.pc(), 0xbc4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc4c), 0xb6);
        // B6 030D
        gbc.setState(0xb2e9, 0xcd6a, 0x1d60, 0xff86, 0xe051, 0x145c, 0x1, 0x1);
        gbc.writeMem(0x145c, { 0xce });
        gbc.writeMem(0xb2e9, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xcd6a);
        EXPECT(gbc.pc(), 0xb2ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2e9), 0xb6);
        // B6 030E
        gbc.setState(0xef73, 0x5b29, 0xe10, 0x4f3, 0x4d12, 0xdf25, 0x1, 0x1);
        gbc.writeMem(0xdf25, { 0x30 });
        gbc.writeMem(0xef73, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x5b29);
        EXPECT(gbc.pc(), 0xef74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf25), 0x30);
        EXPECT(gbc.readMem(0xef73), 0xb6);
        // B6 030F
        gbc.setState(0x4729, 0x1dc1, 0xf250, 0x6495, 0x1449, 0xa037, 0x0, 0x1);
        gbc.writeMem(0x4729, { 0xb6 });
        gbc.writeMem(0xa037, { 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x1dc1);
        EXPECT(gbc.pc(), 0x472a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa037), 0x1b);
        // B6 0311
        gbc.setState(0xc9ac, 0x3004, 0x1680, 0xb82e, 0xd2ab, 0x5dc, 0x0, 0x1);
        gbc.writeMem(0x5dc, { 0x42 });
        gbc.writeMem(0xc9ac, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x3004);
        EXPECT(gbc.pc(), 0xc9ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9ac), 0xb6);
        // B6 0312
        gbc.setState(0x8603, 0xd798, 0xf6d0, 0xc41e, 0x246e, 0x9823, 0x1, 0x1);
        gbc.writeMem(0x8603, { 0xb6 });
        gbc.writeMem(0x9823, { 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xd798);
        EXPECT(gbc.pc(), 0x8604);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8603), 0xb6);
        EXPECT(gbc.readMem(0x9823), 0x99);
        // B6 0313
        gbc.setState(0x393c, 0x868, 0x7770, 0xdb25, 0x1447, 0x12d1, 0x1, 0x1);
        gbc.writeMem(0x12d1, { 0xd7 });
        gbc.writeMem(0x393c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x868);
        EXPECT(gbc.pc(), 0x393d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0314
        gbc.setState(0x682f, 0xfadc, 0x9380, 0xbb64, 0x3270, 0x576a, 0x1, 0x0);
        gbc.writeMem(0x576a, { 0x73 });
        gbc.writeMem(0x682f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xfadc);
        EXPECT(gbc.pc(), 0x6830);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0315
        gbc.setState(0xd93d, 0xb487, 0x4900, 0xaabd, 0x7b73, 0x6fca, 0x0, 0x1);
        gbc.writeMem(0x6fca, { 0xe4 });
        gbc.writeMem(0xd93d, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xb487);
        EXPECT(gbc.pc(), 0xd93e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd93d), 0xb6);
        // B6 0316
        gbc.setState(0xacf, 0xcfa0, 0x2bd0, 0xc48a, 0x32e9, 0xebc8, 0x0, 0x1);
        gbc.writeMem(0xacf, { 0xb6 });
        gbc.writeMem(0xebc8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xcfa0);
        EXPECT(gbc.pc(), 0xad0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebc8), 0xc8);
        // B6 0317
        gbc.setState(0x8bff, 0x6528, 0x2bb0, 0x20b0, 0x2d90, 0x36ea, 0x1, 0x0);
        gbc.writeMem(0x36ea, { 0x64 });
        gbc.writeMem(0x8bff, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x6528);
        EXPECT(gbc.pc(), 0x8c00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bff), 0xb6);
        // B6 0318
        gbc.setState(0x34ab, 0x254e, 0xb950, 0x4ccc, 0x16d, 0xde0, 0x0, 0x0);
        gbc.writeMem(0xde0, { 0x68 });
        gbc.writeMem(0x34ab, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x254e);
        EXPECT(gbc.pc(), 0x34ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0319
        gbc.setState(0x17f7, 0x491a, 0x8340, 0x74af, 0xd7d6, 0x5413, 0x1, 0x1);
        gbc.writeMem(0x17f7, { 0xb6 });
        gbc.writeMem(0x5413, { 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x491a);
        EXPECT(gbc.pc(), 0x17f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 031A
        gbc.setState(0xde43, 0x9cb8, 0xefc0, 0x1896, 0x421a, 0xe1b4, 0x1, 0x1);
        gbc.writeMem(0xde43, { 0xb6 });
        gbc.writeMem(0xe1b4, { 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x9cb8);
        EXPECT(gbc.pc(), 0xde44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde43), 0xb6);
        EXPECT(gbc.readMem(0xe1b4), 0x0);
        // B6 031B
        gbc.setState(0xc4db, 0xc514, 0x4f0, 0x7bae, 0x68b7, 0x4e64, 0x1, 0x0);
        gbc.writeMem(0x4e64, { 0x7 });
        gbc.writeMem(0xc4db, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xc514);
        EXPECT(gbc.pc(), 0xc4dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4db), 0xb6);
        // B6 031C
        gbc.setState(0x7040, 0x75f8, 0x1010, 0x368f, 0x6279, 0xb985, 0x1, 0x1);
        gbc.writeMem(0x7040, { 0xb6 });
        gbc.writeMem(0xb985, { 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x75f8);
        EXPECT(gbc.pc(), 0x7041);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb985), 0x30);
        // B6 031D
        gbc.setState(0xd458, 0x3aed, 0x5d60, 0x971c, 0x43b9, 0x4940, 0x1, 0x0);
        gbc.writeMem(0x4940, { 0xd5 });
        gbc.writeMem(0xd458, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x3aed);
        EXPECT(gbc.pc(), 0xd459);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd458), 0xb6);
        // B6 031E
        gbc.setState(0xd2e7, 0xd98c, 0xab40, 0x41a1, 0x8fff, 0x4adb, 0x0, 0x0);
        gbc.writeMem(0x4adb, { 0xe0 });
        gbc.writeMem(0xd2e7, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xd98c);
        EXPECT(gbc.pc(), 0xd2e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2e7), 0xb6);
        // B6 031F
        gbc.setState(0xc6a4, 0x98b5, 0x2fc0, 0x9cf8, 0xd0a5, 0xd6ee, 0x1, 0x0);
        gbc.writeMem(0xc6a4, { 0xb6 });
        gbc.writeMem(0xd6ee, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x98b5);
        EXPECT(gbc.pc(), 0xc6a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6a4), 0xb6);
        EXPECT(gbc.readMem(0xd6ee), 0x7);
        // B6 0320
        gbc.setState(0xec16, 0x1b2, 0x5bd0, 0x6db2, 0x4af8, 0x531a, 0x0, 0x0);
        gbc.writeMem(0x531a, { 0xe2 });
        gbc.writeMem(0xec16, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x1b2);
        EXPECT(gbc.pc(), 0xec17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec16), 0xb6);
        // B6 0321
        gbc.setState(0x9f70, 0xbc2d, 0xabf0, 0x2872, 0x35f2, 0x7792, 0x1, 0x0);
        gbc.writeMem(0x7792, { 0x81 });
        gbc.writeMem(0x9f70, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xbc2d);
        EXPECT(gbc.pc(), 0x9f71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f70), 0xb6);
        // B6 0322
        gbc.setState(0x35f0, 0x2fa3, 0x5ec0, 0x276, 0xb461, 0xe69, 0x1, 0x1);
        gbc.writeMem(0xe69, { 0xf1 });
        gbc.writeMem(0x35f0, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x2fa3);
        EXPECT(gbc.pc(), 0x35f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0323
        gbc.setState(0x2fd0, 0x8c89, 0xaf30, 0x5f95, 0x49e9, 0x51a7, 0x1, 0x1);
        gbc.writeMem(0x2fd0, { 0xb6 });
        gbc.writeMem(0x51a7, { 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x8c89);
        EXPECT(gbc.pc(), 0x2fd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0324
        gbc.setState(0x9190, 0x9d4f, 0x36f0, 0xb63c, 0xf6e5, 0xac5b, 0x0, 0x1);
        gbc.writeMem(0x9190, { 0xb6 });
        gbc.writeMem(0xac5b, { 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x9d4f);
        EXPECT(gbc.pc(), 0x9191);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9190), 0xb6);
        EXPECT(gbc.readMem(0xac5b), 0x9e);
        // B6 0325
        gbc.setState(0x385d, 0x1e2f, 0xce80, 0x272c, 0xcf0d, 0x20e8, 0x1, 0x1);
        gbc.writeMem(0x20e8, { 0xe5 });
        gbc.writeMem(0x385d, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x1e2f);
        EXPECT(gbc.pc(), 0x385e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0326
        gbc.setState(0x7352, 0xac4b, 0x90a0, 0x4546, 0x5fd2, 0x435b, 0x0, 0x1);
        gbc.writeMem(0x435b, { 0x4b });
        gbc.writeMem(0x7352, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xac4b);
        EXPECT(gbc.pc(), 0x7353);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0327
        gbc.setState(0xe7d1, 0xfd75, 0x9b70, 0x94c1, 0xbae0, 0xf5e5, 0x1, 0x1);
        gbc.writeMem(0xe7d1, { 0xb6 });
        gbc.writeMem(0xf5e5, { 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xfd75);
        EXPECT(gbc.pc(), 0xe7d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7d1), 0xb6);
        EXPECT(gbc.readMem(0xf5e5), 0x18);
        // B6 0328
        gbc.setState(0x4379, 0x8b88, 0x7440, 0xfb05, 0x2e5, 0xd315, 0x1, 0x1);
        gbc.writeMem(0x4379, { 0xb6 });
        gbc.writeMem(0xd315, { 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x8b88);
        EXPECT(gbc.pc(), 0x437a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd315), 0xf1);
        // B6 0329
        gbc.setState(0xcd95, 0x5fd9, 0x6590, 0x4029, 0xa4a9, 0xe557, 0x0, 0x1);
        gbc.writeMem(0xcd95, { 0xb6 });
        gbc.writeMem(0xe557, { 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x5fd9);
        EXPECT(gbc.pc(), 0xcd96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd95), 0xb6);
        EXPECT(gbc.readMem(0xe557), 0x83);
        // B6 032A
        gbc.setState(0xd21, 0xed92, 0xdee0, 0xb4dc, 0x5961, 0x989b, 0x1, 0x0);
        gbc.writeMem(0xd21, { 0xb6 });
        gbc.writeMem(0x989b, { 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xed92);
        EXPECT(gbc.pc(), 0xd22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x989b), 0xdb);
        // B6 032B
        gbc.setState(0x55e4, 0x283d, 0x14f0, 0x6a53, 0x3321, 0xa2e8, 0x0, 0x1);
        gbc.writeMem(0x55e4, { 0xb6 });
        gbc.writeMem(0xa2e8, { 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x283d);
        EXPECT(gbc.pc(), 0x55e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2e8), 0x53);
        // B6 032C
        gbc.setState(0xe8fa, 0xcd6a, 0xf8b0, 0xe6e4, 0xba9d, 0x1fbd, 0x1, 0x0);
        gbc.writeMem(0x1fbd, { 0x50 });
        gbc.writeMem(0xe8fa, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xcd6a);
        EXPECT(gbc.pc(), 0xe8fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8fa), 0xb6);
        // B6 032D
        gbc.setState(0xaf12, 0xa95d, 0xef90, 0x7bab, 0xd097, 0x96fa, 0x1, 0x1);
        gbc.writeMem(0x96fa, { 0xf2 });
        gbc.writeMem(0xaf12, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xa95d);
        EXPECT(gbc.pc(), 0xaf13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96fa), 0xf2);
        EXPECT(gbc.readMem(0xaf12), 0xb6);
        // B6 032E
        gbc.setState(0xd5b6, 0x5a9c, 0x3670, 0xf0d3, 0xbbfb, 0xd103, 0x0, 0x1);
        gbc.writeMem(0xd103, { 0x71 });
        gbc.writeMem(0xd5b6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x5a9c);
        EXPECT(gbc.pc(), 0xd5b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd103), 0x71);
        EXPECT(gbc.readMem(0xd5b6), 0xb6);
        // B6 032F
        gbc.setState(0xb2af, 0x99ab, 0xd9b0, 0xbf6f, 0x29c1, 0x1123, 0x0, 0x0);
        gbc.writeMem(0x1123, { 0xbc });
        gbc.writeMem(0xb2af, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x99ab);
        EXPECT(gbc.pc(), 0xb2b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2af), 0xb6);
        // B6 0330
        gbc.setState(0xc674, 0xca9, 0x4200, 0x4614, 0x7c8f, 0xd4d1, 0x0, 0x1);
        gbc.writeMem(0xc674, { 0xb6 });
        gbc.writeMem(0xd4d1, { 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xca9);
        EXPECT(gbc.pc(), 0xc675);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc674), 0xb6);
        EXPECT(gbc.readMem(0xd4d1), 0x3f);
        // B6 0331
        gbc.setState(0xb132, 0x289c, 0x23a0, 0x97f0, 0x43d5, 0x1142, 0x0, 0x0);
        gbc.writeMem(0x1142, { 0xca });
        gbc.writeMem(0xb132, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x289c);
        EXPECT(gbc.pc(), 0xb133);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb132), 0xb6);
        // B6 0332
        gbc.setState(0xcc3c, 0x1831, 0xeab0, 0xec07, 0xe5fd, 0x8580, 0x0, 0x0);
        gbc.writeMem(0x8580, { 0x6f });
        gbc.writeMem(0xcc3c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x1831);
        EXPECT(gbc.pc(), 0xcc3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8580), 0x6f);
        EXPECT(gbc.readMem(0xcc3c), 0xb6);
        // B6 0333
        gbc.setState(0xe6c1, 0xa41c, 0x61b0, 0x32bf, 0xf4d, 0xfc14, 0x0, 0x0);
        gbc.writeMem(0xe6c1, { 0xb6 });
        gbc.writeMem(0xfc14, { 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xa41c);
        EXPECT(gbc.pc(), 0xe6c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6c1), 0xb6);
        EXPECT(gbc.readMem(0xfc14), 0x5e);
        // B6 0334
        gbc.setState(0x6a26, 0x793a, 0x7780, 0x8d1f, 0x59c0, 0xce82, 0x0, 0x1);
        gbc.writeMem(0x6a26, { 0xb6 });
        gbc.writeMem(0xce82, { 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x793a);
        EXPECT(gbc.pc(), 0x6a27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce82), 0x33);
        // B6 0335
        gbc.setState(0x21c3, 0x49e5, 0x4750, 0x2e9c, 0xa34d, 0x42e5, 0x0, 0x1);
        gbc.writeMem(0x21c3, { 0xb6 });
        gbc.writeMem(0x42e5, { 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x49e5);
        EXPECT(gbc.pc(), 0x21c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0336
        gbc.setState(0x5fcb, 0x792f, 0x8780, 0x692d, 0x743b, 0x9c12, 0x0, 0x1);
        gbc.writeMem(0x5fcb, { 0xb6 });
        gbc.writeMem(0x9c12, { 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x792f);
        EXPECT(gbc.pc(), 0x5fcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c12), 0x20);
        // B6 0337
        gbc.setState(0xefb0, 0x7c03, 0x6f20, 0xf76d, 0xa3f6, 0xf456, 0x1, 0x1);
        gbc.writeMem(0xefb0, { 0xb6 });
        gbc.writeMem(0xf456, { 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x7c03);
        EXPECT(gbc.pc(), 0xefb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefb0), 0xb6);
        EXPECT(gbc.readMem(0xf456), 0x62);
        // B6 0338
        gbc.setState(0xaecc, 0x9177, 0x43b0, 0x95c0, 0x1956, 0x718e, 0x0, 0x0);
        gbc.writeMem(0x718e, { 0x74 });
        gbc.writeMem(0xaecc, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x9177);
        EXPECT(gbc.pc(), 0xaecd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaecc), 0xb6);
        // B6 0339
        gbc.setState(0x1966, 0xbbf, 0x1f80, 0xdb2e, 0xba0, 0x7a28, 0x0, 0x1);
        gbc.writeMem(0x1966, { 0xb6 });
        gbc.writeMem(0x7a28, { 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xbbf);
        EXPECT(gbc.pc(), 0x1967);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 033A
        gbc.setState(0x94fb, 0x968, 0xf580, 0xada5, 0x7207, 0x8e84, 0x1, 0x0);
        gbc.writeMem(0x8e84, { 0xd8 });
        gbc.writeMem(0x94fb, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x968);
        EXPECT(gbc.pc(), 0x94fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e84), 0xd8);
        EXPECT(gbc.readMem(0x94fb), 0xb6);
        // B6 033B
        gbc.setState(0xc283, 0xe246, 0xc440, 0xd248, 0xdc14, 0x52a6, 0x1, 0x1);
        gbc.writeMem(0x52a6, { 0x60 });
        gbc.writeMem(0xc283, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xe246);
        EXPECT(gbc.pc(), 0xc284);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc283), 0xb6);
        // B6 033C
        gbc.setState(0x213f, 0x39e8, 0x1490, 0x31e7, 0x6d76, 0xca42, 0x1, 0x1);
        gbc.writeMem(0x213f, { 0xb6 });
        gbc.writeMem(0xca42, { 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x39e8);
        EXPECT(gbc.pc(), 0x2140);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca42), 0x31);
        // B6 033D
        gbc.setState(0xb2e, 0x3a46, 0xd550, 0x7b50, 0x9f40, 0xcf54, 0x0, 0x0);
        gbc.writeMem(0xb2e, { 0xb6 });
        gbc.writeMem(0xcf54, { 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x3a46);
        EXPECT(gbc.pc(), 0xb2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf54), 0x65);
        // B6 033E
        gbc.setState(0xcd7b, 0x4f41, 0x84d0, 0x28b6, 0x1031, 0x5dd7, 0x0, 0x0);
        gbc.writeMem(0x5dd7, { 0x52 });
        gbc.writeMem(0xcd7b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x4f41);
        EXPECT(gbc.pc(), 0xcd7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd7b), 0xb6);
        // B6 033F
        gbc.setState(0xc94f, 0xee2b, 0x8e40, 0xd8bd, 0xb321, 0x45eb, 0x1, 0x0);
        gbc.writeMem(0x45eb, { 0xe8 });
        gbc.writeMem(0xc94f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xee2b);
        EXPECT(gbc.pc(), 0xc950);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc94f), 0xb6);
        // B6 0340
        gbc.setState(0x84cc, 0xe4a6, 0x26e0, 0x1bb0, 0xb1b, 0x28d1, 0x1, 0x1);
        gbc.writeMem(0x28d1, { 0x95 });
        gbc.writeMem(0x84cc, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xe4a6);
        EXPECT(gbc.pc(), 0x84cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84cc), 0xb6);
        // B6 0341
        gbc.setState(0xe953, 0x87b9, 0x43d0, 0xf0d0, 0xb7db, 0xd6f8, 0x1, 0x1);
        gbc.writeMem(0xd6f8, { 0xd });
        gbc.writeMem(0xe953, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x87b9);
        EXPECT(gbc.pc(), 0xe954);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6f8), 0xd);
        EXPECT(gbc.readMem(0xe953), 0xb6);
        // B6 0342
        gbc.setState(0x4ca2, 0xf77c, 0x1380, 0xa2d3, 0x7f96, 0x2975, 0x0, 0x0);
        gbc.writeMem(0x2975, { 0x2 });
        gbc.writeMem(0x4ca2, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xf77c);
        EXPECT(gbc.pc(), 0x4ca3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0343
        gbc.setState(0x129f, 0xadda, 0x40a0, 0x2391, 0x2bbb, 0x3558, 0x1, 0x0);
        gbc.writeMem(0x129f, { 0xb6 });
        gbc.writeMem(0x3558, { 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xadda);
        EXPECT(gbc.pc(), 0x12a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0344
        gbc.setState(0x6ee7, 0xad77, 0xe090, 0xfdc6, 0x8e7, 0x8165, 0x0, 0x0);
        gbc.writeMem(0x6ee7, { 0xb6 });
        gbc.writeMem(0x8165, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xad77);
        EXPECT(gbc.pc(), 0x6ee8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8165), 0x24);
        // B6 0345
        gbc.setState(0x9d9b, 0xa0ad, 0x13c0, 0xceda, 0x5ca7, 0x1ebc, 0x0, 0x1);
        gbc.writeMem(0x1ebc, { 0x5c });
        gbc.writeMem(0x9d9b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xa0ad);
        EXPECT(gbc.pc(), 0x9d9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d9b), 0xb6);
        // B6 0346
        gbc.setState(0xc539, 0x7d87, 0x95f0, 0xed80, 0x95cb, 0x68e7, 0x0, 0x0);
        gbc.writeMem(0x68e7, { 0xd5 });
        gbc.writeMem(0xc539, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x7d87);
        EXPECT(gbc.pc(), 0xc53a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc539), 0xb6);
        // B6 0347
        gbc.setState(0xcc1, 0xb458, 0x6f20, 0x30a0, 0x4ece, 0x99b9, 0x0, 0x0);
        gbc.writeMem(0xcc1, { 0xb6 });
        gbc.writeMem(0x99b9, { 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xb458);
        EXPECT(gbc.pc(), 0xcc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99b9), 0xbf);
        // B6 0348
        gbc.setState(0xa65e, 0x55a0, 0x30f0, 0x3866, 0x28c2, 0x599b, 0x0, 0x1);
        gbc.writeMem(0x599b, { 0xbb });
        gbc.writeMem(0xa65e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x55a0);
        EXPECT(gbc.pc(), 0xa65f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa65e), 0xb6);
        // B6 0349
        gbc.setState(0xbf9, 0xe45e, 0x3bf0, 0x946e, 0xe161, 0x4600, 0x1, 0x0);
        gbc.writeMem(0xbf9, { 0xb6 });
        gbc.writeMem(0x4600, { 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xe45e);
        EXPECT(gbc.pc(), 0xbfa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 034A
        gbc.setState(0x6733, 0xdc3d, 0xa530, 0xd48c, 0xb714, 0xb46e, 0x1, 0x0);
        gbc.writeMem(0x6733, { 0xb6 });
        gbc.writeMem(0xb46e, { 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xdc3d);
        EXPECT(gbc.pc(), 0x6734);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb46e), 0x99);
        // B6 034B
        gbc.setState(0x5d9f, 0x74ee, 0xb820, 0xb0c3, 0x106c, 0x6947, 0x0, 0x0);
        gbc.writeMem(0x5d9f, { 0xb6 });
        gbc.writeMem(0x6947, { 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x74ee);
        EXPECT(gbc.pc(), 0x5da0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 034C
        gbc.setState(0x9f5e, 0x5b4b, 0xc6d0, 0x8c4a, 0xb560, 0x7663, 0x0, 0x0);
        gbc.writeMem(0x7663, { 0xa3 });
        gbc.writeMem(0x9f5e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x5b4b);
        EXPECT(gbc.pc(), 0x9f5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f5e), 0xb6);
        // B6 034D
        gbc.setState(0x687a, 0x8fb8, 0x3e10, 0xcca8, 0xf1db, 0xa3ed, 0x1, 0x0);
        gbc.writeMem(0x687a, { 0xb6 });
        gbc.writeMem(0xa3ed, { 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x8fb8);
        EXPECT(gbc.pc(), 0x687b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3ed), 0x52);
        // B6 034E
        gbc.setState(0x9f87, 0xf95e, 0x9210, 0x910c, 0xb641, 0x50d0, 0x0, 0x1);
        gbc.writeMem(0x50d0, { 0x23 });
        gbc.writeMem(0x9f87, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xf95e);
        EXPECT(gbc.pc(), 0x9f88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f87), 0xb6);
        // B6 034F
        gbc.setState(0x41e3, 0x1943, 0xd410, 0xc2b, 0x387d, 0xb021, 0x0, 0x0);
        gbc.writeMem(0x41e3, { 0xb6 });
        gbc.writeMem(0xb021, { 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x1943);
        EXPECT(gbc.pc(), 0x41e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb021), 0x68);
        // B6 0350
        gbc.setState(0x525f, 0xa744, 0x4e50, 0xbe26, 0xe1f5, 0x9130, 0x0, 0x0);
        gbc.writeMem(0x525f, { 0xb6 });
        gbc.writeMem(0x9130, { 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xa744);
        EXPECT(gbc.pc(), 0x5260);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9130), 0x82);
        // B6 0351
        gbc.setState(0x88e6, 0x3877, 0xef90, 0x6a7c, 0xce3b, 0x7a96, 0x0, 0x0);
        gbc.writeMem(0x7a96, { 0x36 });
        gbc.writeMem(0x88e6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3877);
        EXPECT(gbc.pc(), 0x88e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88e6), 0xb6);
        // B6 0352
        gbc.setState(0x4b5f, 0xba04, 0x1330, 0x8e92, 0xdae0, 0x3949, 0x0, 0x0);
        gbc.writeMem(0x3949, { 0x3a });
        gbc.writeMem(0x4b5f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xba04);
        EXPECT(gbc.pc(), 0x4b60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0353
        gbc.setState(0x57c5, 0x7290, 0xc900, 0xb8a1, 0x9fec, 0x2d8, 0x1, 0x1);
        gbc.writeMem(0x2d8, { 0x3 });
        gbc.writeMem(0x57c5, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x7290);
        EXPECT(gbc.pc(), 0x57c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0354
        gbc.setState(0xbde5, 0x3fe7, 0xec10, 0xe001, 0xa540, 0xa80e, 0x1, 0x0);
        gbc.writeMem(0xa80e, { 0xa2 });
        gbc.writeMem(0xbde5, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x3fe7);
        EXPECT(gbc.pc(), 0xbde6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa80e), 0xa2);
        EXPECT(gbc.readMem(0xbde5), 0xb6);
        // B6 0355
        gbc.setState(0x1c99, 0xdd70, 0x5db0, 0xac4f, 0xc362, 0xb83c, 0x1, 0x1);
        gbc.writeMem(0x1c99, { 0xb6 });
        gbc.writeMem(0xb83c, { 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xdd70);
        EXPECT(gbc.pc(), 0x1c9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb83c), 0xdb);
        // B6 0356
        gbc.setState(0x819f, 0x1ea3, 0xe0c0, 0x4a6a, 0xb6af, 0xd87c, 0x1, 0x0);
        gbc.writeMem(0x819f, { 0xb6 });
        gbc.writeMem(0xd87c, { 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x1ea3);
        EXPECT(gbc.pc(), 0x81a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x819f), 0xb6);
        EXPECT(gbc.readMem(0xd87c), 0x52);
        // B6 0357
        gbc.setState(0xc015, 0x6c1d, 0xe4b0, 0xffae, 0x99f7, 0x5ed1, 0x0, 0x1);
        gbc.writeMem(0x5ed1, { 0x33 });
        gbc.writeMem(0xc015, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x6c1d);
        EXPECT(gbc.pc(), 0xc016);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc015), 0xb6);
        // B6 0358
        gbc.setState(0x659b, 0xc7bb, 0xbe20, 0xf535, 0x6826, 0x55c5, 0x0, 0x1);
        gbc.writeMem(0x55c5, { 0x71 });
        gbc.writeMem(0x659b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xc7bb);
        EXPECT(gbc.pc(), 0x659c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0359
        gbc.setState(0xb57, 0x5bdb, 0x45c0, 0x5cf9, 0x4aa2, 0x87df, 0x0, 0x0);
        gbc.writeMem(0xb57, { 0xb6 });
        gbc.writeMem(0x87df, { 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x5bdb);
        EXPECT(gbc.pc(), 0xb58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87df), 0x9c);
        // B6 035A
        gbc.setState(0x95c0, 0x53c4, 0x9d80, 0x18, 0x88e1, 0xb616, 0x0, 0x1);
        gbc.writeMem(0x95c0, { 0xb6 });
        gbc.writeMem(0xb616, { 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x53c4);
        EXPECT(gbc.pc(), 0x95c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95c0), 0xb6);
        EXPECT(gbc.readMem(0xb616), 0x42);
        // B6 035B
        gbc.setState(0x197, 0xc831, 0xa1b0, 0xe2bc, 0xd417, 0x48d5, 0x1, 0x0);
        gbc.writeMem(0x197, { 0xb6 });
        gbc.writeMem(0x48d5, { 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xc831);
        EXPECT(gbc.pc(), 0x198);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 035C
        gbc.setState(0xc5a, 0x7da8, 0xbc30, 0xfb0c, 0x4fbf, 0x9128, 0x0, 0x0);
        gbc.writeMem(0xc5a, { 0xb6 });
        gbc.writeMem(0x9128, { 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x7da8);
        EXPECT(gbc.pc(), 0xc5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9128), 0xb5);
        // B6 035D
        gbc.setState(0xc9ca, 0xd285, 0xc0e0, 0x93ef, 0xcfa6, 0xded9, 0x0, 0x1);
        gbc.writeMem(0xc9ca, { 0xb6 });
        gbc.writeMem(0xded9, { 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xd285);
        EXPECT(gbc.pc(), 0xc9cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9ca), 0xb6);
        EXPECT(gbc.readMem(0xded9), 0xef);
        // B6 035E
        gbc.setState(0x1ecd, 0x2b, 0x8130, 0xb856, 0xd213, 0x97af, 0x0, 0x0);
        gbc.writeMem(0x1ecd, { 0xb6 });
        gbc.writeMem(0x97af, { 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x2b);
        EXPECT(gbc.pc(), 0x1ece);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97af), 0x88);
        // B6 035F
        gbc.setState(0xb4ac, 0x941c, 0x6df0, 0xec3a, 0x5627, 0xd516, 0x1, 0x1);
        gbc.writeMem(0xb4ac, { 0xb6 });
        gbc.writeMem(0xd516, { 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x941c);
        EXPECT(gbc.pc(), 0xb4ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4ac), 0xb6);
        EXPECT(gbc.readMem(0xd516), 0x9f);
        // B6 0360
        gbc.setState(0x4012, 0xb3b5, 0x46c0, 0x17e5, 0xa63b, 0x855c, 0x1, 0x1);
        gbc.writeMem(0x4012, { 0xb6 });
        gbc.writeMem(0x855c, { 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xb3b5);
        EXPECT(gbc.pc(), 0x4013);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x855c), 0x38);
        // B6 0361
        gbc.setState(0x1939, 0x5a8a, 0x2bf0, 0x3539, 0xa034, 0x396a, 0x0, 0x1);
        gbc.writeMem(0x1939, { 0xb6 });
        gbc.writeMem(0x396a, { 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x5a8a);
        EXPECT(gbc.pc(), 0x193a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0362
        gbc.setState(0x47ec, 0x8932, 0xa480, 0x379c, 0x6ab5, 0x6c77, 0x0, 0x0);
        gbc.writeMem(0x47ec, { 0xb6 });
        gbc.writeMem(0x6c77, { 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x8932);
        EXPECT(gbc.pc(), 0x47ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0363
        gbc.setState(0x532c, 0x5def, 0x58e0, 0x82da, 0xf394, 0x813b, 0x0, 0x0);
        gbc.writeMem(0x532c, { 0xb6 });
        gbc.writeMem(0x813b, { 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x5def);
        EXPECT(gbc.pc(), 0x532d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x813b), 0x3);
        // B6 0364
        gbc.setState(0x7fc6, 0xd8b3, 0xd310, 0x4140, 0x55e1, 0x1359, 0x1, 0x1);
        gbc.writeMem(0x1359, { 0x87 });
        gbc.writeMem(0x7fc6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd8b3);
        EXPECT(gbc.pc(), 0x7fc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0365
        gbc.setState(0x41e8, 0xcefd, 0x5840, 0xdb1d, 0x3995, 0xb801, 0x0, 0x1);
        gbc.writeMem(0x41e8, { 0xb6 });
        gbc.writeMem(0xb801, { 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xcefd);
        EXPECT(gbc.pc(), 0x41e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb801), 0x79);
        // B6 0366
        gbc.setState(0xa512, 0xced0, 0x6cd0, 0x56a3, 0xff7a, 0xc599, 0x0, 0x1);
        gbc.writeMem(0xa512, { 0xb6 });
        gbc.writeMem(0xc599, { 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xced0);
        EXPECT(gbc.pc(), 0xa513);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa512), 0xb6);
        EXPECT(gbc.readMem(0xc599), 0x78);
        // B6 0367
        gbc.setState(0xe782, 0xca4e, 0x4c10, 0x6606, 0xe3c5, 0x840f, 0x0, 0x0);
        gbc.writeMem(0x840f, { 0x33 });
        gbc.writeMem(0xe782, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xca4e);
        EXPECT(gbc.pc(), 0xe783);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x840f), 0x33);
        EXPECT(gbc.readMem(0xe782), 0xb6);
        // B6 0368
        gbc.setState(0x356d, 0x9f66, 0xf130, 0xe183, 0x13e4, 0xf2f0, 0x1, 0x1);
        gbc.writeMem(0x356d, { 0xb6 });
        gbc.writeMem(0xf2f0, { 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x9f66);
        EXPECT(gbc.pc(), 0x356e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf2f0), 0x52);
        // B6 0369
        gbc.setState(0xca49, 0x6820, 0xeee0, 0xa664, 0xf734, 0x2fcb, 0x0, 0x0);
        gbc.writeMem(0x2fcb, { 0xdc });
        gbc.writeMem(0xca49, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x6820);
        EXPECT(gbc.pc(), 0xca4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca49), 0xb6);
        // B6 036A
        gbc.setState(0x27d4, 0x666d, 0xf160, 0x840, 0xdc8c, 0x74be, 0x0, 0x0);
        gbc.writeMem(0x27d4, { 0xb6 });
        gbc.writeMem(0x74be, { 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x666d);
        EXPECT(gbc.pc(), 0x27d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 036B
        gbc.setState(0xdce4, 0x180, 0x4470, 0x412a, 0x24d0, 0xcf4a, 0x0, 0x0);
        gbc.writeMem(0xcf4a, { 0x21 });
        gbc.writeMem(0xdce4, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x180);
        EXPECT(gbc.pc(), 0xdce5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf4a), 0x21);
        EXPECT(gbc.readMem(0xdce4), 0xb6);
        // B6 036C
        gbc.setState(0xdd8f, 0x2cc3, 0x76c0, 0x6634, 0x3eab, 0x5f89, 0x1, 0x1);
        gbc.writeMem(0x5f89, { 0xe });
        gbc.writeMem(0xdd8f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x2cc3);
        EXPECT(gbc.pc(), 0xdd90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd8f), 0xb6);
        // B6 036D
        gbc.setState(0x8b38, 0xa319, 0x3b0, 0x59e4, 0x44ed, 0xc384, 0x0, 0x1);
        gbc.writeMem(0x8b38, { 0xb6 });
        gbc.writeMem(0xc384, { 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xa319);
        EXPECT(gbc.pc(), 0x8b39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b38), 0xb6);
        EXPECT(gbc.readMem(0xc384), 0xae);
        // B6 036E
        gbc.setState(0xd5e, 0x2b14, 0x570, 0xe421, 0x5b0d, 0xd794, 0x0, 0x0);
        gbc.writeMem(0xd5e, { 0xb6 });
        gbc.writeMem(0xd794, { 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x2b14);
        EXPECT(gbc.pc(), 0xd5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd794), 0x4b);
        // B6 036F
        gbc.setState(0x88a9, 0x9ad4, 0xf270, 0x6e16, 0x7364, 0xfcaf, 0x1, 0x0);
        gbc.writeMem(0x88a9, { 0xb6 });
        gbc.writeMem(0xfcaf, { 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x9ad4);
        EXPECT(gbc.pc(), 0x88aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88a9), 0xb6);
        EXPECT(gbc.readMem(0xfcaf), 0xbb);
        // B6 0370
        gbc.setState(0xa820, 0xd091, 0x5030, 0x1bcc, 0xe15a, 0x65b3, 0x1, 0x1);
        gbc.writeMem(0x65b3, { 0xf5 });
        gbc.writeMem(0xa820, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd091);
        EXPECT(gbc.pc(), 0xa821);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa820), 0xb6);
        // B6 0371
        gbc.setState(0xaff4, 0x187b, 0xae20, 0xebde, 0x3efd, 0x48cc, 0x1, 0x0);
        gbc.writeMem(0x48cc, { 0x2 });
        gbc.writeMem(0xaff4, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x187b);
        EXPECT(gbc.pc(), 0xaff5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaff4), 0xb6);
        // B6 0372
        gbc.setState(0xb312, 0x5b98, 0x8c10, 0x2d3c, 0x2252, 0x1fd7, 0x0, 0x1);
        gbc.writeMem(0x1fd7, { 0x3b });
        gbc.writeMem(0xb312, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x5b98);
        EXPECT(gbc.pc(), 0xb313);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb312), 0xb6);
        // B6 0373
        gbc.setState(0xc870, 0xbbbd, 0x60b0, 0x8ae3, 0xa05b, 0x1d09, 0x0, 0x1);
        gbc.writeMem(0x1d09, { 0x59 });
        gbc.writeMem(0xc870, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xbbbd);
        EXPECT(gbc.pc(), 0xc871);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc870), 0xb6);
        // B6 0374
        gbc.setState(0x52fd, 0xbf36, 0xe660, 0x9568, 0x5557, 0xde95, 0x1, 0x1);
        gbc.writeMem(0x52fd, { 0xb6 });
        gbc.writeMem(0xde95, { 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xbf36);
        EXPECT(gbc.pc(), 0x52fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde95), 0xff);
        // B6 0375
        gbc.setState(0x4912, 0xc71, 0xfb00, 0xd01c, 0x80d4, 0x33ae, 0x0, 0x0);
        gbc.writeMem(0x33ae, { 0xc1 });
        gbc.writeMem(0x4912, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xc71);
        EXPECT(gbc.pc(), 0x4913);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0376
        gbc.setState(0x3bbd, 0xb78, 0x7d10, 0xe71d, 0x7a1a, 0x66db, 0x1, 0x1);
        gbc.writeMem(0x3bbd, { 0xb6 });
        gbc.writeMem(0x66db, { 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xb78);
        EXPECT(gbc.pc(), 0x3bbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0377
        gbc.setState(0xa448, 0x189c, 0x82d0, 0xbfda, 0x3d33, 0x3e66, 0x1, 0x1);
        gbc.writeMem(0x3e66, { 0x55 });
        gbc.writeMem(0xa448, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x189c);
        EXPECT(gbc.pc(), 0xa449);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa448), 0xb6);
        // B6 0378
        gbc.setState(0x6995, 0x9f9f, 0xb210, 0x5309, 0xaaa5, 0x2087, 0x0, 0x1);
        gbc.writeMem(0x2087, { 0x85 });
        gbc.writeMem(0x6995, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x9f9f);
        EXPECT(gbc.pc(), 0x6996);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0379
        gbc.setState(0xf8e, 0xe190, 0x8920, 0x151b, 0xc590, 0x597, 0x1, 0x0);
        gbc.writeMem(0x597, { 0x87 });
        gbc.writeMem(0xf8e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xe190);
        EXPECT(gbc.pc(), 0xf8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 037A
        gbc.setState(0x3be0, 0x9691, 0xa560, 0x296d, 0x5a9, 0x9102, 0x1, 0x1);
        gbc.writeMem(0x3be0, { 0xb6 });
        gbc.writeMem(0x9102, { 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x9691);
        EXPECT(gbc.pc(), 0x3be1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9102), 0x5);
        // B6 037C
        gbc.setState(0xc49, 0x4e64, 0x59d0, 0x2a17, 0xb6bb, 0x8139, 0x1, 0x0);
        gbc.writeMem(0xc49, { 0xb6 });
        gbc.writeMem(0x8139, { 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x4e64);
        EXPECT(gbc.pc(), 0xc4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8139), 0x3e);
        // B6 037D
        gbc.setState(0xa623, 0x864e, 0x160, 0x42c5, 0x7688, 0x326f, 0x0, 0x1);
        gbc.writeMem(0x326f, { 0x7a });
        gbc.writeMem(0xa623, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x864e);
        EXPECT(gbc.pc(), 0xa624);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa623), 0xb6);
        // B6 037E
        gbc.setState(0xc4d, 0xdb9f, 0x1a00, 0x3107, 0xf236, 0x59b1, 0x0, 0x1);
        gbc.writeMem(0xc4d, { 0xb6 });
        gbc.writeMem(0x59b1, { 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xdb9f);
        EXPECT(gbc.pc(), 0xc4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 037F
        gbc.setState(0x6fb7, 0x491b, 0xeac0, 0xf367, 0x51ae, 0x148, 0x0, 0x1);
        gbc.writeMem(0x148, { 0x4d });
        gbc.writeMem(0x6fb7, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x491b);
        EXPECT(gbc.pc(), 0x6fb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0380
        gbc.setState(0xcfb, 0x1380, 0x1120, 0x1491, 0x13dc, 0x34a8, 0x0, 0x0);
        gbc.writeMem(0xcfb, { 0xb6 });
        gbc.writeMem(0x34a8, { 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x1380);
        EXPECT(gbc.pc(), 0xcfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0381
        gbc.setState(0x5a01, 0x8b73, 0x890, 0x5801, 0x8759, 0x9ea2, 0x1, 0x0);
        gbc.writeMem(0x5a01, { 0xb6 });
        gbc.writeMem(0x9ea2, { 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x8b73);
        EXPECT(gbc.pc(), 0x5a02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ea2), 0xf0);
        // B6 0382
        gbc.setState(0x922b, 0x8493, 0x6120, 0x21bd, 0x2f8b, 0x323, 0x1, 0x1);
        gbc.writeMem(0x323, { 0x80 });
        gbc.writeMem(0x922b, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x8493);
        EXPECT(gbc.pc(), 0x922c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x922b), 0xb6);
        // B6 0383
        gbc.setState(0x9d01, 0x9f5c, 0x7870, 0xc6d7, 0x8aa8, 0x5d33, 0x0, 0x1);
        gbc.writeMem(0x5d33, { 0x6e });
        gbc.writeMem(0x9d01, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x9f5c);
        EXPECT(gbc.pc(), 0x9d02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d01), 0xb6);
        // B6 0385
        gbc.setState(0x169a, 0xbd27, 0x84c0, 0xe46, 0x9bb5, 0xf3, 0x1, 0x1);
        gbc.writeMem(0xf3, { 0x6c });
        gbc.writeMem(0x169a, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xbd27);
        EXPECT(gbc.pc(), 0x169b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0387
        gbc.setState(0xdb1f, 0x2d2b, 0x7f10, 0x4720, 0xf02a, 0x763a, 0x0, 0x0);
        gbc.writeMem(0x763a, { 0x85 });
        gbc.writeMem(0xdb1f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x2d2b);
        EXPECT(gbc.pc(), 0xdb20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb1f), 0xb6);
        // B6 0388
        gbc.setState(0x4bfe, 0x16b7, 0x4fd0, 0x1e03, 0xcf39, 0x150b, 0x1, 0x1);
        gbc.writeMem(0x150b, { 0xc2 });
        gbc.writeMem(0x4bfe, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x16b7);
        EXPECT(gbc.pc(), 0x4bff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0389
        gbc.setState(0x8a96, 0x92c5, 0x1110, 0x10cb, 0xb4c8, 0xac73, 0x0, 0x0);
        gbc.writeMem(0x8a96, { 0xb6 });
        gbc.writeMem(0xac73, { 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x92c5);
        EXPECT(gbc.pc(), 0x8a97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a96), 0xb6);
        EXPECT(gbc.readMem(0xac73), 0x3e);
        // B6 038B
        gbc.setState(0x9f2a, 0xa4ab, 0xb290, 0x56eb, 0x70eb, 0xbc64, 0x0, 0x1);
        gbc.writeMem(0x9f2a, { 0xb6 });
        gbc.writeMem(0xbc64, { 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xa4ab);
        EXPECT(gbc.pc(), 0x9f2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f2a), 0xb6);
        EXPECT(gbc.readMem(0xbc64), 0x53);
        // B6 038C
        gbc.setState(0xc7ba, 0x95f0, 0x3340, 0xd8a, 0x8b45, 0x6b34, 0x0, 0x0);
        gbc.writeMem(0x6b34, { 0x5e });
        gbc.writeMem(0xc7ba, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x95f0);
        EXPECT(gbc.pc(), 0xc7bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7ba), 0xb6);
        // B6 038D
        gbc.setState(0xb065, 0xc2a9, 0xf260, 0x6e76, 0x1f5d, 0xe9ed, 0x0, 0x0);
        gbc.writeMem(0xb065, { 0xb6 });
        gbc.writeMem(0xe9ed, { 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xc2a9);
        EXPECT(gbc.pc(), 0xb066);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb065), 0xb6);
        EXPECT(gbc.readMem(0xe9ed), 0x9b);
        // B6 038E
        gbc.setState(0x4e9b, 0xbb83, 0xb6e0, 0xc551, 0xcd56, 0xd1d3, 0x1, 0x1);
        gbc.writeMem(0x4e9b, { 0xb6 });
        gbc.writeMem(0xd1d3, { 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xbb83);
        EXPECT(gbc.pc(), 0x4e9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1d3), 0x64);
        // B6 0390
        gbc.setState(0x2d03, 0x754a, 0x54e0, 0x806a, 0x49bc, 0x8b3, 0x0, 0x0);
        gbc.writeMem(0x8b3, { 0x66 });
        gbc.writeMem(0x2d03, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x754a);
        EXPECT(gbc.pc(), 0x2d04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0391
        gbc.setState(0xe86c, 0x44c4, 0x96c0, 0xb13c, 0x28ee, 0x6a7c, 0x0, 0x0);
        gbc.writeMem(0x6a7c, { 0x34 });
        gbc.writeMem(0xe86c, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x44c4);
        EXPECT(gbc.pc(), 0xe86d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe86c), 0xb6);
        // B6 0392
        gbc.setState(0xeed8, 0xcb7a, 0x9710, 0xecdd, 0x9bad, 0x9730, 0x1, 0x0);
        gbc.writeMem(0x9730, { 0xd4 });
        gbc.writeMem(0xeed8, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xcb7a);
        EXPECT(gbc.pc(), 0xeed9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9730), 0xd4);
        EXPECT(gbc.readMem(0xeed8), 0xb6);
        // B6 0393
        gbc.setState(0x9261, 0x8e49, 0x6fc0, 0xd8c, 0x49df, 0xab20, 0x1, 0x0);
        gbc.writeMem(0x9261, { 0xb6 });
        gbc.writeMem(0xab20, { 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8e49);
        EXPECT(gbc.pc(), 0x9262);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9261), 0xb6);
        EXPECT(gbc.readMem(0xab20), 0x6b);
        // B6 0394
        gbc.setState(0x7f23, 0x2edd, 0x4fa0, 0xf392, 0x7ef6, 0xfdf9, 0x1, 0x1);
        gbc.writeMem(0x7f23, { 0xb6 });
        gbc.writeMem(0xfdf9, { 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x2edd);
        EXPECT(gbc.pc(), 0x7f24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfdf9), 0x74);
        // B6 0395
        gbc.setState(0x316e, 0x2a9, 0x4bf0, 0x9b9e, 0xb4, 0xcb1, 0x1, 0x0);
        gbc.writeMem(0xcb1, { 0x5b });
        gbc.writeMem(0x316e, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x2a9);
        EXPECT(gbc.pc(), 0x316f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0396
        gbc.setState(0x40c1, 0x79f5, 0x8b20, 0x4bc3, 0x69c7, 0x1b08, 0x1, 0x1);
        gbc.writeMem(0x1b08, { 0x22 });
        gbc.writeMem(0x40c1, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x79f5);
        EXPECT(gbc.pc(), 0x40c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0397
        gbc.setState(0x609e, 0xa60e, 0xefb0, 0xbd6d, 0x14cd, 0x649d, 0x0, 0x1);
        gbc.writeMem(0x609e, { 0xb6 });
        gbc.writeMem(0x649d, { 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xa60e);
        EXPECT(gbc.pc(), 0x609f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 0399
        gbc.setState(0x6003, 0x1bca, 0x38b0, 0x2f0, 0x8235, 0xc21d, 0x1, 0x0);
        gbc.writeMem(0x6003, { 0xb6 });
        gbc.writeMem(0xc21d, { 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x1bca);
        EXPECT(gbc.pc(), 0x6004);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc21d), 0xad);
        // B6 039A
        gbc.setState(0xb8f, 0xbe9, 0x1640, 0x94a, 0xab0a, 0x3b7c, 0x0, 0x0);
        gbc.writeMem(0xb8f, { 0xb6 });
        gbc.writeMem(0x3b7c, { 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xbe9);
        EXPECT(gbc.pc(), 0xb90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 039C
        gbc.setState(0x7c9, 0x6570, 0xf320, 0xffc8, 0xba82, 0x8676, 0x1, 0x0);
        gbc.writeMem(0x7c9, { 0xb6 });
        gbc.writeMem(0x8676, { 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x6570);
        EXPECT(gbc.pc(), 0x7ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8676), 0xf2);
        // B6 039D
        gbc.setState(0x5e04, 0x7292, 0x2290, 0x31e8, 0x8a28, 0xf675, 0x0, 0x1);
        gbc.writeMem(0x5e04, { 0xb6 });
        gbc.writeMem(0xf675, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x7292);
        EXPECT(gbc.pc(), 0x5e05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf675), 0xac);
        // B6 039E
        gbc.setState(0x7496, 0x5899, 0x8ce0, 0xe10, 0x85d8, 0x7039, 0x0, 0x1);
        gbc.writeMem(0x7039, { 0xb6 });
        gbc.writeMem(0x7496, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x5899);
        EXPECT(gbc.pc(), 0x7497);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 039F
        gbc.setState(0x22e8, 0x5dfa, 0xcf00, 0x34e2, 0xf0dc, 0x163d, 0x0, 0x1);
        gbc.writeMem(0x163d, { 0x45 });
        gbc.writeMem(0x22e8, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x5dfa);
        EXPECT(gbc.pc(), 0x22e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03A0
        gbc.setState(0xef3f, 0xb2ea, 0x3020, 0xd8, 0x1609, 0xae0c, 0x0, 0x1);
        gbc.writeMem(0xae0c, { 0x11 });
        gbc.writeMem(0xef3f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xb2ea);
        EXPECT(gbc.pc(), 0xef40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae0c), 0x11);
        EXPECT(gbc.readMem(0xef3f), 0xb6);
        // B6 03A1
        gbc.setState(0xe433, 0x6c85, 0x3f90, 0xa40d, 0xee22, 0x4134, 0x0, 0x0);
        gbc.writeMem(0x4134, { 0x17 });
        gbc.writeMem(0xe433, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x6c85);
        EXPECT(gbc.pc(), 0xe434);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe433), 0xb6);
        // B6 03A4
        gbc.setState(0x6d02, 0x762c, 0xc7e0, 0x8fb6, 0x3fb2, 0x4a0c, 0x1, 0x0);
        gbc.writeMem(0x4a0c, { 0x5a });
        gbc.writeMem(0x6d02, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x762c);
        EXPECT(gbc.pc(), 0x6d03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03A5
        gbc.setState(0xda6f, 0xc22f, 0x5f70, 0xef89, 0x7355, 0xf6fe, 0x1, 0x1);
        gbc.writeMem(0xda6f, { 0xb6 });
        gbc.writeMem(0xf6fe, { 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xc22f);
        EXPECT(gbc.pc(), 0xda70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda6f), 0xb6);
        EXPECT(gbc.readMem(0xf6fe), 0xaf);
        // B6 03A6
        gbc.setState(0x3d6a, 0x4ef8, 0xcb00, 0x433c, 0xb1c, 0xb45b, 0x0, 0x0);
        gbc.writeMem(0x3d6a, { 0xb6 });
        gbc.writeMem(0xb45b, { 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x4ef8);
        EXPECT(gbc.pc(), 0x3d6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb45b), 0x3);
        // B6 03A7
        gbc.setState(0x6af6, 0x16c1, 0x50, 0xf77c, 0x8734, 0xbef, 0x1, 0x1);
        gbc.writeMem(0xbef, { 0xad });
        gbc.writeMem(0x6af6, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x16c1);
        EXPECT(gbc.pc(), 0x6af7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03A8
        gbc.setState(0xc5ce, 0xe170, 0x5760, 0xb0ec, 0x3967, 0xef5f, 0x1, 0x1);
        gbc.writeMem(0xc5ce, { 0xb6 });
        gbc.writeMem(0xef5f, { 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xe170);
        EXPECT(gbc.pc(), 0xc5cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5ce), 0xb6);
        EXPECT(gbc.readMem(0xef5f), 0xb4);
        // B6 03A9
        gbc.setState(0x47b2, 0x2ca6, 0x7330, 0x6e04, 0x6bd8, 0x15c9, 0x1, 0x1);
        gbc.writeMem(0x15c9, { 0xe5 });
        gbc.writeMem(0x47b2, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x2ca6);
        EXPECT(gbc.pc(), 0x47b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03AA
        gbc.setState(0x9ae4, 0x704f, 0xd770, 0x94c3, 0x1db, 0xb61b, 0x0, 0x1);
        gbc.writeMem(0x9ae4, { 0xb6 });
        gbc.writeMem(0xb61b, { 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x704f);
        EXPECT(gbc.pc(), 0x9ae5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ae4), 0xb6);
        EXPECT(gbc.readMem(0xb61b), 0xa5);
        // B6 03AB
        gbc.setState(0xa5ad, 0x9fd8, 0xea20, 0x4375, 0x938b, 0x6fcc, 0x0, 0x0);
        gbc.writeMem(0x6fcc, { 0x85 });
        gbc.writeMem(0xa5ad, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x9fd8);
        EXPECT(gbc.pc(), 0xa5ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5ad), 0xb6);
        // B6 03AC
        gbc.setState(0xeb8d, 0x2f2e, 0x7970, 0x11bd, 0x8622, 0x2e6, 0x0, 0x0);
        gbc.writeMem(0x2e6, { 0x4b });
        gbc.writeMem(0xeb8d, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x2f2e);
        EXPECT(gbc.pc(), 0xeb8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb8d), 0xb6);
        // B6 03AD
        gbc.setState(0x3043, 0xca5a, 0x7400, 0xc946, 0x61a2, 0x7739, 0x0, 0x1);
        gbc.writeMem(0x3043, { 0xb6 });
        gbc.writeMem(0x7739, { 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xca5a);
        EXPECT(gbc.pc(), 0x3044);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03AE
        gbc.setState(0x3e0f, 0x8900, 0x15c0, 0x159e, 0xe238, 0xc196, 0x0, 0x0);
        gbc.writeMem(0x3e0f, { 0xb6 });
        gbc.writeMem(0xc196, { 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x8900);
        EXPECT(gbc.pc(), 0x3e10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc196), 0xac);
        // B6 03AF
        gbc.setState(0x531b, 0xe037, 0x6950, 0x8ecb, 0xfad2, 0xb999, 0x0, 0x0);
        gbc.writeMem(0x531b, { 0xb6 });
        gbc.writeMem(0xb999, { 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xe037);
        EXPECT(gbc.pc(), 0x531c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb999), 0xb3);
        // B6 03B0
        gbc.setState(0x6dac, 0xcb32, 0xcbc0, 0xc95, 0x2713, 0x6725, 0x0, 0x1);
        gbc.writeMem(0x6725, { 0x36 });
        gbc.writeMem(0x6dac, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xcb32);
        EXPECT(gbc.pc(), 0x6dad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03B1
        gbc.setState(0x93c6, 0xceee, 0x3c90, 0xde3a, 0xb23f, 0x9432, 0x1, 0x0);
        gbc.writeMem(0x93c6, { 0xb6 });
        gbc.writeMem(0x9432, { 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xceee);
        EXPECT(gbc.pc(), 0x93c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93c6), 0xb6);
        EXPECT(gbc.readMem(0x9432), 0xc2);
        // B6 03B2
        gbc.setState(0xf45, 0x55c4, 0x8320, 0xbcec, 0x9a75, 0xbc86, 0x0, 0x1);
        gbc.writeMem(0xf45, { 0xb6 });
        gbc.writeMem(0xbc86, { 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x55c4);
        EXPECT(gbc.pc(), 0xf46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc86), 0xa4);
        // B6 03B3
        gbc.setState(0x9a95, 0xbfce, 0x2c30, 0xf238, 0x7d0f, 0x41c7, 0x0, 0x0);
        gbc.writeMem(0x41c7, { 0x3e });
        gbc.writeMem(0x9a95, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xbfce);
        EXPECT(gbc.pc(), 0x9a96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a95), 0xb6);
        // B6 03B4
        gbc.setState(0x41cf, 0xf169, 0x850, 0x1096, 0x309f, 0x397d, 0x1, 0x1);
        gbc.writeMem(0x397d, { 0xf3 });
        gbc.writeMem(0x41cf, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xf169);
        EXPECT(gbc.pc(), 0x41d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03B5
        gbc.setState(0x409c, 0x9846, 0x9f20, 0xe7ee, 0xf0ac, 0xfdb9, 0x1, 0x1);
        gbc.writeMem(0x409c, { 0xb6 });
        gbc.writeMem(0xfdb9, { 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x9846);
        EXPECT(gbc.pc(), 0x409d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfdb9), 0xd6);
        // B6 03B6
        gbc.setState(0x61f0, 0x13ac, 0x5fe0, 0x2567, 0x1ecd, 0x26ee, 0x0, 0x1);
        gbc.writeMem(0x26ee, { 0xd });
        gbc.writeMem(0x61f0, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x13ac);
        EXPECT(gbc.pc(), 0x61f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03B7
        gbc.setState(0xd1d4, 0x9554, 0xb510, 0x294b, 0x4349, 0xead, 0x1, 0x1);
        gbc.writeMem(0xead, { 0xd5 });
        gbc.writeMem(0xd1d4, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x9554);
        EXPECT(gbc.pc(), 0xd1d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1d4), 0xb6);
        // B6 03B8
        gbc.setState(0x8605, 0x1a57, 0x5010, 0xed48, 0x64c2, 0x762, 0x0, 0x0);
        gbc.writeMem(0x762, { 0x91 });
        gbc.writeMem(0x8605, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x1a57);
        EXPECT(gbc.pc(), 0x8606);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8605), 0xb6);
        // B6 03B9
        gbc.setState(0xa8a7, 0x8c4, 0x9c10, 0xe8c2, 0xc73d, 0xd83b, 0x0, 0x1);
        gbc.writeMem(0xa8a7, { 0xb6 });
        gbc.writeMem(0xd83b, { 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8c4);
        EXPECT(gbc.pc(), 0xa8a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8a7), 0xb6);
        EXPECT(gbc.readMem(0xd83b), 0xa6);
        // B6 03BA
        gbc.setState(0x85be, 0x29ea, 0xf170, 0xc991, 0x521, 0xac76, 0x0, 0x0);
        gbc.writeMem(0x85be, { 0xb6 });
        gbc.writeMem(0xac76, { 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x29ea);
        EXPECT(gbc.pc(), 0x85bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85be), 0xb6);
        EXPECT(gbc.readMem(0xac76), 0x1);
        // B6 03BB
        gbc.setState(0x3fa, 0x1939, 0x7490, 0xb718, 0x40de, 0x7e8b, 0x0, 0x1);
        gbc.writeMem(0x3fa, { 0xb6 });
        gbc.writeMem(0x7e8b, { 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x1939);
        EXPECT(gbc.pc(), 0x3fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03BD
        gbc.setState(0xef4a, 0x9046, 0x2830, 0x3592, 0xd72c, 0x7590, 0x1, 0x1);
        gbc.writeMem(0x7590, { 0xd });
        gbc.writeMem(0xef4a, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x9046);
        EXPECT(gbc.pc(), 0xef4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef4a), 0xb6);
        // B6 03BE
        gbc.setState(0x403, 0x4cb, 0xd450, 0xa214, 0x6b47, 0x9e90, 0x0, 0x0);
        gbc.writeMem(0x403, { 0xb6 });
        gbc.writeMem(0x9e90, { 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x4cb);
        EXPECT(gbc.pc(), 0x404);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e90), 0x56);
        // B6 03BF
        gbc.setState(0xb4cd, 0x95a2, 0x7860, 0xbd91, 0xc511, 0xe33, 0x0, 0x1);
        gbc.writeMem(0xe33, { 0x76 });
        gbc.writeMem(0xb4cd, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x95a2);
        EXPECT(gbc.pc(), 0xb4ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4cd), 0xb6);
        // B6 03C0
        gbc.setState(0xa252, 0x3905, 0x610, 0xdfb4, 0x5760, 0x8311, 0x1, 0x1);
        gbc.writeMem(0x8311, { 0x36 });
        gbc.writeMem(0xa252, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x3905);
        EXPECT(gbc.pc(), 0xa253);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8311), 0x36);
        EXPECT(gbc.readMem(0xa252), 0xb6);
        // B6 03C1
        gbc.setState(0xa99, 0x8c0d, 0x7070, 0xe529, 0x6d97, 0x399, 0x1, 0x0);
        gbc.writeMem(0x399, { 0xcb });
        gbc.writeMem(0xa99, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x8c0d);
        EXPECT(gbc.pc(), 0xa9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03C2
        gbc.setState(0x236e, 0xbfd, 0xbcf0, 0x4494, 0xfad8, 0xba78, 0x1, 0x0);
        gbc.writeMem(0x236e, { 0xb6 });
        gbc.writeMem(0xba78, { 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xbfd);
        EXPECT(gbc.pc(), 0x236f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba78), 0xa1);
        // B6 03C3
        gbc.setState(0x4668, 0x40d0, 0x15e0, 0x3c26, 0xd58a, 0x7e47, 0x0, 0x1);
        gbc.writeMem(0x4668, { 0xb6 });
        gbc.writeMem(0x7e47, { 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x40d0);
        EXPECT(gbc.pc(), 0x4669);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03C4
        gbc.setState(0xdbf0, 0xe5b7, 0x3340, 0xb316, 0xce7, 0x6d04, 0x0, 0x0);
        gbc.writeMem(0x6d04, { 0xd });
        gbc.writeMem(0xdbf0, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xe5b7);
        EXPECT(gbc.pc(), 0xdbf1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbf0), 0xb6);
        // B6 03C5
        gbc.setState(0xef7d, 0xd515, 0xd610, 0xa352, 0x5b65, 0x7922, 0x0, 0x1);
        gbc.writeMem(0x7922, { 0xe });
        gbc.writeMem(0xef7d, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xd515);
        EXPECT(gbc.pc(), 0xef7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef7d), 0xb6);
        // B6 03C6
        gbc.setState(0x4372, 0x610b, 0x4a80, 0x1012, 0x7c85, 0xc940, 0x0, 0x0);
        gbc.writeMem(0x4372, { 0xb6 });
        gbc.writeMem(0xc940, { 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x610b);
        EXPECT(gbc.pc(), 0x4373);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc940), 0xea);
        // B6 03C7
        gbc.setState(0xce1d, 0xdfe7, 0x1850, 0xb329, 0xef9b, 0x610a, 0x0, 0x1);
        gbc.writeMem(0x610a, { 0xc3 });
        gbc.writeMem(0xce1d, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xdfe7);
        EXPECT(gbc.pc(), 0xce1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce1d), 0xb6);
        // B6 03C8
        gbc.setState(0xde93, 0x55b3, 0xec30, 0xfbb2, 0xdc1b, 0x4471, 0x1, 0x0);
        gbc.writeMem(0x4471, { 0xa0 });
        gbc.writeMem(0xde93, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x55b3);
        EXPECT(gbc.pc(), 0xde94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde93), 0xb6);
        // B6 03C9
        gbc.setState(0x4ace, 0x3bd7, 0xa750, 0xcefe, 0xd5e7, 0xc4db, 0x1, 0x0);
        gbc.writeMem(0x4ace, { 0xb6 });
        gbc.writeMem(0xc4db, { 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x3bd7);
        EXPECT(gbc.pc(), 0x4acf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4db), 0x1e);
        // B6 03CA
        gbc.setState(0xe797, 0x361f, 0xe2e0, 0x95d9, 0x122d, 0xc2bf, 0x1, 0x1);
        gbc.writeMem(0xc2bf, { 0xdd });
        gbc.writeMem(0xe797, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x361f);
        EXPECT(gbc.pc(), 0xe798);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2bf), 0xdd);
        EXPECT(gbc.readMem(0xe797), 0xb6);
        // B6 03CC
        gbc.setState(0x5900, 0xa845, 0x4810, 0x1838, 0x5ed1, 0x25ec, 0x1, 0x0);
        gbc.writeMem(0x25ec, { 0x4f });
        gbc.writeMem(0x5900, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xa845);
        EXPECT(gbc.pc(), 0x5901);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03CD
        gbc.setState(0xdec2, 0xbde7, 0x1f20, 0xa140, 0x260b, 0x1a2a, 0x0, 0x0);
        gbc.writeMem(0x1a2a, { 0x91 });
        gbc.writeMem(0xdec2, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xbde7);
        EXPECT(gbc.pc(), 0xdec3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdec2), 0xb6);
        // B6 03CF
        gbc.setState(0x1459, 0x82ca, 0xe840, 0xb797, 0x871d, 0x7c41, 0x0, 0x0);
        gbc.writeMem(0x1459, { 0xb6 });
        gbc.writeMem(0x7c41, { 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x82ca);
        EXPECT(gbc.pc(), 0x145a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03D0
        gbc.setState(0x8334, 0x7e12, 0x4320, 0xc837, 0x27d9, 0x7c40, 0x1, 0x1);
        gbc.writeMem(0x7c40, { 0x29 });
        gbc.writeMem(0x8334, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x7e12);
        EXPECT(gbc.pc(), 0x8335);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8334), 0xb6);
        // B6 03D1
        gbc.setState(0x685a, 0xecd7, 0x23b0, 0xa7c1, 0x54ad, 0x5b65, 0x0, 0x0);
        gbc.writeMem(0x5b65, { 0xcb });
        gbc.writeMem(0x685a, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xecd7);
        EXPECT(gbc.pc(), 0x685b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03D3
        gbc.setState(0x2cde, 0x6468, 0x6410, 0xbc36, 0xeb4a, 0xc2e, 0x1, 0x1);
        gbc.writeMem(0xc2e, { 0x89 });
        gbc.writeMem(0x2cde, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x6468);
        EXPECT(gbc.pc(), 0x2cdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03D4
        gbc.setState(0x468, 0x3390, 0x2eb0, 0xfea4, 0xf59d, 0xc255, 0x0, 0x1);
        gbc.writeMem(0x468, { 0xb6 });
        gbc.writeMem(0xc255, { 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x3390);
        EXPECT(gbc.pc(), 0x469);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc255), 0xc0);
        // B6 03D5
        gbc.setState(0x35dd, 0x4079, 0x7bd0, 0x9fe1, 0xe2c5, 0x3b2, 0x0, 0x0);
        gbc.writeMem(0x3b2, { 0xa6 });
        gbc.writeMem(0x35dd, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x4079);
        EXPECT(gbc.pc(), 0x35de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03D6
        gbc.setState(0x23bb, 0x70dd, 0xd7e0, 0x3155, 0xd26c, 0x9278, 0x1, 0x0);
        gbc.writeMem(0x23bb, { 0xb6 });
        gbc.writeMem(0x9278, { 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x70dd);
        EXPECT(gbc.pc(), 0x23bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9278), 0xb0);
        // B6 03D8
        gbc.setState(0x18b2, 0xd948, 0xe1b0, 0x13cd, 0xbaac, 0xb6f0, 0x1, 0x1);
        gbc.writeMem(0x18b2, { 0xb6 });
        gbc.writeMem(0xb6f0, { 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xd948);
        EXPECT(gbc.pc(), 0x18b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6f0), 0x21);
        // B6 03D9
        gbc.setState(0xb744, 0x472e, 0x3010, 0x5b9d, 0x4b00, 0xaa3f, 0x0, 0x1);
        gbc.writeMem(0xaa3f, { 0x76 });
        gbc.writeMem(0xb744, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x472e);
        EXPECT(gbc.pc(), 0xb745);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa3f), 0x76);
        EXPECT(gbc.readMem(0xb744), 0xb6);
        // B6 03DA
        gbc.setState(0x94e, 0x2908, 0x9020, 0xf34a, 0x1198, 0xbe24, 0x1, 0x1);
        gbc.writeMem(0x94e, { 0xb6 });
        gbc.writeMem(0xbe24, { 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x2908);
        EXPECT(gbc.pc(), 0x94f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe24), 0xcf);
        // B6 03DB
        gbc.setState(0x8ade, 0x8bf7, 0xa420, 0xa50, 0xa15, 0xee97, 0x0, 0x1);
        gbc.writeMem(0x8ade, { 0xb6 });
        gbc.writeMem(0xee97, { 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x8bf7);
        EXPECT(gbc.pc(), 0x8adf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ade), 0xb6);
        EXPECT(gbc.readMem(0xee97), 0x23);
        // B6 03DC
        gbc.setState(0x306c, 0x6561, 0x9f30, 0x2124, 0x1d4d, 0x42ac, 0x0, 0x0);
        gbc.writeMem(0x306c, { 0xb6 });
        gbc.writeMem(0x42ac, { 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x6561);
        EXPECT(gbc.pc(), 0x306d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03DD
        gbc.setState(0x3ed0, 0x89d9, 0xc800, 0x8167, 0x4b81, 0x1eb6, 0x1, 0x0);
        gbc.writeMem(0x1eb6, { 0x8c });
        gbc.writeMem(0x3ed0, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x89d9);
        EXPECT(gbc.pc(), 0x3ed1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03DE
        gbc.setState(0x391, 0xc15b, 0xa5a0, 0x41b5, 0xda2e, 0x794e, 0x0, 0x1);
        gbc.writeMem(0x391, { 0xb6 });
        gbc.writeMem(0x794e, { 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xc15b);
        EXPECT(gbc.pc(), 0x392);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // B6 03DF
        gbc.setState(0x8711, 0x26a3, 0x3ba0, 0x8b80, 0x36ea, 0xf58a, 0x0, 0x0);
        gbc.writeMem(0x8711, { 0xb6 });
        gbc.writeMem(0xf58a, { 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x26a3);
        EXPECT(gbc.pc(), 0x8712);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8711), 0xb6);
        EXPECT(gbc.readMem(0xf58a), 0x2a);
        // B6 03E0
        gbc.setState(0xd548, 0x32d, 0xb380, 0xb3b4, 0xc1d6, 0xa30c, 0x0, 0x0);
        gbc.writeMem(0xa30c, { 0x1e });
        gbc.writeMem(0xd548, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x32d);
        EXPECT(gbc.pc(), 0xd549);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa30c), 0x1e);
        EXPECT(gbc.readMem(0xd548), 0xb6);
        // B6 03E1
        gbc.setState(0xcc8f, 0xbd3d, 0x31f0, 0x4ad2, 0xa3b2, 0x2ce, 0x1, 0x1);
        gbc.writeMem(0x2ce, { 0xee });
        gbc.writeMem(0xcc8f, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xbd3d);
        EXPECT(gbc.pc(), 0xcc90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc8f), 0xb6);
        // B6 03E2
        gbc.setState(0xa0f0, 0x896, 0x89f0, 0x19ce, 0xbaa8, 0x7188, 0x1, 0x1);
        gbc.writeMem(0x7188, { 0x2 });
        gbc.writeMem(0xa0f0, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x896);
        EXPECT(gbc.pc(), 0xa0f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0f0), 0xb6);
        // B6 03E3
        gbc.setState(0xad55, 0x2258, 0xe910, 0xf4cb, 0x51ed, 0x250a, 0x0, 0x0);
        gbc.writeMem(0x250a, { 0x55 });
        gbc.writeMem(0xad55, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x2258);
        EXPECT(gbc.pc(), 0xad56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad55), 0xb6);
        // B6 03E4
        gbc.setState(0xd3ac, 0x498b, 0xf650, 0x1acf, 0x95b5, 0x4e07, 0x0, 0x1);
        gbc.writeMem(0x4e07, { 0x9b });
        gbc.writeMem(0xd3ac, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x498b);
        EXPECT(gbc.pc(), 0xd3ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3ac), 0xb6);
        // B6 03E5
        gbc.setState(0x30ce, 0x7428, 0x5e00, 0x8201, 0x5718, 0x982b, 0x0, 0x0);
        gbc.writeMem(0x30ce, { 0xb6 });
        gbc.writeMem(0x982b, { 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x7428);
        EXPECT(gbc.pc(), 0x30cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x982b), 0x6b);
        // B6 03E6
        gbc.setState(0xd7df, 0x84e6, 0x33d0, 0xa123, 0xa8ed, 0xc10d, 0x1, 0x0);
        gbc.writeMem(0xc10d, { 0x39 });
        gbc.writeMem(0xd7df, { 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x84e6);
        EXPECT(gbc.pc(), 0xd7e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc10d), 0x39);
        EXPECT(gbc.readMem(0xd7df), 0xb6);
        // B6 03E7
        gbc.setState(0x74c7, 0xdf3d, 0x6e30, 0xd560, 0x22b4, 0x85a4, 0x1, 0x1);
        gbc.writeMem(0x74c7, { 0xb6 });
        gbc.writeMem(0x85a4, { 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xdf3d);
        EXPECT(gbc.pc(), 0x74c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85a4), 0x1b);
    }
