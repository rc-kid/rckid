    TEST(gbcemu, opcode_cb_50) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 50 0000
        gbc.setState(0xa5fa, 0x2c51, 0xa620, 0x8d9e, 0x9785, 0xa3dd, 0x0, 0x1);
        gbc.writeMem(0xa5fa, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x2c51, gbc.sp());
        EXPECT(0xa5fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa5fa));
        EXPECT(0x50, gbc.readMem(0xa5fb));
        // CB 50 0001
        gbc.setState(0xd148, 0x96d3, 0xfac0, 0xffc7, 0x72ba, 0x19e6, 0x0, 0x0);
        gbc.writeMem(0xd148, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x96d3, gbc.sp());
        EXPECT(0xd14a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd148));
        EXPECT(0x50, gbc.readMem(0xd149));
        // CB 50 0002
        gbc.setState(0xdeaf, 0x9757, 0x5070, 0x7592, 0x5137, 0x4862, 0x1, 0x1);
        gbc.writeMem(0xdeaf, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x9757, gbc.sp());
        EXPECT(0xdeb1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdeaf));
        EXPECT(0x50, gbc.readMem(0xdeb0));
        // CB 50 0003
        gbc.setState(0xe18c, 0xfe5, 0xb2f0, 0x641, 0x5762, 0x674a, 0x0, 0x0);
        gbc.writeMem(0xe18c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xfe5, gbc.sp());
        EXPECT(0xe18e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe18c));
        EXPECT(0x50, gbc.readMem(0xe18d));
        // CB 50 0004
        gbc.setState(0x6db0, 0x554a, 0xa8c0, 0xc473, 0xc4e8, 0xb0b1, 0x1, 0x0);
        gbc.writeMem(0x6db0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x554a, gbc.sp());
        EXPECT(0x6db2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0005
        gbc.setState(0xaf06, 0x71e6, 0x97b0, 0x82d8, 0x6357, 0x50ac, 0x0, 0x1);
        gbc.writeMem(0xaf06, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x71e6, gbc.sp());
        EXPECT(0xaf08, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf06));
        EXPECT(0x50, gbc.readMem(0xaf07));
        // CB 50 0006
        gbc.setState(0xa1df, 0x49a0, 0x6ac0, 0x79a7, 0x94b3, 0x2c97, 0x0, 0x1);
        gbc.writeMem(0xa1df, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x49a0, gbc.sp());
        EXPECT(0xa1e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1df));
        EXPECT(0x50, gbc.readMem(0xa1e0));
        // CB 50 0007
        gbc.setState(0x4e1e, 0xe1ce, 0x790, 0x8059, 0xa5b1, 0x88cc, 0x1, 0x0);
        gbc.writeMem(0x4e1e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xe1ce, gbc.sp());
        EXPECT(0x4e20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0008
        gbc.setState(0x1ac3, 0xafa0, 0x8520, 0x2eed, 0x7ccf, 0xb4dc, 0x1, 0x1);
        gbc.writeMem(0x1ac3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xafa0, gbc.sp());
        EXPECT(0x1ac5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0009
        gbc.setState(0x5815, 0x9ed1, 0xcfb0, 0x43a4, 0xff14, 0x82bd, 0x0, 0x0);
        gbc.writeMem(0x5815, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x9ed1, gbc.sp());
        EXPECT(0x5817, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 000A
        gbc.setState(0xd6ef, 0x4a0c, 0x5670, 0xaf22, 0x1b4d, 0x4e88, 0x0, 0x0);
        gbc.writeMem(0xd6ef, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x4a0c, gbc.sp());
        EXPECT(0xd6f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6ef));
        EXPECT(0x50, gbc.readMem(0xd6f0));
        // CB 50 000B
        gbc.setState(0xdc38, 0xd4c3, 0xcc60, 0x6352, 0x89f4, 0x8473, 0x0, 0x1);
        gbc.writeMem(0xdc38, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xd4c3, gbc.sp());
        EXPECT(0xdc3a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc38));
        EXPECT(0x50, gbc.readMem(0xdc39));
        // CB 50 000E
        gbc.setState(0xab94, 0x30ae, 0x4dd0, 0xd1a7, 0xfff4, 0x316a, 0x1, 0x0);
        gbc.writeMem(0xab94, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x30ae, gbc.sp());
        EXPECT(0xab96, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab94));
        EXPECT(0x50, gbc.readMem(0xab95));
        // CB 50 000F
        gbc.setState(0x4571, 0x989d, 0x23a0, 0xabd4, 0x9bb0, 0xab1a, 0x0, 0x0);
        gbc.writeMem(0x4571, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x989d, gbc.sp());
        EXPECT(0x4573, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0010
        gbc.setState(0x204e, 0xc63, 0x4610, 0x6107, 0xb48a, 0x9984, 0x0, 0x0);
        gbc.writeMem(0x204e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xc63, gbc.sp());
        EXPECT(0x2050, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0011
        gbc.setState(0x234f, 0x4d15, 0x2a90, 0x7e2f, 0x1cc6, 0x1d22, 0x1, 0x1);
        gbc.writeMem(0x234f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x4d15, gbc.sp());
        EXPECT(0x2351, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0012
        gbc.setState(0xc25a, 0x16e0, 0x3490, 0x7ff2, 0x1924, 0x6703, 0x0, 0x0);
        gbc.writeMem(0xc25a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x16e0, gbc.sp());
        EXPECT(0xc25c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc25a));
        EXPECT(0x50, gbc.readMem(0xc25b));
        // CB 50 0013
        gbc.setState(0x2677, 0x7c4, 0x6cb0, 0x1da0, 0x4c1, 0x12b8, 0x0, 0x0);
        gbc.writeMem(0x2677, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x7c4, gbc.sp());
        EXPECT(0x2679, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0014
        gbc.setState(0x34c5, 0x560e, 0xc90, 0x6748, 0x17b9, 0xf7ac, 0x0, 0x1);
        gbc.writeMem(0x34c5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x560e, gbc.sp());
        EXPECT(0x34c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0015
        gbc.setState(0x2bf3, 0xa951, 0xee40, 0x858e, 0x697e, 0xb630, 0x1, 0x1);
        gbc.writeMem(0x2bf3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xa951, gbc.sp());
        EXPECT(0x2bf5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0016
        gbc.setState(0x35a0, 0xe8b1, 0xf5a0, 0x30b3, 0x7339, 0xd66b, 0x0, 0x0);
        gbc.writeMem(0x35a0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xe8b1, gbc.sp());
        EXPECT(0x35a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0017
        gbc.setState(0xb8a6, 0x4d8a, 0x7570, 0x6f4f, 0x61d2, 0xc21a, 0x1, 0x1);
        gbc.writeMem(0xb8a6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x4d8a, gbc.sp());
        EXPECT(0xb8a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb8a6));
        EXPECT(0x50, gbc.readMem(0xb8a7));
        // CB 50 0018
        gbc.setState(0x560, 0x104c, 0x7520, 0x7043, 0x4ba4, 0x1495, 0x0, 0x0);
        gbc.writeMem(0x560, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x104c, gbc.sp());
        EXPECT(0x562, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0019
        gbc.setState(0x43f8, 0xc1f5, 0xb220, 0xbeac, 0xa8a9, 0xd47b, 0x1, 0x0);
        gbc.writeMem(0x43f8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xc1f5, gbc.sp());
        EXPECT(0x43fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 001A
        gbc.setState(0xb44f, 0x111c, 0x2fd0, 0xdbc4, 0x7b88, 0xf2ec, 0x0, 0x1);
        gbc.writeMem(0xb44f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x111c, gbc.sp());
        EXPECT(0xb451, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb44f));
        EXPECT(0x50, gbc.readMem(0xb450));
        // CB 50 001B
        gbc.setState(0x6e21, 0x7b6c, 0x4b90, 0xea5, 0xfa0a, 0x454d, 0x0, 0x1);
        gbc.writeMem(0x6e21, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x7b6c, gbc.sp());
        EXPECT(0x6e23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 001C
        gbc.setState(0x6f2, 0x260a, 0x72a0, 0x8acc, 0x1306, 0xaf8b, 0x0, 0x1);
        gbc.writeMem(0x6f2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x260a, gbc.sp());
        EXPECT(0x6f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 001D
        gbc.setState(0x4987, 0xa090, 0x29a0, 0x2695, 0x8176, 0x5149, 0x1, 0x0);
        gbc.writeMem(0x4987, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xa090, gbc.sp());
        EXPECT(0x4989, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 001E
        gbc.setState(0xdfcb, 0x6f26, 0xe980, 0xdd44, 0x91c5, 0xac53, 0x1, 0x0);
        gbc.writeMem(0xdfcb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x6f26, gbc.sp());
        EXPECT(0xdfcd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdfcb));
        EXPECT(0x50, gbc.readMem(0xdfcc));
        // CB 50 001F
        gbc.setState(0x156e, 0x29f, 0xb7f0, 0xbf99, 0xeefc, 0x83a1, 0x1, 0x1);
        gbc.writeMem(0x156e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x29f, gbc.sp());
        EXPECT(0x1570, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0020
        gbc.setState(0xec00, 0x501d, 0x2c30, 0x731f, 0x7017, 0x1ef4, 0x0, 0x0);
        gbc.writeMem(0xec00, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x501d, gbc.sp());
        EXPECT(0xec02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec00));
        EXPECT(0x50, gbc.readMem(0xec01));
        // CB 50 0021
        gbc.setState(0x689a, 0xacd7, 0x70d0, 0xf460, 0x6b25, 0x6842, 0x0, 0x0);
        gbc.writeMem(0x689a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xacd7, gbc.sp());
        EXPECT(0x689c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0022
        gbc.setState(0xcfee, 0xdf88, 0x4660, 0x5293, 0x5e14, 0xd48f, 0x0, 0x0);
        gbc.writeMem(0xcfee, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xdf88, gbc.sp());
        EXPECT(0xcff0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcfee));
        EXPECT(0x50, gbc.readMem(0xcfef));
        // CB 50 0023
        gbc.setState(0x4449, 0xb188, 0x70e0, 0x8c7e, 0xf9c8, 0x154d, 0x0, 0x1);
        gbc.writeMem(0x4449, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xb188, gbc.sp());
        EXPECT(0x444b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0024
        gbc.setState(0x68e2, 0x18ac, 0xea60, 0x12ab, 0x8a0d, 0xf5af, 0x1, 0x0);
        gbc.writeMem(0x68e2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x18ac, gbc.sp());
        EXPECT(0x68e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0025
        gbc.setState(0x9dfe, 0x2df3, 0xba30, 0xfae9, 0xf116, 0x9439, 0x1, 0x0);
        gbc.writeMem(0x9dfe, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x2df3, gbc.sp());
        EXPECT(0x9e00, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9dfe));
        EXPECT(0x50, gbc.readMem(0x9dff));
        // CB 50 0026
        gbc.setState(0xb977, 0x5a5, 0x2a70, 0x3dd7, 0x74c1, 0x77b3, 0x1, 0x1);
        gbc.writeMem(0xb977, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x5a5, gbc.sp());
        EXPECT(0xb979, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb977));
        EXPECT(0x50, gbc.readMem(0xb978));
        // CB 50 0027
        gbc.setState(0x993c, 0x824e, 0xa560, 0xd111, 0x1ec9, 0x8ca4, 0x0, 0x1);
        gbc.writeMem(0x993c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x824e, gbc.sp());
        EXPECT(0x993e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x993c));
        EXPECT(0x50, gbc.readMem(0x993d));
        // CB 50 0028
        gbc.setState(0x1ccc, 0x54ed, 0x96f0, 0xd83d, 0x9613, 0x9f4c, 0x0, 0x1);
        gbc.writeMem(0x1ccc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x54ed, gbc.sp());
        EXPECT(0x1cce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0029
        gbc.setState(0xb98d, 0xfa4c, 0x63b0, 0x714f, 0x5762, 0x631, 0x0, 0x1);
        gbc.writeMem(0xb98d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xfa4c, gbc.sp());
        EXPECT(0xb98f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb98d));
        EXPECT(0x50, gbc.readMem(0xb98e));
        // CB 50 002A
        gbc.setState(0xec13, 0x6ca0, 0x99b0, 0xa969, 0xeb78, 0x217b, 0x1, 0x1);
        gbc.writeMem(0xec13, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x6ca0, gbc.sp());
        EXPECT(0xec15, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec13));
        EXPECT(0x50, gbc.readMem(0xec14));
        // CB 50 002B
        gbc.setState(0x4e09, 0x74b8, 0xb8c0, 0xd55d, 0x42a2, 0xc0c4, 0x1, 0x0);
        gbc.writeMem(0x4e09, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x74b8, gbc.sp());
        EXPECT(0x4e0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 002D
        gbc.setState(0xda0b, 0xbbb6, 0x6c90, 0xd5ae, 0x5537, 0x40c0, 0x1, 0x1);
        gbc.writeMem(0xda0b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xbbb6, gbc.sp());
        EXPECT(0xda0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda0b));
        EXPECT(0x50, gbc.readMem(0xda0c));
        // CB 50 002E
        gbc.setState(0xbad9, 0xe1d7, 0xb500, 0xb5af, 0x2055, 0x8daa, 0x0, 0x1);
        gbc.writeMem(0xbad9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xe1d7, gbc.sp());
        EXPECT(0xbadb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbad9));
        EXPECT(0x50, gbc.readMem(0xbada));
        // CB 50 002F
        gbc.setState(0x241c, 0xb4d7, 0x1510, 0x2ab3, 0xad7, 0x2608, 0x0, 0x0);
        gbc.writeMem(0x241c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xb4d7, gbc.sp());
        EXPECT(0x241e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0030
        gbc.setState(0x8483, 0xbdc3, 0x2600, 0x239c, 0x548, 0x6fd9, 0x1, 0x0);
        gbc.writeMem(0x8483, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xbdc3, gbc.sp());
        EXPECT(0x8485, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8483));
        EXPECT(0x50, gbc.readMem(0x8484));
        // CB 50 0031
        gbc.setState(0xbd7b, 0x1ff5, 0x29d0, 0x2932, 0x886f, 0x41ac, 0x1, 0x1);
        gbc.writeMem(0xbd7b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x1ff5, gbc.sp());
        EXPECT(0xbd7d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd7b));
        EXPECT(0x50, gbc.readMem(0xbd7c));
        // CB 50 0032
        gbc.setState(0xea47, 0x4f45, 0xb1f0, 0xafcb, 0x3627, 0x3568, 0x0, 0x1);
        gbc.writeMem(0xea47, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x4f45, gbc.sp());
        EXPECT(0xea49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea47));
        EXPECT(0x50, gbc.readMem(0xea48));
        // CB 50 0033
        gbc.setState(0x8493, 0xb191, 0x3fe0, 0x82cb, 0x8800, 0x5453, 0x1, 0x0);
        gbc.writeMem(0x8493, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xb191, gbc.sp());
        EXPECT(0x8495, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8493));
        EXPECT(0x50, gbc.readMem(0x8494));
        // CB 50 0034
        gbc.setState(0xb0e7, 0xc9f8, 0x820, 0x728f, 0x1823, 0xf063, 0x1, 0x1);
        gbc.writeMem(0xb0e7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xc9f8, gbc.sp());
        EXPECT(0xb0e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb0e7));
        EXPECT(0x50, gbc.readMem(0xb0e8));
        // CB 50 0035
        gbc.setState(0xb6d1, 0xcb7, 0x63e0, 0x2e6c, 0x1a9b, 0x2e89, 0x0, 0x0);
        gbc.writeMem(0xb6d1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xcb7, gbc.sp());
        EXPECT(0xb6d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb6d1));
        EXPECT(0x50, gbc.readMem(0xb6d2));
        // CB 50 0036
        gbc.setState(0xebbf, 0x9ae, 0xa210, 0x573e, 0x2d4d, 0xe9ea, 0x0, 0x1);
        gbc.writeMem(0xebbf, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x9ae, gbc.sp());
        EXPECT(0xebc1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xebbf));
        EXPECT(0x50, gbc.readMem(0xebc0));
        // CB 50 0037
        gbc.setState(0x393, 0x1a74, 0xdfd0, 0xbeb, 0x9d41, 0xbf29, 0x1, 0x1);
        gbc.writeMem(0x393, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x1a74, gbc.sp());
        EXPECT(0x395, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0038
        gbc.setState(0x9327, 0x70f2, 0xda50, 0x26e, 0xf0ea, 0x712b, 0x0, 0x1);
        gbc.writeMem(0x9327, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x70f2, gbc.sp());
        EXPECT(0x9329, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9327));
        EXPECT(0x50, gbc.readMem(0x9328));
        // CB 50 0039
        gbc.setState(0xd453, 0xd98f, 0x56a0, 0x8de2, 0x4faf, 0x5c58, 0x1, 0x1);
        gbc.writeMem(0xd453, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xd98f, gbc.sp());
        EXPECT(0xd455, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd453));
        EXPECT(0x50, gbc.readMem(0xd454));
        // CB 50 003A
        gbc.setState(0x80d0, 0x8c39, 0x1f40, 0xc555, 0xf361, 0x5ccb, 0x1, 0x1);
        gbc.writeMem(0x80d0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x8c39, gbc.sp());
        EXPECT(0x80d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80d0));
        EXPECT(0x50, gbc.readMem(0x80d1));
        // CB 50 003C
        gbc.setState(0xcc94, 0x6ca5, 0x8520, 0xb3cf, 0x497c, 0x86b0, 0x0, 0x1);
        gbc.writeMem(0xcc94, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x6ca5, gbc.sp());
        EXPECT(0xcc96, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc94));
        EXPECT(0x50, gbc.readMem(0xcc95));
        // CB 50 003D
        gbc.setState(0x80ef, 0xcad9, 0x4e70, 0xc1f, 0xcce7, 0x6ddf, 0x0, 0x1);
        gbc.writeMem(0x80ef, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xcad9, gbc.sp());
        EXPECT(0x80f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80ef));
        EXPECT(0x50, gbc.readMem(0x80f0));
        // CB 50 003E
        gbc.setState(0x8adc, 0x1a13, 0xb060, 0x2c9c, 0x851d, 0xc7a7, 0x0, 0x1);
        gbc.writeMem(0x8adc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x1a13, gbc.sp());
        EXPECT(0x8ade, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8adc));
        EXPECT(0x50, gbc.readMem(0x8add));
        // CB 50 003F
        gbc.setState(0x373f, 0xc2d6, 0x1600, 0xbf1d, 0x2df6, 0x9169, 0x1, 0x1);
        gbc.writeMem(0x373f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xc2d6, gbc.sp());
        EXPECT(0x3741, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0040
        gbc.setState(0xde27, 0x84df, 0xc350, 0x7ab1, 0xff6a, 0xaadc, 0x0, 0x1);
        gbc.writeMem(0xde27, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x84df, gbc.sp());
        EXPECT(0xde29, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde27));
        EXPECT(0x50, gbc.readMem(0xde28));
        // CB 50 0041
        gbc.setState(0x8367, 0x639b, 0xf390, 0xf4a, 0x2e6e, 0x21e, 0x0, 0x0);
        gbc.writeMem(0x8367, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x639b, gbc.sp());
        EXPECT(0x8369, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8367));
        EXPECT(0x50, gbc.readMem(0x8368));
        // CB 50 0042
        gbc.setState(0xdaad, 0xc644, 0x21e0, 0xac42, 0x6e6d, 0xbb1c, 0x0, 0x1);
        gbc.writeMem(0xdaad, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xc644, gbc.sp());
        EXPECT(0xdaaf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdaad));
        EXPECT(0x50, gbc.readMem(0xdaae));
        // CB 50 0043
        gbc.setState(0x6ba8, 0xecaa, 0xbe90, 0x6f1f, 0x24ca, 0x88e6, 0x0, 0x0);
        gbc.writeMem(0x6ba8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xecaa, gbc.sp());
        EXPECT(0x6baa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0044
        gbc.setState(0x92be, 0x850e, 0x81e0, 0xfe84, 0x7c68, 0x887, 0x0, 0x1);
        gbc.writeMem(0x92be, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x850e, gbc.sp());
        EXPECT(0x92c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92be));
        EXPECT(0x50, gbc.readMem(0x92bf));
        // CB 50 0045
        gbc.setState(0x512d, 0xdb3a, 0x88a0, 0x159c, 0x415c, 0x2237, 0x1, 0x1);
        gbc.writeMem(0x512d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xdb3a, gbc.sp());
        EXPECT(0x512f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0046
        gbc.setState(0x703, 0x90bb, 0x3100, 0xaba, 0x769, 0xc72, 0x0, 0x1);
        gbc.writeMem(0x703, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x90bb, gbc.sp());
        EXPECT(0x705, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0047
        gbc.setState(0x8bff, 0xb82a, 0xa9e0, 0x82cb, 0x1b60, 0x933c, 0x0, 0x0);
        gbc.writeMem(0x8bff, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xb82a, gbc.sp());
        EXPECT(0x8c01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8bff));
        EXPECT(0x50, gbc.readMem(0x8c00));
        // CB 50 0048
        gbc.setState(0xb1cd, 0xf4f, 0x6ad0, 0xff82, 0x9ef, 0x39a9, 0x1, 0x0);
        gbc.writeMem(0xb1cd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xf4f, gbc.sp());
        EXPECT(0xb1cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb1cd));
        EXPECT(0x50, gbc.readMem(0xb1ce));
        // CB 50 0049
        gbc.setState(0x5ba9, 0xf130, 0xd850, 0x5366, 0xc3e4, 0xbbfa, 0x0, 0x0);
        gbc.writeMem(0x5ba9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xf130, gbc.sp());
        EXPECT(0x5bab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 004A
        gbc.setState(0xd384, 0x940, 0xfce0, 0x4212, 0x56d3, 0xe8c0, 0x0, 0x1);
        gbc.writeMem(0xd384, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x940, gbc.sp());
        EXPECT(0xd386, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd384));
        EXPECT(0x50, gbc.readMem(0xd385));
        // CB 50 004B
        gbc.setState(0xb472, 0x2dd4, 0xd8b0, 0x165d, 0xf732, 0xacc5, 0x0, 0x1);
        gbc.writeMem(0xb472, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x2dd4, gbc.sp());
        EXPECT(0xb474, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb472));
        EXPECT(0x50, gbc.readMem(0xb473));
        // CB 50 004C
        gbc.setState(0x57c2, 0xf400, 0x6fe0, 0x4213, 0xe413, 0x2a1c, 0x1, 0x1);
        gbc.writeMem(0x57c2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xf400, gbc.sp());
        EXPECT(0x57c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 004D
        gbc.setState(0xe93, 0x2346, 0x4220, 0xa907, 0x35bd, 0x52a5, 0x0, 0x1);
        gbc.writeMem(0xe93, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x2346, gbc.sp());
        EXPECT(0xe95, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 004F
        gbc.setState(0xef99, 0x270b, 0x5120, 0x4336, 0xb081, 0xdff5, 0x0, 0x0);
        gbc.writeMem(0xef99, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x270b, gbc.sp());
        EXPECT(0xef9b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef99));
        EXPECT(0x50, gbc.readMem(0xef9a));
        // CB 50 0050
        gbc.setState(0xd33d, 0x947a, 0xf920, 0x7c13, 0x3a42, 0x943d, 0x1, 0x1);
        gbc.writeMem(0xd33d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x947a, gbc.sp());
        EXPECT(0xd33f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd33d));
        EXPECT(0x50, gbc.readMem(0xd33e));
        // CB 50 0051
        gbc.setState(0x48cf, 0xba07, 0xad50, 0x2a2d, 0x3ada, 0xadea, 0x0, 0x1);
        gbc.writeMem(0x48cf, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xba07, gbc.sp());
        EXPECT(0x48d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0053
        gbc.setState(0x25a1, 0x57cf, 0x880, 0x2ef7, 0x25a9, 0x7cc, 0x1, 0x0);
        gbc.writeMem(0x25a1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x57cf, gbc.sp());
        EXPECT(0x25a3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0054
        gbc.setState(0x154a, 0x3473, 0x4230, 0xf0ca, 0xbe8, 0x471c, 0x0, 0x0);
        gbc.writeMem(0x154a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x3473, gbc.sp());
        EXPECT(0x154c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0055
        gbc.setState(0xaade, 0x9dbb, 0xc250, 0xe9a0, 0xe248, 0x49be, 0x0, 0x1);
        gbc.writeMem(0xaade, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x9dbb, gbc.sp());
        EXPECT(0xaae0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaade));
        EXPECT(0x50, gbc.readMem(0xaadf));
        // CB 50 0056
        gbc.setState(0xb545, 0x4241, 0xedb0, 0x2265, 0x7173, 0xacf0, 0x1, 0x1);
        gbc.writeMem(0xb545, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x4241, gbc.sp());
        EXPECT(0xb547, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb545));
        EXPECT(0x50, gbc.readMem(0xb546));
        // CB 50 0057
        gbc.setState(0xbd9a, 0x90e1, 0xae80, 0x4950, 0x421d, 0x1b29, 0x1, 0x1);
        gbc.writeMem(0xbd9a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x90e1, gbc.sp());
        EXPECT(0xbd9c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd9a));
        EXPECT(0x50, gbc.readMem(0xbd9b));
        // CB 50 0058
        gbc.setState(0x97a0, 0x7cf9, 0x6060, 0xea6, 0xc5ac, 0x5056, 0x1, 0x1);
        gbc.writeMem(0x97a0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x7cf9, gbc.sp());
        EXPECT(0x97a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x97a0));
        EXPECT(0x50, gbc.readMem(0x97a1));
        // CB 50 0059
        gbc.setState(0xe669, 0xd7b3, 0xe8a0, 0x6007, 0x254b, 0x37a7, 0x0, 0x1);
        gbc.writeMem(0xe669, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xd7b3, gbc.sp());
        EXPECT(0xe66b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe669));
        EXPECT(0x50, gbc.readMem(0xe66a));
        // CB 50 005A
        gbc.setState(0x459d, 0xfe63, 0xf670, 0xeaa8, 0xc7a0, 0xd144, 0x1, 0x1);
        gbc.writeMem(0x459d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xfe63, gbc.sp());
        EXPECT(0x459f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 005B
        gbc.setState(0x4016, 0x2505, 0x8d30, 0x3a8b, 0xffbd, 0xe821, 0x0, 0x1);
        gbc.writeMem(0x4016, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x2505, gbc.sp());
        EXPECT(0x4018, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 005C
        gbc.setState(0x1ca2, 0x579f, 0x3780, 0x8c8f, 0x3040, 0x7e45, 0x1, 0x1);
        gbc.writeMem(0x1ca2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x579f, gbc.sp());
        EXPECT(0x1ca4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 005D
        gbc.setState(0xb2a5, 0x19f0, 0x6e00, 0xe562, 0x621f, 0xc911, 0x1, 0x1);
        gbc.writeMem(0xb2a5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x19f0, gbc.sp());
        EXPECT(0xb2a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb2a5));
        EXPECT(0x50, gbc.readMem(0xb2a6));
        // CB 50 005E
        gbc.setState(0x7e3, 0xb573, 0x7c50, 0x88c, 0xcba1, 0xbc69, 0x1, 0x1);
        gbc.writeMem(0x7e3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xb573, gbc.sp());
        EXPECT(0x7e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 005F
        gbc.setState(0x7fdd, 0x9b00, 0x9160, 0x9339, 0xfa60, 0x4d53, 0x1, 0x0);
        gbc.writeMem(0x7fdd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x9b00, gbc.sp());
        EXPECT(0x7fdf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0060
        gbc.setState(0x2644, 0xb886, 0x1440, 0x25c8, 0x3f17, 0xe6ae, 0x1, 0x0);
        gbc.writeMem(0x2644, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xb886, gbc.sp());
        EXPECT(0x2646, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0061
        gbc.setState(0x3277, 0x6384, 0xd210, 0x4575, 0x541a, 0x91a8, 0x0, 0x0);
        gbc.writeMem(0x3277, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x6384, gbc.sp());
        EXPECT(0x3279, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0062
        gbc.setState(0x78af, 0x4f07, 0xf350, 0x7126, 0x1277, 0xf150, 0x1, 0x1);
        gbc.writeMem(0x78af, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x4f07, gbc.sp());
        EXPECT(0x78b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0063
        gbc.setState(0x665, 0xe534, 0x20e0, 0x400a, 0x8ce3, 0x4f52, 0x1, 0x1);
        gbc.writeMem(0x665, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xe534, gbc.sp());
        EXPECT(0x667, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0064
        gbc.setState(0xe995, 0x4127, 0x4110, 0xa728, 0xc685, 0xdbe7, 0x0, 0x0);
        gbc.writeMem(0xe995, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x4127, gbc.sp());
        EXPECT(0xe997, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe995));
        EXPECT(0x50, gbc.readMem(0xe996));
        // CB 50 0065
        gbc.setState(0xc9a1, 0x8ccf, 0xd660, 0xe374, 0xc677, 0x47a, 0x1, 0x0);
        gbc.writeMem(0xc9a1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x8ccf, gbc.sp());
        EXPECT(0xc9a3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc9a1));
        EXPECT(0x50, gbc.readMem(0xc9a2));
        // CB 50 0066
        gbc.setState(0x814f, 0x1098, 0xd70, 0x40, 0x6a52, 0xd1b3, 0x0, 0x1);
        gbc.writeMem(0x814f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x1098, gbc.sp());
        EXPECT(0x8151, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x814f));
        EXPECT(0x50, gbc.readMem(0x8150));
        // CB 50 0067
        gbc.setState(0x5b70, 0xf2a5, 0x78b0, 0x7c3d, 0xaf53, 0x78a2, 0x0, 0x0);
        gbc.writeMem(0x5b70, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xf2a5, gbc.sp());
        EXPECT(0x5b72, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0068
        gbc.setState(0x5fa5, 0x4a9b, 0xc7f0, 0x72bd, 0xd8b1, 0x702e, 0x1, 0x1);
        gbc.writeMem(0x5fa5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x4a9b, gbc.sp());
        EXPECT(0x5fa7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0069
        gbc.setState(0x7553, 0x89d2, 0xa770, 0x2cc7, 0x2237, 0x4aef, 0x1, 0x1);
        gbc.writeMem(0x7553, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x89d2, gbc.sp());
        EXPECT(0x7555, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 006A
        gbc.setState(0x3d73, 0xceba, 0xc390, 0x7fe0, 0x1aae, 0x11de, 0x0, 0x1);
        gbc.writeMem(0x3d73, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xceba, gbc.sp());
        EXPECT(0x3d75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 006B
        gbc.setState(0x31f8, 0xa237, 0xa0d0, 0x3d3, 0x646d, 0xb1bd, 0x1, 0x1);
        gbc.writeMem(0x31f8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xa237, gbc.sp());
        EXPECT(0x31fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 006C
        gbc.setState(0xe7e5, 0xce92, 0xdec0, 0x2ffe, 0x8a93, 0x3bb1, 0x0, 0x1);
        gbc.writeMem(0xe7e5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xce92, gbc.sp());
        EXPECT(0xe7e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe7e5));
        EXPECT(0x50, gbc.readMem(0xe7e6));
        // CB 50 006D
        gbc.setState(0x3815, 0xc29f, 0xa490, 0x6b65, 0xe8d4, 0xf4c3, 0x1, 0x0);
        gbc.writeMem(0x3815, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xc29f, gbc.sp());
        EXPECT(0x3817, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 006E
        gbc.setState(0xbb1a, 0xe123, 0x28a0, 0xd926, 0x9213, 0xdd1b, 0x0, 0x1);
        gbc.writeMem(0xbb1a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xe123, gbc.sp());
        EXPECT(0xbb1c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb1a));
        EXPECT(0x50, gbc.readMem(0xbb1b));
        // CB 50 006F
        gbc.setState(0x8bbf, 0x9ad2, 0xa2f0, 0xe064, 0xe824, 0x6016, 0x1, 0x1);
        gbc.writeMem(0x8bbf, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x9ad2, gbc.sp());
        EXPECT(0x8bc1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8bbf));
        EXPECT(0x50, gbc.readMem(0x8bc0));
        // CB 50 0070
        gbc.setState(0x319a, 0x8180, 0x4d50, 0x2b5, 0xd8fe, 0x377e, 0x0, 0x0);
        gbc.writeMem(0x319a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x8180, gbc.sp());
        EXPECT(0x319c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0071
        gbc.setState(0x4e16, 0x1557, 0xaac0, 0x4c1d, 0x5ed9, 0x562, 0x1, 0x0);
        gbc.writeMem(0x4e16, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x1557, gbc.sp());
        EXPECT(0x4e18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0072
        gbc.setState(0x2ca5, 0xf6b7, 0x970, 0x48ad, 0x99fb, 0x67e7, 0x1, 0x0);
        gbc.writeMem(0x2ca5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xf6b7, gbc.sp());
        EXPECT(0x2ca7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0073
        gbc.setState(0xa45b, 0xde41, 0x3cf0, 0xcce0, 0xa6b6, 0x4dae, 0x1, 0x0);
        gbc.writeMem(0xa45b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xde41, gbc.sp());
        EXPECT(0xa45d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa45b));
        EXPECT(0x50, gbc.readMem(0xa45c));
        // CB 50 0074
        gbc.setState(0xd359, 0x413f, 0x8540, 0x6af3, 0x4d4f, 0x9fb6, 0x0, 0x0);
        gbc.writeMem(0xd359, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x413f, gbc.sp());
        EXPECT(0xd35b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd359));
        EXPECT(0x50, gbc.readMem(0xd35a));
        // CB 50 0075
        gbc.setState(0xde9a, 0xd2a6, 0xbf60, 0x8360, 0xfe47, 0x1761, 0x1, 0x1);
        gbc.writeMem(0xde9a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xd2a6, gbc.sp());
        EXPECT(0xde9c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde9a));
        EXPECT(0x50, gbc.readMem(0xde9b));
        // CB 50 0076
        gbc.setState(0x9273, 0x1278, 0x5ce0, 0x9fed, 0x7774, 0x7fca, 0x1, 0x1);
        gbc.writeMem(0x9273, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x1278, gbc.sp());
        EXPECT(0x9275, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9273));
        EXPECT(0x50, gbc.readMem(0x9274));
        // CB 50 0077
        gbc.setState(0x68e, 0x5e82, 0x7a70, 0x4c0c, 0x5173, 0x8a30, 0x1, 0x1);
        gbc.writeMem(0x68e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x5e82, gbc.sp());
        EXPECT(0x690, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0078
        gbc.setState(0x7a52, 0x8966, 0x6ea0, 0xa6ce, 0x5bda, 0x4846, 0x0, 0x1);
        gbc.writeMem(0x7a52, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x8966, gbc.sp());
        EXPECT(0x7a54, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0079
        gbc.setState(0xb7ea, 0xb852, 0xf6b0, 0xd9f5, 0xa5bd, 0xb2f5, 0x1, 0x1);
        gbc.writeMem(0xb7ea, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xb852, gbc.sp());
        EXPECT(0xb7ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7ea));
        EXPECT(0x50, gbc.readMem(0xb7eb));
        // CB 50 007B
        gbc.setState(0x3b75, 0xc990, 0xf3a0, 0x7cd4, 0x6622, 0x324d, 0x1, 0x1);
        gbc.writeMem(0x3b75, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xc990, gbc.sp());
        EXPECT(0x3b77, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 007C
        gbc.setState(0xed2f, 0x4449, 0xcac0, 0x6e76, 0xd2ac, 0x27e, 0x1, 0x0);
        gbc.writeMem(0xed2f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x4449, gbc.sp());
        EXPECT(0xed31, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed2f));
        EXPECT(0x50, gbc.readMem(0xed30));
        // CB 50 007D
        gbc.setState(0x5d31, 0xb103, 0x4870, 0x6b68, 0x9661, 0x7975, 0x0, 0x1);
        gbc.writeMem(0x5d31, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xb103, gbc.sp());
        EXPECT(0x5d33, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 007E
        gbc.setState(0xa6c9, 0x4c90, 0xc360, 0xb0e9, 0x75d1, 0x920, 0x1, 0x0);
        gbc.writeMem(0xa6c9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x4c90, gbc.sp());
        EXPECT(0xa6cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa6c9));
        EXPECT(0x50, gbc.readMem(0xa6ca));
        // CB 50 007F
        gbc.setState(0x912b, 0xa186, 0x38d0, 0x4104, 0x1d1f, 0xe6fa, 0x1, 0x0);
        gbc.writeMem(0x912b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xa186, gbc.sp());
        EXPECT(0x912d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x912b));
        EXPECT(0x50, gbc.readMem(0x912c));
        // CB 50 0080
        gbc.setState(0x6797, 0xa7ac, 0xc9f0, 0x88eb, 0xe6e7, 0x5be5, 0x1, 0x0);
        gbc.writeMem(0x6797, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xa7ac, gbc.sp());
        EXPECT(0x6799, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0081
        gbc.setState(0x56cd, 0xa5c4, 0x50b0, 0x80a6, 0xac24, 0x2a82, 0x0, 0x1);
        gbc.writeMem(0x56cd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xa5c4, gbc.sp());
        EXPECT(0x56cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0082
        gbc.setState(0x4cc1, 0x8f4f, 0x72e0, 0x2059, 0xdf21, 0x9d53, 0x1, 0x1);
        gbc.writeMem(0x4cc1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x8f4f, gbc.sp());
        EXPECT(0x4cc3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0083
        gbc.setState(0x6caf, 0xf915, 0x5c0, 0x77e5, 0xfa4f, 0xb673, 0x1, 0x0);
        gbc.writeMem(0x6caf, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xf915, gbc.sp());
        EXPECT(0x6cb1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0084
        gbc.setState(0x99f2, 0xd5db, 0xb100, 0xee18, 0x711b, 0x3d5c, 0x0, 0x0);
        gbc.writeMem(0x99f2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xd5db, gbc.sp());
        EXPECT(0x99f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99f2));
        EXPECT(0x50, gbc.readMem(0x99f3));
        // CB 50 0085
        gbc.setState(0xa855, 0xab7e, 0xb150, 0x2f45, 0x1670, 0x8414, 0x0, 0x1);
        gbc.writeMem(0xa855, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xab7e, gbc.sp());
        EXPECT(0xa857, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa855));
        EXPECT(0x50, gbc.readMem(0xa856));
        // CB 50 0086
        gbc.setState(0x4ce8, 0xfeb9, 0xab0, 0x789c, 0x9d77, 0x2c0e, 0x0, 0x0);
        gbc.writeMem(0x4ce8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xfeb9, gbc.sp());
        EXPECT(0x4cea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0087
        gbc.setState(0x3b5e, 0x8a9c, 0x1f60, 0xa3a3, 0x900f, 0xee56, 0x1, 0x1);
        gbc.writeMem(0x3b5e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x8a9c, gbc.sp());
        EXPECT(0x3b60, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0088
        gbc.setState(0x6e6c, 0x5133, 0xb950, 0x1098, 0x8e01, 0xac10, 0x1, 0x1);
        gbc.writeMem(0x6e6c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x5133, gbc.sp());
        EXPECT(0x6e6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0089
        gbc.setState(0x1ab1, 0x2bba, 0x36f0, 0x800b, 0xc15e, 0x5b1c, 0x0, 0x1);
        gbc.writeMem(0x1ab1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x2bba, gbc.sp());
        EXPECT(0x1ab3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 008A
        gbc.setState(0x9080, 0x402d, 0x7710, 0x1b25, 0xf40e, 0x3d23, 0x1, 0x0);
        gbc.writeMem(0x9080, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x402d, gbc.sp());
        EXPECT(0x9082, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9080));
        EXPECT(0x50, gbc.readMem(0x9081));
        // CB 50 008B
        gbc.setState(0x686b, 0x5c83, 0xb670, 0x8fa3, 0x741f, 0x5e71, 0x1, 0x1);
        gbc.writeMem(0x686b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x5c83, gbc.sp());
        EXPECT(0x686d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 008C
        gbc.setState(0xb8c, 0x12e4, 0x2830, 0xbc44, 0xa92d, 0x7594, 0x1, 0x0);
        gbc.writeMem(0xb8c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x12e4, gbc.sp());
        EXPECT(0xb8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 008D
        gbc.setState(0xca2c, 0x20aa, 0x450, 0x61c2, 0xf33e, 0xd17, 0x1, 0x0);
        gbc.writeMem(0xca2c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x20aa, gbc.sp());
        EXPECT(0xca2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca2c));
        EXPECT(0x50, gbc.readMem(0xca2d));
        // CB 50 008E
        gbc.setState(0xa3d9, 0xf035, 0x41d0, 0xf401, 0x934f, 0xd57a, 0x1, 0x1);
        gbc.writeMem(0xa3d9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xf035, gbc.sp());
        EXPECT(0xa3db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa3d9));
        EXPECT(0x50, gbc.readMem(0xa3da));
        // CB 50 0090
        gbc.setState(0x2d91, 0xd771, 0xb980, 0xda11, 0x48a1, 0x2f1d, 0x1, 0x0);
        gbc.writeMem(0x2d91, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xd771, gbc.sp());
        EXPECT(0x2d93, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0091
        gbc.setState(0x70ef, 0x9211, 0x7fc0, 0x265, 0xe442, 0x7df2, 0x1, 0x0);
        gbc.writeMem(0x70ef, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x9211, gbc.sp());
        EXPECT(0x70f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0092
        gbc.setState(0xacfc, 0x8342, 0xd590, 0x4124, 0x5545, 0xf55b, 0x1, 0x1);
        gbc.writeMem(0xacfc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x8342, gbc.sp());
        EXPECT(0xacfe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xacfc));
        EXPECT(0x50, gbc.readMem(0xacfd));
        // CB 50 0093
        gbc.setState(0x4ab4, 0x6c6f, 0x1c70, 0x27be, 0xf833, 0x74b5, 0x1, 0x1);
        gbc.writeMem(0x4ab4, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x6c6f, gbc.sp());
        EXPECT(0x4ab6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0094
        gbc.setState(0xd243, 0x4b25, 0xaeb0, 0x6574, 0x121b, 0xe299, 0x1, 0x1);
        gbc.writeMem(0xd243, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x4b25, gbc.sp());
        EXPECT(0xd245, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd243));
        EXPECT(0x50, gbc.readMem(0xd244));
        // CB 50 0095
        gbc.setState(0xbca9, 0xda1d, 0x7aa0, 0x9d49, 0x7341, 0xf7b3, 0x0, 0x0);
        gbc.writeMem(0xbca9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xda1d, gbc.sp());
        EXPECT(0xbcab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbca9));
        EXPECT(0x50, gbc.readMem(0xbcaa));
        // CB 50 0096
        gbc.setState(0xd110, 0x942f, 0x46b0, 0xbe40, 0x407, 0x9d82, 0x0, 0x0);
        gbc.writeMem(0xd110, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x942f, gbc.sp());
        EXPECT(0xd112, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd110));
        EXPECT(0x50, gbc.readMem(0xd111));
        // CB 50 0097
        gbc.setState(0x4c3, 0xd291, 0x3ba0, 0x3434, 0xe47a, 0xd001, 0x0, 0x1);
        gbc.writeMem(0x4c3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xd291, gbc.sp());
        EXPECT(0x4c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0098
        gbc.setState(0x1b2d, 0x215a, 0xf80, 0xd2c6, 0xb182, 0x4425, 0x0, 0x0);
        gbc.writeMem(0x1b2d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x215a, gbc.sp());
        EXPECT(0x1b2f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0099
        gbc.setState(0x6ee1, 0x28f0, 0x6990, 0xe733, 0xcae, 0xc473, 0x0, 0x0);
        gbc.writeMem(0x6ee1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x28f0, gbc.sp());
        EXPECT(0x6ee3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 009A
        gbc.setState(0xccd2, 0x8434, 0x8c70, 0x4195, 0x4c18, 0x6b5e, 0x1, 0x1);
        gbc.writeMem(0xccd2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x8434, gbc.sp());
        EXPECT(0xccd4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xccd2));
        EXPECT(0x50, gbc.readMem(0xccd3));
        // CB 50 009B
        gbc.setState(0x70ff, 0xd14f, 0x71d0, 0x1262, 0x3e6b, 0x23d5, 0x1, 0x1);
        gbc.writeMem(0x70ff, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xd14f, gbc.sp());
        EXPECT(0x7101, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 009C
        gbc.setState(0x4acd, 0xce2d, 0x9dc0, 0x1ab, 0xa1e2, 0xfe94, 0x0, 0x0);
        gbc.writeMem(0x4acd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xce2d, gbc.sp());
        EXPECT(0x4acf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 009D
        gbc.setState(0x2e28, 0xd527, 0xb110, 0xb747, 0x87bf, 0x9e8f, 0x1, 0x0);
        gbc.writeMem(0x2e28, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xd527, gbc.sp());
        EXPECT(0x2e2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 009E
        gbc.setState(0x24f, 0x5854, 0x4500, 0xff98, 0xb1f0, 0xebcc, 0x1, 0x1);
        gbc.writeMem(0x24f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x5854, gbc.sp());
        EXPECT(0x251, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 009F
        gbc.setState(0xcb9c, 0xfe20, 0xdd50, 0x2472, 0x6e8a, 0x9002, 0x1, 0x0);
        gbc.writeMem(0xcb9c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xfe20, gbc.sp());
        EXPECT(0xcb9e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb9c));
        EXPECT(0x50, gbc.readMem(0xcb9d));
        // CB 50 00A0
        gbc.setState(0xbf5c, 0x3546, 0xf8d0, 0x109b, 0xaea2, 0x625c, 0x0, 0x0);
        gbc.writeMem(0xbf5c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x3546, gbc.sp());
        EXPECT(0xbf5e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf5c));
        EXPECT(0x50, gbc.readMem(0xbf5d));
        // CB 50 00A1
        gbc.setState(0xcd95, 0xe221, 0x90d0, 0x9f86, 0x3adf, 0x4d42, 0x1, 0x1);
        gbc.writeMem(0xcd95, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xe221, gbc.sp());
        EXPECT(0xcd97, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd95));
        EXPECT(0x50, gbc.readMem(0xcd96));
        // CB 50 00A2
        gbc.setState(0x9caa, 0xb4b0, 0xadc0, 0x53a6, 0xf23a, 0xcb37, 0x0, 0x1);
        gbc.writeMem(0x9caa, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xb4b0, gbc.sp());
        EXPECT(0x9cac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9caa));
        EXPECT(0x50, gbc.readMem(0x9cab));
        // CB 50 00A3
        gbc.setState(0x691, 0x280c, 0xfd00, 0x8725, 0xc88, 0xa423, 0x0, 0x1);
        gbc.writeMem(0x691, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x280c, gbc.sp());
        EXPECT(0x693, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00A4
        gbc.setState(0xb86, 0xde79, 0xb8b0, 0xaa4f, 0x50b3, 0xf487, 0x1, 0x0);
        gbc.writeMem(0xb86, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xde79, gbc.sp());
        EXPECT(0xb88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00A5
        gbc.setState(0x367, 0x7fad, 0x9660, 0x9b76, 0xd105, 0x6a02, 0x0, 0x1);
        gbc.writeMem(0x367, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x7fad, gbc.sp());
        EXPECT(0x369, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00A6
        gbc.setState(0x4823, 0x77bf, 0xac70, 0x946, 0xc7f0, 0x9e1e, 0x0, 0x0);
        gbc.writeMem(0x4823, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x77bf, gbc.sp());
        EXPECT(0x4825, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00A7
        gbc.setState(0xcadf, 0xb032, 0x6bf0, 0xfcac, 0xef19, 0x5315, 0x1, 0x0);
        gbc.writeMem(0xcadf, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xb032, gbc.sp());
        EXPECT(0xcae1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcadf));
        EXPECT(0x50, gbc.readMem(0xcae0));
        // CB 50 00A8
        gbc.setState(0x1677, 0x1160, 0x9380, 0x7b61, 0x83c2, 0x39f0, 0x0, 0x1);
        gbc.writeMem(0x1677, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x1160, gbc.sp());
        EXPECT(0x1679, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00A9
        gbc.setState(0xbe2b, 0x3b44, 0xd2f0, 0x96c6, 0x8f3a, 0xeaf, 0x1, 0x1);
        gbc.writeMem(0xbe2b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x3b44, gbc.sp());
        EXPECT(0xbe2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe2b));
        EXPECT(0x50, gbc.readMem(0xbe2c));
        // CB 50 00AA
        gbc.setState(0x2828, 0xa2cd, 0x7760, 0xfb91, 0x63a6, 0x5cf0, 0x1, 0x0);
        gbc.writeMem(0x2828, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xa2cd, gbc.sp());
        EXPECT(0x282a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00AB
        gbc.setState(0x9ee6, 0x9b1d, 0x56b0, 0x7af0, 0xdc61, 0xf62c, 0x1, 0x1);
        gbc.writeMem(0x9ee6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x9b1d, gbc.sp());
        EXPECT(0x9ee8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9ee6));
        EXPECT(0x50, gbc.readMem(0x9ee7));
        // CB 50 00AC
        gbc.setState(0x10fa, 0xeb08, 0x12a0, 0x2750, 0xf0a4, 0x8ed8, 0x0, 0x0);
        gbc.writeMem(0x10fa, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xeb08, gbc.sp());
        EXPECT(0x10fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00AD
        gbc.setState(0xc44f, 0xa7b6, 0xb8f0, 0x25b0, 0x674c, 0x3763, 0x1, 0x1);
        gbc.writeMem(0xc44f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xa7b6, gbc.sp());
        EXPECT(0xc451, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc44f));
        EXPECT(0x50, gbc.readMem(0xc450));
        // CB 50 00AE
        gbc.setState(0x1af9, 0xd82d, 0xd170, 0xcc3d, 0x1128, 0xeb0b, 0x1, 0x1);
        gbc.writeMem(0x1af9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xd82d, gbc.sp());
        EXPECT(0x1afb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00AF
        gbc.setState(0x845a, 0x2ab3, 0xdfd0, 0x128c, 0xbcbe, 0x533e, 0x1, 0x0);
        gbc.writeMem(0x845a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x2ab3, gbc.sp());
        EXPECT(0x845c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x845a));
        EXPECT(0x50, gbc.readMem(0x845b));
        // CB 50 00B0
        gbc.setState(0x9b99, 0x8e65, 0xdc90, 0x3e3f, 0x1789, 0xe083, 0x0, 0x1);
        gbc.writeMem(0x9b99, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x8e65, gbc.sp());
        EXPECT(0x9b9b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b99));
        EXPECT(0x50, gbc.readMem(0x9b9a));
        // CB 50 00B1
        gbc.setState(0x8df2, 0x6e40, 0xdfa0, 0x2ea3, 0xd382, 0x161e, 0x1, 0x0);
        gbc.writeMem(0x8df2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x6e40, gbc.sp());
        EXPECT(0x8df4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8df2));
        EXPECT(0x50, gbc.readMem(0x8df3));
        // CB 50 00B2
        gbc.setState(0x9ac3, 0x8762, 0xd870, 0x7189, 0xf854, 0x4de7, 0x1, 0x0);
        gbc.writeMem(0x9ac3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x8762, gbc.sp());
        EXPECT(0x9ac5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9ac3));
        EXPECT(0x50, gbc.readMem(0x9ac4));
        // CB 50 00B3
        gbc.setState(0x7b8d, 0x4d44, 0x4b40, 0x4e4, 0xe072, 0x944f, 0x0, 0x0);
        gbc.writeMem(0x7b8d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x4d44, gbc.sp());
        EXPECT(0x7b8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00B4
        gbc.setState(0xd6a9, 0x408, 0x4c10, 0x4289, 0x3820, 0x1d78, 0x0, 0x1);
        gbc.writeMem(0xd6a9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x408, gbc.sp());
        EXPECT(0xd6ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6a9));
        EXPECT(0x50, gbc.readMem(0xd6aa));
        // CB 50 00B5
        gbc.setState(0xa144, 0x9b49, 0x9080, 0xd0db, 0x4c69, 0xf32d, 0x0, 0x0);
        gbc.writeMem(0xa144, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x9b49, gbc.sp());
        EXPECT(0xa146, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa144));
        EXPECT(0x50, gbc.readMem(0xa145));
        // CB 50 00B6
        gbc.setState(0x1e87, 0x1ba8, 0x1030, 0x9ec2, 0xf993, 0x488b, 0x0, 0x1);
        gbc.writeMem(0x1e87, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x1ba8, gbc.sp());
        EXPECT(0x1e89, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00B7
        gbc.setState(0x8a0e, 0x11c8, 0xb240, 0xe7e1, 0x49a, 0xf6dc, 0x0, 0x1);
        gbc.writeMem(0x8a0e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x11c8, gbc.sp());
        EXPECT(0x8a10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a0e));
        EXPECT(0x50, gbc.readMem(0x8a0f));
        // CB 50 00B8
        gbc.setState(0x7902, 0x4664, 0x2a70, 0x550c, 0xd099, 0x9f7e, 0x0, 0x0);
        gbc.writeMem(0x7902, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x4664, gbc.sp());
        EXPECT(0x7904, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00B9
        gbc.setState(0xb60e, 0x79db, 0xed80, 0xf95d, 0xfcb1, 0x5778, 0x0, 0x1);
        gbc.writeMem(0xb60e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x79db, gbc.sp());
        EXPECT(0xb610, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb60e));
        EXPECT(0x50, gbc.readMem(0xb60f));
        // CB 50 00BA
        gbc.setState(0xd114, 0xe5d6, 0x59b0, 0xf7a2, 0x2eda, 0xdd8a, 0x1, 0x1);
        gbc.writeMem(0xd114, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xe5d6, gbc.sp());
        EXPECT(0xd116, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd114));
        EXPECT(0x50, gbc.readMem(0xd115));
        // CB 50 00BB
        gbc.setState(0x169c, 0xa4a0, 0xfb40, 0x66c3, 0x2a4d, 0x8dc1, 0x0, 0x0);
        gbc.writeMem(0x169c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xa4a0, gbc.sp());
        EXPECT(0x169e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00BC
        gbc.setState(0x5bfa, 0x11bc, 0xee20, 0x4372, 0xe56b, 0x90df, 0x0, 0x0);
        gbc.writeMem(0x5bfa, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x11bc, gbc.sp());
        EXPECT(0x5bfc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00BD
        gbc.setState(0xc1b9, 0x9977, 0x13b0, 0x582c, 0xe286, 0x1548, 0x1, 0x0);
        gbc.writeMem(0xc1b9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x9977, gbc.sp());
        EXPECT(0xc1bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc1b9));
        EXPECT(0x50, gbc.readMem(0xc1ba));
        // CB 50 00BE
        gbc.setState(0xed0, 0xc148, 0x8510, 0x7e47, 0xa022, 0xc047, 0x1, 0x0);
        gbc.writeMem(0xed0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xc148, gbc.sp());
        EXPECT(0xed2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00BF
        gbc.setState(0xce42, 0x1355, 0x9e60, 0x2d65, 0xb23c, 0x6af2, 0x1, 0x0);
        gbc.writeMem(0xce42, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x1355, gbc.sp());
        EXPECT(0xce44, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce42));
        EXPECT(0x50, gbc.readMem(0xce43));
        // CB 50 00C0
        gbc.setState(0xa1c6, 0xc66d, 0xdda0, 0x123c, 0x8791, 0xb75d, 0x0, 0x0);
        gbc.writeMem(0xa1c6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xc66d, gbc.sp());
        EXPECT(0xa1c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1c6));
        EXPECT(0x50, gbc.readMem(0xa1c7));
        // CB 50 00C1
        gbc.setState(0xe62b, 0x771f, 0xdf50, 0xa522, 0xcc8d, 0xc5cd, 0x0, 0x0);
        gbc.writeMem(0xe62b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x771f, gbc.sp());
        EXPECT(0xe62d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe62b));
        EXPECT(0x50, gbc.readMem(0xe62c));
        // CB 50 00C2
        gbc.setState(0x4543, 0xeb35, 0x3ff0, 0xa8db, 0xece8, 0xa3b5, 0x1, 0x1);
        gbc.writeMem(0x4543, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xeb35, gbc.sp());
        EXPECT(0x4545, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00C3
        gbc.setState(0x98bd, 0x8616, 0xcc40, 0xada8, 0xfbc5, 0x8ccc, 0x0, 0x1);
        gbc.writeMem(0x98bd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x8616, gbc.sp());
        EXPECT(0x98bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x98bd));
        EXPECT(0x50, gbc.readMem(0x98be));
        // CB 50 00C4
        gbc.setState(0x213a, 0xe046, 0xdbc0, 0xc0b, 0xddad, 0x1aac, 0x0, 0x0);
        gbc.writeMem(0x213a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xe046, gbc.sp());
        EXPECT(0x213c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00C5
        gbc.setState(0xa7ac, 0x7817, 0x2180, 0x41de, 0x6e41, 0xe0fa, 0x1, 0x1);
        gbc.writeMem(0xa7ac, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x7817, gbc.sp());
        EXPECT(0xa7ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7ac));
        EXPECT(0x50, gbc.readMem(0xa7ad));
        // CB 50 00C6
        gbc.setState(0x21f, 0x461f, 0xd1b0, 0xf7fd, 0xb862, 0xf0ab, 0x0, 0x1);
        gbc.writeMem(0x21f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x461f, gbc.sp());
        EXPECT(0x221, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00C7
        gbc.setState(0xdbbf, 0xdb71, 0x6490, 0x2788, 0xef23, 0xa5fb, 0x1, 0x0);
        gbc.writeMem(0xdbbf, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xdb71, gbc.sp());
        EXPECT(0xdbc1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbbf));
        EXPECT(0x50, gbc.readMem(0xdbc0));
        // CB 50 00C8
        gbc.setState(0x8fe6, 0x355a, 0x21b0, 0xea73, 0x18bd, 0x778f, 0x1, 0x1);
        gbc.writeMem(0x8fe6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x355a, gbc.sp());
        EXPECT(0x8fe8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8fe6));
        EXPECT(0x50, gbc.readMem(0x8fe7));
        // CB 50 00C9
        gbc.setState(0x3632, 0x84eb, 0x37c0, 0x58c3, 0x30cd, 0x4d6e, 0x0, 0x1);
        gbc.writeMem(0x3632, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x84eb, gbc.sp());
        EXPECT(0x3634, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00CA
        gbc.setState(0x8e76, 0x96de, 0x92e0, 0x81d9, 0x649a, 0xfe70, 0x0, 0x1);
        gbc.writeMem(0x8e76, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x96de, gbc.sp());
        EXPECT(0x8e78, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e76));
        EXPECT(0x50, gbc.readMem(0x8e77));
        // CB 50 00CB
        gbc.setState(0xb0bd, 0x5532, 0x1530, 0x1e93, 0x6032, 0x6567, 0x1, 0x0);
        gbc.writeMem(0xb0bd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x5532, gbc.sp());
        EXPECT(0xb0bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb0bd));
        EXPECT(0x50, gbc.readMem(0xb0be));
        // CB 50 00CC
        gbc.setState(0xdc78, 0x21e9, 0x8f10, 0x4134, 0x6ca2, 0x16fa, 0x1, 0x0);
        gbc.writeMem(0xdc78, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x21e9, gbc.sp());
        EXPECT(0xdc7a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc78));
        EXPECT(0x50, gbc.readMem(0xdc79));
        // CB 50 00CD
        gbc.setState(0x6d34, 0x9349, 0x5250, 0x3398, 0x8716, 0x45d3, 0x1, 0x0);
        gbc.writeMem(0x6d34, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x9349, gbc.sp());
        EXPECT(0x6d36, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00CE
        gbc.setState(0x39e6, 0x4cfd, 0xa3c0, 0xd28d, 0x8569, 0x2460, 0x1, 0x1);
        gbc.writeMem(0x39e6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x4cfd, gbc.sp());
        EXPECT(0x39e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00CF
        gbc.setState(0x901e, 0xbda3, 0x4950, 0x22d6, 0x814b, 0x4e83, 0x1, 0x1);
        gbc.writeMem(0x901e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xbda3, gbc.sp());
        EXPECT(0x9020, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x901e));
        EXPECT(0x50, gbc.readMem(0x901f));
        // CB 50 00D0
        gbc.setState(0x547a, 0x6ddf, 0xc600, 0x7717, 0x969b, 0xab73, 0x1, 0x0);
        gbc.writeMem(0x547a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x6ddf, gbc.sp());
        EXPECT(0x547c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00D1
        gbc.setState(0x8767, 0x1b3c, 0xa060, 0xd036, 0xb9bb, 0x15f0, 0x1, 0x0);
        gbc.writeMem(0x8767, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x1b3c, gbc.sp());
        EXPECT(0x8769, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8767));
        EXPECT(0x50, gbc.readMem(0x8768));
        // CB 50 00D2
        gbc.setState(0x39f6, 0xc994, 0xacb0, 0xd85e, 0x2220, 0x3988, 0x0, 0x1);
        gbc.writeMem(0x39f6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xc994, gbc.sp());
        EXPECT(0x39f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00D3
        gbc.setState(0xc3fe, 0x8333, 0x53b0, 0x82e2, 0x3cc9, 0x4d7a, 0x0, 0x0);
        gbc.writeMem(0xc3fe, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x8333, gbc.sp());
        EXPECT(0xc400, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3fe));
        EXPECT(0x50, gbc.readMem(0xc3ff));
        // CB 50 00D4
        gbc.setState(0x3da0, 0xbad5, 0x3f80, 0xbb04, 0xad96, 0x77eb, 0x0, 0x0);
        gbc.writeMem(0x3da0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xbad5, gbc.sp());
        EXPECT(0x3da2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00D5
        gbc.setState(0xa250, 0x3ec7, 0x6280, 0xd710, 0x62a4, 0x7646, 0x1, 0x0);
        gbc.writeMem(0xa250, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x3ec7, gbc.sp());
        EXPECT(0xa252, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa250));
        EXPECT(0x50, gbc.readMem(0xa251));
        // CB 50 00D6
        gbc.setState(0xaee7, 0xe78, 0x4fe0, 0x91ea, 0x2cab, 0x7f1f, 0x0, 0x1);
        gbc.writeMem(0xaee7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xe78, gbc.sp());
        EXPECT(0xaee9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaee7));
        EXPECT(0x50, gbc.readMem(0xaee8));
        // CB 50 00D7
        gbc.setState(0x53fe, 0xe1b5, 0xcdc0, 0x313e, 0xb8f1, 0xe2a1, 0x1, 0x0);
        gbc.writeMem(0x53fe, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xe1b5, gbc.sp());
        EXPECT(0x5400, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00D8
        gbc.setState(0xbb3b, 0x7fd8, 0x7df0, 0x4fb4, 0xd347, 0x22c4, 0x1, 0x1);
        gbc.writeMem(0xbb3b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x7fd8, gbc.sp());
        EXPECT(0xbb3d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb3b));
        EXPECT(0x50, gbc.readMem(0xbb3c));
        // CB 50 00D9
        gbc.setState(0x4dc, 0x3404, 0xb5a0, 0xfc8d, 0xbc9e, 0x664, 0x0, 0x0);
        gbc.writeMem(0x4dc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x3404, gbc.sp());
        EXPECT(0x4de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00DA
        gbc.setState(0x34e, 0x9244, 0x29c0, 0x58f2, 0xbb89, 0xd547, 0x0, 0x1);
        gbc.writeMem(0x34e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x9244, gbc.sp());
        EXPECT(0x350, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00DB
        gbc.setState(0x9f7d, 0x1bab, 0xac40, 0x6dda, 0xc71f, 0x5012, 0x1, 0x1);
        gbc.writeMem(0x9f7d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x1bab, gbc.sp());
        EXPECT(0x9f7f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f7d));
        EXPECT(0x50, gbc.readMem(0x9f7e));
        // CB 50 00DD
        gbc.setState(0x3e07, 0x8946, 0xb3a0, 0x8cf2, 0x2b8b, 0xac40, 0x1, 0x1);
        gbc.writeMem(0x3e07, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x8946, gbc.sp());
        EXPECT(0x3e09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00DE
        gbc.setState(0x5953, 0x8c54, 0xfcf0, 0x2966, 0xb495, 0x4a16, 0x0, 0x1);
        gbc.writeMem(0x5953, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x8c54, gbc.sp());
        EXPECT(0x5955, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00DF
        gbc.setState(0x5d47, 0x30c9, 0x6860, 0xf46a, 0xa64a, 0xb20f, 0x0, 0x0);
        gbc.writeMem(0x5d47, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x30c9, gbc.sp());
        EXPECT(0x5d49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00E0
        gbc.setState(0x64ed, 0xff2a, 0xaa80, 0x420c, 0xfb84, 0xc605, 0x0, 0x1);
        gbc.writeMem(0x64ed, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xff2a, gbc.sp());
        EXPECT(0x64ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00E1
        gbc.setState(0x3a25, 0x7610, 0x2aa0, 0x3575, 0x1e5e, 0xb358, 0x0, 0x0);
        gbc.writeMem(0x3a25, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x7610, gbc.sp());
        EXPECT(0x3a27, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00E2
        gbc.setState(0x1029, 0xef38, 0x2730, 0x47da, 0xa61a, 0x328a, 0x1, 0x0);
        gbc.writeMem(0x1029, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xef38, gbc.sp());
        EXPECT(0x102b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00E3
        gbc.setState(0xcdb7, 0x9ebd, 0xc710, 0xcb57, 0x9a5e, 0x9711, 0x1, 0x1);
        gbc.writeMem(0xcdb7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x9ebd, gbc.sp());
        EXPECT(0xcdb9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcdb7));
        EXPECT(0x50, gbc.readMem(0xcdb8));
        // CB 50 00E4
        gbc.setState(0xcc1b, 0x966c, 0xde0, 0x3483, 0xc0a1, 0x78cd, 0x1, 0x0);
        gbc.writeMem(0xcc1b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x966c, gbc.sp());
        EXPECT(0xcc1d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc1b));
        EXPECT(0x50, gbc.readMem(0xcc1c));
        // CB 50 00E5
        gbc.setState(0x3ebb, 0xb38a, 0x7190, 0xc878, 0x2ad3, 0xe553, 0x0, 0x1);
        gbc.writeMem(0x3ebb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xb38a, gbc.sp());
        EXPECT(0x3ebd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00E7
        gbc.setState(0xc934, 0x9cb0, 0xb880, 0x69be, 0x876e, 0x5761, 0x1, 0x1);
        gbc.writeMem(0xc934, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x9cb0, gbc.sp());
        EXPECT(0xc936, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc934));
        EXPECT(0x50, gbc.readMem(0xc935));
        // CB 50 00E8
        gbc.setState(0x8e, 0xa376, 0x7ac0, 0x2415, 0x8ce6, 0xeace, 0x1, 0x0);
        gbc.writeMem(0x8e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xa376, gbc.sp());
        EXPECT(0x90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00E9
        gbc.setState(0x2b5c, 0x79fd, 0x56e0, 0x735d, 0x5a3, 0x117e, 0x0, 0x0);
        gbc.writeMem(0x2b5c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x79fd, gbc.sp());
        EXPECT(0x2b5e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00EA
        gbc.setState(0x963, 0xf9da, 0xe100, 0xcc1a, 0x476f, 0x7278, 0x0, 0x1);
        gbc.writeMem(0x963, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xf9da, gbc.sp());
        EXPECT(0x965, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00EB
        gbc.setState(0x11cb, 0xe047, 0x9450, 0x1f46, 0x6e7c, 0xde16, 0x1, 0x1);
        gbc.writeMem(0x11cb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xe047, gbc.sp());
        EXPECT(0x11cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00EC
        gbc.setState(0x776c, 0x7fee, 0xacd0, 0xeb98, 0x5c58, 0x8297, 0x1, 0x0);
        gbc.writeMem(0x776c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x7fee, gbc.sp());
        EXPECT(0x776e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00ED
        gbc.setState(0x758d, 0xb6b8, 0x73e0, 0x4e2, 0xdf1c, 0x8847, 0x1, 0x1);
        gbc.writeMem(0x758d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xb6b8, gbc.sp());
        EXPECT(0x758f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00EE
        gbc.setState(0x33b4, 0xb527, 0x5630, 0xba29, 0x2cee, 0xdd85, 0x1, 0x1);
        gbc.writeMem(0x33b4, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xb527, gbc.sp());
        EXPECT(0x33b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00EF
        gbc.setState(0x129d, 0x24e3, 0x55d0, 0xeab5, 0xf54f, 0xb424, 0x1, 0x1);
        gbc.writeMem(0x129d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x24e3, gbc.sp());
        EXPECT(0x129f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00F0
        gbc.setState(0x4a00, 0x72c, 0xcf00, 0x1cf3, 0x3b4d, 0x3e5c, 0x0, 0x0);
        gbc.writeMem(0x4a00, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x72c, gbc.sp());
        EXPECT(0x4a02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00F1
        gbc.setState(0x4f2f, 0x5f7b, 0x8650, 0xcf3d, 0x7b7d, 0x8b0d, 0x0, 0x0);
        gbc.writeMem(0x4f2f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x5f7b, gbc.sp());
        EXPECT(0x4f31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00F2
        gbc.setState(0xd499, 0x5a19, 0x8d10, 0x2248, 0xc638, 0x710b, 0x0, 0x1);
        gbc.writeMem(0xd499, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x5a19, gbc.sp());
        EXPECT(0xd49b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd499));
        EXPECT(0x50, gbc.readMem(0xd49a));
        // CB 50 00F3
        gbc.setState(0x62e3, 0xd39, 0xaef0, 0xa65, 0xe9e0, 0xddf6, 0x1, 0x0);
        gbc.writeMem(0x62e3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xd39, gbc.sp());
        EXPECT(0x62e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00F4
        gbc.setState(0x3a51, 0xc609, 0x8c30, 0x31ab, 0x281, 0xe932, 0x1, 0x0);
        gbc.writeMem(0x3a51, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xc609, gbc.sp());
        EXPECT(0x3a53, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00F5
        gbc.setState(0x690f, 0x4ad6, 0xfc60, 0xae88, 0xde8f, 0xc3b1, 0x1, 0x0);
        gbc.writeMem(0x690f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x4ad6, gbc.sp());
        EXPECT(0x6911, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00F6
        gbc.setState(0x39a9, 0x3232, 0x7f40, 0x1da9, 0x2613, 0xc1f3, 0x1, 0x1);
        gbc.writeMem(0x39a9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x3232, gbc.sp());
        EXPECT(0x39ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 00F7
        gbc.setState(0x962f, 0x775b, 0x7680, 0x2add, 0x7436, 0x9167, 0x0, 0x0);
        gbc.writeMem(0x962f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x775b, gbc.sp());
        EXPECT(0x9631, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x962f));
        EXPECT(0x50, gbc.readMem(0x9630));
        // CB 50 00F8
        gbc.setState(0xb531, 0x3074, 0xd500, 0xc44, 0x9a7f, 0xd71e, 0x1, 0x0);
        gbc.writeMem(0xb531, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x3074, gbc.sp());
        EXPECT(0xb533, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb531));
        EXPECT(0x50, gbc.readMem(0xb532));
        // CB 50 00F9
        gbc.setState(0xc636, 0xbbc9, 0xd650, 0x925a, 0xcfad, 0x66b1, 0x1, 0x1);
        gbc.writeMem(0xc636, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xbbc9, gbc.sp());
        EXPECT(0xc638, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc636));
        EXPECT(0x50, gbc.readMem(0xc637));
        // CB 50 00FA
        gbc.setState(0x44, 0x64f8, 0x75f0, 0x5d8, 0x318, 0x92f4, 0x1, 0x0);
        gbc.writeMem(0x44, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x64f8, gbc.sp());
        EXPECT(0x46, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00FB
        gbc.setState(0xab6, 0xfd81, 0xd5f0, 0x25e, 0xbf19, 0x70bd, 0x0, 0x0);
        gbc.writeMem(0xab6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xfd81, gbc.sp());
        EXPECT(0xab8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00FC
        gbc.setState(0xa270, 0xb034, 0xcf30, 0xb207, 0xaa3, 0x50c0, 0x1, 0x0);
        gbc.writeMem(0xa270, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xb034, gbc.sp());
        EXPECT(0xa272, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa270));
        EXPECT(0x50, gbc.readMem(0xa271));
        // CB 50 00FD
        gbc.setState(0xa583, 0xa2cf, 0xc540, 0x3b6d, 0xd341, 0x8cdb, 0x0, 0x0);
        gbc.writeMem(0xa583, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xa2cf, gbc.sp());
        EXPECT(0xa585, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa583));
        EXPECT(0x50, gbc.readMem(0xa584));
        // CB 50 00FE
        gbc.setState(0xbb5, 0xc657, 0xa2f0, 0xf878, 0x75ae, 0x225d, 0x1, 0x0);
        gbc.writeMem(0xbb5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xc657, gbc.sp());
        EXPECT(0xbb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 00FF
        gbc.setState(0xae4e, 0x23d5, 0xf650, 0x85f0, 0x92d, 0xd28, 0x0, 0x0);
        gbc.writeMem(0xae4e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x23d5, gbc.sp());
        EXPECT(0xae50, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae4e));
        EXPECT(0x50, gbc.readMem(0xae4f));
        // CB 50 0100
        gbc.setState(0x2a2d, 0x62fa, 0x22f0, 0x8926, 0x845c, 0x31d2, 0x1, 0x0);
        gbc.writeMem(0x2a2d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x62fa, gbc.sp());
        EXPECT(0x2a2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0101
        gbc.setState(0xcee5, 0x52a2, 0x95a0, 0x40e8, 0xdbfd, 0x6d95, 0x1, 0x0);
        gbc.writeMem(0xcee5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x52a2, gbc.sp());
        EXPECT(0xcee7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcee5));
        EXPECT(0x50, gbc.readMem(0xcee6));
        // CB 50 0103
        gbc.setState(0xc198, 0x7869, 0xa950, 0x9d91, 0x8270, 0x315c, 0x0, 0x1);
        gbc.writeMem(0xc198, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x7869, gbc.sp());
        EXPECT(0xc19a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc198));
        EXPECT(0x50, gbc.readMem(0xc199));
        // CB 50 0104
        gbc.setState(0x4879, 0x4731, 0xe390, 0xf980, 0xa2c0, 0xb5fb, 0x1, 0x0);
        gbc.writeMem(0x4879, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x4731, gbc.sp());
        EXPECT(0x487b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0105
        gbc.setState(0xeb9a, 0x3021, 0x7600, 0xfc23, 0x215f, 0xfef, 0x1, 0x0);
        gbc.writeMem(0xeb9a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x3021, gbc.sp());
        EXPECT(0xeb9c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb9a));
        EXPECT(0x50, gbc.readMem(0xeb9b));
        // CB 50 0106
        gbc.setState(0x9904, 0x28ed, 0xad10, 0x2f84, 0x304e, 0xe9b1, 0x0, 0x0);
        gbc.writeMem(0x9904, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x28ed, gbc.sp());
        EXPECT(0x9906, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9904));
        EXPECT(0x50, gbc.readMem(0x9905));
        // CB 50 0107
        gbc.setState(0xafa1, 0x5052, 0x460, 0x6c50, 0x1e0f, 0x4f71, 0x1, 0x0);
        gbc.writeMem(0xafa1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x5052, gbc.sp());
        EXPECT(0xafa3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafa1));
        EXPECT(0x50, gbc.readMem(0xafa2));
        // CB 50 0108
        gbc.setState(0x7c7, 0xaece, 0x2b70, 0x389f, 0xaa53, 0x75b4, 0x1, 0x1);
        gbc.writeMem(0x7c7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xaece, gbc.sp());
        EXPECT(0x7c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0109
        gbc.setState(0x3cb8, 0xa7de, 0xcac0, 0x4572, 0x17b, 0x6109, 0x0, 0x0);
        gbc.writeMem(0x3cb8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xa7de, gbc.sp());
        EXPECT(0x3cba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 010A
        gbc.setState(0xd1ff, 0x4e98, 0xb4e0, 0x98e8, 0x6ded, 0x6493, 0x0, 0x1);
        gbc.writeMem(0xd1ff, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x4e98, gbc.sp());
        EXPECT(0xd201, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd1ff));
        EXPECT(0x50, gbc.readMem(0xd200));
        // CB 50 010B
        gbc.setState(0xea07, 0xce6d, 0xe050, 0x7f8a, 0x13ea, 0x88ef, 0x0, 0x0);
        gbc.writeMem(0xea07, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xce6d, gbc.sp());
        EXPECT(0xea09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea07));
        EXPECT(0x50, gbc.readMem(0xea08));
        // CB 50 010C
        gbc.setState(0x7359, 0xaee2, 0x2390, 0x139, 0x2bea, 0xda28, 0x0, 0x1);
        gbc.writeMem(0x7359, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xaee2, gbc.sp());
        EXPECT(0x735b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 010D
        gbc.setState(0xd268, 0xa5cd, 0xbd60, 0x37d, 0xc9fe, 0x89e0, 0x0, 0x1);
        gbc.writeMem(0xd268, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xa5cd, gbc.sp());
        EXPECT(0xd26a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd268));
        EXPECT(0x50, gbc.readMem(0xd269));
        // CB 50 010E
        gbc.setState(0xe551, 0x836c, 0x64e0, 0x89a8, 0x63fb, 0x1af2, 0x1, 0x1);
        gbc.writeMem(0xe551, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x836c, gbc.sp());
        EXPECT(0xe553, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe551));
        EXPECT(0x50, gbc.readMem(0xe552));
        // CB 50 010F
        gbc.setState(0x2a20, 0xdaca, 0x26b0, 0xd4d7, 0x89ac, 0xfea7, 0x0, 0x0);
        gbc.writeMem(0x2a20, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xdaca, gbc.sp());
        EXPECT(0x2a22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0110
        gbc.setState(0x72da, 0x77ed, 0x1100, 0x998e, 0x9aea, 0xb599, 0x1, 0x1);
        gbc.writeMem(0x72da, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x77ed, gbc.sp());
        EXPECT(0x72dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0111
        gbc.setState(0x8947, 0xb64a, 0x7a90, 0x2c39, 0x5c18, 0xb83c, 0x1, 0x0);
        gbc.writeMem(0x8947, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xb64a, gbc.sp());
        EXPECT(0x8949, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8947));
        EXPECT(0x50, gbc.readMem(0x8948));
        // CB 50 0112
        gbc.setState(0x2bdc, 0x1109, 0xf90, 0x769e, 0x5b88, 0xb318, 0x0, 0x0);
        gbc.writeMem(0x2bdc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x1109, gbc.sp());
        EXPECT(0x2bde, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0113
        gbc.setState(0xe9ca, 0x9bd6, 0x4bf0, 0xe42a, 0x3be3, 0x96c6, 0x0, 0x1);
        gbc.writeMem(0xe9ca, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x9bd6, gbc.sp());
        EXPECT(0xe9cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe9ca));
        EXPECT(0x50, gbc.readMem(0xe9cb));
        // CB 50 0114
        gbc.setState(0x89bc, 0xcb41, 0xb580, 0xe8b9, 0x286, 0x8ada, 0x1, 0x0);
        gbc.writeMem(0x89bc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xcb41, gbc.sp());
        EXPECT(0x89be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89bc));
        EXPECT(0x50, gbc.readMem(0x89bd));
        // CB 50 0115
        gbc.setState(0xed02, 0xc52a, 0x2070, 0x4431, 0xce77, 0xe7e8, 0x0, 0x1);
        gbc.writeMem(0xed02, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xc52a, gbc.sp());
        EXPECT(0xed04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed02));
        EXPECT(0x50, gbc.readMem(0xed03));
        // CB 50 0116
        gbc.setState(0xbe2a, 0xb62d, 0x6650, 0x1a5a, 0xc0b3, 0xab98, 0x0, 0x0);
        gbc.writeMem(0xbe2a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xb62d, gbc.sp());
        EXPECT(0xbe2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe2a));
        EXPECT(0x50, gbc.readMem(0xbe2b));
        // CB 50 0117
        gbc.setState(0xeda9, 0xb617, 0x5bd0, 0xc50d, 0xf0ec, 0xabc3, 0x1, 0x0);
        gbc.writeMem(0xeda9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xb617, gbc.sp());
        EXPECT(0xedab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeda9));
        EXPECT(0x50, gbc.readMem(0xedaa));
        // CB 50 0118
        gbc.setState(0xcd06, 0x91b7, 0x4140, 0x84d2, 0xc0da, 0x4593, 0x0, 0x0);
        gbc.writeMem(0xcd06, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x91b7, gbc.sp());
        EXPECT(0xcd08, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd06));
        EXPECT(0x50, gbc.readMem(0xcd07));
        // CB 50 0119
        gbc.setState(0x1054, 0x6552, 0xb0d0, 0x2b85, 0xffd0, 0x182f, 0x0, 0x1);
        gbc.writeMem(0x1054, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x6552, gbc.sp());
        EXPECT(0x1056, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 011A
        gbc.setState(0xa039, 0x25c1, 0x39f0, 0x5f32, 0x4860, 0x1f, 0x1, 0x1);
        gbc.writeMem(0xa039, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x25c1, gbc.sp());
        EXPECT(0xa03b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa039));
        EXPECT(0x50, gbc.readMem(0xa03a));
        // CB 50 011B
        gbc.setState(0x36e8, 0x8ce7, 0x160, 0x800a, 0x4227, 0xe9fe, 0x1, 0x1);
        gbc.writeMem(0x36e8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x8ce7, gbc.sp());
        EXPECT(0x36ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 011C
        gbc.setState(0xccc2, 0x4a49, 0xb70, 0x3c8b, 0x55d8, 0xf7b5, 0x1, 0x1);
        gbc.writeMem(0xccc2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x4a49, gbc.sp());
        EXPECT(0xccc4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xccc2));
        EXPECT(0x50, gbc.readMem(0xccc3));
        // CB 50 011D
        gbc.setState(0xe5a, 0x2174, 0x1290, 0x2526, 0xc54d, 0x9497, 0x0, 0x1);
        gbc.writeMem(0xe5a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x2174, gbc.sp());
        EXPECT(0xe5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 011E
        gbc.setState(0xb73f, 0xd816, 0x3350, 0x300b, 0xeca3, 0xb766, 0x1, 0x1);
        gbc.writeMem(0xb73f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xd816, gbc.sp());
        EXPECT(0xb741, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb73f));
        EXPECT(0x50, gbc.readMem(0xb740));
        // CB 50 011F
        gbc.setState(0xaa2e, 0x73de, 0x5470, 0x3173, 0xa510, 0xbebe, 0x1, 0x1);
        gbc.writeMem(0xaa2e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x73de, gbc.sp());
        EXPECT(0xaa30, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa2e));
        EXPECT(0x50, gbc.readMem(0xaa2f));
        // CB 50 0122
        gbc.setState(0xa25, 0xd23b, 0x1210, 0xa6ed, 0xb3de, 0x3db3, 0x0, 0x0);
        gbc.writeMem(0xa25, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xd23b, gbc.sp());
        EXPECT(0xa27, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0123
        gbc.setState(0xe844, 0xea94, 0xac30, 0x3f3b, 0x4165, 0x85b7, 0x1, 0x0);
        gbc.writeMem(0xe844, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xea94, gbc.sp());
        EXPECT(0xe846, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe844));
        EXPECT(0x50, gbc.readMem(0xe845));
        // CB 50 0124
        gbc.setState(0x6140, 0xd0f9, 0xd190, 0x8911, 0x735b, 0x28cf, 0x1, 0x0);
        gbc.writeMem(0x6140, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xd0f9, gbc.sp());
        EXPECT(0x6142, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0125
        gbc.setState(0x84a, 0x2488, 0xd4e0, 0x1c91, 0xa5a7, 0xf3d9, 0x0, 0x1);
        gbc.writeMem(0x84a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x2488, gbc.sp());
        EXPECT(0x84c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0126
        gbc.setState(0x1827, 0xff82, 0xe70, 0x15be, 0xcd85, 0x2c7d, 0x0, 0x0);
        gbc.writeMem(0x1827, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xff82, gbc.sp());
        EXPECT(0x1829, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0128
        gbc.setState(0xad9e, 0x6f93, 0xcd20, 0xa065, 0x1cfa, 0x4c4a, 0x1, 0x1);
        gbc.writeMem(0xad9e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x6f93, gbc.sp());
        EXPECT(0xada0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad9e));
        EXPECT(0x50, gbc.readMem(0xad9f));
        // CB 50 0129
        gbc.setState(0xee47, 0xbd9d, 0xa080, 0xc9d4, 0xaf90, 0x129f, 0x0, 0x1);
        gbc.writeMem(0xee47, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xbd9d, gbc.sp());
        EXPECT(0xee49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee47));
        EXPECT(0x50, gbc.readMem(0xee48));
        // CB 50 012A
        gbc.setState(0x890a, 0x44d, 0x4560, 0xc4c5, 0xb407, 0x3ae0, 0x1, 0x1);
        gbc.writeMem(0x890a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x44d, gbc.sp());
        EXPECT(0x890c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x890a));
        EXPECT(0x50, gbc.readMem(0x890b));
        // CB 50 012B
        gbc.setState(0xdc83, 0x7948, 0xf090, 0x6739, 0x55e6, 0x7cde, 0x1, 0x1);
        gbc.writeMem(0xdc83, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x7948, gbc.sp());
        EXPECT(0xdc85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc83));
        EXPECT(0x50, gbc.readMem(0xdc84));
        // CB 50 012C
        gbc.setState(0xb9, 0x44c1, 0x20f0, 0xe51a, 0x221b, 0xeb39, 0x1, 0x1);
        gbc.writeMem(0xb9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x44c1, gbc.sp());
        EXPECT(0xbb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 012D
        gbc.setState(0xbcb5, 0xfc51, 0x5060, 0x3a6b, 0x85b7, 0x83a9, 0x0, 0x1);
        gbc.writeMem(0xbcb5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xfc51, gbc.sp());
        EXPECT(0xbcb7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbcb5));
        EXPECT(0x50, gbc.readMem(0xbcb6));
        // CB 50 012E
        gbc.setState(0xc8c7, 0x1bb1, 0xff0, 0xf7d7, 0xd92a, 0xe378, 0x1, 0x0);
        gbc.writeMem(0xc8c7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x1bb1, gbc.sp());
        EXPECT(0xc8c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8c7));
        EXPECT(0x50, gbc.readMem(0xc8c8));
        // CB 50 012F
        gbc.setState(0x68d7, 0xca7d, 0x4280, 0x1473, 0x58d1, 0xbaec, 0x0, 0x1);
        gbc.writeMem(0x68d7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xca7d, gbc.sp());
        EXPECT(0x68d9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0130
        gbc.setState(0x3345, 0xf85e, 0x3740, 0x9903, 0x5df2, 0x9ab3, 0x1, 0x1);
        gbc.writeMem(0x3345, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xf85e, gbc.sp());
        EXPECT(0x3347, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0131
        gbc.setState(0x9dcb, 0x9d44, 0xea10, 0x734e, 0x1fa3, 0xcdc9, 0x1, 0x0);
        gbc.writeMem(0x9dcb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x9d44, gbc.sp());
        EXPECT(0x9dcd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9dcb));
        EXPECT(0x50, gbc.readMem(0x9dcc));
        // CB 50 0132
        gbc.setState(0x2270, 0x98bf, 0xea90, 0x9556, 0x4fb7, 0x9459, 0x0, 0x0);
        gbc.writeMem(0x2270, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x98bf, gbc.sp());
        EXPECT(0x2272, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0133
        gbc.setState(0x3cf2, 0x468, 0xe7d0, 0x62e5, 0xd6cf, 0x74b5, 0x1, 0x0);
        gbc.writeMem(0x3cf2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x468, gbc.sp());
        EXPECT(0x3cf4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0134
        gbc.setState(0xe35f, 0x810d, 0x5b00, 0x713e, 0x141d, 0x62ef, 0x0, 0x1);
        gbc.writeMem(0xe35f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x810d, gbc.sp());
        EXPECT(0xe361, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe35f));
        EXPECT(0x50, gbc.readMem(0xe360));
        // CB 50 0135
        gbc.setState(0xaa2b, 0x74d1, 0xce40, 0xc550, 0x7b40, 0x39b0, 0x0, 0x0);
        gbc.writeMem(0xaa2b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x74d1, gbc.sp());
        EXPECT(0xaa2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa2b));
        EXPECT(0x50, gbc.readMem(0xaa2c));
        // CB 50 0137
        gbc.setState(0xd2bf, 0x392a, 0x6210, 0x80cf, 0xad3, 0x2f1d, 0x1, 0x0);
        gbc.writeMem(0xd2bf, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x392a, gbc.sp());
        EXPECT(0xd2c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd2bf));
        EXPECT(0x50, gbc.readMem(0xd2c0));
        // CB 50 0139
        gbc.setState(0x4e20, 0x146c, 0x7480, 0x5c99, 0x8fa7, 0x8f6f, 0x1, 0x0);
        gbc.writeMem(0x4e20, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x146c, gbc.sp());
        EXPECT(0x4e22, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 013A
        gbc.setState(0xd552, 0xac90, 0xb830, 0x1df8, 0x17d3, 0xe361, 0x0, 0x0);
        gbc.writeMem(0xd552, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xac90, gbc.sp());
        EXPECT(0xd554, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd552));
        EXPECT(0x50, gbc.readMem(0xd553));
        // CB 50 013B
        gbc.setState(0x961f, 0xba8d, 0xcc30, 0xab21, 0xe849, 0x52c6, 0x0, 0x1);
        gbc.writeMem(0x961f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xba8d, gbc.sp());
        EXPECT(0x9621, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x961f));
        EXPECT(0x50, gbc.readMem(0x9620));
        // CB 50 013C
        gbc.setState(0xc952, 0x4281, 0x9590, 0x5036, 0x2544, 0x33e7, 0x0, 0x0);
        gbc.writeMem(0xc952, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x4281, gbc.sp());
        EXPECT(0xc954, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc952));
        EXPECT(0x50, gbc.readMem(0xc953));
        // CB 50 013D
        gbc.setState(0x57da, 0xb3c, 0x9580, 0x8157, 0x9532, 0x18de, 0x1, 0x1);
        gbc.writeMem(0x57da, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xb3c, gbc.sp());
        EXPECT(0x57dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 013E
        gbc.setState(0xa8a, 0xb851, 0xa0a0, 0x473a, 0x8a79, 0x531b, 0x0, 0x0);
        gbc.writeMem(0xa8a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xb851, gbc.sp());
        EXPECT(0xa8c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 013F
        gbc.setState(0xc457, 0xdaff, 0x52a0, 0x4a37, 0x12e4, 0x7f80, 0x1, 0x1);
        gbc.writeMem(0xc457, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xdaff, gbc.sp());
        EXPECT(0xc459, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc457));
        EXPECT(0x50, gbc.readMem(0xc458));
        // CB 50 0140
        gbc.setState(0xc78e, 0x6969, 0x52c0, 0xfab6, 0xbb61, 0x75e6, 0x1, 0x1);
        gbc.writeMem(0xc78e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x6969, gbc.sp());
        EXPECT(0xc790, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc78e));
        EXPECT(0x50, gbc.readMem(0xc78f));
        // CB 50 0141
        gbc.setState(0x2ccd, 0x9055, 0x5f0, 0x71cb, 0x3706, 0x269e, 0x1, 0x1);
        gbc.writeMem(0x2ccd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x9055, gbc.sp());
        EXPECT(0x2ccf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0142
        gbc.setState(0xc828, 0x51fc, 0x28c0, 0x920, 0x3b0a, 0x45fc, 0x0, 0x1);
        gbc.writeMem(0xc828, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x51fc, gbc.sp());
        EXPECT(0xc82a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc828));
        EXPECT(0x50, gbc.readMem(0xc829));
        // CB 50 0143
        gbc.setState(0x9877, 0x2ed, 0x8080, 0xe72e, 0xb63a, 0xf382, 0x1, 0x0);
        gbc.writeMem(0x9877, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x2ed, gbc.sp());
        EXPECT(0x9879, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9877));
        EXPECT(0x50, gbc.readMem(0x9878));
        // CB 50 0144
        gbc.setState(0x8bb5, 0x4140, 0x3d80, 0xe900, 0x27ff, 0x37c6, 0x1, 0x1);
        gbc.writeMem(0x8bb5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x4140, gbc.sp());
        EXPECT(0x8bb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8bb5));
        EXPECT(0x50, gbc.readMem(0x8bb6));
        // CB 50 0145
        gbc.setState(0x8b1c, 0xfa90, 0x5c40, 0xb2f3, 0xbcb7, 0x2718, 0x1, 0x0);
        gbc.writeMem(0x8b1c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xfa90, gbc.sp());
        EXPECT(0x8b1e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b1c));
        EXPECT(0x50, gbc.readMem(0x8b1d));
        // CB 50 0146
        gbc.setState(0xce59, 0x5c2e, 0x320, 0xb416, 0x11a5, 0xfbf0, 0x1, 0x1);
        gbc.writeMem(0xce59, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x5c2e, gbc.sp());
        EXPECT(0xce5b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce59));
        EXPECT(0x50, gbc.readMem(0xce5a));
        // CB 50 0147
        gbc.setState(0x227, 0x4a5c, 0x77a0, 0x739, 0xcb87, 0xca5e, 0x0, 0x0);
        gbc.writeMem(0x227, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x4a5c, gbc.sp());
        EXPECT(0x229, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0148
        gbc.setState(0x1b5f, 0x876b, 0x5ae0, 0x593d, 0xa7a2, 0x2346, 0x1, 0x1);
        gbc.writeMem(0x1b5f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x876b, gbc.sp());
        EXPECT(0x1b61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0149
        gbc.setState(0x1266, 0x399a, 0x6450, 0x5c0e, 0x4851, 0x8d6b, 0x1, 0x1);
        gbc.writeMem(0x1266, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x399a, gbc.sp());
        EXPECT(0x1268, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 014A
        gbc.setState(0xcc83, 0xdfc6, 0xce30, 0x3267, 0x50c0, 0x1a82, 0x1, 0x1);
        gbc.writeMem(0xcc83, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xdfc6, gbc.sp());
        EXPECT(0xcc85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc83));
        EXPECT(0x50, gbc.readMem(0xcc84));
        // CB 50 014B
        gbc.setState(0x123e, 0x58fb, 0x1a00, 0xc28a, 0x70eb, 0xd99d, 0x1, 0x1);
        gbc.writeMem(0x123e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x58fb, gbc.sp());
        EXPECT(0x1240, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 014C
        gbc.setState(0x6c2a, 0xbb79, 0x3450, 0x6538, 0xaece, 0xe327, 0x0, 0x0);
        gbc.writeMem(0x6c2a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xbb79, gbc.sp());
        EXPECT(0x6c2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 014D
        gbc.setState(0xb2e3, 0xc860, 0x6040, 0xab59, 0xa443, 0xbaf2, 0x1, 0x0);
        gbc.writeMem(0xb2e3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xc860, gbc.sp());
        EXPECT(0xb2e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb2e3));
        EXPECT(0x50, gbc.readMem(0xb2e4));
        // CB 50 014E
        gbc.setState(0xabe7, 0x1755, 0x1340, 0x2469, 0x76c0, 0xa129, 0x0, 0x0);
        gbc.writeMem(0xabe7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x1755, gbc.sp());
        EXPECT(0xabe9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xabe7));
        EXPECT(0x50, gbc.readMem(0xabe8));
        // CB 50 014F
        gbc.setState(0x412f, 0x134f, 0xc10, 0x3f6f, 0xa173, 0xe2e8, 0x0, 0x1);
        gbc.writeMem(0x412f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x134f, gbc.sp());
        EXPECT(0x4131, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0150
        gbc.setState(0x26b2, 0x9a4d, 0xc000, 0x14c0, 0x4ae8, 0x5b39, 0x0, 0x1);
        gbc.writeMem(0x26b2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x9a4d, gbc.sp());
        EXPECT(0x26b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0151
        gbc.setState(0x6072, 0x5305, 0xb940, 0xec46, 0x6b20, 0x7604, 0x1, 0x0);
        gbc.writeMem(0x6072, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x5305, gbc.sp());
        EXPECT(0x6074, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0152
        gbc.setState(0x493f, 0x572b, 0xe940, 0x36ba, 0x3bb8, 0x10da, 0x0, 0x1);
        gbc.writeMem(0x493f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x572b, gbc.sp());
        EXPECT(0x4941, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0153
        gbc.setState(0xb09d, 0xa3f9, 0xf00, 0xce60, 0xa8e1, 0xebc1, 0x0, 0x0);
        gbc.writeMem(0xb09d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xa3f9, gbc.sp());
        EXPECT(0xb09f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb09d));
        EXPECT(0x50, gbc.readMem(0xb09e));
        // CB 50 0154
        gbc.setState(0xa2c0, 0xc890, 0x13a0, 0x8bcf, 0x22c3, 0x1994, 0x0, 0x1);
        gbc.writeMem(0xa2c0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xc890, gbc.sp());
        EXPECT(0xa2c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa2c0));
        EXPECT(0x50, gbc.readMem(0xa2c1));
        // CB 50 0155
        gbc.setState(0xe6af, 0x30e5, 0xcee0, 0x572b, 0xfd09, 0x82cc, 0x1, 0x1);
        gbc.writeMem(0xe6af, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x30e5, gbc.sp());
        EXPECT(0xe6b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe6af));
        EXPECT(0x50, gbc.readMem(0xe6b0));
        // CB 50 0156
        gbc.setState(0x5756, 0x92e8, 0x8d80, 0x41e, 0x5485, 0xd9a7, 0x0, 0x0);
        gbc.writeMem(0x5756, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x92e8, gbc.sp());
        EXPECT(0x5758, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0158
        gbc.setState(0x5644, 0xd2f7, 0x14a0, 0x229, 0xdde4, 0x8ebc, 0x1, 0x0);
        gbc.writeMem(0x5644, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xd2f7, gbc.sp());
        EXPECT(0x5646, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0159
        gbc.setState(0x4a3f, 0x20e1, 0x3270, 0xada8, 0x5541, 0x2345, 0x1, 0x0);
        gbc.writeMem(0x4a3f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x20e1, gbc.sp());
        EXPECT(0x4a41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 015A
        gbc.setState(0x5cc, 0x13eb, 0xe430, 0x3239, 0xcb55, 0xfeca, 0x0, 0x0);
        gbc.writeMem(0x5cc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x13eb, gbc.sp());
        EXPECT(0x5ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 015C
        gbc.setState(0xe286, 0xd3c7, 0xac00, 0x6d86, 0xf2ec, 0x2c9c, 0x0, 0x1);
        gbc.writeMem(0xe286, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xd3c7, gbc.sp());
        EXPECT(0xe288, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe286));
        EXPECT(0x50, gbc.readMem(0xe287));
        // CB 50 015D
        gbc.setState(0xa12a, 0xebbf, 0x4fc0, 0x91fe, 0x5e26, 0x2482, 0x0, 0x1);
        gbc.writeMem(0xa12a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xebbf, gbc.sp());
        EXPECT(0xa12c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa12a));
        EXPECT(0x50, gbc.readMem(0xa12b));
        // CB 50 015E
        gbc.setState(0x6f3c, 0x80c9, 0xd440, 0x9213, 0xd435, 0x7dfd, 0x0, 0x1);
        gbc.writeMem(0x6f3c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x80c9, gbc.sp());
        EXPECT(0x6f3e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 015F
        gbc.setState(0x752, 0x9cfb, 0x290, 0xac4d, 0x70ca, 0xeb7, 0x1, 0x1);
        gbc.writeMem(0x752, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x9cfb, gbc.sp());
        EXPECT(0x754, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0160
        gbc.setState(0xff4, 0x4912, 0x7e80, 0xce8b, 0x357d, 0x2879, 0x1, 0x1);
        gbc.writeMem(0xff4, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x4912, gbc.sp());
        EXPECT(0xff6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0161
        gbc.setState(0x7b1d, 0x884e, 0x900, 0xc76e, 0xa488, 0xe8f7, 0x0, 0x0);
        gbc.writeMem(0x7b1d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x884e, gbc.sp());
        EXPECT(0x7b1f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0162
        gbc.setState(0xa050, 0xd792, 0x1070, 0x49d6, 0x56fa, 0xeebd, 0x0, 0x1);
        gbc.writeMem(0xa050, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xd792, gbc.sp());
        EXPECT(0xa052, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa050));
        EXPECT(0x50, gbc.readMem(0xa051));
        // CB 50 0164
        gbc.setState(0x87e8, 0xe16c, 0xe450, 0xf875, 0x8688, 0x3139, 0x1, 0x0);
        gbc.writeMem(0x87e8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xe16c, gbc.sp());
        EXPECT(0x87ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x87e8));
        EXPECT(0x50, gbc.readMem(0x87e9));
        // CB 50 0165
        gbc.setState(0x9f13, 0xac62, 0xee0, 0x25f9, 0x5397, 0x988f, 0x0, 0x0);
        gbc.writeMem(0x9f13, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xac62, gbc.sp());
        EXPECT(0x9f15, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f13));
        EXPECT(0x50, gbc.readMem(0x9f14));
        // CB 50 0166
        gbc.setState(0x3453, 0xf4c8, 0x4ed0, 0xbc22, 0x8bad, 0x563c, 0x1, 0x1);
        gbc.writeMem(0x3453, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xf4c8, gbc.sp());
        EXPECT(0x3455, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0167
        gbc.setState(0x79fa, 0x58aa, 0x8350, 0xca1c, 0x380d, 0x53c8, 0x1, 0x0);
        gbc.writeMem(0x79fa, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x58aa, gbc.sp());
        EXPECT(0x79fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0168
        gbc.setState(0x336c, 0x9723, 0x76c0, 0xef02, 0x4b93, 0x631b, 0x1, 0x0);
        gbc.writeMem(0x336c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x9723, gbc.sp());
        EXPECT(0x336e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0169
        gbc.setState(0xa7d9, 0x1a5c, 0x81f0, 0x3a69, 0xb6da, 0xf8c7, 0x0, 0x1);
        gbc.writeMem(0xa7d9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x1a5c, gbc.sp());
        EXPECT(0xa7db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7d9));
        EXPECT(0x50, gbc.readMem(0xa7da));
        // CB 50 016A
        gbc.setState(0xa8f6, 0xabf4, 0x9290, 0xb59d, 0xb29e, 0x533a, 0x1, 0x0);
        gbc.writeMem(0xa8f6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xabf4, gbc.sp());
        EXPECT(0xa8f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8f6));
        EXPECT(0x50, gbc.readMem(0xa8f7));
        // CB 50 016B
        gbc.setState(0x2994, 0x8834, 0x7160, 0xb8b5, 0x200c, 0x1d55, 0x1, 0x0);
        gbc.writeMem(0x2994, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x8834, gbc.sp());
        EXPECT(0x2996, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 016C
        gbc.setState(0x5b21, 0xa321, 0x57a0, 0x11d0, 0x3e4d, 0xf899, 0x1, 0x0);
        gbc.writeMem(0x5b21, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xa321, gbc.sp());
        EXPECT(0x5b23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 016D
        gbc.setState(0x9026, 0x81a0, 0x8df0, 0x965b, 0xfe49, 0x990b, 0x1, 0x1);
        gbc.writeMem(0x9026, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x81a0, gbc.sp());
        EXPECT(0x9028, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9026));
        EXPECT(0x50, gbc.readMem(0x9027));
        // CB 50 016E
        gbc.setState(0xd9d1, 0xd098, 0x7850, 0xa371, 0x8449, 0x59c1, 0x0, 0x1);
        gbc.writeMem(0xd9d1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xd098, gbc.sp());
        EXPECT(0xd9d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9d1));
        EXPECT(0x50, gbc.readMem(0xd9d2));
        // CB 50 016F
        gbc.setState(0x7d6e, 0xca96, 0xc270, 0x2ed2, 0x5cd2, 0x7492, 0x0, 0x1);
        gbc.writeMem(0x7d6e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xca96, gbc.sp());
        EXPECT(0x7d70, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0170
        gbc.setState(0x6975, 0x84e9, 0x32d0, 0x1864, 0x9fc9, 0xccec, 0x0, 0x1);
        gbc.writeMem(0x6975, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x84e9, gbc.sp());
        EXPECT(0x6977, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0171
        gbc.setState(0xdc56, 0x8b44, 0xc5c0, 0x6b80, 0x9c98, 0x56d, 0x1, 0x1);
        gbc.writeMem(0xdc56, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x8b44, gbc.sp());
        EXPECT(0xdc58, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc56));
        EXPECT(0x50, gbc.readMem(0xdc57));
        // CB 50 0172
        gbc.setState(0x4e3, 0x90da, 0xa7b0, 0xfd93, 0x7d6f, 0xe272, 0x1, 0x0);
        gbc.writeMem(0x4e3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x90da, gbc.sp());
        EXPECT(0x4e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0174
        gbc.setState(0xa522, 0x2eb, 0x8910, 0x3b18, 0xfae0, 0xc6d9, 0x1, 0x0);
        gbc.writeMem(0xa522, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x2eb, gbc.sp());
        EXPECT(0xa524, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa522));
        EXPECT(0x50, gbc.readMem(0xa523));
        // CB 50 0175
        gbc.setState(0x653, 0xf67, 0x3e90, 0x1f32, 0xb425, 0x261d, 0x0, 0x1);
        gbc.writeMem(0x653, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xf67, gbc.sp());
        EXPECT(0x655, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0176
        gbc.setState(0xc40e, 0x428e, 0x4cb0, 0x41a5, 0x2c59, 0x710e, 0x0, 0x0);
        gbc.writeMem(0xc40e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x428e, gbc.sp());
        EXPECT(0xc410, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc40e));
        EXPECT(0x50, gbc.readMem(0xc40f));
        // CB 50 0177
        gbc.setState(0x19b5, 0xf73a, 0x7b20, 0x7a92, 0x6cd5, 0x7811, 0x0, 0x1);
        gbc.writeMem(0x19b5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xf73a, gbc.sp());
        EXPECT(0x19b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0178
        gbc.setState(0x61db, 0x6934, 0x51c0, 0x3ea3, 0x7553, 0x2a81, 0x1, 0x0);
        gbc.writeMem(0x61db, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x6934, gbc.sp());
        EXPECT(0x61dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0179
        gbc.setState(0x99b1, 0x447d, 0x5e80, 0xf474, 0x7246, 0xa5aa, 0x1, 0x0);
        gbc.writeMem(0x99b1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x447d, gbc.sp());
        EXPECT(0x99b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99b1));
        EXPECT(0x50, gbc.readMem(0x99b2));
        // CB 50 017A
        gbc.setState(0x1624, 0xc38b, 0xc950, 0x9fe5, 0x3a1f, 0x488f, 0x0, 0x0);
        gbc.writeMem(0x1624, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xc38b, gbc.sp());
        EXPECT(0x1626, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 017B
        gbc.setState(0x1e65, 0x877e, 0x5d0, 0xa932, 0xba45, 0xe220, 0x1, 0x1);
        gbc.writeMem(0x1e65, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x877e, gbc.sp());
        EXPECT(0x1e67, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 017C
        gbc.setState(0x9eae, 0x3f55, 0x1760, 0x7762, 0x8ece, 0x966d, 0x1, 0x1);
        gbc.writeMem(0x9eae, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x3f55, gbc.sp());
        EXPECT(0x9eb0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9eae));
        EXPECT(0x50, gbc.readMem(0x9eaf));
        // CB 50 017D
        gbc.setState(0xbac2, 0x722b, 0x5b20, 0xf938, 0xcf8f, 0x1544, 0x0, 0x1);
        gbc.writeMem(0xbac2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x722b, gbc.sp());
        EXPECT(0xbac4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbac2));
        EXPECT(0x50, gbc.readMem(0xbac3));
        // CB 50 017E
        gbc.setState(0x7808, 0xce87, 0x68c0, 0x1afd, 0xae7c, 0xfffa, 0x1, 0x0);
        gbc.writeMem(0x7808, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xce87, gbc.sp());
        EXPECT(0x780a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 017F
        gbc.setState(0x2844, 0x1f77, 0xcd40, 0x7857, 0x57a6, 0x2b49, 0x0, 0x0);
        gbc.writeMem(0x2844, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x1f77, gbc.sp());
        EXPECT(0x2846, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0180
        gbc.setState(0x512b, 0x824, 0x5c30, 0x12be, 0xfc74, 0x7fb4, 0x1, 0x1);
        gbc.writeMem(0x512b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x824, gbc.sp());
        EXPECT(0x512d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0181
        gbc.setState(0x2e26, 0xe2a2, 0xc810, 0xa508, 0x399e, 0xfd6, 0x1, 0x1);
        gbc.writeMem(0x2e26, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xe2a2, gbc.sp());
        EXPECT(0x2e28, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0182
        gbc.setState(0x34b1, 0x2588, 0x6560, 0x8373, 0x4de9, 0x4c70, 0x0, 0x0);
        gbc.writeMem(0x34b1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x2588, gbc.sp());
        EXPECT(0x34b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0183
        gbc.setState(0xd671, 0x34ab, 0x18b0, 0xb3cb, 0x7ccc, 0x9b61, 0x1, 0x0);
        gbc.writeMem(0xd671, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x34ab, gbc.sp());
        EXPECT(0xd673, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd671));
        EXPECT(0x50, gbc.readMem(0xd672));
        // CB 50 0184
        gbc.setState(0x62db, 0x2274, 0xf0c0, 0xfae2, 0x99cd, 0xe923, 0x1, 0x1);
        gbc.writeMem(0x62db, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x2274, gbc.sp());
        EXPECT(0x62dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0185
        gbc.setState(0xc6ff, 0x67d8, 0x2d70, 0x3ef8, 0xe2db, 0x186, 0x0, 0x0);
        gbc.writeMem(0xc6ff, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x67d8, gbc.sp());
        EXPECT(0xc701, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc6ff));
        EXPECT(0x50, gbc.readMem(0xc700));
        // CB 50 0186
        gbc.setState(0x2615, 0x35cb, 0xc3b0, 0x2bfd, 0x95dc, 0x4efe, 0x0, 0x1);
        gbc.writeMem(0x2615, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x35cb, gbc.sp());
        EXPECT(0x2617, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0187
        gbc.setState(0x6023, 0xf553, 0xeb10, 0x46ba, 0xf2e, 0x9f84, 0x1, 0x0);
        gbc.writeMem(0x6023, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xf553, gbc.sp());
        EXPECT(0x6025, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0188
        gbc.setState(0xc6c7, 0x1dbe, 0xec50, 0xd0dd, 0xfd6c, 0xe081, 0x0, 0x1);
        gbc.writeMem(0xc6c7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x1dbe, gbc.sp());
        EXPECT(0xc6c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc6c7));
        EXPECT(0x50, gbc.readMem(0xc6c8));
        // CB 50 0189
        gbc.setState(0xc1f5, 0xad31, 0x7db0, 0xa595, 0xe127, 0x5f4, 0x0, 0x0);
        gbc.writeMem(0xc1f5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xad31, gbc.sp());
        EXPECT(0xc1f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc1f5));
        EXPECT(0x50, gbc.readMem(0xc1f6));
        // CB 50 018A
        gbc.setState(0x64df, 0x880b, 0x1190, 0x4853, 0xbe77, 0xb621, 0x0, 0x0);
        gbc.writeMem(0x64df, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x880b, gbc.sp());
        EXPECT(0x64e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 018B
        gbc.setState(0xc892, 0xf16c, 0xcc60, 0x3f0a, 0xe514, 0xc8f3, 0x0, 0x1);
        gbc.writeMem(0xc892, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xf16c, gbc.sp());
        EXPECT(0xc894, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc892));
        EXPECT(0x50, gbc.readMem(0xc893));
        // CB 50 018C
        gbc.setState(0x2071, 0x277a, 0x84c0, 0x54c2, 0xdb08, 0xa8e9, 0x0, 0x0);
        gbc.writeMem(0x2071, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x277a, gbc.sp());
        EXPECT(0x2073, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 018D
        gbc.setState(0x8348, 0xec0b, 0x67d0, 0xaa81, 0x9150, 0x44eb, 0x0, 0x1);
        gbc.writeMem(0x8348, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xec0b, gbc.sp());
        EXPECT(0x834a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8348));
        EXPECT(0x50, gbc.readMem(0x8349));
        // CB 50 018E
        gbc.setState(0xb4dc, 0x497b, 0x640, 0x8336, 0x8ceb, 0xec62, 0x0, 0x0);
        gbc.writeMem(0xb4dc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x497b, gbc.sp());
        EXPECT(0xb4de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb4dc));
        EXPECT(0x50, gbc.readMem(0xb4dd));
        // CB 50 018F
        gbc.setState(0xcef2, 0xeb27, 0xb520, 0x44ab, 0x782a, 0x1ab7, 0x1, 0x0);
        gbc.writeMem(0xcef2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xeb27, gbc.sp());
        EXPECT(0xcef4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcef2));
        EXPECT(0x50, gbc.readMem(0xcef3));
        // CB 50 0190
        gbc.setState(0x5ede, 0x4a7, 0xbc80, 0xf5cf, 0x1933, 0x725, 0x1, 0x1);
        gbc.writeMem(0x5ede, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x4a7, gbc.sp());
        EXPECT(0x5ee0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0191
        gbc.setState(0x4cec, 0x3cde, 0x9d40, 0xe601, 0xa125, 0xba07, 0x1, 0x1);
        gbc.writeMem(0x4cec, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x3cde, gbc.sp());
        EXPECT(0x4cee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0192
        gbc.setState(0x8ae8, 0xff42, 0x7280, 0x997a, 0xbcc6, 0xe34e, 0x0, 0x1);
        gbc.writeMem(0x8ae8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xff42, gbc.sp());
        EXPECT(0x8aea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ae8));
        EXPECT(0x50, gbc.readMem(0x8ae9));
        // CB 50 0194
        gbc.setState(0x2f23, 0x69c5, 0x9c80, 0x3ad8, 0x2571, 0x415, 0x1, 0x1);
        gbc.writeMem(0x2f23, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x69c5, gbc.sp());
        EXPECT(0x2f25, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0195
        gbc.setState(0x165, 0xfb98, 0xc350, 0x72ae, 0x1dc5, 0x3298, 0x0, 0x1);
        gbc.writeMem(0x165, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xfb98, gbc.sp());
        EXPECT(0x167, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0196
        gbc.setState(0xa5ce, 0x94c5, 0xbd90, 0xdaec, 0x67e5, 0xcc2e, 0x0, 0x0);
        gbc.writeMem(0xa5ce, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x94c5, gbc.sp());
        EXPECT(0xa5d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa5ce));
        EXPECT(0x50, gbc.readMem(0xa5cf));
        // CB 50 0198
        gbc.setState(0x1ba7, 0x1c6, 0x32b0, 0x8286, 0x9322, 0xfdf5, 0x1, 0x0);
        gbc.writeMem(0x1ba7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x1c6, gbc.sp());
        EXPECT(0x1ba9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0199
        gbc.setState(0x1faa, 0x7a17, 0x5e10, 0x408a, 0xa624, 0x2f54, 0x0, 0x0);
        gbc.writeMem(0x1faa, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x7a17, gbc.sp());
        EXPECT(0x1fac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 019A
        gbc.setState(0x1481, 0xfdf7, 0x8360, 0x6528, 0x2d50, 0x90a8, 0x0, 0x0);
        gbc.writeMem(0x1481, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xfdf7, gbc.sp());
        EXPECT(0x1483, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 019B
        gbc.setState(0xe02e, 0x9541, 0xdd40, 0xd83e, 0x194b, 0xb57, 0x1, 0x0);
        gbc.writeMem(0xe02e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x9541, gbc.sp());
        EXPECT(0xe030, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe02e));
        EXPECT(0x50, gbc.readMem(0xe02f));
        // CB 50 019C
        gbc.setState(0x97aa, 0x5b46, 0xc900, 0x406d, 0x58bb, 0xa07c, 0x0, 0x0);
        gbc.writeMem(0x97aa, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x5b46, gbc.sp());
        EXPECT(0x97ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x97aa));
        EXPECT(0x50, gbc.readMem(0x97ab));
        // CB 50 019D
        gbc.setState(0x6910, 0x3633, 0x4fd0, 0x8c22, 0x6ffc, 0x7323, 0x1, 0x0);
        gbc.writeMem(0x6910, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x3633, gbc.sp());
        EXPECT(0x6912, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 019E
        gbc.setState(0xe33f, 0x32f6, 0xdb70, 0xa6da, 0xc3a4, 0x71fa, 0x0, 0x1);
        gbc.writeMem(0xe33f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x32f6, gbc.sp());
        EXPECT(0xe341, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe33f));
        EXPECT(0x50, gbc.readMem(0xe340));
        // CB 50 019F
        gbc.setState(0x870f, 0x4d36, 0xb8b0, 0x91fe, 0xad8b, 0x7782, 0x1, 0x1);
        gbc.writeMem(0x870f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x4d36, gbc.sp());
        EXPECT(0x8711, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x870f));
        EXPECT(0x50, gbc.readMem(0x8710));
        // CB 50 01A0
        gbc.setState(0xd7f5, 0xa42e, 0xe650, 0x68e1, 0xf046, 0xfa11, 0x1, 0x1);
        gbc.writeMem(0xd7f5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xa42e, gbc.sp());
        EXPECT(0xd7f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd7f5));
        EXPECT(0x50, gbc.readMem(0xd7f6));
        // CB 50 01A1
        gbc.setState(0xbb1c, 0xbfd7, 0x79b0, 0xeb45, 0x5d41, 0xca3b, 0x0, 0x0);
        gbc.writeMem(0xbb1c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xbfd7, gbc.sp());
        EXPECT(0xbb1e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb1c));
        EXPECT(0x50, gbc.readMem(0xbb1d));
        // CB 50 01A2
        gbc.setState(0x325e, 0x98e3, 0x5bf0, 0x7f74, 0xcd67, 0xaff1, 0x0, 0x1);
        gbc.writeMem(0x325e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x98e3, gbc.sp());
        EXPECT(0x3260, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01A3
        gbc.setState(0x1fe6, 0xb45b, 0x31c0, 0x2bcd, 0x8a6f, 0x5c91, 0x0, 0x1);
        gbc.writeMem(0x1fe6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xb45b, gbc.sp());
        EXPECT(0x1fe8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01A4
        gbc.setState(0x9b83, 0x273a, 0x7e10, 0x3d50, 0x515e, 0xdb7c, 0x0, 0x0);
        gbc.writeMem(0x9b83, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x273a, gbc.sp());
        EXPECT(0x9b85, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b83));
        EXPECT(0x50, gbc.readMem(0x9b84));
        // CB 50 01A5
        gbc.setState(0x48d6, 0xbc8a, 0x66d0, 0x3a02, 0xd466, 0x6b07, 0x1, 0x1);
        gbc.writeMem(0x48d6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xbc8a, gbc.sp());
        EXPECT(0x48d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01A7
        gbc.setState(0xa01c, 0x1e6c, 0xc3e0, 0x34a, 0x5f2a, 0x47b2, 0x1, 0x0);
        gbc.writeMem(0xa01c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x1e6c, gbc.sp());
        EXPECT(0xa01e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa01c));
        EXPECT(0x50, gbc.readMem(0xa01d));
        // CB 50 01A8
        gbc.setState(0xe3fb, 0xd1fa, 0x84b0, 0x1750, 0x6fe, 0xa2, 0x1, 0x1);
        gbc.writeMem(0xe3fb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xd1fa, gbc.sp());
        EXPECT(0xe3fd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe3fb));
        EXPECT(0x50, gbc.readMem(0xe3fc));
        // CB 50 01A9
        gbc.setState(0x434d, 0xc744, 0x45f0, 0xfb1e, 0x3c43, 0x5189, 0x1, 0x0);
        gbc.writeMem(0x434d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xc744, gbc.sp());
        EXPECT(0x434f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01AA
        gbc.setState(0x30a7, 0x4339, 0x4f10, 0x28a2, 0x1b60, 0x5991, 0x0, 0x0);
        gbc.writeMem(0x30a7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x4339, gbc.sp());
        EXPECT(0x30a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01AB
        gbc.setState(0x59c4, 0xc5b5, 0x7ec0, 0xe93f, 0x8b17, 0x88ec, 0x1, 0x1);
        gbc.writeMem(0x59c4, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xc5b5, gbc.sp());
        EXPECT(0x59c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01AC
        gbc.setState(0x4596, 0xffed, 0xe380, 0x43f0, 0xacf0, 0x8582, 0x1, 0x0);
        gbc.writeMem(0x4596, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xffed, gbc.sp());
        EXPECT(0x4598, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01AD
        gbc.setState(0x80ce, 0xc608, 0xae60, 0xa400, 0x48d9, 0x665e, 0x0, 0x1);
        gbc.writeMem(0x80ce, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xc608, gbc.sp());
        EXPECT(0x80d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80ce));
        EXPECT(0x50, gbc.readMem(0x80cf));
        // CB 50 01AE
        gbc.setState(0x32c6, 0x3e3c, 0xf4a0, 0x7f3b, 0x8608, 0x660e, 0x0, 0x0);
        gbc.writeMem(0x32c6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x3e3c, gbc.sp());
        EXPECT(0x32c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01AF
        gbc.setState(0xeabc, 0x2ded, 0x81b0, 0x4a9d, 0x4aa6, 0x4bb6, 0x0, 0x1);
        gbc.writeMem(0xeabc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x2ded, gbc.sp());
        EXPECT(0xeabe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeabc));
        EXPECT(0x50, gbc.readMem(0xeabd));
        // CB 50 01B0
        gbc.setState(0x7bee, 0xaac2, 0x6a90, 0x889f, 0x2bb6, 0x72b8, 0x0, 0x1);
        gbc.writeMem(0x7bee, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xaac2, gbc.sp());
        EXPECT(0x7bf0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01B1
        gbc.setState(0x66d3, 0xaa6c, 0xc1b0, 0x67a0, 0xcd18, 0xfb1b, 0x0, 0x0);
        gbc.writeMem(0x66d3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xaa6c, gbc.sp());
        EXPECT(0x66d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01B2
        gbc.setState(0x2e39, 0xb2de, 0x3d90, 0x69f3, 0x75df, 0xf71a, 0x0, 0x0);
        gbc.writeMem(0x2e39, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xb2de, gbc.sp());
        EXPECT(0x2e3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01B3
        gbc.setState(0xe3e5, 0x6b44, 0xd540, 0xde9a, 0x8152, 0x9554, 0x1, 0x0);
        gbc.writeMem(0xe3e5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x6b44, gbc.sp());
        EXPECT(0xe3e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe3e5));
        EXPECT(0x50, gbc.readMem(0xe3e6));
        // CB 50 01B4
        gbc.setState(0x6ec9, 0x6971, 0xff30, 0xe19, 0x6588, 0x54fa, 0x0, 0x0);
        gbc.writeMem(0x6ec9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x6971, gbc.sp());
        EXPECT(0x6ecb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01B5
        gbc.setState(0x44f5, 0x87f5, 0x7ce0, 0x1d32, 0xa76c, 0xef9, 0x0, 0x0);
        gbc.writeMem(0x44f5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x87f5, gbc.sp());
        EXPECT(0x44f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01B6
        gbc.setState(0xdef5, 0x82d6, 0xb510, 0x7320, 0x74ea, 0x613a, 0x0, 0x0);
        gbc.writeMem(0xdef5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x82d6, gbc.sp());
        EXPECT(0xdef7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdef5));
        EXPECT(0x50, gbc.readMem(0xdef6));
        // CB 50 01B7
        gbc.setState(0x6a6d, 0x940e, 0x22c0, 0x2832, 0xff26, 0xf41e, 0x0, 0x1);
        gbc.writeMem(0x6a6d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x940e, gbc.sp());
        EXPECT(0x6a6f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01B8
        gbc.setState(0x493a, 0x6b5d, 0x59c0, 0x360a, 0xd2cc, 0xdc49, 0x1, 0x1);
        gbc.writeMem(0x493a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x6b5d, gbc.sp());
        EXPECT(0x493c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01B9
        gbc.setState(0x8fdd, 0xde3d, 0x5820, 0x65cf, 0xb823, 0xeb38, 0x1, 0x1);
        gbc.writeMem(0x8fdd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xde3d, gbc.sp());
        EXPECT(0x8fdf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8fdd));
        EXPECT(0x50, gbc.readMem(0x8fde));
        // CB 50 01BA
        gbc.setState(0x9481, 0x37b3, 0x43f0, 0xbac1, 0x3b22, 0xa714, 0x0, 0x0);
        gbc.writeMem(0x9481, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x37b3, gbc.sp());
        EXPECT(0x9483, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9481));
        EXPECT(0x50, gbc.readMem(0x9482));
        // CB 50 01BB
        gbc.setState(0xaa0a, 0xb1e3, 0x63a0, 0x7e5e, 0xb8d6, 0xca6a, 0x0, 0x0);
        gbc.writeMem(0xaa0a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xb1e3, gbc.sp());
        EXPECT(0xaa0c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa0a));
        EXPECT(0x50, gbc.readMem(0xaa0b));
        // CB 50 01BC
        gbc.setState(0xcccd, 0x1167, 0x60d0, 0x2052, 0xa41b, 0xc306, 0x1, 0x0);
        gbc.writeMem(0xcccd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x1167, gbc.sp());
        EXPECT(0xcccf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcccd));
        EXPECT(0x50, gbc.readMem(0xccce));
        // CB 50 01BD
        gbc.setState(0x52d3, 0x5041, 0x940, 0x3750, 0xfc25, 0x33e0, 0x0, 0x1);
        gbc.writeMem(0x52d3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x5041, gbc.sp());
        EXPECT(0x52d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01BE
        gbc.setState(0xd47a, 0x3761, 0x53d0, 0xd55d, 0x954b, 0x2e39, 0x0, 0x1);
        gbc.writeMem(0xd47a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x3761, gbc.sp());
        EXPECT(0xd47c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd47a));
        EXPECT(0x50, gbc.readMem(0xd47b));
        // CB 50 01BF
        gbc.setState(0x4703, 0x237b, 0x6470, 0x356a, 0x6931, 0xc9bf, 0x0, 0x1);
        gbc.writeMem(0x4703, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x237b, gbc.sp());
        EXPECT(0x4705, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01C0
        gbc.setState(0x143c, 0xc9b3, 0x3530, 0xb2c4, 0x540d, 0xde52, 0x0, 0x0);
        gbc.writeMem(0x143c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xc9b3, gbc.sp());
        EXPECT(0x143e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01C1
        gbc.setState(0x3f61, 0xae7c, 0xa1c0, 0xbfbc, 0x25c7, 0x7aeb, 0x0, 0x0);
        gbc.writeMem(0x3f61, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xae7c, gbc.sp());
        EXPECT(0x3f63, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01C2
        gbc.setState(0x3dc, 0x1f26, 0x6e50, 0xc0b4, 0x61c1, 0x279d, 0x1, 0x0);
        gbc.writeMem(0x3dc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x1f26, gbc.sp());
        EXPECT(0x3de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01C3
        gbc.setState(0xe809, 0x2a5e, 0x41e0, 0xd843, 0xc5a9, 0x43c3, 0x1, 0x1);
        gbc.writeMem(0xe809, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x2a5e, gbc.sp());
        EXPECT(0xe80b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe809));
        EXPECT(0x50, gbc.readMem(0xe80a));
        // CB 50 01C4
        gbc.setState(0xd4eb, 0xb1b1, 0xedd0, 0x5859, 0x99c4, 0xcbea, 0x1, 0x0);
        gbc.writeMem(0xd4eb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xb1b1, gbc.sp());
        EXPECT(0xd4ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4eb));
        EXPECT(0x50, gbc.readMem(0xd4ec));
        // CB 50 01C5
        gbc.setState(0x9999, 0xbb1, 0x67c0, 0x9fdd, 0xa6d3, 0x8fc6, 0x0, 0x1);
        gbc.writeMem(0x9999, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xbb1, gbc.sp());
        EXPECT(0x999b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9999));
        EXPECT(0x50, gbc.readMem(0x999a));
        // CB 50 01C6
        gbc.setState(0x4c4d, 0xcaf2, 0x7630, 0x55e9, 0x4949, 0x5a41, 0x1, 0x1);
        gbc.writeMem(0x4c4d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xcaf2, gbc.sp());
        EXPECT(0x4c4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01C7
        gbc.setState(0x1e98, 0x2490, 0xa670, 0x10f1, 0xf73e, 0x23a8, 0x0, 0x0);
        gbc.writeMem(0x1e98, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x2490, gbc.sp());
        EXPECT(0x1e9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01C8
        gbc.setState(0xa0f9, 0xcfa0, 0xc8d0, 0xfcb9, 0xa13b, 0x1cd1, 0x0, 0x1);
        gbc.writeMem(0xa0f9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xcfa0, gbc.sp());
        EXPECT(0xa0fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0f9));
        EXPECT(0x50, gbc.readMem(0xa0fa));
        // CB 50 01C9
        gbc.setState(0x39d4, 0xd9c0, 0x4c80, 0xa0b1, 0x1850, 0x1b8c, 0x1, 0x0);
        gbc.writeMem(0x39d4, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xd9c0, gbc.sp());
        EXPECT(0x39d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01CA
        gbc.setState(0x73e8, 0x3cae, 0xb930, 0x9ed9, 0x575, 0x3a30, 0x0, 0x0);
        gbc.writeMem(0x73e8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x3cae, gbc.sp());
        EXPECT(0x73ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01CB
        gbc.setState(0x886a, 0xc310, 0x8690, 0xe75b, 0x8145, 0xcae9, 0x0, 0x1);
        gbc.writeMem(0x886a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xc310, gbc.sp());
        EXPECT(0x886c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x886a));
        EXPECT(0x50, gbc.readMem(0x886b));
        // CB 50 01CC
        gbc.setState(0x4599, 0x41fd, 0xbd50, 0xbc02, 0x8a63, 0x64a7, 0x1, 0x0);
        gbc.writeMem(0x4599, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x41fd, gbc.sp());
        EXPECT(0x459b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01CD
        gbc.setState(0x28fb, 0xa60e, 0xcb10, 0xe427, 0x1e70, 0xf088, 0x0, 0x1);
        gbc.writeMem(0x28fb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xa60e, gbc.sp());
        EXPECT(0x28fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01CE
        gbc.setState(0x931a, 0x5f7f, 0xb120, 0x669d, 0x7380, 0xb219, 0x0, 0x1);
        gbc.writeMem(0x931a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x5f7f, gbc.sp());
        EXPECT(0x931c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x931a));
        EXPECT(0x50, gbc.readMem(0x931b));
        // CB 50 01CF
        gbc.setState(0xac97, 0x34ab, 0x7a30, 0xb73a, 0x580c, 0x7bfb, 0x1, 0x0);
        gbc.writeMem(0xac97, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x34ab, gbc.sp());
        EXPECT(0xac99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac97));
        EXPECT(0x50, gbc.readMem(0xac98));
        // CB 50 01D0
        gbc.setState(0x3199, 0x564c, 0x2610, 0x8024, 0x35d0, 0xa0ef, 0x1, 0x0);
        gbc.writeMem(0x3199, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x564c, gbc.sp());
        EXPECT(0x319b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01D1
        gbc.setState(0x282e, 0x6d68, 0xb5c0, 0x40e9, 0x6f9b, 0x1b6, 0x1, 0x0);
        gbc.writeMem(0x282e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x6d68, gbc.sp());
        EXPECT(0x2830, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01D2
        gbc.setState(0x4a63, 0x4837, 0x1280, 0x1167, 0x80c0, 0xb916, 0x1, 0x1);
        gbc.writeMem(0x4a63, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x4837, gbc.sp());
        EXPECT(0x4a65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01D3
        gbc.setState(0xc182, 0xf7a3, 0x9850, 0x95a0, 0x62ec, 0xc230, 0x1, 0x1);
        gbc.writeMem(0xc182, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xf7a3, gbc.sp());
        EXPECT(0xc184, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc182));
        EXPECT(0x50, gbc.readMem(0xc183));
        // CB 50 01D4
        gbc.setState(0x2622, 0x6fd8, 0x2400, 0x859, 0xe6b8, 0xf7af, 0x0, 0x0);
        gbc.writeMem(0x2622, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x6fd8, gbc.sp());
        EXPECT(0x2624, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01D5
        gbc.setState(0xbc1d, 0x3e7d, 0x2780, 0x5966, 0x54d3, 0x2e44, 0x1, 0x0);
        gbc.writeMem(0xbc1d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x3e7d, gbc.sp());
        EXPECT(0xbc1f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc1d));
        EXPECT(0x50, gbc.readMem(0xbc1e));
        // CB 50 01D6
        gbc.setState(0x3d9a, 0x9a03, 0x6e30, 0xb6bd, 0x1ef4, 0x104a, 0x1, 0x0);
        gbc.writeMem(0x3d9a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x9a03, gbc.sp());
        EXPECT(0x3d9c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01D7
        gbc.setState(0x70d2, 0xaf5a, 0x5450, 0x65fc, 0x2bd9, 0xb21a, 0x0, 0x0);
        gbc.writeMem(0x70d2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xaf5a, gbc.sp());
        EXPECT(0x70d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01DA
        gbc.setState(0xd649, 0xa838, 0xd930, 0x9e27, 0xba3d, 0x461a, 0x0, 0x1);
        gbc.writeMem(0xd649, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xa838, gbc.sp());
        EXPECT(0xd64b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd649));
        EXPECT(0x50, gbc.readMem(0xd64a));
        // CB 50 01DB
        gbc.setState(0xbf4b, 0x5e3e, 0x9bb0, 0x9d51, 0x9865, 0xc5e6, 0x1, 0x0);
        gbc.writeMem(0xbf4b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x5e3e, gbc.sp());
        EXPECT(0xbf4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf4b));
        EXPECT(0x50, gbc.readMem(0xbf4c));
        // CB 50 01DC
        gbc.setState(0xa5e9, 0x3b57, 0x36a0, 0x20a6, 0xa5db, 0x4d35, 0x0, 0x0);
        gbc.writeMem(0xa5e9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x3b57, gbc.sp());
        EXPECT(0xa5eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa5e9));
        EXPECT(0x50, gbc.readMem(0xa5ea));
        // CB 50 01DD
        gbc.setState(0xdae4, 0x8f62, 0xf30, 0x1244, 0xef2b, 0x5a19, 0x1, 0x1);
        gbc.writeMem(0xdae4, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x8f62, gbc.sp());
        EXPECT(0xdae6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdae4));
        EXPECT(0x50, gbc.readMem(0xdae5));
        // CB 50 01DE
        gbc.setState(0xa56, 0x4ca9, 0xe3c0, 0x4924, 0x4a45, 0x7f4c, 0x1, 0x0);
        gbc.writeMem(0xa56, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x4ca9, gbc.sp());
        EXPECT(0xa58, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01DF
        gbc.setState(0x15e4, 0x9fbf, 0x690, 0x6477, 0x3e37, 0xbcc0, 0x0, 0x1);
        gbc.writeMem(0x15e4, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x9fbf, gbc.sp());
        EXPECT(0x15e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01E0
        gbc.setState(0x8ec8, 0x7219, 0x1b00, 0xa4cf, 0x50b4, 0xb082, 0x1, 0x1);
        gbc.writeMem(0x8ec8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x7219, gbc.sp());
        EXPECT(0x8eca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ec8));
        EXPECT(0x50, gbc.readMem(0x8ec9));
        // CB 50 01E1
        gbc.setState(0x3a2c, 0x123, 0xcda0, 0xe1c4, 0xb52b, 0xdb12, 0x0, 0x1);
        gbc.writeMem(0x3a2c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x123, gbc.sp());
        EXPECT(0x3a2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01E2
        gbc.setState(0x162d, 0x6ee7, 0xc420, 0x9c18, 0x334b, 0x5683, 0x1, 0x0);
        gbc.writeMem(0x162d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x6ee7, gbc.sp());
        EXPECT(0x162f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01E3
        gbc.setState(0x4e4, 0x3b6c, 0x25c0, 0x29ec, 0x6407, 0x5603, 0x1, 0x0);
        gbc.writeMem(0x4e4, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x3b6c, gbc.sp());
        EXPECT(0x4e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01E4
        gbc.setState(0x76db, 0x5683, 0x87b0, 0x3f9c, 0x21ad, 0x9ad6, 0x0, 0x0);
        gbc.writeMem(0x76db, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x5683, gbc.sp());
        EXPECT(0x76dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01E5
        gbc.setState(0x61ff, 0x7784, 0x4a10, 0x2514, 0xc03d, 0xf8c7, 0x1, 0x1);
        gbc.writeMem(0x61ff, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x7784, gbc.sp());
        EXPECT(0x6201, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01E6
        gbc.setState(0x4566, 0x7147, 0x7330, 0xe2f2, 0x30d1, 0x2360, 0x1, 0x1);
        gbc.writeMem(0x4566, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x7147, gbc.sp());
        EXPECT(0x4568, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01E7
        gbc.setState(0xe37, 0xbed7, 0x26b0, 0x125c, 0x5b5, 0xf388, 0x0, 0x0);
        gbc.writeMem(0xe37, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xbed7, gbc.sp());
        EXPECT(0xe39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01E8
        gbc.setState(0x5e81, 0x215d, 0xdcb0, 0xa850, 0x93cc, 0xbc6f, 0x0, 0x0);
        gbc.writeMem(0x5e81, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x215d, gbc.sp());
        EXPECT(0x5e83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01E9
        gbc.setState(0x80e6, 0xcb58, 0xfb50, 0x6cb, 0x828f, 0x5e1b, 0x0, 0x1);
        gbc.writeMem(0x80e6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xcb58, gbc.sp());
        EXPECT(0x80e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80e6));
        EXPECT(0x50, gbc.readMem(0x80e7));
        // CB 50 01EA
        gbc.setState(0x5b99, 0x594b, 0x48a0, 0xd2db, 0x6d3f, 0x4464, 0x1, 0x0);
        gbc.writeMem(0x5b99, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x594b, gbc.sp());
        EXPECT(0x5b9b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01EB
        gbc.setState(0x3962, 0x3156, 0x59f0, 0x9f55, 0x52e9, 0x3176, 0x1, 0x1);
        gbc.writeMem(0x3962, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x3156, gbc.sp());
        EXPECT(0x3964, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01EC
        gbc.setState(0x797d, 0xdca, 0xb2b0, 0x5612, 0x6154, 0x5911, 0x1, 0x1);
        gbc.writeMem(0x797d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xdca, gbc.sp());
        EXPECT(0x797f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01ED
        gbc.setState(0x982c, 0xaf67, 0x7270, 0xaf5b, 0xb8e, 0x256b, 0x1, 0x0);
        gbc.writeMem(0x982c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xaf67, gbc.sp());
        EXPECT(0x982e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x982c));
        EXPECT(0x50, gbc.readMem(0x982d));
        // CB 50 01EE
        gbc.setState(0xa3c2, 0x1cea, 0x26f0, 0x627b, 0xa84, 0x8b44, 0x1, 0x1);
        gbc.writeMem(0xa3c2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x1cea, gbc.sp());
        EXPECT(0xa3c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa3c2));
        EXPECT(0x50, gbc.readMem(0xa3c3));
        // CB 50 01EF
        gbc.setState(0xe25d, 0x464c, 0x7840, 0xbe42, 0x3382, 0x4979, 0x1, 0x0);
        gbc.writeMem(0xe25d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x464c, gbc.sp());
        EXPECT(0xe25f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe25d));
        EXPECT(0x50, gbc.readMem(0xe25e));
        // CB 50 01F0
        gbc.setState(0x2aaa, 0xae7, 0x9d50, 0xb370, 0xcbae, 0x87c0, 0x1, 0x0);
        gbc.writeMem(0x2aaa, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xae7, gbc.sp());
        EXPECT(0x2aac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01F1
        gbc.setState(0x8c6d, 0xb515, 0x9180, 0x8369, 0xd54b, 0x34fe, 0x1, 0x1);
        gbc.writeMem(0x8c6d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xb515, gbc.sp());
        EXPECT(0x8c6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8c6d));
        EXPECT(0x50, gbc.readMem(0x8c6e));
        // CB 50 01F2
        gbc.setState(0x3859, 0xdbdc, 0xadd0, 0x5920, 0xd6e6, 0x1167, 0x0, 0x1);
        gbc.writeMem(0x3859, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xdbdc, gbc.sp());
        EXPECT(0x385b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01F4
        gbc.setState(0xc113, 0x2260, 0x2240, 0x9b36, 0x57cf, 0xae2b, 0x1, 0x0);
        gbc.writeMem(0xc113, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x2260, gbc.sp());
        EXPECT(0xc115, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc113));
        EXPECT(0x50, gbc.readMem(0xc114));
        // CB 50 01F5
        gbc.setState(0x525f, 0xeafc, 0x2270, 0x162f, 0x916f, 0x9223, 0x0, 0x0);
        gbc.writeMem(0x525f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xeafc, gbc.sp());
        EXPECT(0x5261, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01F6
        gbc.setState(0xd202, 0x2e25, 0x6620, 0x97b2, 0x5222, 0x646c, 0x0, 0x1);
        gbc.writeMem(0xd202, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x2e25, gbc.sp());
        EXPECT(0xd204, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd202));
        EXPECT(0x50, gbc.readMem(0xd203));
        // CB 50 01F7
        gbc.setState(0xdd02, 0xc4a2, 0xdc60, 0xb232, 0x9069, 0x4ee0, 0x1, 0x0);
        gbc.writeMem(0xdd02, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xc4a2, gbc.sp());
        EXPECT(0xdd04, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd02));
        EXPECT(0x50, gbc.readMem(0xdd03));
        // CB 50 01F8
        gbc.setState(0x1276, 0x3d56, 0xd170, 0x92d3, 0x7c26, 0xcac3, 0x1, 0x0);
        gbc.writeMem(0x1276, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x3d56, gbc.sp());
        EXPECT(0x1278, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01F9
        gbc.setState(0x8e7d, 0xb7b, 0x50c0, 0x50f1, 0x14ef, 0xa8b3, 0x1, 0x1);
        gbc.writeMem(0x8e7d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xb7b, gbc.sp());
        EXPECT(0x8e7f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e7d));
        EXPECT(0x50, gbc.readMem(0x8e7e));
        // CB 50 01FA
        gbc.setState(0xde58, 0x233e, 0x5440, 0xc9ca, 0x1886, 0xc6cf, 0x1, 0x1);
        gbc.writeMem(0xde58, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x233e, gbc.sp());
        EXPECT(0xde5a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde58));
        EXPECT(0x50, gbc.readMem(0xde59));
        // CB 50 01FB
        gbc.setState(0x22e0, 0x9b76, 0xec80, 0x5ccc, 0x8dfb, 0x8fa5, 0x1, 0x1);
        gbc.writeMem(0x22e0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x9b76, gbc.sp());
        EXPECT(0x22e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01FC
        gbc.setState(0x7fda, 0xcc65, 0x6230, 0xf61e, 0xf546, 0x563c, 0x0, 0x1);
        gbc.writeMem(0x7fda, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xcc65, gbc.sp());
        EXPECT(0x7fdc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 01FD
        gbc.setState(0xc6ee, 0x2bd8, 0x3900, 0xe2fb, 0x7b03, 0x98a7, 0x0, 0x1);
        gbc.writeMem(0xc6ee, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x2bd8, gbc.sp());
        EXPECT(0xc6f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc6ee));
        EXPECT(0x50, gbc.readMem(0xc6ef));
        // CB 50 01FE
        gbc.setState(0x857, 0xc64c, 0x54e0, 0x2f12, 0x2853, 0xfd34, 0x0, 0x0);
        gbc.writeMem(0x857, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xc64c, gbc.sp());
        EXPECT(0x859, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 01FF
        gbc.setState(0x59ff, 0x9226, 0xaf10, 0x6078, 0x6685, 0x901, 0x1, 0x0);
        gbc.writeMem(0x59ff, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x9226, gbc.sp());
        EXPECT(0x5a01, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0200
        gbc.setState(0xb43, 0x1f1f, 0x8fa0, 0xb503, 0x3590, 0x87be, 0x0, 0x1);
        gbc.writeMem(0xb43, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x1f1f, gbc.sp());
        EXPECT(0xb45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0201
        gbc.setState(0x1adb, 0x8b31, 0x8eb0, 0x76bb, 0x398a, 0xd5d0, 0x1, 0x0);
        gbc.writeMem(0x1adb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x8b31, gbc.sp());
        EXPECT(0x1add, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0202
        gbc.setState(0x6574, 0x446e, 0x66b0, 0x43c1, 0xdf90, 0xf759, 0x1, 0x0);
        gbc.writeMem(0x6574, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x446e, gbc.sp());
        EXPECT(0x6576, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0203
        gbc.setState(0x2e5, 0x6d78, 0x4f20, 0xbad5, 0xdc94, 0x70dc, 0x1, 0x1);
        gbc.writeMem(0x2e5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x6d78, gbc.sp());
        EXPECT(0x2e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0204
        gbc.setState(0xb5a5, 0x964, 0x17a0, 0x9516, 0xd7ab, 0x21c4, 0x0, 0x0);
        gbc.writeMem(0xb5a5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x964, gbc.sp());
        EXPECT(0xb5a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb5a5));
        EXPECT(0x50, gbc.readMem(0xb5a6));
        // CB 50 0205
        gbc.setState(0xa585, 0x162c, 0x1ee0, 0xeac9, 0xc6ca, 0x351b, 0x0, 0x0);
        gbc.writeMem(0xa585, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x162c, gbc.sp());
        EXPECT(0xa587, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa585));
        EXPECT(0x50, gbc.readMem(0xa586));
        // CB 50 0206
        gbc.setState(0x359f, 0xc252, 0xf600, 0xecb0, 0x40c3, 0xe149, 0x1, 0x1);
        gbc.writeMem(0x359f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xc252, gbc.sp());
        EXPECT(0x35a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0207
        gbc.setState(0xefa1, 0xd2de, 0xa030, 0xe6df, 0x28b5, 0x429f, 0x0, 0x1);
        gbc.writeMem(0xefa1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xd2de, gbc.sp());
        EXPECT(0xefa3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xefa1));
        EXPECT(0x50, gbc.readMem(0xefa2));
        // CB 50 0208
        gbc.setState(0x8f0e, 0xebf2, 0x7770, 0x5c14, 0x9746, 0x5740, 0x0, 0x0);
        gbc.writeMem(0x8f0e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xebf2, gbc.sp());
        EXPECT(0x8f10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f0e));
        EXPECT(0x50, gbc.readMem(0x8f0f));
        // CB 50 0209
        gbc.setState(0x1bac, 0x4ad2, 0xe1a0, 0x97ec, 0x2c8f, 0xf29a, 0x0, 0x1);
        gbc.writeMem(0x1bac, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x4ad2, gbc.sp());
        EXPECT(0x1bae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 020A
        gbc.setState(0x2036, 0x5d2f, 0x3a0, 0x257d, 0x8892, 0xb167, 0x0, 0x0);
        gbc.writeMem(0x2036, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x5d2f, gbc.sp());
        EXPECT(0x2038, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 020B
        gbc.setState(0x561e, 0x3443, 0x6a40, 0x7eef, 0x8fe3, 0xf757, 0x0, 0x1);
        gbc.writeMem(0x561e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x3443, gbc.sp());
        EXPECT(0x5620, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 020C
        gbc.setState(0x96af, 0x43c2, 0x1690, 0x10d1, 0x34dc, 0x4cbc, 0x0, 0x1);
        gbc.writeMem(0x96af, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x43c2, gbc.sp());
        EXPECT(0x96b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x96af));
        EXPECT(0x50, gbc.readMem(0x96b0));
        // CB 50 020D
        gbc.setState(0x6ee8, 0x2861, 0x7b10, 0xb21f, 0xa0c3, 0xedc6, 0x1, 0x0);
        gbc.writeMem(0x6ee8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x2861, gbc.sp());
        EXPECT(0x6eea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 020E
        gbc.setState(0x6024, 0xf3ec, 0x1470, 0xb5f6, 0x679f, 0x1c3, 0x0, 0x1);
        gbc.writeMem(0x6024, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xf3ec, gbc.sp());
        EXPECT(0x6026, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 020F
        gbc.setState(0x9df8, 0x9c3d, 0xa180, 0x1cec, 0x756c, 0xa772, 0x1, 0x1);
        gbc.writeMem(0x9df8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x9c3d, gbc.sp());
        EXPECT(0x9dfa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9df8));
        EXPECT(0x50, gbc.readMem(0x9df9));
        // CB 50 0210
        gbc.setState(0xd15a, 0x6181, 0x4e20, 0x4eb1, 0x4c15, 0x4232, 0x0, 0x0);
        gbc.writeMem(0xd15a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x6181, gbc.sp());
        EXPECT(0xd15c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd15a));
        EXPECT(0x50, gbc.readMem(0xd15b));
        // CB 50 0211
        gbc.setState(0x4ec9, 0xa0bf, 0xead0, 0x3e57, 0x6ca4, 0x8dfd, 0x0, 0x1);
        gbc.writeMem(0x4ec9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xa0bf, gbc.sp());
        EXPECT(0x4ecb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0212
        gbc.setState(0xa9d6, 0xd006, 0xed70, 0x9d17, 0x81e0, 0x7e4e, 0x1, 0x1);
        gbc.writeMem(0xa9d6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xd006, gbc.sp());
        EXPECT(0xa9d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa9d6));
        EXPECT(0x50, gbc.readMem(0xa9d7));
        // CB 50 0213
        gbc.setState(0xee51, 0x8abb, 0x82e0, 0xef1, 0x2f18, 0x38de, 0x1, 0x1);
        gbc.writeMem(0xee51, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x8abb, gbc.sp());
        EXPECT(0xee53, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee51));
        EXPECT(0x50, gbc.readMem(0xee52));
        // CB 50 0214
        gbc.setState(0x5386, 0x9850, 0x4320, 0x31da, 0x8474, 0x8769, 0x1, 0x1);
        gbc.writeMem(0x5386, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x9850, gbc.sp());
        EXPECT(0x5388, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0215
        gbc.setState(0x1984, 0x2eb, 0x1a20, 0x1261, 0x88cc, 0x8d52, 0x0, 0x1);
        gbc.writeMem(0x1984, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x2eb, gbc.sp());
        EXPECT(0x1986, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0216
        gbc.setState(0xcffe, 0xe0d5, 0xb370, 0x43a2, 0x1fdc, 0x42cb, 0x0, 0x0);
        gbc.writeMem(0xcffe, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xe0d5, gbc.sp());
        EXPECT(0xd000, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcffe));
        EXPECT(0x50, gbc.readMem(0xcfff));
        // CB 50 0217
        gbc.setState(0x4c2a, 0x227b, 0x870, 0x14e6, 0x9069, 0xff0c, 0x1, 0x1);
        gbc.writeMem(0x4c2a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x227b, gbc.sp());
        EXPECT(0x4c2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0218
        gbc.setState(0x26e7, 0x2615, 0x6b20, 0xc801, 0xe08, 0x2f6b, 0x0, 0x0);
        gbc.writeMem(0x26e7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x2615, gbc.sp());
        EXPECT(0x26e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0219
        gbc.setState(0x1a8a, 0xb12d, 0xed50, 0xb1b3, 0x8fe, 0xbeae, 0x0, 0x1);
        gbc.writeMem(0x1a8a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xb12d, gbc.sp());
        EXPECT(0x1a8c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 021A
        gbc.setState(0x643d, 0xb29a, 0xca90, 0xd5ee, 0xd7fd, 0x8fd6, 0x1, 0x1);
        gbc.writeMem(0x643d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xb29a, gbc.sp());
        EXPECT(0x643f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 021B
        gbc.setState(0xec72, 0x12b3, 0xae10, 0xb894, 0xa640, 0x3fea, 0x1, 0x1);
        gbc.writeMem(0xec72, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x12b3, gbc.sp());
        EXPECT(0xec74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec72));
        EXPECT(0x50, gbc.readMem(0xec73));
        // CB 50 021D
        gbc.setState(0x808c, 0x3a72, 0x3130, 0xc27f, 0x2f2a, 0xe863, 0x0, 0x0);
        gbc.writeMem(0x808c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x3a72, gbc.sp());
        EXPECT(0x808e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x808c));
        EXPECT(0x50, gbc.readMem(0x808d));
        // CB 50 021F
        gbc.setState(0x95d5, 0x5835, 0x84f0, 0x77f0, 0xaba4, 0xf263, 0x1, 0x0);
        gbc.writeMem(0x95d5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x5835, gbc.sp());
        EXPECT(0x95d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x95d5));
        EXPECT(0x50, gbc.readMem(0x95d6));
        // CB 50 0220
        gbc.setState(0x25bb, 0x8c5f, 0x6d30, 0xa580, 0xeb59, 0x5b3, 0x0, 0x1);
        gbc.writeMem(0x25bb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x8c5f, gbc.sp());
        EXPECT(0x25bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0221
        gbc.setState(0xb09a, 0xa4fa, 0x63c0, 0x5d7f, 0x48c9, 0x8795, 0x0, 0x1);
        gbc.writeMem(0xb09a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xa4fa, gbc.sp());
        EXPECT(0xb09c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb09a));
        EXPECT(0x50, gbc.readMem(0xb09b));
        // CB 50 0222
        gbc.setState(0x1b21, 0x43ea, 0x1510, 0x931, 0xd09e, 0xee8, 0x1, 0x0);
        gbc.writeMem(0x1b21, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x43ea, gbc.sp());
        EXPECT(0x1b23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0223
        gbc.setState(0x95df, 0x3cb8, 0xc500, 0xf920, 0xcc58, 0x1d38, 0x0, 0x1);
        gbc.writeMem(0x95df, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x3cb8, gbc.sp());
        EXPECT(0x95e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x95df));
        EXPECT(0x50, gbc.readMem(0x95e0));
        // CB 50 0224
        gbc.setState(0x8de4, 0xbdf3, 0x18f0, 0x880c, 0x6fe2, 0xe2d5, 0x0, 0x1);
        gbc.writeMem(0x8de4, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xbdf3, gbc.sp());
        EXPECT(0x8de6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8de4));
        EXPECT(0x50, gbc.readMem(0x8de5));
        // CB 50 0225
        gbc.setState(0x716a, 0xb601, 0x5ea0, 0xf95, 0x24ba, 0x5270, 0x1, 0x0);
        gbc.writeMem(0x716a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xb601, gbc.sp());
        EXPECT(0x716c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0226
        gbc.setState(0xe37e, 0xa19b, 0xbc60, 0xf739, 0x5995, 0xc100, 0x1, 0x1);
        gbc.writeMem(0xe37e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xa19b, gbc.sp());
        EXPECT(0xe380, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe37e));
        EXPECT(0x50, gbc.readMem(0xe37f));
        // CB 50 0227
        gbc.setState(0x9c7e, 0xc937, 0x20, 0x6527, 0x9d50, 0xb773, 0x1, 0x0);
        gbc.writeMem(0x9c7e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xc937, gbc.sp());
        EXPECT(0x9c80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c7e));
        EXPECT(0x50, gbc.readMem(0x9c7f));
        // CB 50 0228
        gbc.setState(0x23f, 0x4234, 0x9570, 0x3975, 0xb444, 0x859, 0x1, 0x0);
        gbc.writeMem(0x23f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x4234, gbc.sp());
        EXPECT(0x241, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0229
        gbc.setState(0x4f82, 0xf968, 0x8a80, 0x1ba, 0x1f59, 0x67ab, 0x1, 0x0);
        gbc.writeMem(0x4f82, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xf968, gbc.sp());
        EXPECT(0x4f84, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 022A
        gbc.setState(0xc9be, 0xdedc, 0xba60, 0x97d8, 0x6a2c, 0x2c37, 0x0, 0x0);
        gbc.writeMem(0xc9be, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xdedc, gbc.sp());
        EXPECT(0xc9c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc9be));
        EXPECT(0x50, gbc.readMem(0xc9bf));
        // CB 50 022B
        gbc.setState(0xb8ac, 0xd815, 0x2b50, 0x6e39, 0xd12f, 0xdd6e, 0x1, 0x1);
        gbc.writeMem(0xb8ac, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xd815, gbc.sp());
        EXPECT(0xb8ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb8ac));
        EXPECT(0x50, gbc.readMem(0xb8ad));
        // CB 50 022C
        gbc.setState(0x59ca, 0x92c8, 0x99a0, 0xefbb, 0xbef3, 0xf855, 0x1, 0x0);
        gbc.writeMem(0x59ca, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x92c8, gbc.sp());
        EXPECT(0x59cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 022D
        gbc.setState(0x5ab7, 0x4040, 0x62d0, 0x3012, 0x8968, 0x7df0, 0x1, 0x0);
        gbc.writeMem(0x5ab7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x4040, gbc.sp());
        EXPECT(0x5ab9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 022E
        gbc.setState(0x4a90, 0x9b76, 0x4970, 0xef0a, 0x19ef, 0xd3fb, 0x0, 0x1);
        gbc.writeMem(0x4a90, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x9b76, gbc.sp());
        EXPECT(0x4a92, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 022F
        gbc.setState(0x9093, 0x9c1a, 0x3160, 0x4ef0, 0x8683, 0x39a2, 0x1, 0x1);
        gbc.writeMem(0x9093, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x9c1a, gbc.sp());
        EXPECT(0x9095, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9093));
        EXPECT(0x50, gbc.readMem(0x9094));
        // CB 50 0230
        gbc.setState(0xc091, 0x9bbc, 0x38a0, 0x3ec2, 0x3da7, 0x6948, 0x0, 0x0);
        gbc.writeMem(0xc091, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x9bbc, gbc.sp());
        EXPECT(0xc093, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc091));
        EXPECT(0x50, gbc.readMem(0xc092));
        // CB 50 0231
        gbc.setState(0x47f8, 0x3b86, 0xf60, 0xe6f6, 0x1b5f, 0x9707, 0x1, 0x0);
        gbc.writeMem(0x47f8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x3b86, gbc.sp());
        EXPECT(0x47fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0232
        gbc.setState(0xe075, 0x3ad5, 0xf7f0, 0x7bd2, 0xb70d, 0x306, 0x0, 0x1);
        gbc.writeMem(0xe075, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x3ad5, gbc.sp());
        EXPECT(0xe077, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe075));
        EXPECT(0x50, gbc.readMem(0xe076));
        // CB 50 0233
        gbc.setState(0x1d8d, 0xb4c6, 0xf6e0, 0x3a35, 0xb9bc, 0x1213, 0x0, 0x0);
        gbc.writeMem(0x1d8d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xb4c6, gbc.sp());
        EXPECT(0x1d8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0234
        gbc.setState(0x6a7c, 0xb9bd, 0xf870, 0xe09b, 0x1833, 0x7d83, 0x1, 0x0);
        gbc.writeMem(0x6a7c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xb9bd, gbc.sp());
        EXPECT(0x6a7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0235
        gbc.setState(0xcdff, 0xf501, 0xcbb0, 0x3eea, 0xaec9, 0x24a6, 0x0, 0x1);
        gbc.writeMem(0xcdff, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xf501, gbc.sp());
        EXPECT(0xce01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcdff));
        EXPECT(0x50, gbc.readMem(0xce00));
        // CB 50 0236
        gbc.setState(0xc95b, 0xf32e, 0xe6a0, 0x1909, 0x86c7, 0xfed7, 0x0, 0x1);
        gbc.writeMem(0xc95b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xf32e, gbc.sp());
        EXPECT(0xc95d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc95b));
        EXPECT(0x50, gbc.readMem(0xc95c));
        // CB 50 0237
        gbc.setState(0xa41b, 0xf3ba, 0x4b50, 0xc806, 0x1c1f, 0xdf7e, 0x0, 0x1);
        gbc.writeMem(0xa41b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xf3ba, gbc.sp());
        EXPECT(0xa41d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa41b));
        EXPECT(0x50, gbc.readMem(0xa41c));
        // CB 50 0238
        gbc.setState(0xea77, 0x1865, 0x2350, 0x4e23, 0xa591, 0x2182, 0x0, 0x0);
        gbc.writeMem(0xea77, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x1865, gbc.sp());
        EXPECT(0xea79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea77));
        EXPECT(0x50, gbc.readMem(0xea78));
        // CB 50 0239
        gbc.setState(0xde09, 0x2c84, 0x5540, 0x9d35, 0x7521, 0xd667, 0x1, 0x1);
        gbc.writeMem(0xde09, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x2c84, gbc.sp());
        EXPECT(0xde0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde09));
        EXPECT(0x50, gbc.readMem(0xde0a));
        // CB 50 023A
        gbc.setState(0x3bec, 0x5bc2, 0x3980, 0x50e8, 0x2307, 0xd3c5, 0x1, 0x0);
        gbc.writeMem(0x3bec, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x5bc2, gbc.sp());
        EXPECT(0x3bee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 023B
        gbc.setState(0xe716, 0x4ea1, 0x9f20, 0xc51b, 0xe4fa, 0x84c5, 0x0, 0x1);
        gbc.writeMem(0xe716, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x4ea1, gbc.sp());
        EXPECT(0xe718, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe716));
        EXPECT(0x50, gbc.readMem(0xe717));
        // CB 50 023C
        gbc.setState(0xe108, 0x53cc, 0xcb90, 0x1dbb, 0xbab2, 0x4b07, 0x0, 0x1);
        gbc.writeMem(0xe108, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x53cc, gbc.sp());
        EXPECT(0xe10a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe108));
        EXPECT(0x50, gbc.readMem(0xe109));
        // CB 50 023D
        gbc.setState(0xc465, 0x3067, 0x9340, 0x6157, 0x235d, 0x65f2, 0x0, 0x1);
        gbc.writeMem(0xc465, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x3067, gbc.sp());
        EXPECT(0xc467, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc465));
        EXPECT(0x50, gbc.readMem(0xc466));
        // CB 50 023E
        gbc.setState(0xbd41, 0x1f10, 0x2bb0, 0xbdb2, 0xbd8a, 0x7782, 0x0, 0x1);
        gbc.writeMem(0xbd41, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x1f10, gbc.sp());
        EXPECT(0xbd43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd41));
        EXPECT(0x50, gbc.readMem(0xbd42));
        // CB 50 023F
        gbc.setState(0x5277, 0x9ab6, 0x8000, 0x6392, 0xa00b, 0xe420, 0x0, 0x1);
        gbc.writeMem(0x5277, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x9ab6, gbc.sp());
        EXPECT(0x5279, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0240
        gbc.setState(0xb70, 0x5204, 0xed10, 0xf0a3, 0xb63a, 0x260f, 0x1, 0x1);
        gbc.writeMem(0xb70, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x5204, gbc.sp());
        EXPECT(0xb72, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0241
        gbc.setState(0x55f1, 0x2e2e, 0x18e0, 0x1099, 0xd27e, 0xed1a, 0x1, 0x0);
        gbc.writeMem(0x55f1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x2e2e, gbc.sp());
        EXPECT(0x55f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0242
        gbc.setState(0x71bc, 0x56a0, 0xf4d0, 0x9e4b, 0xd64c, 0x45a6, 0x1, 0x0);
        gbc.writeMem(0x71bc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x56a0, gbc.sp());
        EXPECT(0x71be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0243
        gbc.setState(0xa54e, 0x31e0, 0xea60, 0x829, 0xfb8c, 0x2cd2, 0x1, 0x0);
        gbc.writeMem(0xa54e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x31e0, gbc.sp());
        EXPECT(0xa550, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa54e));
        EXPECT(0x50, gbc.readMem(0xa54f));
        // CB 50 0244
        gbc.setState(0xd0a8, 0xd74d, 0x5130, 0x2c5, 0x7c71, 0x792, 0x1, 0x1);
        gbc.writeMem(0xd0a8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xd74d, gbc.sp());
        EXPECT(0xd0aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd0a8));
        EXPECT(0x50, gbc.readMem(0xd0a9));
        // CB 50 0245
        gbc.setState(0xb18, 0xc28d, 0x4560, 0xf380, 0x956d, 0x396, 0x0, 0x0);
        gbc.writeMem(0xb18, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xc28d, gbc.sp());
        EXPECT(0xb1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0246
        gbc.setState(0x1256, 0x5217, 0x9d80, 0x3c29, 0x52fa, 0xa896, 0x0, 0x0);
        gbc.writeMem(0x1256, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x5217, gbc.sp());
        EXPECT(0x1258, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0247
        gbc.setState(0xb142, 0x1948, 0xa7b0, 0xca36, 0x9ca2, 0x4035, 0x0, 0x0);
        gbc.writeMem(0xb142, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x1948, gbc.sp());
        EXPECT(0xb144, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb142));
        EXPECT(0x50, gbc.readMem(0xb143));
        // CB 50 0248
        gbc.setState(0xb031, 0x1416, 0x8660, 0x7ca1, 0x93c9, 0xb6df, 0x1, 0x1);
        gbc.writeMem(0xb031, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x1416, gbc.sp());
        EXPECT(0xb033, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb031));
        EXPECT(0x50, gbc.readMem(0xb032));
        // CB 50 0249
        gbc.setState(0x10de, 0x25bd, 0x57d0, 0x23a0, 0xe1a3, 0xbf60, 0x1, 0x1);
        gbc.writeMem(0x10de, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x25bd, gbc.sp());
        EXPECT(0x10e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 024A
        gbc.setState(0xf82, 0x53cd, 0x5800, 0xb029, 0xc2f, 0xef45, 0x1, 0x1);
        gbc.writeMem(0xf82, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x53cd, gbc.sp());
        EXPECT(0xf84, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 024B
        gbc.setState(0x89a5, 0x2b92, 0x5a40, 0xb4b5, 0xd0df, 0x6ff, 0x0, 0x1);
        gbc.writeMem(0x89a5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x2b92, gbc.sp());
        EXPECT(0x89a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89a5));
        EXPECT(0x50, gbc.readMem(0x89a6));
        // CB 50 024C
        gbc.setState(0x9ed, 0xcee1, 0xebc0, 0xb48f, 0x66b2, 0xd11f, 0x1, 0x0);
        gbc.writeMem(0x9ed, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xcee1, gbc.sp());
        EXPECT(0x9ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 024D
        gbc.setState(0x5ed3, 0xc63b, 0xd480, 0xb0e2, 0x3b13, 0x9f9, 0x1, 0x1);
        gbc.writeMem(0x5ed3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xc63b, gbc.sp());
        EXPECT(0x5ed5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 024E
        gbc.setState(0x4cb7, 0xe42b, 0x3250, 0xaf85, 0xd0db, 0xf4cf, 0x1, 0x1);
        gbc.writeMem(0x4cb7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xe42b, gbc.sp());
        EXPECT(0x4cb9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 024F
        gbc.setState(0xd5fd, 0x47fe, 0x7130, 0x69eb, 0x10f8, 0x8599, 0x1, 0x0);
        gbc.writeMem(0xd5fd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x47fe, gbc.sp());
        EXPECT(0xd5ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5fd));
        EXPECT(0x50, gbc.readMem(0xd5fe));
        // CB 50 0250
        gbc.setState(0xeb71, 0x17e0, 0x6a0, 0x9108, 0xaeb5, 0x9965, 0x1, 0x0);
        gbc.writeMem(0xeb71, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x17e0, gbc.sp());
        EXPECT(0xeb73, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb71));
        EXPECT(0x50, gbc.readMem(0xeb72));
        // CB 50 0251
        gbc.setState(0x1a0b, 0x3b98, 0xe240, 0xfedc, 0x8b05, 0x9113, 0x1, 0x0);
        gbc.writeMem(0x1a0b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x3b98, gbc.sp());
        EXPECT(0x1a0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0252
        gbc.setState(0x19c0, 0xd1d0, 0x73b0, 0xde52, 0x84a2, 0xdf93, 0x1, 0x0);
        gbc.writeMem(0x19c0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xd1d0, gbc.sp());
        EXPECT(0x19c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0253
        gbc.setState(0x357a, 0x200d, 0x8650, 0xe7e0, 0x12b9, 0xd6c4, 0x0, 0x0);
        gbc.writeMem(0x357a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x200d, gbc.sp());
        EXPECT(0x357c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0254
        gbc.setState(0x7ad6, 0x3fb6, 0xbaa0, 0x3cd5, 0xfab2, 0x6301, 0x1, 0x1);
        gbc.writeMem(0x7ad6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x3fb6, gbc.sp());
        EXPECT(0x7ad8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0256
        gbc.setState(0xb3e9, 0x933c, 0xc5b0, 0x243a, 0xd25e, 0x9f5b, 0x1, 0x0);
        gbc.writeMem(0xb3e9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x933c, gbc.sp());
        EXPECT(0xb3eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb3e9));
        EXPECT(0x50, gbc.readMem(0xb3ea));
        // CB 50 0257
        gbc.setState(0xa910, 0x4957, 0x65e0, 0x58e6, 0xd430, 0xd66a, 0x1, 0x0);
        gbc.writeMem(0xa910, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x4957, gbc.sp());
        EXPECT(0xa912, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa910));
        EXPECT(0x50, gbc.readMem(0xa911));
        // CB 50 0259
        gbc.setState(0x56, 0x6526, 0xc60, 0x3a80, 0x6a10, 0xa89f, 0x0, 0x1);
        gbc.writeMem(0x56, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x6526, gbc.sp());
        EXPECT(0x58, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 025B
        gbc.setState(0x7b4e, 0x4243, 0xaa0, 0x5620, 0xfd44, 0xd936, 0x1, 0x0);
        gbc.writeMem(0x7b4e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x4243, gbc.sp());
        EXPECT(0x7b50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 025C
        gbc.setState(0xd04b, 0x9dc0, 0x1da0, 0x4c4, 0x33c1, 0xd108, 0x0, 0x0);
        gbc.writeMem(0xd04b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x9dc0, gbc.sp());
        EXPECT(0xd04d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd04b));
        EXPECT(0x50, gbc.readMem(0xd04c));
        // CB 50 025D
        gbc.setState(0x8223, 0xde8b, 0xe330, 0x7a3a, 0x5383, 0x7f6b, 0x1, 0x1);
        gbc.writeMem(0x8223, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xde8b, gbc.sp());
        EXPECT(0x8225, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8223));
        EXPECT(0x50, gbc.readMem(0x8224));
        // CB 50 025E
        gbc.setState(0x78ed, 0x5ea, 0x480, 0xebfb, 0xfd3b, 0x351c, 0x1, 0x0);
        gbc.writeMem(0x78ed, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x5ea, gbc.sp());
        EXPECT(0x78ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 025F
        gbc.setState(0x6460, 0x4917, 0xf540, 0x815, 0x12c0, 0xf0bb, 0x0, 0x0);
        gbc.writeMem(0x6460, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x4917, gbc.sp());
        EXPECT(0x6462, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0260
        gbc.setState(0xedad, 0xb01e, 0x5e20, 0xc22, 0x6bcb, 0xf035, 0x0, 0x1);
        gbc.writeMem(0xedad, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xb01e, gbc.sp());
        EXPECT(0xedaf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xedad));
        EXPECT(0x50, gbc.readMem(0xedae));
        // CB 50 0261
        gbc.setState(0x2e12, 0x4ec7, 0x1780, 0xde58, 0xeac2, 0xc835, 0x1, 0x0);
        gbc.writeMem(0x2e12, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x4ec7, gbc.sp());
        EXPECT(0x2e14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0262
        gbc.setState(0xacf3, 0x4b3b, 0xd2d0, 0xde6d, 0xbc4, 0x2ad5, 0x1, 0x0);
        gbc.writeMem(0xacf3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x4b3b, gbc.sp());
        EXPECT(0xacf5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xacf3));
        EXPECT(0x50, gbc.readMem(0xacf4));
        // CB 50 0263
        gbc.setState(0xa4c3, 0xc5d3, 0xb280, 0x6b30, 0xf88d, 0xb08e, 0x0, 0x0);
        gbc.writeMem(0xa4c3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xc5d3, gbc.sp());
        EXPECT(0xa4c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4c3));
        EXPECT(0x50, gbc.readMem(0xa4c4));
        // CB 50 0264
        gbc.setState(0x8a88, 0xc5dc, 0x5240, 0xdd4b, 0x8c56, 0xc73, 0x1, 0x0);
        gbc.writeMem(0x8a88, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xc5dc, gbc.sp());
        EXPECT(0x8a8a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a88));
        EXPECT(0x50, gbc.readMem(0x8a89));
        // CB 50 0265
        gbc.setState(0xb7ad, 0xd7d6, 0xa850, 0x8e46, 0xfc17, 0xf3cf, 0x0, 0x0);
        gbc.writeMem(0xb7ad, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xd7d6, gbc.sp());
        EXPECT(0xb7af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7ad));
        EXPECT(0x50, gbc.readMem(0xb7ae));
        // CB 50 0266
        gbc.setState(0xc9b6, 0xb2ae, 0x1220, 0x8dfd, 0x6c80, 0x83b0, 0x0, 0x1);
        gbc.writeMem(0xc9b6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xb2ae, gbc.sp());
        EXPECT(0xc9b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc9b6));
        EXPECT(0x50, gbc.readMem(0xc9b7));
        // CB 50 0267
        gbc.setState(0xe03e, 0xb5ce, 0x3420, 0xfa82, 0x3289, 0xe829, 0x0, 0x1);
        gbc.writeMem(0xe03e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xb5ce, gbc.sp());
        EXPECT(0xe040, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe03e));
        EXPECT(0x50, gbc.readMem(0xe03f));
        // CB 50 0268
        gbc.setState(0x9bce, 0x8143, 0xc10, 0xf17, 0xa129, 0xf4f4, 0x0, 0x1);
        gbc.writeMem(0x9bce, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x8143, gbc.sp());
        EXPECT(0x9bd0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9bce));
        EXPECT(0x50, gbc.readMem(0x9bcf));
        // CB 50 0269
        gbc.setState(0xc1d5, 0x7a21, 0x4ca0, 0x1e2, 0x5814, 0xc517, 0x1, 0x0);
        gbc.writeMem(0xc1d5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x7a21, gbc.sp());
        EXPECT(0xc1d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc1d5));
        EXPECT(0x50, gbc.readMem(0xc1d6));
        // CB 50 026A
        gbc.setState(0x5455, 0x6400, 0x9410, 0xa5be, 0xa1a1, 0xb037, 0x0, 0x0);
        gbc.writeMem(0x5455, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x6400, gbc.sp());
        EXPECT(0x5457, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 026B
        gbc.setState(0x41c7, 0x95eb, 0x89a0, 0xdda8, 0xf05, 0x268e, 0x0, 0x1);
        gbc.writeMem(0x41c7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x95eb, gbc.sp());
        EXPECT(0x41c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 026C
        gbc.setState(0x9065, 0x7734, 0x540, 0xb7a, 0x1b7e, 0x34dc, 0x1, 0x1);
        gbc.writeMem(0x9065, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x7734, gbc.sp());
        EXPECT(0x9067, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9065));
        EXPECT(0x50, gbc.readMem(0x9066));
        // CB 50 026D
        gbc.setState(0x4ad2, 0x24d8, 0x3530, 0x314c, 0xce4e, 0x469b, 0x0, 0x1);
        gbc.writeMem(0x4ad2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x24d8, gbc.sp());
        EXPECT(0x4ad4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 026E
        gbc.setState(0xd375, 0xf17, 0xd9e0, 0xd8bc, 0xa03c, 0xf154, 0x0, 0x0);
        gbc.writeMem(0xd375, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xf17, gbc.sp());
        EXPECT(0xd377, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd375));
        EXPECT(0x50, gbc.readMem(0xd376));
        // CB 50 0270
        gbc.setState(0x7555, 0xd9a1, 0x3eb0, 0x2584, 0x7435, 0x1bb4, 0x1, 0x1);
        gbc.writeMem(0x7555, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xd9a1, gbc.sp());
        EXPECT(0x7557, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0271
        gbc.setState(0x9637, 0xb2eb, 0xfc70, 0x1136, 0x9ffa, 0xd2fc, 0x1, 0x0);
        gbc.writeMem(0x9637, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xb2eb, gbc.sp());
        EXPECT(0x9639, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9637));
        EXPECT(0x50, gbc.readMem(0x9638));
        // CB 50 0272
        gbc.setState(0x56bd, 0x4987, 0xde0, 0xd3f7, 0x2f0c, 0x4768, 0x1, 0x1);
        gbc.writeMem(0x56bd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x4987, gbc.sp());
        EXPECT(0x56bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0273
        gbc.setState(0x9c63, 0x9a86, 0x74a0, 0x1869, 0x964, 0x3592, 0x1, 0x1);
        gbc.writeMem(0x9c63, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x9a86, gbc.sp());
        EXPECT(0x9c65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c63));
        EXPECT(0x50, gbc.readMem(0x9c64));
        // CB 50 0274
        gbc.setState(0x64ef, 0x9985, 0xc230, 0x99cb, 0x6a79, 0x8b08, 0x0, 0x0);
        gbc.writeMem(0x64ef, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x9985, gbc.sp());
        EXPECT(0x64f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0275
        gbc.setState(0xaf12, 0x3f6c, 0xf2a0, 0xaadd, 0x965d, 0x37e9, 0x0, 0x0);
        gbc.writeMem(0xaf12, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x3f6c, gbc.sp());
        EXPECT(0xaf14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf12));
        EXPECT(0x50, gbc.readMem(0xaf13));
        // CB 50 0276
        gbc.setState(0x7e95, 0x62ef, 0x6960, 0xad8, 0xdec5, 0xadf, 0x0, 0x1);
        gbc.writeMem(0x7e95, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x62ef, gbc.sp());
        EXPECT(0x7e97, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0277
        gbc.setState(0x5f46, 0x3db8, 0x6a0, 0x2b94, 0x51d, 0x29a9, 0x0, 0x0);
        gbc.writeMem(0x5f46, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x3db8, gbc.sp());
        EXPECT(0x5f48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0278
        gbc.setState(0x4b19, 0x22da, 0x2e00, 0x2d90, 0x5688, 0x5ec9, 0x0, 0x0);
        gbc.writeMem(0x4b19, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x22da, gbc.sp());
        EXPECT(0x4b1b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0279
        gbc.setState(0x174d, 0xfbb, 0x10, 0x7f53, 0x4c7e, 0x86e0, 0x0, 0x0);
        gbc.writeMem(0x174d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xfbb, gbc.sp());
        EXPECT(0x174f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 027A
        gbc.setState(0xa5ac, 0x526f, 0xe4f0, 0xaa62, 0x5763, 0x1b7e, 0x1, 0x0);
        gbc.writeMem(0xa5ac, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x526f, gbc.sp());
        EXPECT(0xa5ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa5ac));
        EXPECT(0x50, gbc.readMem(0xa5ad));
        // CB 50 027B
        gbc.setState(0xc4c6, 0x658e, 0x6080, 0x449f, 0x2ea9, 0xb9c1, 0x1, 0x0);
        gbc.writeMem(0xc4c6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x658e, gbc.sp());
        EXPECT(0xc4c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4c6));
        EXPECT(0x50, gbc.readMem(0xc4c7));
        // CB 50 027D
        gbc.setState(0x924b, 0xd5ef, 0xeca0, 0x5a74, 0x8ba7, 0x7a1f, 0x0, 0x0);
        gbc.writeMem(0x924b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xd5ef, gbc.sp());
        EXPECT(0x924d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x924b));
        EXPECT(0x50, gbc.readMem(0x924c));
        // CB 50 027E
        gbc.setState(0x11a0, 0xe375, 0x4ca0, 0xfe17, 0x9c97, 0xdead, 0x1, 0x1);
        gbc.writeMem(0x11a0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xe375, gbc.sp());
        EXPECT(0x11a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 027F
        gbc.setState(0x40ad, 0xee39, 0x6bb0, 0x526d, 0xd16, 0x57b3, 0x0, 0x0);
        gbc.writeMem(0x40ad, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xee39, gbc.sp());
        EXPECT(0x40af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0280
        gbc.setState(0xa0d, 0x227, 0xb5e0, 0xc012, 0xbcfd, 0x998d, 0x0, 0x1);
        gbc.writeMem(0xa0d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x227, gbc.sp());
        EXPECT(0xa0f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0281
        gbc.setState(0xa7e9, 0xfe6a, 0x7e0, 0xb7f0, 0x2eac, 0x922f, 0x1, 0x1);
        gbc.writeMem(0xa7e9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xfe6a, gbc.sp());
        EXPECT(0xa7eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7e9));
        EXPECT(0x50, gbc.readMem(0xa7ea));
        // CB 50 0282
        gbc.setState(0x448c, 0xb522, 0x1570, 0x69c3, 0xedb4, 0xe707, 0x1, 0x0);
        gbc.writeMem(0x448c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xb522, gbc.sp());
        EXPECT(0x448e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0283
        gbc.setState(0x8b46, 0x6396, 0xe980, 0xf2e2, 0x6594, 0x57da, 0x0, 0x1);
        gbc.writeMem(0x8b46, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x6396, gbc.sp());
        EXPECT(0x8b48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b46));
        EXPECT(0x50, gbc.readMem(0x8b47));
        // CB 50 0284
        gbc.setState(0xa4c0, 0xdf7e, 0xb310, 0x8b79, 0x5582, 0xa740, 0x1, 0x1);
        gbc.writeMem(0xa4c0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xdf7e, gbc.sp());
        EXPECT(0xa4c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4c0));
        EXPECT(0x50, gbc.readMem(0xa4c1));
        // CB 50 0285
        gbc.setState(0xe931, 0xbc1f, 0xdc20, 0xc9fe, 0x52e2, 0x47f, 0x1, 0x0);
        gbc.writeMem(0xe931, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xbc1f, gbc.sp());
        EXPECT(0xe933, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe931));
        EXPECT(0x50, gbc.readMem(0xe932));
        // CB 50 0286
        gbc.setState(0x462d, 0xd8a4, 0x9e30, 0xa0a0, 0xa550, 0x8a74, 0x0, 0x1);
        gbc.writeMem(0x462d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xd8a4, gbc.sp());
        EXPECT(0x462f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0287
        gbc.setState(0x4f8a, 0x40e8, 0xeba0, 0x7982, 0x9d30, 0xb727, 0x1, 0x0);
        gbc.writeMem(0x4f8a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x40e8, gbc.sp());
        EXPECT(0x4f8c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0288
        gbc.setState(0x58e7, 0x79a0, 0xf60, 0xe5eb, 0x33f3, 0x97b8, 0x0, 0x0);
        gbc.writeMem(0x58e7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x79a0, gbc.sp());
        EXPECT(0x58e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0289
        gbc.setState(0x1158, 0xed1a, 0x89f0, 0xab28, 0x68, 0x7935, 0x0, 0x0);
        gbc.writeMem(0x1158, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xed1a, gbc.sp());
        EXPECT(0x115a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 028A
        gbc.setState(0x9834, 0x470d, 0x5b30, 0xd4da, 0x9444, 0x29a3, 0x0, 0x1);
        gbc.writeMem(0x9834, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x470d, gbc.sp());
        EXPECT(0x9836, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9834));
        EXPECT(0x50, gbc.readMem(0x9835));
        // CB 50 028B
        gbc.setState(0xbd11, 0x63f7, 0xc4d0, 0xc8b5, 0x83cc, 0x1bec, 0x0, 0x0);
        gbc.writeMem(0xbd11, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x63f7, gbc.sp());
        EXPECT(0xbd13, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd11));
        EXPECT(0x50, gbc.readMem(0xbd12));
        // CB 50 028C
        gbc.setState(0xbd24, 0x5f1e, 0x160, 0xde56, 0x5e5b, 0x38cb, 0x1, 0x1);
        gbc.writeMem(0xbd24, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x5f1e, gbc.sp());
        EXPECT(0xbd26, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd24));
        EXPECT(0x50, gbc.readMem(0xbd25));
        // CB 50 028D
        gbc.setState(0x9b3e, 0xdf0c, 0xec50, 0x8f22, 0x294a, 0xec79, 0x0, 0x1);
        gbc.writeMem(0x9b3e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xdf0c, gbc.sp());
        EXPECT(0x9b40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b3e));
        EXPECT(0x50, gbc.readMem(0x9b3f));
        // CB 50 028E
        gbc.setState(0x47b1, 0x1d6d, 0x2fc0, 0x64d5, 0x1ff4, 0x590b, 0x1, 0x0);
        gbc.writeMem(0x47b1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x1d6d, gbc.sp());
        EXPECT(0x47b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 028F
        gbc.setState(0xd3ae, 0x3fc7, 0x520, 0x1914, 0xf659, 0xd220, 0x1, 0x0);
        gbc.writeMem(0xd3ae, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x3fc7, gbc.sp());
        EXPECT(0xd3b0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3ae));
        EXPECT(0x50, gbc.readMem(0xd3af));
        // CB 50 0290
        gbc.setState(0x4c58, 0xa3b7, 0x13b0, 0x3d91, 0x68a6, 0x939b, 0x0, 0x0);
        gbc.writeMem(0x4c58, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xa3b7, gbc.sp());
        EXPECT(0x4c5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0291
        gbc.setState(0x292d, 0x5ccd, 0x2650, 0x6c90, 0x3c3b, 0x44f9, 0x1, 0x0);
        gbc.writeMem(0x292d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x5ccd, gbc.sp());
        EXPECT(0x292f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0292
        gbc.setState(0x1d16, 0x8e64, 0xf7f0, 0x1a04, 0x8b2e, 0x73c2, 0x1, 0x0);
        gbc.writeMem(0x1d16, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x8e64, gbc.sp());
        EXPECT(0x1d18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0293
        gbc.setState(0x8650, 0xc0f5, 0x1cd0, 0xa6a4, 0xbda0, 0x2e13, 0x1, 0x0);
        gbc.writeMem(0x8650, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xc0f5, gbc.sp());
        EXPECT(0x8652, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8650));
        EXPECT(0x50, gbc.readMem(0x8651));
        // CB 50 0294
        gbc.setState(0x9fa9, 0xdc68, 0x5470, 0xe0a4, 0xcdc3, 0x877e, 0x1, 0x1);
        gbc.writeMem(0x9fa9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xdc68, gbc.sp());
        EXPECT(0x9fab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9fa9));
        EXPECT(0x50, gbc.readMem(0x9faa));
        // CB 50 0295
        gbc.setState(0x1395, 0xf08, 0x7320, 0xea2d, 0xd95e, 0xe6a1, 0x0, 0x0);
        gbc.writeMem(0x1395, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xf08, gbc.sp());
        EXPECT(0x1397, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0296
        gbc.setState(0x390e, 0xca2, 0xd320, 0x8da2, 0xaea0, 0xe775, 0x0, 0x1);
        gbc.writeMem(0x390e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xca2, gbc.sp());
        EXPECT(0x3910, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0297
        gbc.setState(0xed7a, 0xef27, 0x5ad0, 0x19a6, 0x96d7, 0xe792, 0x0, 0x0);
        gbc.writeMem(0xed7a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xef27, gbc.sp());
        EXPECT(0xed7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed7a));
        EXPECT(0x50, gbc.readMem(0xed7b));
        // CB 50 0298
        gbc.setState(0x9601, 0xed43, 0xcf80, 0xf5e1, 0x30a2, 0xc56e, 0x0, 0x0);
        gbc.writeMem(0x9601, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xed43, gbc.sp());
        EXPECT(0x9603, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9601));
        EXPECT(0x50, gbc.readMem(0x9602));
        // CB 50 0299
        gbc.setState(0x9487, 0xb21a, 0x780, 0xc424, 0x47a2, 0xf269, 0x0, 0x1);
        gbc.writeMem(0x9487, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xb21a, gbc.sp());
        EXPECT(0x9489, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9487));
        EXPECT(0x50, gbc.readMem(0x9488));
        // CB 50 029A
        gbc.setState(0x8665, 0x8b7, 0x4b0, 0xfdb8, 0x10e4, 0x8bcc, 0x0, 0x1);
        gbc.writeMem(0x8665, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x8b7, gbc.sp());
        EXPECT(0x8667, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8665));
        EXPECT(0x50, gbc.readMem(0x8666));
        // CB 50 029B
        gbc.setState(0x4475, 0x599c, 0x14a0, 0x8778, 0xaf7a, 0x78a, 0x1, 0x1);
        gbc.writeMem(0x4475, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x599c, gbc.sp());
        EXPECT(0x4477, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 029C
        gbc.setState(0xe1f9, 0xae54, 0xf7e0, 0x7eb4, 0x62d5, 0xf538, 0x1, 0x0);
        gbc.writeMem(0xe1f9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xae54, gbc.sp());
        EXPECT(0xe1fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1f9));
        EXPECT(0x50, gbc.readMem(0xe1fa));
        // CB 50 029D
        gbc.setState(0xcbad, 0x9191, 0xd1c0, 0x5ae, 0x9a1a, 0xe99f, 0x0, 0x1);
        gbc.writeMem(0xcbad, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x9191, gbc.sp());
        EXPECT(0xcbaf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbad));
        EXPECT(0x50, gbc.readMem(0xcbae));
        // CB 50 029E
        gbc.setState(0xbf4b, 0x76ae, 0x8040, 0x338f, 0x9f5a, 0x9a36, 0x0, 0x1);
        gbc.writeMem(0xbf4b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x76ae, gbc.sp());
        EXPECT(0xbf4d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf4b));
        EXPECT(0x50, gbc.readMem(0xbf4c));
        // CB 50 029F
        gbc.setState(0x6e6b, 0x5085, 0x6c00, 0x483b, 0x7a8f, 0xd9d9, 0x0, 0x0);
        gbc.writeMem(0x6e6b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x5085, gbc.sp());
        EXPECT(0x6e6d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02A0
        gbc.setState(0x3816, 0x778d, 0x8810, 0xdc09, 0xf0b4, 0xd3be, 0x1, 0x1);
        gbc.writeMem(0x3816, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x778d, gbc.sp());
        EXPECT(0x3818, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02A1
        gbc.setState(0x3138, 0xa09b, 0x9740, 0x68bc, 0xac30, 0xa654, 0x1, 0x1);
        gbc.writeMem(0x3138, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xa09b, gbc.sp());
        EXPECT(0x313a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02A2
        gbc.setState(0x3880, 0x2151, 0xae40, 0xa010, 0x35c1, 0x979b, 0x1, 0x1);
        gbc.writeMem(0x3880, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x2151, gbc.sp());
        EXPECT(0x3882, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02A3
        gbc.setState(0xcce, 0x167, 0xe740, 0xc055, 0x435b, 0xd84f, 0x1, 0x1);
        gbc.writeMem(0xcce, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x167, gbc.sp());
        EXPECT(0xcd0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02A4
        gbc.setState(0x5303, 0x9f3, 0x7a10, 0x5f6d, 0x294a, 0xb6fb, 0x1, 0x1);
        gbc.writeMem(0x5303, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x9f3, gbc.sp());
        EXPECT(0x5305, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02A5
        gbc.setState(0x5ff2, 0x27df, 0x67c0, 0x916b, 0x4155, 0xf9f5, 0x0, 0x0);
        gbc.writeMem(0x5ff2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x27df, gbc.sp());
        EXPECT(0x5ff4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02A7
        gbc.setState(0x91ca, 0x1b08, 0xe6f0, 0xd2a3, 0xe7f8, 0xd0f0, 0x1, 0x1);
        gbc.writeMem(0x91ca, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x1b08, gbc.sp());
        EXPECT(0x91cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91ca));
        EXPECT(0x50, gbc.readMem(0x91cb));
        // CB 50 02A8
        gbc.setState(0xab99, 0xe983, 0xbf50, 0x7484, 0x2cf, 0x2d26, 0x1, 0x0);
        gbc.writeMem(0xab99, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xe983, gbc.sp());
        EXPECT(0xab9b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab99));
        EXPECT(0x50, gbc.readMem(0xab9a));
        // CB 50 02A9
        gbc.setState(0xa31, 0x4b24, 0xff50, 0x3689, 0xd9a6, 0xd563, 0x1, 0x0);
        gbc.writeMem(0xa31, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x4b24, gbc.sp());
        EXPECT(0xa33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02AA
        gbc.setState(0xda5a, 0x13fb, 0xe180, 0x8fb0, 0x6938, 0x260d, 0x0, 0x0);
        gbc.writeMem(0xda5a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x13fb, gbc.sp());
        EXPECT(0xda5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda5a));
        EXPECT(0x50, gbc.readMem(0xda5b));
        // CB 50 02AB
        gbc.setState(0x6431, 0x7431, 0x3b40, 0xf15c, 0xcbb4, 0x12d6, 0x1, 0x0);
        gbc.writeMem(0x6431, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x7431, gbc.sp());
        EXPECT(0x6433, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02AC
        gbc.setState(0xdd0f, 0xe774, 0x8010, 0x6f68, 0x7500, 0x1960, 0x1, 0x1);
        gbc.writeMem(0xdd0f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xe774, gbc.sp());
        EXPECT(0xdd11, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd0f));
        EXPECT(0x50, gbc.readMem(0xdd10));
        // CB 50 02AD
        gbc.setState(0x35a3, 0xe02c, 0x8d30, 0x8ae8, 0x2cf4, 0x1845, 0x1, 0x1);
        gbc.writeMem(0x35a3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xe02c, gbc.sp());
        EXPECT(0x35a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02AE
        gbc.setState(0x2409, 0xe900, 0x3560, 0x84f0, 0x742a, 0xdb5a, 0x1, 0x0);
        gbc.writeMem(0x2409, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xe900, gbc.sp());
        EXPECT(0x240b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02AF
        gbc.setState(0x2e42, 0xc342, 0x9900, 0xcf5a, 0x8083, 0x30d, 0x1, 0x1);
        gbc.writeMem(0x2e42, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xc342, gbc.sp());
        EXPECT(0x2e44, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02B0
        gbc.setState(0x132c, 0x224, 0x9650, 0xea, 0x7e50, 0xc23e, 0x0, 0x0);
        gbc.writeMem(0x132c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x224, gbc.sp());
        EXPECT(0x132e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02B1
        gbc.setState(0x1eea, 0xd6ef, 0xc940, 0xeade, 0x6e85, 0xae33, 0x1, 0x1);
        gbc.writeMem(0x1eea, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xd6ef, gbc.sp());
        EXPECT(0x1eec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02B2
        gbc.setState(0xde11, 0x836d, 0x1740, 0x2d9b, 0x865c, 0x8c7f, 0x1, 0x1);
        gbc.writeMem(0xde11, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x836d, gbc.sp());
        EXPECT(0xde13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde11));
        EXPECT(0x50, gbc.readMem(0xde12));
        // CB 50 02B3
        gbc.setState(0x639e, 0xf29e, 0x3370, 0x6e8, 0x989e, 0xc91, 0x1, 0x0);
        gbc.writeMem(0x639e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xf29e, gbc.sp());
        EXPECT(0x63a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02B4
        gbc.setState(0x2dca, 0xceee, 0x2270, 0x5715, 0x86f8, 0xd244, 0x1, 0x0);
        gbc.writeMem(0x2dca, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xceee, gbc.sp());
        EXPECT(0x2dcc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02B5
        gbc.setState(0xd27f, 0x2921, 0x6f10, 0xaf03, 0x5e23, 0xf22b, 0x1, 0x0);
        gbc.writeMem(0xd27f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x2921, gbc.sp());
        EXPECT(0xd281, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd27f));
        EXPECT(0x50, gbc.readMem(0xd280));
        // CB 50 02B6
        gbc.setState(0xaec, 0x3812, 0xa950, 0x735e, 0x9631, 0xb9ba, 0x0, 0x1);
        gbc.writeMem(0xaec, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x3812, gbc.sp());
        EXPECT(0xaee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02B7
        gbc.setState(0xa034, 0xe144, 0x7910, 0xaf02, 0x934c, 0xe66, 0x0, 0x0);
        gbc.writeMem(0xa034, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xe144, gbc.sp());
        EXPECT(0xa036, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa034));
        EXPECT(0x50, gbc.readMem(0xa035));
        // CB 50 02B8
        gbc.setState(0x2e8c, 0xccf0, 0x24d0, 0xe5e0, 0x786b, 0xff7d, 0x1, 0x0);
        gbc.writeMem(0x2e8c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xccf0, gbc.sp());
        EXPECT(0x2e8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02BA
        gbc.setState(0x377f, 0xbe0d, 0xe1a0, 0x36fc, 0x25f8, 0x34cb, 0x1, 0x1);
        gbc.writeMem(0x377f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xbe0d, gbc.sp());
        EXPECT(0x3781, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02BB
        gbc.setState(0x99aa, 0x1d92, 0x3100, 0xc2c4, 0xf219, 0x851c, 0x0, 0x0);
        gbc.writeMem(0x99aa, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x1d92, gbc.sp());
        EXPECT(0x99ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99aa));
        EXPECT(0x50, gbc.readMem(0x99ab));
        // CB 50 02BC
        gbc.setState(0xd11e, 0xca4a, 0x8ab0, 0x851c, 0x294a, 0x9958, 0x0, 0x0);
        gbc.writeMem(0xd11e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xca4a, gbc.sp());
        EXPECT(0xd120, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd11e));
        EXPECT(0x50, gbc.readMem(0xd11f));
        // CB 50 02BD
        gbc.setState(0xe375, 0xd328, 0xd5e0, 0xf7e8, 0x851b, 0x8d0c, 0x0, 0x1);
        gbc.writeMem(0xe375, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xd328, gbc.sp());
        EXPECT(0xe377, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe375));
        EXPECT(0x50, gbc.readMem(0xe376));
        // CB 50 02BE
        gbc.setState(0x2f44, 0x2e2e, 0x9e90, 0xf7fb, 0xaf48, 0x6a5c, 0x0, 0x0);
        gbc.writeMem(0x2f44, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x2e2e, gbc.sp());
        EXPECT(0x2f46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02BF
        gbc.setState(0x8418, 0x2b0c, 0x4830, 0x328, 0xafcc, 0xa55c, 0x0, 0x1);
        gbc.writeMem(0x8418, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x2b0c, gbc.sp());
        EXPECT(0x841a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8418));
        EXPECT(0x50, gbc.readMem(0x8419));
        // CB 50 02C0
        gbc.setState(0x34c9, 0x2f9c, 0xf2e0, 0xee6d, 0x25b6, 0x9274, 0x1, 0x0);
        gbc.writeMem(0x34c9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x2f9c, gbc.sp());
        EXPECT(0x34cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02C1
        gbc.setState(0xc82a, 0xee74, 0xe460, 0xb0c0, 0x8c3a, 0x89ea, 0x1, 0x0);
        gbc.writeMem(0xc82a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xee74, gbc.sp());
        EXPECT(0xc82c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc82a));
        EXPECT(0x50, gbc.readMem(0xc82b));
        // CB 50 02C3
        gbc.setState(0xeb3a, 0xc44a, 0xc4f0, 0xc24a, 0x239c, 0x2800, 0x0, 0x0);
        gbc.writeMem(0xeb3a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xc44a, gbc.sp());
        EXPECT(0xeb3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb3a));
        EXPECT(0x50, gbc.readMem(0xeb3b));
        // CB 50 02C4
        gbc.setState(0xc692, 0x50cf, 0x8c00, 0x4146, 0x5fb3, 0xf1c8, 0x0, 0x1);
        gbc.writeMem(0xc692, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x50cf, gbc.sp());
        EXPECT(0xc694, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc692));
        EXPECT(0x50, gbc.readMem(0xc693));
        // CB 50 02C5
        gbc.setState(0x6aa1, 0xacee, 0x3160, 0x6e54, 0x5ea4, 0x2c85, 0x1, 0x0);
        gbc.writeMem(0x6aa1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xacee, gbc.sp());
        EXPECT(0x6aa3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02C6
        gbc.setState(0x59d9, 0x729a, 0x84d0, 0x4836, 0x17bc, 0xbca, 0x0, 0x0);
        gbc.writeMem(0x59d9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x729a, gbc.sp());
        EXPECT(0x59db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02C7
        gbc.setState(0x58e9, 0x24fa, 0x9810, 0xf3c8, 0x280c, 0x9cbb, 0x0, 0x1);
        gbc.writeMem(0x58e9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x24fa, gbc.sp());
        EXPECT(0x58eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02C8
        gbc.setState(0x8f44, 0x128b, 0x7b10, 0x3635, 0xf607, 0x20b4, 0x0, 0x1);
        gbc.writeMem(0x8f44, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x128b, gbc.sp());
        EXPECT(0x8f46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f44));
        EXPECT(0x50, gbc.readMem(0x8f45));
        // CB 50 02C9
        gbc.setState(0xbf03, 0x5f1d, 0xc870, 0xecae, 0x7de4, 0xe70, 0x1, 0x0);
        gbc.writeMem(0xbf03, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x5f1d, gbc.sp());
        EXPECT(0xbf05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf03));
        EXPECT(0x50, gbc.readMem(0xbf04));
        // CB 50 02CA
        gbc.setState(0x9b46, 0x2623, 0x9ca0, 0xb1fd, 0xe849, 0x5ec6, 0x0, 0x0);
        gbc.writeMem(0x9b46, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x2623, gbc.sp());
        EXPECT(0x9b48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b46));
        EXPECT(0x50, gbc.readMem(0x9b47));
        // CB 50 02CB
        gbc.setState(0xaeb9, 0x2da7, 0xf040, 0xd481, 0x1d9f, 0x37fe, 0x1, 0x1);
        gbc.writeMem(0xaeb9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x2da7, gbc.sp());
        EXPECT(0xaebb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaeb9));
        EXPECT(0x50, gbc.readMem(0xaeba));
        // CB 50 02CC
        gbc.setState(0x8ad5, 0xe55b, 0x89d0, 0x44c6, 0x8aa6, 0x832e, 0x0, 0x0);
        gbc.writeMem(0x8ad5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xe55b, gbc.sp());
        EXPECT(0x8ad7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ad5));
        EXPECT(0x50, gbc.readMem(0x8ad6));
        // CB 50 02CD
        gbc.setState(0x483a, 0xb7bc, 0x5600, 0x91e7, 0x2bdf, 0xa2bc, 0x1, 0x1);
        gbc.writeMem(0x483a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xb7bc, gbc.sp());
        EXPECT(0x483c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02CE
        gbc.setState(0x7404, 0x947c, 0x9050, 0xc749, 0x652f, 0x4a6d, 0x0, 0x1);
        gbc.writeMem(0x7404, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x947c, gbc.sp());
        EXPECT(0x7406, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02CF
        gbc.setState(0x35b2, 0xf2e, 0x4ef0, 0x2250, 0xc3c0, 0xb61e, 0x0, 0x0);
        gbc.writeMem(0x35b2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xf2e, gbc.sp());
        EXPECT(0x35b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02D0
        gbc.setState(0x2940, 0x4ad, 0xda70, 0x6a3b, 0x3dbf, 0x3527, 0x0, 0x0);
        gbc.writeMem(0x2940, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x4ad, gbc.sp());
        EXPECT(0x2942, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02D1
        gbc.setState(0xd719, 0x99c2, 0x3d30, 0xb439, 0x4bd6, 0xf4f4, 0x1, 0x0);
        gbc.writeMem(0xd719, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x99c2, gbc.sp());
        EXPECT(0xd71b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd719));
        EXPECT(0x50, gbc.readMem(0xd71a));
        // CB 50 02D2
        gbc.setState(0x7101, 0xf7a0, 0x7bd0, 0xd00d, 0xfbf2, 0xa6e6, 0x0, 0x0);
        gbc.writeMem(0x7101, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xf7a0, gbc.sp());
        EXPECT(0x7103, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02D3
        gbc.setState(0x35bb, 0xfd80, 0x6b0, 0x8889, 0xbcfb, 0x5ad2, 0x0, 0x1);
        gbc.writeMem(0x35bb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xfd80, gbc.sp());
        EXPECT(0x35bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02D4
        gbc.setState(0x7c08, 0xe323, 0x93a0, 0x4833, 0xea16, 0x3e9f, 0x0, 0x0);
        gbc.writeMem(0x7c08, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xe323, gbc.sp());
        EXPECT(0x7c0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02D5
        gbc.setState(0x52bb, 0x7e20, 0x53e0, 0xab0f, 0xb68b, 0x8153, 0x1, 0x0);
        gbc.writeMem(0x52bb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x7e20, gbc.sp());
        EXPECT(0x52bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02D6
        gbc.setState(0x23bd, 0x1715, 0x8e70, 0xf719, 0x29c8, 0xb178, 0x0, 0x0);
        gbc.writeMem(0x23bd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x1715, gbc.sp());
        EXPECT(0x23bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02D7
        gbc.setState(0x4a9e, 0x3b20, 0xbb0, 0x6583, 0x1760, 0xdab8, 0x0, 0x0);
        gbc.writeMem(0x4a9e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x3b20, gbc.sp());
        EXPECT(0x4aa0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02D8
        gbc.setState(0x6c7, 0xd067, 0x4560, 0xd415, 0xff80, 0xc43, 0x0, 0x0);
        gbc.writeMem(0x6c7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xd067, gbc.sp());
        EXPECT(0x6c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02D9
        gbc.setState(0xefc6, 0x4690, 0xa820, 0xe4fe, 0xa8ff, 0x87e1, 0x0, 0x0);
        gbc.writeMem(0xefc6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x4690, gbc.sp());
        EXPECT(0xefc8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xefc6));
        EXPECT(0x50, gbc.readMem(0xefc7));
        // CB 50 02DA
        gbc.setState(0xc8d1, 0xa2b8, 0x5b50, 0x34cb, 0xb67d, 0xc1bd, 0x0, 0x1);
        gbc.writeMem(0xc8d1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xa2b8, gbc.sp());
        EXPECT(0xc8d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8d1));
        EXPECT(0x50, gbc.readMem(0xc8d2));
        // CB 50 02DB
        gbc.setState(0x42d3, 0x4e08, 0x5590, 0xd2, 0x4ba3, 0x252c, 0x1, 0x1);
        gbc.writeMem(0x42d3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x4e08, gbc.sp());
        EXPECT(0x42d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02DD
        gbc.setState(0x17e2, 0x6698, 0xa00, 0x93d2, 0xb8f0, 0xfa20, 0x1, 0x1);
        gbc.writeMem(0x17e2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x6698, gbc.sp());
        EXPECT(0x17e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02DE
        gbc.setState(0xcf3f, 0x43d4, 0x9920, 0x15de, 0xd44b, 0x699, 0x1, 0x0);
        gbc.writeMem(0xcf3f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x43d4, gbc.sp());
        EXPECT(0xcf41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf3f));
        EXPECT(0x50, gbc.readMem(0xcf40));
        // CB 50 02DF
        gbc.setState(0x2366, 0x29af, 0xe070, 0x794b, 0xa16f, 0x5785, 0x0, 0x1);
        gbc.writeMem(0x2366, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x29af, gbc.sp());
        EXPECT(0x2368, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02E0
        gbc.setState(0x5fdb, 0xc257, 0x9370, 0x4c73, 0xfbe1, 0x2a10, 0x0, 0x1);
        gbc.writeMem(0x5fdb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xc257, gbc.sp());
        EXPECT(0x5fdd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02E1
        gbc.setState(0xcccc, 0x724a, 0x3ea0, 0xa4db, 0x6eb, 0xaae5, 0x0, 0x1);
        gbc.writeMem(0xcccc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x724a, gbc.sp());
        EXPECT(0xccce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcccc));
        EXPECT(0x50, gbc.readMem(0xcccd));
        // CB 50 02E3
        gbc.setState(0x8d60, 0x7d17, 0xd80, 0xd932, 0x2dc3, 0xc4c3, 0x0, 0x1);
        gbc.writeMem(0x8d60, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x7d17, gbc.sp());
        EXPECT(0x8d62, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d60));
        EXPECT(0x50, gbc.readMem(0x8d61));
        // CB 50 02E4
        gbc.setState(0x2750, 0x15e3, 0x2bb0, 0x4038, 0x1f2f, 0x61c7, 0x0, 0x1);
        gbc.writeMem(0x2750, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x15e3, gbc.sp());
        EXPECT(0x2752, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02E5
        gbc.setState(0xa30a, 0xf41, 0xe210, 0x5dbe, 0x8daf, 0x2a63, 0x0, 0x0);
        gbc.writeMem(0xa30a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xf41, gbc.sp());
        EXPECT(0xa30c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa30a));
        EXPECT(0x50, gbc.readMem(0xa30b));
        // CB 50 02E6
        gbc.setState(0x2c80, 0x6f8e, 0x9980, 0xcb1, 0xfcbc, 0xe5e5, 0x1, 0x0);
        gbc.writeMem(0x2c80, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x6f8e, gbc.sp());
        EXPECT(0x2c82, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02E7
        gbc.setState(0x5faa, 0x3895, 0xe840, 0xbfdf, 0xf7c8, 0x8673, 0x1, 0x1);
        gbc.writeMem(0x5faa, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x3895, gbc.sp());
        EXPECT(0x5fac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02E8
        gbc.setState(0x807c, 0x7375, 0x5280, 0xe280, 0xa29d, 0x4e03, 0x1, 0x1);
        gbc.writeMem(0x807c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x7375, gbc.sp());
        EXPECT(0x807e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x807c));
        EXPECT(0x50, gbc.readMem(0x807d));
        // CB 50 02E9
        gbc.setState(0x77e3, 0x3143, 0xe080, 0xfe99, 0xf9c3, 0x1bf2, 0x0, 0x0);
        gbc.writeMem(0x77e3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x3143, gbc.sp());
        EXPECT(0x77e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02EA
        gbc.setState(0x9b84, 0x6c78, 0xda0, 0xa2ca, 0x98c5, 0x5ed1, 0x1, 0x0);
        gbc.writeMem(0x9b84, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x6c78, gbc.sp());
        EXPECT(0x9b86, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b84));
        EXPECT(0x50, gbc.readMem(0x9b85));
        // CB 50 02EB
        gbc.setState(0x615, 0xdeac, 0x61b0, 0xf166, 0x26cb, 0x5978, 0x0, 0x1);
        gbc.writeMem(0x615, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xdeac, gbc.sp());
        EXPECT(0x617, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02EC
        gbc.setState(0x3b49, 0x3efe, 0x2ad0, 0x90fe, 0x385a, 0x3158, 0x0, 0x1);
        gbc.writeMem(0x3b49, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x3efe, gbc.sp());
        EXPECT(0x3b4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02ED
        gbc.setState(0x2b27, 0x2600, 0xc5b0, 0x4199, 0x8805, 0x356, 0x0, 0x1);
        gbc.writeMem(0x2b27, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x2600, gbc.sp());
        EXPECT(0x2b29, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02EE
        gbc.setState(0xe25f, 0xaac9, 0x18d0, 0x206f, 0x8b75, 0xe653, 0x1, 0x1);
        gbc.writeMem(0xe25f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xaac9, gbc.sp());
        EXPECT(0xe261, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe25f));
        EXPECT(0x50, gbc.readMem(0xe260));
        // CB 50 02EF
        gbc.setState(0x6cfb, 0xc4c5, 0xac0, 0xb4bc, 0x8f6d, 0x918e, 0x1, 0x1);
        gbc.writeMem(0x6cfb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xc4c5, gbc.sp());
        EXPECT(0x6cfd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02F0
        gbc.setState(0x6297, 0xa966, 0x49b0, 0xff9d, 0x4bd9, 0x8cef, 0x1, 0x0);
        gbc.writeMem(0x6297, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xa966, gbc.sp());
        EXPECT(0x6299, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02F1
        gbc.setState(0xd7b, 0x3acc, 0xb540, 0x5fc1, 0xa82b, 0x51b8, 0x1, 0x1);
        gbc.writeMem(0xd7b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x3acc, gbc.sp());
        EXPECT(0xd7d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02F2
        gbc.setState(0xdc3f, 0x2019, 0xd550, 0xd1f7, 0x323d, 0xa56c, 0x0, 0x1);
        gbc.writeMem(0xdc3f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x2019, gbc.sp());
        EXPECT(0xdc41, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc3f));
        EXPECT(0x50, gbc.readMem(0xdc40));
        // CB 50 02F3
        gbc.setState(0x46f, 0x9311, 0x4eb0, 0xdeab, 0x5e7a, 0x245, 0x0, 0x0);
        gbc.writeMem(0x46f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x9311, gbc.sp());
        EXPECT(0x471, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02F4
        gbc.setState(0x26de, 0x7a19, 0xc50, 0x6fcc, 0xe7ba, 0xdd97, 0x0, 0x0);
        gbc.writeMem(0x26de, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x7a19, gbc.sp());
        EXPECT(0x26e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02F5
        gbc.setState(0x7b9e, 0x15fc, 0x4b70, 0xcabf, 0x9b8d, 0x4945, 0x0, 0x0);
        gbc.writeMem(0x7b9e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x15fc, gbc.sp());
        EXPECT(0x7ba0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 02F6
        gbc.setState(0x8a7f, 0xc547, 0xb490, 0xb73d, 0xca07, 0x7fa4, 0x1, 0x0);
        gbc.writeMem(0x8a7f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xc547, gbc.sp());
        EXPECT(0x8a81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a7f));
        EXPECT(0x50, gbc.readMem(0x8a80));
        // CB 50 02F7
        gbc.setState(0xda8c, 0x4ad0, 0xc110, 0x8ba6, 0xf411, 0x2a5, 0x1, 0x0);
        gbc.writeMem(0xda8c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x4ad0, gbc.sp());
        EXPECT(0xda8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda8c));
        EXPECT(0x50, gbc.readMem(0xda8d));
        // CB 50 02F8
        gbc.setState(0xb085, 0x8b0b, 0xe5c0, 0x4dd2, 0x9235, 0x8267, 0x0, 0x0);
        gbc.writeMem(0xb085, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x8b0b, gbc.sp());
        EXPECT(0xb087, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb085));
        EXPECT(0x50, gbc.readMem(0xb086));
        // CB 50 02F9
        gbc.setState(0xb9e8, 0x15de, 0x8b40, 0x5906, 0x3efb, 0x6c3a, 0x1, 0x0);
        gbc.writeMem(0xb9e8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x15de, gbc.sp());
        EXPECT(0xb9ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb9e8));
        EXPECT(0x50, gbc.readMem(0xb9e9));
        // CB 50 02FA
        gbc.setState(0x76ed, 0x3477, 0xb940, 0x923, 0x450b, 0x43e6, 0x0, 0x0);
        gbc.writeMem(0x76ed, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x3477, gbc.sp());
        EXPECT(0x76ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 02FC
        gbc.setState(0xac30, 0x9787, 0x9130, 0x6f89, 0x4e00, 0xb1ed, 0x1, 0x1);
        gbc.writeMem(0xac30, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x9787, gbc.sp());
        EXPECT(0xac32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac30));
        EXPECT(0x50, gbc.readMem(0xac31));
        // CB 50 02FE
        gbc.setState(0xd1a3, 0x7f33, 0x9750, 0xe4e5, 0xf915, 0xd2b2, 0x0, 0x0);
        gbc.writeMem(0xd1a3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x7f33, gbc.sp());
        EXPECT(0xd1a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd1a3));
        EXPECT(0x50, gbc.readMem(0xd1a4));
        // CB 50 02FF
        gbc.setState(0x2b4d, 0xf5d9, 0x3380, 0x7f11, 0xa5b0, 0xfa8c, 0x0, 0x1);
        gbc.writeMem(0x2b4d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xf5d9, gbc.sp());
        EXPECT(0x2b4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0300
        gbc.setState(0x2901, 0x6267, 0x5bf0, 0x7be4, 0x13f7, 0xe65d, 0x1, 0x0);
        gbc.writeMem(0x2901, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x6267, gbc.sp());
        EXPECT(0x2903, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0301
        gbc.setState(0x224a, 0x719f, 0xdee0, 0x871e, 0x7cd7, 0x4ded, 0x0, 0x0);
        gbc.writeMem(0x224a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x719f, gbc.sp());
        EXPECT(0x224c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0302
        gbc.setState(0x8173, 0xd0b0, 0x4440, 0xdb31, 0x78a5, 0x2c7c, 0x1, 0x0);
        gbc.writeMem(0x8173, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xd0b0, gbc.sp());
        EXPECT(0x8175, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8173));
        EXPECT(0x50, gbc.readMem(0x8174));
        // CB 50 0303
        gbc.setState(0xd89c, 0x21af, 0xd420, 0x2178, 0x5230, 0x4e9a, 0x1, 0x1);
        gbc.writeMem(0xd89c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x21af, gbc.sp());
        EXPECT(0xd89e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd89c));
        EXPECT(0x50, gbc.readMem(0xd89d));
        // CB 50 0304
        gbc.setState(0xb0dc, 0x41e0, 0xa860, 0xe543, 0x1910, 0x8790, 0x1, 0x0);
        gbc.writeMem(0xb0dc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x41e0, gbc.sp());
        EXPECT(0xb0de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb0dc));
        EXPECT(0x50, gbc.readMem(0xb0dd));
        // CB 50 0305
        gbc.setState(0xa61a, 0xa5ab, 0x57a0, 0x5059, 0x7e70, 0x542f, 0x0, 0x1);
        gbc.writeMem(0xa61a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xa5ab, gbc.sp());
        EXPECT(0xa61c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa61a));
        EXPECT(0x50, gbc.readMem(0xa61b));
        // CB 50 0306
        gbc.setState(0xa33e, 0x374f, 0x6fb0, 0xda81, 0x43cc, 0xe562, 0x0, 0x0);
        gbc.writeMem(0xa33e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x374f, gbc.sp());
        EXPECT(0xa340, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa33e));
        EXPECT(0x50, gbc.readMem(0xa33f));
        // CB 50 0307
        gbc.setState(0xcc5e, 0x16c3, 0x7ed0, 0x9ef3, 0xf96c, 0xc118, 0x0, 0x1);
        gbc.writeMem(0xcc5e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x16c3, gbc.sp());
        EXPECT(0xcc60, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc5e));
        EXPECT(0x50, gbc.readMem(0xcc5f));
        // CB 50 0308
        gbc.setState(0xd5f0, 0xd97a, 0xc9f0, 0xd47b, 0x25c7, 0x8d5f, 0x0, 0x0);
        gbc.writeMem(0xd5f0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xd97a, gbc.sp());
        EXPECT(0xd5f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5f0));
        EXPECT(0x50, gbc.readMem(0xd5f1));
        // CB 50 0309
        gbc.setState(0xc818, 0x8dca, 0x19e0, 0xbf91, 0x4098, 0x4397, 0x1, 0x0);
        gbc.writeMem(0xc818, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x8dca, gbc.sp());
        EXPECT(0xc81a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc818));
        EXPECT(0x50, gbc.readMem(0xc819));
        // CB 50 030A
        gbc.setState(0x3cda, 0xb8f1, 0x24c0, 0x21b8, 0x4c7e, 0x5bc9, 0x1, 0x1);
        gbc.writeMem(0x3cda, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xb8f1, gbc.sp());
        EXPECT(0x3cdc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 030B
        gbc.setState(0xdd03, 0x19d4, 0x9180, 0xf6fb, 0x89f9, 0x3972, 0x0, 0x0);
        gbc.writeMem(0xdd03, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x19d4, gbc.sp());
        EXPECT(0xdd05, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd03));
        EXPECT(0x50, gbc.readMem(0xdd04));
        // CB 50 030C
        gbc.setState(0x26f1, 0x3b61, 0xf900, 0x5bfc, 0xb19a, 0xbe28, 0x0, 0x0);
        gbc.writeMem(0x26f1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x3b61, gbc.sp());
        EXPECT(0x26f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 030D
        gbc.setState(0xb2c0, 0xfdd0, 0x3b10, 0xe76f, 0x7490, 0xace7, 0x1, 0x0);
        gbc.writeMem(0xb2c0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xfdd0, gbc.sp());
        EXPECT(0xb2c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb2c0));
        EXPECT(0x50, gbc.readMem(0xb2c1));
        // CB 50 030E
        gbc.setState(0x7d4f, 0xe459, 0x9320, 0xf708, 0x84e7, 0x88e7, 0x0, 0x1);
        gbc.writeMem(0x7d4f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xe459, gbc.sp());
        EXPECT(0x7d51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 030F
        gbc.setState(0xcd7c, 0x7fa8, 0x5cd0, 0xd8d9, 0x5127, 0xe91e, 0x1, 0x1);
        gbc.writeMem(0xcd7c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x7fa8, gbc.sp());
        EXPECT(0xcd7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd7c));
        EXPECT(0x50, gbc.readMem(0xcd7d));
        // CB 50 0310
        gbc.setState(0xd002, 0xfe3c, 0x280, 0x28d2, 0x146, 0x1c8a, 0x1, 0x0);
        gbc.writeMem(0xd002, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xfe3c, gbc.sp());
        EXPECT(0xd004, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd002));
        EXPECT(0x50, gbc.readMem(0xd003));
        // CB 50 0311
        gbc.setState(0x9511, 0xa068, 0xd7f0, 0x3792, 0x4061, 0xad71, 0x0, 0x0);
        gbc.writeMem(0x9511, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xa068, gbc.sp());
        EXPECT(0x9513, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9511));
        EXPECT(0x50, gbc.readMem(0x9512));
        // CB 50 0312
        gbc.setState(0xce95, 0x2039, 0x3650, 0xaf5a, 0x8067, 0xf579, 0x1, 0x0);
        gbc.writeMem(0xce95, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x2039, gbc.sp());
        EXPECT(0xce97, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce95));
        EXPECT(0x50, gbc.readMem(0xce96));
        // CB 50 0313
        gbc.setState(0x83f2, 0xc55f, 0xcfa0, 0xfab0, 0x65a3, 0xc791, 0x1, 0x0);
        gbc.writeMem(0x83f2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xc55f, gbc.sp());
        EXPECT(0x83f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x83f2));
        EXPECT(0x50, gbc.readMem(0x83f3));
        // CB 50 0314
        gbc.setState(0xa69e, 0x3c25, 0x39e0, 0xa406, 0xd50e, 0xbb50, 0x1, 0x1);
        gbc.writeMem(0xa69e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x3c25, gbc.sp());
        EXPECT(0xa6a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa69e));
        EXPECT(0x50, gbc.readMem(0xa69f));
        // CB 50 0315
        gbc.setState(0x6b32, 0xa17c, 0xb0e0, 0xadf7, 0xaa19, 0x5ce2, 0x0, 0x1);
        gbc.writeMem(0x6b32, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xa17c, gbc.sp());
        EXPECT(0x6b34, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0316
        gbc.setState(0x6cc, 0xbbc5, 0xbe20, 0xf2dc, 0x55e1, 0xf880, 0x1, 0x1);
        gbc.writeMem(0x6cc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xbbc5, gbc.sp());
        EXPECT(0x6ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0317
        gbc.setState(0x3ecd, 0x75e0, 0xcc90, 0xc92e, 0xa909, 0x6354, 0x0, 0x0);
        gbc.writeMem(0x3ecd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x75e0, gbc.sp());
        EXPECT(0x3ecf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0318
        gbc.setState(0xbc5f, 0x5379, 0xe8e0, 0x1e2d, 0x7ee7, 0x2438, 0x1, 0x1);
        gbc.writeMem(0xbc5f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x5379, gbc.sp());
        EXPECT(0xbc61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc5f));
        EXPECT(0x50, gbc.readMem(0xbc60));
        // CB 50 0319
        gbc.setState(0xe229, 0x8694, 0x7590, 0x5a13, 0x5d00, 0x256, 0x1, 0x0);
        gbc.writeMem(0xe229, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x8694, gbc.sp());
        EXPECT(0xe22b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe229));
        EXPECT(0x50, gbc.readMem(0xe22a));
        // CB 50 031A
        gbc.setState(0x690d, 0xaa2a, 0x64d0, 0xedd, 0x29, 0x1985, 0x0, 0x1);
        gbc.writeMem(0x690d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xaa2a, gbc.sp());
        EXPECT(0x690f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 031B
        gbc.setState(0xaf68, 0xa279, 0x2430, 0xe97a, 0xd7cb, 0xb616, 0x1, 0x1);
        gbc.writeMem(0xaf68, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xa279, gbc.sp());
        EXPECT(0xaf6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf68));
        EXPECT(0x50, gbc.readMem(0xaf69));
        // CB 50 031C
        gbc.setState(0x9a50, 0xe7e5, 0x4460, 0x3bce, 0x4b9d, 0xf239, 0x0, 0x0);
        gbc.writeMem(0x9a50, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xe7e5, gbc.sp());
        EXPECT(0x9a52, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a50));
        EXPECT(0x50, gbc.readMem(0x9a51));
        // CB 50 031D
        gbc.setState(0x9fcf, 0xee1d, 0xfb60, 0x9472, 0xb55, 0x55e9, 0x1, 0x0);
        gbc.writeMem(0x9fcf, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xee1d, gbc.sp());
        EXPECT(0x9fd1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9fcf));
        EXPECT(0x50, gbc.readMem(0x9fd0));
        // CB 50 031E
        gbc.setState(0x602d, 0xee37, 0x6b70, 0x9203, 0xc62d, 0x93f6, 0x1, 0x0);
        gbc.writeMem(0x602d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xee37, gbc.sp());
        EXPECT(0x602f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0320
        gbc.setState(0x83a7, 0x3e19, 0xdb0, 0xba52, 0x16da, 0xcbd1, 0x1, 0x0);
        gbc.writeMem(0x83a7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x3e19, gbc.sp());
        EXPECT(0x83a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x83a7));
        EXPECT(0x50, gbc.readMem(0x83a8));
        // CB 50 0321
        gbc.setState(0x2e7c, 0x967a, 0x4e70, 0x38ae, 0x1bda, 0xb6e1, 0x0, 0x1);
        gbc.writeMem(0x2e7c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x967a, gbc.sp());
        EXPECT(0x2e7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0322
        gbc.setState(0x84de, 0xfc7a, 0xd8c0, 0xa217, 0xd23d, 0x7b66, 0x0, 0x0);
        gbc.writeMem(0x84de, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xfc7a, gbc.sp());
        EXPECT(0x84e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x84de));
        EXPECT(0x50, gbc.readMem(0x84df));
        // CB 50 0323
        gbc.setState(0xd4a7, 0x62bb, 0xddf0, 0x1f41, 0xf4e6, 0x4f06, 0x0, 0x0);
        gbc.writeMem(0xd4a7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x62bb, gbc.sp());
        EXPECT(0xd4a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4a7));
        EXPECT(0x50, gbc.readMem(0xd4a8));
        // CB 50 0324
        gbc.setState(0xc9cb, 0x3360, 0x46d0, 0x9e9a, 0xacf4, 0xb181, 0x1, 0x1);
        gbc.writeMem(0xc9cb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x3360, gbc.sp());
        EXPECT(0xc9cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc9cb));
        EXPECT(0x50, gbc.readMem(0xc9cc));
        // CB 50 0325
        gbc.setState(0xbaa, 0xa291, 0x9980, 0xadab, 0x4f1d, 0x5ec7, 0x1, 0x1);
        gbc.writeMem(0xbaa, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xa291, gbc.sp());
        EXPECT(0xbac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0326
        gbc.setState(0x519f, 0x7e02, 0xaca0, 0xcce9, 0x1cc7, 0xd503, 0x0, 0x0);
        gbc.writeMem(0x519f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x7e02, gbc.sp());
        EXPECT(0x51a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0327
        gbc.setState(0xd04d, 0x321f, 0x52c0, 0x1ff, 0x339d, 0xf5cc, 0x0, 0x1);
        gbc.writeMem(0xd04d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x321f, gbc.sp());
        EXPECT(0xd04f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd04d));
        EXPECT(0x50, gbc.readMem(0xd04e));
        // CB 50 0328
        gbc.setState(0xac0c, 0x53e5, 0xf1f0, 0xc25a, 0x3600, 0x648e, 0x1, 0x1);
        gbc.writeMem(0xac0c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x53e5, gbc.sp());
        EXPECT(0xac0e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac0c));
        EXPECT(0x50, gbc.readMem(0xac0d));
        // CB 50 0329
        gbc.setState(0x4b11, 0x9860, 0xcd0, 0xaa70, 0x3464, 0xbb89, 0x1, 0x1);
        gbc.writeMem(0x4b11, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x9860, gbc.sp());
        EXPECT(0x4b13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 032A
        gbc.setState(0x1487, 0xb0b9, 0xa480, 0x526b, 0xdd31, 0xf553, 0x1, 0x1);
        gbc.writeMem(0x1487, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xb0b9, gbc.sp());
        EXPECT(0x1489, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 032B
        gbc.setState(0x6f31, 0xd7ca, 0x4270, 0x2e3b, 0x807e, 0x7ad3, 0x1, 0x1);
        gbc.writeMem(0x6f31, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xd7ca, gbc.sp());
        EXPECT(0x6f33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 032C
        gbc.setState(0xbafc, 0x11f5, 0xc980, 0x9836, 0x6687, 0xf4c3, 0x0, 0x0);
        gbc.writeMem(0xbafc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x11f5, gbc.sp());
        EXPECT(0xbafe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbafc));
        EXPECT(0x50, gbc.readMem(0xbafd));
        // CB 50 032D
        gbc.setState(0x4f3c, 0x18db, 0xc0a0, 0x9957, 0x6936, 0x1c9e, 0x0, 0x1);
        gbc.writeMem(0x4f3c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x18db, gbc.sp());
        EXPECT(0x4f3e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 032E
        gbc.setState(0x1d06, 0x9e7c, 0xad70, 0xd37a, 0x4436, 0x712b, 0x1, 0x0);
        gbc.writeMem(0x1d06, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x9e7c, gbc.sp());
        EXPECT(0x1d08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 032F
        gbc.setState(0x8e02, 0xda7f, 0x59f0, 0x324e, 0x34c4, 0xe7a8, 0x0, 0x0);
        gbc.writeMem(0x8e02, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xda7f, gbc.sp());
        EXPECT(0x8e04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e02));
        EXPECT(0x50, gbc.readMem(0x8e03));
        // CB 50 0331
        gbc.setState(0x4cb2, 0x7659, 0xfbb0, 0xf4c3, 0xdbab, 0x9f0d, 0x0, 0x1);
        gbc.writeMem(0x4cb2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x7659, gbc.sp());
        EXPECT(0x4cb4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0332
        gbc.setState(0xa467, 0xb0a5, 0x79b0, 0x540f, 0xc0a9, 0x51d5, 0x0, 0x0);
        gbc.writeMem(0xa467, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xb0a5, gbc.sp());
        EXPECT(0xa469, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa467));
        EXPECT(0x50, gbc.readMem(0xa468));
        // CB 50 0333
        gbc.setState(0xecfc, 0x6962, 0x6c60, 0x2df0, 0x5306, 0xbc6f, 0x0, 0x0);
        gbc.writeMem(0xecfc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x6962, gbc.sp());
        EXPECT(0xecfe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xecfc));
        EXPECT(0x50, gbc.readMem(0xecfd));
        // CB 50 0334
        gbc.setState(0xe9d5, 0xa331, 0x7ef0, 0x81c1, 0x39cd, 0x30fb, 0x0, 0x1);
        gbc.writeMem(0xe9d5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xa331, gbc.sp());
        EXPECT(0xe9d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe9d5));
        EXPECT(0x50, gbc.readMem(0xe9d6));
        // CB 50 0335
        gbc.setState(0x81e1, 0x9f46, 0x1f70, 0x62cc, 0xc3a, 0x8b8b, 0x1, 0x0);
        gbc.writeMem(0x81e1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x9f46, gbc.sp());
        EXPECT(0x81e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x81e1));
        EXPECT(0x50, gbc.readMem(0x81e2));
        // CB 50 0336
        gbc.setState(0x94ad, 0x5a4c, 0xdf70, 0x8c4e, 0x5c70, 0x6c32, 0x0, 0x0);
        gbc.writeMem(0x94ad, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x5a4c, gbc.sp());
        EXPECT(0x94af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x94ad));
        EXPECT(0x50, gbc.readMem(0x94ae));
        // CB 50 0337
        gbc.setState(0x6790, 0xce41, 0xf660, 0x3103, 0x9f6f, 0xca42, 0x0, 0x0);
        gbc.writeMem(0x6790, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xce41, gbc.sp());
        EXPECT(0x6792, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0338
        gbc.setState(0xccb2, 0xec0d, 0x60d0, 0x1750, 0x1cc6, 0x5d5, 0x0, 0x1);
        gbc.writeMem(0xccb2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xec0d, gbc.sp());
        EXPECT(0xccb4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xccb2));
        EXPECT(0x50, gbc.readMem(0xccb3));
        // CB 50 0339
        gbc.setState(0x9df7, 0xb18c, 0x4a90, 0x49a8, 0x2b9, 0xe5d7, 0x1, 0x0);
        gbc.writeMem(0x9df7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xb18c, gbc.sp());
        EXPECT(0x9df9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9df7));
        EXPECT(0x50, gbc.readMem(0x9df8));
        // CB 50 033A
        gbc.setState(0x96df, 0x30bb, 0x6c30, 0xf9fd, 0x5e1a, 0x3bf5, 0x0, 0x0);
        gbc.writeMem(0x96df, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x30bb, gbc.sp());
        EXPECT(0x96e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x96df));
        EXPECT(0x50, gbc.readMem(0x96e0));
        // CB 50 033B
        gbc.setState(0xa5f6, 0x4a48, 0xf960, 0xe5e1, 0x40eb, 0x26c3, 0x0, 0x1);
        gbc.writeMem(0xa5f6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x4a48, gbc.sp());
        EXPECT(0xa5f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa5f6));
        EXPECT(0x50, gbc.readMem(0xa5f7));
        // CB 50 033C
        gbc.setState(0x2436, 0xa315, 0x4100, 0x7191, 0x4f67, 0x446a, 0x0, 0x1);
        gbc.writeMem(0x2436, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xa315, gbc.sp());
        EXPECT(0x2438, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 033E
        gbc.setState(0xc57b, 0x1915, 0xd930, 0x46c8, 0x139d, 0x470a, 0x1, 0x0);
        gbc.writeMem(0xc57b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x1915, gbc.sp());
        EXPECT(0xc57d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc57b));
        EXPECT(0x50, gbc.readMem(0xc57c));
        // CB 50 0340
        gbc.setState(0xce3f, 0x83dd, 0x2dd0, 0x226c, 0x952, 0x2c8d, 0x0, 0x0);
        gbc.writeMem(0xce3f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x83dd, gbc.sp());
        EXPECT(0xce41, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce3f));
        EXPECT(0x50, gbc.readMem(0xce40));
        // CB 50 0341
        gbc.setState(0x563c, 0x59e5, 0xf580, 0x24ee, 0x4cac, 0x646a, 0x0, 0x0);
        gbc.writeMem(0x563c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x59e5, gbc.sp());
        EXPECT(0x563e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0342
        gbc.setState(0x8e6a, 0x2aaa, 0xc1c0, 0xa9be, 0x18a, 0x8da3, 0x0, 0x1);
        gbc.writeMem(0x8e6a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x2aaa, gbc.sp());
        EXPECT(0x8e6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e6a));
        EXPECT(0x50, gbc.readMem(0x8e6b));
        // CB 50 0343
        gbc.setState(0x96c5, 0x653, 0xfd00, 0x14ee, 0x8951, 0x91ac, 0x1, 0x1);
        gbc.writeMem(0x96c5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x653, gbc.sp());
        EXPECT(0x96c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x96c5));
        EXPECT(0x50, gbc.readMem(0x96c6));
        // CB 50 0344
        gbc.setState(0x392e, 0xf431, 0x3a80, 0x7903, 0xa174, 0xf2ca, 0x0, 0x1);
        gbc.writeMem(0x392e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xf431, gbc.sp());
        EXPECT(0x3930, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0345
        gbc.setState(0xe45b, 0x9b0d, 0x4380, 0x2231, 0xf54b, 0x802f, 0x0, 0x0);
        gbc.writeMem(0xe45b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x9b0d, gbc.sp());
        EXPECT(0xe45d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe45b));
        EXPECT(0x50, gbc.readMem(0xe45c));
        // CB 50 0346
        gbc.setState(0x3cdd, 0x8a28, 0xa760, 0x6268, 0x9294, 0xea7c, 0x0, 0x1);
        gbc.writeMem(0x3cdd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x8a28, gbc.sp());
        EXPECT(0x3cdf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0347
        gbc.setState(0x3e8b, 0x8169, 0xb690, 0x2c10, 0xec9, 0x6d8c, 0x0, 0x1);
        gbc.writeMem(0x3e8b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x8169, gbc.sp());
        EXPECT(0x3e8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0348
        gbc.setState(0xbccd, 0x1fb7, 0x5030, 0x35b7, 0x1189, 0x8c1, 0x1, 0x1);
        gbc.writeMem(0xbccd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x1fb7, gbc.sp());
        EXPECT(0xbccf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbccd));
        EXPECT(0x50, gbc.readMem(0xbcce));
        // CB 50 0349
        gbc.setState(0x4910, 0xaaf2, 0x7100, 0x41fb, 0xd356, 0x722a, 0x0, 0x1);
        gbc.writeMem(0x4910, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xaaf2, gbc.sp());
        EXPECT(0x4912, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 034A
        gbc.setState(0xe493, 0x238a, 0xb740, 0x5c48, 0x584f, 0x4b48, 0x1, 0x1);
        gbc.writeMem(0xe493, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x238a, gbc.sp());
        EXPECT(0xe495, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe493));
        EXPECT(0x50, gbc.readMem(0xe494));
        // CB 50 034B
        gbc.setState(0xb5d, 0xcde6, 0xe9a0, 0xef6, 0x1098, 0x815a, 0x1, 0x0);
        gbc.writeMem(0xb5d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xcde6, gbc.sp());
        EXPECT(0xb5f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 034C
        gbc.setState(0xe458, 0x5869, 0x6740, 0xcbc9, 0xb17a, 0x9c1e, 0x0, 0x1);
        gbc.writeMem(0xe458, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x5869, gbc.sp());
        EXPECT(0xe45a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe458));
        EXPECT(0x50, gbc.readMem(0xe459));
        // CB 50 034D
        gbc.setState(0xc96e, 0xa797, 0x9f10, 0xd0a8, 0x1785, 0x9285, 0x1, 0x1);
        gbc.writeMem(0xc96e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xa797, gbc.sp());
        EXPECT(0xc970, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc96e));
        EXPECT(0x50, gbc.readMem(0xc96f));
        // CB 50 034E
        gbc.setState(0x75c2, 0xef71, 0x6030, 0x8e1d, 0xe543, 0xaaf0, 0x1, 0x1);
        gbc.writeMem(0x75c2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xef71, gbc.sp());
        EXPECT(0x75c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 034F
        gbc.setState(0x28af, 0x2a1b, 0x72c0, 0x3126, 0xff8, 0xe9ee, 0x1, 0x1);
        gbc.writeMem(0x28af, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x2a1b, gbc.sp());
        EXPECT(0x28b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0350
        gbc.setState(0x1ce6, 0x285, 0xc3f0, 0x8770, 0x366c, 0x3167, 0x0, 0x1);
        gbc.writeMem(0x1ce6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x285, gbc.sp());
        EXPECT(0x1ce8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0351
        gbc.setState(0xe156, 0x8951, 0xc2e0, 0xdca3, 0xb2ef, 0xeb64, 0x1, 0x0);
        gbc.writeMem(0xe156, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x8951, gbc.sp());
        EXPECT(0xe158, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe156));
        EXPECT(0x50, gbc.readMem(0xe157));
        // CB 50 0352
        gbc.setState(0x88b5, 0xa231, 0x1750, 0x3a60, 0x4b5b, 0x9bd, 0x0, 0x0);
        gbc.writeMem(0x88b5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xa231, gbc.sp());
        EXPECT(0x88b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x88b5));
        EXPECT(0x50, gbc.readMem(0x88b6));
        // CB 50 0353
        gbc.setState(0xa890, 0x5d1c, 0xbc00, 0x6df0, 0x7509, 0x27f9, 0x1, 0x1);
        gbc.writeMem(0xa890, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x5d1c, gbc.sp());
        EXPECT(0xa892, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa890));
        EXPECT(0x50, gbc.readMem(0xa891));
        // CB 50 0354
        gbc.setState(0x734a, 0x4c70, 0xfc20, 0x1fe4, 0xe1c4, 0x74f6, 0x1, 0x0);
        gbc.writeMem(0x734a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x4c70, gbc.sp());
        EXPECT(0x734c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0355
        gbc.setState(0x5500, 0x3ae2, 0xe1a0, 0xa656, 0xd6fe, 0x8584, 0x1, 0x0);
        gbc.writeMem(0x5500, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x3ae2, gbc.sp());
        EXPECT(0x5502, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0356
        gbc.setState(0xc4eb, 0xbd64, 0x60b0, 0x1d09, 0xa3be, 0x7019, 0x0, 0x0);
        gbc.writeMem(0xc4eb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xbd64, gbc.sp());
        EXPECT(0xc4ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4eb));
        EXPECT(0x50, gbc.readMem(0xc4ec));
        // CB 50 0357
        gbc.setState(0x701a, 0xf378, 0xcf50, 0xfca9, 0xf6ca, 0x39ae, 0x0, 0x1);
        gbc.writeMem(0x701a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xf378, gbc.sp());
        EXPECT(0x701c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0358
        gbc.setState(0xcedd, 0x27d1, 0x950, 0xdcc1, 0x5a48, 0xfa55, 0x1, 0x0);
        gbc.writeMem(0xcedd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x27d1, gbc.sp());
        EXPECT(0xcedf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcedd));
        EXPECT(0x50, gbc.readMem(0xcede));
        // CB 50 0359
        gbc.setState(0x4200, 0xbdcd, 0xeae0, 0xee9b, 0x7778, 0x5fb8, 0x1, 0x0);
        gbc.writeMem(0x4200, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xbdcd, gbc.sp());
        EXPECT(0x4202, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 035A
        gbc.setState(0xbb01, 0xd4f0, 0x4cf0, 0xe9f3, 0x35e0, 0xc573, 0x1, 0x0);
        gbc.writeMem(0xbb01, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xd4f0, gbc.sp());
        EXPECT(0xbb03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb01));
        EXPECT(0x50, gbc.readMem(0xbb02));
        // CB 50 035B
        gbc.setState(0x8913, 0xa856, 0xd090, 0xd11e, 0xd7b, 0xdaa7, 0x1, 0x1);
        gbc.writeMem(0x8913, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xa856, gbc.sp());
        EXPECT(0x8915, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8913));
        EXPECT(0x50, gbc.readMem(0x8914));
        // CB 50 035C
        gbc.setState(0x65bb, 0x4f49, 0x15d0, 0x204c, 0x48a9, 0xdc06, 0x1, 0x0);
        gbc.writeMem(0x65bb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x4f49, gbc.sp());
        EXPECT(0x65bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 035D
        gbc.setState(0xae39, 0xfb61, 0x3ac0, 0x4d14, 0xa63a, 0xf826, 0x1, 0x1);
        gbc.writeMem(0xae39, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xfb61, gbc.sp());
        EXPECT(0xae3b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae39));
        EXPECT(0x50, gbc.readMem(0xae3a));
        // CB 50 035E
        gbc.setState(0xb23f, 0x8db5, 0xc980, 0x8d30, 0x97c1, 0x99db, 0x1, 0x1);
        gbc.writeMem(0xb23f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x8db5, gbc.sp());
        EXPECT(0xb241, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb23f));
        EXPECT(0x50, gbc.readMem(0xb240));
        // CB 50 035F
        gbc.setState(0x30c9, 0x2392, 0xabb0, 0xf943, 0x2ab3, 0x5cda, 0x1, 0x1);
        gbc.writeMem(0x30c9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x2392, gbc.sp());
        EXPECT(0x30cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0360
        gbc.setState(0xe88d, 0xb9d6, 0xe5d0, 0x61f4, 0xc592, 0xc2bc, 0x1, 0x0);
        gbc.writeMem(0xe88d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xb9d6, gbc.sp());
        EXPECT(0xe88f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe88d));
        EXPECT(0x50, gbc.readMem(0xe88e));
        // CB 50 0361
        gbc.setState(0x7fa9, 0xe4c4, 0x6f40, 0xe824, 0xe949, 0x1bb5, 0x1, 0x1);
        gbc.writeMem(0x7fa9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xe4c4, gbc.sp());
        EXPECT(0x7fab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0362
        gbc.setState(0x73f9, 0x6ac, 0x7470, 0x800c, 0xda10, 0xc7ab, 0x0, 0x1);
        gbc.writeMem(0x73f9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x6ac, gbc.sp());
        EXPECT(0x73fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0363
        gbc.setState(0xa33, 0x3886, 0xb380, 0x47e7, 0xb935, 0x8975, 0x1, 0x0);
        gbc.writeMem(0xa33, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x3886, gbc.sp());
        EXPECT(0xa35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0364
        gbc.setState(0xa4ed, 0x1cfb, 0x4ae0, 0x8e1f, 0x2956, 0xb5a3, 0x0, 0x1);
        gbc.writeMem(0xa4ed, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x1cfb, gbc.sp());
        EXPECT(0xa4ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4ed));
        EXPECT(0x50, gbc.readMem(0xa4ee));
        // CB 50 0365
        gbc.setState(0x5854, 0xccf6, 0x8720, 0x2847, 0xb3db, 0xf0c5, 0x0, 0x0);
        gbc.writeMem(0x5854, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xccf6, gbc.sp());
        EXPECT(0x5856, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0366
        gbc.setState(0xa921, 0x303e, 0xb700, 0xdd87, 0x304e, 0xbf9e, 0x1, 0x0);
        gbc.writeMem(0xa921, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x303e, gbc.sp());
        EXPECT(0xa923, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa921));
        EXPECT(0x50, gbc.readMem(0xa922));
        // CB 50 0367
        gbc.setState(0xad36, 0x27c3, 0xb4e0, 0x881c, 0x2143, 0x3236, 0x0, 0x1);
        gbc.writeMem(0xad36, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x27c3, gbc.sp());
        EXPECT(0xad38, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad36));
        EXPECT(0x50, gbc.readMem(0xad37));
        // CB 50 0369
        gbc.setState(0xeb29, 0x477d, 0x8e80, 0x3fd4, 0x41b8, 0x878d, 0x0, 0x1);
        gbc.writeMem(0xeb29, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x477d, gbc.sp());
        EXPECT(0xeb2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb29));
        EXPECT(0x50, gbc.readMem(0xeb2a));
        // CB 50 036A
        gbc.setState(0x9af5, 0x5c68, 0xa510, 0x83b7, 0x6878, 0x5465, 0x0, 0x0);
        gbc.writeMem(0x9af5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x5c68, gbc.sp());
        EXPECT(0x9af7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9af5));
        EXPECT(0x50, gbc.readMem(0x9af6));
        // CB 50 036B
        gbc.setState(0xa4a4, 0x986b, 0x6fe0, 0x14df, 0x2430, 0xa8f8, 0x1, 0x0);
        gbc.writeMem(0xa4a4, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x986b, gbc.sp());
        EXPECT(0xa4a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4a4));
        EXPECT(0x50, gbc.readMem(0xa4a5));
        // CB 50 036C
        gbc.setState(0x8595, 0x2659, 0xc2a0, 0xa460, 0xf4c, 0xa842, 0x0, 0x0);
        gbc.writeMem(0x8595, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x2659, gbc.sp());
        EXPECT(0x8597, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8595));
        EXPECT(0x50, gbc.readMem(0x8596));
        // CB 50 036D
        gbc.setState(0x4bfb, 0x252c, 0x4960, 0x4c86, 0x1380, 0x9a88, 0x0, 0x1);
        gbc.writeMem(0x4bfb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x252c, gbc.sp());
        EXPECT(0x4bfd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 036E
        gbc.setState(0xafa3, 0x42f1, 0xcf20, 0x5ea6, 0x9524, 0xee6a, 0x1, 0x0);
        gbc.writeMem(0xafa3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x42f1, gbc.sp());
        EXPECT(0xafa5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafa3));
        EXPECT(0x50, gbc.readMem(0xafa4));
        // CB 50 036F
        gbc.setState(0xa8b5, 0xbe51, 0xe540, 0x8031, 0xc710, 0xbc0a, 0x1, 0x0);
        gbc.writeMem(0xa8b5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xbe51, gbc.sp());
        EXPECT(0xa8b7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8b5));
        EXPECT(0x50, gbc.readMem(0xa8b6));
        // CB 50 0370
        gbc.setState(0x42b3, 0x6efc, 0xea20, 0xf1f0, 0xb306, 0x47b2, 0x1, 0x0);
        gbc.writeMem(0x42b3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x6efc, gbc.sp());
        EXPECT(0x42b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0371
        gbc.setState(0x601c, 0xca61, 0xa2d0, 0xc378, 0x9a0a, 0x552f, 0x0, 0x1);
        gbc.writeMem(0x601c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xca61, gbc.sp());
        EXPECT(0x601e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0372
        gbc.setState(0x50e6, 0xb25b, 0x2b90, 0xa0f7, 0xcd33, 0xc431, 0x0, 0x1);
        gbc.writeMem(0x50e6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xb25b, gbc.sp());
        EXPECT(0x50e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0373
        gbc.setState(0xe7da, 0x9b83, 0x2a00, 0xe45b, 0x5231, 0x9113, 0x1, 0x1);
        gbc.writeMem(0xe7da, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x9b83, gbc.sp());
        EXPECT(0xe7dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe7da));
        EXPECT(0x50, gbc.readMem(0xe7db));
        // CB 50 0374
        gbc.setState(0x332, 0x24fd, 0x2620, 0xd474, 0x8064, 0xe13f, 0x0, 0x1);
        gbc.writeMem(0x332, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x24fd, gbc.sp());
        EXPECT(0x334, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0375
        gbc.setState(0xbd30, 0x51df, 0x1140, 0x5f17, 0x8ef3, 0xd1f3, 0x0, 0x1);
        gbc.writeMem(0xbd30, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x51df, gbc.sp());
        EXPECT(0xbd32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd30));
        EXPECT(0x50, gbc.readMem(0xbd31));
        // CB 50 0376
        gbc.setState(0xab94, 0x91a4, 0xfb70, 0x56d0, 0x72af, 0xcfab, 0x0, 0x0);
        gbc.writeMem(0xab94, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x91a4, gbc.sp());
        EXPECT(0xab96, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab94));
        EXPECT(0x50, gbc.readMem(0xab95));
        // CB 50 0377
        gbc.setState(0x7454, 0xf099, 0xe900, 0x1abb, 0xe693, 0xa8c2, 0x0, 0x0);
        gbc.writeMem(0x7454, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xf099, gbc.sp());
        EXPECT(0x7456, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0378
        gbc.setState(0xcb35, 0x2ce3, 0xf460, 0xbc96, 0x8411, 0x316c, 0x1, 0x0);
        gbc.writeMem(0xcb35, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x2ce3, gbc.sp());
        EXPECT(0xcb37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb35));
        EXPECT(0x50, gbc.readMem(0xcb36));
        // CB 50 0379
        gbc.setState(0x516c, 0x712a, 0x5ad0, 0x8c5f, 0xee1, 0x89a3, 0x1, 0x1);
        gbc.writeMem(0x516c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x712a, gbc.sp());
        EXPECT(0x516e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 037A
        gbc.setState(0x8006, 0x922e, 0xb100, 0x98ec, 0x7ad8, 0xb404, 0x1, 0x1);
        gbc.writeMem(0x8006, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x922e, gbc.sp());
        EXPECT(0x8008, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8006));
        EXPECT(0x50, gbc.readMem(0x8007));
        // CB 50 037B
        gbc.setState(0x52c6, 0xce8e, 0x68f0, 0xf5ff, 0x7a88, 0x1ddd, 0x1, 0x1);
        gbc.writeMem(0x52c6, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xce8e, gbc.sp());
        EXPECT(0x52c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 037C
        gbc.setState(0xa7fd, 0xfcdc, 0x2410, 0x6975, 0xece7, 0xc28d, 0x1, 0x0);
        gbc.writeMem(0xa7fd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xfcdc, gbc.sp());
        EXPECT(0xa7ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7fd));
        EXPECT(0x50, gbc.readMem(0xa7fe));
        // CB 50 037D
        gbc.setState(0x7489, 0xacdb, 0xd690, 0xab0f, 0x7883, 0xa21, 0x0, 0x1);
        gbc.writeMem(0x7489, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xacdb, gbc.sp());
        EXPECT(0x748b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 037E
        gbc.setState(0xbea8, 0xe86e, 0x7f80, 0x27a9, 0xc840, 0x6fc2, 0x0, 0x0);
        gbc.writeMem(0xbea8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xe86e, gbc.sp());
        EXPECT(0xbeaa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbea8));
        EXPECT(0x50, gbc.readMem(0xbea9));
        // CB 50 0380
        gbc.setState(0xd72, 0xc374, 0x5580, 0xaada, 0x764b, 0x17b3, 0x1, 0x0);
        gbc.writeMem(0xd72, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xc374, gbc.sp());
        EXPECT(0xd74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0381
        gbc.setState(0xda30, 0x8462, 0x7ea0, 0x80e9, 0x266c, 0xa2a2, 0x1, 0x1);
        gbc.writeMem(0xda30, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x8462, gbc.sp());
        EXPECT(0xda32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda30));
        EXPECT(0x50, gbc.readMem(0xda31));
        // CB 50 0382
        gbc.setState(0x9db3, 0xbd35, 0xa2c0, 0xbec0, 0x5f7, 0x8b68, 0x1, 0x0);
        gbc.writeMem(0x9db3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xbd35, gbc.sp());
        EXPECT(0x9db5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9db3));
        EXPECT(0x50, gbc.readMem(0x9db4));
        // CB 50 0383
        gbc.setState(0x75c7, 0x2163, 0xe9f0, 0x96e3, 0x6bc6, 0x3673, 0x0, 0x1);
        gbc.writeMem(0x75c7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x2163, gbc.sp());
        EXPECT(0x75c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0384
        gbc.setState(0x7079, 0x7fbd, 0x7750, 0x18f, 0xb41a, 0x1bc2, 0x1, 0x1);
        gbc.writeMem(0x7079, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x7fbd, gbc.sp());
        EXPECT(0x707b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0385
        gbc.setState(0xe3e3, 0x8765, 0x5d70, 0x1e46, 0x6f57, 0x32f5, 0x0, 0x0);
        gbc.writeMem(0xe3e3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x8765, gbc.sp());
        EXPECT(0xe3e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe3e3));
        EXPECT(0x50, gbc.readMem(0xe3e4));
        // CB 50 0386
        gbc.setState(0xcb12, 0x5128, 0x3f20, 0xda03, 0x566d, 0xf4c1, 0x1, 0x0);
        gbc.writeMem(0xcb12, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x5128, gbc.sp());
        EXPECT(0xcb14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb12));
        EXPECT(0x50, gbc.readMem(0xcb13));
        // CB 50 0387
        gbc.setState(0x4576, 0x1521, 0xf730, 0xb9e5, 0xcf68, 0xb945, 0x0, 0x0);
        gbc.writeMem(0x4576, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x1521, gbc.sp());
        EXPECT(0x4578, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0388
        gbc.setState(0x745d, 0x2829, 0x62e0, 0x2e2, 0xd7f3, 0xe0bd, 0x0, 0x1);
        gbc.writeMem(0x745d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x2829, gbc.sp());
        EXPECT(0x745f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0389
        gbc.setState(0x94ba, 0x9f9a, 0x7100, 0x5277, 0x6477, 0x378d, 0x1, 0x0);
        gbc.writeMem(0x94ba, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x9f9a, gbc.sp());
        EXPECT(0x94bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x94ba));
        EXPECT(0x50, gbc.readMem(0x94bb));
        // CB 50 038A
        gbc.setState(0x62e0, 0x3530, 0x5f00, 0x6704, 0xfc85, 0x9a91, 0x0, 0x0);
        gbc.writeMem(0x62e0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x3530, gbc.sp());
        EXPECT(0x62e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 038B
        gbc.setState(0x31ff, 0x72a5, 0x17b0, 0x2572, 0x744e, 0x8da2, 0x1, 0x1);
        gbc.writeMem(0x31ff, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x72a5, gbc.sp());
        EXPECT(0x3201, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 038C
        gbc.setState(0x6ade, 0xad9, 0x2780, 0x3d92, 0x28de, 0x8f92, 0x0, 0x0);
        gbc.writeMem(0x6ade, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xad9, gbc.sp());
        EXPECT(0x6ae0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 038D
        gbc.setState(0x4b8f, 0x10ae, 0x4f30, 0x11af, 0xedad, 0x7cb2, 0x0, 0x1);
        gbc.writeMem(0x4b8f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x10ae, gbc.sp());
        EXPECT(0x4b91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 038E
        gbc.setState(0x2be0, 0xcd6d, 0xf770, 0x7218, 0xee28, 0x4aa9, 0x0, 0x1);
        gbc.writeMem(0x2be0, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xcd6d, gbc.sp());
        EXPECT(0x2be2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 038F
        gbc.setState(0x644a, 0x8fc3, 0xd440, 0xe8eb, 0xb895, 0x661a, 0x1, 0x1);
        gbc.writeMem(0x644a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x8fc3, gbc.sp());
        EXPECT(0x644c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0390
        gbc.setState(0x7e97, 0xd45d, 0x4440, 0x510, 0xf52e, 0x9f62, 0x0, 0x1);
        gbc.writeMem(0x7e97, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xd45d, gbc.sp());
        EXPECT(0x7e99, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0391
        gbc.setState(0xe68b, 0x2b38, 0x9f70, 0x562, 0xa7cd, 0xf608, 0x1, 0x1);
        gbc.writeMem(0xe68b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x2b38, gbc.sp());
        EXPECT(0xe68d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe68b));
        EXPECT(0x50, gbc.readMem(0xe68c));
        // CB 50 0392
        gbc.setState(0x2e85, 0xc244, 0x41a0, 0x1964, 0x2a7, 0x7457, 0x1, 0x1);
        gbc.writeMem(0x2e85, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xc244, gbc.sp());
        EXPECT(0x2e87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0393
        gbc.setState(0xc146, 0xfa9c, 0xa3e0, 0x6334, 0xc86c, 0x68bf, 0x1, 0x0);
        gbc.writeMem(0xc146, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xfa9c, gbc.sp());
        EXPECT(0xc148, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc146));
        EXPECT(0x50, gbc.readMem(0xc147));
        // CB 50 0394
        gbc.setState(0xc17c, 0x3de4, 0x8d60, 0x8ef7, 0x2127, 0x26e2, 0x1, 0x0);
        gbc.writeMem(0xc17c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x3de4, gbc.sp());
        EXPECT(0xc17e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc17c));
        EXPECT(0x50, gbc.readMem(0xc17d));
        // CB 50 0395
        gbc.setState(0x55b5, 0xd15e, 0xc160, 0x4bf, 0xf3ef, 0xef4, 0x0, 0x1);
        gbc.writeMem(0x55b5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xd15e, gbc.sp());
        EXPECT(0x55b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0396
        gbc.setState(0x3223, 0x3529, 0x1da0, 0x231, 0x8713, 0xc75c, 0x1, 0x1);
        gbc.writeMem(0x3223, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x3529, gbc.sp());
        EXPECT(0x3225, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 0397
        gbc.setState(0xb11a, 0x66ff, 0x5110, 0x6c3b, 0x6b1c, 0xdaf9, 0x1, 0x1);
        gbc.writeMem(0xb11a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x66ff, gbc.sp());
        EXPECT(0xb11c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb11a));
        EXPECT(0x50, gbc.readMem(0xb11b));
        // CB 50 0398
        gbc.setState(0x49a1, 0x1b55, 0x66d0, 0xb14e, 0x689a, 0x5944, 0x0, 0x0);
        gbc.writeMem(0x49a1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x1b55, gbc.sp());
        EXPECT(0x49a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 0399
        gbc.setState(0x8fd4, 0xd372, 0x65a0, 0x1955, 0x5116, 0xf97e, 0x0, 0x0);
        gbc.writeMem(0x8fd4, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xd372, gbc.sp());
        EXPECT(0x8fd6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8fd4));
        EXPECT(0x50, gbc.readMem(0x8fd5));
        // CB 50 039A
        gbc.setState(0xbb17, 0x4c0, 0xb380, 0x7464, 0x8828, 0x5cbd, 0x0, 0x0);
        gbc.writeMem(0xbb17, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x4c0, gbc.sp());
        EXPECT(0xbb19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb17));
        EXPECT(0x50, gbc.readMem(0xbb18));
        // CB 50 039B
        gbc.setState(0x5135, 0x19c0, 0xee50, 0x8fbb, 0x2c2d, 0x859, 0x0, 0x0);
        gbc.writeMem(0x5135, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x19c0, gbc.sp());
        EXPECT(0x5137, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 039C
        gbc.setState(0xb7bc, 0x1486, 0x77e0, 0x1c21, 0xd694, 0x97a9, 0x1, 0x1);
        gbc.writeMem(0xb7bc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x1486, gbc.sp());
        EXPECT(0xb7be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7bc));
        EXPECT(0x50, gbc.readMem(0xb7bd));
        // CB 50 039D
        gbc.setState(0x7bfd, 0xe9d6, 0x750, 0x805e, 0x4256, 0x64cf, 0x0, 0x0);
        gbc.writeMem(0x7bfd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xe9d6, gbc.sp());
        EXPECT(0x7bff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 039E
        gbc.setState(0xe535, 0xdc91, 0x95b0, 0x7ddf, 0xac03, 0x7e7d, 0x1, 0x1);
        gbc.writeMem(0xe535, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xdc91, gbc.sp());
        EXPECT(0xe537, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe535));
        EXPECT(0x50, gbc.readMem(0xe536));
        // CB 50 039F
        gbc.setState(0xe308, 0x117f, 0x2fd0, 0x8e77, 0xc253, 0xcf1b, 0x0, 0x1);
        gbc.writeMem(0xe308, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x117f, gbc.sp());
        EXPECT(0xe30a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe308));
        EXPECT(0x50, gbc.readMem(0xe309));
        // CB 50 03A0
        gbc.setState(0x8bd7, 0x3f77, 0xdb30, 0x5e6b, 0xd717, 0xe2b6, 0x1, 0x1);
        gbc.writeMem(0x8bd7, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x3f77, gbc.sp());
        EXPECT(0x8bd9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8bd7));
        EXPECT(0x50, gbc.readMem(0x8bd8));
        // CB 50 03A1
        gbc.setState(0xa381, 0x88dc, 0xa450, 0x3762, 0xf44a, 0xb9c2, 0x0, 0x1);
        gbc.writeMem(0xa381, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x88dc, gbc.sp());
        EXPECT(0xa383, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa381));
        EXPECT(0x50, gbc.readMem(0xa382));
        // CB 50 03A2
        gbc.setState(0xd8d4, 0xb21c, 0x6e0, 0xa331, 0xf27f, 0x2e90, 0x1, 0x0);
        gbc.writeMem(0xd8d4, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xb21c, gbc.sp());
        EXPECT(0xd8d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd8d4));
        EXPECT(0x50, gbc.readMem(0xd8d5));
        // CB 50 03A3
        gbc.setState(0x30fd, 0xd5b9, 0xf6a0, 0x2ee4, 0xe6f4, 0x556d, 0x1, 0x1);
        gbc.writeMem(0x30fd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xd5b9, gbc.sp());
        EXPECT(0x30ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 03A4
        gbc.setState(0x2239, 0x8134, 0xda00, 0x9b49, 0xce42, 0xad29, 0x0, 0x0);
        gbc.writeMem(0x2239, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x8134, gbc.sp());
        EXPECT(0x223b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 03A5
        gbc.setState(0xdf73, 0x7dd5, 0x1600, 0xa38f, 0x6354, 0x9c2c, 0x0, 0x1);
        gbc.writeMem(0xdf73, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x7dd5, gbc.sp());
        EXPECT(0xdf75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf73));
        EXPECT(0x50, gbc.readMem(0xdf74));
        // CB 50 03A6
        gbc.setState(0xc81d, 0x6419, 0x19e0, 0x1756, 0x52a3, 0xa966, 0x0, 0x1);
        gbc.writeMem(0xc81d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x6419, gbc.sp());
        EXPECT(0xc81f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc81d));
        EXPECT(0x50, gbc.readMem(0xc81e));
        // CB 50 03A7
        gbc.setState(0x3d, 0x8787, 0xdb40, 0x341, 0xd0a9, 0x13e, 0x1, 0x0);
        gbc.writeMem(0x3d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x8787, gbc.sp());
        EXPECT(0x3f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 03A8
        gbc.setState(0xda39, 0xaabf, 0x5d40, 0xb15b, 0xb36d, 0x4a91, 0x0, 0x1);
        gbc.writeMem(0xda39, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xaabf, gbc.sp());
        EXPECT(0xda3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda39));
        EXPECT(0x50, gbc.readMem(0xda3a));
        // CB 50 03A9
        gbc.setState(0x8786, 0x2f22, 0x3840, 0x65df, 0x1f2f, 0x8179, 0x0, 0x1);
        gbc.writeMem(0x8786, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x2f22, gbc.sp());
        EXPECT(0x8788, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8786));
        EXPECT(0x50, gbc.readMem(0x8787));
        // CB 50 03AA
        gbc.setState(0x1051, 0x26cb, 0xe550, 0x12df, 0xada3, 0x4022, 0x0, 0x0);
        gbc.writeMem(0x1051, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x26cb, gbc.sp());
        EXPECT(0x1053, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03AB
        gbc.setState(0x2921, 0x13f5, 0xeca0, 0xa929, 0xac88, 0x3bc8, 0x1, 0x0);
        gbc.writeMem(0x2921, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x13f5, gbc.sp());
        EXPECT(0x2923, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 03AC
        gbc.setState(0xc130, 0x745, 0xf020, 0x20b8, 0x16c3, 0x9808, 0x0, 0x1);
        gbc.writeMem(0xc130, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x745, gbc.sp());
        EXPECT(0xc132, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc130));
        EXPECT(0x50, gbc.readMem(0xc131));
        // CB 50 03AD
        gbc.setState(0x75db, 0x831b, 0xbdb0, 0x2616, 0x4e01, 0xec78, 0x1, 0x0);
        gbc.writeMem(0x75db, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x831b, gbc.sp());
        EXPECT(0x75dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03AE
        gbc.setState(0x854, 0xdcff, 0x8670, 0xdad, 0x686c, 0x747b, 0x0, 0x0);
        gbc.writeMem(0x854, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xdcff, gbc.sp());
        EXPECT(0x856, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03AF
        gbc.setState(0x3a1f, 0x407a, 0x2cd0, 0x9cc0, 0xccaf, 0x57d2, 0x1, 0x1);
        gbc.writeMem(0x3a1f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x407a, gbc.sp());
        EXPECT(0x3a21, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03B0
        gbc.setState(0x387d, 0x58c4, 0xf00, 0x56a7, 0x87d0, 0x7fae, 0x0, 0x0);
        gbc.writeMem(0x387d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x58c4, gbc.sp());
        EXPECT(0x387f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 03B1
        gbc.setState(0xbbb2, 0x96b4, 0x3480, 0x7852, 0x741, 0x4569, 0x0, 0x1);
        gbc.writeMem(0xbbb2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x96b4, gbc.sp());
        EXPECT(0xbbb4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbbb2));
        EXPECT(0x50, gbc.readMem(0xbbb3));
        // CB 50 03B2
        gbc.setState(0xa1a, 0x50dc, 0x4190, 0x5712, 0xe098, 0xc269, 0x1, 0x1);
        gbc.writeMem(0xa1a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x50dc, gbc.sp());
        EXPECT(0xa1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03B3
        gbc.setState(0xbb03, 0x321e, 0x3fa0, 0xa843, 0xe607, 0x4643, 0x1, 0x1);
        gbc.writeMem(0xbb03, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x321e, gbc.sp());
        EXPECT(0xbb05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb03));
        EXPECT(0x50, gbc.readMem(0xbb04));
        // CB 50 03B4
        gbc.setState(0x2b67, 0xaa31, 0x85d0, 0x88b, 0xe23d, 0x30d3, 0x1, 0x0);
        gbc.writeMem(0x2b67, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xaa31, gbc.sp());
        EXPECT(0x2b69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03B5
        gbc.setState(0x8ff4, 0xfaf0, 0x4ec0, 0x7e00, 0xc848, 0x4e93, 0x0, 0x1);
        gbc.writeMem(0x8ff4, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xfaf0, gbc.sp());
        EXPECT(0x8ff6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ff4));
        EXPECT(0x50, gbc.readMem(0x8ff5));
        // CB 50 03B6
        gbc.setState(0xc929, 0x88e2, 0x8260, 0x809f, 0x84d, 0x59ed, 0x1, 0x0);
        gbc.writeMem(0xc929, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x88e2, gbc.sp());
        EXPECT(0xc92b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc929));
        EXPECT(0x50, gbc.readMem(0xc92a));
        // CB 50 03B7
        gbc.setState(0x8cdb, 0x3067, 0xbe50, 0x417c, 0x3a89, 0xe6be, 0x1, 0x1);
        gbc.writeMem(0x8cdb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x3067, gbc.sp());
        EXPECT(0x8cdd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8cdb));
        EXPECT(0x50, gbc.readMem(0x8cdc));
        // CB 50 03B8
        gbc.setState(0x6383, 0xa9c8, 0x61c0, 0x1928, 0xa441, 0xe047, 0x0, 0x0);
        gbc.writeMem(0x6383, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xa9c8, gbc.sp());
        EXPECT(0x6385, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 03B9
        gbc.setState(0xeae5, 0x9193, 0x3d60, 0xef85, 0xbc0b, 0xbd1a, 0x0, 0x0);
        gbc.writeMem(0xeae5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x9193, gbc.sp());
        EXPECT(0xeae7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeae5));
        EXPECT(0x50, gbc.readMem(0xeae6));
        // CB 50 03BA
        gbc.setState(0x1fe3, 0xe9cc, 0x8c50, 0xed34, 0xb34e, 0x5138, 0x1, 0x1);
        gbc.writeMem(0x1fe3, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xe9cc, gbc.sp());
        EXPECT(0x1fe5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03BB
        gbc.setState(0xe44a, 0xf980, 0xfee0, 0x83e7, 0x17f5, 0x99ff, 0x1, 0x0);
        gbc.writeMem(0xe44a, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xf980, gbc.sp());
        EXPECT(0xe44c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe44a));
        EXPECT(0x50, gbc.readMem(0xe44b));
        // CB 50 03BC
        gbc.setState(0xc433, 0x5c37, 0x7d50, 0xf3f8, 0xa154, 0xde83, 0x1, 0x0);
        gbc.writeMem(0xc433, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x5c37, gbc.sp());
        EXPECT(0xc435, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc433));
        EXPECT(0x50, gbc.readMem(0xc434));
        // CB 50 03BD
        gbc.setState(0x5b57, 0xdfaf, 0x1d0, 0x6d3d, 0xfca6, 0xfc41, 0x1, 0x1);
        gbc.writeMem(0x5b57, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xdfaf, gbc.sp());
        EXPECT(0x5b59, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03BE
        gbc.setState(0xc3d8, 0xde7b, 0xaee0, 0xa5fd, 0xd2d1, 0x71f7, 0x1, 0x0);
        gbc.writeMem(0xc3d8, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xde7b, gbc.sp());
        EXPECT(0xc3da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3d8));
        EXPECT(0x50, gbc.readMem(0xc3d9));
        // CB 50 03BF
        gbc.setState(0x2023, 0x8c81, 0xb4a0, 0xacd4, 0x1601, 0x3d38, 0x0, 0x1);
        gbc.writeMem(0x2023, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x8c81, gbc.sp());
        EXPECT(0x2025, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 03C0
        gbc.setState(0x62ae, 0xd9a, 0x7d10, 0x3924, 0x66c2, 0x5395, 0x1, 0x0);
        gbc.writeMem(0x62ae, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xd9a, gbc.sp());
        EXPECT(0x62b0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03C1
        gbc.setState(0x1f71, 0x11d7, 0xbbd0, 0xf4c0, 0x51f3, 0x5d58, 0x0, 0x1);
        gbc.writeMem(0x1f71, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x11d7, gbc.sp());
        EXPECT(0x1f73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03C3
        gbc.setState(0xa7b2, 0xebe6, 0x8bc0, 0xc56d, 0x3bdc, 0xe4c6, 0x0, 0x0);
        gbc.writeMem(0xa7b2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xebe6, gbc.sp());
        EXPECT(0xa7b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7b2));
        EXPECT(0x50, gbc.readMem(0xa7b3));
        // CB 50 03C4
        gbc.setState(0x2bfd, 0x2c03, 0x7160, 0xd8f, 0x3d11, 0x34d, 0x0, 0x1);
        gbc.writeMem(0x2bfd, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x2c03, gbc.sp());
        EXPECT(0x2bff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 03C5
        gbc.setState(0x553d, 0xcff2, 0xc840, 0xf1ad, 0xed90, 0x2507, 0x0, 0x0);
        gbc.writeMem(0x553d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xcff2, gbc.sp());
        EXPECT(0x553f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 03C6
        gbc.setState(0xf49, 0x9b7d, 0xb490, 0x78cb, 0x13d8, 0x3548, 0x1, 0x1);
        gbc.writeMem(0xf49, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x9b7d, gbc.sp());
        EXPECT(0xf4b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03C7
        gbc.setState(0xac45, 0x720d, 0xd190, 0xa7c5, 0xf126, 0xad3b, 0x0, 0x1);
        gbc.writeMem(0xac45, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x720d, gbc.sp());
        EXPECT(0xac47, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac45));
        EXPECT(0x50, gbc.readMem(0xac46));
        // CB 50 03C8
        gbc.setState(0x85cb, 0x7bd4, 0x84a0, 0x8418, 0x27ef, 0xf763, 0x1, 0x1);
        gbc.writeMem(0x85cb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x7bd4, gbc.sp());
        EXPECT(0x85cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x85cb));
        EXPECT(0x50, gbc.readMem(0x85cc));
        // CB 50 03C9
        gbc.setState(0x404f, 0xf3b3, 0xc8b0, 0x22d, 0x557f, 0x6d2e, 0x1, 0x1);
        gbc.writeMem(0x404f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xf3b3, gbc.sp());
        EXPECT(0x4051, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03CA
        gbc.setState(0xbb13, 0xfb99, 0x3420, 0x4844, 0xe2f2, 0xa0a0, 0x0, 0x1);
        gbc.writeMem(0xbb13, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xfb99, gbc.sp());
        EXPECT(0xbb15, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb13));
        EXPECT(0x50, gbc.readMem(0xbb14));
        // CB 50 03CB
        gbc.setState(0x95dc, 0x80b5, 0x4a20, 0x763b, 0xb577, 0x3457, 0x0, 0x1);
        gbc.writeMem(0x95dc, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x80b5, gbc.sp());
        EXPECT(0x95de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x95dc));
        EXPECT(0x50, gbc.readMem(0x95dd));
        // CB 50 03CC
        gbc.setState(0xbbb9, 0x622b, 0x6550, 0x371b, 0x6015, 0x1d59, 0x1, 0x0);
        gbc.writeMem(0xbbb9, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x622b, gbc.sp());
        EXPECT(0xbbbb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbbb9));
        EXPECT(0x50, gbc.readMem(0xbbba));
        // CB 50 03CD
        gbc.setState(0xc4cb, 0x9125, 0xdc00, 0xef8c, 0x420e, 0xe73e, 0x1, 0x0);
        gbc.writeMem(0xc4cb, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x9125, gbc.sp());
        EXPECT(0xc4cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4cb));
        EXPECT(0x50, gbc.readMem(0xc4cc));
        // CB 50 03CE
        gbc.setState(0xb799, 0xfb91, 0x5500, 0x372b, 0xb2a6, 0xb15f, 0x0, 0x0);
        gbc.writeMem(0xb799, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xfb91, gbc.sp());
        EXPECT(0xb79b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb799));
        EXPECT(0x50, gbc.readMem(0xb79a));
        // CB 50 03CF
        gbc.setState(0xc304, 0xa5aa, 0x6a90, 0xae29, 0x9bca, 0xfd43, 0x0, 0x1);
        gbc.writeMem(0xc304, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xa5aa, gbc.sp());
        EXPECT(0xc306, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc304));
        EXPECT(0x50, gbc.readMem(0xc305));
        // CB 50 03D0
        gbc.setState(0x7b6d, 0x3783, 0xd820, 0x44fc, 0x297f, 0x619c, 0x0, 0x0);
        gbc.writeMem(0x7b6d, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x3783, gbc.sp());
        EXPECT(0x7b6f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 03D1
        gbc.setState(0xb318, 0x79ed, 0x4670, 0xde03, 0xf215, 0x38fa, 0x1, 0x0);
        gbc.writeMem(0xb318, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x79ed, gbc.sp());
        EXPECT(0xb31a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb318));
        EXPECT(0x50, gbc.readMem(0xb319));
        // CB 50 03D2
        gbc.setState(0x7922, 0xdc14, 0xd230, 0x40a5, 0x95d3, 0xdd58, 0x1, 0x0);
        gbc.writeMem(0x7922, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xdc14, gbc.sp());
        EXPECT(0x7924, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03D3
        gbc.setState(0xdeae, 0xb6f8, 0xed0, 0xa7b0, 0xcaa9, 0x19ec, 0x1, 0x0);
        gbc.writeMem(0xdeae, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xb6f8, gbc.sp());
        EXPECT(0xdeb0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdeae));
        EXPECT(0x50, gbc.readMem(0xdeaf));
        // CB 50 03D4
        gbc.setState(0xd514, 0xdb56, 0x400, 0xb2ea, 0x749d, 0x8110, 0x0, 0x0);
        gbc.writeMem(0xd514, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xdb56, gbc.sp());
        EXPECT(0xd516, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd514));
        EXPECT(0x50, gbc.readMem(0xd515));
        // CB 50 03D5
        gbc.setState(0x72f1, 0xe44b, 0xbd50, 0xc583, 0xe31d, 0xe48f, 0x0, 0x0);
        gbc.writeMem(0x72f1, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xe44b, gbc.sp());
        EXPECT(0x72f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03D6
        gbc.setState(0x277f, 0x77ef, 0x3470, 0x9424, 0xd68b, 0x7bbc, 0x1, 0x1);
        gbc.writeMem(0x277f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x77ef, gbc.sp());
        EXPECT(0x2781, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03D8
        gbc.setState(0xece2, 0x7050, 0xb300, 0xe898, 0x9a65, 0x24ab, 0x0, 0x1);
        gbc.writeMem(0xece2, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x7050, gbc.sp());
        EXPECT(0xece4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xece2));
        EXPECT(0x50, gbc.readMem(0xece3));
        // CB 50 03DA
        gbc.setState(0x4c64, 0xd068, 0x3130, 0x215f, 0x61f3, 0x95e5, 0x0, 0x0);
        gbc.writeMem(0x4c64, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xd068, gbc.sp());
        EXPECT(0x4c66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03DB
        gbc.setState(0x3995, 0x3a17, 0xd150, 0x1e19, 0x527b, 0x2c3, 0x1, 0x0);
        gbc.writeMem(0x3995, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x3a17, gbc.sp());
        EXPECT(0x3997, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03DC
        gbc.setState(0xe232, 0xee43, 0x7d10, 0x55c8, 0xaf7b, 0xb730, 0x1, 0x0);
        gbc.writeMem(0xe232, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xee43, gbc.sp());
        EXPECT(0xe234, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe232));
        EXPECT(0x50, gbc.readMem(0xe233));
        // CB 50 03DD
        gbc.setState(0xc17, 0x94af, 0x9750, 0x3159, 0xad5d, 0xbccf, 0x0, 0x0);
        gbc.writeMem(0xc17, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x94af, gbc.sp());
        EXPECT(0xc19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03DE
        gbc.setState(0x8cf4, 0xc30c, 0xc9d0, 0xcc2f, 0x8e52, 0x1dcc, 0x1, 0x0);
        gbc.writeMem(0x8cf4, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xc30c, gbc.sp());
        EXPECT(0x8cf6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8cf4));
        EXPECT(0x50, gbc.readMem(0x8cf5));
        // CB 50 03DF
        gbc.setState(0x9582, 0x922d, 0x1410, 0x3478, 0x7183, 0x39f, 0x0, 0x1);
        gbc.writeMem(0x9582, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x922d, gbc.sp());
        EXPECT(0x9584, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9582));
        EXPECT(0x50, gbc.readMem(0x9583));
        // CB 50 03E0
        gbc.setState(0xa22c, 0xe1c8, 0x880, 0xb958, 0xdd1c, 0xfd3b, 0x1, 0x1);
        gbc.writeMem(0xa22c, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xe1c8, gbc.sp());
        EXPECT(0xa22e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa22c));
        EXPECT(0x50, gbc.readMem(0xa22d));
        // CB 50 03E1
        gbc.setState(0x9a9f, 0xa90b, 0xf7a0, 0x6b83, 0x6d42, 0xfe3e, 0x1, 0x0);
        gbc.writeMem(0x9a9f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xa90b, gbc.sp());
        EXPECT(0x9aa1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a9f));
        EXPECT(0x50, gbc.readMem(0x9aa0));
        // CB 50 03E3
        gbc.setState(0x184f, 0xa2c2, 0x28d0, 0xfda3, 0xb22b, 0x1ed1, 0x0, 0x1);
        gbc.writeMem(0x184f, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xa2c2, gbc.sp());
        EXPECT(0x1851, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03E4
        gbc.setState(0xb3ca, 0xa7d4, 0x4080, 0xe1ae, 0x6641, 0x9e20, 0x0, 0x0);
        gbc.writeMem(0xb3ca, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xa7d4, gbc.sp());
        EXPECT(0xb3cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb3ca));
        EXPECT(0x50, gbc.readMem(0xb3cb));
        // CB 50 03E5
        gbc.setState(0x184b, 0xafb2, 0x5500, 0x9153, 0x7833, 0x9087, 0x1, 0x0);
        gbc.writeMem(0x184b, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xafb2, gbc.sp());
        EXPECT(0x184d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 50 03E6
        gbc.setState(0x623e, 0x23e9, 0x1a30, 0xaeb9, 0x86ad, 0xadc2, 0x0, 0x0);
        gbc.writeMem(0x623e, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x23e9, gbc.sp());
        EXPECT(0x6240, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 50 03E7
        gbc.setState(0x4ef5, 0xa22b, 0xc1e0, 0xc2c, 0x94a9, 0x1a2c, 0x1, 0x0);
        gbc.writeMem(0x4ef5, { 0xcb, 0x50 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xa22b, gbc.sp());
        EXPECT(0x4ef7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
    }
