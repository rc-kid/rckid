#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_67)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_67) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 67 0000
        gbc.setState(0x3258, 0x817d, 0xcfb0, 0x8ec3, 0x2f51, 0xfd9e, 0x1, 0x0);
        gbc.writeMem(0x3258, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x817d);
        EXPECT(gbc.pc(), 0x3259);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0001
        gbc.setState(0xacf2, 0x1aa5, 0x8ff0, 0x88ad, 0x11fc, 0x8f91, 0x0, 0x1);
        gbc.writeMem(0xacf2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x1aa5);
        EXPECT(gbc.pc(), 0xacf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacf2), 0x67);
        // 67 0002
        gbc.setState(0xeba7, 0xd438, 0xb3f0, 0x4e8, 0xca66, 0xeeba, 0x0, 0x1);
        gbc.writeMem(0xeba7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xd438);
        EXPECT(gbc.pc(), 0xeba8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeba7), 0x67);
        // 67 0003
        gbc.setState(0xee43, 0x181d, 0x67a0, 0x9a9f, 0x6e4d, 0xb3c5, 0x0, 0x0);
        gbc.writeMem(0xee43, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x181d);
        EXPECT(gbc.pc(), 0xee44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee43), 0x67);
        // 67 0004
        gbc.setState(0x7c31, 0xba59, 0x94b0, 0xcb62, 0x98f3, 0x8b9e, 0x1, 0x1);
        gbc.writeMem(0x7c31, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xba59);
        EXPECT(gbc.pc(), 0x7c32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0005
        gbc.setState(0x2f96, 0x91fb, 0x4100, 0x2b7d, 0xae41, 0xb5c1, 0x0, 0x1);
        gbc.writeMem(0x2f96, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x91fb);
        EXPECT(gbc.pc(), 0x2f97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0006
        gbc.setState(0x3455, 0x7375, 0x5e30, 0x203, 0xf9e2, 0x10f5, 0x1, 0x1);
        gbc.writeMem(0x3455, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x7375);
        EXPECT(gbc.pc(), 0x3456);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0007
        gbc.setState(0x936e, 0xa154, 0xcf80, 0x910b, 0xb689, 0x299d, 0x0, 0x0);
        gbc.writeMem(0x936e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xa154);
        EXPECT(gbc.pc(), 0x936f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x936e), 0x67);
        // 67 0008
        gbc.setState(0x731, 0x4c2, 0x3e40, 0x3a87, 0x7dbb, 0x5bf, 0x0, 0x0);
        gbc.writeMem(0x731, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x4c2);
        EXPECT(gbc.pc(), 0x732);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0009
        gbc.setState(0x6559, 0x43b1, 0x7490, 0xa53b, 0x984d, 0xabbd, 0x0, 0x1);
        gbc.writeMem(0x6559, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x43b1);
        EXPECT(gbc.pc(), 0x655a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 000A
        gbc.setState(0x29f0, 0x5e78, 0x1eb0, 0x278f, 0x4276, 0xbc1d, 0x0, 0x1);
        gbc.writeMem(0x29f0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x5e78);
        EXPECT(gbc.pc(), 0x29f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 000B
        gbc.setState(0x4529, 0x62dd, 0xfe40, 0xcf02, 0x46f0, 0x2f8f, 0x0, 0x0);
        gbc.writeMem(0x4529, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x62dd);
        EXPECT(gbc.pc(), 0x452a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 000C
        gbc.setState(0xe430, 0xffdc, 0xdd30, 0x8696, 0x5f5, 0x2b4, 0x0, 0x1);
        gbc.writeMem(0xe430, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xffdc);
        EXPECT(gbc.pc(), 0xe431);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe430), 0x67);
        // 67 000D
        gbc.setState(0xb6bd, 0xc3d0, 0xca60, 0xcbba, 0xf353, 0xc930, 0x0, 0x0);
        gbc.writeMem(0xb6bd, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xc3d0);
        EXPECT(gbc.pc(), 0xb6be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6bd), 0x67);
        // 67 000E
        gbc.setState(0x843b, 0x79ab, 0xaa90, 0xe83c, 0xc3de, 0x73bf, 0x1, 0x1);
        gbc.writeMem(0x843b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x79ab);
        EXPECT(gbc.pc(), 0x843c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x843b), 0x67);
        // 67 000F
        gbc.setState(0xef, 0x3c47, 0xc60, 0x18ee, 0xf5ae, 0xd219, 0x1, 0x0);
        gbc.writeMem(0xef, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x3c47);
        EXPECT(gbc.pc(), 0xf0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0010
        gbc.setState(0x20fb, 0xe6ae, 0xfd40, 0x9e1f, 0xabea, 0x43d8, 0x1, 0x0);
        gbc.writeMem(0x20fb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xe6ae);
        EXPECT(gbc.pc(), 0x20fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0011
        gbc.setState(0x2789, 0x56f5, 0xc4b0, 0xa26d, 0x278c, 0x706c, 0x1, 0x1);
        gbc.writeMem(0x2789, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x56f5);
        EXPECT(gbc.pc(), 0x278a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0012
        gbc.setState(0xbdf, 0x2490, 0xe860, 0x7795, 0xc5d1, 0x69fb, 0x1, 0x0);
        gbc.writeMem(0xbdf, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2490);
        EXPECT(gbc.pc(), 0xbe0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0013
        gbc.setState(0x4f29, 0xf2e0, 0xc7c0, 0x66c1, 0xd16d, 0xc3a2, 0x1, 0x0);
        gbc.writeMem(0x4f29, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xf2e0);
        EXPECT(gbc.pc(), 0x4f2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0014
        gbc.setState(0xabcf, 0xa95d, 0xe050, 0x8534, 0x301c, 0x2c5d, 0x1, 0x0);
        gbc.writeMem(0xabcf, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xa95d);
        EXPECT(gbc.pc(), 0xabd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabcf), 0x67);
        // 67 0015
        gbc.setState(0x935d, 0x78be, 0xe250, 0xb8a2, 0xd6d2, 0xae38, 0x1, 0x0);
        gbc.writeMem(0x935d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x78be);
        EXPECT(gbc.pc(), 0x935e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x935d), 0x67);
        // 67 0016
        gbc.setState(0xb2c0, 0x519d, 0xb5e0, 0xe6d3, 0xa15c, 0xc554, 0x1, 0x1);
        gbc.writeMem(0xb2c0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x519d);
        EXPECT(gbc.pc(), 0xb2c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2c0), 0x67);
        // 67 0018
        gbc.setState(0xca15, 0x5a1c, 0x7260, 0x36a8, 0xcdc8, 0x36e7, 0x0, 0x1);
        gbc.writeMem(0xca15, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x5a1c);
        EXPECT(gbc.pc(), 0xca16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca15), 0x67);
        // 67 0019
        gbc.setState(0xeb54, 0x9339, 0x2e00, 0x26, 0x4e96, 0x5997, 0x1, 0x1);
        gbc.writeMem(0xeb54, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x9339);
        EXPECT(gbc.pc(), 0xeb55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb54), 0x67);
        // 67 001A
        gbc.setState(0x5c75, 0x378b, 0xc2a0, 0x497b, 0xb440, 0x1740, 0x0, 0x1);
        gbc.writeMem(0x5c75, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x378b);
        EXPECT(gbc.pc(), 0x5c76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 001C
        gbc.setState(0xab0a, 0x7a2d, 0xfe10, 0xa67a, 0x20f6, 0xf392, 0x1, 0x0);
        gbc.writeMem(0xab0a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x7a2d);
        EXPECT(gbc.pc(), 0xab0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab0a), 0x67);
        // 67 001D
        gbc.setState(0xb64d, 0x71f4, 0x6820, 0x59d2, 0xbd17, 0xbfcb, 0x0, 0x1);
        gbc.writeMem(0xb64d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x71f4);
        EXPECT(gbc.pc(), 0xb64e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb64d), 0x67);
        // 67 001E
        gbc.setState(0x7b93, 0xcdaf, 0xa340, 0xf69, 0xfca0, 0xbc60, 0x1, 0x0);
        gbc.writeMem(0x7b93, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xcdaf);
        EXPECT(gbc.pc(), 0x7b94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 001F
        gbc.setState(0x1e75, 0xce73, 0x830, 0x88b5, 0x5003, 0xa700, 0x1, 0x0);
        gbc.writeMem(0x1e75, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xce73);
        EXPECT(gbc.pc(), 0x1e76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0020
        gbc.setState(0xe48d, 0x54ee, 0x1ec0, 0x7b29, 0x882a, 0xedbe, 0x0, 0x1);
        gbc.writeMem(0xe48d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x54ee);
        EXPECT(gbc.pc(), 0xe48e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe48d), 0x67);
        // 67 0021
        gbc.setState(0xcdd2, 0x428d, 0xc0a0, 0x8c5e, 0xec78, 0xed81, 0x1, 0x0);
        gbc.writeMem(0xcdd2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x428d);
        EXPECT(gbc.pc(), 0xcdd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdd2), 0x67);
        // 67 0022
        gbc.setState(0x7964, 0x3335, 0xdbc0, 0xb3d, 0x66ea, 0x4cb0, 0x0, 0x1);
        gbc.writeMem(0x7964, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x3335);
        EXPECT(gbc.pc(), 0x7965);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0023
        gbc.setState(0x4cb2, 0x9791, 0xbc30, 0x21ac, 0x9a0d, 0x3741, 0x1, 0x1);
        gbc.writeMem(0x4cb2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x9791);
        EXPECT(gbc.pc(), 0x4cb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0024
        gbc.setState(0xaa78, 0x4e6c, 0x1140, 0x6704, 0x695c, 0xa7ac, 0x1, 0x0);
        gbc.writeMem(0xaa78, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x4e6c);
        EXPECT(gbc.pc(), 0xaa79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa78), 0x67);
        // 67 0025
        gbc.setState(0x5692, 0xe565, 0x6110, 0x84c3, 0x9b86, 0xd408, 0x0, 0x0);
        gbc.writeMem(0x5692, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xe565);
        EXPECT(gbc.pc(), 0x5693);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0026
        gbc.setState(0x4c22, 0xa7cb, 0x76d0, 0xba9d, 0x1f51, 0x519e, 0x1, 0x1);
        gbc.writeMem(0x4c22, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xa7cb);
        EXPECT(gbc.pc(), 0x4c23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0027
        gbc.setState(0x1579, 0xb06e, 0x4760, 0xb295, 0xa381, 0xb3f, 0x0, 0x0);
        gbc.writeMem(0x1579, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xb06e);
        EXPECT(gbc.pc(), 0x157a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0028
        gbc.setState(0xd515, 0x31a2, 0xa00, 0xe209, 0xb406, 0xc6db, 0x1, 0x1);
        gbc.writeMem(0xd515, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x31a2);
        EXPECT(gbc.pc(), 0xd516);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd515), 0x67);
        // 67 0029
        gbc.setState(0x5998, 0xb14e, 0x3470, 0xbb5e, 0x2777, 0x63f2, 0x1, 0x1);
        gbc.writeMem(0x5998, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xb14e);
        EXPECT(gbc.pc(), 0x5999);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 002A
        gbc.setState(0x585c, 0xb604, 0x6550, 0xaece, 0xe6b1, 0x75bb, 0x1, 0x0);
        gbc.writeMem(0x585c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xb604);
        EXPECT(gbc.pc(), 0x585d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 002B
        gbc.setState(0xb68f, 0x5d23, 0xb810, 0x74b8, 0xc1d0, 0xa07, 0x0, 0x0);
        gbc.writeMem(0xb68f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x5d23);
        EXPECT(gbc.pc(), 0xb690);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb68f), 0x67);
        // 67 002C
        gbc.setState(0xcb86, 0x5296, 0x6c40, 0x6bed, 0xfd17, 0xa177, 0x1, 0x1);
        gbc.writeMem(0xcb86, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x5296);
        EXPECT(gbc.pc(), 0xcb87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb86), 0x67);
        // 67 002D
        gbc.setState(0x39d6, 0xcdd, 0x7e20, 0xadb6, 0x2be3, 0x182d, 0x1, 0x0);
        gbc.writeMem(0x39d6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xcdd);
        EXPECT(gbc.pc(), 0x39d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 002E
        gbc.setState(0x5cdd, 0x1558, 0xc110, 0x1658, 0x9675, 0xf58a, 0x1, 0x1);
        gbc.writeMem(0x5cdd, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x1558);
        EXPECT(gbc.pc(), 0x5cde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0031
        gbc.setState(0x797e, 0xec33, 0x3810, 0x1eae, 0x3d3a, 0x43be, 0x0, 0x0);
        gbc.writeMem(0x797e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xec33);
        EXPECT(gbc.pc(), 0x797f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0033
        gbc.setState(0x32b5, 0xad76, 0x8460, 0x7b3b, 0x75dc, 0xc49e, 0x1, 0x1);
        gbc.writeMem(0x32b5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xad76);
        EXPECT(gbc.pc(), 0x32b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0034
        gbc.setState(0x6667, 0x557b, 0xe750, 0x5b69, 0x26bd, 0x663, 0x0, 0x0);
        gbc.writeMem(0x6667, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x557b);
        EXPECT(gbc.pc(), 0x6668);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0035
        gbc.setState(0x2d50, 0x7eb8, 0xde50, 0xc94d, 0x6435, 0x4054, 0x0, 0x0);
        gbc.writeMem(0x2d50, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x7eb8);
        EXPECT(gbc.pc(), 0x2d51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0036
        gbc.setState(0xdc55, 0xe42a, 0x9880, 0x26df, 0x10dc, 0x251e, 0x1, 0x1);
        gbc.writeMem(0xdc55, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xe42a);
        EXPECT(gbc.pc(), 0xdc56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc55), 0x67);
        // 67 0037
        gbc.setState(0x340, 0xde6c, 0x660, 0x8fe6, 0x6353, 0x2d2d, 0x0, 0x1);
        gbc.writeMem(0x340, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xde6c);
        EXPECT(gbc.pc(), 0x341);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0039
        gbc.setState(0x4da, 0x1fc, 0x65b0, 0x2311, 0xc81b, 0xd0ac, 0x0, 0x1);
        gbc.writeMem(0x4da, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x1fc);
        EXPECT(gbc.pc(), 0x4db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 003A
        gbc.setState(0xd4b7, 0x26bf, 0xa9d0, 0x1ba3, 0x33b6, 0x7e5c, 0x1, 0x0);
        gbc.writeMem(0xd4b7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x26bf);
        EXPECT(gbc.pc(), 0xd4b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4b7), 0x67);
        // 67 003B
        gbc.setState(0x4807, 0xaaa9, 0x2530, 0xd8a6, 0x97c9, 0x55d, 0x1, 0x1);
        gbc.writeMem(0x4807, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xaaa9);
        EXPECT(gbc.pc(), 0x4808);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 003C
        gbc.setState(0x845e, 0xd928, 0x14e0, 0xf7dd, 0x3dfe, 0xc4d0, 0x1, 0x0);
        gbc.writeMem(0x845e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xd928);
        EXPECT(gbc.pc(), 0x845f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x845e), 0x67);
        // 67 003D
        gbc.setState(0x4919, 0x9132, 0x1730, 0x6d3d, 0x2d67, 0xac96, 0x0, 0x0);
        gbc.writeMem(0x4919, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x9132);
        EXPECT(gbc.pc(), 0x491a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 003E
        gbc.setState(0xdf2a, 0xdea5, 0xb920, 0x41d2, 0x6d23, 0xe177, 0x0, 0x0);
        gbc.writeMem(0xdf2a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xdea5);
        EXPECT(gbc.pc(), 0xdf2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf2a), 0x67);
        // 67 003F
        gbc.setState(0xc957, 0xabcb, 0x95b0, 0x8f8f, 0x5e92, 0xc2c8, 0x0, 0x1);
        gbc.writeMem(0xc957, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xabcb);
        EXPECT(gbc.pc(), 0xc958);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc957), 0x67);
        // 67 0040
        gbc.setState(0x5bf9, 0x123b, 0x4fc0, 0x2b9, 0x4754, 0x5d45, 0x1, 0x0);
        gbc.writeMem(0x5bf9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x123b);
        EXPECT(gbc.pc(), 0x5bfa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0041
        gbc.setState(0x163, 0xc2fe, 0x4dd0, 0x16, 0xc438, 0x3159, 0x1, 0x0);
        gbc.writeMem(0x163, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xc2fe);
        EXPECT(gbc.pc(), 0x164);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0042
        gbc.setState(0x8ae1, 0xc7e1, 0x90d0, 0xd3bf, 0xcce9, 0xdc8c, 0x0, 0x1);
        gbc.writeMem(0x8ae1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xc7e1);
        EXPECT(gbc.pc(), 0x8ae2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ae1), 0x67);
        // 67 0044
        gbc.setState(0x8752, 0xea2b, 0xa920, 0x16ba, 0xf2bc, 0x2eb1, 0x0, 0x1);
        gbc.writeMem(0x8752, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xea2b);
        EXPECT(gbc.pc(), 0x8753);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8752), 0x67);
        // 67 0045
        gbc.setState(0x1715, 0x7e16, 0x5a60, 0xe8e4, 0x3e02, 0xbc71, 0x0, 0x1);
        gbc.writeMem(0x1715, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x7e16);
        EXPECT(gbc.pc(), 0x1716);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0046
        gbc.setState(0x251a, 0xd41, 0xeda0, 0x287d, 0x404f, 0x1bbf, 0x1, 0x1);
        gbc.writeMem(0x251a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xd41);
        EXPECT(gbc.pc(), 0x251b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0047
        gbc.setState(0xa405, 0x9c3a, 0x2900, 0xe1ba, 0x9225, 0x7d55, 0x1, 0x0);
        gbc.writeMem(0xa405, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x9c3a);
        EXPECT(gbc.pc(), 0xa406);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa405), 0x67);
        // 67 0048
        gbc.setState(0xcf31, 0x295f, 0x6900, 0x871d, 0x8bf2, 0x2c65, 0x1, 0x1);
        gbc.writeMem(0xcf31, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x295f);
        EXPECT(gbc.pc(), 0xcf32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf31), 0x67);
        // 67 0049
        gbc.setState(0x75fd, 0x210d, 0xd010, 0x4fdf, 0x6a7c, 0x1714, 0x1, 0x1);
        gbc.writeMem(0x75fd, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x210d);
        EXPECT(gbc.pc(), 0x75fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 004A
        gbc.setState(0x3f9f, 0xfaf9, 0xb450, 0xb208, 0xe468, 0x631c, 0x0, 0x0);
        gbc.writeMem(0x3f9f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xfaf9);
        EXPECT(gbc.pc(), 0x3fa0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 004B
        gbc.setState(0x8d11, 0xbc74, 0xc370, 0xc278, 0x9113, 0x6a9c, 0x1, 0x0);
        gbc.writeMem(0x8d11, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xbc74);
        EXPECT(gbc.pc(), 0x8d12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d11), 0x67);
        // 67 004C
        gbc.setState(0x34, 0x795, 0x1eb0, 0xe37a, 0xaaec, 0xcc2d, 0x0, 0x0);
        gbc.writeMem(0x34, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x795);
        EXPECT(gbc.pc(), 0x35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 004D
        gbc.setState(0xa25f, 0xa9a8, 0x6b70, 0x76d8, 0xb581, 0xa20b, 0x0, 0x0);
        gbc.writeMem(0xa25f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xa9a8);
        EXPECT(gbc.pc(), 0xa260);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa25f), 0x67);
        // 67 004F
        gbc.setState(0x71a5, 0x36b3, 0x7d60, 0xaa25, 0xb67a, 0x7bc9, 0x1, 0x0);
        gbc.writeMem(0x71a5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x36b3);
        EXPECT(gbc.pc(), 0x71a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0050
        gbc.setState(0x795e, 0xb0a9, 0xf650, 0xee06, 0x8191, 0x5b70, 0x1, 0x1);
        gbc.writeMem(0x795e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xb0a9);
        EXPECT(gbc.pc(), 0x795f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0051
        gbc.setState(0x61c1, 0x7a0e, 0xead0, 0x517a, 0x70af, 0x9ab5, 0x1, 0x0);
        gbc.writeMem(0x61c1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x7a0e);
        EXPECT(gbc.pc(), 0x61c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0052
        gbc.setState(0x45b3, 0xeecc, 0x9d40, 0x7787, 0xc9c2, 0x925c, 0x1, 0x1);
        gbc.writeMem(0x45b3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xeecc);
        EXPECT(gbc.pc(), 0x45b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0053
        gbc.setState(0x36bf, 0xaff7, 0x20e0, 0x15f5, 0xf15b, 0x1145, 0x1, 0x0);
        gbc.writeMem(0x36bf, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xaff7);
        EXPECT(gbc.pc(), 0x36c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0054
        gbc.setState(0xe799, 0xef45, 0x94b0, 0xc32b, 0x206f, 0x5d5e, 0x0, 0x0);
        gbc.writeMem(0xe799, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xef45);
        EXPECT(gbc.pc(), 0xe79a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe799), 0x67);
        // 67 0055
        gbc.setState(0xe968, 0x49dd, 0x2060, 0xc09b, 0xd7a1, 0x87d4, 0x1, 0x0);
        gbc.writeMem(0xe968, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x49dd);
        EXPECT(gbc.pc(), 0xe969);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe968), 0x67);
        // 67 0056
        gbc.setState(0xaa07, 0x69f8, 0x1fd0, 0x2286, 0x2a63, 0xeb6d, 0x1, 0x1);
        gbc.writeMem(0xaa07, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x69f8);
        EXPECT(gbc.pc(), 0xaa08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa07), 0x67);
        // 67 0057
        gbc.setState(0xd676, 0x2517, 0x1d80, 0xe7ce, 0xef44, 0xbff, 0x0, 0x1);
        gbc.writeMem(0xd676, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2517);
        EXPECT(gbc.pc(), 0xd677);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd676), 0x67);
        // 67 0058
        gbc.setState(0xce16, 0x416d, 0xdfc0, 0xfe4e, 0x5cc4, 0xa252, 0x0, 0x0);
        gbc.writeMem(0xce16, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x416d);
        EXPECT(gbc.pc(), 0xce17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce16), 0x67);
        // 67 0059
        gbc.setState(0x7375, 0x66f6, 0x20a0, 0x338a, 0x7c59, 0x7da, 0x1, 0x1);
        gbc.writeMem(0x7375, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x66f6);
        EXPECT(gbc.pc(), 0x7376);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 005A
        gbc.setState(0x3186, 0xe0d4, 0x5e20, 0x8c82, 0x9a73, 0xe4a4, 0x0, 0x1);
        gbc.writeMem(0x3186, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xe0d4);
        EXPECT(gbc.pc(), 0x3187);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 005B
        gbc.setState(0xdb13, 0xa05a, 0xf170, 0x8660, 0x87b1, 0xc771, 0x0, 0x0);
        gbc.writeMem(0xdb13, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xa05a);
        EXPECT(gbc.pc(), 0xdb14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb13), 0x67);
        // 67 005C
        gbc.setState(0x2373, 0x6194, 0x6b70, 0xd55c, 0xd5d, 0x2488, 0x1, 0x1);
        gbc.writeMem(0x2373, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x6194);
        EXPECT(gbc.pc(), 0x2374);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 005D
        gbc.setState(0x447a, 0xe51f, 0x61d0, 0x7f54, 0xea18, 0xb609, 0x0, 0x0);
        gbc.writeMem(0x447a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xe51f);
        EXPECT(gbc.pc(), 0x447b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 005E
        gbc.setState(0xf8a, 0xfd3e, 0xbd10, 0x5134, 0x706d, 0x63cd, 0x1, 0x0);
        gbc.writeMem(0xf8a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xfd3e);
        EXPECT(gbc.pc(), 0xf8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 005F
        gbc.setState(0x4e1, 0x9cf2, 0x2c90, 0x3d58, 0x6a5f, 0x2a4d, 0x0, 0x0);
        gbc.writeMem(0x4e1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x9cf2);
        EXPECT(gbc.pc(), 0x4e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0060
        gbc.setState(0x91e3, 0x7e1, 0x89f0, 0xf2a6, 0xfe25, 0xdf09, 0x0, 0x0);
        gbc.writeMem(0x91e3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x7e1);
        EXPECT(gbc.pc(), 0x91e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91e3), 0x67);
        // 67 0061
        gbc.setState(0x6df9, 0x1421, 0xd2b0, 0xddc3, 0xd039, 0xeee1, 0x1, 0x1);
        gbc.writeMem(0x6df9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x1421);
        EXPECT(gbc.pc(), 0x6dfa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0063
        gbc.setState(0x911a, 0x3b28, 0xc680, 0x861f, 0xd716, 0xacc3, 0x0, 0x1);
        gbc.writeMem(0x911a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x3b28);
        EXPECT(gbc.pc(), 0x911b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x911a), 0x67);
        // 67 0064
        gbc.setState(0x278c, 0x3cc4, 0x2010, 0x3f55, 0x1c38, 0xec37, 0x1, 0x0);
        gbc.writeMem(0x278c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x3cc4);
        EXPECT(gbc.pc(), 0x278d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0065
        gbc.setState(0x31fa, 0xde3f, 0xbf70, 0x4a77, 0x7256, 0x5871, 0x0, 0x1);
        gbc.writeMem(0x31fa, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xde3f);
        EXPECT(gbc.pc(), 0x31fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0066
        gbc.setState(0x9257, 0x5052, 0x20e0, 0x5cd5, 0xe011, 0xc4a6, 0x0, 0x1);
        gbc.writeMem(0x9257, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x5052);
        EXPECT(gbc.pc(), 0x9258);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9257), 0x67);
        // 67 0067
        gbc.setState(0xbe84, 0xba82, 0xb640, 0xf268, 0x57a7, 0x882f, 0x0, 0x0);
        gbc.writeMem(0xbe84, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xba82);
        EXPECT(gbc.pc(), 0xbe85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe84), 0x67);
        // 67 0068
        gbc.setState(0x359a, 0xc180, 0x9e60, 0xb74a, 0xb393, 0xb8e7, 0x0, 0x0);
        gbc.writeMem(0x359a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xc180);
        EXPECT(gbc.pc(), 0x359b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0069
        gbc.setState(0x29fe, 0x4267, 0x5a40, 0x9683, 0x4396, 0x3517, 0x0, 0x0);
        gbc.writeMem(0x29fe, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x4267);
        EXPECT(gbc.pc(), 0x29ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 006A
        gbc.setState(0xb0c6, 0xb80d, 0xec00, 0x4403, 0x23fc, 0xabf6, 0x1, 0x1);
        gbc.writeMem(0xb0c6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xb80d);
        EXPECT(gbc.pc(), 0xb0c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0c6), 0x67);
        // 67 006B
        gbc.setState(0x15b4, 0x7f75, 0xe6c0, 0xca76, 0x743, 0x2e2e, 0x0, 0x0);
        gbc.writeMem(0x15b4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x7f75);
        EXPECT(gbc.pc(), 0x15b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 006C
        gbc.setState(0x7a6a, 0xe792, 0x7d10, 0x497c, 0x1961, 0xbe52, 0x1, 0x0);
        gbc.writeMem(0x7a6a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xe792);
        EXPECT(gbc.pc(), 0x7a6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 006D
        gbc.setState(0x6221, 0xae39, 0x8d0, 0x159f, 0x9245, 0x3871, 0x1, 0x0);
        gbc.writeMem(0x6221, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xae39);
        EXPECT(gbc.pc(), 0x6222);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 006E
        gbc.setState(0x5076, 0xd5fb, 0xe410, 0xb359, 0x2b00, 0xe9a9, 0x0, 0x0);
        gbc.writeMem(0x5076, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xd5fb);
        EXPECT(gbc.pc(), 0x5077);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 006F
        gbc.setState(0xa78d, 0x2bbc, 0xaf10, 0x4954, 0xe288, 0x8527, 0x0, 0x1);
        gbc.writeMem(0xa78d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x2bbc);
        EXPECT(gbc.pc(), 0xa78e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa78d), 0x67);
        // 67 0070
        gbc.setState(0xc1bb, 0xb3f, 0xe110, 0xed88, 0x3d0d, 0xa710, 0x1, 0x1);
        gbc.writeMem(0xc1bb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xb3f);
        EXPECT(gbc.pc(), 0xc1bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1bb), 0x67);
        // 67 0071
        gbc.setState(0xc65f, 0xafcf, 0xde00, 0xbc24, 0x6803, 0x8f53, 0x0, 0x0);
        gbc.writeMem(0xc65f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xafcf);
        EXPECT(gbc.pc(), 0xc660);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc65f), 0x67);
        // 67 0072
        gbc.setState(0x5564, 0x7210, 0x700, 0xf552, 0xfe5d, 0x3ae4, 0x1, 0x1);
        gbc.writeMem(0x5564, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x7210);
        EXPECT(gbc.pc(), 0x5565);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0073
        gbc.setState(0x81f9, 0x2683, 0x1470, 0xe735, 0xe0a3, 0x22fa, 0x0, 0x0);
        gbc.writeMem(0x81f9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x2683);
        EXPECT(gbc.pc(), 0x81fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81f9), 0x67);
        // 67 0074
        gbc.setState(0x719a, 0x1022, 0x5180, 0x5556, 0x296e, 0x38da, 0x1, 0x0);
        gbc.writeMem(0x719a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x1022);
        EXPECT(gbc.pc(), 0x719b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0075
        gbc.setState(0xbf39, 0x8650, 0x3bf0, 0x98ea, 0x1522, 0x123f, 0x0, 0x0);
        gbc.writeMem(0xbf39, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x8650);
        EXPECT(gbc.pc(), 0xbf3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf39), 0x67);
        // 67 0076
        gbc.setState(0x97f5, 0xdca7, 0xea60, 0xbfb0, 0xba3f, 0xfba1, 0x1, 0x0);
        gbc.writeMem(0x97f5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xdca7);
        EXPECT(gbc.pc(), 0x97f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97f5), 0x67);
        // 67 0077
        gbc.setState(0xc805, 0x6126, 0xb670, 0x8715, 0x77a9, 0xf006, 0x1, 0x0);
        gbc.writeMem(0xc805, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x6126);
        EXPECT(gbc.pc(), 0xc806);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc805), 0x67);
        // 67 0078
        gbc.setState(0xe016, 0xf50f, 0x1410, 0x42e8, 0x99a, 0x25ba, 0x1, 0x0);
        gbc.writeMem(0xe016, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xf50f);
        EXPECT(gbc.pc(), 0xe017);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe016), 0x67);
        // 67 0079
        gbc.setState(0xaaeb, 0xf348, 0x7d20, 0xed66, 0x718c, 0x3944, 0x1, 0x1);
        gbc.writeMem(0xaaeb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xf348);
        EXPECT(gbc.pc(), 0xaaec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaeb), 0x67);
        // 67 007A
        gbc.setState(0x682d, 0x1afc, 0xfb0, 0x4afd, 0xdcc1, 0xd23, 0x1, 0x0);
        gbc.writeMem(0x682d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1afc);
        EXPECT(gbc.pc(), 0x682e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 007B
        gbc.setState(0xa37e, 0xfe80, 0xbed0, 0xb2b7, 0x754c, 0xde79, 0x1, 0x0);
        gbc.writeMem(0xa37e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xfe80);
        EXPECT(gbc.pc(), 0xa37f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa37e), 0x67);
        // 67 007C
        gbc.setState(0xad2a, 0xa194, 0xac10, 0x4327, 0x7c60, 0xfd27, 0x0, 0x0);
        gbc.writeMem(0xad2a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xa194);
        EXPECT(gbc.pc(), 0xad2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad2a), 0x67);
        // 67 007D
        gbc.setState(0x2099, 0x25a6, 0xacd0, 0xd1e0, 0x8315, 0xbdc, 0x0, 0x1);
        gbc.writeMem(0x2099, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x25a6);
        EXPECT(gbc.pc(), 0x209a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 007E
        gbc.setState(0xc3ef, 0xad9d, 0x3010, 0xd2b8, 0x4052, 0xba0c, 0x0, 0x0);
        gbc.writeMem(0xc3ef, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xad9d);
        EXPECT(gbc.pc(), 0xc3f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3ef), 0x67);
        // 67 007F
        gbc.setState(0x9a6c, 0xa51, 0x82a0, 0x5a5b, 0x808b, 0xee1a, 0x0, 0x0);
        gbc.writeMem(0x9a6c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xa51);
        EXPECT(gbc.pc(), 0x9a6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a6c), 0x67);
        // 67 0080
        gbc.setState(0x1042, 0x29f0, 0xc090, 0xc938, 0x54b2, 0xaa6c, 0x0, 0x1);
        gbc.writeMem(0x1042, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x29f0);
        EXPECT(gbc.pc(), 0x1043);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0081
        gbc.setState(0x2a15, 0xa719, 0x910, 0xb57f, 0x7dd9, 0xa8b1, 0x0, 0x0);
        gbc.writeMem(0x2a15, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xa719);
        EXPECT(gbc.pc(), 0x2a16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0082
        gbc.setState(0x47a8, 0x3964, 0xc460, 0x5567, 0x9560, 0x4691, 0x1, 0x1);
        gbc.writeMem(0x47a8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x3964);
        EXPECT(gbc.pc(), 0x47a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0083
        gbc.setState(0xf93, 0xd222, 0x1eb0, 0xea7f, 0xec63, 0x4b11, 0x1, 0x1);
        gbc.writeMem(0xf93, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xd222);
        EXPECT(gbc.pc(), 0xf94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0084
        gbc.setState(0x9d8b, 0xeb2a, 0x3d90, 0xd4b6, 0xbb57, 0x7d5e, 0x1, 0x1);
        gbc.writeMem(0x9d8b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xeb2a);
        EXPECT(gbc.pc(), 0x9d8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d8b), 0x67);
        // 67 0085
        gbc.setState(0x8fc0, 0xd971, 0xc60, 0x7b8, 0x1e56, 0xb9b6, 0x1, 0x0);
        gbc.writeMem(0x8fc0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xd971);
        EXPECT(gbc.pc(), 0x8fc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fc0), 0x67);
        // 67 0086
        gbc.setState(0x579b, 0xf8b3, 0xef60, 0xb133, 0x109f, 0x9194, 0x1, 0x1);
        gbc.writeMem(0x579b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xf8b3);
        EXPECT(gbc.pc(), 0x579c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0087
        gbc.setState(0xa832, 0x3359, 0x7a20, 0x2c52, 0x8d14, 0x1f7e, 0x1, 0x0);
        gbc.writeMem(0xa832, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x3359);
        EXPECT(gbc.pc(), 0xa833);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa832), 0x67);
        // 67 0088
        gbc.setState(0x519c, 0x4cff, 0x77d0, 0xb330, 0x60e0, 0xfa55, 0x0, 0x0);
        gbc.writeMem(0x519c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x4cff);
        EXPECT(gbc.pc(), 0x519d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0089
        gbc.setState(0xbc8d, 0x6627, 0x7ae0, 0x906c, 0x9c9d, 0x46d, 0x1, 0x0);
        gbc.writeMem(0xbc8d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x6627);
        EXPECT(gbc.pc(), 0xbc8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc8d), 0x67);
        // 67 008A
        gbc.setState(0x125c, 0x27e7, 0x4b70, 0x7cac, 0xec4f, 0xa3eb, 0x1, 0x1);
        gbc.writeMem(0x125c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x27e7);
        EXPECT(gbc.pc(), 0x125d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 008B
        gbc.setState(0x6e4c, 0x4748, 0xd200, 0xafc7, 0xd02a, 0xe20a, 0x0, 0x1);
        gbc.writeMem(0x6e4c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x4748);
        EXPECT(gbc.pc(), 0x6e4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 008C
        gbc.setState(0x815b, 0x30c5, 0xcec0, 0xed5a, 0x692a, 0x8c19, 0x1, 0x0);
        gbc.writeMem(0x815b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x30c5);
        EXPECT(gbc.pc(), 0x815c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x815b), 0x67);
        // 67 008D
        gbc.setState(0xc4d2, 0x2b81, 0x9410, 0x4d14, 0xc021, 0x93f0, 0x1, 0x0);
        gbc.writeMem(0xc4d2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x2b81);
        EXPECT(gbc.pc(), 0xc4d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4d2), 0x67);
        // 67 008E
        gbc.setState(0x9e0e, 0x62e3, 0xe620, 0x84b0, 0xa749, 0x1e42, 0x0, 0x1);
        gbc.writeMem(0x9e0e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x62e3);
        EXPECT(gbc.pc(), 0x9e0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e0e), 0x67);
        // 67 008F
        gbc.setState(0x1dc, 0xd225, 0xac50, 0xd874, 0x7028, 0x72e2, 0x1, 0x0);
        gbc.writeMem(0x1dc, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xd225);
        EXPECT(gbc.pc(), 0x1dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0090
        gbc.setState(0xd818, 0x9e4e, 0x4a0, 0x3bd8, 0x2a56, 0x5fa6, 0x0, 0x0);
        gbc.writeMem(0xd818, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x9e4e);
        EXPECT(gbc.pc(), 0xd819);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd818), 0x67);
        // 67 0091
        gbc.setState(0x6a70, 0xe954, 0x6ec0, 0x9c10, 0x4796, 0xc44b, 0x1, 0x1);
        gbc.writeMem(0x6a70, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xe954);
        EXPECT(gbc.pc(), 0x6a71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0092
        gbc.setState(0xa32, 0x534, 0xec30, 0xeca, 0xc5b3, 0xefbe, 0x0, 0x0);
        gbc.writeMem(0xa32, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x534);
        EXPECT(gbc.pc(), 0xa33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0093
        gbc.setState(0x1750, 0xc216, 0xdd30, 0x1486, 0xe4a0, 0x26e8, 0x1, 0x1);
        gbc.writeMem(0x1750, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xc216);
        EXPECT(gbc.pc(), 0x1751);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0094
        gbc.setState(0xa92, 0xe3f4, 0x970, 0x3032, 0x3ad, 0x5e7b, 0x0, 0x0);
        gbc.writeMem(0xa92, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xe3f4);
        EXPECT(gbc.pc(), 0xa93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0095
        gbc.setState(0x5422, 0xf9c3, 0xd4c0, 0x84a1, 0x8590, 0xb4e1, 0x0, 0x1);
        gbc.writeMem(0x5422, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf9c3);
        EXPECT(gbc.pc(), 0x5423);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0096
        gbc.setState(0x159e, 0x9562, 0x4b20, 0xb1f3, 0xe8a9, 0x5fee, 0x1, 0x0);
        gbc.writeMem(0x159e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x9562);
        EXPECT(gbc.pc(), 0x159f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0097
        gbc.setState(0x881b, 0xd4c2, 0xaba0, 0xd12e, 0xb797, 0xbc3c, 0x0, 0x0);
        gbc.writeMem(0x881b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xd4c2);
        EXPECT(gbc.pc(), 0x881c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x881b), 0x67);
        // 67 0098
        gbc.setState(0xe4a8, 0x9a92, 0x3d10, 0x9104, 0xe0ab, 0xe2f1, 0x0, 0x1);
        gbc.writeMem(0xe4a8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x9a92);
        EXPECT(gbc.pc(), 0xe4a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4a8), 0x67);
        // 67 0099
        gbc.setState(0xf31, 0xfe6c, 0xaa80, 0xe4b1, 0x493a, 0x888a, 0x0, 0x1);
        gbc.writeMem(0xf31, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xfe6c);
        EXPECT(gbc.pc(), 0xf32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 009A
        gbc.setState(0x9603, 0xb6de, 0xe780, 0x1669, 0x2da0, 0x10d0, 0x0, 0x1);
        gbc.writeMem(0x9603, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xb6de);
        EXPECT(gbc.pc(), 0x9604);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9603), 0x67);
        // 67 009B
        gbc.setState(0xc786, 0xce7a, 0x49f0, 0x6b33, 0x53f7, 0x2e5f, 0x1, 0x0);
        gbc.writeMem(0xc786, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xce7a);
        EXPECT(gbc.pc(), 0xc787);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc786), 0x67);
        // 67 009C
        gbc.setState(0x4a7d, 0xa5f5, 0xb7b0, 0xc013, 0x9e28, 0x8a7c, 0x1, 0x1);
        gbc.writeMem(0x4a7d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xa5f5);
        EXPECT(gbc.pc(), 0x4a7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 009E
        gbc.setState(0x4833, 0xdd55, 0xd260, 0xd19a, 0x3b63, 0xf016, 0x0, 0x0);
        gbc.writeMem(0x4833, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xdd55);
        EXPECT(gbc.pc(), 0x4834);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 009F
        gbc.setState(0x169b, 0xda0b, 0xd6b0, 0x4bab, 0x436f, 0x9966, 0x1, 0x0);
        gbc.writeMem(0x169b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xda0b);
        EXPECT(gbc.pc(), 0x169c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00A0
        gbc.setState(0x5e20, 0x3eb7, 0x9500, 0x56a0, 0x9c5, 0x5cde, 0x1, 0x0);
        gbc.writeMem(0x5e20, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x3eb7);
        EXPECT(gbc.pc(), 0x5e21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 00A1
        gbc.setState(0x9008, 0x846b, 0x7320, 0x6bc2, 0x3f32, 0xb9de, 0x0, 0x0);
        gbc.writeMem(0x9008, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x846b);
        EXPECT(gbc.pc(), 0x9009);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9008), 0x67);
        // 67 00A2
        gbc.setState(0x8c0f, 0x32c0, 0xf3e0, 0x38ba, 0x67d4, 0x38aa, 0x0, 0x0);
        gbc.writeMem(0x8c0f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x32c0);
        EXPECT(gbc.pc(), 0x8c10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c0f), 0x67);
        // 67 00A3
        gbc.setState(0x9696, 0xc07c, 0x6930, 0x1c70, 0x11b3, 0x4bfc, 0x0, 0x1);
        gbc.writeMem(0x9696, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xc07c);
        EXPECT(gbc.pc(), 0x9697);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9696), 0x67);
        // 67 00A4
        gbc.setState(0xf90, 0x130a, 0xc3b0, 0xfc94, 0xf3be, 0xdbb2, 0x0, 0x1);
        gbc.writeMem(0xf90, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x130a);
        EXPECT(gbc.pc(), 0xf91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00A5
        gbc.setState(0x13ec, 0x4103, 0xfb90, 0x8614, 0x9ae9, 0x48fd, 0x1, 0x1);
        gbc.writeMem(0x13ec, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x4103);
        EXPECT(gbc.pc(), 0x13ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 00A6
        gbc.setState(0x5c09, 0x6faa, 0x5370, 0xaab2, 0x1fed, 0x4066, 0x1, 0x0);
        gbc.writeMem(0x5c09, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x6faa);
        EXPECT(gbc.pc(), 0x5c0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00A7
        gbc.setState(0x9ee0, 0x5f3d, 0xe0b0, 0xa26e, 0x5b9b, 0x55d9, 0x1, 0x0);
        gbc.writeMem(0x9ee0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x5f3d);
        EXPECT(gbc.pc(), 0x9ee1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ee0), 0x67);
        // 67 00A8
        gbc.setState(0xbbab, 0x23de, 0xab70, 0xaf65, 0xbf40, 0xc74, 0x1, 0x1);
        gbc.writeMem(0xbbab, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x23de);
        EXPECT(gbc.pc(), 0xbbac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbab), 0x67);
        // 67 00A9
        gbc.setState(0x7f0f, 0xcb38, 0x2ca0, 0x211a, 0xb7e6, 0x371, 0x1, 0x1);
        gbc.writeMem(0x7f0f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xcb38);
        EXPECT(gbc.pc(), 0x7f10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 00AA
        gbc.setState(0x8c10, 0xf613, 0xd6b0, 0xeae9, 0x8155, 0x258d, 0x0, 0x1);
        gbc.writeMem(0x8c10, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xf613);
        EXPECT(gbc.pc(), 0x8c11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c10), 0x67);
        // 67 00AB
        gbc.setState(0xdf77, 0x2ea8, 0xe8e0, 0xdc19, 0x7c0d, 0xc40, 0x1, 0x0);
        gbc.writeMem(0xdf77, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x2ea8);
        EXPECT(gbc.pc(), 0xdf78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf77), 0x67);
        // 67 00AC
        gbc.setState(0x8cc9, 0xfb02, 0x36e0, 0x454a, 0x5874, 0xbd6f, 0x1, 0x1);
        gbc.writeMem(0x8cc9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xfb02);
        EXPECT(gbc.pc(), 0x8cca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cc9), 0x67);
        // 67 00AD
        gbc.setState(0x107, 0x6efc, 0xf230, 0x3f3a, 0xff96, 0xb5f2, 0x0, 0x1);
        gbc.writeMem(0x107, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6efc);
        EXPECT(gbc.pc(), 0x108);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00AE
        gbc.setState(0x5525, 0xcbaa, 0x9810, 0xad19, 0x94ba, 0x5637, 0x0, 0x0);
        gbc.writeMem(0x5525, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xcbaa);
        EXPECT(gbc.pc(), 0x5526);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 00AF
        gbc.setState(0x1571, 0x84be, 0x5890, 0xc1f6, 0x6b04, 0xa690, 0x0, 0x0);
        gbc.writeMem(0x1571, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x84be);
        EXPECT(gbc.pc(), 0x1572);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 00B0
        gbc.setState(0xd5b2, 0x507, 0x7080, 0xf3ef, 0x7cb7, 0x98a6, 0x1, 0x1);
        gbc.writeMem(0xd5b2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x507);
        EXPECT(gbc.pc(), 0xd5b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5b2), 0x67);
        // 67 00B1
        gbc.setState(0x2886, 0x416c, 0xe490, 0x5b0b, 0xcbc4, 0x84ea, 0x1, 0x0);
        gbc.writeMem(0x2886, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x416c);
        EXPECT(gbc.pc(), 0x2887);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 00B3
        gbc.setState(0x1177, 0x8b10, 0xaff0, 0x1d7, 0xb614, 0x2e05, 0x0, 0x0);
        gbc.writeMem(0x1177, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x8b10);
        EXPECT(gbc.pc(), 0x1178);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00B4
        gbc.setState(0x31fd, 0xdda7, 0x8a00, 0xf114, 0x796b, 0x5d09, 0x0, 0x0);
        gbc.writeMem(0x31fd, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xdda7);
        EXPECT(gbc.pc(), 0x31fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 00B5
        gbc.setState(0xca44, 0x3a63, 0xd690, 0x38a6, 0xbde8, 0x42a5, 0x0, 0x0);
        gbc.writeMem(0xca44, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x3a63);
        EXPECT(gbc.pc(), 0xca45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca44), 0x67);
        // 67 00B6
        gbc.setState(0x7414, 0x9cc4, 0x9630, 0xab7c, 0xcc6e, 0x22f9, 0x0, 0x1);
        gbc.writeMem(0x7414, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x9cc4);
        EXPECT(gbc.pc(), 0x7415);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00B7
        gbc.setState(0xdad9, 0xe458, 0xbbd0, 0x25d1, 0xc382, 0x26f8, 0x0, 0x1);
        gbc.writeMem(0xdad9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xe458);
        EXPECT(gbc.pc(), 0xdada);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdad9), 0x67);
        // 67 00B8
        gbc.setState(0x3820, 0xb6a4, 0x5170, 0xea5c, 0x8e29, 0x2c1, 0x1, 0x0);
        gbc.writeMem(0x3820, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xb6a4);
        EXPECT(gbc.pc(), 0x3821);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00B9
        gbc.setState(0xbed9, 0x37b7, 0xb1e0, 0x9ef3, 0xf5b7, 0x996b, 0x0, 0x1);
        gbc.writeMem(0xbed9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x37b7);
        EXPECT(gbc.pc(), 0xbeda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbed9), 0x67);
        // 67 00BA
        gbc.setState(0x457a, 0x7727, 0x71b0, 0xefaa, 0x9eb0, 0xe1c1, 0x1, 0x0);
        gbc.writeMem(0x457a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x7727);
        EXPECT(gbc.pc(), 0x457b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00BB
        gbc.setState(0x419e, 0xb742, 0x5840, 0xcdd6, 0x530f, 0x9ceb, 0x1, 0x1);
        gbc.writeMem(0x419e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xb742);
        EXPECT(gbc.pc(), 0x419f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 00BC
        gbc.setState(0xe9fa, 0x21d7, 0x4790, 0x7bd, 0xaa31, 0x2dbd, 0x0, 0x1);
        gbc.writeMem(0xe9fa, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x21d7);
        EXPECT(gbc.pc(), 0xe9fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9fa), 0x67);
        // 67 00BD
        gbc.setState(0x24a6, 0x74f7, 0xbcd0, 0xeace, 0x2c60, 0xd558, 0x1, 0x0);
        gbc.writeMem(0x24a6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x74f7);
        EXPECT(gbc.pc(), 0x24a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 00BE
        gbc.setState(0xb024, 0x9b2d, 0x89f0, 0xafb7, 0xd30e, 0xcb43, 0x0, 0x0);
        gbc.writeMem(0xb024, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x9b2d);
        EXPECT(gbc.pc(), 0xb025);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb024), 0x67);
        // 67 00BF
        gbc.setState(0xb38e, 0x8355, 0xe620, 0x5547, 0x8532, 0x3ac2, 0x0, 0x0);
        gbc.writeMem(0xb38e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x8355);
        EXPECT(gbc.pc(), 0xb38f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb38e), 0x67);
        // 67 00C0
        gbc.setState(0x46ec, 0x41d8, 0x3660, 0xcbc1, 0xf9ab, 0x732, 0x1, 0x0);
        gbc.writeMem(0x46ec, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x41d8);
        EXPECT(gbc.pc(), 0x46ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 00C1
        gbc.setState(0x40d6, 0x50ac, 0xf8a0, 0xbdce, 0x2e18, 0x60f6, 0x0, 0x1);
        gbc.writeMem(0x40d6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x50ac);
        EXPECT(gbc.pc(), 0x40d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 00C2
        gbc.setState(0xce66, 0x906d, 0xa340, 0x3679, 0x36dd, 0x455, 0x0, 0x1);
        gbc.writeMem(0xce66, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x906d);
        EXPECT(gbc.pc(), 0xce67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce66), 0x67);
        // 67 00C3
        gbc.setState(0x1415, 0x6624, 0x41d0, 0x95a7, 0xbcf1, 0x13c7, 0x0, 0x0);
        gbc.writeMem(0x1415, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x6624);
        EXPECT(gbc.pc(), 0x1416);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 00C4
        gbc.setState(0xe9d7, 0x7097, 0x9470, 0x7bc3, 0x86d2, 0x6e77, 0x0, 0x0);
        gbc.writeMem(0xe9d7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x7097);
        EXPECT(gbc.pc(), 0xe9d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9d7), 0x67);
        // 67 00C5
        gbc.setState(0x5180, 0xaa1e, 0x7110, 0x50fc, 0x18e0, 0xfaed, 0x1, 0x1);
        gbc.writeMem(0x5180, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xaa1e);
        EXPECT(gbc.pc(), 0x5181);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 00C6
        gbc.setState(0x7e99, 0x66fc, 0x3f50, 0xb52b, 0xf902, 0x6d30, 0x1, 0x0);
        gbc.writeMem(0x7e99, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x66fc);
        EXPECT(gbc.pc(), 0x7e9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 00C7
        gbc.setState(0xb845, 0xda18, 0x74d0, 0x26e2, 0x5852, 0xbcee, 0x1, 0x1);
        gbc.writeMem(0xb845, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xda18);
        EXPECT(gbc.pc(), 0xb846);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb845), 0x67);
        // 67 00C8
        gbc.setState(0x992a, 0x25cb, 0x9a40, 0x7e4a, 0xafea, 0x3836, 0x0, 0x1);
        gbc.writeMem(0x992a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x25cb);
        EXPECT(gbc.pc(), 0x992b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x992a), 0x67);
        // 67 00C9
        gbc.setState(0x32c3, 0x3c82, 0xf580, 0xca8a, 0xfdf7, 0xe11b, 0x0, 0x0);
        gbc.writeMem(0x32c3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x3c82);
        EXPECT(gbc.pc(), 0x32c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 00CA
        gbc.setState(0x171a, 0x5f52, 0xb80, 0xec7a, 0x6ac8, 0x8c0, 0x1, 0x0);
        gbc.writeMem(0x171a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x5f52);
        EXPECT(gbc.pc(), 0x171b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 00CB
        gbc.setState(0xa45f, 0xb39f, 0x3910, 0x373, 0x55d9, 0xf742, 0x0, 0x0);
        gbc.writeMem(0xa45f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xb39f);
        EXPECT(gbc.pc(), 0xa460);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa45f), 0x67);
        // 67 00CC
        gbc.setState(0xb485, 0x824b, 0xae90, 0x3c90, 0xda22, 0xb11c, 0x0, 0x0);
        gbc.writeMem(0xb485, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x824b);
        EXPECT(gbc.pc(), 0xb486);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb485), 0x67);
        // 67 00CD
        gbc.setState(0x5c99, 0xd505, 0x4770, 0xcd74, 0xc3c8, 0x3bd5, 0x1, 0x0);
        gbc.writeMem(0x5c99, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xd505);
        EXPECT(gbc.pc(), 0x5c9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00CE
        gbc.setState(0x507b, 0xfc2c, 0x7da0, 0xb039, 0xe2cc, 0x3161, 0x1, 0x0);
        gbc.writeMem(0x507b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xfc2c);
        EXPECT(gbc.pc(), 0x507c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 00CF
        gbc.setState(0x7db1, 0x6cde, 0xb9e0, 0x68c8, 0x5605, 0xec7d, 0x1, 0x1);
        gbc.writeMem(0x7db1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x6cde);
        EXPECT(gbc.pc(), 0x7db2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 00D0
        gbc.setState(0x42b9, 0x6d64, 0xb30, 0x1698, 0x31c8, 0xc080, 0x0, 0x0);
        gbc.writeMem(0x42b9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x6d64);
        EXPECT(gbc.pc(), 0x42ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00D1
        gbc.setState(0x2b70, 0xe768, 0xeba0, 0x672e, 0xbc22, 0x1bfd, 0x1, 0x0);
        gbc.writeMem(0x2b70, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xe768);
        EXPECT(gbc.pc(), 0x2b71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 00D2
        gbc.setState(0x7717, 0xde29, 0x3ec0, 0x3da2, 0xec68, 0xc7a9, 0x1, 0x1);
        gbc.writeMem(0x7717, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xde29);
        EXPECT(gbc.pc(), 0x7718);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 00D4
        gbc.setState(0x6be0, 0x373d, 0x4c80, 0x867d, 0x3323, 0x5bb1, 0x0, 0x1);
        gbc.writeMem(0x6be0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x373d);
        EXPECT(gbc.pc(), 0x6be1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 00D5
        gbc.setState(0xe699, 0xda99, 0x1440, 0x7951, 0x78d1, 0x12ce, 0x1, 0x1);
        gbc.writeMem(0xe699, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xda99);
        EXPECT(gbc.pc(), 0xe69a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe699), 0x67);
        // 67 00D6
        gbc.setState(0x90af, 0x8dc5, 0x7770, 0x45ab, 0xe22, 0x1e26, 0x1, 0x1);
        gbc.writeMem(0x90af, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x8dc5);
        EXPECT(gbc.pc(), 0x90b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90af), 0x67);
        // 67 00D7
        gbc.setState(0xadbd, 0x8b2c, 0xf500, 0x187e, 0xa30e, 0xae48, 0x0, 0x0);
        gbc.writeMem(0xadbd, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x8b2c);
        EXPECT(gbc.pc(), 0xadbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadbd), 0x67);
        // 67 00D8
        gbc.setState(0x1b0a, 0x3a6e, 0x7940, 0xf2c9, 0xd799, 0x6667, 0x1, 0x1);
        gbc.writeMem(0x1b0a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x3a6e);
        EXPECT(gbc.pc(), 0x1b0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 00D9
        gbc.setState(0x408b, 0x87ca, 0x3a40, 0xb91a, 0x9c47, 0x8c5b, 0x1, 0x1);
        gbc.writeMem(0x408b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x87ca);
        EXPECT(gbc.pc(), 0x408c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 00DA
        gbc.setState(0xb15d, 0x2042, 0x8970, 0xf62, 0xab83, 0x98ec, 0x0, 0x1);
        gbc.writeMem(0xb15d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x2042);
        EXPECT(gbc.pc(), 0xb15e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb15d), 0x67);
        // 67 00DB
        gbc.setState(0xdacd, 0xe0de, 0xda10, 0x1c8d, 0x410b, 0x9788, 0x1, 0x1);
        gbc.writeMem(0xdacd, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xe0de);
        EXPECT(gbc.pc(), 0xdace);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdacd), 0x67);
        // 67 00DC
        gbc.setState(0x54e6, 0x422, 0xd050, 0xd419, 0xd290, 0x81e6, 0x1, 0x1);
        gbc.writeMem(0x54e6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x422);
        EXPECT(gbc.pc(), 0x54e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 00DD
        gbc.setState(0xc8fa, 0x18e8, 0xbe30, 0x6d21, 0x12eb, 0x52de, 0x0, 0x1);
        gbc.writeMem(0xc8fa, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x18e8);
        EXPECT(gbc.pc(), 0xc8fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8fa), 0x67);
        // 67 00DE
        gbc.setState(0x6f05, 0x85c, 0xf700, 0xb736, 0xaa8c, 0x526c, 0x0, 0x0);
        gbc.writeMem(0x6f05, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x85c);
        EXPECT(gbc.pc(), 0x6f06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 00DF
        gbc.setState(0x2780, 0x9423, 0xd910, 0x513e, 0xe312, 0x129, 0x0, 0x1);
        gbc.writeMem(0x2780, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x9423);
        EXPECT(gbc.pc(), 0x2781);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 00E0
        gbc.setState(0x2be1, 0x40f8, 0x3ff0, 0x559a, 0x29d7, 0x6e76, 0x1, 0x0);
        gbc.writeMem(0x2be1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x40f8);
        EXPECT(gbc.pc(), 0x2be2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00E1
        gbc.setState(0xa0e9, 0x954f, 0x8140, 0xe307, 0xe4c5, 0x4b69, 0x0, 0x1);
        gbc.writeMem(0xa0e9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x954f);
        EXPECT(gbc.pc(), 0xa0ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0e9), 0x67);
        // 67 00E2
        gbc.setState(0x1fa5, 0x28ee, 0x13b0, 0x7730, 0x160f, 0xc5c7, 0x1, 0x1);
        gbc.writeMem(0x1fa5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x28ee);
        EXPECT(gbc.pc(), 0x1fa6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00E3
        gbc.setState(0xad69, 0xc580, 0x4850, 0x93e9, 0x78b6, 0xd1b1, 0x1, 0x0);
        gbc.writeMem(0xad69, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xc580);
        EXPECT(gbc.pc(), 0xad6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad69), 0x67);
        // 67 00E4
        gbc.setState(0x4b8b, 0xda1e, 0x2830, 0x5747, 0x519b, 0x69be, 0x0, 0x1);
        gbc.writeMem(0x4b8b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xda1e);
        EXPECT(gbc.pc(), 0x4b8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00E5
        gbc.setState(0x6c2a, 0x6a40, 0x630, 0x61c0, 0x7102, 0xf1f2, 0x0, 0x1);
        gbc.writeMem(0x6c2a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6a40);
        EXPECT(gbc.pc(), 0x6c2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00E6
        gbc.setState(0x2bea, 0x35d6, 0xec0, 0x454e, 0x7b91, 0xf61e, 0x1, 0x1);
        gbc.writeMem(0x2bea, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x35d6);
        EXPECT(gbc.pc(), 0x2beb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 00E7
        gbc.setState(0xa735, 0xbbfd, 0x6090, 0xbe76, 0xe779, 0x8c0, 0x0, 0x1);
        gbc.writeMem(0xa735, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xbbfd);
        EXPECT(gbc.pc(), 0xa736);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa735), 0x67);
        // 67 00E8
        gbc.setState(0xa2fb, 0x1fba, 0xa050, 0x41ff, 0x59c9, 0xad24, 0x0, 0x0);
        gbc.writeMem(0xa2fb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x1fba);
        EXPECT(gbc.pc(), 0xa2fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2fb), 0x67);
        // 67 00E9
        gbc.setState(0x5231, 0xc941, 0x400, 0xca4f, 0x2688, 0x5cf3, 0x1, 0x0);
        gbc.writeMem(0x5231, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xc941);
        EXPECT(gbc.pc(), 0x5232);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 00EA
        gbc.setState(0x81c3, 0x5499, 0xbea0, 0x255b, 0xaa94, 0xa3fa, 0x0, 0x1);
        gbc.writeMem(0x81c3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x5499);
        EXPECT(gbc.pc(), 0x81c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81c3), 0x67);
        // 67 00EB
        gbc.setState(0xd7d9, 0x4366, 0xa110, 0xe2f2, 0xe191, 0x4442, 0x1, 0x1);
        gbc.writeMem(0xd7d9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x4366);
        EXPECT(gbc.pc(), 0xd7da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7d9), 0x67);
        // 67 00EC
        gbc.setState(0xd58, 0xdd6, 0xa780, 0x738d, 0x5959, 0x764a, 0x1, 0x0);
        gbc.writeMem(0xd58, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xdd6);
        EXPECT(gbc.pc(), 0xd59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 00ED
        gbc.setState(0x51ab, 0xec87, 0x41c0, 0x5, 0x883f, 0xf5b0, 0x1, 0x1);
        gbc.writeMem(0x51ab, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xec87);
        EXPECT(gbc.pc(), 0x51ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 00EE
        gbc.setState(0x43d5, 0x3a6b, 0xd060, 0x6b95, 0x3a4a, 0xe06a, 0x1, 0x1);
        gbc.writeMem(0x43d5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x3a6b);
        EXPECT(gbc.pc(), 0x43d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 00EF
        gbc.setState(0x9560, 0x297c, 0x77c0, 0xc2b2, 0xb3ad, 0xfe60, 0x0, 0x1);
        gbc.writeMem(0x9560, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x297c);
        EXPECT(gbc.pc(), 0x9561);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9560), 0x67);
        // 67 00F0
        gbc.setState(0x63eb, 0xb909, 0x5b90, 0xa1f8, 0x6b07, 0xb63c, 0x0, 0x1);
        gbc.writeMem(0x63eb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xb909);
        EXPECT(gbc.pc(), 0x63ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 00F1
        gbc.setState(0x8059, 0xb8c1, 0xe0e0, 0x1cb7, 0xf0b7, 0xf171, 0x1, 0x1);
        gbc.writeMem(0x8059, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xb8c1);
        EXPECT(gbc.pc(), 0x805a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8059), 0x67);
        // 67 00F2
        gbc.setState(0x27b2, 0x32ec, 0xe650, 0x7f07, 0xf175, 0x3f45, 0x1, 0x1);
        gbc.writeMem(0x27b2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x32ec);
        EXPECT(gbc.pc(), 0x27b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 00F3
        gbc.setState(0x5ef5, 0xb3ff, 0x8c20, 0x7afc, 0x6502, 0x7652, 0x1, 0x0);
        gbc.writeMem(0x5ef5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xb3ff);
        EXPECT(gbc.pc(), 0x5ef6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 00F4
        gbc.setState(0x1b89, 0xd65c, 0x7a20, 0xd9d5, 0xce6d, 0x7979, 0x0, 0x0);
        gbc.writeMem(0x1b89, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xd65c);
        EXPECT(gbc.pc(), 0x1b8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 00F5
        gbc.setState(0x9b81, 0xa2c6, 0x6e10, 0xec4e, 0xfd4f, 0x8be4, 0x1, 0x0);
        gbc.writeMem(0x9b81, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xa2c6);
        EXPECT(gbc.pc(), 0x9b82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b81), 0x67);
        // 67 00F6
        gbc.setState(0xe29, 0xa696, 0xd970, 0x64db, 0x3299, 0x2ade, 0x1, 0x1);
        gbc.writeMem(0xe29, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xa696);
        EXPECT(gbc.pc(), 0xe2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 00F7
        gbc.setState(0x5a59, 0xe74f, 0xe960, 0xf54a, 0xad7c, 0x3c03, 0x0, 0x1);
        gbc.writeMem(0x5a59, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xe74f);
        EXPECT(gbc.pc(), 0x5a5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 00F8
        gbc.setState(0xe80b, 0x2df7, 0x2fb0, 0xdeee, 0xfbba, 0x9075, 0x1, 0x0);
        gbc.writeMem(0xe80b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x2df7);
        EXPECT(gbc.pc(), 0xe80c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe80b), 0x67);
        // 67 00F9
        gbc.setState(0xbdbf, 0x3d75, 0x4eb0, 0x502, 0x849c, 0xbc04, 0x0, 0x1);
        gbc.writeMem(0xbdbf, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x3d75);
        EXPECT(gbc.pc(), 0xbdc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdbf), 0x67);
        // 67 00FA
        gbc.setState(0x7b80, 0x9132, 0xc910, 0x4dd3, 0xdb2f, 0x9326, 0x0, 0x1);
        gbc.writeMem(0x7b80, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x9132);
        EXPECT(gbc.pc(), 0x7b81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 00FB
        gbc.setState(0xbb91, 0xbe3, 0xe820, 0x6e35, 0x8aeb, 0xa4a8, 0x1, 0x0);
        gbc.writeMem(0xbb91, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xbe3);
        EXPECT(gbc.pc(), 0xbb92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb91), 0x67);
        // 67 00FC
        gbc.setState(0x971e, 0x5fe6, 0x41f0, 0xaa4f, 0x325f, 0xf8c7, 0x1, 0x1);
        gbc.writeMem(0x971e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x5fe6);
        EXPECT(gbc.pc(), 0x971f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x971e), 0x67);
        // 67 00FD
        gbc.setState(0x1010, 0x2d70, 0x5b90, 0x17ab, 0x5e6e, 0x57bb, 0x1, 0x0);
        gbc.writeMem(0x1010, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2d70);
        EXPECT(gbc.pc(), 0x1011);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 00FE
        gbc.setState(0xdad2, 0xdae0, 0x71d0, 0xa377, 0x25db, 0xdfb7, 0x0, 0x1);
        gbc.writeMem(0xdad2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xdae0);
        EXPECT(gbc.pc(), 0xdad3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdad2), 0x67);
        // 67 00FF
        gbc.setState(0xd4, 0x5b8d, 0x2870, 0x6078, 0x5136, 0xc85a, 0x0, 0x0);
        gbc.writeMem(0xd4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x5b8d);
        EXPECT(gbc.pc(), 0xd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0100
        gbc.setState(0x6734, 0xe6f9, 0x8ec0, 0xb2c2, 0x1970, 0x9a4, 0x0, 0x1);
        gbc.writeMem(0x6734, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xe6f9);
        EXPECT(gbc.pc(), 0x6735);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0101
        gbc.setState(0x5ced, 0xb71a, 0xdbe0, 0x6bc4, 0x61d3, 0x50df, 0x0, 0x0);
        gbc.writeMem(0x5ced, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xb71a);
        EXPECT(gbc.pc(), 0x5cee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0102
        gbc.setState(0xdc40, 0x559c, 0x5b00, 0x9b81, 0xcbbe, 0xb612, 0x1, 0x0);
        gbc.writeMem(0xdc40, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x559c);
        EXPECT(gbc.pc(), 0xdc41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc40), 0x67);
        // 67 0103
        gbc.setState(0x3e8, 0x9f22, 0x5020, 0x9de1, 0x1597, 0xa620, 0x1, 0x0);
        gbc.writeMem(0x3e8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x9f22);
        EXPECT(gbc.pc(), 0x3e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0104
        gbc.setState(0x6fa7, 0x2b90, 0xa860, 0x9aae, 0x774f, 0xe025, 0x1, 0x0);
        gbc.writeMem(0x6fa7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x2b90);
        EXPECT(gbc.pc(), 0x6fa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0105
        gbc.setState(0x3dd2, 0x7409, 0x2790, 0x87fc, 0x8a59, 0xf4ae, 0x0, 0x1);
        gbc.writeMem(0x3dd2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x7409);
        EXPECT(gbc.pc(), 0x3dd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0106
        gbc.setState(0xa1f7, 0xb50, 0x8ea0, 0xf1ea, 0xdffc, 0x28ef, 0x1, 0x0);
        gbc.writeMem(0xa1f7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xb50);
        EXPECT(gbc.pc(), 0xa1f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1f7), 0x67);
        // 67 0108
        gbc.setState(0xdf4d, 0xe064, 0xe30, 0x343f, 0x522, 0x7c32, 0x0, 0x1);
        gbc.writeMem(0xdf4d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xe064);
        EXPECT(gbc.pc(), 0xdf4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf4d), 0x67);
        // 67 0109
        gbc.setState(0x521f, 0xe592, 0x7be0, 0x29fb, 0x3ba4, 0xfced, 0x0, 0x0);
        gbc.writeMem(0x521f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xe592);
        EXPECT(gbc.pc(), 0x5220);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 010A
        gbc.setState(0x4db0, 0xeebc, 0x6730, 0xf129, 0xdcdb, 0x44e9, 0x1, 0x0);
        gbc.writeMem(0x4db0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xeebc);
        EXPECT(gbc.pc(), 0x4db1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 010B
        gbc.setState(0xb9de, 0xa456, 0xc550, 0x1c68, 0x4a40, 0x25c4, 0x0, 0x0);
        gbc.writeMem(0xb9de, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xa456);
        EXPECT(gbc.pc(), 0xb9df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9de), 0x67);
        // 67 010C
        gbc.setState(0x4f0c, 0x5e20, 0x7e50, 0xa4b2, 0x305, 0xe86d, 0x0, 0x0);
        gbc.writeMem(0x4f0c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x5e20);
        EXPECT(gbc.pc(), 0x4f0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 010D
        gbc.setState(0xda0f, 0x9ed0, 0xe790, 0x77b6, 0x9eec, 0x36ac, 0x0, 0x0);
        gbc.writeMem(0xda0f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x9ed0);
        EXPECT(gbc.pc(), 0xda10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda0f), 0x67);
        // 67 010F
        gbc.setState(0xbb4a, 0x7e9d, 0x3cc0, 0xae4e, 0x54ec, 0xea52, 0x0, 0x1);
        gbc.writeMem(0xbb4a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x7e9d);
        EXPECT(gbc.pc(), 0xbb4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb4a), 0x67);
        // 67 0110
        gbc.setState(0x406b, 0x6a88, 0x2dc0, 0x9e27, 0x6aef, 0x9467, 0x0, 0x1);
        gbc.writeMem(0x406b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x6a88);
        EXPECT(gbc.pc(), 0x406c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0111
        gbc.setState(0x1edb, 0x3480, 0xf00, 0x3a54, 0x560c, 0x8aeb, 0x1, 0x0);
        gbc.writeMem(0x1edb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x3480);
        EXPECT(gbc.pc(), 0x1edc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0112
        gbc.setState(0x7730, 0xe6c5, 0xe120, 0x4346, 0xdffe, 0xdc86, 0x0, 0x1);
        gbc.writeMem(0x7730, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xe6c5);
        EXPECT(gbc.pc(), 0x7731);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0113
        gbc.setState(0xaf6f, 0x41e, 0xe710, 0x8ef, 0xb0a5, 0x3e7c, 0x0, 0x0);
        gbc.writeMem(0xaf6f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x41e);
        EXPECT(gbc.pc(), 0xaf70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf6f), 0x67);
        // 67 0114
        gbc.setState(0xcbfd, 0x1f2a, 0xf0d0, 0x3a79, 0x6598, 0xe4fb, 0x0, 0x0);
        gbc.writeMem(0xcbfd, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x1f2a);
        EXPECT(gbc.pc(), 0xcbfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbfd), 0x67);
        // 67 0115
        gbc.setState(0x6458, 0x66ca, 0x8810, 0x30d9, 0x7dad, 0xe824, 0x1, 0x0);
        gbc.writeMem(0x6458, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x66ca);
        EXPECT(gbc.pc(), 0x6459);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0116
        gbc.setState(0x10ef, 0x563c, 0x25a0, 0xc2b7, 0x4517, 0x6e74, 0x0, 0x1);
        gbc.writeMem(0x10ef, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x563c);
        EXPECT(gbc.pc(), 0x10f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0117
        gbc.setState(0xd642, 0x86a3, 0x71c0, 0x1902, 0x9f07, 0x16f1, 0x0, 0x0);
        gbc.writeMem(0xd642, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x86a3);
        EXPECT(gbc.pc(), 0xd643);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd642), 0x67);
        // 67 0118
        gbc.setState(0xa734, 0x491c, 0x6120, 0x8ee3, 0x6dc2, 0xf924, 0x0, 0x1);
        gbc.writeMem(0xa734, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x491c);
        EXPECT(gbc.pc(), 0xa735);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa734), 0x67);
        // 67 0119
        gbc.setState(0x7b6, 0xb128, 0xb130, 0x8fe6, 0x51e9, 0xacae, 0x0, 0x1);
        gbc.writeMem(0x7b6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xb128);
        EXPECT(gbc.pc(), 0x7b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 011A
        gbc.setState(0x8d58, 0x2d89, 0xf860, 0x10c9, 0xeabd, 0x316c, 0x0, 0x1);
        gbc.writeMem(0x8d58, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x2d89);
        EXPECT(gbc.pc(), 0x8d59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d58), 0x67);
        // 67 011B
        gbc.setState(0x9757, 0xb297, 0xbdd0, 0xd409, 0x4716, 0x4985, 0x0, 0x1);
        gbc.writeMem(0x9757, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xb297);
        EXPECT(gbc.pc(), 0x9758);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9757), 0x67);
        // 67 011D
        gbc.setState(0xe999, 0xfcd6, 0x8cf0, 0x5bd1, 0x330a, 0xc0cc, 0x1, 0x0);
        gbc.writeMem(0xe999, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xfcd6);
        EXPECT(gbc.pc(), 0xe99a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe999), 0x67);
        // 67 011E
        gbc.setState(0xcd8a, 0xfe85, 0xf640, 0xa912, 0xb003, 0xf08b, 0x1, 0x1);
        gbc.writeMem(0xcd8a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xfe85);
        EXPECT(gbc.pc(), 0xcd8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd8a), 0x67);
        // 67 011F
        gbc.setState(0x45b7, 0xa1e7, 0x69a0, 0xbe64, 0x3e7d, 0xc2fd, 0x0, 0x1);
        gbc.writeMem(0x45b7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xa1e7);
        EXPECT(gbc.pc(), 0x45b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0120
        gbc.setState(0xb23f, 0xaef0, 0x3b20, 0xbf75, 0x6874, 0xaf89, 0x1, 0x0);
        gbc.writeMem(0xb23f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xaef0);
        EXPECT(gbc.pc(), 0xb240);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb23f), 0x67);
        // 67 0121
        gbc.setState(0xbeb2, 0x46e9, 0xc0a0, 0xb304, 0x161b, 0xb1fd, 0x0, 0x1);
        gbc.writeMem(0xbeb2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x46e9);
        EXPECT(gbc.pc(), 0xbeb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbeb2), 0x67);
        // 67 0122
        gbc.setState(0x5677, 0xff4, 0xc620, 0x6aae, 0x32a9, 0xc967, 0x0, 0x1);
        gbc.writeMem(0x5677, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xff4);
        EXPECT(gbc.pc(), 0x5678);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0123
        gbc.setState(0x527a, 0x6fbe, 0xac20, 0x2dff, 0xd431, 0x3dc1, 0x0, 0x1);
        gbc.writeMem(0x527a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x6fbe);
        EXPECT(gbc.pc(), 0x527b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0124
        gbc.setState(0x65a7, 0xaace, 0x3010, 0xaef9, 0x9964, 0x8618, 0x1, 0x1);
        gbc.writeMem(0x65a7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xaace);
        EXPECT(gbc.pc(), 0x65a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0125
        gbc.setState(0xc4fa, 0x4dfc, 0x85e0, 0xc8ea, 0x7a8, 0x2354, 0x0, 0x0);
        gbc.writeMem(0xc4fa, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x4dfc);
        EXPECT(gbc.pc(), 0xc4fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4fa), 0x67);
        // 67 0126
        gbc.setState(0xcb7, 0xec61, 0x3f90, 0x2987, 0x88a1, 0x5dea, 0x0, 0x1);
        gbc.writeMem(0xcb7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xec61);
        EXPECT(gbc.pc(), 0xcb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0127
        gbc.setState(0x423c, 0x7a9d, 0xd420, 0xee25, 0x7cda, 0x8332, 0x1, 0x1);
        gbc.writeMem(0x423c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x7a9d);
        EXPECT(gbc.pc(), 0x423d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0128
        gbc.setState(0xa920, 0xae68, 0xf4c0, 0x8fd0, 0xdce6, 0x6e6b, 0x1, 0x1);
        gbc.writeMem(0xa920, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xae68);
        EXPECT(gbc.pc(), 0xa921);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa920), 0x67);
        // 67 0129
        gbc.setState(0x304b, 0xf3aa, 0x190, 0xe, 0x7be5, 0x3480, 0x1, 0x1);
        gbc.writeMem(0x304b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xf3aa);
        EXPECT(gbc.pc(), 0x304c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 012A
        gbc.setState(0xc5, 0x5b88, 0x4cb0, 0xf3d8, 0x7767, 0x75c2, 0x1, 0x0);
        gbc.writeMem(0xc5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x5b88);
        EXPECT(gbc.pc(), 0xc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 012B
        gbc.setState(0xd90, 0xb751, 0x4300, 0x4e53, 0xd4ed, 0xfd21, 0x0, 0x0);
        gbc.writeMem(0xd90, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xb751);
        EXPECT(gbc.pc(), 0xd91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 012C
        gbc.setState(0xd0cf, 0xd628, 0xd500, 0x2e26, 0x2002, 0xb48, 0x1, 0x1);
        gbc.writeMem(0xd0cf, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xd628);
        EXPECT(gbc.pc(), 0xd0d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0cf), 0x67);
        // 67 012D
        gbc.setState(0xde4e, 0xd220, 0x5f30, 0x2428, 0xf136, 0x59b6, 0x1, 0x0);
        gbc.writeMem(0xde4e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xd220);
        EXPECT(gbc.pc(), 0xde4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde4e), 0x67);
        // 67 012E
        gbc.setState(0x88e8, 0xbc94, 0xc680, 0xda7e, 0x37e8, 0x7693, 0x1, 0x1);
        gbc.writeMem(0x88e8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xbc94);
        EXPECT(gbc.pc(), 0x88e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88e8), 0x67);
        // 67 012F
        gbc.setState(0x850c, 0x8340, 0xddc0, 0x25e7, 0xafc3, 0x44d2, 0x0, 0x0);
        gbc.writeMem(0x850c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x8340);
        EXPECT(gbc.pc(), 0x850d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x850c), 0x67);
        // 67 0130
        gbc.setState(0x198, 0x108f, 0xce20, 0x5480, 0x478a, 0x39ac, 0x0, 0x1);
        gbc.writeMem(0x198, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x108f);
        EXPECT(gbc.pc(), 0x199);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0131
        gbc.setState(0xca16, 0xf2c2, 0x7520, 0x4a0d, 0xfd16, 0x7ddf, 0x0, 0x1);
        gbc.writeMem(0xca16, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xf2c2);
        EXPECT(gbc.pc(), 0xca17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca16), 0x67);
        // 67 0132
        gbc.setState(0x874, 0xc49d, 0x6310, 0x85e0, 0x6aab, 0x518b, 0x1, 0x0);
        gbc.writeMem(0x874, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xc49d);
        EXPECT(gbc.pc(), 0x875);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0133
        gbc.setState(0xa75d, 0x2459, 0x2840, 0x5eef, 0x4f9f, 0x8a1f, 0x1, 0x1);
        gbc.writeMem(0xa75d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x2459);
        EXPECT(gbc.pc(), 0xa75e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa75d), 0x67);
        // 67 0134
        gbc.setState(0xa699, 0xeff6, 0x8360, 0x5ff9, 0x6a65, 0xf50d, 0x0, 0x1);
        gbc.writeMem(0xa699, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xeff6);
        EXPECT(gbc.pc(), 0xa69a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa699), 0x67);
        // 67 0135
        gbc.setState(0x830b, 0x9524, 0xea80, 0xe679, 0xd053, 0x4d4d, 0x0, 0x0);
        gbc.writeMem(0x830b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x9524);
        EXPECT(gbc.pc(), 0x830c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x830b), 0x67);
        // 67 0136
        gbc.setState(0xdb64, 0xff4e, 0x62a0, 0x1564, 0xb7e8, 0xa97a, 0x0, 0x0);
        gbc.writeMem(0xdb64, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xff4e);
        EXPECT(gbc.pc(), 0xdb65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb64), 0x67);
        // 67 0137
        gbc.setState(0x8763, 0xb0d4, 0xea00, 0xe699, 0xed7c, 0x4417, 0x0, 0x0);
        gbc.writeMem(0x8763, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xb0d4);
        EXPECT(gbc.pc(), 0x8764);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8763), 0x67);
        // 67 0138
        gbc.setState(0xe6b0, 0x5b66, 0x6aa0, 0x8c98, 0x8226, 0x9d2b, 0x1, 0x1);
        gbc.writeMem(0xe6b0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x5b66);
        EXPECT(gbc.pc(), 0xe6b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6b0), 0x67);
        // 67 0139
        gbc.setState(0x4c49, 0xe123, 0x3030, 0x652b, 0xbe44, 0x6c31, 0x0, 0x1);
        gbc.writeMem(0x4c49, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xe123);
        EXPECT(gbc.pc(), 0x4c4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 013A
        gbc.setState(0xbdb2, 0x9490, 0x3640, 0xbcf0, 0xa40c, 0x47cd, 0x0, 0x0);
        gbc.writeMem(0xbdb2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x9490);
        EXPECT(gbc.pc(), 0xbdb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdb2), 0x67);
        // 67 013B
        gbc.setState(0x3d2f, 0xc7a5, 0x8100, 0x3819, 0xe277, 0xc491, 0x1, 0x0);
        gbc.writeMem(0x3d2f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xc7a5);
        EXPECT(gbc.pc(), 0x3d30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 013C
        gbc.setState(0xb11b, 0x55d3, 0xfb20, 0xe930, 0xd4f6, 0xe57b, 0x0, 0x0);
        gbc.writeMem(0xb11b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x55d3);
        EXPECT(gbc.pc(), 0xb11c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb11b), 0x67);
        // 67 013D
        gbc.setState(0x4016, 0x71e2, 0x6cc0, 0xb9d4, 0xd290, 0xed87, 0x1, 0x1);
        gbc.writeMem(0x4016, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x71e2);
        EXPECT(gbc.pc(), 0x4017);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 013E
        gbc.setState(0x9b54, 0xb5b1, 0x6e10, 0xe1ca, 0x23f, 0xc242, 0x1, 0x0);
        gbc.writeMem(0x9b54, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xb5b1);
        EXPECT(gbc.pc(), 0x9b55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b54), 0x67);
        // 67 0140
        gbc.setState(0x1840, 0xe3ef, 0x8b70, 0x79, 0x3baf, 0x740a, 0x0, 0x1);
        gbc.writeMem(0x1840, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xe3ef);
        EXPECT(gbc.pc(), 0x1841);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0141
        gbc.setState(0xcd38, 0xd2ce, 0x99c0, 0x8918, 0xfe26, 0xd2ef, 0x0, 0x0);
        gbc.writeMem(0xcd38, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xd2ce);
        EXPECT(gbc.pc(), 0xcd39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd38), 0x67);
        // 67 0142
        gbc.setState(0x16d3, 0xaf71, 0xe10, 0x1cd4, 0xeb9a, 0xc892, 0x1, 0x1);
        gbc.writeMem(0x16d3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xaf71);
        EXPECT(gbc.pc(), 0x16d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0143
        gbc.setState(0x52f0, 0xeb86, 0x83e0, 0xf8e3, 0x1c71, 0x7bbb, 0x1, 0x0);
        gbc.writeMem(0x52f0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xeb86);
        EXPECT(gbc.pc(), 0x52f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0144
        gbc.setState(0xe313, 0xf1f4, 0xcc10, 0xc7ae, 0x515, 0x3eb6, 0x1, 0x1);
        gbc.writeMem(0xe313, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xf1f4);
        EXPECT(gbc.pc(), 0xe314);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe313), 0x67);
        // 67 0145
        gbc.setState(0x3a76, 0xf6a1, 0x54f0, 0x542e, 0xe29e, 0x9ff, 0x1, 0x0);
        gbc.writeMem(0x3a76, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xf6a1);
        EXPECT(gbc.pc(), 0x3a77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0146
        gbc.setState(0xb6e4, 0x624b, 0x5540, 0x65ab, 0x3149, 0x732f, 0x1, 0x1);
        gbc.writeMem(0xb6e4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x624b);
        EXPECT(gbc.pc(), 0xb6e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6e4), 0x67);
        // 67 0147
        gbc.setState(0x45b7, 0xcba0, 0xe880, 0xf262, 0x1e46, 0xf7, 0x1, 0x0);
        gbc.writeMem(0x45b7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xcba0);
        EXPECT(gbc.pc(), 0x45b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0148
        gbc.setState(0x7b23, 0xb43f, 0x1740, 0x59c4, 0xad31, 0x4168, 0x1, 0x1);
        gbc.writeMem(0x7b23, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xb43f);
        EXPECT(gbc.pc(), 0x7b24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 014A
        gbc.setState(0xb4e1, 0xa31f, 0xcd0, 0x5a34, 0x85ab, 0xc5ec, 0x1, 0x1);
        gbc.writeMem(0xb4e1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xa31f);
        EXPECT(gbc.pc(), 0xb4e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4e1), 0x67);
        // 67 014B
        gbc.setState(0x30b1, 0xec79, 0x5390, 0x19d6, 0x189, 0xcda2, 0x0, 0x1);
        gbc.writeMem(0x30b1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xec79);
        EXPECT(gbc.pc(), 0x30b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 014C
        gbc.setState(0x3cfe, 0x8417, 0xc850, 0x9311, 0x5690, 0x8520, 0x1, 0x1);
        gbc.writeMem(0x3cfe, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8417);
        EXPECT(gbc.pc(), 0x3cff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 014D
        gbc.setState(0x988a, 0x4d8, 0xcf70, 0x9f54, 0x1d58, 0xde2b, 0x1, 0x0);
        gbc.writeMem(0x988a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x4d8);
        EXPECT(gbc.pc(), 0x988b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x988a), 0x67);
        // 67 014F
        gbc.setState(0xbb6, 0x3a42, 0x4e60, 0x67bd, 0x22cd, 0x333, 0x0, 0x0);
        gbc.writeMem(0xbb6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x3a42);
        EXPECT(gbc.pc(), 0xbb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0150
        gbc.setState(0x637, 0x2f09, 0x7370, 0xabc4, 0xa455, 0x9e70, 0x0, 0x0);
        gbc.writeMem(0x637, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x2f09);
        EXPECT(gbc.pc(), 0x638);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0151
        gbc.setState(0xe6ca, 0xc772, 0x9f50, 0xfacf, 0x6899, 0x9921, 0x0, 0x1);
        gbc.writeMem(0xe6ca, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xc772);
        EXPECT(gbc.pc(), 0xe6cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6ca), 0x67);
        // 67 0152
        gbc.setState(0x4ad3, 0x280c, 0xb90, 0x5c0b, 0x3aea, 0x3863, 0x1, 0x1);
        gbc.writeMem(0x4ad3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x280c);
        EXPECT(gbc.pc(), 0x4ad4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0153
        gbc.setState(0xed0b, 0x44de, 0x9d80, 0xbe44, 0xdb6e, 0xe48a, 0x0, 0x1);
        gbc.writeMem(0xed0b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x44de);
        EXPECT(gbc.pc(), 0xed0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed0b), 0x67);
        // 67 0154
        gbc.setState(0x86c5, 0x93c6, 0x7a0, 0x10ad, 0xf76b, 0x364b, 0x0, 0x0);
        gbc.writeMem(0x86c5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x93c6);
        EXPECT(gbc.pc(), 0x86c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86c5), 0x67);
        // 67 0155
        gbc.setState(0xf7b, 0x745f, 0xd230, 0x917c, 0xef33, 0xbce5, 0x0, 0x1);
        gbc.writeMem(0xf7b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x745f);
        EXPECT(gbc.pc(), 0xf7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0156
        gbc.setState(0x862e, 0x4dff, 0x1bd0, 0x480f, 0x11a2, 0xdd4, 0x1, 0x1);
        gbc.writeMem(0x862e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x4dff);
        EXPECT(gbc.pc(), 0x862f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x862e), 0x67);
        // 67 0157
        gbc.setState(0x38e0, 0xf964, 0xdde0, 0x53b, 0xaa3f, 0x92d4, 0x1, 0x0);
        gbc.writeMem(0x38e0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xf964);
        EXPECT(gbc.pc(), 0x38e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0158
        gbc.setState(0x5d37, 0x7923, 0x6360, 0xaefd, 0xe714, 0xca9, 0x0, 0x1);
        gbc.writeMem(0x5d37, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x7923);
        EXPECT(gbc.pc(), 0x5d38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0159
        gbc.setState(0x45b5, 0x6d0f, 0x33c0, 0x1ebb, 0x3edb, 0x80cd, 0x0, 0x1);
        gbc.writeMem(0x45b5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x6d0f);
        EXPECT(gbc.pc(), 0x45b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 015A
        gbc.setState(0x1ae8, 0x338f, 0x7df0, 0x3b74, 0x654b, 0x529a, 0x1, 0x0);
        gbc.writeMem(0x1ae8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x338f);
        EXPECT(gbc.pc(), 0x1ae9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 015B
        gbc.setState(0x342b, 0xce6e, 0xa660, 0x6158, 0x2de, 0xfcd7, 0x0, 0x0);
        gbc.writeMem(0x342b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xce6e);
        EXPECT(gbc.pc(), 0x342c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 015C
        gbc.setState(0x4a5b, 0x2552, 0x900, 0x9b95, 0x906e, 0x81e1, 0x0, 0x0);
        gbc.writeMem(0x4a5b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x2552);
        EXPECT(gbc.pc(), 0x4a5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 015D
        gbc.setState(0x5a21, 0x470a, 0x94b0, 0x41bd, 0x6acb, 0x2a08, 0x1, 0x0);
        gbc.writeMem(0x5a21, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x470a);
        EXPECT(gbc.pc(), 0x5a22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 015E
        gbc.setState(0x90f1, 0x3bac, 0x5f70, 0xf274, 0x6db7, 0xf860, 0x0, 0x1);
        gbc.writeMem(0x90f1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x3bac);
        EXPECT(gbc.pc(), 0x90f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90f1), 0x67);
        // 67 015F
        gbc.setState(0x3cb6, 0x7df8, 0x5cd0, 0xfb10, 0x1d6c, 0x6db5, 0x0, 0x0);
        gbc.writeMem(0x3cb6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x7df8);
        EXPECT(gbc.pc(), 0x3cb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0160
        gbc.setState(0xb802, 0xd102, 0x38d0, 0xa991, 0xea85, 0x987f, 0x0, 0x0);
        gbc.writeMem(0xb802, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xd102);
        EXPECT(gbc.pc(), 0xb803);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb802), 0x67);
        // 67 0161
        gbc.setState(0x8dfd, 0x91fc, 0x8e40, 0x513a, 0x1ea9, 0x8d33, 0x0, 0x1);
        gbc.writeMem(0x8dfd, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x91fc);
        EXPECT(gbc.pc(), 0x8dfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dfd), 0x67);
        // 67 0162
        gbc.setState(0x3154, 0x98ed, 0x24f0, 0x9130, 0xdaef, 0xaf7, 0x1, 0x1);
        gbc.writeMem(0x3154, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x98ed);
        EXPECT(gbc.pc(), 0x3155);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0163
        gbc.setState(0xe2d7, 0x6adf, 0x74a0, 0x9c71, 0x8839, 0x8815, 0x1, 0x0);
        gbc.writeMem(0xe2d7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x6adf);
        EXPECT(gbc.pc(), 0xe2d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2d7), 0x67);
        // 67 0164
        gbc.setState(0x8849, 0x8ae7, 0xbe0, 0x662, 0x170c, 0x36de, 0x0, 0x0);
        gbc.writeMem(0x8849, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x8ae7);
        EXPECT(gbc.pc(), 0x884a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8849), 0x67);
        // 67 0165
        gbc.setState(0x5b04, 0x9538, 0xe0a0, 0xd7a4, 0x3ad7, 0x3e65, 0x1, 0x1);
        gbc.writeMem(0x5b04, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x9538);
        EXPECT(gbc.pc(), 0x5b05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0166
        gbc.setState(0x34a5, 0x1376, 0x63c0, 0xebb6, 0x3245, 0x5af0, 0x0, 0x1);
        gbc.writeMem(0x34a5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x1376);
        EXPECT(gbc.pc(), 0x34a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0167
        gbc.setState(0x29f4, 0x4093, 0x6340, 0xbfc0, 0x5af4, 0xcebd, 0x1, 0x0);
        gbc.writeMem(0x29f4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x4093);
        EXPECT(gbc.pc(), 0x29f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0168
        gbc.setState(0x8cf4, 0xc6a0, 0xb0, 0x89a0, 0xfd6b, 0x62bd, 0x0, 0x0);
        gbc.writeMem(0x8cf4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xc6a0);
        EXPECT(gbc.pc(), 0x8cf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cf4), 0x67);
        // 67 0169
        gbc.setState(0x4ae8, 0x44f0, 0xf670, 0x3bba, 0x8998, 0xa836, 0x1, 0x1);
        gbc.writeMem(0x4ae8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x44f0);
        EXPECT(gbc.pc(), 0x4ae9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 016A
        gbc.setState(0xbd86, 0x119f, 0x1880, 0x6c97, 0x97da, 0xc434, 0x0, 0x1);
        gbc.writeMem(0xbd86, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x119f);
        EXPECT(gbc.pc(), 0xbd87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd86), 0x67);
        // 67 016B
        gbc.setState(0xac6f, 0xd075, 0x9800, 0x560c, 0x4d8a, 0xa121, 0x1, 0x1);
        gbc.writeMem(0xac6f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xd075);
        EXPECT(gbc.pc(), 0xac70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac6f), 0x67);
        // 67 016D
        gbc.setState(0x9d5e, 0x74c8, 0x8ec0, 0x6075, 0x1384, 0x4c5f, 0x1, 0x0);
        gbc.writeMem(0x9d5e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x74c8);
        EXPECT(gbc.pc(), 0x9d5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d5e), 0x67);
        // 67 016E
        gbc.setState(0x85cf, 0x3bfd, 0x97f0, 0x1ca6, 0x3999, 0xb291, 0x0, 0x1);
        gbc.writeMem(0x85cf, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x3bfd);
        EXPECT(gbc.pc(), 0x85d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85cf), 0x67);
        // 67 016F
        gbc.setState(0x3f86, 0x3e84, 0xb8b0, 0x20b6, 0x2943, 0x5df, 0x0, 0x0);
        gbc.writeMem(0x3f86, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x3e84);
        EXPECT(gbc.pc(), 0x3f87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0171
        gbc.setState(0x7e3f, 0x38d4, 0xd3f0, 0x66c2, 0xea4f, 0xb573, 0x0, 0x0);
        gbc.writeMem(0x7e3f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x38d4);
        EXPECT(gbc.pc(), 0x7e40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0172
        gbc.setState(0xd752, 0x8087, 0x5770, 0x7dd9, 0xfb9a, 0x3bbc, 0x1, 0x0);
        gbc.writeMem(0xd752, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x8087);
        EXPECT(gbc.pc(), 0xd753);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd752), 0x67);
        // 67 0173
        gbc.setState(0x6263, 0x5fe2, 0xc320, 0xf03b, 0xc1e9, 0x7f2f, 0x0, 0x0);
        gbc.writeMem(0x6263, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x5fe2);
        EXPECT(gbc.pc(), 0x6264);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0174
        gbc.setState(0xbeeb, 0x4da6, 0x1f60, 0xe403, 0xc495, 0x32a3, 0x0, 0x0);
        gbc.writeMem(0xbeeb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x4da6);
        EXPECT(gbc.pc(), 0xbeec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbeeb), 0x67);
        // 67 0175
        gbc.setState(0x22ce, 0xffc6, 0x6920, 0x607, 0xda94, 0xd63f, 0x1, 0x1);
        gbc.writeMem(0x22ce, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xffc6);
        EXPECT(gbc.pc(), 0x22cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0176
        gbc.setState(0xc70d, 0x1fcc, 0x7310, 0x6340, 0x135, 0x9e0a, 0x0, 0x0);
        gbc.writeMem(0xc70d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x1fcc);
        EXPECT(gbc.pc(), 0xc70e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc70d), 0x67);
        // 67 0177
        gbc.setState(0x20d7, 0x9816, 0x2c0, 0xda3e, 0x421d, 0x6f17, 0x1, 0x0);
        gbc.writeMem(0x20d7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x9816);
        EXPECT(gbc.pc(), 0x20d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0178
        gbc.setState(0xdf5d, 0x97f9, 0x9a90, 0x1ac1, 0x3af3, 0x9d34, 0x1, 0x1);
        gbc.writeMem(0xdf5d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x97f9);
        EXPECT(gbc.pc(), 0xdf5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf5d), 0x67);
        // 67 0179
        gbc.setState(0x6da8, 0xa1b9, 0xbc60, 0xb29c, 0xe5e2, 0x9b, 0x1, 0x1);
        gbc.writeMem(0x6da8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xa1b9);
        EXPECT(gbc.pc(), 0x6da9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 017A
        gbc.setState(0x4035, 0xdfbe, 0xb790, 0xe9d5, 0x192a, 0xfc85, 0x0, 0x0);
        gbc.writeMem(0x4035, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xdfbe);
        EXPECT(gbc.pc(), 0x4036);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 017B
        gbc.setState(0x7824, 0x61e2, 0x4d20, 0xc68c, 0x16cb, 0xc0a7, 0x0, 0x1);
        gbc.writeMem(0x7824, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x61e2);
        EXPECT(gbc.pc(), 0x7825);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 017C
        gbc.setState(0x9888, 0x6640, 0x3fa0, 0xbe0d, 0x9681, 0x7658, 0x0, 0x0);
        gbc.writeMem(0x9888, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x6640);
        EXPECT(gbc.pc(), 0x9889);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9888), 0x67);
        // 67 017D
        gbc.setState(0xb33b, 0x88aa, 0xd020, 0x6781, 0x2a50, 0xf8a8, 0x0, 0x0);
        gbc.writeMem(0xb33b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x88aa);
        EXPECT(gbc.pc(), 0xb33c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb33b), 0x67);
        // 67 017E
        gbc.setState(0x1cc6, 0xc887, 0xc130, 0x7c50, 0x6d10, 0x212e, 0x0, 0x1);
        gbc.writeMem(0x1cc6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xc887);
        EXPECT(gbc.pc(), 0x1cc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 017F
        gbc.setState(0x8b5d, 0xd247, 0x2e90, 0x4ac3, 0x27e7, 0x406a, 0x0, 0x1);
        gbc.writeMem(0x8b5d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xd247);
        EXPECT(gbc.pc(), 0x8b5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b5d), 0x67);
        // 67 0180
        gbc.setState(0x4304, 0x3eea, 0x2310, 0x69b0, 0xe606, 0xc9ab, 0x1, 0x0);
        gbc.writeMem(0x4304, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x3eea);
        EXPECT(gbc.pc(), 0x4305);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0181
        gbc.setState(0xb2de, 0x8ad2, 0x36a0, 0x7a46, 0x3a55, 0xffc0, 0x0, 0x1);
        gbc.writeMem(0xb2de, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x8ad2);
        EXPECT(gbc.pc(), 0xb2df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2de), 0x67);
        // 67 0182
        gbc.setState(0x8c80, 0xbd, 0x6760, 0x7df5, 0x4438, 0xc5a, 0x0, 0x0);
        gbc.writeMem(0x8c80, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xbd);
        EXPECT(gbc.pc(), 0x8c81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c80), 0x67);
        // 67 0183
        gbc.setState(0xe569, 0xbfb0, 0x2910, 0xa17d, 0xc72e, 0xae4b, 0x1, 0x0);
        gbc.writeMem(0xe569, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xbfb0);
        EXPECT(gbc.pc(), 0xe56a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe569), 0x67);
        // 67 0184
        gbc.setState(0xa85d, 0x1fec, 0x41c0, 0xe256, 0x62f3, 0x54f, 0x0, 0x0);
        gbc.writeMem(0xa85d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x1fec);
        EXPECT(gbc.pc(), 0xa85e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa85d), 0x67);
        // 67 0185
        gbc.setState(0x91fa, 0x2609, 0x8a60, 0x3df0, 0xf843, 0x6799, 0x0, 0x0);
        gbc.writeMem(0x91fa, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x2609);
        EXPECT(gbc.pc(), 0x91fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91fa), 0x67);
        // 67 0186
        gbc.setState(0xb46a, 0xd151, 0xa680, 0x8e37, 0x795b, 0xa04b, 0x1, 0x1);
        gbc.writeMem(0xb46a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xd151);
        EXPECT(gbc.pc(), 0xb46b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb46a), 0x67);
        // 67 0187
        gbc.setState(0x729a, 0xe8b5, 0x34e0, 0x62b1, 0x8819, 0xcf4c, 0x0, 0x0);
        gbc.writeMem(0x729a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xe8b5);
        EXPECT(gbc.pc(), 0x729b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0189
        gbc.setState(0x2d15, 0x3aef, 0xd750, 0x75b8, 0x115e, 0x95e3, 0x0, 0x1);
        gbc.writeMem(0x2d15, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x3aef);
        EXPECT(gbc.pc(), 0x2d16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 018A
        gbc.setState(0x2bc2, 0x3957, 0x9bf0, 0x76af, 0xeaa3, 0x9c6f, 0x0, 0x0);
        gbc.writeMem(0x2bc2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x3957);
        EXPECT(gbc.pc(), 0x2bc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 018B
        gbc.setState(0xbc7f, 0xcd31, 0x2d00, 0xdf0a, 0xd81b, 0xe088, 0x1, 0x0);
        gbc.writeMem(0xbc7f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xcd31);
        EXPECT(gbc.pc(), 0xbc80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc7f), 0x67);
        // 67 018C
        gbc.setState(0x7744, 0x903b, 0xc760, 0x5710, 0x432f, 0xb7b8, 0x0, 0x0);
        gbc.writeMem(0x7744, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x903b);
        EXPECT(gbc.pc(), 0x7745);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 018D
        gbc.setState(0xbc87, 0x2da4, 0xab80, 0x6572, 0x95eb, 0x49cf, 0x0, 0x0);
        gbc.writeMem(0xbc87, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x2da4);
        EXPECT(gbc.pc(), 0xbc88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc87), 0x67);
        // 67 018E
        gbc.setState(0x53f0, 0x97d6, 0xf760, 0x8b5c, 0x5a6a, 0xd95f, 0x1, 0x0);
        gbc.writeMem(0x53f0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x97d6);
        EXPECT(gbc.pc(), 0x53f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 018F
        gbc.setState(0x1d34, 0x9758, 0xf480, 0x291d, 0x51e, 0x9da, 0x0, 0x1);
        gbc.writeMem(0x1d34, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x9758);
        EXPECT(gbc.pc(), 0x1d35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0190
        gbc.setState(0x737a, 0x6cb3, 0x2d0, 0x8aee, 0xd558, 0x83a9, 0x0, 0x1);
        gbc.writeMem(0x737a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x6cb3);
        EXPECT(gbc.pc(), 0x737b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0191
        gbc.setState(0xb091, 0x3e84, 0x6320, 0xabf7, 0xef98, 0x56f1, 0x0, 0x1);
        gbc.writeMem(0xb091, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x3e84);
        EXPECT(gbc.pc(), 0xb092);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb091), 0x67);
        // 67 0193
        gbc.setState(0xc9c4, 0x6e3b, 0x73e0, 0x84d9, 0xbfaf, 0x782d, 0x1, 0x1);
        gbc.writeMem(0xc9c4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x6e3b);
        EXPECT(gbc.pc(), 0xc9c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9c4), 0x67);
        // 67 0194
        gbc.setState(0x4fc2, 0x745e, 0x18e0, 0x841c, 0x5324, 0x7c5e, 0x1, 0x1);
        gbc.writeMem(0x4fc2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x745e);
        EXPECT(gbc.pc(), 0x4fc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0195
        gbc.setState(0x26b7, 0xa8ec, 0x5ac0, 0x1952, 0xe32d, 0x9bf7, 0x1, 0x0);
        gbc.writeMem(0x26b7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa8ec);
        EXPECT(gbc.pc(), 0x26b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0197
        gbc.setState(0xc18c, 0x10d5, 0x1010, 0x74a4, 0x10f, 0x92bc, 0x1, 0x1);
        gbc.writeMem(0xc18c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x10d5);
        EXPECT(gbc.pc(), 0xc18d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc18c), 0x67);
        // 67 0198
        gbc.setState(0xc77f, 0xc2c9, 0x8f30, 0xad87, 0x4a78, 0x93ff, 0x0, 0x1);
        gbc.writeMem(0xc77f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xc2c9);
        EXPECT(gbc.pc(), 0xc780);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc77f), 0x67);
        // 67 0199
        gbc.setState(0xce09, 0xe34e, 0xffb0, 0x40fb, 0x8d2f, 0xb347, 0x0, 0x0);
        gbc.writeMem(0xce09, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xe34e);
        EXPECT(gbc.pc(), 0xce0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce09), 0x67);
        // 67 019A
        gbc.setState(0x8df, 0xbafe, 0xa2b0, 0xf3c8, 0x67af, 0x45a4, 0x0, 0x0);
        gbc.writeMem(0x8df, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xbafe);
        EXPECT(gbc.pc(), 0x8e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 019B
        gbc.setState(0xb750, 0x6db, 0xab40, 0xcb6f, 0xdf12, 0x6333, 0x1, 0x1);
        gbc.writeMem(0xb750, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x6db);
        EXPECT(gbc.pc(), 0xb751);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb750), 0x67);
        // 67 019C
        gbc.setState(0x72d8, 0xb575, 0x3240, 0x564a, 0x34a, 0x6b7e, 0x1, 0x0);
        gbc.writeMem(0x72d8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xb575);
        EXPECT(gbc.pc(), 0x72d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 019D
        gbc.setState(0x2f06, 0x5a3c, 0x5c80, 0xc21a, 0x5c34, 0x90cf, 0x1, 0x0);
        gbc.writeMem(0x2f06, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x5a3c);
        EXPECT(gbc.pc(), 0x2f07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 019E
        gbc.setState(0x6546, 0x648f, 0xa3b0, 0xb41c, 0xe369, 0x337d, 0x1, 0x1);
        gbc.writeMem(0x6546, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x648f);
        EXPECT(gbc.pc(), 0x6547);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 019F
        gbc.setState(0x55a8, 0x734f, 0x1de0, 0x1de, 0x6ffa, 0xff9b, 0x0, 0x1);
        gbc.writeMem(0x55a8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x734f);
        EXPECT(gbc.pc(), 0x55a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 01A0
        gbc.setState(0x4fdb, 0x40e4, 0x9ef0, 0x816e, 0x5d8f, 0x7e09, 0x1, 0x1);
        gbc.writeMem(0x4fdb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x40e4);
        EXPECT(gbc.pc(), 0x4fdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 01A1
        gbc.setState(0x674d, 0x85e9, 0xc130, 0xc4f0, 0x3979, 0xf79c, 0x0, 0x0);
        gbc.writeMem(0x674d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x85e9);
        EXPECT(gbc.pc(), 0x674e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 01A2
        gbc.setState(0x4b25, 0xe01f, 0xf3c0, 0x1597, 0x7253, 0x370d, 0x1, 0x0);
        gbc.writeMem(0x4b25, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xe01f);
        EXPECT(gbc.pc(), 0x4b26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 01A3
        gbc.setState(0x2996, 0x3b49, 0xf160, 0x32ad, 0x6b6a, 0xca04, 0x0, 0x0);
        gbc.writeMem(0x2996, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x3b49);
        EXPECT(gbc.pc(), 0x2997);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 01A4
        gbc.setState(0x8a2, 0x211a, 0x7420, 0x40d8, 0xbb97, 0xbe41, 0x0, 0x1);
        gbc.writeMem(0x8a2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x211a);
        EXPECT(gbc.pc(), 0x8a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 01A5
        gbc.setState(0xefc1, 0x8cac, 0x9120, 0xa924, 0x6960, 0x8328, 0x1, 0x0);
        gbc.writeMem(0xefc1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x8cac);
        EXPECT(gbc.pc(), 0xefc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefc1), 0x67);
        // 67 01A6
        gbc.setState(0xebc9, 0x1759, 0xc160, 0x2009, 0x4b85, 0x6ab8, 0x0, 0x1);
        gbc.writeMem(0xebc9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x1759);
        EXPECT(gbc.pc(), 0xebca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebc9), 0x67);
        // 67 01A7
        gbc.setState(0x718, 0xa602, 0xd880, 0xc6eb, 0xf04d, 0x88e8, 0x1, 0x0);
        gbc.writeMem(0x718, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xa602);
        EXPECT(gbc.pc(), 0x719);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 01A8
        gbc.setState(0x98ed, 0x7d5f, 0x70c0, 0xdcb0, 0x7c0c, 0xc47f, 0x1, 0x1);
        gbc.writeMem(0x98ed, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x7d5f);
        EXPECT(gbc.pc(), 0x98ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98ed), 0x67);
        // 67 01A9
        gbc.setState(0xc467, 0xfb41, 0xb200, 0x448e, 0xf831, 0x44ee, 0x1, 0x1);
        gbc.writeMem(0xc467, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xfb41);
        EXPECT(gbc.pc(), 0xc468);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc467), 0x67);
        // 67 01AA
        gbc.setState(0x1b50, 0x113e, 0x4060, 0xb082, 0x575, 0x960e, 0x0, 0x0);
        gbc.writeMem(0x1b50, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x113e);
        EXPECT(gbc.pc(), 0x1b51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 01AB
        gbc.setState(0x2604, 0x35d7, 0x8620, 0x759c, 0x4c60, 0x4f8a, 0x1, 0x1);
        gbc.writeMem(0x2604, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x35d7);
        EXPECT(gbc.pc(), 0x2605);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 01AC
        gbc.setState(0xefe1, 0x381f, 0xcfa0, 0x63cd, 0xfb7e, 0xff5f, 0x0, 0x0);
        gbc.writeMem(0xefe1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x381f);
        EXPECT(gbc.pc(), 0xefe2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefe1), 0x67);
        // 67 01AE
        gbc.setState(0x1c22, 0xd1d8, 0x5300, 0xc82a, 0xe6b9, 0xc412, 0x1, 0x1);
        gbc.writeMem(0x1c22, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xd1d8);
        EXPECT(gbc.pc(), 0x1c23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 01B0
        gbc.setState(0xb19b, 0x3a46, 0x7650, 0x7d4a, 0xcf2d, 0xf328, 0x1, 0x0);
        gbc.writeMem(0xb19b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x3a46);
        EXPECT(gbc.pc(), 0xb19c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb19b), 0x67);
        // 67 01B1
        gbc.setState(0xe685, 0xe9b9, 0x6000, 0xabf, 0xc975, 0x21d1, 0x0, 0x0);
        gbc.writeMem(0xe685, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xe9b9);
        EXPECT(gbc.pc(), 0xe686);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe685), 0x67);
        // 67 01B2
        gbc.setState(0x45c3, 0x4770, 0xbb70, 0x338d, 0x5ec1, 0x8d37, 0x0, 0x1);
        gbc.writeMem(0x45c3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x4770);
        EXPECT(gbc.pc(), 0x45c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 01B3
        gbc.setState(0xde74, 0x84ab, 0xdbe0, 0x8eed, 0xba87, 0xe756, 0x0, 0x0);
        gbc.writeMem(0xde74, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x84ab);
        EXPECT(gbc.pc(), 0xde75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde74), 0x67);
        // 67 01B4
        gbc.setState(0x6ce1, 0x758d, 0xb560, 0x1ec1, 0x1bf6, 0x4a12, 0x1, 0x1);
        gbc.writeMem(0x6ce1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x758d);
        EXPECT(gbc.pc(), 0x6ce2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 01B5
        gbc.setState(0x36a3, 0x1c9a, 0x48c0, 0x3d3e, 0xbb2, 0x2d41, 0x1, 0x1);
        gbc.writeMem(0x36a3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x1c9a);
        EXPECT(gbc.pc(), 0x36a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 01B6
        gbc.setState(0x6672, 0x8bb5, 0x54b0, 0xeef, 0x5466, 0xa02f, 0x0, 0x0);
        gbc.writeMem(0x6672, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8bb5);
        EXPECT(gbc.pc(), 0x6673);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 01B7
        gbc.setState(0x288c, 0xd7, 0xc10, 0xdbb5, 0x4bbb, 0xdda8, 0x1, 0x1);
        gbc.writeMem(0x288c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xd7);
        EXPECT(gbc.pc(), 0x288d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 01B8
        gbc.setState(0xbe2e, 0xcaee, 0x4780, 0x7b76, 0x1099, 0x2435, 0x0, 0x0);
        gbc.writeMem(0xbe2e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xcaee);
        EXPECT(gbc.pc(), 0xbe2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe2e), 0x67);
        // 67 01B9
        gbc.setState(0x3ac9, 0x4cc7, 0x2560, 0xf09a, 0xcd92, 0x5a51, 0x0, 0x0);
        gbc.writeMem(0x3ac9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x4cc7);
        EXPECT(gbc.pc(), 0x3aca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 01BA
        gbc.setState(0x25cc, 0x300d, 0xa50, 0x30f8, 0x73ee, 0x443e, 0x1, 0x1);
        gbc.writeMem(0x25cc, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x300d);
        EXPECT(gbc.pc(), 0x25cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 01BB
        gbc.setState(0xcf22, 0xf3a3, 0x85e0, 0x36ec, 0x61cf, 0x5a1b, 0x1, 0x0);
        gbc.writeMem(0xcf22, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xf3a3);
        EXPECT(gbc.pc(), 0xcf23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf22), 0x67);
        // 67 01BC
        gbc.setState(0x9444, 0x7880, 0x46b0, 0x1fe6, 0x7d2e, 0x3f07, 0x0, 0x1);
        gbc.writeMem(0x9444, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x7880);
        EXPECT(gbc.pc(), 0x9445);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9444), 0x67);
        // 67 01BD
        gbc.setState(0x302c, 0xd35b, 0x3700, 0x6a17, 0x6b73, 0xe998, 0x0, 0x1);
        gbc.writeMem(0x302c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xd35b);
        EXPECT(gbc.pc(), 0x302d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 01BE
        gbc.setState(0xc683, 0xe6ee, 0xcfe0, 0x6c9f, 0x4b08, 0xf44f, 0x0, 0x0);
        gbc.writeMem(0xc683, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xe6ee);
        EXPECT(gbc.pc(), 0xc684);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc683), 0x67);
        // 67 01C1
        gbc.setState(0x8eb2, 0xe9db, 0xf400, 0x65bf, 0x3a7c, 0x54d0, 0x0, 0x0);
        gbc.writeMem(0x8eb2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xe9db);
        EXPECT(gbc.pc(), 0x8eb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8eb2), 0x67);
        // 67 01C2
        gbc.setState(0x853c, 0x9060, 0xf670, 0xa7a5, 0x2e95, 0xdaa1, 0x1, 0x0);
        gbc.writeMem(0x853c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x9060);
        EXPECT(gbc.pc(), 0x853d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x853c), 0x67);
        // 67 01C3
        gbc.setState(0xca80, 0x6a7a, 0x3db0, 0xf7b5, 0x69d0, 0xfe8f, 0x1, 0x1);
        gbc.writeMem(0xca80, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x6a7a);
        EXPECT(gbc.pc(), 0xca81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca80), 0x67);
        // 67 01C4
        gbc.setState(0xace6, 0x5bbf, 0xa2a0, 0x945e, 0x7a47, 0xd2db, 0x1, 0x0);
        gbc.writeMem(0xace6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x5bbf);
        EXPECT(gbc.pc(), 0xace7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xace6), 0x67);
        // 67 01C5
        gbc.setState(0xbbaa, 0x56a4, 0xde20, 0x2aef, 0x6af5, 0x544e, 0x1, 0x1);
        gbc.writeMem(0xbbaa, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x56a4);
        EXPECT(gbc.pc(), 0xbbab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbaa), 0x67);
        // 67 01C6
        gbc.setState(0x70a4, 0x651a, 0xa8c0, 0x3e75, 0xcbe5, 0x2e6a, 0x0, 0x1);
        gbc.writeMem(0x70a4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x651a);
        EXPECT(gbc.pc(), 0x70a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 01C7
        gbc.setState(0x32f3, 0xe3a4, 0x48d0, 0xa16a, 0xc88f, 0xf150, 0x1, 0x0);
        gbc.writeMem(0x32f3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xe3a4);
        EXPECT(gbc.pc(), 0x32f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 01C8
        gbc.setState(0xef98, 0xa053, 0xbde0, 0x8b33, 0xe446, 0x2ed, 0x1, 0x1);
        gbc.writeMem(0xef98, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xa053);
        EXPECT(gbc.pc(), 0xef99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef98), 0x67);
        // 67 01C9
        gbc.setState(0xa8a6, 0xa2f3, 0xac20, 0xcaa0, 0xe034, 0xdb90, 0x1, 0x0);
        gbc.writeMem(0xa8a6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xa2f3);
        EXPECT(gbc.pc(), 0xa8a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8a6), 0x67);
        // 67 01CA
        gbc.setState(0xb318, 0x1ab4, 0xa9e0, 0x792a, 0x7898, 0xba86, 0x1, 0x1);
        gbc.writeMem(0xb318, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x1ab4);
        EXPECT(gbc.pc(), 0xb319);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb318), 0x67);
        // 67 01CB
        gbc.setState(0x5b64, 0xa20b, 0x51a0, 0x56d5, 0x6e76, 0x385f, 0x1, 0x1);
        gbc.writeMem(0x5b64, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xa20b);
        EXPECT(gbc.pc(), 0x5b65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 01CC
        gbc.setState(0x23e0, 0x2e5e, 0xe000, 0x9f1e, 0xd05, 0xf7fa, 0x1, 0x0);
        gbc.writeMem(0x23e0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x2e5e);
        EXPECT(gbc.pc(), 0x23e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 01CD
        gbc.setState(0x5420, 0x3747, 0x3050, 0x1f4f, 0x4fbd, 0x394b, 0x0, 0x0);
        gbc.writeMem(0x5420, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x3747);
        EXPECT(gbc.pc(), 0x5421);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 01CE
        gbc.setState(0x88ec, 0x44f6, 0x9450, 0x3f4b, 0x36a3, 0x3b36, 0x0, 0x0);
        gbc.writeMem(0x88ec, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x44f6);
        EXPECT(gbc.pc(), 0x88ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88ec), 0x67);
        // 67 01CF
        gbc.setState(0x9e3d, 0xe0c6, 0xcfc0, 0xbaf7, 0x17ae, 0xc179, 0x0, 0x1);
        gbc.writeMem(0x9e3d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xe0c6);
        EXPECT(gbc.pc(), 0x9e3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e3d), 0x67);
        // 67 01D0
        gbc.setState(0xee4a, 0x9389, 0x9440, 0xfcd7, 0x8e7e, 0xcbf6, 0x1, 0x0);
        gbc.writeMem(0xee4a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x9389);
        EXPECT(gbc.pc(), 0xee4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee4a), 0x67);
        // 67 01D1
        gbc.setState(0x357b, 0x8f8c, 0xa8d0, 0xfc5e, 0x9dff, 0x66b5, 0x0, 0x1);
        gbc.writeMem(0x357b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x8f8c);
        EXPECT(gbc.pc(), 0x357c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 01D2
        gbc.setState(0x5f33, 0xab5c, 0x1f40, 0xd2ef, 0xd53a, 0xee67, 0x1, 0x1);
        gbc.writeMem(0x5f33, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xab5c);
        EXPECT(gbc.pc(), 0x5f34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 01D3
        gbc.setState(0x83ef, 0x3bc5, 0xf120, 0x3207, 0x7298, 0x5070, 0x0, 0x0);
        gbc.writeMem(0x83ef, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x3bc5);
        EXPECT(gbc.pc(), 0x83f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83ef), 0x67);
        // 67 01D4
        gbc.setState(0x322f, 0xba2c, 0xba10, 0x5d3d, 0xe504, 0x26e8, 0x1, 0x0);
        gbc.writeMem(0x322f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xba2c);
        EXPECT(gbc.pc(), 0x3230);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 01D5
        gbc.setState(0xd18a, 0xeadf, 0x8750, 0x945e, 0x3bfc, 0x1670, 0x0, 0x1);
        gbc.writeMem(0xd18a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xeadf);
        EXPECT(gbc.pc(), 0xd18b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd18a), 0x67);
        // 67 01D6
        gbc.setState(0x724d, 0xacb5, 0xb370, 0x20d1, 0x5173, 0x5c42, 0x1, 0x0);
        gbc.writeMem(0x724d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xacb5);
        EXPECT(gbc.pc(), 0x724e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 01D7
        gbc.setState(0xd913, 0xad16, 0x8070, 0x4307, 0x1eff, 0x35b1, 0x1, 0x0);
        gbc.writeMem(0xd913, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xad16);
        EXPECT(gbc.pc(), 0xd914);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd913), 0x67);
        // 67 01D8
        gbc.setState(0xb550, 0xe6ba, 0x14a0, 0x3950, 0x705a, 0xee3, 0x0, 0x0);
        gbc.writeMem(0xb550, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xe6ba);
        EXPECT(gbc.pc(), 0xb551);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb550), 0x67);
        // 67 01D9
        gbc.setState(0x55e3, 0xb0aa, 0x3f80, 0xef93, 0x2eef, 0x57ea, 0x0, 0x0);
        gbc.writeMem(0x55e3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xb0aa);
        EXPECT(gbc.pc(), 0x55e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 01DA
        gbc.setState(0xea08, 0x850, 0x78a0, 0x5a07, 0x6995, 0x7bbe, 0x1, 0x1);
        gbc.writeMem(0xea08, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x850);
        EXPECT(gbc.pc(), 0xea09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea08), 0x67);
        // 67 01DB
        gbc.setState(0xc3d9, 0x2bec, 0xcc0, 0x1544, 0xaf0d, 0x235, 0x1, 0x0);
        gbc.writeMem(0xc3d9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x2bec);
        EXPECT(gbc.pc(), 0xc3da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3d9), 0x67);
        // 67 01DC
        gbc.setState(0x2c0c, 0xaa6a, 0x9ee0, 0x7e04, 0x813d, 0x5cb8, 0x1, 0x1);
        gbc.writeMem(0x2c0c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xaa6a);
        EXPECT(gbc.pc(), 0x2c0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 01DD
        gbc.setState(0x9294, 0x8ce8, 0x67d0, 0x12bb, 0x7052, 0x2d5c, 0x1, 0x1);
        gbc.writeMem(0x9294, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x8ce8);
        EXPECT(gbc.pc(), 0x9295);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9294), 0x67);
        // 67 01DE
        gbc.setState(0x5842, 0xf294, 0x2bd0, 0xfd77, 0xc94e, 0x5c08, 0x0, 0x0);
        gbc.writeMem(0x5842, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xf294);
        EXPECT(gbc.pc(), 0x5843);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 01DF
        gbc.setState(0x160a, 0x315c, 0xde90, 0xf6d4, 0xedaa, 0x1dc7, 0x1, 0x0);
        gbc.writeMem(0x160a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x315c);
        EXPECT(gbc.pc(), 0x160b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 01E0
        gbc.setState(0x5972, 0xd5a8, 0x8f40, 0xda0, 0x7774, 0x672d, 0x1, 0x1);
        gbc.writeMem(0x5972, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xd5a8);
        EXPECT(gbc.pc(), 0x5973);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 01E2
        gbc.setState(0x5bf, 0xfa3c, 0x9cd0, 0x9d36, 0x69d5, 0xb062, 0x1, 0x0);
        gbc.writeMem(0x5bf, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xfa3c);
        EXPECT(gbc.pc(), 0x5c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 01E3
        gbc.setState(0x4bf7, 0x5c0e, 0x69f0, 0x931a, 0x448, 0x76a0, 0x0, 0x0);
        gbc.writeMem(0x4bf7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x5c0e);
        EXPECT(gbc.pc(), 0x4bf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 01E4
        gbc.setState(0x1c60, 0x256a, 0x5620, 0x30b9, 0x9aac, 0x691f, 0x0, 0x1);
        gbc.writeMem(0x1c60, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x256a);
        EXPECT(gbc.pc(), 0x1c61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 01E5
        gbc.setState(0xa09c, 0x905, 0xb750, 0x61f8, 0xa33d, 0xf3d3, 0x0, 0x0);
        gbc.writeMem(0xa09c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x905);
        EXPECT(gbc.pc(), 0xa09d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa09c), 0x67);
        // 67 01E6
        gbc.setState(0xa86b, 0x3b12, 0xbdf0, 0x15b2, 0x3cf, 0x649d, 0x1, 0x0);
        gbc.writeMem(0xa86b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x3b12);
        EXPECT(gbc.pc(), 0xa86c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa86b), 0x67);
        // 67 01E7
        gbc.setState(0xd9c5, 0xe2a6, 0x4eb0, 0xc48, 0x41e3, 0xdae9, 0x0, 0x1);
        gbc.writeMem(0xd9c5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xe2a6);
        EXPECT(gbc.pc(), 0xd9c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9c5), 0x67);
        // 67 01E8
        gbc.setState(0xc080, 0xa848, 0xaeb0, 0x5aab, 0xbb7d, 0x36aa, 0x1, 0x0);
        gbc.writeMem(0xc080, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xa848);
        EXPECT(gbc.pc(), 0xc081);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc080), 0x67);
        // 67 01E9
        gbc.setState(0x771d, 0xe727, 0x88b0, 0xd33a, 0xaf41, 0x4fa8, 0x0, 0x1);
        gbc.writeMem(0x771d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xe727);
        EXPECT(gbc.pc(), 0x771e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 01EA
        gbc.setState(0xcd7f, 0xd18b, 0x8c30, 0xb657, 0xb94c, 0x710, 0x0, 0x0);
        gbc.writeMem(0xcd7f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xd18b);
        EXPECT(gbc.pc(), 0xcd80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd7f), 0x67);
        // 67 01EB
        gbc.setState(0x38a4, 0x9f54, 0x8420, 0xb6b0, 0x1d8f, 0xb65a, 0x1, 0x1);
        gbc.writeMem(0x38a4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x9f54);
        EXPECT(gbc.pc(), 0x38a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 01EC
        gbc.setState(0xefbe, 0x7d94, 0xb590, 0x6955, 0x734b, 0xd5e7, 0x0, 0x1);
        gbc.writeMem(0xefbe, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x7d94);
        EXPECT(gbc.pc(), 0xefbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefbe), 0x67);
        // 67 01ED
        gbc.setState(0x2d82, 0x4fb6, 0x42b0, 0xa0dc, 0x3a08, 0x9af, 0x0, 0x1);
        gbc.writeMem(0x2d82, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x4fb6);
        EXPECT(gbc.pc(), 0x2d83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 01EE
        gbc.setState(0x7b86, 0x81ca, 0xc420, 0xd5f6, 0x3a8a, 0x31d3, 0x0, 0x0);
        gbc.writeMem(0x7b86, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x81ca);
        EXPECT(gbc.pc(), 0x7b87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 01EF
        gbc.setState(0xe1c4, 0xfda1, 0x310, 0xbe83, 0x4db9, 0xebca, 0x0, 0x0);
        gbc.writeMem(0xe1c4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xfda1);
        EXPECT(gbc.pc(), 0xe1c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1c4), 0x67);
        // 67 01F0
        gbc.setState(0xd6f3, 0xbf10, 0xbdf0, 0xcea8, 0x2c22, 0xcc02, 0x0, 0x0);
        gbc.writeMem(0xd6f3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xbf10);
        EXPECT(gbc.pc(), 0xd6f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6f3), 0x67);
        // 67 01F1
        gbc.setState(0xa048, 0xdf64, 0x1070, 0x57ae, 0x397e, 0xdb47, 0x0, 0x1);
        gbc.writeMem(0xa048, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xdf64);
        EXPECT(gbc.pc(), 0xa049);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa048), 0x67);
        // 67 01F2
        gbc.setState(0x26e9, 0xc452, 0x20d0, 0xcd80, 0x9cd0, 0xa1b9, 0x0, 0x0);
        gbc.writeMem(0x26e9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xc452);
        EXPECT(gbc.pc(), 0x26ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 01F3
        gbc.setState(0x8890, 0x649c, 0xc7b0, 0x55a, 0x52bd, 0xaf27, 0x0, 0x1);
        gbc.writeMem(0x8890, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x649c);
        EXPECT(gbc.pc(), 0x8891);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8890), 0x67);
        // 67 01F4
        gbc.setState(0xa392, 0xe009, 0x6a90, 0x18cb, 0x249f, 0x6e3f, 0x0, 0x1);
        gbc.writeMem(0xa392, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe009);
        EXPECT(gbc.pc(), 0xa393);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa392), 0x67);
        // 67 01F5
        gbc.setState(0x84c4, 0xe8f0, 0xe9c0, 0x7f39, 0xd4a4, 0x6feb, 0x1, 0x1);
        gbc.writeMem(0x84c4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xe8f0);
        EXPECT(gbc.pc(), 0x84c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84c4), 0x67);
        // 67 01F6
        gbc.setState(0x330, 0x38bd, 0xd880, 0x4d89, 0x307e, 0xf620, 0x1, 0x0);
        gbc.writeMem(0x330, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x38bd);
        EXPECT(gbc.pc(), 0x331);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 01F7
        gbc.setState(0xe55b, 0xa9a3, 0xa0c0, 0xd43, 0xf966, 0x3ef2, 0x1, 0x0);
        gbc.writeMem(0xe55b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xa9a3);
        EXPECT(gbc.pc(), 0xe55c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe55b), 0x67);
        // 67 01F8
        gbc.setState(0xe0b8, 0x921f, 0x5d60, 0x2f7a, 0xdbf5, 0x4b04, 0x0, 0x1);
        gbc.writeMem(0xe0b8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x921f);
        EXPECT(gbc.pc(), 0xe0b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0b8), 0x67);
        // 67 01F9
        gbc.setState(0x4ee1, 0xfc1f, 0x7d50, 0x31f3, 0x94a6, 0x496e, 0x0, 0x1);
        gbc.writeMem(0x4ee1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xfc1f);
        EXPECT(gbc.pc(), 0x4ee2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 01FA
        gbc.setState(0x5e1c, 0x1413, 0x7fa0, 0xcc76, 0xc456, 0x1a83, 0x0, 0x0);
        gbc.writeMem(0x5e1c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x1413);
        EXPECT(gbc.pc(), 0x5e1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 01FB
        gbc.setState(0xd436, 0x63a4, 0x6030, 0x6a5d, 0x1962, 0x2930, 0x0, 0x1);
        gbc.writeMem(0xd436, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x63a4);
        EXPECT(gbc.pc(), 0xd437);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd436), 0x67);
        // 67 01FC
        gbc.setState(0x2095, 0xd185, 0x5500, 0x3313, 0x7916, 0xa981, 0x0, 0x1);
        gbc.writeMem(0x2095, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xd185);
        EXPECT(gbc.pc(), 0x2096);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 01FD
        gbc.setState(0x1dff, 0x6a8c, 0xc190, 0xde46, 0x49a2, 0x425e, 0x0, 0x0);
        gbc.writeMem(0x1dff, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x6a8c);
        EXPECT(gbc.pc(), 0x1e00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 01FE
        gbc.setState(0x8feb, 0xcfdb, 0x3e0, 0xa16f, 0x67b9, 0x3210, 0x0, 0x0);
        gbc.writeMem(0x8feb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xcfdb);
        EXPECT(gbc.pc(), 0x8fec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8feb), 0x67);
        // 67 01FF
        gbc.setState(0x9647, 0x342d, 0xfdc0, 0x7e51, 0xb973, 0x9b4e, 0x0, 0x0);
        gbc.writeMem(0x9647, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x342d);
        EXPECT(gbc.pc(), 0x9648);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9647), 0x67);
        // 67 0200
        gbc.setState(0x7866, 0xc377, 0x1040, 0xdb3, 0xe7bb, 0x4dbc, 0x1, 0x0);
        gbc.writeMem(0x7866, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xc377);
        EXPECT(gbc.pc(), 0x7867);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0201
        gbc.setState(0xee1d, 0xeb5c, 0x70b0, 0x5c2f, 0xce6a, 0x6ec0, 0x1, 0x1);
        gbc.writeMem(0xee1d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xeb5c);
        EXPECT(gbc.pc(), 0xee1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee1d), 0x67);
        // 67 0203
        gbc.setState(0x4e49, 0x5d13, 0x8680, 0x7961, 0xa2f1, 0x3c8c, 0x1, 0x1);
        gbc.writeMem(0x4e49, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x5d13);
        EXPECT(gbc.pc(), 0x4e4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0204
        gbc.setState(0x5352, 0x6602, 0xea0, 0x31a8, 0x6d91, 0x88b9, 0x0, 0x1);
        gbc.writeMem(0x5352, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x6602);
        EXPECT(gbc.pc(), 0x5353);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0205
        gbc.setState(0x9ccb, 0x354b, 0x5d50, 0x9b3c, 0x4f95, 0x5377, 0x1, 0x0);
        gbc.writeMem(0x9ccb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x354b);
        EXPECT(gbc.pc(), 0x9ccc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ccb), 0x67);
        // 67 0206
        gbc.setState(0x5327, 0x14a4, 0x8430, 0xe5b9, 0x9bc4, 0xf7e7, 0x1, 0x0);
        gbc.writeMem(0x5327, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x14a4);
        EXPECT(gbc.pc(), 0x5328);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0207
        gbc.setState(0xd57e, 0xf2b1, 0x7460, 0xdcb7, 0xd1af, 0xf164, 0x0, 0x0);
        gbc.writeMem(0xd57e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xf2b1);
        EXPECT(gbc.pc(), 0xd57f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd57e), 0x67);
        // 67 0208
        gbc.setState(0x8187, 0x9920, 0x47e0, 0xe459, 0xf4ee, 0xe199, 0x1, 0x1);
        gbc.writeMem(0x8187, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x9920);
        EXPECT(gbc.pc(), 0x8188);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8187), 0x67);
        // 67 0209
        gbc.setState(0xaab, 0x310, 0x2090, 0x7909, 0x3633, 0xaf37, 0x0, 0x0);
        gbc.writeMem(0xaab, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x310);
        EXPECT(gbc.pc(), 0xaac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 020A
        gbc.setState(0x3690, 0x8603, 0x8500, 0xa12a, 0xfcc8, 0xc5e5, 0x0, 0x0);
        gbc.writeMem(0x3690, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x8603);
        EXPECT(gbc.pc(), 0x3691);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 020B
        gbc.setState(0xabfe, 0x85c3, 0xa0b0, 0x7983, 0x1179, 0xfb35, 0x1, 0x1);
        gbc.writeMem(0xabfe, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x85c3);
        EXPECT(gbc.pc(), 0xabff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabfe), 0x67);
        // 67 020C
        gbc.setState(0xb6b3, 0x8ed1, 0xc2e0, 0x4622, 0x9c08, 0xaeb, 0x0, 0x0);
        gbc.writeMem(0xb6b3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x8ed1);
        EXPECT(gbc.pc(), 0xb6b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6b3), 0x67);
        // 67 020D
        gbc.setState(0x2e33, 0x3c60, 0xd820, 0x2ea0, 0x6ac5, 0x1496, 0x1, 0x1);
        gbc.writeMem(0x2e33, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3c60);
        EXPECT(gbc.pc(), 0x2e34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 020E
        gbc.setState(0xb68b, 0x1a03, 0xba0, 0x53ac, 0xa185, 0x10cf, 0x1, 0x1);
        gbc.writeMem(0xb68b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x1a03);
        EXPECT(gbc.pc(), 0xb68c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb68b), 0x67);
        // 67 020F
        gbc.setState(0xa344, 0x80d5, 0x31a0, 0x87fd, 0x1a1b, 0x4b61, 0x1, 0x0);
        gbc.writeMem(0xa344, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x80d5);
        EXPECT(gbc.pc(), 0xa345);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa344), 0x67);
        // 67 0210
        gbc.setState(0x2d0a, 0xe8b0, 0xb560, 0xbe16, 0xa7f5, 0x8db4, 0x0, 0x0);
        gbc.writeMem(0x2d0a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xe8b0);
        EXPECT(gbc.pc(), 0x2d0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0211
        gbc.setState(0xbeb2, 0x22a7, 0xb30, 0xac2e, 0xb995, 0x21f7, 0x0, 0x1);
        gbc.writeMem(0xbeb2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x22a7);
        EXPECT(gbc.pc(), 0xbeb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbeb2), 0x67);
        // 67 0212
        gbc.setState(0x4b0e, 0x37ab, 0x2d50, 0x1b02, 0x152d, 0xe25d, 0x0, 0x1);
        gbc.writeMem(0x4b0e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x37ab);
        EXPECT(gbc.pc(), 0x4b0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0213
        gbc.setState(0xd84f, 0x7214, 0x84f0, 0x958, 0xd4c, 0x76a0, 0x0, 0x1);
        gbc.writeMem(0xd84f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x7214);
        EXPECT(gbc.pc(), 0xd850);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd84f), 0x67);
        // 67 0214
        gbc.setState(0x70c4, 0x66a0, 0x6a40, 0x7ebd, 0x25bc, 0x1f9f, 0x0, 0x0);
        gbc.writeMem(0x70c4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x66a0);
        EXPECT(gbc.pc(), 0x70c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0215
        gbc.setState(0xae86, 0xa189, 0x1310, 0xe3cd, 0x74b5, 0xdadd, 0x1, 0x1);
        gbc.writeMem(0xae86, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xa189);
        EXPECT(gbc.pc(), 0xae87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae86), 0x67);
        // 67 0216
        gbc.setState(0x1483, 0x4938, 0xcd10, 0x9672, 0xc1c2, 0xfb32, 0x1, 0x1);
        gbc.writeMem(0x1483, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x4938);
        EXPECT(gbc.pc(), 0x1484);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0217
        gbc.setState(0x549f, 0xe39d, 0xc960, 0xab1a, 0xe5fb, 0x53a9, 0x0, 0x0);
        gbc.writeMem(0x549f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xe39d);
        EXPECT(gbc.pc(), 0x54a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0218
        gbc.setState(0x3f82, 0xed46, 0x1050, 0x49af, 0x40f2, 0xcfcc, 0x0, 0x1);
        gbc.writeMem(0x3f82, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xed46);
        EXPECT(gbc.pc(), 0x3f83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0219
        gbc.setState(0xcdcf, 0x5b00, 0x6510, 0xafd2, 0x7c5d, 0x62ce, 0x1, 0x0);
        gbc.writeMem(0xcdcf, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x5b00);
        EXPECT(gbc.pc(), 0xcdd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdcf), 0x67);
        // 67 021A
        gbc.setState(0x685e, 0xe83b, 0xf0a0, 0x3692, 0xc5c1, 0x47f4, 0x0, 0x0);
        gbc.writeMem(0x685e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xe83b);
        EXPECT(gbc.pc(), 0x685f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 021C
        gbc.setState(0x71bb, 0x9bf3, 0x5c60, 0xe37, 0x5b24, 0xa64b, 0x0, 0x0);
        gbc.writeMem(0x71bb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x9bf3);
        EXPECT(gbc.pc(), 0x71bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 021D
        gbc.setState(0x6eff, 0x3b0b, 0xb400, 0xe55e, 0x4b2e, 0xafa9, 0x0, 0x1);
        gbc.writeMem(0x6eff, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x3b0b);
        EXPECT(gbc.pc(), 0x6f00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 021E
        gbc.setState(0x4602, 0xf186, 0x1490, 0x3909, 0xe7a0, 0xc921, 0x0, 0x1);
        gbc.writeMem(0x4602, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xf186);
        EXPECT(gbc.pc(), 0x4603);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 021F
        gbc.setState(0x7abf, 0xa6db, 0xe120, 0x62ec, 0x2875, 0x6665, 0x0, 0x1);
        gbc.writeMem(0x7abf, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xa6db);
        EXPECT(gbc.pc(), 0x7ac0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0220
        gbc.setState(0xb667, 0x2842, 0xf2e0, 0x1a6f, 0x3053, 0x164d, 0x0, 0x0);
        gbc.writeMem(0xb667, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x2842);
        EXPECT(gbc.pc(), 0xb668);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb667), 0x67);
        // 67 0221
        gbc.setState(0x1ed0, 0x5dd7, 0xd520, 0xe65e, 0x3397, 0x5cfd, 0x0, 0x0);
        gbc.writeMem(0x1ed0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x5dd7);
        EXPECT(gbc.pc(), 0x1ed1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0222
        gbc.setState(0x412e, 0x4137, 0x4190, 0xd11f, 0x3c95, 0x464d, 0x1, 0x1);
        gbc.writeMem(0x412e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x4137);
        EXPECT(gbc.pc(), 0x412f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0223
        gbc.setState(0xb9c, 0x572e, 0xe970, 0xb2b4, 0x5870, 0x9dc, 0x1, 0x0);
        gbc.writeMem(0xb9c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x572e);
        EXPECT(gbc.pc(), 0xb9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0224
        gbc.setState(0x6182, 0xa511, 0x6870, 0xa41e, 0x2b87, 0x377f, 0x0, 0x0);
        gbc.writeMem(0x6182, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xa511);
        EXPECT(gbc.pc(), 0x6183);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0225
        gbc.setState(0xdf42, 0x7a85, 0xce00, 0x41a1, 0x915f, 0x58c, 0x1, 0x0);
        gbc.writeMem(0xdf42, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x7a85);
        EXPECT(gbc.pc(), 0xdf43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf42), 0x67);
        // 67 0226
        gbc.setState(0x53b1, 0x6479, 0x7980, 0xafd0, 0xeaed, 0x31fb, 0x0, 0x0);
        gbc.writeMem(0x53b1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x6479);
        EXPECT(gbc.pc(), 0x53b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0227
        gbc.setState(0xdaf7, 0x7336, 0xb3a0, 0xff7, 0x13a, 0x3f66, 0x1, 0x1);
        gbc.writeMem(0xdaf7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x7336);
        EXPECT(gbc.pc(), 0xdaf8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaf7), 0x67);
        // 67 0228
        gbc.setState(0x3211, 0x2333, 0xa920, 0x5aa9, 0x9d9d, 0x7f51, 0x0, 0x1);
        gbc.writeMem(0x3211, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2333);
        EXPECT(gbc.pc(), 0x3212);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 022A
        gbc.setState(0x3ccf, 0x97b7, 0xb220, 0xdff4, 0x7052, 0x28e7, 0x0, 0x1);
        gbc.writeMem(0x3ccf, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x97b7);
        EXPECT(gbc.pc(), 0x3cd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 022B
        gbc.setState(0xa4d8, 0x1c99, 0xa060, 0x2d91, 0xb115, 0x3ddd, 0x1, 0x1);
        gbc.writeMem(0xa4d8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x1c99);
        EXPECT(gbc.pc(), 0xa4d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4d8), 0x67);
        // 67 022C
        gbc.setState(0xc304, 0xd6, 0xb910, 0x573, 0xf295, 0x7432, 0x1, 0x1);
        gbc.writeMem(0xc304, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xd6);
        EXPECT(gbc.pc(), 0xc305);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc304), 0x67);
        // 67 022D
        gbc.setState(0x2b7a, 0x54f8, 0x5240, 0x205d, 0x35bb, 0xb7c8, 0x1, 0x1);
        gbc.writeMem(0x2b7a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x54f8);
        EXPECT(gbc.pc(), 0x2b7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 022E
        gbc.setState(0x2ae9, 0xef98, 0x6d30, 0x8004, 0x4870, 0xc12c, 0x1, 0x1);
        gbc.writeMem(0x2ae9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xef98);
        EXPECT(gbc.pc(), 0x2aea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 022F
        gbc.setState(0x2669, 0xbe66, 0x46b0, 0x6913, 0x5f5a, 0xaca5, 0x0, 0x1);
        gbc.writeMem(0x2669, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xbe66);
        EXPECT(gbc.pc(), 0x266a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0230
        gbc.setState(0x53d6, 0xcc0, 0xb180, 0x327f, 0xbbe4, 0x7d7a, 0x1, 0x0);
        gbc.writeMem(0x53d6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xcc0);
        EXPECT(gbc.pc(), 0x53d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0231
        gbc.setState(0x480, 0x79b1, 0x8d00, 0xbab5, 0xc984, 0x52c2, 0x0, 0x0);
        gbc.writeMem(0x480, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x79b1);
        EXPECT(gbc.pc(), 0x481);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0232
        gbc.setState(0x8ea4, 0x8d6f, 0xfc70, 0x4d60, 0xdaa4, 0x34ff, 0x1, 0x1);
        gbc.writeMem(0x8ea4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x8d6f);
        EXPECT(gbc.pc(), 0x8ea5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ea4), 0x67);
        // 67 0233
        gbc.setState(0x7fd4, 0x6304, 0xc700, 0x40e0, 0x3db7, 0xa7a3, 0x1, 0x0);
        gbc.writeMem(0x7fd4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x6304);
        EXPECT(gbc.pc(), 0x7fd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0234
        gbc.setState(0xc99e, 0xc816, 0xf2d0, 0x7c2c, 0xe21c, 0x1249, 0x0, 0x0);
        gbc.writeMem(0xc99e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xc816);
        EXPECT(gbc.pc(), 0xc99f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc99e), 0x67);
        // 67 0235
        gbc.setState(0xa0ce, 0x5740, 0xe340, 0xfa72, 0x2f62, 0x630d, 0x0, 0x0);
        gbc.writeMem(0xa0ce, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x5740);
        EXPECT(gbc.pc(), 0xa0cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0ce), 0x67);
        // 67 0236
        gbc.setState(0xcd36, 0xebdb, 0x2cf0, 0x4fc1, 0xbf50, 0x68ee, 0x0, 0x0);
        gbc.writeMem(0xcd36, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xebdb);
        EXPECT(gbc.pc(), 0xcd37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd36), 0x67);
        // 67 0237
        gbc.setState(0x2655, 0x404e, 0x4510, 0xc148, 0x3703, 0x84c0, 0x0, 0x1);
        gbc.writeMem(0x2655, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x404e);
        EXPECT(gbc.pc(), 0x2656);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0239
        gbc.setState(0x4781, 0xd579, 0xf900, 0x45dd, 0x7ae9, 0x9a05, 0x0, 0x1);
        gbc.writeMem(0x4781, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xd579);
        EXPECT(gbc.pc(), 0x4782);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 023A
        gbc.setState(0xab7c, 0xcba1, 0xb350, 0xc0d7, 0xf49, 0xc55d, 0x0, 0x0);
        gbc.writeMem(0xab7c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xcba1);
        EXPECT(gbc.pc(), 0xab7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab7c), 0x67);
        // 67 023B
        gbc.setState(0x9239, 0x4189, 0xb930, 0x2efb, 0x3a8a, 0xa212, 0x0, 0x0);
        gbc.writeMem(0x9239, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x4189);
        EXPECT(gbc.pc(), 0x923a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9239), 0x67);
        // 67 023C
        gbc.setState(0x202e, 0x6509, 0x8940, 0xe1ea, 0xbad9, 0xc054, 0x1, 0x0);
        gbc.writeMem(0x202e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x6509);
        EXPECT(gbc.pc(), 0x202f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 023D
        gbc.setState(0x7a09, 0x78a1, 0x7d10, 0xcb4d, 0xec83, 0x3671, 0x1, 0x0);
        gbc.writeMem(0x7a09, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x78a1);
        EXPECT(gbc.pc(), 0x7a0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 023E
        gbc.setState(0x4204, 0xcf14, 0xc950, 0xd83d, 0x62fd, 0xa7d4, 0x1, 0x0);
        gbc.writeMem(0x4204, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xcf14);
        EXPECT(gbc.pc(), 0x4205);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 023F
        gbc.setState(0xac74, 0x5b9c, 0x560, 0xc375, 0x131c, 0xe1f6, 0x1, 0x0);
        gbc.writeMem(0xac74, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x5b9c);
        EXPECT(gbc.pc(), 0xac75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac74), 0x67);
        // 67 0240
        gbc.setState(0x825a, 0xd22c, 0x3dc0, 0x8fe3, 0x4577, 0xadb3, 0x0, 0x0);
        gbc.writeMem(0x825a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd22c);
        EXPECT(gbc.pc(), 0x825b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x825a), 0x67);
        // 67 0241
        gbc.setState(0xe54b, 0x4c8d, 0xff00, 0xe16e, 0x8d8c, 0x7d48, 0x1, 0x0);
        gbc.writeMem(0xe54b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x4c8d);
        EXPECT(gbc.pc(), 0xe54c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe54b), 0x67);
        // 67 0242
        gbc.setState(0xe760, 0xd329, 0x2db0, 0x6124, 0x65b6, 0xaa76, 0x1, 0x1);
        gbc.writeMem(0xe760, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xd329);
        EXPECT(gbc.pc(), 0xe761);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe760), 0x67);
        // 67 0244
        gbc.setState(0x478f, 0x8bcf, 0x3a50, 0x963e, 0xfd2, 0x3efe, 0x1, 0x1);
        gbc.writeMem(0x478f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x8bcf);
        EXPECT(gbc.pc(), 0x4790);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0245
        gbc.setState(0x4cbf, 0xe147, 0xe660, 0x9bc2, 0x6227, 0x9e87, 0x1, 0x1);
        gbc.writeMem(0x4cbf, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xe147);
        EXPECT(gbc.pc(), 0x4cc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0246
        gbc.setState(0x6320, 0x81cb, 0x70a0, 0xba7b, 0x3e53, 0xd6a6, 0x1, 0x0);
        gbc.writeMem(0x6320, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x81cb);
        EXPECT(gbc.pc(), 0x6321);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0247
        gbc.setState(0x99ee, 0x8b49, 0x3400, 0xf006, 0x5832, 0x4d51, 0x0, 0x1);
        gbc.writeMem(0x99ee, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x8b49);
        EXPECT(gbc.pc(), 0x99ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99ee), 0x67);
        // 67 0248
        gbc.setState(0x6ed2, 0x1179, 0x9570, 0x30f8, 0xda97, 0xc30d, 0x0, 0x1);
        gbc.writeMem(0x6ed2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x1179);
        EXPECT(gbc.pc(), 0x6ed3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0249
        gbc.setState(0x7257, 0x2040, 0x7940, 0x5359, 0x9f5b, 0xd7b, 0x1, 0x0);
        gbc.writeMem(0x7257, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x2040);
        EXPECT(gbc.pc(), 0x7258);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 024A
        gbc.setState(0x28b4, 0x1df, 0xda60, 0x7f29, 0xafd7, 0xf763, 0x0, 0x0);
        gbc.writeMem(0x28b4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x1df);
        EXPECT(gbc.pc(), 0x28b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 024B
        gbc.setState(0xa1fb, 0xb07e, 0x6470, 0xd39e, 0xf6b3, 0x387e, 0x0, 0x0);
        gbc.writeMem(0xa1fb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xb07e);
        EXPECT(gbc.pc(), 0xa1fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1fb), 0x67);
        // 67 024C
        gbc.setState(0xbfed, 0x8734, 0xfc20, 0x280a, 0x7bb1, 0x2201, 0x1, 0x1);
        gbc.writeMem(0xbfed, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x8734);
        EXPECT(gbc.pc(), 0xbfee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfed), 0x67);
        // 67 024D
        gbc.setState(0xe589, 0xde33, 0x40c0, 0x5f1d, 0xd0a5, 0xc35b, 0x1, 0x0);
        gbc.writeMem(0xe589, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xde33);
        EXPECT(gbc.pc(), 0xe58a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe589), 0x67);
        // 67 024E
        gbc.setState(0x21f8, 0x65ec, 0xa110, 0xbadb, 0xdd69, 0xe6f, 0x0, 0x0);
        gbc.writeMem(0x21f8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x65ec);
        EXPECT(gbc.pc(), 0x21f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 024F
        gbc.setState(0xc27, 0xda38, 0x6870, 0xe062, 0x5317, 0x8de8, 0x1, 0x1);
        gbc.writeMem(0xc27, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xda38);
        EXPECT(gbc.pc(), 0xc28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0251
        gbc.setState(0x6197, 0x280, 0x2de0, 0x3714, 0xf391, 0xfdd2, 0x0, 0x0);
        gbc.writeMem(0x6197, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x280);
        EXPECT(gbc.pc(), 0x6198);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0252
        gbc.setState(0x7cf4, 0x5176, 0x6ff0, 0xd2d6, 0x2a0c, 0xab33, 0x0, 0x0);
        gbc.writeMem(0x7cf4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x5176);
        EXPECT(gbc.pc(), 0x7cf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0253
        gbc.setState(0xd7f7, 0x2140, 0x47c0, 0x560a, 0x7344, 0xdf3d, 0x0, 0x1);
        gbc.writeMem(0xd7f7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x2140);
        EXPECT(gbc.pc(), 0xd7f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7f7), 0x67);
        // 67 0254
        gbc.setState(0x36d, 0xaacd, 0x5600, 0x2b57, 0x3364, 0xadf7, 0x1, 0x1);
        gbc.writeMem(0x36d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xaacd);
        EXPECT(gbc.pc(), 0x36e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0255
        gbc.setState(0x550c, 0x3aac, 0xb2e0, 0x1693, 0x4a8d, 0x4fa2, 0x0, 0x1);
        gbc.writeMem(0x550c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x3aac);
        EXPECT(gbc.pc(), 0x550d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0256
        gbc.setState(0x130a, 0x29e, 0xc160, 0x289a, 0xc9e1, 0xdfbe, 0x1, 0x0);
        gbc.writeMem(0x130a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x29e);
        EXPECT(gbc.pc(), 0x130b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0257
        gbc.setState(0x7953, 0x5231, 0x7a50, 0xf1ae, 0x45d8, 0x63db, 0x0, 0x0);
        gbc.writeMem(0x7953, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x5231);
        EXPECT(gbc.pc(), 0x7954);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0258
        gbc.setState(0xba56, 0x2e18, 0xac50, 0x34a1, 0xd662, 0x485b, 0x1, 0x1);
        gbc.writeMem(0xba56, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x2e18);
        EXPECT(gbc.pc(), 0xba57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba56), 0x67);
        // 67 0259
        gbc.setState(0xeb70, 0x83b4, 0x7380, 0xe159, 0x55b9, 0x882c, 0x0, 0x0);
        gbc.writeMem(0xeb70, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x83b4);
        EXPECT(gbc.pc(), 0xeb71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb70), 0x67);
        // 67 025A
        gbc.setState(0x1e9d, 0x3e51, 0xdb60, 0x6a55, 0x2fe7, 0xdecf, 0x1, 0x1);
        gbc.writeMem(0x1e9d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x3e51);
        EXPECT(gbc.pc(), 0x1e9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 025B
        gbc.setState(0xaa3a, 0xb85d, 0xc480, 0xec34, 0xc322, 0xa737, 0x0, 0x0);
        gbc.writeMem(0xaa3a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xb85d);
        EXPECT(gbc.pc(), 0xaa3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa3a), 0x67);
        // 67 025C
        gbc.setState(0xed34, 0x9a68, 0x2db0, 0x299e, 0x98ed, 0xa34a, 0x0, 0x0);
        gbc.writeMem(0xed34, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x9a68);
        EXPECT(gbc.pc(), 0xed35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed34), 0x67);
        // 67 025D
        gbc.setState(0x203c, 0x5926, 0x1800, 0x35ee, 0x972b, 0xc0b2, 0x0, 0x1);
        gbc.writeMem(0x203c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x5926);
        EXPECT(gbc.pc(), 0x203d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 025E
        gbc.setState(0x4673, 0x1e1d, 0x8ef0, 0x6bf2, 0xc24a, 0x740, 0x1, 0x1);
        gbc.writeMem(0x4673, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x1e1d);
        EXPECT(gbc.pc(), 0x4674);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 025F
        gbc.setState(0xaa97, 0x1b9a, 0x5030, 0xdd84, 0xa056, 0x2cb8, 0x1, 0x1);
        gbc.writeMem(0xaa97, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x1b9a);
        EXPECT(gbc.pc(), 0xaa98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa97), 0x67);
        // 67 0260
        gbc.setState(0xe6a5, 0x51b2, 0x52e0, 0xa99e, 0x1dd1, 0x6774, 0x1, 0x0);
        gbc.writeMem(0xe6a5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x51b2);
        EXPECT(gbc.pc(), 0xe6a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6a5), 0x67);
        // 67 0261
        gbc.setState(0xd972, 0x4ec4, 0x5cc0, 0x4e0c, 0x78a2, 0x77d2, 0x0, 0x1);
        gbc.writeMem(0xd972, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x4ec4);
        EXPECT(gbc.pc(), 0xd973);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd972), 0x67);
        // 67 0262
        gbc.setState(0x8d8f, 0xc524, 0x3620, 0xb6c6, 0x5306, 0xe0e2, 0x0, 0x1);
        gbc.writeMem(0x8d8f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xc524);
        EXPECT(gbc.pc(), 0x8d90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d8f), 0x67);
        // 67 0263
        gbc.setState(0x7a20, 0x8e56, 0x5270, 0x78f1, 0x37d0, 0x8b88, 0x0, 0x0);
        gbc.writeMem(0x7a20, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x8e56);
        EXPECT(gbc.pc(), 0x7a21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0264
        gbc.setState(0xee91, 0x58c3, 0x3340, 0x2e26, 0x8e43, 0x70e9, 0x0, 0x1);
        gbc.writeMem(0xee91, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x58c3);
        EXPECT(gbc.pc(), 0xee92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee91), 0x67);
        // 67 0265
        gbc.setState(0x7943, 0x414f, 0xe7a0, 0xbb80, 0x74fd, 0xf657, 0x0, 0x0);
        gbc.writeMem(0x7943, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x414f);
        EXPECT(gbc.pc(), 0x7944);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0267
        gbc.setState(0x904e, 0xa1e3, 0x5a30, 0xac03, 0x22bb, 0xb288, 0x0, 0x0);
        gbc.writeMem(0x904e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xa1e3);
        EXPECT(gbc.pc(), 0x904f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x904e), 0x67);
        // 67 0268
        gbc.setState(0x79ac, 0xb14, 0x7650, 0xb9f7, 0xc911, 0x8e5e, 0x1, 0x0);
        gbc.writeMem(0x79ac, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xb14);
        EXPECT(gbc.pc(), 0x79ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0269
        gbc.setState(0x76a0, 0xc11, 0x81c0, 0x39be, 0x560b, 0x6a33, 0x1, 0x0);
        gbc.writeMem(0x76a0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xc11);
        EXPECT(gbc.pc(), 0x76a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 026A
        gbc.setState(0x3c41, 0x20e7, 0x33d0, 0x1165, 0xaad, 0x636f, 0x1, 0x0);
        gbc.writeMem(0x3c41, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x20e7);
        EXPECT(gbc.pc(), 0x3c42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 026C
        gbc.setState(0x2e02, 0x3f58, 0xa150, 0x7087, 0xac22, 0x751b, 0x0, 0x0);
        gbc.writeMem(0x2e02, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x3f58);
        EXPECT(gbc.pc(), 0x2e03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 026D
        gbc.setState(0x10b7, 0xe665, 0xe560, 0xd9f4, 0x4e5a, 0x40ca, 0x1, 0x1);
        gbc.writeMem(0x10b7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xe665);
        EXPECT(gbc.pc(), 0x10b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 026E
        gbc.setState(0xb88b, 0xf89c, 0xfae0, 0xcf2f, 0xf8f4, 0x576, 0x0, 0x1);
        gbc.writeMem(0xb88b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xf89c);
        EXPECT(gbc.pc(), 0xb88c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb88b), 0x67);
        // 67 026F
        gbc.setState(0x4edb, 0x9fa8, 0xfa90, 0xd6f3, 0xf129, 0x80ac, 0x0, 0x0);
        gbc.writeMem(0x4edb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x9fa8);
        EXPECT(gbc.pc(), 0x4edc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0270
        gbc.setState(0xc50a, 0x39d5, 0xb020, 0x589f, 0xd3eb, 0xe644, 0x0, 0x0);
        gbc.writeMem(0xc50a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x39d5);
        EXPECT(gbc.pc(), 0xc50b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc50a), 0x67);
        // 67 0271
        gbc.setState(0x8988, 0x13a4, 0x8860, 0x82d3, 0x2491, 0x905, 0x0, 0x1);
        gbc.writeMem(0x8988, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x13a4);
        EXPECT(gbc.pc(), 0x8989);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8988), 0x67);
        // 67 0272
        gbc.setState(0x8e56, 0x32b0, 0xfd60, 0x21a9, 0x963c, 0x8053, 0x0, 0x1);
        gbc.writeMem(0x8e56, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x32b0);
        EXPECT(gbc.pc(), 0x8e57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e56), 0x67);
        // 67 0273
        gbc.setState(0x9d21, 0xc8c8, 0x72a0, 0x77c1, 0xbff8, 0xcfc1, 0x0, 0x0);
        gbc.writeMem(0x9d21, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xc8c8);
        EXPECT(gbc.pc(), 0x9d22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d21), 0x67);
        // 67 0274
        gbc.setState(0xae7e, 0x600, 0xf270, 0xf84a, 0xaab2, 0x399d, 0x1, 0x1);
        gbc.writeMem(0xae7e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x600);
        EXPECT(gbc.pc(), 0xae7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae7e), 0x67);
        // 67 0275
        gbc.setState(0xa1bb, 0x6e00, 0x4b0, 0xc3a3, 0x2136, 0x4736, 0x1, 0x0);
        gbc.writeMem(0xa1bb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x6e00);
        EXPECT(gbc.pc(), 0xa1bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1bb), 0x67);
        // 67 0276
        gbc.setState(0x5da8, 0x8722, 0x8310, 0xb352, 0x9f40, 0x7805, 0x0, 0x0);
        gbc.writeMem(0x5da8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x8722);
        EXPECT(gbc.pc(), 0x5da9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0277
        gbc.setState(0x5cbe, 0xdd89, 0x6fc0, 0x5b70, 0xf630, 0x667c, 0x1, 0x1);
        gbc.writeMem(0x5cbe, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xdd89);
        EXPECT(gbc.pc(), 0x5cbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0278
        gbc.setState(0x92b2, 0x1ca7, 0x1130, 0x8fa, 0xc521, 0xe68b, 0x1, 0x0);
        gbc.writeMem(0x92b2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x1ca7);
        EXPECT(gbc.pc(), 0x92b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92b2), 0x67);
        // 67 0279
        gbc.setState(0x207e, 0x7868, 0x5f30, 0xc54, 0x661a, 0x35a7, 0x1, 0x0);
        gbc.writeMem(0x207e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x7868);
        EXPECT(gbc.pc(), 0x207f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 027A
        gbc.setState(0xc66, 0xb45d, 0xcfa0, 0xe2aa, 0x7a17, 0x78da, 0x0, 0x0);
        gbc.writeMem(0xc66, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xb45d);
        EXPECT(gbc.pc(), 0xc67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 027B
        gbc.setState(0x4412, 0x2dd9, 0x9780, 0x9371, 0xd83, 0xa45c, 0x0, 0x1);
        gbc.writeMem(0x4412, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x2dd9);
        EXPECT(gbc.pc(), 0x4413);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 027C
        gbc.setState(0xae8e, 0x3cd3, 0xffa0, 0xe260, 0x3190, 0x7a24, 0x1, 0x0);
        gbc.writeMem(0xae8e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x3cd3);
        EXPECT(gbc.pc(), 0xae8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae8e), 0x67);
        // 67 027D
        gbc.setState(0x3a91, 0x2252, 0x5100, 0x4b08, 0xee5d, 0xece2, 0x1, 0x0);
        gbc.writeMem(0x3a91, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x2252);
        EXPECT(gbc.pc(), 0x3a92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 027E
        gbc.setState(0x5ef4, 0xfa02, 0x60d0, 0x29ea, 0x7351, 0x6710, 0x1, 0x1);
        gbc.writeMem(0x5ef4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xfa02);
        EXPECT(gbc.pc(), 0x5ef5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 027F
        gbc.setState(0xee1a, 0x417, 0xd1b0, 0xb5ca, 0xdb1c, 0x3264, 0x1, 0x1);
        gbc.writeMem(0xee1a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x417);
        EXPECT(gbc.pc(), 0xee1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee1a), 0x67);
        // 67 0280
        gbc.setState(0xa00e, 0xfc94, 0xc870, 0x1956, 0x8c45, 0x53fe, 0x0, 0x0);
        gbc.writeMem(0xa00e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xfc94);
        EXPECT(gbc.pc(), 0xa00f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa00e), 0x67);
        // 67 0282
        gbc.setState(0x919, 0xa197, 0x91f0, 0xac7a, 0x314d, 0x393e, 0x0, 0x0);
        gbc.writeMem(0x919, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xa197);
        EXPECT(gbc.pc(), 0x91a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0283
        gbc.setState(0xd496, 0x3af2, 0x3c40, 0x6829, 0x7f98, 0xe96b, 0x1, 0x1);
        gbc.writeMem(0xd496, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x3af2);
        EXPECT(gbc.pc(), 0xd497);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd496), 0x67);
        // 67 0284
        gbc.setState(0xe7e, 0x8b6d, 0x480, 0x9ff, 0xf43, 0x395b, 0x0, 0x1);
        gbc.writeMem(0xe7e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x8b6d);
        EXPECT(gbc.pc(), 0xe7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0285
        gbc.setState(0x3fb5, 0x2eb6, 0x14b0, 0x56b9, 0xa2e1, 0x11ba, 0x0, 0x0);
        gbc.writeMem(0x3fb5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x2eb6);
        EXPECT(gbc.pc(), 0x3fb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0286
        gbc.setState(0x5486, 0xf2f6, 0x2340, 0x95e4, 0x139d, 0x8d1e, 0x1, 0x0);
        gbc.writeMem(0x5486, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xf2f6);
        EXPECT(gbc.pc(), 0x5487);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0287
        gbc.setState(0x7c4e, 0xa769, 0xf3d0, 0x607d, 0x641d, 0xcd8e, 0x1, 0x0);
        gbc.writeMem(0x7c4e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xa769);
        EXPECT(gbc.pc(), 0x7c4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0288
        gbc.setState(0xe704, 0x43e7, 0x2a00, 0x6844, 0x20c9, 0x1b72, 0x1, 0x1);
        gbc.writeMem(0xe704, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x43e7);
        EXPECT(gbc.pc(), 0xe705);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe704), 0x67);
        // 67 0289
        gbc.setState(0xb596, 0x421b, 0x5de0, 0x9d44, 0x163b, 0x9ed9, 0x1, 0x1);
        gbc.writeMem(0xb596, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x421b);
        EXPECT(gbc.pc(), 0xb597);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb596), 0x67);
        // 67 028A
        gbc.setState(0xa858, 0xce25, 0xaea0, 0xcb29, 0xdcf9, 0xb208, 0x0, 0x0);
        gbc.writeMem(0xa858, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xce25);
        EXPECT(gbc.pc(), 0xa859);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa858), 0x67);
        // 67 028B
        gbc.setState(0x8f6f, 0xb24, 0x27e0, 0xc03e, 0x3a1b, 0x3f9b, 0x0, 0x1);
        gbc.writeMem(0x8f6f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xb24);
        EXPECT(gbc.pc(), 0x8f70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f6f), 0x67);
        // 67 028C
        gbc.setState(0x7fa7, 0xb42b, 0xd790, 0x44e8, 0x4856, 0x530a, 0x1, 0x1);
        gbc.writeMem(0x7fa7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xb42b);
        EXPECT(gbc.pc(), 0x7fa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 028D
        gbc.setState(0x328d, 0xdb17, 0x74e0, 0xef33, 0x1523, 0x6b07, 0x1, 0x0);
        gbc.writeMem(0x328d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xdb17);
        EXPECT(gbc.pc(), 0x328e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 028E
        gbc.setState(0x278f, 0x706, 0xeea0, 0x5b71, 0xc6bd, 0xcdb5, 0x1, 0x1);
        gbc.writeMem(0x278f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x706);
        EXPECT(gbc.pc(), 0x2790);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 028F
        gbc.setState(0xbb76, 0x133a, 0xec40, 0xaff, 0x6cd2, 0x889f, 0x1, 0x0);
        gbc.writeMem(0xbb76, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x133a);
        EXPECT(gbc.pc(), 0xbb77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb76), 0x67);
        // 67 0290
        gbc.setState(0xc6af, 0x4424, 0x5a30, 0x8e69, 0x1814, 0x2964, 0x0, 0x1);
        gbc.writeMem(0xc6af, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x4424);
        EXPECT(gbc.pc(), 0xc6b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6af), 0x67);
        // 67 0291
        gbc.setState(0x35db, 0x3e4f, 0x28b0, 0x5f03, 0x8549, 0xdf0a, 0x1, 0x1);
        gbc.writeMem(0x35db, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x3e4f);
        EXPECT(gbc.pc(), 0x35dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0292
        gbc.setState(0x2c73, 0x2612, 0xd1e0, 0xa7a4, 0xb041, 0x7232, 0x1, 0x0);
        gbc.writeMem(0x2c73, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2612);
        EXPECT(gbc.pc(), 0x2c74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0293
        gbc.setState(0x2da8, 0xa259, 0xc110, 0xb182, 0x1ae6, 0xb346, 0x0, 0x1);
        gbc.writeMem(0x2da8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xa259);
        EXPECT(gbc.pc(), 0x2da9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0294
        gbc.setState(0xd7a3, 0x6a5, 0x300, 0xb56d, 0x821f, 0x2f63, 0x0, 0x1);
        gbc.writeMem(0xd7a3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x6a5);
        EXPECT(gbc.pc(), 0xd7a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7a3), 0x67);
        // 67 0295
        gbc.setState(0x3f51, 0x596c, 0x2510, 0x8df2, 0xed25, 0x35df, 0x1, 0x0);
        gbc.writeMem(0x3f51, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x596c);
        EXPECT(gbc.pc(), 0x3f52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0296
        gbc.setState(0x2181, 0x95d1, 0x6310, 0xbaaf, 0xca98, 0x3da2, 0x1, 0x0);
        gbc.writeMem(0x2181, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x95d1);
        EXPECT(gbc.pc(), 0x2182);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0297
        gbc.setState(0x8862, 0x23a2, 0xa360, 0x20de, 0x2bb7, 0x981d, 0x1, 0x0);
        gbc.writeMem(0x8862, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x23a2);
        EXPECT(gbc.pc(), 0x8863);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8862), 0x67);
        // 67 0299
        gbc.setState(0xc2f5, 0x7c4, 0x5070, 0x205c, 0x3bc4, 0x8f7d, 0x0, 0x1);
        gbc.writeMem(0xc2f5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x7c4);
        EXPECT(gbc.pc(), 0xc2f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2f5), 0x67);
        // 67 029A
        gbc.setState(0xb84d, 0x8bbf, 0xe730, 0x9018, 0xc0bf, 0x4335, 0x1, 0x0);
        gbc.writeMem(0xb84d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x8bbf);
        EXPECT(gbc.pc(), 0xb84e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb84d), 0x67);
        // 67 029B
        gbc.setState(0x4c89, 0x664a, 0x7d40, 0x75ee, 0x3420, 0x8d92, 0x1, 0x0);
        gbc.writeMem(0x4c89, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x664a);
        EXPECT(gbc.pc(), 0x4c8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 029C
        gbc.setState(0xc628, 0xb826, 0x4720, 0xfd73, 0x4322, 0x895f, 0x1, 0x1);
        gbc.writeMem(0xc628, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xb826);
        EXPECT(gbc.pc(), 0xc629);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc628), 0x67);
        // 67 029D
        gbc.setState(0x7a15, 0x11b6, 0x34e0, 0x8c18, 0xcdfa, 0x36f8, 0x0, 0x1);
        gbc.writeMem(0x7a15, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x11b6);
        EXPECT(gbc.pc(), 0x7a16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 029E
        gbc.setState(0x9df0, 0x6777, 0xe650, 0xd51b, 0x8cff, 0xdd01, 0x0, 0x1);
        gbc.writeMem(0x9df0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x6777);
        EXPECT(gbc.pc(), 0x9df1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9df0), 0x67);
        // 67 029F
        gbc.setState(0x796, 0x34e6, 0x9030, 0x2681, 0x43eb, 0xcba4, 0x0, 0x1);
        gbc.writeMem(0x796, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x34e6);
        EXPECT(gbc.pc(), 0x797);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 02A0
        gbc.setState(0x23b8, 0x6d40, 0xc130, 0xcc67, 0x885b, 0x8fdb, 0x1, 0x0);
        gbc.writeMem(0x23b8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x6d40);
        EXPECT(gbc.pc(), 0x23b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 02A1
        gbc.setState(0x1fdc, 0xe2e9, 0xb670, 0xee23, 0x40cd, 0xf072, 0x1, 0x1);
        gbc.writeMem(0x1fdc, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xe2e9);
        EXPECT(gbc.pc(), 0x1fdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 02A2
        gbc.setState(0xed06, 0x4e7a, 0x6530, 0x1778, 0x83da, 0x365e, 0x1, 0x0);
        gbc.writeMem(0xed06, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x4e7a);
        EXPECT(gbc.pc(), 0xed07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed06), 0x67);
        // 67 02A3
        gbc.setState(0xb8ed, 0xc203, 0x15a0, 0x684f, 0x46da, 0xd712, 0x1, 0x1);
        gbc.writeMem(0xb8ed, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xc203);
        EXPECT(gbc.pc(), 0xb8ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8ed), 0x67);
        // 67 02A4
        gbc.setState(0xc1c5, 0x3f9a, 0x9a30, 0xdb68, 0x77d5, 0x6e03, 0x1, 0x0);
        gbc.writeMem(0xc1c5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x3f9a);
        EXPECT(gbc.pc(), 0xc1c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1c5), 0x67);
        // 67 02A5
        gbc.setState(0xd9d4, 0x5301, 0xd540, 0xbd31, 0x779b, 0x43b0, 0x1, 0x0);
        gbc.writeMem(0xd9d4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x5301);
        EXPECT(gbc.pc(), 0xd9d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9d4), 0x67);
        // 67 02A6
        gbc.setState(0x48cd, 0xf703, 0x3860, 0x82c3, 0x8b70, 0x152f, 0x1, 0x0);
        gbc.writeMem(0x48cd, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xf703);
        EXPECT(gbc.pc(), 0x48ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02A7
        gbc.setState(0x74be, 0x4f2f, 0x12a0, 0x90dc, 0x14, 0xc00c, 0x1, 0x0);
        gbc.writeMem(0x74be, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x4f2f);
        EXPECT(gbc.pc(), 0x74bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02A8
        gbc.setState(0xe99c, 0xc255, 0x86a0, 0x29de, 0x599d, 0x3d90, 0x0, 0x0);
        gbc.writeMem(0xe99c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xc255);
        EXPECT(gbc.pc(), 0xe99d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe99c), 0x67);
        // 67 02A9
        gbc.setState(0x7f53, 0x5f39, 0x9b00, 0x29b4, 0xc601, 0x1471, 0x0, 0x0);
        gbc.writeMem(0x7f53, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x5f39);
        EXPECT(gbc.pc(), 0x7f54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 02AA
        gbc.setState(0x82b6, 0x539, 0x5090, 0x8751, 0x23ca, 0x2f8f, 0x0, 0x0);
        gbc.writeMem(0x82b6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x539);
        EXPECT(gbc.pc(), 0x82b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82b6), 0x67);
        // 67 02AB
        gbc.setState(0x498b, 0xc58f, 0xa130, 0xb1ed, 0x1ee7, 0x60fd, 0x1, 0x1);
        gbc.writeMem(0x498b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc58f);
        EXPECT(gbc.pc(), 0x498c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 02AC
        gbc.setState(0x251f, 0xd470, 0xe000, 0xe7a0, 0xf086, 0xe960, 0x0, 0x0);
        gbc.writeMem(0x251f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xd470);
        EXPECT(gbc.pc(), 0x2520);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 02AD
        gbc.setState(0x8ac1, 0xcc0d, 0xa100, 0xe932, 0xa973, 0x493a, 0x1, 0x0);
        gbc.writeMem(0x8ac1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xcc0d);
        EXPECT(gbc.pc(), 0x8ac2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ac1), 0x67);
        // 67 02AE
        gbc.setState(0x5968, 0xc3fb, 0x82d0, 0xdec3, 0x73e7, 0xe813, 0x0, 0x1);
        gbc.writeMem(0x5968, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xc3fb);
        EXPECT(gbc.pc(), 0x5969);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 02B0
        gbc.setState(0x4f60, 0x5ede, 0x18e0, 0x2f1e, 0x21e4, 0x1956, 0x1, 0x0);
        gbc.writeMem(0x4f60, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x5ede);
        EXPECT(gbc.pc(), 0x4f61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02B2
        gbc.setState(0x1a13, 0xa477, 0x4690, 0x8a1d, 0x8639, 0x4cd6, 0x0, 0x0);
        gbc.writeMem(0x1a13, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xa477);
        EXPECT(gbc.pc(), 0x1a14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 02B3
        gbc.setState(0x21c, 0x1267, 0x65a0, 0x1664, 0x367d, 0x83a8, 0x1, 0x0);
        gbc.writeMem(0x21c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x1267);
        EXPECT(gbc.pc(), 0x21d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02B4
        gbc.setState(0x9b4a, 0x4391, 0x2160, 0x563b, 0x6e88, 0x3a0d, 0x0, 0x1);
        gbc.writeMem(0x9b4a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x4391);
        EXPECT(gbc.pc(), 0x9b4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b4a), 0x67);
        // 67 02B5
        gbc.setState(0xcdcf, 0xe248, 0xc9a0, 0xc64d, 0x4108, 0xb74, 0x1, 0x0);
        gbc.writeMem(0xcdcf, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xe248);
        EXPECT(gbc.pc(), 0xcdd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdcf), 0x67);
        // 67 02B6
        gbc.setState(0x3945, 0xc403, 0xed60, 0xf59f, 0x28, 0x4f92, 0x0, 0x1);
        gbc.writeMem(0x3945, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xc403);
        EXPECT(gbc.pc(), 0x3946);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02B7
        gbc.setState(0x2d99, 0x51ce, 0x3100, 0x146d, 0x4887, 0x630a, 0x0, 0x0);
        gbc.writeMem(0x2d99, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x51ce);
        EXPECT(gbc.pc(), 0x2d9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 02B8
        gbc.setState(0x31b1, 0xf575, 0xd3a0, 0x1c13, 0xa4bb, 0x4865, 0x1, 0x0);
        gbc.writeMem(0x31b1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xf575);
        EXPECT(gbc.pc(), 0x31b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02B9
        gbc.setState(0x2d0d, 0xfba3, 0xcbb0, 0xebd8, 0xd86b, 0x171a, 0x0, 0x1);
        gbc.writeMem(0x2d0d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xfba3);
        EXPECT(gbc.pc(), 0x2d0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 02BA
        gbc.setState(0x68be, 0xda6f, 0x7e50, 0xf9a4, 0xb632, 0x6226, 0x1, 0x0);
        gbc.writeMem(0x68be, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xda6f);
        EXPECT(gbc.pc(), 0x68bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 02BB
        gbc.setState(0x639a, 0x677b, 0x8de0, 0x597a, 0x454, 0x448b, 0x0, 0x1);
        gbc.writeMem(0x639a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x677b);
        EXPECT(gbc.pc(), 0x639b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02BC
        gbc.setState(0x2822, 0xf788, 0x5760, 0x3c60, 0x6d72, 0xe622, 0x1, 0x1);
        gbc.writeMem(0x2822, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xf788);
        EXPECT(gbc.pc(), 0x2823);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02BD
        gbc.setState(0x3362, 0xe4bf, 0xb50, 0xfbee, 0xd60d, 0xef77, 0x1, 0x0);
        gbc.writeMem(0x3362, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xe4bf);
        EXPECT(gbc.pc(), 0x3363);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 02BE
        gbc.setState(0x845e, 0x6c2b, 0xab70, 0xc18d, 0x69a, 0x8715, 0x1, 0x1);
        gbc.writeMem(0x845e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x6c2b);
        EXPECT(gbc.pc(), 0x845f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x845e), 0x67);
        // 67 02BF
        gbc.setState(0xcc71, 0x1dc9, 0x1c00, 0x2464, 0xf46c, 0x49d1, 0x1, 0x1);
        gbc.writeMem(0xcc71, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x1dc9);
        EXPECT(gbc.pc(), 0xcc72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc71), 0x67);
        // 67 02C0
        gbc.setState(0x233c, 0xdacc, 0xc7e0, 0xaf6a, 0xc6de, 0x4038, 0x0, 0x1);
        gbc.writeMem(0x233c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xdacc);
        EXPECT(gbc.pc(), 0x233d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02C1
        gbc.setState(0x18c6, 0xd093, 0x8840, 0xd2eb, 0x96f2, 0x1860, 0x0, 0x0);
        gbc.writeMem(0x18c6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xd093);
        EXPECT(gbc.pc(), 0x18c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 02C2
        gbc.setState(0xa059, 0xb6a6, 0x8800, 0x5050, 0x111, 0x171, 0x1, 0x1);
        gbc.writeMem(0xa059, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xb6a6);
        EXPECT(gbc.pc(), 0xa05a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa059), 0x67);
        // 67 02C3
        gbc.setState(0xd9e7, 0x87aa, 0xddc0, 0x8cd, 0x825a, 0x7aeb, 0x1, 0x0);
        gbc.writeMem(0xd9e7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x87aa);
        EXPECT(gbc.pc(), 0xd9e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9e7), 0x67);
        // 67 02C4
        gbc.setState(0xbb4, 0xa0c3, 0xf9a0, 0xa92a, 0x5c60, 0xb4d5, 0x0, 0x1);
        gbc.writeMem(0xbb4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xa0c3);
        EXPECT(gbc.pc(), 0xbb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02C5
        gbc.setState(0x31d3, 0xec95, 0x8d40, 0xe2e0, 0x526b, 0x373f, 0x1, 0x1);
        gbc.writeMem(0x31d3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xec95);
        EXPECT(gbc.pc(), 0x31d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 02C6
        gbc.setState(0x6cfb, 0x8fbb, 0xee60, 0x5e26, 0x5de0, 0x199e, 0x0, 0x1);
        gbc.writeMem(0x6cfb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x8fbb);
        EXPECT(gbc.pc(), 0x6cfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02C7
        gbc.setState(0x5f3c, 0x5ebc, 0xac20, 0xb034, 0xf806, 0x4a4b, 0x1, 0x1);
        gbc.writeMem(0x5f3c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x5ebc);
        EXPECT(gbc.pc(), 0x5f3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02C8
        gbc.setState(0x9fc7, 0x86b8, 0xad70, 0x9912, 0xdba1, 0x3a98, 0x0, 0x0);
        gbc.writeMem(0x9fc7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x86b8);
        EXPECT(gbc.pc(), 0x9fc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fc7), 0x67);
        // 67 02C9
        gbc.setState(0x7009, 0xb4fd, 0x7390, 0x18f3, 0xd249, 0xfa5d, 0x0, 0x0);
        gbc.writeMem(0x7009, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xb4fd);
        EXPECT(gbc.pc(), 0x700a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 02CA
        gbc.setState(0x2a52, 0xf48, 0x68a0, 0x1f, 0x2e8b, 0x3d2f, 0x1, 0x1);
        gbc.writeMem(0x2a52, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xf48);
        EXPECT(gbc.pc(), 0x2a53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02CB
        gbc.setState(0x2d4b, 0x53a8, 0xa4c0, 0xf0fe, 0xc859, 0xa7b0, 0x1, 0x0);
        gbc.writeMem(0x2d4b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x53a8);
        EXPECT(gbc.pc(), 0x2d4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 02CD
        gbc.setState(0x7aa7, 0x831, 0x20e0, 0x9b63, 0xb8c6, 0xa75d, 0x0, 0x1);
        gbc.writeMem(0x7aa7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x831);
        EXPECT(gbc.pc(), 0x7aa8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02CF
        gbc.setState(0xcd2e, 0xd739, 0x72c0, 0x4ed8, 0x91c8, 0x5f81, 0x1, 0x1);
        gbc.writeMem(0xcd2e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xd739);
        EXPECT(gbc.pc(), 0xcd2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd2e), 0x67);
        // 67 02D0
        gbc.setState(0x963, 0x7319, 0x12d0, 0x7965, 0x6bd3, 0x2389, 0x1, 0x1);
        gbc.writeMem(0x963, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x7319);
        EXPECT(gbc.pc(), 0x964);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 02D1
        gbc.setState(0x267d, 0x3ef8, 0xdf10, 0xf971, 0xa85b, 0xd4c8, 0x0, 0x0);
        gbc.writeMem(0x267d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x3ef8);
        EXPECT(gbc.pc(), 0x267e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 02D2
        gbc.setState(0xea85, 0x9671, 0x240, 0xd94d, 0x14d5, 0x1a4e, 0x1, 0x0);
        gbc.writeMem(0xea85, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x9671);
        EXPECT(gbc.pc(), 0xea86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea85), 0x67);
        // 67 02D3
        gbc.setState(0x63b, 0xffdb, 0x6e80, 0xb6d1, 0xcfed, 0xd4de, 0x1, 0x1);
        gbc.writeMem(0x63b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xffdb);
        EXPECT(gbc.pc(), 0x63c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 02D4
        gbc.setState(0x1941, 0x251b, 0x14b0, 0xe651, 0x2ac2, 0x834a, 0x1, 0x1);
        gbc.writeMem(0x1941, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x251b);
        EXPECT(gbc.pc(), 0x1942);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 02D5
        gbc.setState(0xe034, 0x4e64, 0x10c0, 0x75d8, 0x3e57, 0xa0b4, 0x1, 0x0);
        gbc.writeMem(0xe034, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x4e64);
        EXPECT(gbc.pc(), 0xe035);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe034), 0x67);
        // 67 02D6
        gbc.setState(0x7823, 0x6484, 0x7940, 0x1fbd, 0x8881, 0x30c5, 0x0, 0x1);
        gbc.writeMem(0x7823, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x6484);
        EXPECT(gbc.pc(), 0x7824);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 02D7
        gbc.setState(0x9705, 0x8ef1, 0xce90, 0xcb31, 0xa3e5, 0xc79e, 0x0, 0x0);
        gbc.writeMem(0x9705, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x8ef1);
        EXPECT(gbc.pc(), 0x9706);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9705), 0x67);
        // 67 02D8
        gbc.setState(0x5455, 0xa287, 0x9b60, 0x3f7d, 0x2265, 0x4003, 0x1, 0x1);
        gbc.writeMem(0x5455, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa287);
        EXPECT(gbc.pc(), 0x5456);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02D9
        gbc.setState(0xdd28, 0xbde2, 0x6740, 0xfa0d, 0x6b2b, 0x3327, 0x0, 0x0);
        gbc.writeMem(0xdd28, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xbde2);
        EXPECT(gbc.pc(), 0xdd29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd28), 0x67);
        // 67 02DA
        gbc.setState(0xa3c4, 0x9778, 0x3bd0, 0xc6a7, 0x86cd, 0xdb84, 0x1, 0x0);
        gbc.writeMem(0xa3c4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x9778);
        EXPECT(gbc.pc(), 0xa3c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3c4), 0x67);
        // 67 02DB
        gbc.setState(0xc3e1, 0x9562, 0xe780, 0x2aa7, 0x31e7, 0xee32, 0x0, 0x1);
        gbc.writeMem(0xc3e1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x9562);
        EXPECT(gbc.pc(), 0xc3e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3e1), 0x67);
        // 67 02DC
        gbc.setState(0x6419, 0x72ff, 0xabd0, 0xaa04, 0xa76, 0x50b3, 0x1, 0x0);
        gbc.writeMem(0x6419, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x72ff);
        EXPECT(gbc.pc(), 0x641a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 02DD
        gbc.setState(0x6453, 0xc24e, 0xc640, 0x4897, 0x823c, 0x7dd7, 0x1, 0x1);
        gbc.writeMem(0x6453, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xc24e);
        EXPECT(gbc.pc(), 0x6454);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 02DE
        gbc.setState(0xcfa1, 0x376, 0x1e70, 0x3161, 0x4016, 0x7a8e, 0x1, 0x1);
        gbc.writeMem(0xcfa1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x376);
        EXPECT(gbc.pc(), 0xcfa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfa1), 0x67);
        // 67 02DF
        gbc.setState(0x199f, 0xa1b7, 0xea20, 0x89a4, 0xbb58, 0xaf, 0x1, 0x0);
        gbc.writeMem(0x199f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xa1b7);
        EXPECT(gbc.pc(), 0x19a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02E0
        gbc.setState(0xbe1c, 0xd9af, 0x51c0, 0x2e25, 0x2aa, 0x39e3, 0x1, 0x0);
        gbc.writeMem(0xbe1c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xd9af);
        EXPECT(gbc.pc(), 0xbe1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe1c), 0x67);
        // 67 02E1
        gbc.setState(0x7a65, 0x500, 0x5c20, 0x7530, 0x85f1, 0xeec5, 0x0, 0x0);
        gbc.writeMem(0x7a65, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x500);
        EXPECT(gbc.pc(), 0x7a66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02E2
        gbc.setState(0x86cd, 0x826, 0x3450, 0x9a0b, 0x4ea0, 0xd419, 0x0, 0x1);
        gbc.writeMem(0x86cd, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x826);
        EXPECT(gbc.pc(), 0x86ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86cd), 0x67);
        // 67 02E3
        gbc.setState(0x744, 0x9187, 0x1800, 0xa487, 0xcad9, 0x890f, 0x0, 0x1);
        gbc.writeMem(0x744, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x9187);
        EXPECT(gbc.pc(), 0x745);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 02E4
        gbc.setState(0x244f, 0xbffd, 0xaab0, 0xa0c3, 0x392e, 0xeafc, 0x1, 0x0);
        gbc.writeMem(0x244f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xbffd);
        EXPECT(gbc.pc(), 0x2450);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 02E5
        gbc.setState(0x6be6, 0xf271, 0x6e50, 0xbb67, 0xfcba, 0x53cd, 0x0, 0x1);
        gbc.writeMem(0x6be6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf271);
        EXPECT(gbc.pc(), 0x6be7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 02E6
        gbc.setState(0xbc59, 0x94fc, 0x7310, 0x3a91, 0x39d1, 0x9787, 0x1, 0x0);
        gbc.writeMem(0xbc59, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x94fc);
        EXPECT(gbc.pc(), 0xbc5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc59), 0x67);
        // 67 02E7
        gbc.setState(0xddb1, 0x702a, 0xd970, 0x975e, 0x87ed, 0x3fba, 0x1, 0x0);
        gbc.writeMem(0xddb1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x702a);
        EXPECT(gbc.pc(), 0xddb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddb1), 0x67);
        // 67 02E8
        gbc.setState(0x3093, 0xb0a4, 0x960, 0x154c, 0xad73, 0x2d2e, 0x1, 0x1);
        gbc.writeMem(0x3093, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xb0a4);
        EXPECT(gbc.pc(), 0x3094);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02E9
        gbc.setState(0xb341, 0xf63, 0x7780, 0xa5f2, 0x670, 0xad32, 0x1, 0x0);
        gbc.writeMem(0xb341, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xf63);
        EXPECT(gbc.pc(), 0xb342);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb341), 0x67);
        // 67 02EA
        gbc.setState(0x38e5, 0xa0b, 0x9680, 0x9b6, 0x50e, 0xdc2c, 0x1, 0x1);
        gbc.writeMem(0x38e5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xa0b);
        EXPECT(gbc.pc(), 0x38e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 02EB
        gbc.setState(0x4a3c, 0xeed0, 0x6950, 0xc10f, 0xf80, 0x9eff, 0x0, 0x0);
        gbc.writeMem(0x4a3c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xeed0);
        EXPECT(gbc.pc(), 0x4a3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 02EC
        gbc.setState(0xa19c, 0xe7ab, 0x6270, 0x38d6, 0xc02b, 0x5cfe, 0x1, 0x1);
        gbc.writeMem(0xa19c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe7ab);
        EXPECT(gbc.pc(), 0xa19d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa19c), 0x67);
        // 67 02ED
        gbc.setState(0xbcb8, 0xc80, 0xd730, 0x6a8c, 0x5d50, 0x5fe2, 0x1, 0x1);
        gbc.writeMem(0xbcb8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xc80);
        EXPECT(gbc.pc(), 0xbcb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcb8), 0x67);
        // 67 02EE
        gbc.setState(0xaee, 0xa41c, 0xd3b0, 0xdd76, 0x2956, 0xddf, 0x0, 0x0);
        gbc.writeMem(0xaee, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xa41c);
        EXPECT(gbc.pc(), 0xaef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 02EF
        gbc.setState(0xede8, 0xccf1, 0xa440, 0x66cd, 0x567b, 0xfd2d, 0x1, 0x0);
        gbc.writeMem(0xede8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xccf1);
        EXPECT(gbc.pc(), 0xede9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xede8), 0x67);
        // 67 02F0
        gbc.setState(0x338d, 0x927c, 0xb9f0, 0xbfbe, 0x806b, 0x7c3e, 0x0, 0x0);
        gbc.writeMem(0x338d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x927c);
        EXPECT(gbc.pc(), 0x338e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 02F1
        gbc.setState(0x69d6, 0x2be4, 0x5ce0, 0xe6c7, 0x1369, 0x3aaa, 0x0, 0x1);
        gbc.writeMem(0x69d6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x2be4);
        EXPECT(gbc.pc(), 0x69d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02F2
        gbc.setState(0x87d8, 0xb95b, 0xc370, 0x85d0, 0x3982, 0xa63c, 0x0, 0x0);
        gbc.writeMem(0x87d8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xb95b);
        EXPECT(gbc.pc(), 0x87d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87d8), 0x67);
        // 67 02F3
        gbc.setState(0x849d, 0x616e, 0xa820, 0xa3e3, 0x196a, 0x2ae6, 0x1, 0x0);
        gbc.writeMem(0x849d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x616e);
        EXPECT(gbc.pc(), 0x849e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x849d), 0x67);
        // 67 02F4
        gbc.setState(0x6648, 0x2ebc, 0x7450, 0xffa1, 0x2e23, 0x7fe0, 0x1, 0x0);
        gbc.writeMem(0x6648, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x2ebc);
        EXPECT(gbc.pc(), 0x6649);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 02F5
        gbc.setState(0x36e8, 0xd92c, 0x2cb0, 0x939, 0xc4ac, 0x9114, 0x0, 0x1);
        gbc.writeMem(0x36e8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xd92c);
        EXPECT(gbc.pc(), 0x36e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 02F6
        gbc.setState(0x9a85, 0xa4b2, 0x7f60, 0x51c6, 0x90ad, 0x8144, 0x1, 0x0);
        gbc.writeMem(0x9a85, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xa4b2);
        EXPECT(gbc.pc(), 0x9a86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a85), 0x67);
        // 67 02F7
        gbc.setState(0x5e8d, 0x676e, 0x37e0, 0x95fc, 0xaeb8, 0x52d2, 0x1, 0x1);
        gbc.writeMem(0x5e8d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x676e);
        EXPECT(gbc.pc(), 0x5e8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02F8
        gbc.setState(0xb37f, 0x6774, 0x36e0, 0xc24e, 0x67a1, 0x2064, 0x1, 0x1);
        gbc.writeMem(0xb37f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x6774);
        EXPECT(gbc.pc(), 0xb380);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb37f), 0x67);
        // 67 02F9
        gbc.setState(0x49e8, 0xa38b, 0x45d0, 0xd162, 0x765e, 0xf9a, 0x0, 0x1);
        gbc.writeMem(0x49e8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xa38b);
        EXPECT(gbc.pc(), 0x49e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 02FA
        gbc.setState(0x42b0, 0x94fd, 0xec20, 0xa30c, 0x6f54, 0x19e3, 0x1, 0x1);
        gbc.writeMem(0x42b0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x94fd);
        EXPECT(gbc.pc(), 0x42b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 02FD
        gbc.setState(0x221e, 0x32a8, 0xc480, 0xcd2d, 0x53ae, 0x8d28, 0x1, 0x1);
        gbc.writeMem(0x221e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x32a8);
        EXPECT(gbc.pc(), 0x221f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 02FE
        gbc.setState(0x8ee4, 0x3676, 0x8d00, 0xd7ce, 0x68da, 0xf677, 0x0, 0x1);
        gbc.writeMem(0x8ee4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x3676);
        EXPECT(gbc.pc(), 0x8ee5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ee4), 0x67);
        // 67 02FF
        gbc.setState(0xa29c, 0x1bee, 0xc0, 0x43a9, 0x4e21, 0x945e, 0x1, 0x1);
        gbc.writeMem(0xa29c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x1bee);
        EXPECT(gbc.pc(), 0xa29d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa29c), 0x67);
        // 67 0300
        gbc.setState(0xe744, 0xc364, 0x3c90, 0x5a4, 0x77a9, 0x88ce, 0x0, 0x0);
        gbc.writeMem(0xe744, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xc364);
        EXPECT(gbc.pc(), 0xe745);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe744), 0x67);
        // 67 0301
        gbc.setState(0xf90, 0x6cca, 0x8f10, 0x54d8, 0x820d, 0xff84, 0x0, 0x1);
        gbc.writeMem(0xf90, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x6cca);
        EXPECT(gbc.pc(), 0xf91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0302
        gbc.setState(0xe000, 0xbe8, 0xd590, 0x4a6, 0xd630, 0x6b2f, 0x0, 0x0);
        gbc.writeMem(0xe000, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xbe8);
        EXPECT(gbc.pc(), 0xe001);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe000), 0x67);
        // 67 0303
        gbc.setState(0xd30, 0xb0ae, 0x47d0, 0x3b53, 0x41b0, 0xd515, 0x1, 0x1);
        gbc.writeMem(0xd30, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xb0ae);
        EXPECT(gbc.pc(), 0xd31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0304
        gbc.setState(0xe6a0, 0xdcd5, 0x67b0, 0x6d6d, 0x57f, 0x959a, 0x1, 0x1);
        gbc.writeMem(0xe6a0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xdcd5);
        EXPECT(gbc.pc(), 0xe6a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6a0), 0x67);
        // 67 0305
        gbc.setState(0x985a, 0x1b35, 0xb920, 0xbcd, 0xe2f9, 0x326c, 0x1, 0x0);
        gbc.writeMem(0x985a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x1b35);
        EXPECT(gbc.pc(), 0x985b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x985a), 0x67);
        // 67 0306
        gbc.setState(0x47e9, 0x7336, 0x5df0, 0xf4e3, 0x32d7, 0x13a2, 0x1, 0x0);
        gbc.writeMem(0x47e9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x7336);
        EXPECT(gbc.pc(), 0x47ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0307
        gbc.setState(0x967d, 0x9f66, 0x3b50, 0x5a83, 0x1f05, 0xfb7a, 0x1, 0x1);
        gbc.writeMem(0x967d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x9f66);
        EXPECT(gbc.pc(), 0x967e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x967d), 0x67);
        // 67 0308
        gbc.setState(0xc901, 0xbd71, 0x2b50, 0xb8ea, 0x19b4, 0x29bb, 0x1, 0x1);
        gbc.writeMem(0xc901, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xbd71);
        EXPECT(gbc.pc(), 0xc902);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc901), 0x67);
        // 67 0309
        gbc.setState(0x3642, 0xba85, 0x6920, 0x42b8, 0x118, 0x4fe1, 0x1, 0x0);
        gbc.writeMem(0x3642, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xba85);
        EXPECT(gbc.pc(), 0x3643);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 030A
        gbc.setState(0xe26d, 0x8aab, 0x6560, 0x2e08, 0x9ce, 0xbf4f, 0x1, 0x1);
        gbc.writeMem(0xe26d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x8aab);
        EXPECT(gbc.pc(), 0xe26e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe26d), 0x67);
        // 67 030B
        gbc.setState(0xaa4c, 0xf5bd, 0x40c0, 0x109c, 0xd5d6, 0xfe, 0x1, 0x0);
        gbc.writeMem(0xaa4c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xf5bd);
        EXPECT(gbc.pc(), 0xaa4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa4c), 0x67);
        // 67 030C
        gbc.setState(0xba6b, 0x568b, 0xe780, 0x9e74, 0xae7b, 0x2368, 0x0, 0x1);
        gbc.writeMem(0xba6b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x568b);
        EXPECT(gbc.pc(), 0xba6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba6b), 0x67);
        // 67 030D
        gbc.setState(0xba40, 0xbea2, 0x16e0, 0x2a92, 0x5135, 0x7864, 0x1, 0x1);
        gbc.writeMem(0xba40, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xbea2);
        EXPECT(gbc.pc(), 0xba41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba40), 0x67);
        // 67 030F
        gbc.setState(0x490c, 0x2ce9, 0xae00, 0xaf1d, 0xfcfc, 0x347c, 0x1, 0x0);
        gbc.writeMem(0x490c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x2ce9);
        EXPECT(gbc.pc(), 0x490d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0310
        gbc.setState(0x7a8, 0xba7d, 0xd0f0, 0xa605, 0x622c, 0x374e, 0x1, 0x1);
        gbc.writeMem(0x7a8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xba7d);
        EXPECT(gbc.pc(), 0x7a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0311
        gbc.setState(0xc5d2, 0xa647, 0xbbf0, 0xd1b, 0x15e9, 0x82d3, 0x0, 0x0);
        gbc.writeMem(0xc5d2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xa647);
        EXPECT(gbc.pc(), 0xc5d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5d2), 0x67);
        // 67 0312
        gbc.setState(0xeb4b, 0x80dd, 0xffc0, 0xdc59, 0xfd73, 0x7eee, 0x0, 0x0);
        gbc.writeMem(0xeb4b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x80dd);
        EXPECT(gbc.pc(), 0xeb4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb4b), 0x67);
        // 67 0313
        gbc.setState(0x8a3f, 0xde2, 0xcf0, 0xa9ea, 0xca71, 0x989, 0x0, 0x0);
        gbc.writeMem(0x8a3f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xde2);
        EXPECT(gbc.pc(), 0x8a40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a3f), 0x67);
        // 67 0314
        gbc.setState(0x9978, 0x709f, 0x1060, 0xa679, 0x19ed, 0xdddf, 0x0, 0x1);
        gbc.writeMem(0x9978, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x709f);
        EXPECT(gbc.pc(), 0x9979);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9978), 0x67);
        // 67 0315
        gbc.setState(0x1024, 0x42ac, 0x9b60, 0xa98c, 0xc28, 0xf27a, 0x0, 0x1);
        gbc.writeMem(0x1024, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x42ac);
        EXPECT(gbc.pc(), 0x1025);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0316
        gbc.setState(0xdcc3, 0x9d5d, 0x9340, 0x8b15, 0x48e4, 0x1e0, 0x0, 0x0);
        gbc.writeMem(0xdcc3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x9d5d);
        EXPECT(gbc.pc(), 0xdcc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcc3), 0x67);
        // 67 0317
        gbc.setState(0x7af5, 0xfc4f, 0xbc50, 0xf53b, 0xbd41, 0x7be3, 0x1, 0x1);
        gbc.writeMem(0x7af5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xfc4f);
        EXPECT(gbc.pc(), 0x7af6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0318
        gbc.setState(0x6100, 0x4ca6, 0xe240, 0xc6fe, 0x9a57, 0xf6f5, 0x0, 0x1);
        gbc.writeMem(0x6100, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x4ca6);
        EXPECT(gbc.pc(), 0x6101);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0319
        gbc.setState(0xe0f8, 0x2f30, 0x9090, 0x3e80, 0xeec6, 0x2463, 0x1, 0x0);
        gbc.writeMem(0xe0f8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x2f30);
        EXPECT(gbc.pc(), 0xe0f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0f8), 0x67);
        // 67 031A
        gbc.setState(0xdfe3, 0x3207, 0x5af0, 0x4754, 0x31c3, 0xb3dd, 0x1, 0x1);
        gbc.writeMem(0xdfe3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x3207);
        EXPECT(gbc.pc(), 0xdfe4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfe3), 0x67);
        // 67 031B
        gbc.setState(0x9e1, 0x8304, 0x41a0, 0x6909, 0x9c2a, 0x1dc5, 0x1, 0x1);
        gbc.writeMem(0x9e1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x8304);
        EXPECT(gbc.pc(), 0x9e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 031C
        gbc.setState(0x6149, 0x826, 0xc300, 0x90ed, 0x763f, 0x15ce, 0x1, 0x0);
        gbc.writeMem(0x6149, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x826);
        EXPECT(gbc.pc(), 0x614a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 031D
        gbc.setState(0x740a, 0xf434, 0x7590, 0x523d, 0x3464, 0x7687, 0x0, 0x0);
        gbc.writeMem(0x740a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xf434);
        EXPECT(gbc.pc(), 0x740b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 031E
        gbc.setState(0x1935, 0x52bf, 0xad90, 0xfd39, 0x66eb, 0xa302, 0x0, 0x1);
        gbc.writeMem(0x1935, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x52bf);
        EXPECT(gbc.pc(), 0x1936);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 031F
        gbc.setState(0xd3c7, 0x732a, 0x1690, 0x649a, 0xf62a, 0xada3, 0x1, 0x0);
        gbc.writeMem(0xd3c7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x732a);
        EXPECT(gbc.pc(), 0xd3c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3c7), 0x67);
        // 67 0320
        gbc.setState(0x6416, 0x54fa, 0x63d0, 0xfac, 0x6765, 0xaf2b, 0x1, 0x0);
        gbc.writeMem(0x6416, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x54fa);
        EXPECT(gbc.pc(), 0x6417);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0321
        gbc.setState(0x23db, 0xcd91, 0xafc0, 0x16ca, 0x1f22, 0xf430, 0x1, 0x1);
        gbc.writeMem(0x23db, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xcd91);
        EXPECT(gbc.pc(), 0x23dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0322
        gbc.setState(0xc295, 0xdb4a, 0x8120, 0x98a3, 0xcd24, 0x3ef2, 0x1, 0x0);
        gbc.writeMem(0xc295, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xdb4a);
        EXPECT(gbc.pc(), 0xc296);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc295), 0x67);
        // 67 0323
        gbc.setState(0x7f5b, 0xeee2, 0x3800, 0x9cd9, 0xb984, 0x1370, 0x0, 0x0);
        gbc.writeMem(0x7f5b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xeee2);
        EXPECT(gbc.pc(), 0x7f5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0324
        gbc.setState(0x1245, 0x1cf7, 0x9220, 0xa435, 0x95bb, 0xfbb2, 0x0, 0x0);
        gbc.writeMem(0x1245, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x1cf7);
        EXPECT(gbc.pc(), 0x1246);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0325
        gbc.setState(0xf27, 0xff40, 0xa040, 0x2295, 0x3100, 0x9cf, 0x1, 0x0);
        gbc.writeMem(0xf27, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xff40);
        EXPECT(gbc.pc(), 0xf28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0326
        gbc.setState(0x70cb, 0x160, 0x13e0, 0x65bf, 0x4a6d, 0xad2c, 0x0, 0x0);
        gbc.writeMem(0x70cb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x160);
        EXPECT(gbc.pc(), 0x70cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0327
        gbc.setState(0x4502, 0x8bc2, 0xc310, 0x3b55, 0x268d, 0x698c, 0x1, 0x0);
        gbc.writeMem(0x4502, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x8bc2);
        EXPECT(gbc.pc(), 0x4503);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0328
        gbc.setState(0xd9e7, 0x47a0, 0x8ca0, 0x4d3b, 0x23a1, 0x393, 0x1, 0x1);
        gbc.writeMem(0xd9e7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x47a0);
        EXPECT(gbc.pc(), 0xd9e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9e7), 0x67);
        // 67 0329
        gbc.setState(0x7504, 0x2a4d, 0x5660, 0x79c9, 0xd17c, 0x82d5, 0x0, 0x0);
        gbc.writeMem(0x7504, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x2a4d);
        EXPECT(gbc.pc(), 0x7505);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 032A
        gbc.setState(0xef68, 0x46f6, 0xb5e0, 0x1973, 0x9510, 0xfabe, 0x0, 0x0);
        gbc.writeMem(0xef68, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x46f6);
        EXPECT(gbc.pc(), 0xef69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef68), 0x67);
        // 67 032B
        gbc.setState(0x52d4, 0xac4b, 0xccd0, 0x7f78, 0x81d8, 0x81b7, 0x0, 0x0);
        gbc.writeMem(0x52d4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xac4b);
        EXPECT(gbc.pc(), 0x52d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 032C
        gbc.setState(0xc14b, 0x6179, 0x24e0, 0xe2c, 0xf95b, 0x5740, 0x1, 0x0);
        gbc.writeMem(0xc14b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x6179);
        EXPECT(gbc.pc(), 0xc14c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc14b), 0x67);
        // 67 032D
        gbc.setState(0x8a58, 0xaf27, 0x1a70, 0xfef8, 0xf1b7, 0xe7f0, 0x0, 0x1);
        gbc.writeMem(0x8a58, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xaf27);
        EXPECT(gbc.pc(), 0x8a59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a58), 0x67);
        // 67 032E
        gbc.setState(0xd833, 0x89b9, 0x79f0, 0xbfdb, 0x7f3b, 0x7124, 0x1, 0x1);
        gbc.writeMem(0xd833, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x89b9);
        EXPECT(gbc.pc(), 0xd834);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd833), 0x67);
        // 67 032F
        gbc.setState(0x9d58, 0x60cc, 0x37c0, 0x4bc2, 0x9b2a, 0x5849, 0x0, 0x1);
        gbc.writeMem(0x9d58, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x60cc);
        EXPECT(gbc.pc(), 0x9d59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d58), 0x67);
        // 67 0330
        gbc.setState(0x74, 0xfdc9, 0x30f0, 0x884d, 0x5bb3, 0x16d4, 0x0, 0x1);
        gbc.writeMem(0x74, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xfdc9);
        EXPECT(gbc.pc(), 0x75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0331
        gbc.setState(0xad8c, 0x1ca, 0x8a30, 0xe2b0, 0x7fa5, 0x902d, 0x0, 0x0);
        gbc.writeMem(0xad8c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x1ca);
        EXPECT(gbc.pc(), 0xad8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad8c), 0x67);
        // 67 0333
        gbc.setState(0xa57d, 0x7ec5, 0xbbe0, 0x1c8f, 0xbd2b, 0xeb28, 0x0, 0x1);
        gbc.writeMem(0xa57d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x7ec5);
        EXPECT(gbc.pc(), 0xa57e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa57d), 0x67);
        // 67 0334
        gbc.setState(0x4aa1, 0xf267, 0x2980, 0x5840, 0xc9db, 0x8b46, 0x1, 0x0);
        gbc.writeMem(0x4aa1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xf267);
        EXPECT(gbc.pc(), 0x4aa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0335
        gbc.setState(0x1b0d, 0x666d, 0x9cc0, 0x8279, 0x1ad, 0xb2aa, 0x1, 0x1);
        gbc.writeMem(0x1b0d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x666d);
        EXPECT(gbc.pc(), 0x1b0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0336
        gbc.setState(0x98a2, 0xe683, 0x7fb0, 0x9375, 0xa843, 0x43bc, 0x0, 0x1);
        gbc.writeMem(0x98a2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xe683);
        EXPECT(gbc.pc(), 0x98a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98a2), 0x67);
        // 67 0337
        gbc.setState(0x5392, 0xd0a8, 0xff40, 0x7a51, 0x98fe, 0x1f5f, 0x0, 0x0);
        gbc.writeMem(0x5392, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xd0a8);
        EXPECT(gbc.pc(), 0x5393);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0338
        gbc.setState(0xc685, 0x1bb, 0x4ce0, 0xabd9, 0xb330, 0xe313, 0x0, 0x0);
        gbc.writeMem(0xc685, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x1bb);
        EXPECT(gbc.pc(), 0xc686);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc685), 0x67);
        // 67 0339
        gbc.setState(0x6491, 0x483, 0xc910, 0x6e7c, 0xc0cc, 0xb4e9, 0x1, 0x1);
        gbc.writeMem(0x6491, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x483);
        EXPECT(gbc.pc(), 0x6492);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 033A
        gbc.setState(0x55d6, 0xdc56, 0x9c30, 0xa66d, 0x4e24, 0x390c, 0x1, 0x1);
        gbc.writeMem(0x55d6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xdc56);
        EXPECT(gbc.pc(), 0x55d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 033B
        gbc.setState(0xac66, 0x309b, 0x9b10, 0x118a, 0xfea4, 0xce6f, 0x1, 0x1);
        gbc.writeMem(0xac66, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x309b);
        EXPECT(gbc.pc(), 0xac67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac66), 0x67);
        // 67 033C
        gbc.setState(0x8874, 0x7c4f, 0x13a0, 0xa9c2, 0xc347, 0x22b9, 0x1, 0x1);
        gbc.writeMem(0x8874, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x7c4f);
        EXPECT(gbc.pc(), 0x8875);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8874), 0x67);
        // 67 033D
        gbc.setState(0x2c14, 0x1663, 0xfb60, 0xc3c, 0xbdd4, 0x54fa, 0x0, 0x0);
        gbc.writeMem(0x2c14, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x1663);
        EXPECT(gbc.pc(), 0x2c15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 033E
        gbc.setState(0x818e, 0xd947, 0xdd70, 0x3b83, 0x3e37, 0x70e6, 0x0, 0x0);
        gbc.writeMem(0x818e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xd947);
        EXPECT(gbc.pc(), 0x818f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x818e), 0x67);
        // 67 033F
        gbc.setState(0x756e, 0xf0bd, 0x500, 0x3f34, 0x973e, 0x111e, 0x1, 0x0);
        gbc.writeMem(0x756e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xf0bd);
        EXPECT(gbc.pc(), 0x756f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0340
        gbc.setState(0x26dc, 0x46ca, 0x8d00, 0xd20e, 0x24ec, 0xa2d4, 0x0, 0x0);
        gbc.writeMem(0x26dc, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x46ca);
        EXPECT(gbc.pc(), 0x26dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0341
        gbc.setState(0x2bf8, 0x2464, 0x1060, 0x43e3, 0x6430, 0x2fb6, 0x1, 0x0);
        gbc.writeMem(0x2bf8, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x2464);
        EXPECT(gbc.pc(), 0x2bf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0342
        gbc.setState(0xcb24, 0x81af, 0x65d0, 0xad5d, 0x7372, 0x3db8, 0x0, 0x0);
        gbc.writeMem(0xcb24, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x81af);
        EXPECT(gbc.pc(), 0xcb25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb24), 0x67);
        // 67 0343
        gbc.setState(0x3c8f, 0x3d4e, 0xc750, 0xfbbd, 0x4f9c, 0xe8c3, 0x0, 0x1);
        gbc.writeMem(0x3c8f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x3d4e);
        EXPECT(gbc.pc(), 0x3c90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0344
        gbc.setState(0x9d2d, 0x5062, 0xfe20, 0x2b47, 0x9343, 0x7995, 0x1, 0x1);
        gbc.writeMem(0x9d2d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x5062);
        EXPECT(gbc.pc(), 0x9d2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d2d), 0x67);
        // 67 0345
        gbc.setState(0x2068, 0xed02, 0xd680, 0x6223, 0x23f4, 0xbf7, 0x0, 0x0);
        gbc.writeMem(0x2068, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xed02);
        EXPECT(gbc.pc(), 0x2069);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0346
        gbc.setState(0x6313, 0xccea, 0x3090, 0x4e9, 0x5fdd, 0xd070, 0x1, 0x1);
        gbc.writeMem(0x6313, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xccea);
        EXPECT(gbc.pc(), 0x6314);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0347
        gbc.setState(0xe2ae, 0x1fbb, 0x1e80, 0xdc7e, 0x5b3a, 0x1b69, 0x0, 0x1);
        gbc.writeMem(0xe2ae, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x1fbb);
        EXPECT(gbc.pc(), 0xe2af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2ae), 0x67);
        // 67 0348
        gbc.setState(0xcdf4, 0xcde7, 0x6c00, 0xa2e6, 0x2145, 0xbe3e, 0x0, 0x1);
        gbc.writeMem(0xcdf4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xcde7);
        EXPECT(gbc.pc(), 0xcdf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdf4), 0x67);
        // 67 0349
        gbc.setState(0xc243, 0x3c13, 0x33b0, 0x5909, 0x1cc6, 0xc792, 0x1, 0x0);
        gbc.writeMem(0xc243, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x3c13);
        EXPECT(gbc.pc(), 0xc244);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc243), 0x67);
        // 67 034A
        gbc.setState(0x2fb3, 0xc4c, 0x5490, 0xb890, 0x893e, 0x9f95, 0x0, 0x1);
        gbc.writeMem(0x2fb3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xc4c);
        EXPECT(gbc.pc(), 0x2fb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 034C
        gbc.setState(0xca17, 0xf5e7, 0xcf40, 0xe00c, 0x952a, 0x5ec6, 0x0, 0x0);
        gbc.writeMem(0xca17, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xf5e7);
        EXPECT(gbc.pc(), 0xca18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca17), 0x67);
        // 67 034D
        gbc.setState(0x1b84, 0xaaea, 0x7c30, 0xb2cc, 0x9c63, 0x5be1, 0x1, 0x0);
        gbc.writeMem(0x1b84, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xaaea);
        EXPECT(gbc.pc(), 0x1b85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 034E
        gbc.setState(0x1955, 0xa9e1, 0xf410, 0xc0cc, 0xd239, 0xd8c9, 0x0, 0x0);
        gbc.writeMem(0x1955, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xa9e1);
        EXPECT(gbc.pc(), 0x1956);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 034F
        gbc.setState(0x7a89, 0x62d6, 0x5710, 0x6f31, 0xd3d9, 0x8902, 0x1, 0x0);
        gbc.writeMem(0x7a89, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x62d6);
        EXPECT(gbc.pc(), 0x7a8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0351
        gbc.setState(0xc498, 0x6f75, 0x38b0, 0x1876, 0xee7a, 0x49a4, 0x1, 0x1);
        gbc.writeMem(0xc498, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x6f75);
        EXPECT(gbc.pc(), 0xc499);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc498), 0x67);
        // 67 0352
        gbc.setState(0xdef, 0xc986, 0xfca0, 0x1a4c, 0x1c5d, 0xcfad, 0x0, 0x1);
        gbc.writeMem(0xdef, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xc986);
        EXPECT(gbc.pc(), 0xdf0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0353
        gbc.setState(0xbabe, 0xaaf7, 0x5e90, 0x140e, 0xfcf4, 0xc680, 0x0, 0x1);
        gbc.writeMem(0xbabe, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xaaf7);
        EXPECT(gbc.pc(), 0xbabf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbabe), 0x67);
        // 67 0354
        gbc.setState(0xa407, 0xa451, 0x1b80, 0xc0d, 0x415d, 0x9f07, 0x1, 0x1);
        gbc.writeMem(0xa407, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xa451);
        EXPECT(gbc.pc(), 0xa408);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa407), 0x67);
        // 67 0356
        gbc.setState(0x5f99, 0xcbbf, 0xf7c0, 0x8ec6, 0xa8d8, 0xd97b, 0x0, 0x1);
        gbc.writeMem(0x5f99, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xcbbf);
        EXPECT(gbc.pc(), 0x5f9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0357
        gbc.setState(0x6964, 0xfc4, 0x2b00, 0xb945, 0x70d5, 0x2fc6, 0x1, 0x0);
        gbc.writeMem(0x6964, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xfc4);
        EXPECT(gbc.pc(), 0x6965);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0358
        gbc.setState(0xa6b9, 0xa8a, 0xfad0, 0xf584, 0xd49, 0x55b5, 0x0, 0x0);
        gbc.writeMem(0xa6b9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xa8a);
        EXPECT(gbc.pc(), 0xa6ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6b9), 0x67);
        // 67 0359
        gbc.setState(0xdd9b, 0xcb2d, 0x71e0, 0x9e16, 0x99dc, 0x81dd, 0x0, 0x1);
        gbc.writeMem(0xdd9b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xcb2d);
        EXPECT(gbc.pc(), 0xdd9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd9b), 0x67);
        // 67 035A
        gbc.setState(0x4fd0, 0xcb0a, 0x6420, 0xbcc4, 0x3d9b, 0x533d, 0x0, 0x0);
        gbc.writeMem(0x4fd0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xcb0a);
        EXPECT(gbc.pc(), 0x4fd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 035B
        gbc.setState(0xea4e, 0x4662, 0x8e50, 0xe1d5, 0x2e74, 0xc1a9, 0x1, 0x0);
        gbc.writeMem(0xea4e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x4662);
        EXPECT(gbc.pc(), 0xea4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea4e), 0x67);
        // 67 035C
        gbc.setState(0x51ac, 0xcf43, 0x6030, 0x3e32, 0x54d8, 0x10f2, 0x0, 0x1);
        gbc.writeMem(0x51ac, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xcf43);
        EXPECT(gbc.pc(), 0x51ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 035E
        gbc.setState(0x52c3, 0x3313, 0x1220, 0xa57, 0x294, 0xcf32, 0x0, 0x0);
        gbc.writeMem(0x52c3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x3313);
        EXPECT(gbc.pc(), 0x52c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 035F
        gbc.setState(0x6dae, 0xa320, 0xa9e0, 0xf32e, 0x1494, 0xc6fb, 0x1, 0x0);
        gbc.writeMem(0x6dae, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xa320);
        EXPECT(gbc.pc(), 0x6daf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0360
        gbc.setState(0x9de1, 0x2c5c, 0x12b0, 0x641a, 0xe39e, 0x441c, 0x1, 0x0);
        gbc.writeMem(0x9de1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x2c5c);
        EXPECT(gbc.pc(), 0x9de2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9de1), 0x67);
        // 67 0361
        gbc.setState(0xad55, 0xc3ca, 0xc8e0, 0xf2b8, 0x30da, 0xa932, 0x0, 0x0);
        gbc.writeMem(0xad55, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xc3ca);
        EXPECT(gbc.pc(), 0xad56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad55), 0x67);
        // 67 0362
        gbc.setState(0x30d9, 0xa59c, 0xab10, 0x78f8, 0x1cbb, 0x163d, 0x1, 0x0);
        gbc.writeMem(0x30d9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa59c);
        EXPECT(gbc.pc(), 0x30da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0363
        gbc.setState(0xa553, 0x4ba4, 0xe120, 0xccf3, 0xe1d8, 0x445e, 0x1, 0x0);
        gbc.writeMem(0xa553, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x4ba4);
        EXPECT(gbc.pc(), 0xa554);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa553), 0x67);
        // 67 0364
        gbc.setState(0x35b0, 0x4f95, 0x8210, 0xc4f, 0x1fdf, 0x60, 0x0, 0x1);
        gbc.writeMem(0x35b0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x4f95);
        EXPECT(gbc.pc(), 0x35b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0365
        gbc.setState(0x702e, 0xf5f4, 0x6fa0, 0xfcde, 0xb6e6, 0xb34, 0x0, 0x0);
        gbc.writeMem(0x702e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xf5f4);
        EXPECT(gbc.pc(), 0x702f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0366
        gbc.setState(0xae8e, 0xa60b, 0x19f0, 0xa8d, 0x77d6, 0x89b, 0x0, 0x0);
        gbc.writeMem(0xae8e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xa60b);
        EXPECT(gbc.pc(), 0xae8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae8e), 0x67);
        // 67 0367
        gbc.setState(0x2d8c, 0xad48, 0x8240, 0x8490, 0xace7, 0x9776, 0x1, 0x0);
        gbc.writeMem(0x2d8c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xad48);
        EXPECT(gbc.pc(), 0x2d8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0368
        gbc.setState(0x648d, 0x2d54, 0xc130, 0x2e90, 0x5b77, 0xe76, 0x0, 0x0);
        gbc.writeMem(0x648d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x2d54);
        EXPECT(gbc.pc(), 0x648e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0369
        gbc.setState(0xd28e, 0x9350, 0x6110, 0xb1c, 0x94a7, 0x1f17, 0x1, 0x1);
        gbc.writeMem(0xd28e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x9350);
        EXPECT(gbc.pc(), 0xd28f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd28e), 0x67);
        // 67 036A
        gbc.setState(0x184c, 0x9862, 0x7f90, 0x1b0, 0xf7b, 0x4b97, 0x1, 0x0);
        gbc.writeMem(0x184c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x9862);
        EXPECT(gbc.pc(), 0x184d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 036B
        gbc.setState(0x1c43, 0xb702, 0xc980, 0xf58e, 0x4ad1, 0x2819, 0x0, 0x0);
        gbc.writeMem(0x1c43, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xb702);
        EXPECT(gbc.pc(), 0x1c44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 036C
        gbc.setState(0xe02f, 0x9ff1, 0x51f0, 0x1c56, 0xcb21, 0x172, 0x0, 0x0);
        gbc.writeMem(0xe02f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x9ff1);
        EXPECT(gbc.pc(), 0xe030);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe02f), 0x67);
        // 67 036D
        gbc.setState(0xbe34, 0xdad6, 0x8e70, 0x471, 0x94f, 0x96f5, 0x1, 0x1);
        gbc.writeMem(0xbe34, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xdad6);
        EXPECT(gbc.pc(), 0xbe35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe34), 0x67);
        // 67 036E
        gbc.setState(0x5791, 0xa7ad, 0x4fe0, 0x76cf, 0x5f2, 0xe1ba, 0x0, 0x1);
        gbc.writeMem(0x5791, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xa7ad);
        EXPECT(gbc.pc(), 0x5792);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 036F
        gbc.setState(0x74a7, 0xcdf8, 0x2cd0, 0x34b0, 0xd6a4, 0xcbe7, 0x1, 0x0);
        gbc.writeMem(0x74a7, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xcdf8);
        EXPECT(gbc.pc(), 0x74a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0370
        gbc.setState(0x9fa5, 0x303f, 0x3780, 0xef12, 0x6e77, 0x8fb9, 0x0, 0x1);
        gbc.writeMem(0x9fa5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x303f);
        EXPECT(gbc.pc(), 0x9fa6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fa5), 0x67);
        // 67 0371
        gbc.setState(0x83a1, 0x37a7, 0xe100, 0x11c0, 0x4408, 0x3519, 0x1, 0x0);
        gbc.writeMem(0x83a1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x37a7);
        EXPECT(gbc.pc(), 0x83a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83a1), 0x67);
        // 67 0372
        gbc.setState(0xec3c, 0xaedf, 0xed60, 0x5d38, 0xdb5d, 0x8739, 0x1, 0x1);
        gbc.writeMem(0xec3c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xaedf);
        EXPECT(gbc.pc(), 0xec3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec3c), 0x67);
        // 67 0373
        gbc.setState(0x84a0, 0x372f, 0x6270, 0x17fb, 0x83ff, 0x231a, 0x1, 0x1);
        gbc.writeMem(0x84a0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x372f);
        EXPECT(gbc.pc(), 0x84a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84a0), 0x67);
        // 67 0374
        gbc.setState(0xe17a, 0xd7d8, 0x390, 0xebd7, 0x4910, 0x8904, 0x1, 0x0);
        gbc.writeMem(0xe17a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xd7d8);
        EXPECT(gbc.pc(), 0xe17b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe17a), 0x67);
        // 67 0375
        gbc.setState(0xc5eb, 0x5967, 0x5b50, 0xd382, 0x55ae, 0x5925, 0x0, 0x1);
        gbc.writeMem(0xc5eb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x5967);
        EXPECT(gbc.pc(), 0xc5ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5eb), 0x67);
        // 67 0376
        gbc.setState(0x3bca, 0xbea3, 0xbc00, 0x7201, 0x81a3, 0x4905, 0x1, 0x1);
        gbc.writeMem(0x3bca, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xbea3);
        EXPECT(gbc.pc(), 0x3bcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 0377
        gbc.setState(0xdcd2, 0x8d2c, 0x99a0, 0x73e1, 0xa543, 0x918d, 0x0, 0x1);
        gbc.writeMem(0xdcd2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x8d2c);
        EXPECT(gbc.pc(), 0xdcd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcd2), 0x67);
        // 67 0378
        gbc.setState(0xcc67, 0xe7ff, 0x320, 0x428, 0x2fd3, 0x9b6e, 0x0, 0x0);
        gbc.writeMem(0xcc67, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xe7ff);
        EXPECT(gbc.pc(), 0xcc68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc67), 0x67);
        // 67 0379
        gbc.setState(0x8b9a, 0x2ccb, 0x99b0, 0x8f0e, 0x6dfb, 0x51b3, 0x0, 0x0);
        gbc.writeMem(0x8b9a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x2ccb);
        EXPECT(gbc.pc(), 0x8b9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b9a), 0x67);
        // 67 037A
        gbc.setState(0xa972, 0xdc1f, 0x6220, 0xe065, 0x6507, 0x57a3, 0x0, 0x0);
        gbc.writeMem(0xa972, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xdc1f);
        EXPECT(gbc.pc(), 0xa973);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa972), 0x67);
        // 67 037B
        gbc.setState(0xf2e, 0xa11f, 0xc390, 0x533b, 0xcf09, 0x858, 0x1, 0x0);
        gbc.writeMem(0xf2e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xa11f);
        EXPECT(gbc.pc(), 0xf2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 037C
        gbc.setState(0xad24, 0x2a28, 0xae80, 0xf0b7, 0x2631, 0x2440, 0x1, 0x0);
        gbc.writeMem(0xad24, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x2a28);
        EXPECT(gbc.pc(), 0xad25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad24), 0x67);
        // 67 037D
        gbc.setState(0xb52c, 0xf19c, 0x67f0, 0x794b, 0x80c9, 0x3c3d, 0x0, 0x0);
        gbc.writeMem(0xb52c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xf19c);
        EXPECT(gbc.pc(), 0xb52d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb52c), 0x67);
        // 67 037E
        gbc.setState(0x4043, 0x165f, 0xd810, 0xefd0, 0x38ac, 0xde15, 0x0, 0x0);
        gbc.writeMem(0x4043, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x165f);
        EXPECT(gbc.pc(), 0x4044);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 037F
        gbc.setState(0x1742, 0xb0b5, 0xc6e0, 0xd164, 0xaa55, 0xfa26, 0x0, 0x1);
        gbc.writeMem(0x1742, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xb0b5);
        EXPECT(gbc.pc(), 0x1743);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0380
        gbc.setState(0xa757, 0xf0a0, 0xfc30, 0x86e6, 0x6171, 0x2357, 0x1, 0x0);
        gbc.writeMem(0xa757, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xf0a0);
        EXPECT(gbc.pc(), 0xa758);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa757), 0x67);
        // 67 0381
        gbc.setState(0xdb67, 0x7070, 0xaa30, 0x4746, 0x8e2d, 0x4294, 0x0, 0x0);
        gbc.writeMem(0xdb67, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x7070);
        EXPECT(gbc.pc(), 0xdb68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb67), 0x67);
        // 67 0382
        gbc.setState(0xc69, 0xd70c, 0x7c70, 0x38fb, 0x4281, 0x7660, 0x1, 0x1);
        gbc.writeMem(0xc69, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xd70c);
        EXPECT(gbc.pc(), 0xc6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 0383
        gbc.setState(0x5967, 0xa647, 0x4ba0, 0xeece, 0xedaf, 0x9a9, 0x1, 0x0);
        gbc.writeMem(0x5967, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xa647);
        EXPECT(gbc.pc(), 0x5968);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0384
        gbc.setState(0xd1ed, 0x931b, 0x6ee0, 0xadf6, 0x38c8, 0x80e7, 0x1, 0x0);
        gbc.writeMem(0xd1ed, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x931b);
        EXPECT(gbc.pc(), 0xd1ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1ed), 0x67);
        // 67 0385
        gbc.setState(0xa3b3, 0x1efc, 0x6a70, 0x9864, 0x7fce, 0x4eac, 0x1, 0x0);
        gbc.writeMem(0xa3b3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x1efc);
        EXPECT(gbc.pc(), 0xa3b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3b3), 0x67);
        // 67 0387
        gbc.setState(0xea1, 0x1eb4, 0x3820, 0xefef, 0xc3d8, 0x8976, 0x1, 0x1);
        gbc.writeMem(0xea1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x1eb4);
        EXPECT(gbc.pc(), 0xea2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0388
        gbc.setState(0x11b3, 0x7c5a, 0x3da0, 0x45ce, 0xc46e, 0x39b0, 0x0, 0x1);
        gbc.writeMem(0x11b3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7c5a);
        EXPECT(gbc.pc(), 0x11b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 0389
        gbc.setState(0x3a49, 0xe55a, 0x3480, 0x2ef0, 0xd6e6, 0xbb7, 0x1, 0x1);
        gbc.writeMem(0x3a49, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xe55a);
        EXPECT(gbc.pc(), 0x3a4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 038A
        gbc.setState(0x67bd, 0x4bb5, 0xa430, 0x1f80, 0xce76, 0x9571, 0x0, 0x0);
        gbc.writeMem(0x67bd, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x4bb5);
        EXPECT(gbc.pc(), 0x67be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 038B
        gbc.setState(0xdf35, 0xf296, 0x90a0, 0x299c, 0x177e, 0xa036, 0x0, 0x0);
        gbc.writeMem(0xdf35, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xf296);
        EXPECT(gbc.pc(), 0xdf36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf35), 0x67);
        // 67 038C
        gbc.setState(0x4626, 0xb2e7, 0xd600, 0x550e, 0xc900, 0xbf57, 0x0, 0x1);
        gbc.writeMem(0x4626, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xb2e7);
        EXPECT(gbc.pc(), 0x4627);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 038D
        gbc.setState(0x7bdb, 0x948e, 0x2760, 0x1d45, 0x78de, 0x1f4f, 0x0, 0x1);
        gbc.writeMem(0x7bdb, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x948e);
        EXPECT(gbc.pc(), 0x7bdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 038E
        gbc.setState(0xac90, 0x80a7, 0xe590, 0x22e8, 0xd2e9, 0x3ab6, 0x1, 0x1);
        gbc.writeMem(0xac90, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x80a7);
        EXPECT(gbc.pc(), 0xac91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac90), 0x67);
        // 67 0390
        gbc.setState(0x8785, 0x5c85, 0xb800, 0x5fb6, 0xd0e3, 0x15b2, 0x1, 0x0);
        gbc.writeMem(0x8785, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x5c85);
        EXPECT(gbc.pc(), 0x8786);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8785), 0x67);
        // 67 0391
        gbc.setState(0xec85, 0xa4d7, 0xbcb0, 0x3fa7, 0xdd2f, 0x8a46, 0x0, 0x1);
        gbc.writeMem(0xec85, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xa4d7);
        EXPECT(gbc.pc(), 0xec86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec85), 0x67);
        // 67 0392
        gbc.setState(0xeccd, 0xfc5, 0xa430, 0x7103, 0x5476, 0x51c7, 0x1, 0x0);
        gbc.writeMem(0xeccd, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xfc5);
        EXPECT(gbc.pc(), 0xecce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeccd), 0x67);
        // 67 0393
        gbc.setState(0xe808, 0xf4f0, 0xa950, 0x36d2, 0x4a5b, 0x86c9, 0x0, 0x0);
        gbc.writeMem(0xe808, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xf4f0);
        EXPECT(gbc.pc(), 0xe809);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe808), 0x67);
        // 67 0395
        gbc.setState(0x5ef0, 0x2b91, 0x73d0, 0xc73, 0x3277, 0x5b7d, 0x1, 0x1);
        gbc.writeMem(0x5ef0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x2b91);
        EXPECT(gbc.pc(), 0x5ef1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 0396
        gbc.setState(0x8fb6, 0x87bf, 0xe010, 0x3156, 0xb1df, 0xa503, 0x0, 0x1);
        gbc.writeMem(0x8fb6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x87bf);
        EXPECT(gbc.pc(), 0x8fb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fb6), 0x67);
        // 67 0397
        gbc.setState(0x9dc5, 0xb286, 0x2880, 0x324c, 0x299c, 0xc7dd, 0x0, 0x0);
        gbc.writeMem(0x9dc5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xb286);
        EXPECT(gbc.pc(), 0x9dc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9dc5), 0x67);
        // 67 0398
        gbc.setState(0xeb8d, 0xa98, 0x3650, 0xcfbd, 0x9802, 0xfa09, 0x1, 0x0);
        gbc.writeMem(0xeb8d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xa98);
        EXPECT(gbc.pc(), 0xeb8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb8d), 0x67);
        // 67 0399
        gbc.setState(0x9454, 0x8b39, 0xd350, 0x958e, 0x921f, 0x724, 0x0, 0x0);
        gbc.writeMem(0x9454, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x8b39);
        EXPECT(gbc.pc(), 0x9455);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9454), 0x67);
        // 67 039A
        gbc.setState(0xe760, 0xbade, 0xe350, 0x18a1, 0x5f06, 0xe35e, 0x0, 0x0);
        gbc.writeMem(0xe760, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xbade);
        EXPECT(gbc.pc(), 0xe761);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe760), 0x67);
        // 67 039B
        gbc.setState(0x3979, 0xb7f6, 0xc6e0, 0x5ff1, 0xe5b0, 0x9c9b, 0x0, 0x1);
        gbc.writeMem(0x3979, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xb7f6);
        EXPECT(gbc.pc(), 0x397a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 039C
        gbc.setState(0x3405, 0x7bf1, 0x3910, 0xa475, 0xdca3, 0xef5c, 0x0, 0x1);
        gbc.writeMem(0x3405, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x7bf1);
        EXPECT(gbc.pc(), 0x3406);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 039D
        gbc.setState(0x8fa9, 0x26a9, 0x370, 0x6102, 0x1cc1, 0x597d, 0x1, 0x1);
        gbc.writeMem(0x8fa9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x26a9);
        EXPECT(gbc.pc(), 0x8faa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fa9), 0x67);
        // 67 039E
        gbc.setState(0x9ce0, 0xa4a8, 0x84d0, 0x2b06, 0x1599, 0xefd1, 0x0, 0x1);
        gbc.writeMem(0x9ce0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xa4a8);
        EXPECT(gbc.pc(), 0x9ce1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ce0), 0x67);
        // 67 039F
        gbc.setState(0xc257, 0x8084, 0x9aa0, 0x27, 0x209d, 0xde9, 0x1, 0x0);
        gbc.writeMem(0xc257, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x8084);
        EXPECT(gbc.pc(), 0xc258);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc257), 0x67);
        // 67 03A0
        gbc.setState(0x6056, 0xe9b3, 0x5af0, 0xe7e7, 0x433f, 0xf94b, 0x0, 0x1);
        gbc.writeMem(0x6056, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xe9b3);
        EXPECT(gbc.pc(), 0x6057);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 03A1
        gbc.setState(0x5277, 0x9f2a, 0x2f40, 0x6291, 0x84bc, 0xc16b, 0x0, 0x1);
        gbc.writeMem(0x5277, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x9f2a);
        EXPECT(gbc.pc(), 0x5278);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 03A2
        gbc.setState(0x4d86, 0xb622, 0xf2d0, 0x5a31, 0x8f13, 0x45fd, 0x1, 0x0);
        gbc.writeMem(0x4d86, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xb622);
        EXPECT(gbc.pc(), 0x4d87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 03A3
        gbc.setState(0x8904, 0x2691, 0xb670, 0xedc6, 0xd518, 0x58d, 0x1, 0x0);
        gbc.writeMem(0x8904, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x2691);
        EXPECT(gbc.pc(), 0x8905);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8904), 0x67);
        // 67 03A4
        gbc.setState(0x4f04, 0xca68, 0x220, 0x2f09, 0x2de0, 0x25e7, 0x1, 0x0);
        gbc.writeMem(0x4f04, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xca68);
        EXPECT(gbc.pc(), 0x4f05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 03A5
        gbc.setState(0xeee9, 0xd20, 0x8220, 0x57ed, 0xfcef, 0xd9bc, 0x1, 0x1);
        gbc.writeMem(0xeee9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd20);
        EXPECT(gbc.pc(), 0xeeea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeee9), 0x67);
        // 67 03A6
        gbc.setState(0x9b28, 0x10c5, 0x59d0, 0xc513, 0xd0d4, 0xa0a9, 0x0, 0x0);
        gbc.writeMem(0x9b28, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x10c5);
        EXPECT(gbc.pc(), 0x9b29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b28), 0x67);
        // 67 03A7
        gbc.setState(0x23f3, 0x93e9, 0xccf0, 0x9a00, 0xb5db, 0x8676, 0x0, 0x1);
        gbc.writeMem(0x23f3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x93e9);
        EXPECT(gbc.pc(), 0x23f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 03A8
        gbc.setState(0x3a2, 0xee43, 0xebe0, 0xa9b0, 0x5fe5, 0xd938, 0x1, 0x1);
        gbc.writeMem(0x3a2, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xee43);
        EXPECT(gbc.pc(), 0x3a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 03A9
        gbc.setState(0xd259, 0xb2b6, 0x9510, 0xd5b5, 0x6261, 0xe17c, 0x1, 0x0);
        gbc.writeMem(0xd259, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xb2b6);
        EXPECT(gbc.pc(), 0xd25a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd259), 0x67);
        // 67 03AA
        gbc.setState(0x117b, 0x23ef, 0x5ed0, 0x3b1d, 0x21d9, 0xb996, 0x0, 0x1);
        gbc.writeMem(0x117b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x23ef);
        EXPECT(gbc.pc(), 0x117c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 03AB
        gbc.setState(0x94e4, 0xd6aa, 0x5bd0, 0x90bb, 0xeb2f, 0xd940, 0x0, 0x0);
        gbc.writeMem(0x94e4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xd6aa);
        EXPECT(gbc.pc(), 0x94e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94e4), 0x67);
        // 67 03AC
        gbc.setState(0xc10c, 0xa779, 0x7bc0, 0x10d7, 0xb8fe, 0x4dd6, 0x0, 0x0);
        gbc.writeMem(0xc10c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xa779);
        EXPECT(gbc.pc(), 0xc10d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc10c), 0x67);
        // 67 03AD
        gbc.setState(0xb831, 0x38f0, 0xdd60, 0xf8e0, 0x7c2a, 0x4dd6, 0x1, 0x1);
        gbc.writeMem(0xb831, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x38f0);
        EXPECT(gbc.pc(), 0xb832);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb831), 0x67);
        // 67 03AF
        gbc.setState(0xc717, 0x88ac, 0xa740, 0xc9e3, 0x3d43, 0xb89a, 0x1, 0x1);
        gbc.writeMem(0xc717, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x88ac);
        EXPECT(gbc.pc(), 0xc718);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc717), 0x67);
        // 67 03B0
        gbc.setState(0xbee1, 0xc004, 0x4c40, 0xe81a, 0x4a8e, 0xf86b, 0x1, 0x1);
        gbc.writeMem(0xbee1, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xc004);
        EXPECT(gbc.pc(), 0xbee2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbee1), 0x67);
        // 67 03B1
        gbc.setState(0xd4dd, 0x7794, 0xd340, 0x8f2e, 0x51b1, 0x6ca2, 0x1, 0x1);
        gbc.writeMem(0xd4dd, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x7794);
        EXPECT(gbc.pc(), 0xd4de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4dd), 0x67);
        // 67 03B2
        gbc.setState(0x94ec, 0x5724, 0xa270, 0xaeb8, 0x5fc4, 0x5b75, 0x0, 0x1);
        gbc.writeMem(0x94ec, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x5724);
        EXPECT(gbc.pc(), 0x94ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94ec), 0x67);
        // 67 03B3
        gbc.setState(0x91fd, 0x6d7, 0xe20, 0xda86, 0xa5b5, 0x798e, 0x1, 0x0);
        gbc.writeMem(0x91fd, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x6d7);
        EXPECT(gbc.pc(), 0x91fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91fd), 0x67);
        // 67 03B4
        gbc.setState(0x6b45, 0x504a, 0xa010, 0x8e5f, 0xad0b, 0x1f71, 0x0, 0x0);
        gbc.writeMem(0x6b45, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x504a);
        EXPECT(gbc.pc(), 0x6b46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 03B5
        gbc.setState(0xde44, 0x3561, 0xd360, 0xec70, 0xee79, 0x7927, 0x1, 0x1);
        gbc.writeMem(0xde44, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x3561);
        EXPECT(gbc.pc(), 0xde45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde44), 0x67);
        // 67 03B6
        gbc.setState(0xae83, 0xeab6, 0xa70, 0xf3a6, 0x72ea, 0x1f99, 0x1, 0x1);
        gbc.writeMem(0xae83, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xeab6);
        EXPECT(gbc.pc(), 0xae84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae83), 0x67);
        // 67 03B8
        gbc.setState(0x9227, 0xcdf4, 0xdf20, 0xc0c, 0x68cc, 0x18f8, 0x1, 0x1);
        gbc.writeMem(0x9227, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xcdf4);
        EXPECT(gbc.pc(), 0x9228);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9227), 0x67);
        // 67 03B9
        gbc.setState(0xda71, 0xb336, 0x7dd0, 0x2e84, 0x64b3, 0xa984, 0x0, 0x1);
        gbc.writeMem(0xda71, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xb336);
        EXPECT(gbc.pc(), 0xda72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda71), 0x67);
        // 67 03BA
        gbc.setState(0xe572, 0x317, 0x3a60, 0x9279, 0x48ab, 0x6f4e, 0x1, 0x1);
        gbc.writeMem(0xe572, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x317);
        EXPECT(gbc.pc(), 0xe573);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe572), 0x67);
        // 67 03BB
        gbc.setState(0xac36, 0x480d, 0x90c0, 0x351e, 0xb5de, 0x23dd, 0x0, 0x1);
        gbc.writeMem(0xac36, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x480d);
        EXPECT(gbc.pc(), 0xac37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac36), 0x67);
        // 67 03BC
        gbc.setState(0x93a4, 0xde6a, 0xdc70, 0xdd56, 0x889b, 0xa3b3, 0x0, 0x1);
        gbc.writeMem(0x93a4, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xde6a);
        EXPECT(gbc.pc(), 0x93a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93a4), 0x67);
        // 67 03BD
        gbc.setState(0x12da, 0x88e2, 0xbdb0, 0xd491, 0xfee3, 0x79ae, 0x1, 0x0);
        gbc.writeMem(0x12da, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x88e2);
        EXPECT(gbc.pc(), 0x12db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 03BF
        gbc.setState(0x2b4d, 0x5d33, 0x2180, 0x6b1e, 0x37ff, 0xe8ad, 0x1, 0x0);
        gbc.writeMem(0x2b4d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x5d33);
        EXPECT(gbc.pc(), 0x2b4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 03C0
        gbc.setState(0xd452, 0xa59e, 0xd5a0, 0xd8ac, 0xf64b, 0x2728, 0x0, 0x0);
        gbc.writeMem(0xd452, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xa59e);
        EXPECT(gbc.pc(), 0xd453);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd452), 0x67);
        // 67 03C1
        gbc.setState(0x5cac, 0x78f3, 0xa50, 0x6e32, 0x2281, 0xfb5e, 0x0, 0x1);
        gbc.writeMem(0x5cac, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x78f3);
        EXPECT(gbc.pc(), 0x5cad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 03C2
        gbc.setState(0x3051, 0x5dee, 0x7680, 0x78bc, 0xc9f5, 0x7c6c, 0x1, 0x0);
        gbc.writeMem(0x3051, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x5dee);
        EXPECT(gbc.pc(), 0x3052);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 03C3
        gbc.setState(0xe3a5, 0x8c5a, 0x63f0, 0x1ab0, 0xaa24, 0x2a37, 0x0, 0x1);
        gbc.writeMem(0xe3a5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x8c5a);
        EXPECT(gbc.pc(), 0xe3a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3a5), 0x67);
        // 67 03C4
        gbc.setState(0x4619, 0x62d1, 0x5140, 0x1f48, 0x7811, 0x1e01, 0x0, 0x0);
        gbc.writeMem(0x4619, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x62d1);
        EXPECT(gbc.pc(), 0x461a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 03C6
        gbc.setState(0x6b67, 0x7710, 0x5f00, 0x9186, 0x9ab, 0x3da4, 0x0, 0x0);
        gbc.writeMem(0x6b67, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x7710);
        EXPECT(gbc.pc(), 0x6b68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 03C7
        gbc.setState(0x273d, 0xbe8f, 0x82c0, 0x4981, 0x7a1e, 0xf071, 0x1, 0x1);
        gbc.writeMem(0x273d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xbe8f);
        EXPECT(gbc.pc(), 0x273e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 03C8
        gbc.setState(0x7252, 0xa9e1, 0x8590, 0x3232, 0x70ec, 0xd777, 0x0, 0x1);
        gbc.writeMem(0x7252, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xa9e1);
        EXPECT(gbc.pc(), 0x7253);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 03C9
        gbc.setState(0x263c, 0xce89, 0x3a20, 0x45e4, 0xc161, 0x5573, 0x0, 0x1);
        gbc.writeMem(0x263c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xce89);
        EXPECT(gbc.pc(), 0x263d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 03CA
        gbc.setState(0x653d, 0x92e4, 0x1780, 0x2553, 0x552a, 0x85ee, 0x1, 0x1);
        gbc.writeMem(0x653d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x92e4);
        EXPECT(gbc.pc(), 0x653e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 03CB
        gbc.setState(0x799e, 0xf4a5, 0x97e0, 0x97c5, 0x3f83, 0x984c, 0x0, 0x1);
        gbc.writeMem(0x799e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xf4a5);
        EXPECT(gbc.pc(), 0x799f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 03CC
        gbc.setState(0x2e2c, 0xf87b, 0xc690, 0x6e53, 0x5f5a, 0xca92, 0x1, 0x1);
        gbc.writeMem(0x2e2c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xf87b);
        EXPECT(gbc.pc(), 0x2e2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 03CF
        gbc.setState(0xb7d6, 0x4cfd, 0x7640, 0x11ac, 0x6494, 0x7863, 0x0, 0x0);
        gbc.writeMem(0xb7d6, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x4cfd);
        EXPECT(gbc.pc(), 0xb7d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7d6), 0x67);
        // 67 03D0
        gbc.setState(0x319f, 0x953, 0xd130, 0x4c7d, 0xb51, 0x191f, 0x0, 0x0);
        gbc.writeMem(0x319f, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x953);
        EXPECT(gbc.pc(), 0x31a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 67 03D1
        gbc.setState(0x8554, 0x34c7, 0x98c0, 0xb38, 0x54ad, 0xe3e7, 0x1, 0x0);
        gbc.writeMem(0x8554, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x34c7);
        EXPECT(gbc.pc(), 0x8555);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8554), 0x67);
        // 67 03D2
        gbc.setState(0x87c9, 0xfdc9, 0x3bf0, 0x7f7d, 0x705a, 0x9dee, 0x1, 0x0);
        gbc.writeMem(0x87c9, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xfdc9);
        EXPECT(gbc.pc(), 0x87ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87c9), 0x67);
        // 67 03D3
        gbc.setState(0x1c32, 0x5dfc, 0x67d0, 0x96f7, 0x87d9, 0x7809, 0x1, 0x0);
        gbc.writeMem(0x1c32, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x5dfc);
        EXPECT(gbc.pc(), 0x1c33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 03D4
        gbc.setState(0xb4b0, 0xdc2c, 0x4160, 0x714b, 0x6e24, 0xe9ed, 0x0, 0x0);
        gbc.writeMem(0xb4b0, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xdc2c);
        EXPECT(gbc.pc(), 0xb4b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4b0), 0x67);
        // 67 03D5
        gbc.setState(0x528e, 0xd03f, 0x9be0, 0x84eb, 0x5ae0, 0xd0c6, 0x0, 0x1);
        gbc.writeMem(0x528e, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xd03f);
        EXPECT(gbc.pc(), 0x528f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 03D7
        gbc.setState(0x6908, 0xaf52, 0xcc90, 0xde99, 0x55bf, 0x118a, 0x0, 0x0);
        gbc.writeMem(0x6908, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xaf52);
        EXPECT(gbc.pc(), 0x6909);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 03D8
        gbc.setState(0x4c36, 0xd876, 0x8e00, 0x2462, 0xf9c4, 0x996d, 0x1, 0x1);
        gbc.writeMem(0x4c36, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xd876);
        EXPECT(gbc.pc(), 0x4c37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 03D9
        gbc.setState(0x637, 0x6cef, 0x9080, 0x380e, 0xd287, 0x6f2d, 0x0, 0x0);
        gbc.writeMem(0x637, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x6cef);
        EXPECT(gbc.pc(), 0x638);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 03DA
        gbc.setState(0x3139, 0x6e33, 0x9a60, 0xd0db, 0xe1d7, 0xb12f, 0x1, 0x1);
        gbc.writeMem(0x3139, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x6e33);
        EXPECT(gbc.pc(), 0x313a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 03DB
        gbc.setState(0xd3ed, 0x1786, 0xbfa0, 0xc0ef, 0x1c99, 0x2bfa, 0x0, 0x1);
        gbc.writeMem(0xd3ed, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x1786);
        EXPECT(gbc.pc(), 0xd3ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3ed), 0x67);
        // 67 03DC
        gbc.setState(0xc3ba, 0xdfae, 0xb680, 0xc13e, 0x36e9, 0xfe38, 0x0, 0x1);
        gbc.writeMem(0xc3ba, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xdfae);
        EXPECT(gbc.pc(), 0xc3bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3ba), 0x67);
        // 67 03DD
        gbc.setState(0xd14c, 0xb9bf, 0x2ad0, 0xc3c4, 0xd1c3, 0xd08d, 0x1, 0x0);
        gbc.writeMem(0xd14c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xb9bf);
        EXPECT(gbc.pc(), 0xd14d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd14c), 0x67);
        // 67 03DE
        gbc.setState(0xd9a5, 0xafd8, 0xdf50, 0x6205, 0x3c52, 0x1d46, 0x1, 0x0);
        gbc.writeMem(0xd9a5, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xafd8);
        EXPECT(gbc.pc(), 0xd9a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9a5), 0x67);
        // 67 03DF
        gbc.setState(0xdb1d, 0xad73, 0x6780, 0x6130, 0xe7b1, 0x4c30, 0x0, 0x1);
        gbc.writeMem(0xdb1d, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xad73);
        EXPECT(gbc.pc(), 0xdb1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb1d), 0x67);
        // 67 03E0
        gbc.setState(0x1933, 0x316c, 0xf4a0, 0x29ba, 0xd5c1, 0xf2ad, 0x1, 0x1);
        gbc.writeMem(0x1933, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x316c);
        EXPECT(gbc.pc(), 0x1934);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 67 03E1
        gbc.setState(0x7337, 0x4507, 0x6f50, 0xafdc, 0xe8c1, 0x41, 0x1, 0x1);
        gbc.writeMem(0x7337, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x4507);
        EXPECT(gbc.pc(), 0x7338);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 67 03E2
        gbc.setState(0xac1a, 0xd39f, 0x9b90, 0x8654, 0x5b24, 0xac9d, 0x0, 0x1);
        gbc.writeMem(0xac1a, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xd39f);
        EXPECT(gbc.pc(), 0xac1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac1a), 0x67);
        // 67 03E3
        gbc.setState(0x25a3, 0xb4ca, 0xa680, 0x5a6, 0x494e, 0x23b9, 0x0, 0x1);
        gbc.writeMem(0x25a3, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xb4ca);
        EXPECT(gbc.pc(), 0x25a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 67 03E4
        gbc.setState(0x999c, 0x18a8, 0xebb0, 0xa1cf, 0xde76, 0xa288, 0x0, 0x0);
        gbc.writeMem(0x999c, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x18a8);
        EXPECT(gbc.pc(), 0x999d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x999c), 0x67);
        // 67 03E5
        gbc.setState(0xc637, 0xd4bf, 0x6300, 0x32fa, 0xa302, 0xd7ce, 0x1, 0x0);
        gbc.writeMem(0xc637, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xd4bf);
        EXPECT(gbc.pc(), 0xc638);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc637), 0x67);
        // 67 03E6
        gbc.setState(0xe32b, 0x9a15, 0x3110, 0x6517, 0xbcf1, 0xc331, 0x0, 0x1);
        gbc.writeMem(0xe32b, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x9a15);
        EXPECT(gbc.pc(), 0xe32c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe32b), 0x67);
        // 67 03E7
        gbc.setState(0xa702, 0x6a2f, 0xa80, 0xa993, 0x51ac, 0xc78c, 0x1, 0x0);
        gbc.writeMem(0xa702, { 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x6a2f);
        EXPECT(gbc.pc(), 0xa703);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa702), 0x67);
    }
}
#endif
