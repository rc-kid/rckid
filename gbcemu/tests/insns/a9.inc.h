    TEST(gbcemu, opcode_a9) {
        GBCEmu gbc{"", nullptr};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // A9 0000
        gbc.setState(0x4ce8, 0x782f, 0x13b0, 0x791c, 0x6b61, 0x4f22, 0x1, 0x0);
        gbc.writeMem(0x4ce8, { 0xa9 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x782f, gbc.sp());
        EXPECT(0x4ce9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0001
        gbc.setState(0x630b, 0x79aa, 0x5000, 0x92b1, 0x8587, 0x3705, 0x0, 0x0);
        gbc.writeMem(0x630b, { 0xa9 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x79aa, gbc.sp());
        EXPECT(0x630c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0002
        gbc.setState(0x6b78, 0x7592, 0xa730, 0x8cc0, 0xe3e5, 0x50f4, 0x0, 0x1);
        gbc.writeMem(0x6b78, { 0xa9 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x7592, gbc.sp());
        EXPECT(0x6b79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0003
        gbc.setState(0xbe93, 0x1dc0, 0xad30, 0x468, 0x23cf, 0xbcb9, 0x1, 0x1);
        gbc.writeMem(0xbe93, { 0xa9 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x1dc0, gbc.sp());
        EXPECT(0xbe94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbe93));
        // A9 0004
        gbc.setState(0xb55d, 0x35d6, 0x8d10, 0xc7db, 0xd3eb, 0x76d3, 0x0, 0x0);
        gbc.writeMem(0xb55d, { 0xa9 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x35d6, gbc.sp());
        EXPECT(0xb55e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb55d));
        // A9 0005
        gbc.setState(0x6740, 0xe9f0, 0x4b00, 0x3c39, 0x6d7a, 0x980e, 0x0, 0x0);
        gbc.writeMem(0x6740, { 0xa9 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xe9f0, gbc.sp());
        EXPECT(0x6741, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0006
        gbc.setState(0x539b, 0xcc1e, 0x9bb0, 0x3d69, 0xc247, 0xf86f, 0x0, 0x1);
        gbc.writeMem(0x539b, { 0xa9 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xcc1e, gbc.sp());
        EXPECT(0x539c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0007
        gbc.setState(0x7e3, 0x8e14, 0xbc40, 0xe2ce, 0x1023, 0x2de9, 0x0, 0x1);
        gbc.writeMem(0x7e3, { 0xa9 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x8e14, gbc.sp());
        EXPECT(0x7e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0008
        gbc.setState(0xbbfa, 0x1b87, 0x7b80, 0x89cc, 0xd63b, 0x8d45, 0x1, 0x0);
        gbc.writeMem(0xbbfa, { 0xa9 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x1b87, gbc.sp());
        EXPECT(0xbbfb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbbfa));
        // A9 0009
        gbc.setState(0xbe9d, 0xce74, 0xace0, 0xd476, 0xbdd5, 0x778a, 0x0, 0x0);
        gbc.writeMem(0xbe9d, { 0xa9 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xce74, gbc.sp());
        EXPECT(0xbe9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbe9d));
        // A9 000A
        gbc.setState(0x3f2, 0xfa02, 0x9640, 0x998f, 0x9f86, 0xc2f1, 0x1, 0x1);
        gbc.writeMem(0x3f2, { 0xa9 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xfa02, gbc.sp());
        EXPECT(0x3f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 000B
        gbc.setState(0x4ea9, 0x9523, 0xe250, 0x9a64, 0xeb31, 0xd814, 0x1, 0x1);
        gbc.writeMem(0x4ea9, { 0xa9 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x9523, gbc.sp());
        EXPECT(0x4eaa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 000C
        gbc.setState(0x26ff, 0x33bb, 0xdda0, 0x559f, 0x797, 0x6f24, 0x1, 0x0);
        gbc.writeMem(0x26ff, { 0xa9 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x33bb, gbc.sp());
        EXPECT(0x2700, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 000D
        gbc.setState(0x51c9, 0x2364, 0x8170, 0xd2fd, 0x1a74, 0x8ef7, 0x0, 0x1);
        gbc.writeMem(0x51c9, { 0xa9 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x2364, gbc.sp());
        EXPECT(0x51ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 000E
        gbc.setState(0xd95b, 0x4318, 0xfa90, 0xe1f3, 0x1191, 0x7b94, 0x0, 0x0);
        gbc.writeMem(0xd95b, { 0xa9 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x4318, gbc.sp());
        EXPECT(0xd95c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd95b));
        // A9 000F
        gbc.setState(0x93bb, 0xd96d, 0x93a0, 0x7eec, 0x1c84, 0xdfa9, 0x1, 0x1);
        gbc.writeMem(0x93bb, { 0xa9 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xd96d, gbc.sp());
        EXPECT(0x93bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x93bb));
        // A9 0010
        gbc.setState(0x175a, 0x2aba, 0x5440, 0xa4df, 0xdd3b, 0xc339, 0x1, 0x0);
        gbc.writeMem(0x175a, { 0xa9 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x2aba, gbc.sp());
        EXPECT(0x175b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0011
        gbc.setState(0xaf74, 0xc088, 0x51a0, 0x81ef, 0x78d1, 0xb6df, 0x1, 0x1);
        gbc.writeMem(0xaf74, { 0xa9 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xc088, gbc.sp());
        EXPECT(0xaf75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xaf74));
        // A9 0012
        gbc.setState(0x5063, 0x7332, 0x3d40, 0x8a47, 0xb4c1, 0x9b40, 0x1, 0x0);
        gbc.writeMem(0x5063, { 0xa9 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x7332, gbc.sp());
        EXPECT(0x5064, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0014
        gbc.setState(0x565e, 0x9a8b, 0x4de0, 0xf092, 0x468e, 0x1ca0, 0x0, 0x1);
        gbc.writeMem(0x565e, { 0xa9 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x9a8b, gbc.sp());
        EXPECT(0x565f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0015
        gbc.setState(0x8b68, 0xe2b2, 0x2cc0, 0x607d, 0x9a4e, 0x5fb7, 0x0, 0x1);
        gbc.writeMem(0x8b68, { 0xa9 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xe2b2, gbc.sp());
        EXPECT(0x8b69, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8b68));
        // A9 0016
        gbc.setState(0x2acb, 0x42b5, 0xa7e0, 0x5925, 0x33c, 0x7eb7, 0x1, 0x1);
        gbc.writeMem(0x2acb, { 0xa9 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x42b5, gbc.sp());
        EXPECT(0x2acc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0017
        gbc.setState(0x2552, 0xc722, 0x9a0, 0x5048, 0xf1f5, 0x9ce6, 0x1, 0x1);
        gbc.writeMem(0x2552, { 0xa9 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xc722, gbc.sp());
        EXPECT(0x2553, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0018
        gbc.setState(0xa9f8, 0xb255, 0x1980, 0x277d, 0x2403, 0xcf22, 0x0, 0x1);
        gbc.writeMem(0xa9f8, { 0xa9 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xb255, gbc.sp());
        EXPECT(0xa9f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa9f8));
        // A9 0019
        gbc.setState(0x3f40, 0xed0b, 0x59b0, 0xaeda, 0x72b3, 0xbda8, 0x1, 0x0);
        gbc.writeMem(0x3f40, { 0xa9 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xed0b, gbc.sp());
        EXPECT(0x3f41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 001A
        gbc.setState(0x60c3, 0xa22d, 0x96a0, 0x3040, 0x163c, 0xe532, 0x0, 0x0);
        gbc.writeMem(0x60c3, { 0xa9 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xa22d, gbc.sp());
        EXPECT(0x60c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 001B
        gbc.setState(0xe22a, 0xf21f, 0xcd30, 0xb9f9, 0x1266, 0xc3f8, 0x1, 0x0);
        gbc.writeMem(0xe22a, { 0xa9 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xf21f, gbc.sp());
        EXPECT(0xe22b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe22a));
        // A9 001C
        gbc.setState(0x3b23, 0x17ae, 0x87d0, 0x85bf, 0xceef, 0x9d33, 0x0, 0x0);
        gbc.writeMem(0x3b23, { 0xa9 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x17ae, gbc.sp());
        EXPECT(0x3b24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 001D
        gbc.setState(0x2937, 0x7bf0, 0xa910, 0xc942, 0x255b, 0xc1df, 0x1, 0x1);
        gbc.writeMem(0x2937, { 0xa9 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x7bf0, gbc.sp());
        EXPECT(0x2938, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 001E
        gbc.setState(0xba0a, 0x1035, 0x1a00, 0x3420, 0x77b9, 0xf33a, 0x0, 0x1);
        gbc.writeMem(0xba0a, { 0xa9 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x1035, gbc.sp());
        EXPECT(0xba0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xba0a));
        // A9 001F
        gbc.setState(0xec24, 0x314d, 0x6800, 0x1302, 0x6a4f, 0x4cee, 0x1, 0x1);
        gbc.writeMem(0xec24, { 0xa9 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x314d, gbc.sp());
        EXPECT(0xec25, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xec24));
        // A9 0020
        gbc.setState(0xec18, 0xf698, 0xaa20, 0xe4ca, 0xfe59, 0xbf35, 0x0, 0x1);
        gbc.writeMem(0xec18, { 0xa9 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xf698, gbc.sp());
        EXPECT(0xec19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xec18));
        // A9 0021
        gbc.setState(0x6a17, 0x53c3, 0x36a0, 0x7446, 0x189a, 0x9472, 0x1, 0x1);
        gbc.writeMem(0x6a17, { 0xa9 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x53c3, gbc.sp());
        EXPECT(0x6a18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0022
        gbc.setState(0xdce9, 0xb957, 0x5f90, 0x9c64, 0x6ed2, 0x6714, 0x0, 0x0);
        gbc.writeMem(0xdce9, { 0xa9 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xb957, gbc.sp());
        EXPECT(0xdcea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdce9));
        // A9 0023
        gbc.setState(0xdcc6, 0x9fdc, 0xa3e0, 0xaf72, 0xd8bf, 0x4a9c, 0x0, 0x0);
        gbc.writeMem(0xdcc6, { 0xa9 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x9fdc, gbc.sp());
        EXPECT(0xdcc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdcc6));
        // A9 0024
        gbc.setState(0xdf09, 0xb2da, 0x4760, 0x8c2a, 0xa777, 0xd520, 0x1, 0x0);
        gbc.writeMem(0xdf09, { 0xa9 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xb2da, gbc.sp());
        EXPECT(0xdf0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdf09));
        // A9 0025
        gbc.setState(0x8dde, 0x33aa, 0xaaf0, 0x5eb0, 0x2b3f, 0x82d3, 0x1, 0x0);
        gbc.writeMem(0x8dde, { 0xa9 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x33aa, gbc.sp());
        EXPECT(0x8ddf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8dde));
        // A9 0026
        gbc.setState(0x1f06, 0x6659, 0xe300, 0x3556, 0xdadf, 0xb559, 0x1, 0x1);
        gbc.writeMem(0x1f06, { 0xa9 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x6659, gbc.sp());
        EXPECT(0x1f07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0027
        gbc.setState(0x1b81, 0xee81, 0x5bf0, 0xfbed, 0x9a3f, 0xeb48, 0x0, 0x1);
        gbc.writeMem(0x1b81, { 0xa9 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xee81, gbc.sp());
        EXPECT(0x1b82, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0028
        gbc.setState(0x4349, 0x2a09, 0x5e80, 0xc7a2, 0xd535, 0xa282, 0x1, 0x1);
        gbc.writeMem(0x4349, { 0xa9 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x2a09, gbc.sp());
        EXPECT(0x434a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0029
        gbc.setState(0x4a4f, 0x8d5, 0xb620, 0xdf59, 0x21b9, 0x5458, 0x1, 0x1);
        gbc.writeMem(0x4a4f, { 0xa9 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x8d5, gbc.sp());
        EXPECT(0x4a50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 002A
        gbc.setState(0x6db6, 0x47fb, 0xa9d0, 0x4b51, 0x296e, 0x6591, 0x0, 0x1);
        gbc.writeMem(0x6db6, { 0xa9 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x47fb, gbc.sp());
        EXPECT(0x6db7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 002B
        gbc.setState(0xdc5b, 0x5328, 0xceb0, 0xd700, 0xa9c, 0x944e, 0x0, 0x1);
        gbc.writeMem(0xdc5b, { 0xa9 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x5328, gbc.sp());
        EXPECT(0xdc5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdc5b));
        // A9 002C
        gbc.setState(0xd8d4, 0xa3c8, 0x4790, 0x9ae4, 0x8d0c, 0x5eab, 0x1, 0x1);
        gbc.writeMem(0xd8d4, { 0xa9 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xa3c8, gbc.sp());
        EXPECT(0xd8d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd8d4));
        // A9 002D
        gbc.setState(0x11c5, 0x5223, 0x7c80, 0x99a8, 0x2f7c, 0xcc6b, 0x0, 0x1);
        gbc.writeMem(0x11c5, { 0xa9 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x5223, gbc.sp());
        EXPECT(0x11c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 002E
        gbc.setState(0x651a, 0xe69e, 0x600, 0x65de, 0xef7c, 0x31af, 0x1, 0x1);
        gbc.writeMem(0x651a, { 0xa9 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xe69e, gbc.sp());
        EXPECT(0x651b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 002F
        gbc.setState(0x9cc4, 0xc33, 0x9fd0, 0x65ca, 0x7a90, 0x7d91, 0x0, 0x1);
        gbc.writeMem(0x9cc4, { 0xa9 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xc33, gbc.sp());
        EXPECT(0x9cc5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9cc4));
        // A9 0030
        gbc.setState(0xcf3c, 0x9d9e, 0x5820, 0xb208, 0xae6d, 0xda12, 0x0, 0x1);
        gbc.writeMem(0xcf3c, { 0xa9 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x9d9e, gbc.sp());
        EXPECT(0xcf3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xcf3c));
        // A9 0031
        gbc.setState(0xabf2, 0xd798, 0x4bf0, 0x6c9e, 0x4842, 0x9ae6, 0x1, 0x1);
        gbc.writeMem(0xabf2, { 0xa9 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xd798, gbc.sp());
        EXPECT(0xabf3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xabf2));
        // A9 0032
        gbc.setState(0xb796, 0x11e2, 0x7870, 0x2c5d, 0xf8a4, 0x8fa4, 0x0, 0x1);
        gbc.writeMem(0xb796, { 0xa9 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x11e2, gbc.sp());
        EXPECT(0xb797, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb796));
        // A9 0033
        gbc.setState(0x7ebb, 0x1fe6, 0xf650, 0x1ff0, 0x65b, 0x66de, 0x0, 0x1);
        gbc.writeMem(0x7ebb, { 0xa9 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x1fe6, gbc.sp());
        EXPECT(0x7ebc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0034
        gbc.setState(0xc2a2, 0xad61, 0x6d90, 0x1097, 0x886, 0xc97f, 0x0, 0x1);
        gbc.writeMem(0xc2a2, { 0xa9 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xad61, gbc.sp());
        EXPECT(0xc2a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc2a2));
        // A9 0035
        gbc.setState(0xb35d, 0x2d61, 0x30a0, 0xb7f9, 0x1af8, 0x69ef, 0x1, 0x1);
        gbc.writeMem(0xb35d, { 0xa9 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x2d61, gbc.sp());
        EXPECT(0xb35e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb35d));
        // A9 0036
        gbc.setState(0xdd84, 0x4cae, 0x6770, 0x4236, 0x62b2, 0x932c, 0x1, 0x0);
        gbc.writeMem(0xdd84, { 0xa9 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x4cae, gbc.sp());
        EXPECT(0xdd85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdd84));
        // A9 0037
        gbc.setState(0x4288, 0x7a8f, 0x64b0, 0x1214, 0x157c, 0xf6a, 0x0, 0x0);
        gbc.writeMem(0x4288, { 0xa9 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x7a8f, gbc.sp());
        EXPECT(0x4289, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0038
        gbc.setState(0xedf1, 0xa018, 0x52a0, 0xec52, 0x306a, 0xf066, 0x1, 0x1);
        gbc.writeMem(0xedf1, { 0xa9 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xa018, gbc.sp());
        EXPECT(0xedf2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xedf1));
        // A9 0039
        gbc.setState(0x9ea6, 0xb815, 0x1240, 0x8826, 0xb043, 0x588c, 0x1, 0x0);
        gbc.writeMem(0x9ea6, { 0xa9 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xb815, gbc.sp());
        EXPECT(0x9ea7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9ea6));
        // A9 003A
        gbc.setState(0xcd07, 0xcb3f, 0x9950, 0xfdec, 0x2a2c, 0xce25, 0x0, 0x1);
        gbc.writeMem(0xcd07, { 0xa9 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xcb3f, gbc.sp());
        EXPECT(0xcd08, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xcd07));
        // A9 003B
        gbc.setState(0x736f, 0x6939, 0x8ba0, 0x32a, 0xfaac, 0x57bb, 0x1, 0x0);
        gbc.writeMem(0x736f, { 0xa9 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x6939, gbc.sp());
        EXPECT(0x7370, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 003C
        gbc.setState(0xd0da, 0x9e92, 0x1140, 0xf4a3, 0x84ef, 0xafc, 0x1, 0x0);
        gbc.writeMem(0xd0da, { 0xa9 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x9e92, gbc.sp());
        EXPECT(0xd0db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd0da));
        // A9 003D
        gbc.setState(0x3fd3, 0x6bd, 0x9330, 0x259, 0xcca9, 0xe66d, 0x1, 0x0);
        gbc.writeMem(0x3fd3, { 0xa9 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x6bd, gbc.sp());
        EXPECT(0x3fd4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 003E
        gbc.setState(0x554a, 0x2e60, 0xf590, 0x7e76, 0x9562, 0x506a, 0x0, 0x1);
        gbc.writeMem(0x554a, { 0xa9 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x2e60, gbc.sp());
        EXPECT(0x554b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 003F
        gbc.setState(0x98f4, 0x3e3c, 0xfbf0, 0x9ea3, 0x9de6, 0xc42, 0x1, 0x1);
        gbc.writeMem(0x98f4, { 0xa9 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x3e3c, gbc.sp());
        EXPECT(0x98f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x98f4));
        // A9 0040
        gbc.setState(0x10fb, 0xcca5, 0xe360, 0x2bbd, 0x9eec, 0xccee, 0x1, 0x1);
        gbc.writeMem(0x10fb, { 0xa9 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xcca5, gbc.sp());
        EXPECT(0x10fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0041
        gbc.setState(0xa624, 0x6ba3, 0x39a0, 0x2459, 0x1aa2, 0x21b5, 0x0, 0x1);
        gbc.writeMem(0xa624, { 0xa9 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x6ba3, gbc.sp());
        EXPECT(0xa625, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa624));
        // A9 0042
        gbc.setState(0xb73d, 0x3f89, 0xda50, 0x8805, 0x3378, 0xc84f, 0x1, 0x0);
        gbc.writeMem(0xb73d, { 0xa9 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x3f89, gbc.sp());
        EXPECT(0xb73e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb73d));
        // A9 0043
        gbc.setState(0x597d, 0xc11c, 0xac80, 0x4a9b, 0xd781, 0xe4fa, 0x0, 0x1);
        gbc.writeMem(0x597d, { 0xa9 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xc11c, gbc.sp());
        EXPECT(0x597e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0044
        gbc.setState(0x68a8, 0x6535, 0xa180, 0xdc0b, 0xf1da, 0x8517, 0x0, 0x1);
        gbc.writeMem(0x68a8, { 0xa9 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x6535, gbc.sp());
        EXPECT(0x68a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0045
        gbc.setState(0x2687, 0x83a5, 0x24f0, 0xe388, 0x6e1c, 0xf1aa, 0x1, 0x0);
        gbc.writeMem(0x2687, { 0xa9 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x83a5, gbc.sp());
        EXPECT(0x2688, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0046
        gbc.setState(0x8b2f, 0x88c, 0x5bf0, 0x5e36, 0xb97b, 0xaeab, 0x0, 0x1);
        gbc.writeMem(0x8b2f, { 0xa9 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x88c, gbc.sp());
        EXPECT(0x8b30, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8b2f));
        // A9 0047
        gbc.setState(0x1f62, 0xae09, 0x8d80, 0x1f59, 0x6895, 0xed59, 0x1, 0x1);
        gbc.writeMem(0x1f62, { 0xa9 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xae09, gbc.sp());
        EXPECT(0x1f63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0048
        gbc.setState(0x9faf, 0x2cd8, 0x5c30, 0x1d0f, 0xda87, 0xc498, 0x1, 0x0);
        gbc.writeMem(0x9faf, { 0xa9 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x2cd8, gbc.sp());
        EXPECT(0x9fb0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9faf));
        // A9 0049
        gbc.setState(0xe4fe, 0x884, 0x4990, 0x2c21, 0x5e59, 0x915d, 0x0, 0x0);
        gbc.writeMem(0xe4fe, { 0xa9 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x884, gbc.sp());
        EXPECT(0xe4ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe4fe));
        // A9 004A
        gbc.setState(0x3c9, 0x77a1, 0xe00, 0x16c4, 0xfdf9, 0xee48, 0x0, 0x1);
        gbc.writeMem(0x3c9, { 0xa9 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x77a1, gbc.sp());
        EXPECT(0x3ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 004B
        gbc.setState(0x1b1, 0xa837, 0xcf90, 0xa1af, 0x3517, 0xf81c, 0x0, 0x0);
        gbc.writeMem(0x1b1, { 0xa9 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xa837, gbc.sp());
        EXPECT(0x1b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 004C
        gbc.setState(0xbe7b, 0x75aa, 0x2460, 0x9364, 0x8e43, 0x2878, 0x0, 0x1);
        gbc.writeMem(0xbe7b, { 0xa9 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x75aa, gbc.sp());
        EXPECT(0xbe7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbe7b));
        // A9 004D
        gbc.setState(0x2293, 0x2d7, 0xc2c0, 0xb6bf, 0x1125, 0xb62a, 0x0, 0x0);
        gbc.writeMem(0x2293, { 0xa9 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x2d7, gbc.sp());
        EXPECT(0x2294, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 004E
        gbc.setState(0x9fe7, 0x56fb, 0xb210, 0xdd52, 0xb057, 0x6156, 0x0, 0x0);
        gbc.writeMem(0x9fe7, { 0xa9 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x56fb, gbc.sp());
        EXPECT(0x9fe8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9fe7));
        // A9 004F
        gbc.setState(0x192, 0x5538, 0xf010, 0x2ec3, 0xdb90, 0x4ec1, 0x0, 0x0);
        gbc.writeMem(0x192, { 0xa9 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x5538, gbc.sp());
        EXPECT(0x193, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0050
        gbc.setState(0x19ff, 0x973d, 0x520, 0x498f, 0xe83b, 0xe9c2, 0x1, 0x0);
        gbc.writeMem(0x19ff, { 0xa9 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x973d, gbc.sp());
        EXPECT(0x1a00, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0051
        gbc.setState(0x727b, 0xb4d5, 0x7450, 0x25d3, 0x520b, 0x8d5c, 0x0, 0x0);
        gbc.writeMem(0x727b, { 0xa9 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xb4d5, gbc.sp());
        EXPECT(0x727c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0052
        gbc.setState(0xa09f, 0x67a, 0xf680, 0x4111, 0x7247, 0x6fd8, 0x0, 0x0);
        gbc.writeMem(0xa09f, { 0xa9 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x67a, gbc.sp());
        EXPECT(0xa0a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa09f));
        // A9 0053
        gbc.setState(0x70a6, 0x9590, 0x62b0, 0xc01f, 0xddf3, 0x9573, 0x0, 0x1);
        gbc.writeMem(0x70a6, { 0xa9 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x9590, gbc.sp());
        EXPECT(0x70a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0054
        gbc.setState(0x4b73, 0x2d97, 0xe340, 0xe7db, 0xe671, 0xf20, 0x0, 0x0);
        gbc.writeMem(0x4b73, { 0xa9 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x2d97, gbc.sp());
        EXPECT(0x4b74, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0055
        gbc.setState(0x466f, 0x499d, 0xba20, 0x85c7, 0x7c92, 0x6ca6, 0x0, 0x0);
        gbc.writeMem(0x466f, { 0xa9 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x499d, gbc.sp());
        EXPECT(0x4670, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0056
        gbc.setState(0x6b19, 0x9307, 0x6330, 0x7a86, 0x5e64, 0xd140, 0x1, 0x1);
        gbc.writeMem(0x6b19, { 0xa9 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x9307, gbc.sp());
        EXPECT(0x6b1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0057
        gbc.setState(0x1a7e, 0x4a63, 0xb790, 0xaf34, 0x2123, 0x91ae, 0x0, 0x1);
        gbc.writeMem(0x1a7e, { 0xa9 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x4a63, gbc.sp());
        EXPECT(0x1a7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0058
        gbc.setState(0x1db2, 0x3109, 0xdb30, 0x94b1, 0xf80, 0x7afd, 0x0, 0x1);
        gbc.writeMem(0x1db2, { 0xa9 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x3109, gbc.sp());
        EXPECT(0x1db3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0059
        gbc.setState(0x382d, 0xa86d, 0xe90, 0xc4ae, 0xf1dd, 0xb8eb, 0x0, 0x0);
        gbc.writeMem(0x382d, { 0xa9 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xa86d, gbc.sp());
        EXPECT(0x382e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 005A
        gbc.setState(0xdc5, 0x8edb, 0xc4d0, 0xb7c9, 0x51ab, 0xe91f, 0x0, 0x1);
        gbc.writeMem(0xdc5, { 0xa9 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x8edb, gbc.sp());
        EXPECT(0xdc6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 005B
        gbc.setState(0x8036, 0x3d4a, 0x9dd0, 0xbbab, 0x2ab1, 0xbe37, 0x0, 0x0);
        gbc.writeMem(0x8036, { 0xa9 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x3d4a, gbc.sp());
        EXPECT(0x8037, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8036));
        // A9 005C
        gbc.setState(0x22a, 0x33d8, 0x27e0, 0x9205, 0x6dfd, 0x669e, 0x0, 0x1);
        gbc.writeMem(0x22a, { 0xa9 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x33d8, gbc.sp());
        EXPECT(0x22b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 005D
        gbc.setState(0x2697, 0x4836, 0x2240, 0xf063, 0x4e5a, 0xe77b, 0x0, 0x0);
        gbc.writeMem(0x2697, { 0xa9 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x4836, gbc.sp());
        EXPECT(0x2698, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 005E
        gbc.setState(0xd442, 0xbe35, 0xbbb0, 0x8f34, 0x1584, 0x1846, 0x0, 0x0);
        gbc.writeMem(0xd442, { 0xa9 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xbe35, gbc.sp());
        EXPECT(0xd443, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd442));
        // A9 005F
        gbc.setState(0x8b36, 0xd353, 0xb320, 0xfaad, 0xd146, 0x3e18, 0x1, 0x0);
        gbc.writeMem(0x8b36, { 0xa9 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xd353, gbc.sp());
        EXPECT(0x8b37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8b36));
        // A9 0060
        gbc.setState(0x2b86, 0x665c, 0x1010, 0xa6ba, 0xad1, 0xfa10, 0x0, 0x1);
        gbc.writeMem(0x2b86, { 0xa9 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x665c, gbc.sp());
        EXPECT(0x2b87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0061
        gbc.setState(0x4ac4, 0xaabf, 0x8100, 0x2857, 0xf427, 0xa8d, 0x1, 0x1);
        gbc.writeMem(0x4ac4, { 0xa9 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xaabf, gbc.sp());
        EXPECT(0x4ac5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0062
        gbc.setState(0x45fe, 0x92c4, 0x1170, 0xc923, 0x2952, 0x1ba5, 0x1, 0x0);
        gbc.writeMem(0x45fe, { 0xa9 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x92c4, gbc.sp());
        EXPECT(0x45ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0063
        gbc.setState(0x4c28, 0x2442, 0x7510, 0x3a75, 0xccbf, 0xaf62, 0x1, 0x0);
        gbc.writeMem(0x4c28, { 0xa9 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x2442, gbc.sp());
        EXPECT(0x4c29, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0064
        gbc.setState(0x790a, 0x375c, 0xe7e0, 0x21fe, 0x2bea, 0xf8f8, 0x0, 0x0);
        gbc.writeMem(0x790a, { 0xa9 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x375c, gbc.sp());
        EXPECT(0x790b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0065
        gbc.setState(0xd0ee, 0x2ebf, 0xb1b0, 0xd0ae, 0xfafd, 0xf07c, 0x1, 0x0);
        gbc.writeMem(0xd0ee, { 0xa9 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x2ebf, gbc.sp());
        EXPECT(0xd0ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd0ee));
        // A9 0066
        gbc.setState(0xdb02, 0x83aa, 0x1c00, 0x4485, 0xe70a, 0xbcf2, 0x1, 0x1);
        gbc.writeMem(0xdb02, { 0xa9 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x83aa, gbc.sp());
        EXPECT(0xdb03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdb02));
        // A9 0067
        gbc.setState(0x3d74, 0x1c3b, 0x4c80, 0xabfd, 0xd50b, 0xbeff, 0x1, 0x1);
        gbc.writeMem(0x3d74, { 0xa9 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x1c3b, gbc.sp());
        EXPECT(0x3d75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0068
        gbc.setState(0x4a02, 0x47d3, 0x1530, 0xea22, 0xf47, 0x1334, 0x1, 0x1);
        gbc.writeMem(0x4a02, { 0xa9 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x47d3, gbc.sp());
        EXPECT(0x4a03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0069
        gbc.setState(0x650c, 0xf5a0, 0x3be0, 0xb261, 0xc5d9, 0x4c50, 0x0, 0x0);
        gbc.writeMem(0x650c, { 0xa9 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xf5a0, gbc.sp());
        EXPECT(0x650d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 006A
        gbc.setState(0xe6d5, 0x9309, 0x9960, 0xe6b8, 0x6870, 0x659a, 0x1, 0x0);
        gbc.writeMem(0xe6d5, { 0xa9 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x9309, gbc.sp());
        EXPECT(0xe6d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe6d5));
        // A9 006B
        gbc.setState(0xe6eb, 0xfad0, 0x7150, 0x4773, 0xc3d2, 0x8259, 0x1, 0x1);
        gbc.writeMem(0xe6eb, { 0xa9 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xfad0, gbc.sp());
        EXPECT(0xe6ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe6eb));
        // A9 006C
        gbc.setState(0xfa8, 0x7eef, 0x8640, 0x9c57, 0xc05f, 0x5a84, 0x1, 0x0);
        gbc.writeMem(0xfa8, { 0xa9 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x7eef, gbc.sp());
        EXPECT(0xfa9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 006D
        gbc.setState(0xbee0, 0xf48f, 0xe320, 0x80d3, 0xe23b, 0x3784, 0x0, 0x0);
        gbc.writeMem(0xbee0, { 0xa9 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xf48f, gbc.sp());
        EXPECT(0xbee1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbee0));
        // A9 006E
        gbc.setState(0xd106, 0xabc3, 0xd650, 0x2a10, 0x88f6, 0xab0a, 0x0, 0x1);
        gbc.writeMem(0xd106, { 0xa9 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xabc3, gbc.sp());
        EXPECT(0xd107, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd106));
        // A9 006F
        gbc.setState(0x807b, 0xf27c, 0x8890, 0x7548, 0x4fca, 0x15ba, 0x1, 0x1);
        gbc.writeMem(0x807b, { 0xa9 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xf27c, gbc.sp());
        EXPECT(0x807c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x807b));
        // A9 0070
        gbc.setState(0x1ae5, 0x31b5, 0xa450, 0x65a6, 0xf473, 0xa64, 0x0, 0x0);
        gbc.writeMem(0x1ae5, { 0xa9 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x31b5, gbc.sp());
        EXPECT(0x1ae6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0071
        gbc.setState(0xb22f, 0x952b, 0xc170, 0x450a, 0xd73d, 0xbd02, 0x0, 0x0);
        gbc.writeMem(0xb22f, { 0xa9 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x952b, gbc.sp());
        EXPECT(0xb230, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb22f));
        // A9 0072
        gbc.setState(0x58b6, 0xcc4b, 0x1bd0, 0x5da, 0xe8e8, 0x87e1, 0x0, 0x0);
        gbc.writeMem(0x58b6, { 0xa9 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xcc4b, gbc.sp());
        EXPECT(0x58b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0073
        gbc.setState(0x8d2e, 0xa453, 0xf4e0, 0x1405, 0x3978, 0xfe09, 0x0, 0x0);
        gbc.writeMem(0x8d2e, { 0xa9 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xa453, gbc.sp());
        EXPECT(0x8d2f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8d2e));
        // A9 0074
        gbc.setState(0xe600, 0x6283, 0xdc30, 0x229, 0x4f16, 0x4230, 0x1, 0x0);
        gbc.writeMem(0xe600, { 0xa9 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x6283, gbc.sp());
        EXPECT(0xe601, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe600));
        // A9 0075
        gbc.setState(0xa7e5, 0x6513, 0xfe20, 0x948a, 0xc22b, 0x450, 0x0, 0x1);
        gbc.writeMem(0xa7e5, { 0xa9 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x6513, gbc.sp());
        EXPECT(0xa7e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa7e5));
        // A9 0076
        gbc.setState(0x4fba, 0x3b59, 0x66f0, 0xd600, 0xa942, 0x2dd8, 0x0, 0x1);
        gbc.writeMem(0x4fba, { 0xa9 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x3b59, gbc.sp());
        EXPECT(0x4fbb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0077
        gbc.setState(0x4ea9, 0xdba8, 0xf210, 0x79e, 0x11d3, 0x4b0d, 0x1, 0x0);
        gbc.writeMem(0x4ea9, { 0xa9 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xdba8, gbc.sp());
        EXPECT(0x4eaa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0078
        gbc.setState(0xd3bc, 0x4506, 0x9980, 0xa939, 0xa37b, 0xd9e6, 0x1, 0x1);
        gbc.writeMem(0xd3bc, { 0xa9 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x4506, gbc.sp());
        EXPECT(0xd3bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd3bc));
        // A9 0079
        gbc.setState(0x4d6d, 0x18bd, 0x1010, 0xe89e, 0xedaf, 0x60cb, 0x1, 0x1);
        gbc.writeMem(0x4d6d, { 0xa9 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x18bd, gbc.sp());
        EXPECT(0x4d6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 007A
        gbc.setState(0x2368, 0xe4ed, 0x300, 0x82c4, 0x8a02, 0xbbb3, 0x0, 0x1);
        gbc.writeMem(0x2368, { 0xa9 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xe4ed, gbc.sp());
        EXPECT(0x2369, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 007B
        gbc.setState(0xbff1, 0x51ab, 0xbbc0, 0xa69f, 0x977a, 0x7710, 0x0, 0x0);
        gbc.writeMem(0xbff1, { 0xa9 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x51ab, gbc.sp());
        EXPECT(0xbff2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbff1));
        // A9 007C
        gbc.setState(0x2b64, 0xd907, 0x6d30, 0xc921, 0x5d23, 0x1be9, 0x1, 0x0);
        gbc.writeMem(0x2b64, { 0xa9 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xd907, gbc.sp());
        EXPECT(0x2b65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 007D
        gbc.setState(0xd6dd, 0x9984, 0x3820, 0x62bb, 0x56e4, 0x33b0, 0x1, 0x0);
        gbc.writeMem(0xd6dd, { 0xa9 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x9984, gbc.sp());
        EXPECT(0xd6de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd6dd));
        // A9 007E
        gbc.setState(0x869a, 0xd7c, 0x68f0, 0x5149, 0xea4c, 0x2ca8, 0x0, 0x0);
        gbc.writeMem(0x869a, { 0xa9 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xd7c, gbc.sp());
        EXPECT(0x869b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x869a));
        // A9 007F
        gbc.setState(0xe753, 0x5782, 0xf9f0, 0x1fb4, 0x82b0, 0x61b6, 0x1, 0x0);
        gbc.writeMem(0xe753, { 0xa9 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x5782, gbc.sp());
        EXPECT(0xe754, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe753));
        // A9 0080
        gbc.setState(0xb413, 0x501e, 0x2630, 0x909f, 0x713b, 0xdc4f, 0x0, 0x0);
        gbc.writeMem(0xb413, { 0xa9 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x501e, gbc.sp());
        EXPECT(0xb414, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb413));
        // A9 0081
        gbc.setState(0xa826, 0x242, 0x9610, 0x666c, 0xb861, 0x80d9, 0x0, 0x0);
        gbc.writeMem(0xa826, { 0xa9 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x242, gbc.sp());
        EXPECT(0xa827, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa826));
        // A9 0082
        gbc.setState(0xcad, 0x32d, 0x5040, 0x2d11, 0xbed3, 0x630, 0x1, 0x0);
        gbc.writeMem(0xcad, { 0xa9 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x32d, gbc.sp());
        EXPECT(0xcae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0083
        gbc.setState(0x566c, 0xa2dd, 0x6cf0, 0x6355, 0x8fa9, 0x45f5, 0x0, 0x1);
        gbc.writeMem(0x566c, { 0xa9 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xa2dd, gbc.sp());
        EXPECT(0x566d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0084
        gbc.setState(0x158d, 0x42, 0x81d0, 0x7f21, 0xbe4a, 0xe50d, 0x1, 0x0);
        gbc.writeMem(0x158d, { 0xa9 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x42, gbc.sp());
        EXPECT(0x158e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0085
        gbc.setState(0xa5e1, 0x39ff, 0xecc0, 0xa732, 0x7657, 0x2125, 0x1, 0x0);
        gbc.writeMem(0xa5e1, { 0xa9 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x39ff, gbc.sp());
        EXPECT(0xa5e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa5e1));
        // A9 0086
        gbc.setState(0x61f2, 0xb89, 0xc900, 0x9b21, 0xd54d, 0xf584, 0x0, 0x1);
        gbc.writeMem(0x61f2, { 0xa9 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xb89, gbc.sp());
        EXPECT(0x61f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0087
        gbc.setState(0x84b2, 0xfb77, 0x670, 0x1a0b, 0xab1c, 0x9543, 0x1, 0x0);
        gbc.writeMem(0x84b2, { 0xa9 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xfb77, gbc.sp());
        EXPECT(0x84b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x84b2));
        // A9 0088
        gbc.setState(0xdefc, 0x7a97, 0x28a0, 0xae2, 0x8196, 0x53ee, 0x0, 0x0);
        gbc.writeMem(0xdefc, { 0xa9 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x7a97, gbc.sp());
        EXPECT(0xdefd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdefc));
        // A9 0089
        gbc.setState(0x2a6, 0xdf41, 0x7840, 0xab7c, 0x5183, 0x5d20, 0x1, 0x0);
        gbc.writeMem(0x2a6, { 0xa9 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xdf41, gbc.sp());
        EXPECT(0x2a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 008A
        gbc.setState(0x89af, 0x6e5f, 0x8610, 0x45cc, 0xc8f8, 0xbb82, 0x1, 0x1);
        gbc.writeMem(0x89af, { 0xa9 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x6e5f, gbc.sp());
        EXPECT(0x89b0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x89af));
        // A9 008B
        gbc.setState(0x1f8a, 0x5e3e, 0xaca0, 0x35b8, 0xbd17, 0xa8c1, 0x0, 0x0);
        gbc.writeMem(0x1f8a, { 0xa9 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x5e3e, gbc.sp());
        EXPECT(0x1f8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 008C
        gbc.setState(0xa1f2, 0x9eb7, 0xe60, 0xc3b0, 0x5225, 0x29, 0x1, 0x0);
        gbc.writeMem(0xa1f2, { 0xa9 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x9eb7, gbc.sp());
        EXPECT(0xa1f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa1f2));
        // A9 008D
        gbc.setState(0x6372, 0x3b9b, 0x3280, 0xb2cc, 0x7b43, 0xec23, 0x1, 0x1);
        gbc.writeMem(0x6372, { 0xa9 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x3b9b, gbc.sp());
        EXPECT(0x6373, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 008E
        gbc.setState(0x3cbd, 0xd26c, 0x8610, 0xfa20, 0x2aa, 0x8f3c, 0x0, 0x0);
        gbc.writeMem(0x3cbd, { 0xa9 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xd26c, gbc.sp());
        EXPECT(0x3cbe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 008F
        gbc.setState(0x9e78, 0xa0a3, 0xd5a0, 0x152e, 0x3e20, 0x9d65, 0x0, 0x0);
        gbc.writeMem(0x9e78, { 0xa9 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xa0a3, gbc.sp());
        EXPECT(0x9e79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9e78));
        // A9 0090
        gbc.setState(0xa776, 0xcf34, 0x90f0, 0x80dd, 0xdf3d, 0x66e8, 0x0, 0x0);
        gbc.writeMem(0xa776, { 0xa9 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xcf34, gbc.sp());
        EXPECT(0xa777, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa776));
        // A9 0091
        gbc.setState(0xb5c3, 0xb6cb, 0x9770, 0x1526, 0xe91d, 0xd5c8, 0x1, 0x1);
        gbc.writeMem(0xb5c3, { 0xa9 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xb6cb, gbc.sp());
        EXPECT(0xb5c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb5c3));
        // A9 0092
        gbc.setState(0x831c, 0x4711, 0x11c0, 0x17fc, 0x2e2d, 0x8592, 0x1, 0x1);
        gbc.writeMem(0x831c, { 0xa9 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x4711, gbc.sp());
        EXPECT(0x831d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x831c));
        // A9 0093
        gbc.setState(0xa1d6, 0x723e, 0x84e0, 0x17cc, 0x3c44, 0x9741, 0x0, 0x1);
        gbc.writeMem(0xa1d6, { 0xa9 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x723e, gbc.sp());
        EXPECT(0xa1d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa1d6));
        // A9 0094
        gbc.setState(0xe79a, 0xdf83, 0xd8c0, 0x817, 0x33ca, 0xf00b, 0x1, 0x0);
        gbc.writeMem(0xe79a, { 0xa9 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xdf83, gbc.sp());
        EXPECT(0xe79b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe79a));
        // A9 0095
        gbc.setState(0x20a5, 0xb05d, 0x9380, 0xdb2d, 0x24d1, 0x2c3, 0x0, 0x1);
        gbc.writeMem(0x20a5, { 0xa9 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xb05d, gbc.sp());
        EXPECT(0x20a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0096
        gbc.setState(0xdb4c, 0x9b18, 0xbe10, 0x8b51, 0x97e2, 0x5051, 0x0, 0x1);
        gbc.writeMem(0xdb4c, { 0xa9 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x9b18, gbc.sp());
        EXPECT(0xdb4d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdb4c));
        // A9 0097
        gbc.setState(0xdd73, 0x28ca, 0x2d10, 0xfe4f, 0xa177, 0x6fd8, 0x1, 0x1);
        gbc.writeMem(0xdd73, { 0xa9 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x28ca, gbc.sp());
        EXPECT(0xdd74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdd73));
        // A9 0099
        gbc.setState(0x3ede, 0xbb59, 0x8d70, 0x22b8, 0xb02d, 0x8879, 0x1, 0x1);
        gbc.writeMem(0x3ede, { 0xa9 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xbb59, gbc.sp());
        EXPECT(0x3edf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 009B
        gbc.setState(0xbf88, 0xb51a, 0x5cf0, 0x3c54, 0x415f, 0xb3a5, 0x0, 0x0);
        gbc.writeMem(0xbf88, { 0xa9 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xb51a, gbc.sp());
        EXPECT(0xbf89, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbf88));
        // A9 009C
        gbc.setState(0x5aea, 0xa8d9, 0xe8f0, 0xcedd, 0x7bf5, 0xa4bf, 0x0, 0x1);
        gbc.writeMem(0x5aea, { 0xa9 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xa8d9, gbc.sp());
        EXPECT(0x5aeb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 009D
        gbc.setState(0xb502, 0x6da5, 0x65c0, 0x18aa, 0x8279, 0xa841, 0x1, 0x1);
        gbc.writeMem(0xb502, { 0xa9 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x6da5, gbc.sp());
        EXPECT(0xb503, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb502));
        // A9 009E
        gbc.setState(0x97bf, 0x3877, 0xf3f0, 0xc0b6, 0x9cb3, 0x9d63, 0x0, 0x1);
        gbc.writeMem(0x97bf, { 0xa9 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x3877, gbc.sp());
        EXPECT(0x97c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x97bf));
        // A9 009F
        gbc.setState(0xa430, 0xfbfd, 0xd40, 0x5c4a, 0x80f6, 0xed70, 0x1, 0x0);
        gbc.writeMem(0xa430, { 0xa9 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xfbfd, gbc.sp());
        EXPECT(0xa431, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa430));
        // A9 00A0
        gbc.setState(0x8b11, 0x8047, 0x3b80, 0xe22d, 0xf58c, 0xbba3, 0x0, 0x1);
        gbc.writeMem(0x8b11, { 0xa9 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x8047, gbc.sp());
        EXPECT(0x8b12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8b11));
        // A9 00A1
        gbc.setState(0x6aa8, 0x68c2, 0x2c60, 0x999c, 0xe0fe, 0x8012, 0x0, 0x1);
        gbc.writeMem(0x6aa8, { 0xa9 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x68c2, gbc.sp());
        EXPECT(0x6aa9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00A2
        gbc.setState(0xd37d, 0x33ab, 0xa7e0, 0x2ab1, 0x1626, 0xe587, 0x0, 0x0);
        gbc.writeMem(0xd37d, { 0xa9 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x33ab, gbc.sp());
        EXPECT(0xd37e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd37d));
        // A9 00A3
        gbc.setState(0x817a, 0x83de, 0xd120, 0x6e38, 0xdcde, 0xc10b, 0x1, 0x1);
        gbc.writeMem(0x817a, { 0xa9 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x83de, gbc.sp());
        EXPECT(0x817b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x817a));
        // A9 00A4
        gbc.setState(0x9e47, 0xa92, 0xd190, 0x3580, 0xfaf1, 0xf24d, 0x1, 0x0);
        gbc.writeMem(0x9e47, { 0xa9 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xa92, gbc.sp());
        EXPECT(0x9e48, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9e47));
        // A9 00A5
        gbc.setState(0xa131, 0xdecd, 0xfd50, 0xd736, 0x8c79, 0x8f31, 0x1, 0x1);
        gbc.writeMem(0xa131, { 0xa9 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xdecd, gbc.sp());
        EXPECT(0xa132, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa131));
        // A9 00A6
        gbc.setState(0xa5ab, 0x8281, 0xc4a0, 0x317e, 0xb42f, 0xee95, 0x1, 0x1);
        gbc.writeMem(0xa5ab, { 0xa9 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x8281, gbc.sp());
        EXPECT(0xa5ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa5ab));
        // A9 00A7
        gbc.setState(0x5546, 0xd44a, 0x2200, 0xd539, 0xd4a9, 0x20d2, 0x1, 0x1);
        gbc.writeMem(0x5546, { 0xa9 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xd44a, gbc.sp());
        EXPECT(0x5547, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00A8
        gbc.setState(0x6cd2, 0xef30, 0xc840, 0x41ff, 0x5925, 0xa773, 0x0, 0x1);
        gbc.writeMem(0x6cd2, { 0xa9 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xef30, gbc.sp());
        EXPECT(0x6cd3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00A9
        gbc.setState(0xc5, 0x1286, 0x6fc0, 0xc156, 0x21dc, 0xc27d, 0x0, 0x0);
        gbc.writeMem(0xc5, { 0xa9 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x1286, gbc.sp());
        EXPECT(0xc6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00AA
        gbc.setState(0x7519, 0xed8, 0x7e50, 0xccd9, 0xfa14, 0x690d, 0x1, 0x1);
        gbc.writeMem(0x7519, { 0xa9 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xed8, gbc.sp());
        EXPECT(0x751a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00AC
        gbc.setState(0xbf0b, 0x32d2, 0x9970, 0x1afc, 0x1535, 0x1408, 0x0, 0x0);
        gbc.writeMem(0xbf0b, { 0xa9 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x32d2, gbc.sp());
        EXPECT(0xbf0c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbf0b));
        // A9 00AD
        gbc.setState(0x9974, 0x443a, 0xf8f0, 0xe1dd, 0x3a0f, 0x867c, 0x1, 0x0);
        gbc.writeMem(0x9974, { 0xa9 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x443a, gbc.sp());
        EXPECT(0x9975, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9974));
        // A9 00AE
        gbc.setState(0xca15, 0x66d6, 0x38f0, 0x3cd1, 0x8074, 0x483f, 0x0, 0x1);
        gbc.writeMem(0xca15, { 0xa9 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x66d6, gbc.sp());
        EXPECT(0xca16, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xca15));
        // A9 00AF
        gbc.setState(0xafd1, 0x4e1b, 0xeb40, 0x502, 0x3918, 0xd538, 0x0, 0x0);
        gbc.writeMem(0xafd1, { 0xa9 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x4e1b, gbc.sp());
        EXPECT(0xafd2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xafd1));
        // A9 00B0
        gbc.setState(0xb344, 0xd6b3, 0x9ec0, 0x100a, 0xc053, 0x8838, 0x0, 0x1);
        gbc.writeMem(0xb344, { 0xa9 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xd6b3, gbc.sp());
        EXPECT(0xb345, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb344));
        // A9 00B2
        gbc.setState(0x447, 0x6931, 0xeac0, 0xe495, 0xa777, 0x3d18, 0x1, 0x1);
        gbc.writeMem(0x447, { 0xa9 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x6931, gbc.sp());
        EXPECT(0x448, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00B3
        gbc.setState(0xd79d, 0x9942, 0xd0d0, 0xa96b, 0xe656, 0x2276, 0x0, 0x1);
        gbc.writeMem(0xd79d, { 0xa9 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x9942, gbc.sp());
        EXPECT(0xd79e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd79d));
        // A9 00B4
        gbc.setState(0xd910, 0x351e, 0xb420, 0xb4c3, 0x1ac6, 0x45a6, 0x0, 0x1);
        gbc.writeMem(0xd910, { 0xa9 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x351e, gbc.sp());
        EXPECT(0xd911, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd910));
        // A9 00B5
        gbc.setState(0xb6f2, 0x462e, 0x8f60, 0x4656, 0x6ead, 0x943a, 0x0, 0x1);
        gbc.writeMem(0xb6f2, { 0xa9 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x462e, gbc.sp());
        EXPECT(0xb6f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb6f2));
        // A9 00B6
        gbc.setState(0x5df8, 0xe1cf, 0x2a50, 0xbe73, 0x848f, 0x4145, 0x1, 0x1);
        gbc.writeMem(0x5df8, { 0xa9 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xe1cf, gbc.sp());
        EXPECT(0x5df9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00B7
        gbc.setState(0x722b, 0x6460, 0x8fc0, 0x3baa, 0x9822, 0x6abd, 0x0, 0x1);
        gbc.writeMem(0x722b, { 0xa9 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x6460, gbc.sp());
        EXPECT(0x722c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00B8
        gbc.setState(0xaf62, 0xfcf6, 0x59d0, 0x6524, 0xf758, 0x6467, 0x0, 0x0);
        gbc.writeMem(0xaf62, { 0xa9 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xfcf6, gbc.sp());
        EXPECT(0xaf63, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xaf62));
        // A9 00B9
        gbc.setState(0xb091, 0xb466, 0xe110, 0xa109, 0x4dc5, 0x5dab, 0x0, 0x1);
        gbc.writeMem(0xb091, { 0xa9 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xb466, gbc.sp());
        EXPECT(0xb092, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb091));
        // A9 00BA
        gbc.setState(0xea8d, 0x26dc, 0x5570, 0x63d2, 0x5776, 0x77c0, 0x0, 0x1);
        gbc.writeMem(0xea8d, { 0xa9 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x26dc, gbc.sp());
        EXPECT(0xea8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xea8d));
        // A9 00BB
        gbc.setState(0xc947, 0xe3a6, 0xe560, 0x77f2, 0x26b9, 0x71b4, 0x1, 0x0);
        gbc.writeMem(0xc947, { 0xa9 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xe3a6, gbc.sp());
        EXPECT(0xc948, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc947));
        // A9 00BC
        gbc.setState(0xd945, 0xceaa, 0x10, 0x88fa, 0xa634, 0x2348, 0x1, 0x0);
        gbc.writeMem(0xd945, { 0xa9 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xceaa, gbc.sp());
        EXPECT(0xd946, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd945));
        // A9 00BD
        gbc.setState(0x139a, 0x27ce, 0xe4c0, 0xc8ef, 0x5525, 0xe7e9, 0x1, 0x1);
        gbc.writeMem(0x139a, { 0xa9 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x27ce, gbc.sp());
        EXPECT(0x139b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00BE
        gbc.setState(0xd948, 0x3219, 0x9520, 0xc6ae, 0xc08d, 0xd18c, 0x0, 0x1);
        gbc.writeMem(0xd948, { 0xa9 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x3219, gbc.sp());
        EXPECT(0xd949, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd948));
        // A9 00BF
        gbc.setState(0x36c9, 0x77f5, 0xa6e0, 0xc5a1, 0xe683, 0x8e0e, 0x0, 0x0);
        gbc.writeMem(0x36c9, { 0xa9 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x77f5, gbc.sp());
        EXPECT(0x36ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00C1
        gbc.setState(0xb206, 0x60c2, 0x2200, 0x97f7, 0xda5a, 0xd1b7, 0x0, 0x0);
        gbc.writeMem(0xb206, { 0xa9 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x60c2, gbc.sp());
        EXPECT(0xb207, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb206));
        // A9 00C2
        gbc.setState(0xb1fa, 0x37e4, 0x1ef0, 0x58a9, 0xe4e9, 0x60c9, 0x1, 0x0);
        gbc.writeMem(0xb1fa, { 0xa9 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x37e4, gbc.sp());
        EXPECT(0xb1fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb1fa));
        // A9 00C3
        gbc.setState(0x582b, 0x6b77, 0x8e50, 0x48f9, 0x1586, 0xd828, 0x1, 0x1);
        gbc.writeMem(0x582b, { 0xa9 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x6b77, gbc.sp());
        EXPECT(0x582c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00C4
        gbc.setState(0x88e8, 0x39ff, 0x7940, 0xfaea, 0x4256, 0x854f, 0x1, 0x1);
        gbc.writeMem(0x88e8, { 0xa9 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x39ff, gbc.sp());
        EXPECT(0x88e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x88e8));
        // A9 00C5
        gbc.setState(0x5430, 0xbb7a, 0x7740, 0xb849, 0x3c3c, 0x3de4, 0x0, 0x1);
        gbc.writeMem(0x5430, { 0xa9 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xbb7a, gbc.sp());
        EXPECT(0x5431, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00C6
        gbc.setState(0xda32, 0x9d07, 0xf990, 0x5ea7, 0x16df, 0xb439, 0x1, 0x1);
        gbc.writeMem(0xda32, { 0xa9 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x9d07, gbc.sp());
        EXPECT(0xda33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xda32));
        // A9 00C7
        gbc.setState(0xa967, 0x4cfd, 0xca50, 0x4dc6, 0xbe9d, 0x9021, 0x1, 0x1);
        gbc.writeMem(0xa967, { 0xa9 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x4cfd, gbc.sp());
        EXPECT(0xa968, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa967));
        // A9 00C8
        gbc.setState(0xbbde, 0x4640, 0x7ed0, 0xe60, 0x468b, 0xcfb8, 0x0, 0x1);
        gbc.writeMem(0xbbde, { 0xa9 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x4640, gbc.sp());
        EXPECT(0xbbdf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbbde));
        // A9 00C9
        gbc.setState(0x7aa8, 0x881b, 0x7750, 0xbf2c, 0xbaa9, 0xd123, 0x1, 0x1);
        gbc.writeMem(0x7aa8, { 0xa9 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x881b, gbc.sp());
        EXPECT(0x7aa9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00CA
        gbc.setState(0xe0d2, 0xba20, 0x10e0, 0xfbb2, 0x2ddc, 0x384e, 0x1, 0x0);
        gbc.writeMem(0xe0d2, { 0xa9 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xba20, gbc.sp());
        EXPECT(0xe0d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe0d2));
        // A9 00CB
        gbc.setState(0xeaa5, 0x8b5b, 0xd460, 0xa0a2, 0xe8b9, 0x6e50, 0x1, 0x1);
        gbc.writeMem(0xeaa5, { 0xa9 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x8b5b, gbc.sp());
        EXPECT(0xeaa6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xeaa5));
        // A9 00CC
        gbc.setState(0x2bb2, 0x8323, 0x4500, 0x7f, 0xf895, 0x8728, 0x0, 0x1);
        gbc.writeMem(0x2bb2, { 0xa9 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x8323, gbc.sp());
        EXPECT(0x2bb3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00CD
        gbc.setState(0xb1df, 0xe093, 0x1d40, 0x64cf, 0x3f1a, 0xf6c, 0x1, 0x0);
        gbc.writeMem(0xb1df, { 0xa9 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xe093, gbc.sp());
        EXPECT(0xb1e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb1df));
        // A9 00CE
        gbc.setState(0x6efc, 0x6c45, 0x1f00, 0x1bf8, 0x556f, 0xdb20, 0x1, 0x1);
        gbc.writeMem(0x6efc, { 0xa9 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x6c45, gbc.sp());
        EXPECT(0x6efd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00CF
        gbc.setState(0x83c9, 0x6937, 0x4280, 0xecb4, 0x2240, 0xf138, 0x0, 0x1);
        gbc.writeMem(0x83c9, { 0xa9 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x6937, gbc.sp());
        EXPECT(0x83ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x83c9));
        // A9 00D0
        gbc.setState(0x23e9, 0x4f7e, 0xb850, 0x5f32, 0xf0aa, 0x9915, 0x1, 0x1);
        gbc.writeMem(0x23e9, { 0xa9 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x4f7e, gbc.sp());
        EXPECT(0x23ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00D1
        gbc.setState(0xddda, 0x7974, 0x4000, 0xbb23, 0x11b, 0xbbaf, 0x0, 0x0);
        gbc.writeMem(0xddda, { 0xa9 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x7974, gbc.sp());
        EXPECT(0xdddb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xddda));
        // A9 00D2
        gbc.setState(0x857f, 0x3add, 0x47f0, 0xa61a, 0x2be2, 0x5c6c, 0x0, 0x1);
        gbc.writeMem(0x857f, { 0xa9 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x3add, gbc.sp());
        EXPECT(0x8580, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x857f));
        // A9 00D3
        gbc.setState(0x8133, 0x6c67, 0x7c00, 0x3c5f, 0x8741, 0x2a36, 0x1, 0x1);
        gbc.writeMem(0x8133, { 0xa9 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x6c67, gbc.sp());
        EXPECT(0x8134, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8133));
        // A9 00D5
        gbc.setState(0xc4fd, 0x8158, 0xc680, 0xffd0, 0x217d, 0xbf6a, 0x0, 0x1);
        gbc.writeMem(0xc4fd, { 0xa9 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x8158, gbc.sp());
        EXPECT(0xc4fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc4fd));
        // A9 00D6
        gbc.setState(0xe6d7, 0x7c1, 0xd500, 0xc994, 0x479e, 0x7f25, 0x1, 0x0);
        gbc.writeMem(0xe6d7, { 0xa9 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x7c1, gbc.sp());
        EXPECT(0xe6d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe6d7));
        // A9 00D7
        gbc.setState(0xb7d1, 0x82af, 0x1540, 0x274d, 0x471c, 0x90cf, 0x1, 0x0);
        gbc.writeMem(0xb7d1, { 0xa9 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x82af, gbc.sp());
        EXPECT(0xb7d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb7d1));
        // A9 00D8
        gbc.setState(0xb3b, 0x512f, 0xdd70, 0x4c3e, 0x2e57, 0xfdbf, 0x0, 0x1);
        gbc.writeMem(0xb3b, { 0xa9 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x512f, gbc.sp());
        EXPECT(0xb3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00DA
        gbc.setState(0x824a, 0x3cab, 0xf240, 0xc455, 0x81bc, 0xa9c8, 0x0, 0x1);
        gbc.writeMem(0x824a, { 0xa9 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x3cab, gbc.sp());
        EXPECT(0x824b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x824a));
        // A9 00DB
        gbc.setState(0x12d1, 0xb8aa, 0x2bd0, 0xcb12, 0xa988, 0xae, 0x0, 0x0);
        gbc.writeMem(0x12d1, { 0xa9 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xb8aa, gbc.sp());
        EXPECT(0x12d2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00DC
        gbc.setState(0x5361, 0xb532, 0xde60, 0xcad8, 0x5b53, 0x91db, 0x1, 0x0);
        gbc.writeMem(0x5361, { 0xa9 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xb532, gbc.sp());
        EXPECT(0x5362, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00DD
        gbc.setState(0x3fb7, 0x1f0f, 0xc310, 0x1edb, 0x56af, 0x1a2a, 0x0, 0x1);
        gbc.writeMem(0x3fb7, { 0xa9 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x1f0f, gbc.sp());
        EXPECT(0x3fb8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00DE
        gbc.setState(0xeb60, 0x548f, 0x3470, 0x77bb, 0xb7cb, 0x7b83, 0x1, 0x0);
        gbc.writeMem(0xeb60, { 0xa9 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x548f, gbc.sp());
        EXPECT(0xeb61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xeb60));
        // A9 00DF
        gbc.setState(0x9427, 0x7a09, 0x40d0, 0xb2c4, 0xb3fe, 0x8357, 0x1, 0x1);
        gbc.writeMem(0x9427, { 0xa9 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x7a09, gbc.sp());
        EXPECT(0x9428, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9427));
        // A9 00E0
        gbc.setState(0x18a6, 0x4789, 0x78d0, 0xd6cb, 0xf504, 0xf80f, 0x0, 0x0);
        gbc.writeMem(0x18a6, { 0xa9 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x4789, gbc.sp());
        EXPECT(0x18a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00E1
        gbc.setState(0x4602, 0xd21f, 0x8630, 0xd070, 0x2da6, 0xb195, 0x1, 0x1);
        gbc.writeMem(0x4602, { 0xa9 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xd21f, gbc.sp());
        EXPECT(0x4603, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00E2
        gbc.setState(0xa935, 0xbbbe, 0xf6f0, 0x4976, 0x5aad, 0x8964, 0x1, 0x1);
        gbc.writeMem(0xa935, { 0xa9 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xbbbe, gbc.sp());
        EXPECT(0xa936, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa935));
        // A9 00E3
        gbc.setState(0x4160, 0xc76b, 0x7e10, 0x7c02, 0x5a3d, 0x2a4a, 0x0, 0x0);
        gbc.writeMem(0x4160, { 0xa9 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xc76b, gbc.sp());
        EXPECT(0x4161, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00E4
        gbc.setState(0xb886, 0xc372, 0x6ab0, 0x6cee, 0x7a9, 0x460d, 0x0, 0x1);
        gbc.writeMem(0xb886, { 0xa9 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xc372, gbc.sp());
        EXPECT(0xb887, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb886));
        // A9 00E5
        gbc.setState(0x37af, 0x5c5e, 0x21a0, 0xcf59, 0x6801, 0x399, 0x0, 0x0);
        gbc.writeMem(0x37af, { 0xa9 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x5c5e, gbc.sp());
        EXPECT(0x37b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00E6
        gbc.setState(0xc69b, 0x333a, 0x7640, 0x1395, 0x776a, 0xe8c6, 0x1, 0x0);
        gbc.writeMem(0xc69b, { 0xa9 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x333a, gbc.sp());
        EXPECT(0xc69c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc69b));
        // A9 00E7
        gbc.setState(0xc6a5, 0x35e0, 0x7030, 0xe362, 0x79a3, 0x4b8c, 0x0, 0x0);
        gbc.writeMem(0xc6a5, { 0xa9 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x35e0, gbc.sp());
        EXPECT(0xc6a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc6a5));
        // A9 00E8
        gbc.setState(0x1926, 0x10fb, 0x530, 0x64f2, 0x34a7, 0x2e0f, 0x0, 0x0);
        gbc.writeMem(0x1926, { 0xa9 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x10fb, gbc.sp());
        EXPECT(0x1927, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00E9
        gbc.setState(0x2a04, 0x4b64, 0x1680, 0x5626, 0x2305, 0x1125, 0x0, 0x0);
        gbc.writeMem(0x2a04, { 0xa9 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x4b64, gbc.sp());
        EXPECT(0x2a05, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00EA
        gbc.setState(0x4849, 0x69d0, 0x6d0, 0xee82, 0x57cd, 0x1cbf, 0x0, 0x1);
        gbc.writeMem(0x4849, { 0xa9 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x69d0, gbc.sp());
        EXPECT(0x484a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00EB
        gbc.setState(0xc55a, 0x6d6c, 0xc00, 0x7ce, 0xa6c4, 0x52a, 0x0, 0x1);
        gbc.writeMem(0xc55a, { 0xa9 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x6d6c, gbc.sp());
        EXPECT(0xc55b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc55a));
        // A9 00EC
        gbc.setState(0x8fb, 0x2d9, 0x7c40, 0x8f99, 0xa12f, 0xee09, 0x0, 0x0);
        gbc.writeMem(0x8fb, { 0xa9 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x2d9, gbc.sp());
        EXPECT(0x8fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00EE
        gbc.setState(0x5d33, 0x3aee, 0x3c50, 0x3a71, 0x640a, 0xae46, 0x1, 0x1);
        gbc.writeMem(0x5d33, { 0xa9 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x3aee, gbc.sp());
        EXPECT(0x5d34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00EF
        gbc.setState(0x2993, 0xfe6, 0x1920, 0x69e2, 0xac1a, 0xfc76, 0x1, 0x1);
        gbc.writeMem(0x2993, { 0xa9 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xfe6, gbc.sp());
        EXPECT(0x2994, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00F0
        gbc.setState(0xb94f, 0x35e, 0x6660, 0x5f8d, 0xf1b7, 0xd8ae, 0x0, 0x1);
        gbc.writeMem(0xb94f, { 0xa9 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x35e, gbc.sp());
        EXPECT(0xb950, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb94f));
        // A9 00F1
        gbc.setState(0x485f, 0xc1c1, 0xe330, 0xc88e, 0xd3fb, 0x91b, 0x0, 0x0);
        gbc.writeMem(0x485f, { 0xa9 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xc1c1, gbc.sp());
        EXPECT(0x4860, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00F2
        gbc.setState(0x5707, 0x4523, 0xdb80, 0x6849, 0xb661, 0x6c7b, 0x0, 0x0);
        gbc.writeMem(0x5707, { 0xa9 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x4523, gbc.sp());
        EXPECT(0x5708, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00F3
        gbc.setState(0x8ed6, 0x213e, 0xce60, 0xbc5e, 0xfec4, 0x3a36, 0x0, 0x0);
        gbc.writeMem(0x8ed6, { 0xa9 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x213e, gbc.sp());
        EXPECT(0x8ed7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8ed6));
        // A9 00F4
        gbc.setState(0x273b, 0xf2c4, 0x42d0, 0x9079, 0x2be7, 0x124d, 0x1, 0x1);
        gbc.writeMem(0x273b, { 0xa9 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xf2c4, gbc.sp());
        EXPECT(0x273c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00F5
        gbc.setState(0x8c00, 0x7264, 0xcfe0, 0x5459, 0x7511, 0xbc1f, 0x1, 0x0);
        gbc.writeMem(0x8c00, { 0xa9 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x7264, gbc.sp());
        EXPECT(0x8c01, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8c00));
        // A9 00F6
        gbc.setState(0xa0ac, 0x64f2, 0x3450, 0x1cf0, 0x36e7, 0x9d6c, 0x0, 0x1);
        gbc.writeMem(0xa0ac, { 0xa9 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x64f2, gbc.sp());
        EXPECT(0xa0ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa0ac));
        // A9 00F7
        gbc.setState(0x57a4, 0xdb8f, 0x8a60, 0x6ef, 0xc9e6, 0xb1d9, 0x0, 0x0);
        gbc.writeMem(0x57a4, { 0xa9 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xdb8f, gbc.sp());
        EXPECT(0x57a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00F8
        gbc.setState(0x8449, 0xa5f3, 0x6b00, 0x3aa5, 0xdef4, 0x675a, 0x0, 0x1);
        gbc.writeMem(0x8449, { 0xa9 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xa5f3, gbc.sp());
        EXPECT(0x844a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8449));
        // A9 00F9
        gbc.setState(0xcea9, 0xb6ba, 0x58b0, 0x22a, 0xe7d5, 0x1a28, 0x1, 0x1);
        gbc.writeMem(0xcea9, { 0xa9 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xb6ba, gbc.sp());
        EXPECT(0xceaa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xcea9));
        // A9 00FA
        gbc.setState(0xa596, 0x96de, 0xd060, 0x6e02, 0x9cb5, 0x5f73, 0x1, 0x0);
        gbc.writeMem(0xa596, { 0xa9 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x96de, gbc.sp());
        EXPECT(0xa597, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa596));
        // A9 00FC
        gbc.setState(0xe5fa, 0x7ba8, 0x55f0, 0xd82f, 0x7fed, 0xeeb7, 0x1, 0x1);
        gbc.writeMem(0xe5fa, { 0xa9 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x7ba8, gbc.sp());
        EXPECT(0xe5fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe5fa));
        // A9 00FD
        gbc.setState(0x162a, 0xd0b9, 0x4b70, 0x56c4, 0xf136, 0xd00d, 0x0, 0x1);
        gbc.writeMem(0x162a, { 0xa9 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xd0b9, gbc.sp());
        EXPECT(0x162b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 00FE
        gbc.setState(0x8346, 0xd49e, 0x16d0, 0xc7e4, 0xb227, 0x4200, 0x1, 0x1);
        gbc.writeMem(0x8346, { 0xa9 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xd49e, gbc.sp());
        EXPECT(0x8347, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8346));
        // A9 00FF
        gbc.setState(0x92a7, 0x39f8, 0x62d0, 0x1585, 0xb365, 0xd646, 0x1, 0x0);
        gbc.writeMem(0x92a7, { 0xa9 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x39f8, gbc.sp());
        EXPECT(0x92a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x92a7));
        // A9 0100
        gbc.setState(0x8707, 0xa38, 0xcb80, 0x27a5, 0x676e, 0x636b, 0x0, 0x1);
        gbc.writeMem(0x8707, { 0xa9 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xa38, gbc.sp());
        EXPECT(0x8708, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8707));
        // A9 0101
        gbc.setState(0x58c5, 0x2680, 0x8500, 0xe110, 0x170b, 0x2316, 0x1, 0x0);
        gbc.writeMem(0x58c5, { 0xa9 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x2680, gbc.sp());
        EXPECT(0x58c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0102
        gbc.setState(0x3892, 0xe59e, 0xd210, 0xa569, 0xc775, 0xf245, 0x1, 0x1);
        gbc.writeMem(0x3892, { 0xa9 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xe59e, gbc.sp());
        EXPECT(0x3893, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0103
        gbc.setState(0x9b33, 0xe9f6, 0x16c0, 0xe9b8, 0xe82c, 0x19d7, 0x0, 0x0);
        gbc.writeMem(0x9b33, { 0xa9 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xe9f6, gbc.sp());
        EXPECT(0x9b34, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9b33));
        // A9 0104
        gbc.setState(0x31c0, 0xfec, 0x1550, 0xb155, 0x5926, 0x8ea0, 0x0, 0x0);
        gbc.writeMem(0x31c0, { 0xa9 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xfec, gbc.sp());
        EXPECT(0x31c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0105
        gbc.setState(0x85a6, 0xcb00, 0x89a0, 0xe323, 0xd35a, 0x7d23, 0x0, 0x1);
        gbc.writeMem(0x85a6, { 0xa9 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xcb00, gbc.sp());
        EXPECT(0x85a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x85a6));
        // A9 0106
        gbc.setState(0x33e8, 0x72f2, 0x8660, 0xdca4, 0x68dd, 0xb4b7, 0x1, 0x1);
        gbc.writeMem(0x33e8, { 0xa9 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x72f2, gbc.sp());
        EXPECT(0x33e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0107
        gbc.setState(0x9327, 0xbc1, 0x1ad0, 0x8d9a, 0xffb3, 0x5f77, 0x1, 0x0);
        gbc.writeMem(0x9327, { 0xa9 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xbc1, gbc.sp());
        EXPECT(0x9328, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9327));
        // A9 0108
        gbc.setState(0x637c, 0xade2, 0x2930, 0x9fc6, 0xe8f3, 0xf8d3, 0x0, 0x0);
        gbc.writeMem(0x637c, { 0xa9 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xade2, gbc.sp());
        EXPECT(0x637d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 010A
        gbc.setState(0x51e9, 0x64c2, 0x7c20, 0x11b, 0xc2ad, 0x3a76, 0x1, 0x1);
        gbc.writeMem(0x51e9, { 0xa9 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x64c2, gbc.sp());
        EXPECT(0x51ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 010B
        gbc.setState(0x679, 0xece5, 0xe930, 0x85fe, 0xb534, 0x450f, 0x1, 0x0);
        gbc.writeMem(0x679, { 0xa9 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xece5, gbc.sp());
        EXPECT(0x67a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 010C
        gbc.setState(0xc2ef, 0x8561, 0xe160, 0x69c1, 0xe197, 0x7ed4, 0x1, 0x0);
        gbc.writeMem(0xc2ef, { 0xa9 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x8561, gbc.sp());
        EXPECT(0xc2f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc2ef));
        // A9 010D
        gbc.setState(0x3905, 0xe54a, 0x9650, 0x3052, 0x23e3, 0x4f51, 0x1, 0x1);
        gbc.writeMem(0x3905, { 0xa9 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xe54a, gbc.sp());
        EXPECT(0x3906, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 010F
        gbc.setState(0x40a2, 0xd175, 0x4cf0, 0x4643, 0x618d, 0x7a24, 0x0, 0x1);
        gbc.writeMem(0x40a2, { 0xa9 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xd175, gbc.sp());
        EXPECT(0x40a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0110
        gbc.setState(0xe026, 0x471f, 0x6cb0, 0xdf48, 0xc9de, 0x81f7, 0x0, 0x1);
        gbc.writeMem(0xe026, { 0xa9 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x471f, gbc.sp());
        EXPECT(0xe027, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe026));
        // A9 0111
        gbc.setState(0x7022, 0x3f39, 0xee20, 0xfe7a, 0xdc24, 0x1732, 0x0, 0x0);
        gbc.writeMem(0x7022, { 0xa9 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x3f39, gbc.sp());
        EXPECT(0x7023, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0112
        gbc.setState(0xbce7, 0x1de0, 0xc890, 0xbcca, 0xfc70, 0x5f3b, 0x1, 0x1);
        gbc.writeMem(0xbce7, { 0xa9 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x1de0, gbc.sp());
        EXPECT(0xbce8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbce7));
        // A9 0113
        gbc.setState(0x25d9, 0xaa59, 0x3a00, 0x4d35, 0xb0db, 0xe562, 0x1, 0x1);
        gbc.writeMem(0x25d9, { 0xa9 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xaa59, gbc.sp());
        EXPECT(0x25da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0114
        gbc.setState(0x3d0, 0xb6bd, 0x9e00, 0x2a13, 0x12dc, 0xa4c5, 0x0, 0x0);
        gbc.writeMem(0x3d0, { 0xa9 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xb6bd, gbc.sp());
        EXPECT(0x3d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0115
        gbc.setState(0x1150, 0x8de3, 0x13f0, 0xffd9, 0xd36e, 0xc86e, 0x0, 0x0);
        gbc.writeMem(0x1150, { 0xa9 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x8de3, gbc.sp());
        EXPECT(0x1151, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0116
        gbc.setState(0x1cbe, 0xd01d, 0x7f0, 0xddb6, 0xb7ca, 0xf9e9, 0x0, 0x0);
        gbc.writeMem(0x1cbe, { 0xa9 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xd01d, gbc.sp());
        EXPECT(0x1cbf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0117
        gbc.setState(0xe9e6, 0x61fd, 0xbb10, 0x288f, 0x5906, 0xb8b, 0x0, 0x0);
        gbc.writeMem(0xe9e6, { 0xa9 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x61fd, gbc.sp());
        EXPECT(0xe9e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe9e6));
        // A9 0118
        gbc.setState(0xc210, 0x1335, 0x1100, 0x14fb, 0xacf2, 0x7486, 0x1, 0x1);
        gbc.writeMem(0xc210, { 0xa9 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x1335, gbc.sp());
        EXPECT(0xc211, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc210));
        // A9 0119
        gbc.setState(0x915b, 0x4e06, 0x8530, 0xb004, 0xa7a, 0xec6e, 0x1, 0x0);
        gbc.writeMem(0x915b, { 0xa9 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x4e06, gbc.sp());
        EXPECT(0x915c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x915b));
        // A9 011A
        gbc.setState(0x470b, 0xa952, 0xff00, 0x32f1, 0xbe42, 0x7f23, 0x1, 0x1);
        gbc.writeMem(0x470b, { 0xa9 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xa952, gbc.sp());
        EXPECT(0x470c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 011C
        gbc.setState(0x48b1, 0x714f, 0xf880, 0xcd5e, 0x943e, 0x9e2f, 0x1, 0x1);
        gbc.writeMem(0x48b1, { 0xa9 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x714f, gbc.sp());
        EXPECT(0x48b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 011D
        gbc.setState(0xe971, 0x631, 0x5fc0, 0xf721, 0xd70f, 0xe3d, 0x0, 0x1);
        gbc.writeMem(0xe971, { 0xa9 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x631, gbc.sp());
        EXPECT(0xe972, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe971));
        // A9 011E
        gbc.setState(0x2b98, 0x1531, 0x3a0, 0xfe97, 0xccad, 0x14ec, 0x1, 0x0);
        gbc.writeMem(0x2b98, { 0xa9 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x1531, gbc.sp());
        EXPECT(0x2b99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 011F
        gbc.setState(0x5383, 0x1730, 0xd850, 0x3e54, 0x9c52, 0x1d9b, 0x0, 0x1);
        gbc.writeMem(0x5383, { 0xa9 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x1730, gbc.sp());
        EXPECT(0x5384, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0120
        gbc.setState(0xc514, 0x40b0, 0xf5c0, 0x762e, 0x4a01, 0x440e, 0x1, 0x1);
        gbc.writeMem(0xc514, { 0xa9 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x40b0, gbc.sp());
        EXPECT(0xc515, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc514));
        // A9 0121
        gbc.setState(0x8070, 0x2a70, 0x8a0, 0x69be, 0x7eaf, 0xfdf9, 0x1, 0x1);
        gbc.writeMem(0x8070, { 0xa9 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x2a70, gbc.sp());
        EXPECT(0x8071, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8070));
        // A9 0122
        gbc.setState(0x162, 0x260a, 0x2a0, 0x8999, 0x85a4, 0xae51, 0x1, 0x0);
        gbc.writeMem(0x162, { 0xa9 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x260a, gbc.sp());
        EXPECT(0x163, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0123
        gbc.setState(0xbedc, 0x6b8d, 0x3540, 0x2ccc, 0xed1d, 0xff5a, 0x1, 0x1);
        gbc.writeMem(0xbedc, { 0xa9 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x6b8d, gbc.sp());
        EXPECT(0xbedd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbedc));
        // A9 0124
        gbc.setState(0xd3e4, 0xcd18, 0x2f50, 0x4e9a, 0x6f9b, 0x1107, 0x0, 0x0);
        gbc.writeMem(0xd3e4, { 0xa9 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xcd18, gbc.sp());
        EXPECT(0xd3e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd3e4));
        // A9 0125
        gbc.setState(0xb077, 0x734e, 0x77d0, 0x8f9a, 0x80cb, 0xf46f, 0x1, 0x0);
        gbc.writeMem(0xb077, { 0xa9 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x734e, gbc.sp());
        EXPECT(0xb078, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb077));
        // A9 0126
        gbc.setState(0x32ec, 0xad08, 0x1990, 0xdfea, 0x1fd4, 0x5d69, 0x1, 0x0);
        gbc.writeMem(0x32ec, { 0xa9 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xad08, gbc.sp());
        EXPECT(0x32ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0127
        gbc.setState(0xea19, 0xce74, 0x3ab0, 0x899f, 0xbf67, 0xa875, 0x0, 0x0);
        gbc.writeMem(0xea19, { 0xa9 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xce74, gbc.sp());
        EXPECT(0xea1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xea19));
        // A9 0129
        gbc.setState(0x3c6d, 0xba85, 0xcb00, 0xcb2c, 0x9fa4, 0x3b03, 0x0, 0x1);
        gbc.writeMem(0x3c6d, { 0xa9 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xba85, gbc.sp());
        EXPECT(0x3c6e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 012A
        gbc.setState(0x9da4, 0x83a8, 0x1b20, 0x6755, 0xa758, 0x64ec, 0x1, 0x1);
        gbc.writeMem(0x9da4, { 0xa9 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x83a8, gbc.sp());
        EXPECT(0x9da5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9da4));
        // A9 012C
        gbc.setState(0xbe2f, 0x77b5, 0xa4d0, 0x8e82, 0x3ea9, 0x43cf, 0x0, 0x1);
        gbc.writeMem(0xbe2f, { 0xa9 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x77b5, gbc.sp());
        EXPECT(0xbe30, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbe2f));
        // A9 012D
        gbc.setState(0x956c, 0x7844, 0x600, 0x82de, 0x852e, 0x7896, 0x1, 0x0);
        gbc.writeMem(0x956c, { 0xa9 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x7844, gbc.sp());
        EXPECT(0x956d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x956c));
        // A9 012E
        gbc.setState(0x5c20, 0xa249, 0x8a70, 0xc4f, 0x381e, 0xbc4c, 0x0, 0x0);
        gbc.writeMem(0x5c20, { 0xa9 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xa249, gbc.sp());
        EXPECT(0x5c21, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 012F
        gbc.setState(0xe65a, 0x3c9c, 0xdf30, 0x3179, 0x7af5, 0x45a5, 0x1, 0x0);
        gbc.writeMem(0xe65a, { 0xa9 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x3c9c, gbc.sp());
        EXPECT(0xe65b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe65a));
        // A9 0130
        gbc.setState(0xbb91, 0xc9a1, 0x7f20, 0xfddb, 0xa9d3, 0x4461, 0x1, 0x1);
        gbc.writeMem(0xbb91, { 0xa9 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xc9a1, gbc.sp());
        EXPECT(0xbb92, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbb91));
        // A9 0131
        gbc.setState(0x464a, 0x8857, 0x3b0, 0x870a, 0x7ee9, 0xbfaa, 0x0, 0x1);
        gbc.writeMem(0x464a, { 0xa9 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x8857, gbc.sp());
        EXPECT(0x464b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0132
        gbc.setState(0xee9, 0xba07, 0x7a10, 0x9742, 0x96b7, 0x8c67, 0x1, 0x1);
        gbc.writeMem(0xee9, { 0xa9 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xba07, gbc.sp());
        EXPECT(0xeea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0133
        gbc.setState(0x7abc, 0x317d, 0x7500, 0xa223, 0x5021, 0xb74c, 0x0, 0x0);
        gbc.writeMem(0x7abc, { 0xa9 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x317d, gbc.sp());
        EXPECT(0x7abd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0134
        gbc.setState(0x1acd, 0x4865, 0x130, 0x9161, 0x7d61, 0xc1d, 0x1, 0x0);
        gbc.writeMem(0x1acd, { 0xa9 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x4865, gbc.sp());
        EXPECT(0x1ace, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0135
        gbc.setState(0x812d, 0x837, 0xd830, 0xee0, 0x4f91, 0x1a68, 0x1, 0x0);
        gbc.writeMem(0x812d, { 0xa9 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x837, gbc.sp());
        EXPECT(0x812e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x812d));
        // A9 0136
        gbc.setState(0x16ca, 0xdac6, 0x40, 0xae05, 0x1349, 0x972a, 0x0, 0x0);
        gbc.writeMem(0x16ca, { 0xa9 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xdac6, gbc.sp());
        EXPECT(0x16cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0137
        gbc.setState(0x10b7, 0xe67d, 0xc770, 0xfc74, 0x2d83, 0xba34, 0x1, 0x0);
        gbc.writeMem(0x10b7, { 0xa9 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xe67d, gbc.sp());
        EXPECT(0x10b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0138
        gbc.setState(0x57e6, 0x442, 0xccf0, 0xd58e, 0xc04f, 0xe471, 0x1, 0x0);
        gbc.writeMem(0x57e6, { 0xa9 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x442, gbc.sp());
        EXPECT(0x57e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0139
        gbc.setState(0x8193, 0x6c0, 0xc600, 0x487b, 0xc3e, 0xf16b, 0x0, 0x0);
        gbc.writeMem(0x8193, { 0xa9 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x6c0, gbc.sp());
        EXPECT(0x8194, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8193));
        // A9 013B
        gbc.setState(0xc21a, 0x4ae3, 0x3b80, 0x438f, 0x17fd, 0x29c1, 0x0, 0x1);
        gbc.writeMem(0xc21a, { 0xa9 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x4ae3, gbc.sp());
        EXPECT(0xc21b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc21a));
        // A9 013C
        gbc.setState(0x5ead, 0x882e, 0x5db0, 0xdfd3, 0xbd66, 0x4957, 0x0, 0x1);
        gbc.writeMem(0x5ead, { 0xa9 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x882e, gbc.sp());
        EXPECT(0x5eae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 013D
        gbc.setState(0x75cb, 0x9d6d, 0x2b00, 0xbf9e, 0x61ee, 0xa1f1, 0x0, 0x0);
        gbc.writeMem(0x75cb, { 0xa9 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x9d6d, gbc.sp());
        EXPECT(0x75cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 013E
        gbc.setState(0xd693, 0x859e, 0x1e0, 0xaccd, 0xcb84, 0xf077, 0x1, 0x1);
        gbc.writeMem(0xd693, { 0xa9 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x859e, gbc.sp());
        EXPECT(0xd694, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd693));
        // A9 013F
        gbc.setState(0x19c1, 0xcf91, 0x3680, 0xe089, 0xc11e, 0xc504, 0x0, 0x0);
        gbc.writeMem(0x19c1, { 0xa9 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xcf91, gbc.sp());
        EXPECT(0x19c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0140
        gbc.setState(0x45b2, 0x8176, 0xd1a0, 0x785, 0x415b, 0xe440, 0x1, 0x0);
        gbc.writeMem(0x45b2, { 0xa9 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x8176, gbc.sp());
        EXPECT(0x45b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0141
        gbc.setState(0x4ceb, 0xf83f, 0x65c0, 0x8279, 0x157b, 0x1cde, 0x1, 0x1);
        gbc.writeMem(0x4ceb, { 0xa9 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xf83f, gbc.sp());
        EXPECT(0x4cec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0143
        gbc.setState(0x6f0, 0x5d96, 0xc130, 0xe474, 0x1d3a, 0xb7ec, 0x1, 0x0);
        gbc.writeMem(0x6f0, { 0xa9 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x5d96, gbc.sp());
        EXPECT(0x6f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0144
        gbc.setState(0x99ec, 0x2983, 0x7e00, 0xce4b, 0xa88d, 0x7560, 0x0, 0x1);
        gbc.writeMem(0x99ec, { 0xa9 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x2983, gbc.sp());
        EXPECT(0x99ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x99ec));
        // A9 0145
        gbc.setState(0x90cb, 0x4042, 0x8ba0, 0xff72, 0xb2d0, 0x752f, 0x1, 0x1);
        gbc.writeMem(0x90cb, { 0xa9 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x4042, gbc.sp());
        EXPECT(0x90cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x90cb));
        // A9 0147
        gbc.setState(0x6e51, 0x4532, 0xd20, 0xfb8a, 0xb94d, 0x1289, 0x1, 0x1);
        gbc.writeMem(0x6e51, { 0xa9 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x4532, gbc.sp());
        EXPECT(0x6e52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0148
        gbc.setState(0x7a9d, 0x3cfb, 0xf150, 0x1b04, 0x3bc4, 0xc695, 0x0, 0x1);
        gbc.writeMem(0x7a9d, { 0xa9 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x3cfb, gbc.sp());
        EXPECT(0x7a9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0149
        gbc.setState(0x64e8, 0x9688, 0x7010, 0x68e, 0xc20c, 0xfd3e, 0x1, 0x1);
        gbc.writeMem(0x64e8, { 0xa9 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x9688, gbc.sp());
        EXPECT(0x64e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 014A
        gbc.setState(0x9c18, 0x972f, 0xf400, 0xf542, 0x9fb9, 0x9b82, 0x0, 0x1);
        gbc.writeMem(0x9c18, { 0xa9 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x972f, gbc.sp());
        EXPECT(0x9c19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9c18));
        // A9 014B
        gbc.setState(0xb6b9, 0xda1e, 0x40f0, 0x951f, 0x475b, 0x97b2, 0x1, 0x1);
        gbc.writeMem(0xb6b9, { 0xa9 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xda1e, gbc.sp());
        EXPECT(0xb6ba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb6b9));
        // A9 014C
        gbc.setState(0x638f, 0xb2e4, 0x1880, 0x4645, 0x6fa9, 0x6469, 0x0, 0x1);
        gbc.writeMem(0x638f, { 0xa9 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xb2e4, gbc.sp());
        EXPECT(0x6390, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 014D
        gbc.setState(0x99c0, 0x30e9, 0xa520, 0xa090, 0x3e99, 0xd40b, 0x0, 0x1);
        gbc.writeMem(0x99c0, { 0xa9 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x30e9, gbc.sp());
        EXPECT(0x99c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x99c0));
        // A9 014E
        gbc.setState(0x6122, 0xf4ff, 0x3670, 0x956, 0xea0a, 0x61fc, 0x1, 0x0);
        gbc.writeMem(0x6122, { 0xa9 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xf4ff, gbc.sp());
        EXPECT(0x6123, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 014F
        gbc.setState(0x70df, 0xec1e, 0x41f0, 0x1da6, 0x34ea, 0x2f4, 0x0, 0x1);
        gbc.writeMem(0x70df, { 0xa9 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xec1e, gbc.sp());
        EXPECT(0x70e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0150
        gbc.setState(0x5df9, 0x68f1, 0x34b0, 0xc557, 0x999, 0x1b34, 0x0, 0x1);
        gbc.writeMem(0x5df9, { 0xa9 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x68f1, gbc.sp());
        EXPECT(0x5dfa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0151
        gbc.setState(0x2b4e, 0x65b5, 0x9400, 0x9ec4, 0xcb4a, 0x5120, 0x1, 0x0);
        gbc.writeMem(0x2b4e, { 0xa9 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x65b5, gbc.sp());
        EXPECT(0x2b4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0152
        gbc.setState(0xc623, 0x3b4d, 0x1290, 0xc112, 0x8249, 0x2f26, 0x1, 0x0);
        gbc.writeMem(0xc623, { 0xa9 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x3b4d, gbc.sp());
        EXPECT(0xc624, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc623));
        // A9 0153
        gbc.setState(0x17f, 0xda38, 0x9a90, 0x4320, 0x17fd, 0x853e, 0x0, 0x0);
        gbc.writeMem(0x17f, { 0xa9 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xda38, gbc.sp());
        EXPECT(0x180, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0154
        gbc.setState(0x49ee, 0x8c71, 0x42e0, 0xf60d, 0x5ec7, 0x9941, 0x0, 0x0);
        gbc.writeMem(0x49ee, { 0xa9 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x8c71, gbc.sp());
        EXPECT(0x49ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0155
        gbc.setState(0x41a5, 0x9bd5, 0xc080, 0x4953, 0x3eaa, 0x5ac3, 0x1, 0x1);
        gbc.writeMem(0x41a5, { 0xa9 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x9bd5, gbc.sp());
        EXPECT(0x41a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0156
        gbc.setState(0x7d72, 0x43a3, 0xf3d0, 0xb5b, 0xd4f6, 0x590, 0x0, 0x0);
        gbc.writeMem(0x7d72, { 0xa9 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x43a3, gbc.sp());
        EXPECT(0x7d73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0157
        gbc.setState(0x122f, 0xb1d1, 0x8e70, 0x177e, 0x2159, 0xbec6, 0x1, 0x0);
        gbc.writeMem(0x122f, { 0xa9 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xb1d1, gbc.sp());
        EXPECT(0x1230, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0158
        gbc.setState(0x4411, 0xc414, 0x810, 0x7337, 0xf7db, 0x67e8, 0x0, 0x1);
        gbc.writeMem(0x4411, { 0xa9 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xc414, gbc.sp());
        EXPECT(0x4412, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0159
        gbc.setState(0xd05c, 0x1698, 0xf520, 0x27a7, 0xad2f, 0x1902, 0x1, 0x0);
        gbc.writeMem(0xd05c, { 0xa9 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x1698, gbc.sp());
        EXPECT(0xd05d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd05c));
        // A9 015A
        gbc.setState(0x8272, 0x33f0, 0x98a0, 0xebfa, 0xe274, 0xbba8, 0x0, 0x0);
        gbc.writeMem(0x8272, { 0xa9 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x33f0, gbc.sp());
        EXPECT(0x8273, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8272));
        // A9 015B
        gbc.setState(0xd8f, 0xa4c9, 0x5420, 0xabe7, 0x12fc, 0x557a, 0x1, 0x0);
        gbc.writeMem(0xd8f, { 0xa9 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xa4c9, gbc.sp());
        EXPECT(0xd90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 015D
        gbc.setState(0x98, 0xb092, 0xf980, 0xc82e, 0xa575, 0xff15, 0x0, 0x1);
        gbc.writeMem(0x98, { 0xa9 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xb092, gbc.sp());
        EXPECT(0x99, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 015E
        gbc.setState(0x6922, 0xe97e, 0xd260, 0x360, 0x5d56, 0xe648, 0x0, 0x1);
        gbc.writeMem(0x6922, { 0xa9 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xe97e, gbc.sp());
        EXPECT(0x6923, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 015F
        gbc.setState(0xd242, 0xa685, 0x3ed0, 0x98a7, 0xeb8d, 0x8176, 0x0, 0x1);
        gbc.writeMem(0xd242, { 0xa9 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xa685, gbc.sp());
        EXPECT(0xd243, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd242));
        // A9 0160
        gbc.setState(0x9fb4, 0x3206, 0x7880, 0xd3fd, 0x42f4, 0x113, 0x1, 0x0);
        gbc.writeMem(0x9fb4, { 0xa9 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x3206, gbc.sp());
        EXPECT(0x9fb5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9fb4));
        // A9 0161
        gbc.setState(0x53c8, 0xede2, 0x3460, 0xed74, 0xfe72, 0xca57, 0x1, 0x0);
        gbc.writeMem(0x53c8, { 0xa9 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xede2, gbc.sp());
        EXPECT(0x53c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0162
        gbc.setState(0xd5b, 0x4475, 0x6ef0, 0x95cb, 0x1f28, 0x549c, 0x0, 0x0);
        gbc.writeMem(0xd5b, { 0xa9 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x4475, gbc.sp());
        EXPECT(0xd5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0163
        gbc.setState(0x1f85, 0xc0e6, 0x37b0, 0xd57d, 0xb85e, 0xfb46, 0x0, 0x0);
        gbc.writeMem(0x1f85, { 0xa9 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xc0e6, gbc.sp());
        EXPECT(0x1f86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0164
        gbc.setState(0x476f, 0xd40b, 0x48a0, 0xc648, 0xa4b0, 0xb7a, 0x0, 0x0);
        gbc.writeMem(0x476f, { 0xa9 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xd40b, gbc.sp());
        EXPECT(0x4770, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0165
        gbc.setState(0xce4a, 0x17bc, 0x29e0, 0x5372, 0xcdd3, 0xbe34, 0x1, 0x1);
        gbc.writeMem(0xce4a, { 0xa9 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x17bc, gbc.sp());
        EXPECT(0xce4b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xce4a));
        // A9 0166
        gbc.setState(0x9014, 0x13c8, 0x3370, 0xce9f, 0x2191, 0x6b4f, 0x0, 0x1);
        gbc.writeMem(0x9014, { 0xa9 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x13c8, gbc.sp());
        EXPECT(0x9015, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9014));
        // A9 0167
        gbc.setState(0x63ad, 0x2c47, 0x8750, 0xcf44, 0xa4b9, 0xc7f, 0x1, 0x1);
        gbc.writeMem(0x63ad, { 0xa9 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x2c47, gbc.sp());
        EXPECT(0x63ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0168
        gbc.setState(0x5243, 0x9d7e, 0x3250, 0x9487, 0xaba9, 0x60a8, 0x1, 0x0);
        gbc.writeMem(0x5243, { 0xa9 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x9d7e, gbc.sp());
        EXPECT(0x5244, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0169
        gbc.setState(0x7550, 0xc252, 0xab40, 0x474, 0x8b44, 0x36e3, 0x0, 0x0);
        gbc.writeMem(0x7550, { 0xa9 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xc252, gbc.sp());
        EXPECT(0x7551, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 016A
        gbc.setState(0x7f4d, 0x72b4, 0xdb30, 0xa87, 0x67cc, 0x7453, 0x0, 0x1);
        gbc.writeMem(0x7f4d, { 0xa9 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x72b4, gbc.sp());
        EXPECT(0x7f4e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 016B
        gbc.setState(0x1d76, 0xe771, 0xab60, 0x8e35, 0xf030, 0x1473, 0x1, 0x0);
        gbc.writeMem(0x1d76, { 0xa9 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xe771, gbc.sp());
        EXPECT(0x1d77, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 016C
        gbc.setState(0x32d5, 0x672a, 0x250, 0xda7a, 0xaa82, 0x8cc5, 0x1, 0x1);
        gbc.writeMem(0x32d5, { 0xa9 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x672a, gbc.sp());
        EXPECT(0x32d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 016D
        gbc.setState(0x9be7, 0xd0cc, 0xcd0, 0x993c, 0x11ff, 0x809, 0x1, 0x1);
        gbc.writeMem(0x9be7, { 0xa9 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xd0cc, gbc.sp());
        EXPECT(0x9be8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9be7));
        // A9 016E
        gbc.setState(0x644f, 0x3dc5, 0xbea0, 0x7e3f, 0x70e6, 0xd2bb, 0x1, 0x1);
        gbc.writeMem(0x644f, { 0xa9 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x3dc5, gbc.sp());
        EXPECT(0x6450, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 016F
        gbc.setState(0xe252, 0x5f31, 0x1490, 0xdd89, 0xc26, 0x2940, 0x1, 0x1);
        gbc.writeMem(0xe252, { 0xa9 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x5f31, gbc.sp());
        EXPECT(0xe253, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe252));
        // A9 0170
        gbc.setState(0x8692, 0xdd74, 0x9b70, 0x42d8, 0x7f62, 0x64bc, 0x1, 0x1);
        gbc.writeMem(0x8692, { 0xa9 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xdd74, gbc.sp());
        EXPECT(0x8693, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8692));
        // A9 0171
        gbc.setState(0x342a, 0x462, 0x8eb0, 0x1658, 0x7caa, 0x41a4, 0x0, 0x1);
        gbc.writeMem(0x342a, { 0xa9 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x462, gbc.sp());
        EXPECT(0x342b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0172
        gbc.setState(0x6f7d, 0x1d28, 0x5e90, 0xbe00, 0x936d, 0xf9ae, 0x1, 0x1);
        gbc.writeMem(0x6f7d, { 0xa9 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x1d28, gbc.sp());
        EXPECT(0x6f7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0173
        gbc.setState(0x32c5, 0x819e, 0x92d0, 0x25ea, 0xa7aa, 0x6c40, 0x1, 0x1);
        gbc.writeMem(0x32c5, { 0xa9 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x819e, gbc.sp());
        EXPECT(0x32c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0174
        gbc.setState(0x4bf9, 0xf00a, 0x4b70, 0xbd89, 0xb197, 0x1fcf, 0x0, 0x0);
        gbc.writeMem(0x4bf9, { 0xa9 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xf00a, gbc.sp());
        EXPECT(0x4bfa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0175
        gbc.setState(0x3c48, 0x68f, 0xe9d0, 0xcd2f, 0xe4b, 0x5548, 0x0, 0x1);
        gbc.writeMem(0x3c48, { 0xa9 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x68f, gbc.sp());
        EXPECT(0x3c49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0176
        gbc.setState(0x49e4, 0xaab5, 0x570, 0x300c, 0xe037, 0x99e4, 0x0, 0x0);
        gbc.writeMem(0x49e4, { 0xa9 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xaab5, gbc.sp());
        EXPECT(0x49e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0177
        gbc.setState(0xc27c, 0xcf5f, 0x39e0, 0x24a3, 0xa980, 0x11d3, 0x1, 0x1);
        gbc.writeMem(0xc27c, { 0xa9 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xcf5f, gbc.sp());
        EXPECT(0xc27d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc27c));
        // A9 0178
        gbc.setState(0xa03a, 0x8faa, 0xfd20, 0x83f4, 0x94dc, 0x3d8a, 0x1, 0x0);
        gbc.writeMem(0xa03a, { 0xa9 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x8faa, gbc.sp());
        EXPECT(0xa03b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa03a));
        // A9 0179
        gbc.setState(0xd29b, 0xd47, 0x33a0, 0x5af1, 0x8093, 0xc28e, 0x1, 0x0);
        gbc.writeMem(0xd29b, { 0xa9 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xd47, gbc.sp());
        EXPECT(0xd29c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd29b));
        // A9 017A
        gbc.setState(0x9211, 0x27f8, 0x5640, 0x3d91, 0x347d, 0xf846, 0x1, 0x1);
        gbc.writeMem(0x9211, { 0xa9 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x27f8, gbc.sp());
        EXPECT(0x9212, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9211));
        // A9 017B
        gbc.setState(0x10cf, 0x595d, 0xb820, 0x6d70, 0xa1da, 0xa014, 0x0, 0x0);
        gbc.writeMem(0x10cf, { 0xa9 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x595d, gbc.sp());
        EXPECT(0x10d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 017C
        gbc.setState(0x40d5, 0x1581, 0xb9b0, 0x3797, 0xdf3b, 0x2ff1, 0x0, 0x1);
        gbc.writeMem(0x40d5, { 0xa9 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x1581, gbc.sp());
        EXPECT(0x40d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 017D
        gbc.setState(0x61d6, 0x33d1, 0x3f20, 0x9301, 0xdde6, 0x1e0c, 0x1, 0x1);
        gbc.writeMem(0x61d6, { 0xa9 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x33d1, gbc.sp());
        EXPECT(0x61d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 017E
        gbc.setState(0xdf41, 0xa1cc, 0x5e70, 0x4f39, 0x4935, 0x4f11, 0x1, 0x0);
        gbc.writeMem(0xdf41, { 0xa9 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xa1cc, gbc.sp());
        EXPECT(0xdf42, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdf41));
        // A9 017F
        gbc.setState(0x6d0b, 0x6137, 0xb940, 0x706f, 0xcee8, 0x1bf0, 0x0, 0x1);
        gbc.writeMem(0x6d0b, { 0xa9 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x6137, gbc.sp());
        EXPECT(0x6d0c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0180
        gbc.setState(0x5080, 0xd0c, 0x2940, 0x7292, 0x2b2a, 0x5fcc, 0x0, 0x0);
        gbc.writeMem(0x5080, { 0xa9 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xd0c, gbc.sp());
        EXPECT(0x5081, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0181
        gbc.setState(0x2dfa, 0x754b, 0x6830, 0xb926, 0xe5a9, 0xc82a, 0x1, 0x0);
        gbc.writeMem(0x2dfa, { 0xa9 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x754b, gbc.sp());
        EXPECT(0x2dfb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0182
        gbc.setState(0x7d75, 0xa7a5, 0xf830, 0xc147, 0x1394, 0x86b6, 0x1, 0x1);
        gbc.writeMem(0x7d75, { 0xa9 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xa7a5, gbc.sp());
        EXPECT(0x7d76, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0183
        gbc.setState(0xbfcf, 0xfafe, 0x2620, 0x5bec, 0x7d8b, 0x3c57, 0x1, 0x0);
        gbc.writeMem(0xbfcf, { 0xa9 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xfafe, gbc.sp());
        EXPECT(0xbfd0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbfcf));
        // A9 0184
        gbc.setState(0x5e2a, 0x6385, 0xf8a0, 0x4f3, 0x5a2f, 0x78a8, 0x0, 0x1);
        gbc.writeMem(0x5e2a, { 0xa9 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x6385, gbc.sp());
        EXPECT(0x5e2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0185
        gbc.setState(0xcc7c, 0xf124, 0x3b30, 0xc23e, 0x48ae, 0x84eb, 0x1, 0x1);
        gbc.writeMem(0xcc7c, { 0xa9 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xf124, gbc.sp());
        EXPECT(0xcc7d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xcc7c));
        // A9 0187
        gbc.setState(0x8413, 0x6f66, 0x38b0, 0x4a2b, 0x8c10, 0x5e0b, 0x1, 0x1);
        gbc.writeMem(0x8413, { 0xa9 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x6f66, gbc.sp());
        EXPECT(0x8414, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8413));
        // A9 0188
        gbc.setState(0x2e51, 0x5182, 0x1e10, 0x4993, 0xd25b, 0x8d71, 0x1, 0x0);
        gbc.writeMem(0x2e51, { 0xa9 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x5182, gbc.sp());
        EXPECT(0x2e52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0189
        gbc.setState(0xb664, 0x4ee0, 0x85e0, 0x65a8, 0xe776, 0xecef, 0x0, 0x1);
        gbc.writeMem(0xb664, { 0xa9 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x4ee0, gbc.sp());
        EXPECT(0xb665, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb664));
        // A9 018A
        gbc.setState(0xd918, 0xc0a1, 0xa540, 0x4ee, 0x47dd, 0xc53, 0x1, 0x0);
        gbc.writeMem(0xd918, { 0xa9 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xc0a1, gbc.sp());
        EXPECT(0xd919, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd918));
        // A9 018B
        gbc.setState(0x5871, 0x6b05, 0x73b0, 0x80c0, 0x4599, 0x12eb, 0x1, 0x0);
        gbc.writeMem(0x5871, { 0xa9 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x6b05, gbc.sp());
        EXPECT(0x5872, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 018C
        gbc.setState(0x1069, 0xe1c2, 0x3570, 0x66a0, 0xcd02, 0xe687, 0x0, 0x1);
        gbc.writeMem(0x1069, { 0xa9 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xe1c2, gbc.sp());
        EXPECT(0x106a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 018D
        gbc.setState(0x5ccd, 0xcf7c, 0x2c40, 0xdb18, 0xc55f, 0xb833, 0x0, 0x0);
        gbc.writeMem(0x5ccd, { 0xa9 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xcf7c, gbc.sp());
        EXPECT(0x5cce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 018E
        gbc.setState(0xcc9d, 0x8d3, 0x5450, 0xaef4, 0xcd06, 0x46b3, 0x1, 0x0);
        gbc.writeMem(0xcc9d, { 0xa9 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x8d3, gbc.sp());
        EXPECT(0xcc9e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xcc9d));
        // A9 0191
        gbc.setState(0xa568, 0x180c, 0xf0f0, 0x4375, 0x6c38, 0x8ed3, 0x1, 0x0);
        gbc.writeMem(0xa568, { 0xa9 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x180c, gbc.sp());
        EXPECT(0xa569, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa568));
        // A9 0192
        gbc.setState(0xb296, 0x2214, 0xf0e0, 0x9031, 0x282e, 0x2743, 0x1, 0x1);
        gbc.writeMem(0xb296, { 0xa9 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x2214, gbc.sp());
        EXPECT(0xb297, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb296));
        // A9 0193
        gbc.setState(0xa42b, 0x631f, 0x87e0, 0x937e, 0x4d56, 0x2c57, 0x0, 0x0);
        gbc.writeMem(0xa42b, { 0xa9 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x631f, gbc.sp());
        EXPECT(0xa42c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa42b));
        // A9 0194
        gbc.setState(0x5885, 0x4ed1, 0xe0d0, 0x73d9, 0x513d, 0x5cdf, 0x0, 0x0);
        gbc.writeMem(0x5885, { 0xa9 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x4ed1, gbc.sp());
        EXPECT(0x5886, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0195
        gbc.setState(0xe414, 0x7115, 0x1e00, 0x9aef, 0xfa30, 0x573, 0x1, 0x1);
        gbc.writeMem(0xe414, { 0xa9 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x7115, gbc.sp());
        EXPECT(0xe415, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe414));
        // A9 0196
        gbc.setState(0x9d6c, 0xf1d6, 0x97a0, 0xd32f, 0x312, 0xd3f8, 0x0, 0x1);
        gbc.writeMem(0x9d6c, { 0xa9 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xf1d6, gbc.sp());
        EXPECT(0x9d6d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9d6c));
        // A9 0197
        gbc.setState(0xe1fb, 0xebf4, 0x2620, 0x26bc, 0x915f, 0x4d9f, 0x0, 0x1);
        gbc.writeMem(0xe1fb, { 0xa9 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xebf4, gbc.sp());
        EXPECT(0xe1fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe1fb));
        // A9 0198
        gbc.setState(0x6d, 0x640c, 0xa680, 0xb2b9, 0xf3f3, 0xdfe1, 0x0, 0x1);
        gbc.writeMem(0x6d, { 0xa9 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x640c, gbc.sp());
        EXPECT(0x6e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0199
        gbc.setState(0xa9a2, 0x54a4, 0x9190, 0xe484, 0xc46e, 0xd276, 0x1, 0x0);
        gbc.writeMem(0xa9a2, { 0xa9 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x54a4, gbc.sp());
        EXPECT(0xa9a3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa9a2));
        // A9 019A
        gbc.setState(0xca7, 0x4353, 0x8aa0, 0x3e7a, 0xde19, 0xcbad, 0x1, 0x0);
        gbc.writeMem(0xca7, { 0xa9 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x4353, gbc.sp());
        EXPECT(0xca8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 019B
        gbc.setState(0x14df, 0x95e9, 0x44a0, 0x441f, 0x9649, 0x57fd, 0x1, 0x0);
        gbc.writeMem(0x14df, { 0xa9 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x95e9, gbc.sp());
        EXPECT(0x14e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 019C
        gbc.setState(0xc223, 0xea7, 0x2550, 0xe41d, 0x5363, 0x4b7b, 0x0, 0x1);
        gbc.writeMem(0xc223, { 0xa9 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xea7, gbc.sp());
        EXPECT(0xc224, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc223));
        // A9 019D
        gbc.setState(0xb55e, 0xbbb, 0xecd0, 0xf6e, 0xe856, 0x7c51, 0x0, 0x1);
        gbc.writeMem(0xb55e, { 0xa9 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xbbb, gbc.sp());
        EXPECT(0xb55f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb55e));
        // A9 019E
        gbc.setState(0x4424, 0xcdf0, 0x3020, 0x8a28, 0x6615, 0xe2ac, 0x1, 0x0);
        gbc.writeMem(0x4424, { 0xa9 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xcdf0, gbc.sp());
        EXPECT(0x4425, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 019F
        gbc.setState(0x2365, 0xbede, 0x4ea0, 0xc7c0, 0x9ca3, 0xeb2, 0x1, 0x0);
        gbc.writeMem(0x2365, { 0xa9 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xbede, gbc.sp());
        EXPECT(0x2366, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01A0
        gbc.setState(0x82b8, 0x145f, 0xc150, 0x1301, 0x4915, 0x9b56, 0x1, 0x1);
        gbc.writeMem(0x82b8, { 0xa9 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x145f, gbc.sp());
        EXPECT(0x82b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x82b8));
        // A9 01A1
        gbc.setState(0xd872, 0x6262, 0xb020, 0x1cf0, 0x1a5e, 0x31ce, 0x1, 0x0);
        gbc.writeMem(0xd872, { 0xa9 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x6262, gbc.sp());
        EXPECT(0xd873, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd872));
        // A9 01A2
        gbc.setState(0xe116, 0x2830, 0x6fc0, 0x92ad, 0x89cf, 0xc7a1, 0x0, 0x0);
        gbc.writeMem(0xe116, { 0xa9 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x2830, gbc.sp());
        EXPECT(0xe117, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe116));
        // A9 01A3
        gbc.setState(0xaac5, 0xa0ea, 0x9e40, 0xaba1, 0x8612, 0x3234, 0x0, 0x1);
        gbc.writeMem(0xaac5, { 0xa9 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xa0ea, gbc.sp());
        EXPECT(0xaac6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xaac5));
        // A9 01A4
        gbc.setState(0x33b0, 0x8ba8, 0x83a0, 0xc181, 0x4223, 0x5edd, 0x0, 0x0);
        gbc.writeMem(0x33b0, { 0xa9 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x8ba8, gbc.sp());
        EXPECT(0x33b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01A5
        gbc.setState(0xed71, 0xc1d9, 0x22c0, 0x482f, 0x8756, 0xd7cf, 0x1, 0x0);
        gbc.writeMem(0xed71, { 0xa9 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xc1d9, gbc.sp());
        EXPECT(0xed72, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xed71));
        // A9 01A6
        gbc.setState(0x85fc, 0x30ba, 0x1f00, 0x6280, 0x8c99, 0x83a5, 0x1, 0x1);
        gbc.writeMem(0x85fc, { 0xa9 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x30ba, gbc.sp());
        EXPECT(0x85fd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x85fc));
        // A9 01A7
        gbc.setState(0x2fbc, 0x95c9, 0xdae0, 0x83bf, 0x1cc5, 0xd000, 0x0, 0x1);
        gbc.writeMem(0x2fbc, { 0xa9 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x95c9, gbc.sp());
        EXPECT(0x2fbd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01A8
        gbc.setState(0xa84b, 0x2a89, 0xef80, 0xc304, 0x8387, 0x79dd, 0x1, 0x0);
        gbc.writeMem(0xa84b, { 0xa9 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x2a89, gbc.sp());
        EXPECT(0xa84c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa84b));
        // A9 01A9
        gbc.setState(0x997a, 0xcdd7, 0xe180, 0xe6aa, 0x21b8, 0x4de8, 0x1, 0x1);
        gbc.writeMem(0x997a, { 0xa9 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xcdd7, gbc.sp());
        EXPECT(0x997b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x997a));
        // A9 01AA
        gbc.setState(0x5d19, 0x3d51, 0x8120, 0xa570, 0x7aae, 0x58d5, 0x1, 0x1);
        gbc.writeMem(0x5d19, { 0xa9 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x3d51, gbc.sp());
        EXPECT(0x5d1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01AB
        gbc.setState(0xec8c, 0x90c4, 0x96e0, 0xebc6, 0x64b6, 0x2611, 0x1, 0x0);
        gbc.writeMem(0xec8c, { 0xa9 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x90c4, gbc.sp());
        EXPECT(0xec8d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xec8c));
        // A9 01AC
        gbc.setState(0xbe4d, 0x5e18, 0x4140, 0xd0a8, 0x5682, 0x1fb5, 0x0, 0x0);
        gbc.writeMem(0xbe4d, { 0xa9 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x5e18, gbc.sp());
        EXPECT(0xbe4e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbe4d));
        // A9 01AD
        gbc.setState(0xa241, 0x2772, 0x910, 0x52d7, 0x40ca, 0xb8d3, 0x0, 0x0);
        gbc.writeMem(0xa241, { 0xa9 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x2772, gbc.sp());
        EXPECT(0xa242, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa241));
        // A9 01AE
        gbc.setState(0x455f, 0xe63f, 0xba40, 0x55bc, 0xe9d9, 0xf9c1, 0x0, 0x1);
        gbc.writeMem(0x455f, { 0xa9 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xe63f, gbc.sp());
        EXPECT(0x4560, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01AF
        gbc.setState(0x1187, 0xe818, 0x5c20, 0x5c17, 0x7d93, 0x9f38, 0x1, 0x1);
        gbc.writeMem(0x1187, { 0xa9 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xe818, gbc.sp());
        EXPECT(0x1188, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01B0
        gbc.setState(0xc3a8, 0xf933, 0x670, 0x8b9, 0x33e9, 0x2006, 0x1, 0x0);
        gbc.writeMem(0xc3a8, { 0xa9 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xf933, gbc.sp());
        EXPECT(0xc3a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc3a8));
        // A9 01B1
        gbc.setState(0x8368, 0x837c, 0x92b0, 0x3e79, 0xba09, 0xb70a, 0x1, 0x0);
        gbc.writeMem(0x8368, { 0xa9 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x837c, gbc.sp());
        EXPECT(0x8369, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8368));
        // A9 01B2
        gbc.setState(0xeed0, 0x29d0, 0x2fa0, 0x4a7b, 0x9bf5, 0xf5b7, 0x0, 0x1);
        gbc.writeMem(0xeed0, { 0xa9 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x29d0, gbc.sp());
        EXPECT(0xeed1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xeed0));
        // A9 01B3
        gbc.setState(0x9ed8, 0x152f, 0x9270, 0x8f62, 0x392, 0xf4dc, 0x0, 0x1);
        gbc.writeMem(0x9ed8, { 0xa9 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x152f, gbc.sp());
        EXPECT(0x9ed9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9ed8));
        // A9 01B4
        gbc.setState(0xa24a, 0xbfd2, 0xa160, 0x4163, 0x4a28, 0x54bc, 0x1, 0x1);
        gbc.writeMem(0xa24a, { 0xa9 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xbfd2, gbc.sp());
        EXPECT(0xa24b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa24a));
        // A9 01B5
        gbc.setState(0xa8ba, 0x38d5, 0x7d50, 0x323d, 0xf2f3, 0xa477, 0x0, 0x0);
        gbc.writeMem(0xa8ba, { 0xa9 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x38d5, gbc.sp());
        EXPECT(0xa8bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa8ba));
        // A9 01B6
        gbc.setState(0xdb8c, 0x869a, 0xff30, 0xd856, 0x63ae, 0x842c, 0x1, 0x0);
        gbc.writeMem(0xdb8c, { 0xa9 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x869a, gbc.sp());
        EXPECT(0xdb8d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdb8c));
        // A9 01B7
        gbc.setState(0xd4b5, 0x3aa8, 0xed80, 0xc6a1, 0x97a, 0x6638, 0x0, 0x0);
        gbc.writeMem(0xd4b5, { 0xa9 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x3aa8, gbc.sp());
        EXPECT(0xd4b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd4b5));
        // A9 01B8
        gbc.setState(0x4da2, 0x85e5, 0x85f0, 0xda08, 0x7c25, 0x5e16, 0x1, 0x0);
        gbc.writeMem(0x4da2, { 0xa9 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x85e5, gbc.sp());
        EXPECT(0x4da3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01B9
        gbc.setState(0x18ab, 0xdcd5, 0x3640, 0x8dfe, 0xe040, 0x84c2, 0x0, 0x1);
        gbc.writeMem(0x18ab, { 0xa9 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xdcd5, gbc.sp());
        EXPECT(0x18ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01BA
        gbc.setState(0xb782, 0xf075, 0x25c0, 0xae54, 0x4dff, 0x792f, 0x0, 0x0);
        gbc.writeMem(0xb782, { 0xa9 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xf075, gbc.sp());
        EXPECT(0xb783, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb782));
        // A9 01BB
        gbc.setState(0xbbb0, 0xddd4, 0x4fa0, 0xc4e0, 0x522e, 0x6839, 0x1, 0x0);
        gbc.writeMem(0xbbb0, { 0xa9 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xddd4, gbc.sp());
        EXPECT(0xbbb1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbbb0));
        // A9 01BC
        gbc.setState(0x6c0, 0x11b6, 0x4880, 0xa40f, 0x3e56, 0x3988, 0x1, 0x1);
        gbc.writeMem(0x6c0, { 0xa9 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x11b6, gbc.sp());
        EXPECT(0x6c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01BD
        gbc.setState(0xb7aa, 0x7db6, 0xc3c0, 0x4a2d, 0xff45, 0xc03b, 0x0, 0x0);
        gbc.writeMem(0xb7aa, { 0xa9 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x7db6, gbc.sp());
        EXPECT(0xb7ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb7aa));
        // A9 01BE
        gbc.setState(0x99da, 0x680d, 0x8ef0, 0x7fcb, 0x412a, 0x51f5, 0x0, 0x1);
        gbc.writeMem(0x99da, { 0xa9 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x680d, gbc.sp());
        EXPECT(0x99db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x99da));
        // A9 01BF
        gbc.setState(0x466a, 0xb206, 0xba40, 0x88d3, 0x450a, 0xd8dd, 0x1, 0x1);
        gbc.writeMem(0x466a, { 0xa9 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xb206, gbc.sp());
        EXPECT(0x466b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01C0
        gbc.setState(0x92f3, 0xa17f, 0x1c10, 0xf6ed, 0x4c46, 0xc77e, 0x1, 0x1);
        gbc.writeMem(0x92f3, { 0xa9 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xa17f, gbc.sp());
        EXPECT(0x92f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x92f3));
        // A9 01C1
        gbc.setState(0x430c, 0xb92c, 0xac00, 0x5ddd, 0x6803, 0x459, 0x0, 0x1);
        gbc.writeMem(0x430c, { 0xa9 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xb92c, gbc.sp());
        EXPECT(0x430d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01C2
        gbc.setState(0x7734, 0xa064, 0x490, 0xc28d, 0x6ee1, 0x1e7a, 0x1, 0x0);
        gbc.writeMem(0x7734, { 0xa9 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xa064, gbc.sp());
        EXPECT(0x7735, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01C3
        gbc.setState(0x5f64, 0x1259, 0xfc00, 0x2cb5, 0xfd5b, 0x5921, 0x0, 0x1);
        gbc.writeMem(0x5f64, { 0xa9 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x1259, gbc.sp());
        EXPECT(0x5f65, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01C4
        gbc.setState(0xed0f, 0xa36, 0xda20, 0x4b50, 0x4af5, 0x63d0, 0x0, 0x0);
        gbc.writeMem(0xed0f, { 0xa9 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xa36, gbc.sp());
        EXPECT(0xed10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xed0f));
        // A9 01C5
        gbc.setState(0x67ae, 0xaa68, 0xacd0, 0x4fc, 0x37e5, 0xc925, 0x0, 0x0);
        gbc.writeMem(0x67ae, { 0xa9 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xaa68, gbc.sp());
        EXPECT(0x67af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01C6
        gbc.setState(0xc886, 0xbae6, 0xa750, 0xc497, 0x5ba6, 0x22b2, 0x0, 0x0);
        gbc.writeMem(0xc886, { 0xa9 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xbae6, gbc.sp());
        EXPECT(0xc887, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc886));
        // A9 01C7
        gbc.setState(0x9c4f, 0x9fb4, 0xa220, 0xfb61, 0xc498, 0xd43a, 0x1, 0x1);
        gbc.writeMem(0x9c4f, { 0xa9 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x9fb4, gbc.sp());
        EXPECT(0x9c50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9c4f));
        // A9 01C8
        gbc.setState(0x9d9f, 0xd64d, 0xfbb0, 0xcffe, 0x9fe0, 0x2919, 0x0, 0x1);
        gbc.writeMem(0x9d9f, { 0xa9 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xd64d, gbc.sp());
        EXPECT(0x9da0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9d9f));
        // A9 01C9
        gbc.setState(0x28e7, 0x91f3, 0x9ca0, 0xc481, 0xa447, 0xac23, 0x1, 0x0);
        gbc.writeMem(0x28e7, { 0xa9 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x91f3, gbc.sp());
        EXPECT(0x28e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01CA
        gbc.setState(0x8203, 0x505b, 0x35a0, 0x8294, 0xed0b, 0xea7b, 0x0, 0x0);
        gbc.writeMem(0x8203, { 0xa9 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x505b, gbc.sp());
        EXPECT(0x8204, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8203));
        // A9 01CB
        gbc.setState(0x32bc, 0x8af3, 0x530, 0xcb28, 0xbeb7, 0xa1fc, 0x1, 0x0);
        gbc.writeMem(0x32bc, { 0xa9 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x8af3, gbc.sp());
        EXPECT(0x32bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01CC
        gbc.setState(0xc000, 0x6fd7, 0x9310, 0xdf17, 0x2a96, 0xd31c, 0x1, 0x1);
        gbc.writeMem(0xc000, { 0xa9 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x6fd7, gbc.sp());
        EXPECT(0xc001, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc000));
        // A9 01CD
        gbc.setState(0x87da, 0x4d55, 0xb570, 0x6b0f, 0x774f, 0xa388, 0x0, 0x0);
        gbc.writeMem(0x87da, { 0xa9 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x4d55, gbc.sp());
        EXPECT(0x87db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x87da));
        // A9 01CE
        gbc.setState(0x685e, 0xd865, 0x8750, 0xc1fe, 0x2b78, 0x1787, 0x1, 0x1);
        gbc.writeMem(0x685e, { 0xa9 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xd865, gbc.sp());
        EXPECT(0x685f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01CF
        gbc.setState(0xba28, 0xc3ed, 0x4220, 0x407b, 0x6210, 0x647f, 0x1, 0x0);
        gbc.writeMem(0xba28, { 0xa9 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xc3ed, gbc.sp());
        EXPECT(0xba29, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xba28));
        // A9 01D0
        gbc.setState(0x333, 0x28b, 0xd570, 0x944f, 0xd8f4, 0xa661, 0x1, 0x0);
        gbc.writeMem(0x333, { 0xa9 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x28b, gbc.sp());
        EXPECT(0x334, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01D1
        gbc.setState(0x75c5, 0x577a, 0x79c0, 0xb4b1, 0xd7a4, 0x92b7, 0x0, 0x0);
        gbc.writeMem(0x75c5, { 0xa9 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x577a, gbc.sp());
        EXPECT(0x75c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01D2
        gbc.setState(0x4371, 0x345e, 0x4010, 0x9025, 0x5dcd, 0x7a6, 0x0, 0x1);
        gbc.writeMem(0x4371, { 0xa9 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x345e, gbc.sp());
        EXPECT(0x4372, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01D3
        gbc.setState(0x782c, 0xa42e, 0xf650, 0xe1c7, 0xd4b8, 0x2bc1, 0x0, 0x1);
        gbc.writeMem(0x782c, { 0xa9 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xa42e, gbc.sp());
        EXPECT(0x782d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01D4
        gbc.setState(0x7339, 0xeb7a, 0xbe20, 0xfd93, 0x9939, 0xf24, 0x0, 0x0);
        gbc.writeMem(0x7339, { 0xa9 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xeb7a, gbc.sp());
        EXPECT(0x733a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01D5
        gbc.setState(0x6bff, 0x3838, 0xfd30, 0xd10e, 0x3c0b, 0xdfa3, 0x0, 0x1);
        gbc.writeMem(0x6bff, { 0xa9 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x3838, gbc.sp());
        EXPECT(0x6c00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01D6
        gbc.setState(0x5b56, 0xab2d, 0x31e0, 0x6aa4, 0x5ade, 0xf213, 0x0, 0x1);
        gbc.writeMem(0x5b56, { 0xa9 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xab2d, gbc.sp());
        EXPECT(0x5b57, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01D7
        gbc.setState(0x7562, 0xcdcd, 0xd5f0, 0x532c, 0x6ebe, 0x3881, 0x1, 0x0);
        gbc.writeMem(0x7562, { 0xa9 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xcdcd, gbc.sp());
        EXPECT(0x7563, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01D8
        gbc.setState(0x9da1, 0x900b, 0xb140, 0x7b1c, 0x457, 0xe711, 0x0, 0x0);
        gbc.writeMem(0x9da1, { 0xa9 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x900b, gbc.sp());
        EXPECT(0x9da2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9da1));
        // A9 01DA
        gbc.setState(0x892c, 0x550a, 0xe400, 0xa04f, 0xac7f, 0xe12c, 0x1, 0x0);
        gbc.writeMem(0x892c, { 0xa9 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x550a, gbc.sp());
        EXPECT(0x892d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x892c));
        // A9 01DC
        gbc.setState(0xc7cf, 0x743b, 0xd3f0, 0x562e, 0xc056, 0x5934, 0x0, 0x1);
        gbc.writeMem(0xc7cf, { 0xa9 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x743b, gbc.sp());
        EXPECT(0xc7d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc7cf));
        // A9 01DD
        gbc.setState(0x601d, 0x67ce, 0x14f0, 0x4487, 0x94fb, 0xd5b5, 0x1, 0x0);
        gbc.writeMem(0x601d, { 0xa9 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x67ce, gbc.sp());
        EXPECT(0x601e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01DE
        gbc.setState(0x8333, 0xa3c, 0x93a0, 0x638a, 0x6532, 0x5ddb, 0x1, 0x0);
        gbc.writeMem(0x8333, { 0xa9 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xa3c, gbc.sp());
        EXPECT(0x8334, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8333));
        // A9 01DF
        gbc.setState(0xd074, 0x12d2, 0x1e80, 0x14ce, 0xb98, 0x5c63, 0x1, 0x0);
        gbc.writeMem(0xd074, { 0xa9 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x12d2, gbc.sp());
        EXPECT(0xd075, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd074));
        // A9 01E0
        gbc.setState(0x5da2, 0x5faf, 0x3f90, 0xf4de, 0x4734, 0x2690, 0x0, 0x1);
        gbc.writeMem(0x5da2, { 0xa9 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x5faf, gbc.sp());
        EXPECT(0x5da3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01E1
        gbc.setState(0xc417, 0xb535, 0x4180, 0x7c11, 0xd41d, 0xf077, 0x1, 0x1);
        gbc.writeMem(0xc417, { 0xa9 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xb535, gbc.sp());
        EXPECT(0xc418, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc417));
        // A9 01E2
        gbc.setState(0x4225, 0x8d72, 0x5ff0, 0x35aa, 0x2dfa, 0xe81b, 0x1, 0x0);
        gbc.writeMem(0x4225, { 0xa9 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x8d72, gbc.sp());
        EXPECT(0x4226, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01E3
        gbc.setState(0x8e, 0x5e79, 0x35b0, 0xf287, 0xfad1, 0xa333, 0x1, 0x1);
        gbc.writeMem(0x8e, { 0xa9 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x5e79, gbc.sp());
        EXPECT(0x8f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01E4
        gbc.setState(0xc9b6, 0x9dc, 0x8660, 0xef28, 0x3cdc, 0xda0b, 0x0, 0x1);
        gbc.writeMem(0xc9b6, { 0xa9 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x9dc, gbc.sp());
        EXPECT(0xc9b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc9b6));
        // A9 01E5
        gbc.setState(0xbb49, 0xf8f5, 0xa4e0, 0x6c6e, 0x2a07, 0x4ccf, 0x0, 0x0);
        gbc.writeMem(0xbb49, { 0xa9 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xf8f5, gbc.sp());
        EXPECT(0xbb4a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbb49));
        // A9 01E7
        gbc.setState(0x92c6, 0xbb5f, 0x39b0, 0x9281, 0xa192, 0xc5de, 0x1, 0x1);
        gbc.writeMem(0x92c6, { 0xa9 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xbb5f, gbc.sp());
        EXPECT(0x92c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x92c6));
        // A9 01E8
        gbc.setState(0x6191, 0xf991, 0xbe90, 0xb601, 0xb973, 0xc447, 0x0, 0x0);
        gbc.writeMem(0x6191, { 0xa9 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xf991, gbc.sp());
        EXPECT(0x6192, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01E9
        gbc.setState(0xcb68, 0x77b3, 0xf180, 0x3115, 0xd768, 0xebb2, 0x0, 0x0);
        gbc.writeMem(0xcb68, { 0xa9 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x77b3, gbc.sp());
        EXPECT(0xcb69, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xcb68));
        // A9 01EA
        gbc.setState(0x2d4, 0x877c, 0x4610, 0x7bd0, 0xca38, 0x650b, 0x1, 0x1);
        gbc.writeMem(0x2d4, { 0xa9 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x877c, gbc.sp());
        EXPECT(0x2d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01EB
        gbc.setState(0xab9f, 0x2bb3, 0xa750, 0xca4b, 0x10b9, 0x640e, 0x1, 0x1);
        gbc.writeMem(0xab9f, { 0xa9 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x2bb3, gbc.sp());
        EXPECT(0xaba0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xab9f));
        // A9 01EC
        gbc.setState(0x903e, 0x6d12, 0x7520, 0x5b23, 0x413f, 0xbe78, 0x0, 0x1);
        gbc.writeMem(0x903e, { 0xa9 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x6d12, gbc.sp());
        EXPECT(0x903f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x903e));
        // A9 01ED
        gbc.setState(0xdb54, 0x56b6, 0x7060, 0x310e, 0xd8f8, 0x5809, 0x0, 0x0);
        gbc.writeMem(0xdb54, { 0xa9 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x56b6, gbc.sp());
        EXPECT(0xdb55, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdb54));
        // A9 01EE
        gbc.setState(0x576a, 0x940, 0x3190, 0x9c26, 0x581e, 0x4f2d, 0x0, 0x0);
        gbc.writeMem(0x576a, { 0xa9 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x940, gbc.sp());
        EXPECT(0x576b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01EF
        gbc.setState(0x4a12, 0xa8ca, 0xa90, 0x5597, 0xe943, 0x2511, 0x1, 0x1);
        gbc.writeMem(0x4a12, { 0xa9 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xa8ca, gbc.sp());
        EXPECT(0x4a13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01F0
        gbc.setState(0x1577, 0xa6fe, 0xeb00, 0x1041, 0x6415, 0xcb8a, 0x1, 0x0);
        gbc.writeMem(0x1577, { 0xa9 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xa6fe, gbc.sp());
        EXPECT(0x1578, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01F1
        gbc.setState(0xa4ae, 0x7d36, 0x79c0, 0xc585, 0xdc5e, 0x61d4, 0x0, 0x0);
        gbc.writeMem(0xa4ae, { 0xa9 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x7d36, gbc.sp());
        EXPECT(0xa4af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa4ae));
        // A9 01F2
        gbc.setState(0x8214, 0xd629, 0xb960, 0xdfa6, 0xe688, 0x6ef8, 0x0, 0x1);
        gbc.writeMem(0x8214, { 0xa9 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xd629, gbc.sp());
        EXPECT(0x8215, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8214));
        // A9 01F3
        gbc.setState(0x8d8e, 0xe99c, 0xdf30, 0xc0eb, 0x86bf, 0xecc6, 0x0, 0x1);
        gbc.writeMem(0x8d8e, { 0xa9 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xe99c, gbc.sp());
        EXPECT(0x8d8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8d8e));
        // A9 01F4
        gbc.setState(0x11b5, 0x2c87, 0x2660, 0xc0c0, 0x8568, 0xa72d, 0x1, 0x0);
        gbc.writeMem(0x11b5, { 0xa9 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x2c87, gbc.sp());
        EXPECT(0x11b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01F5
        gbc.setState(0x3a4e, 0xf942, 0x2c80, 0xe2cb, 0x244f, 0x93fa, 0x0, 0x0);
        gbc.writeMem(0x3a4e, { 0xa9 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xf942, gbc.sp());
        EXPECT(0x3a4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01F6
        gbc.setState(0x7a20, 0x9539, 0xa520, 0x6735, 0xc210, 0x5db0, 0x1, 0x0);
        gbc.writeMem(0x7a20, { 0xa9 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x9539, gbc.sp());
        EXPECT(0x7a21, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01F7
        gbc.setState(0xe345, 0xc78f, 0x3d80, 0x6d2d, 0xe0bd, 0xbe4b, 0x0, 0x0);
        gbc.writeMem(0xe345, { 0xa9 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xc78f, gbc.sp());
        EXPECT(0xe346, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe345));
        // A9 01F8
        gbc.setState(0x453e, 0xa8f6, 0x2fa0, 0x52fc, 0x8b95, 0xdc1a, 0x1, 0x0);
        gbc.writeMem(0x453e, { 0xa9 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xa8f6, gbc.sp());
        EXPECT(0x453f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01F9
        gbc.setState(0x354d, 0xea0c, 0xb150, 0xe8ca, 0xaf0a, 0x2dda, 0x1, 0x0);
        gbc.writeMem(0x354d, { 0xa9 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xea0c, gbc.sp());
        EXPECT(0x354e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01FA
        gbc.setState(0x2720, 0xc731, 0x5570, 0x808, 0x8a42, 0x3048, 0x0, 0x0);
        gbc.writeMem(0x2720, { 0xa9 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xc731, gbc.sp());
        EXPECT(0x2721, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01FB
        gbc.setState(0xb322, 0x33d5, 0xd790, 0xa979, 0xeedf, 0x8b2d, 0x0, 0x1);
        gbc.writeMem(0xb322, { 0xa9 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x33d5, gbc.sp());
        EXPECT(0xb323, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb322));
        // A9 01FC
        gbc.setState(0x93cd, 0x7be0, 0x7f00, 0x3353, 0x2e6b, 0x3555, 0x0, 0x0);
        gbc.writeMem(0x93cd, { 0xa9 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x7be0, gbc.sp());
        EXPECT(0x93ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x93cd));
        // A9 01FD
        gbc.setState(0xbee6, 0x7b9d, 0x33d0, 0x6139, 0xf20, 0x3ba2, 0x0, 0x0);
        gbc.writeMem(0xbee6, { 0xa9 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x7b9d, gbc.sp());
        EXPECT(0xbee7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbee6));
        // A9 01FE
        gbc.setState(0x1da5, 0xf92f, 0xb90, 0xcfc, 0xa4cf, 0x61d8, 0x0, 0x1);
        gbc.writeMem(0x1da5, { 0xa9 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xf92f, gbc.sp());
        EXPECT(0x1da6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 01FF
        gbc.setState(0x32e, 0x65cc, 0xb570, 0x33d0, 0xc177, 0xbd98, 0x1, 0x0);
        gbc.writeMem(0x32e, { 0xa9 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x65cc, gbc.sp());
        EXPECT(0x32f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0201
        gbc.setState(0xb2f2, 0x8628, 0xa7b0, 0xa603, 0xc4e7, 0x90b4, 0x1, 0x0);
        gbc.writeMem(0xb2f2, { 0xa9 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x8628, gbc.sp());
        EXPECT(0xb2f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb2f2));
        // A9 0202
        gbc.setState(0xac0a, 0x9e2d, 0x6030, 0x71d0, 0x8d0a, 0x33bd, 0x0, 0x0);
        gbc.writeMem(0xac0a, { 0xa9 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x9e2d, gbc.sp());
        EXPECT(0xac0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xac0a));
        // A9 0203
        gbc.setState(0xa084, 0x16d6, 0x3d30, 0x9aff, 0xd12d, 0x2d01, 0x0, 0x1);
        gbc.writeMem(0xa084, { 0xa9 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x16d6, gbc.sp());
        EXPECT(0xa085, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa084));
        // A9 0204
        gbc.setState(0x8b3f, 0xfd3e, 0xdf80, 0x99ba, 0x8bb2, 0x815b, 0x1, 0x1);
        gbc.writeMem(0x8b3f, { 0xa9 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xfd3e, gbc.sp());
        EXPECT(0x8b40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8b3f));
        // A9 0206
        gbc.setState(0xd6b5, 0x18bc, 0x7c60, 0xcc2, 0x90c2, 0x4454, 0x0, 0x0);
        gbc.writeMem(0xd6b5, { 0xa9 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x18bc, gbc.sp());
        EXPECT(0xd6b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd6b5));
        // A9 0207
        gbc.setState(0x5d6b, 0xc637, 0x2e40, 0x1ef8, 0x3722, 0xd454, 0x0, 0x0);
        gbc.writeMem(0x5d6b, { 0xa9 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xc637, gbc.sp());
        EXPECT(0x5d6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0208
        gbc.setState(0xdab, 0xf2cf, 0x1160, 0xc0cd, 0xde3e, 0xaa83, 0x0, 0x0);
        gbc.writeMem(0xdab, { 0xa9 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xf2cf, gbc.sp());
        EXPECT(0xdac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0209
        gbc.setState(0x4a22, 0xc741, 0x3d80, 0xb763, 0x85a4, 0xd29e, 0x1, 0x1);
        gbc.writeMem(0x4a22, { 0xa9 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xc741, gbc.sp());
        EXPECT(0x4a23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 020A
        gbc.setState(0x1e44, 0x1779, 0xf6f0, 0x7a42, 0x27f6, 0xc9b3, 0x0, 0x0);
        gbc.writeMem(0x1e44, { 0xa9 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x1779, gbc.sp());
        EXPECT(0x1e45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 020B
        gbc.setState(0xc846, 0x241f, 0x86b0, 0x98b0, 0x1989, 0xf1b2, 0x1, 0x1);
        gbc.writeMem(0xc846, { 0xa9 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x241f, gbc.sp());
        EXPECT(0xc847, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc846));
        // A9 020C
        gbc.setState(0xa83e, 0xa35f, 0xe230, 0xd2d7, 0x4696, 0x7864, 0x1, 0x1);
        gbc.writeMem(0xa83e, { 0xa9 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xa35f, gbc.sp());
        EXPECT(0xa83f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa83e));
        // A9 020D
        gbc.setState(0x9199, 0xb0e7, 0x99d0, 0xca87, 0x6e2b, 0xb46b, 0x0, 0x0);
        gbc.writeMem(0x9199, { 0xa9 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xb0e7, gbc.sp());
        EXPECT(0x919a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9199));
        // A9 020E
        gbc.setState(0x4424, 0xa444, 0x53b0, 0xbe9c, 0xa60c, 0xf578, 0x0, 0x1);
        gbc.writeMem(0x4424, { 0xa9 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xa444, gbc.sp());
        EXPECT(0x4425, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 020F
        gbc.setState(0xd34, 0x2957, 0x560, 0xa283, 0xedfe, 0x63f3, 0x0, 0x0);
        gbc.writeMem(0xd34, { 0xa9 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x2957, gbc.sp());
        EXPECT(0xd35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0210
        gbc.setState(0xed4e, 0x1833, 0x39a0, 0xb213, 0x6be6, 0x7da7, 0x1, 0x0);
        gbc.writeMem(0xed4e, { 0xa9 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x1833, gbc.sp());
        EXPECT(0xed4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xed4e));
        // A9 0211
        gbc.setState(0xa948, 0xed8b, 0x4ae0, 0x4e27, 0xa366, 0xf3ef, 0x0, 0x1);
        gbc.writeMem(0xa948, { 0xa9 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xed8b, gbc.sp());
        EXPECT(0xa949, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa948));
        // A9 0212
        gbc.setState(0x6a8, 0x2f22, 0x8d00, 0x72f7, 0xee3, 0xf97d, 0x1, 0x1);
        gbc.writeMem(0x6a8, { 0xa9 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x2f22, gbc.sp());
        EXPECT(0x6a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0213
        gbc.setState(0x2036, 0x17a6, 0x69e0, 0x358b, 0x6ca4, 0xb41d, 0x0, 0x1);
        gbc.writeMem(0x2036, { 0xa9 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x17a6, gbc.sp());
        EXPECT(0x2037, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0214
        gbc.setState(0xf8d, 0xa143, 0xa390, 0x9143, 0x5059, 0xff09, 0x0, 0x1);
        gbc.writeMem(0xf8d, { 0xa9 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xa143, gbc.sp());
        EXPECT(0xf8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0215
        gbc.setState(0xd12e, 0x5d6, 0x8420, 0x1336, 0x9138, 0xabcc, 0x1, 0x0);
        gbc.writeMem(0xd12e, { 0xa9 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x5d6, gbc.sp());
        EXPECT(0xd12f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd12e));
        // A9 0216
        gbc.setState(0xaded, 0x30e, 0xb600, 0x5627, 0x8ff9, 0x795c, 0x0, 0x0);
        gbc.writeMem(0xaded, { 0xa9 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x30e, gbc.sp());
        EXPECT(0xadee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xaded));
        // A9 0217
        gbc.setState(0x858d, 0xe21a, 0x86d0, 0xc91b, 0x288d, 0x2de0, 0x0, 0x1);
        gbc.writeMem(0x858d, { 0xa9 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xe21a, gbc.sp());
        EXPECT(0x858e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x858d));
        // A9 0218
        gbc.setState(0x1b47, 0x6982, 0x2fd0, 0x9ec5, 0xf9e6, 0x12f3, 0x0, 0x1);
        gbc.writeMem(0x1b47, { 0xa9 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x6982, gbc.sp());
        EXPECT(0x1b48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0219
        gbc.setState(0xa15c, 0x7bb7, 0x36d0, 0x117e, 0x653f, 0x434c, 0x0, 0x0);
        gbc.writeMem(0xa15c, { 0xa9 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x7bb7, gbc.sp());
        EXPECT(0xa15d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa15c));
        // A9 021A
        gbc.setState(0x2643, 0x48d6, 0xc680, 0xf022, 0xcb33, 0x2cd1, 0x1, 0x0);
        gbc.writeMem(0x2643, { 0xa9 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x48d6, gbc.sp());
        EXPECT(0x2644, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 021B
        gbc.setState(0xe30e, 0xd23f, 0xaac0, 0xbdc9, 0xd79e, 0x2e17, 0x1, 0x0);
        gbc.writeMem(0xe30e, { 0xa9 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xd23f, gbc.sp());
        EXPECT(0xe30f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe30e));
        // A9 021C
        gbc.setState(0xde1a, 0x3c34, 0xf0e0, 0xfc52, 0xb58e, 0xaaf6, 0x0, 0x0);
        gbc.writeMem(0xde1a, { 0xa9 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x3c34, gbc.sp());
        EXPECT(0xde1b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xde1a));
        // A9 021D
        gbc.setState(0x885b, 0xcf02, 0x2280, 0xc502, 0x1ffd, 0x6823, 0x1, 0x0);
        gbc.writeMem(0x885b, { 0xa9 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xcf02, gbc.sp());
        EXPECT(0x885c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x885b));
        // A9 021E
        gbc.setState(0x517e, 0x53fa, 0xe1f0, 0xd14f, 0x41a6, 0xb19a, 0x0, 0x1);
        gbc.writeMem(0x517e, { 0xa9 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x53fa, gbc.sp());
        EXPECT(0x517f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 021F
        gbc.setState(0xdb2f, 0x66ec, 0x9b20, 0xb164, 0xdc96, 0x645, 0x1, 0x1);
        gbc.writeMem(0xdb2f, { 0xa9 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x66ec, gbc.sp());
        EXPECT(0xdb30, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdb2f));
        // A9 0220
        gbc.setState(0x1f0a, 0x9966, 0x9610, 0x9cd9, 0xadac, 0xc16, 0x0, 0x0);
        gbc.writeMem(0x1f0a, { 0xa9 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x9966, gbc.sp());
        EXPECT(0x1f0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0221
        gbc.setState(0xb4e2, 0x555d, 0x1ac0, 0x73fd, 0x6e65, 0xfb4c, 0x0, 0x0);
        gbc.writeMem(0xb4e2, { 0xa9 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x555d, gbc.sp());
        EXPECT(0xb4e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb4e2));
        // A9 0222
        gbc.setState(0xcbc7, 0xdd8c, 0x85d0, 0x8a7f, 0x1ee1, 0xaeb9, 0x1, 0x1);
        gbc.writeMem(0xcbc7, { 0xa9 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xdd8c, gbc.sp());
        EXPECT(0xcbc8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xcbc7));
        // A9 0223
        gbc.setState(0xa5fc, 0xef25, 0x5220, 0xeba4, 0x40ff, 0x453a, 0x0, 0x0);
        gbc.writeMem(0xa5fc, { 0xa9 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xef25, gbc.sp());
        EXPECT(0xa5fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa5fc));
        // A9 0224
        gbc.setState(0xbcb4, 0x5279, 0xfe30, 0xe488, 0xc506, 0xea0, 0x0, 0x0);
        gbc.writeMem(0xbcb4, { 0xa9 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x5279, gbc.sp());
        EXPECT(0xbcb5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbcb4));
        // A9 0225
        gbc.setState(0x8d7f, 0x668d, 0xfa50, 0x9b8e, 0x2785, 0xbd9e, 0x1, 0x0);
        gbc.writeMem(0x8d7f, { 0xa9 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x668d, gbc.sp());
        EXPECT(0x8d80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8d7f));
        // A9 0226
        gbc.setState(0x9c0f, 0xb826, 0x4c90, 0x9c49, 0xe32a, 0xc0d, 0x1, 0x0);
        gbc.writeMem(0x9c0f, { 0xa9 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xb826, gbc.sp());
        EXPECT(0x9c10, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9c0f));
        // A9 0227
        gbc.setState(0x7168, 0x2983, 0xfc70, 0x7970, 0xfe91, 0xe04a, 0x1, 0x0);
        gbc.writeMem(0x7168, { 0xa9 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x2983, gbc.sp());
        EXPECT(0x7169, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0228
        gbc.setState(0x4cea, 0x42ef, 0x7510, 0xbaff, 0x281b, 0xbed8, 0x1, 0x0);
        gbc.writeMem(0x4cea, { 0xa9 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x42ef, gbc.sp());
        EXPECT(0x4ceb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0229
        gbc.setState(0x5a6b, 0xde35, 0xfe00, 0x5730, 0x56cf, 0x9608, 0x0, 0x1);
        gbc.writeMem(0x5a6b, { 0xa9 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xde35, gbc.sp());
        EXPECT(0x5a6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 022A
        gbc.setState(0x38d2, 0xf9d7, 0x5bc0, 0x12c4, 0x2fed, 0xf5b2, 0x0, 0x1);
        gbc.writeMem(0x38d2, { 0xa9 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xf9d7, gbc.sp());
        EXPECT(0x38d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 022B
        gbc.setState(0x943e, 0x6444, 0x60f0, 0x3010, 0x1f7, 0xed3c, 0x1, 0x1);
        gbc.writeMem(0x943e, { 0xa9 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x6444, gbc.sp());
        EXPECT(0x943f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x943e));
        // A9 022D
        gbc.setState(0x5a60, 0xdfe2, 0xa20, 0xa8c6, 0xa127, 0x9ef8, 0x0, 0x1);
        gbc.writeMem(0x5a60, { 0xa9 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xdfe2, gbc.sp());
        EXPECT(0x5a61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 022E
        gbc.setState(0x88da, 0x28e3, 0xfa40, 0x4e06, 0x39a7, 0xc018, 0x1, 0x0);
        gbc.writeMem(0x88da, { 0xa9 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x28e3, gbc.sp());
        EXPECT(0x88db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x88da));
        // A9 022F
        gbc.setState(0x607a, 0x77b7, 0x3da0, 0xe362, 0x3211, 0x4882, 0x1, 0x1);
        gbc.writeMem(0x607a, { 0xa9 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x77b7, gbc.sp());
        EXPECT(0x607b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0230
        gbc.setState(0xe756, 0xe94c, 0x4500, 0x7a38, 0x6d68, 0x6f49, 0x1, 0x1);
        gbc.writeMem(0xe756, { 0xa9 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xe94c, gbc.sp());
        EXPECT(0xe757, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe756));
        // A9 0231
        gbc.setState(0x26d1, 0xf06, 0xe060, 0x211d, 0xc66e, 0x903b, 0x1, 0x1);
        gbc.writeMem(0x26d1, { 0xa9 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xf06, gbc.sp());
        EXPECT(0x26d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0233
        gbc.setState(0x1f87, 0xe9e9, 0xb4c0, 0xadb8, 0x937e, 0xe841, 0x0, 0x1);
        gbc.writeMem(0x1f87, { 0xa9 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xe9e9, gbc.sp());
        EXPECT(0x1f88, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0234
        gbc.setState(0x8a4d, 0xa39a, 0xbdf0, 0x5a48, 0x656e, 0xb98c, 0x0, 0x0);
        gbc.writeMem(0x8a4d, { 0xa9 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xa39a, gbc.sp());
        EXPECT(0x8a4e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8a4d));
        // A9 0235
        gbc.setState(0x5593, 0xd9c3, 0x94d0, 0xba49, 0x7101, 0x9003, 0x0, 0x0);
        gbc.writeMem(0x5593, { 0xa9 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xd9c3, gbc.sp());
        EXPECT(0x5594, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0236
        gbc.setState(0xceb, 0xdcde, 0xcc50, 0xad09, 0xbc1c, 0xf88, 0x1, 0x1);
        gbc.writeMem(0xceb, { 0xa9 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xdcde, gbc.sp());
        EXPECT(0xcec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0237
        gbc.setState(0x9b88, 0x9706, 0xd560, 0x5d78, 0x81ea, 0x624d, 0x1, 0x1);
        gbc.writeMem(0x9b88, { 0xa9 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x9706, gbc.sp());
        EXPECT(0x9b89, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9b88));
        // A9 0238
        gbc.setState(0xac5b, 0x6474, 0xe9f0, 0x3996, 0xba0b, 0xcd0c, 0x0, 0x1);
        gbc.writeMem(0xac5b, { 0xa9 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x6474, gbc.sp());
        EXPECT(0xac5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xac5b));
        // A9 0239
        gbc.setState(0x99ad, 0x8688, 0x6210, 0x8e9d, 0x78a4, 0x5304, 0x1, 0x1);
        gbc.writeMem(0x99ad, { 0xa9 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x8688, gbc.sp());
        EXPECT(0x99ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x99ad));
        // A9 023A
        gbc.setState(0x3f29, 0xb913, 0x7ec0, 0xc691, 0x242e, 0x8797, 0x1, 0x1);
        gbc.writeMem(0x3f29, { 0xa9 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xb913, gbc.sp());
        EXPECT(0x3f2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 023B
        gbc.setState(0x3920, 0xa9cb, 0xe680, 0x2c75, 0x89fe, 0xbdbe, 0x0, 0x0);
        gbc.writeMem(0x3920, { 0xa9 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xa9cb, gbc.sp());
        EXPECT(0x3921, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 023C
        gbc.setState(0xda8e, 0xbd8, 0x2cd0, 0x4765, 0x17a0, 0x2368, 0x0, 0x1);
        gbc.writeMem(0xda8e, { 0xa9 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xbd8, gbc.sp());
        EXPECT(0xda8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xda8e));
        // A9 023D
        gbc.setState(0x59b, 0x8dc0, 0x5580, 0xf901, 0xc333, 0x6141, 0x1, 0x0);
        gbc.writeMem(0x59b, { 0xa9 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x8dc0, gbc.sp());
        EXPECT(0x59c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 023E
        gbc.setState(0x285a, 0x4ba1, 0x6a90, 0x75cd, 0x887c, 0x66f0, 0x0, 0x0);
        gbc.writeMem(0x285a, { 0xa9 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x4ba1, gbc.sp());
        EXPECT(0x285b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 023F
        gbc.setState(0xbab9, 0xf53d, 0x3200, 0x94ad, 0x6f05, 0x6a77, 0x1, 0x1);
        gbc.writeMem(0xbab9, { 0xa9 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xf53d, gbc.sp());
        EXPECT(0xbaba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbab9));
        // A9 0240
        gbc.setState(0x4800, 0x9be, 0x1810, 0x1676, 0xd83d, 0xc433, 0x1, 0x1);
        gbc.writeMem(0x4800, { 0xa9 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x9be, gbc.sp());
        EXPECT(0x4801, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0241
        gbc.setState(0x224f, 0x34a2, 0xe9d0, 0xcf1e, 0xfe57, 0x7ee6, 0x1, 0x0);
        gbc.writeMem(0x224f, { 0xa9 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x34a2, gbc.sp());
        EXPECT(0x2250, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0243
        gbc.setState(0x2c44, 0xd296, 0x7240, 0xb55d, 0x5e09, 0x98ad, 0x0, 0x1);
        gbc.writeMem(0x2c44, { 0xa9 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xd296, gbc.sp());
        EXPECT(0x2c45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0244
        gbc.setState(0x51af, 0xacbe, 0x3830, 0x777d, 0x18fa, 0xcaac, 0x0, 0x1);
        gbc.writeMem(0x51af, { 0xa9 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xacbe, gbc.sp());
        EXPECT(0x51b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0245
        gbc.setState(0x352f, 0xd934, 0x9e40, 0xea, 0xe5cc, 0x4217, 0x0, 0x0);
        gbc.writeMem(0x352f, { 0xa9 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xd934, gbc.sp());
        EXPECT(0x3530, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0246
        gbc.setState(0xe04a, 0xfdd9, 0x39b0, 0xfce0, 0x946d, 0x9070, 0x0, 0x0);
        gbc.writeMem(0xe04a, { 0xa9 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xfdd9, gbc.sp());
        EXPECT(0xe04b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe04a));
        // A9 0248
        gbc.setState(0x4984, 0x3079, 0x6410, 0xc8b6, 0x4730, 0x9415, 0x1, 0x1);
        gbc.writeMem(0x4984, { 0xa9 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x3079, gbc.sp());
        EXPECT(0x4985, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0249
        gbc.setState(0xa5ca, 0xbef6, 0xb2c0, 0x4a14, 0x2df5, 0x3fba, 0x0, 0x1);
        gbc.writeMem(0xa5ca, { 0xa9 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xbef6, gbc.sp());
        EXPECT(0xa5cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa5ca));
        // A9 024B
        gbc.setState(0xb6bb, 0x9794, 0xc5d0, 0x458, 0xc63d, 0x9526, 0x1, 0x1);
        gbc.writeMem(0xb6bb, { 0xa9 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x9794, gbc.sp());
        EXPECT(0xb6bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb6bb));
        // A9 024C
        gbc.setState(0x4ff0, 0xaa82, 0x5060, 0x4f3e, 0xa31f, 0x26a0, 0x1, 0x1);
        gbc.writeMem(0x4ff0, { 0xa9 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xaa82, gbc.sp());
        EXPECT(0x4ff1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 024D
        gbc.setState(0x346e, 0x6bc4, 0x6c30, 0x854b, 0xdb34, 0x2af4, 0x0, 0x0);
        gbc.writeMem(0x346e, { 0xa9 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x6bc4, gbc.sp());
        EXPECT(0x346f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 024E
        gbc.setState(0x6202, 0xb13d, 0x5520, 0x8031, 0x2251, 0xac2e, 0x1, 0x0);
        gbc.writeMem(0x6202, { 0xa9 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xb13d, gbc.sp());
        EXPECT(0x6203, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 024F
        gbc.setState(0xe8a, 0xbd8e, 0x56a0, 0xf861, 0x73f0, 0x18a2, 0x1, 0x0);
        gbc.writeMem(0xe8a, { 0xa9 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xbd8e, gbc.sp());
        EXPECT(0xe8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0250
        gbc.setState(0x8619, 0x4d73, 0x16a0, 0x69dd, 0x959b, 0x184b, 0x0, 0x0);
        gbc.writeMem(0x8619, { 0xa9 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x4d73, gbc.sp());
        EXPECT(0x861a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8619));
        // A9 0252
        gbc.setState(0x7190, 0x95e5, 0x6750, 0x6309, 0x5330, 0xa41f, 0x1, 0x0);
        gbc.writeMem(0x7190, { 0xa9 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x95e5, gbc.sp());
        EXPECT(0x7191, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0253
        gbc.setState(0xace2, 0x71e, 0x8d0, 0x94cb, 0xc549, 0xe46b, 0x1, 0x1);
        gbc.writeMem(0xace2, { 0xa9 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x71e, gbc.sp());
        EXPECT(0xace3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xace2));
        // A9 0254
        gbc.setState(0x6fad, 0x9fcc, 0xdf70, 0xa971, 0xf576, 0x2f06, 0x0, 0x0);
        gbc.writeMem(0x6fad, { 0xa9 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x9fcc, gbc.sp());
        EXPECT(0x6fae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0255
        gbc.setState(0x632f, 0xce6a, 0x40c0, 0xb272, 0x8028, 0x6eb4, 0x1, 0x1);
        gbc.writeMem(0x632f, { 0xa9 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xce6a, gbc.sp());
        EXPECT(0x6330, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0256
        gbc.setState(0x4ff7, 0x314a, 0xcfe0, 0x2295, 0xa1f6, 0xa6cb, 0x0, 0x1);
        gbc.writeMem(0x4ff7, { 0xa9 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x314a, gbc.sp());
        EXPECT(0x4ff8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0257
        gbc.setState(0x6a85, 0x7637, 0xaa10, 0x4334, 0x96aa, 0x47a8, 0x1, 0x1);
        gbc.writeMem(0x6a85, { 0xa9 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x7637, gbc.sp());
        EXPECT(0x6a86, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0259
        gbc.setState(0x6bd, 0xcee7, 0xe610, 0xb95a, 0x5d98, 0x262e, 0x1, 0x0);
        gbc.writeMem(0x6bd, { 0xa9 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xcee7, gbc.sp());
        EXPECT(0x6be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 025A
        gbc.setState(0x4733, 0x1ba6, 0x9090, 0xfc31, 0x5fe1, 0xd4d2, 0x0, 0x1);
        gbc.writeMem(0x4733, { 0xa9 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x1ba6, gbc.sp());
        EXPECT(0x4734, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 025B
        gbc.setState(0x4ae6, 0xaaf, 0x61f0, 0x318f, 0x424c, 0x94f, 0x1, 0x0);
        gbc.writeMem(0x4ae6, { 0xa9 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xaaf, gbc.sp());
        EXPECT(0x4ae7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 025C
        gbc.setState(0x84a9, 0x6d43, 0xc7a0, 0x291, 0x3a80, 0x3639, 0x1, 0x1);
        gbc.writeMem(0x84a9, { 0xa9 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x6d43, gbc.sp());
        EXPECT(0x84aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x84a9));
        // A9 025D
        gbc.setState(0x7e10, 0x334d, 0xb3e0, 0x20e7, 0x918, 0xa17, 0x1, 0x1);
        gbc.writeMem(0x7e10, { 0xa9 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x334d, gbc.sp());
        EXPECT(0x7e11, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 025E
        gbc.setState(0xd83b, 0x2d23, 0xbae0, 0x2bc2, 0x6d68, 0x223b, 0x0, 0x1);
        gbc.writeMem(0xd83b, { 0xa9 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x2d23, gbc.sp());
        EXPECT(0xd83c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd83b));
        // A9 025F
        gbc.setState(0xe70f, 0xb037, 0x91a0, 0x693d, 0xb639, 0x58a0, 0x0, 0x1);
        gbc.writeMem(0xe70f, { 0xa9 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xb037, gbc.sp());
        EXPECT(0xe710, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe70f));
        // A9 0260
        gbc.setState(0x4a52, 0x1361, 0xc780, 0xd19a, 0x896a, 0xfd51, 0x0, 0x1);
        gbc.writeMem(0x4a52, { 0xa9 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x1361, gbc.sp());
        EXPECT(0x4a53, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0261
        gbc.setState(0x267e, 0x13da, 0x600, 0x18ce, 0xd105, 0x282f, 0x1, 0x0);
        gbc.writeMem(0x267e, { 0xa9 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x13da, gbc.sp());
        EXPECT(0x267f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0262
        gbc.setState(0x9aed, 0x614a, 0x3240, 0x44d0, 0xd11f, 0xacf8, 0x0, 0x0);
        gbc.writeMem(0x9aed, { 0xa9 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x614a, gbc.sp());
        EXPECT(0x9aee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9aed));
        // A9 0263
        gbc.setState(0x2057, 0x5042, 0xb390, 0xff35, 0xa92d, 0xef8c, 0x1, 0x1);
        gbc.writeMem(0x2057, { 0xa9 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x5042, gbc.sp());
        EXPECT(0x2058, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0264
        gbc.setState(0xc244, 0x3fc7, 0x7830, 0xe4ec, 0x6707, 0xe713, 0x0, 0x1);
        gbc.writeMem(0xc244, { 0xa9 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x3fc7, gbc.sp());
        EXPECT(0xc245, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc244));
        // A9 0265
        gbc.setState(0x3d25, 0x627a, 0xe040, 0xbc44, 0x9c5c, 0x9146, 0x1, 0x1);
        gbc.writeMem(0x3d25, { 0xa9 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x627a, gbc.sp());
        EXPECT(0x3d26, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0266
        gbc.setState(0xd275, 0x6865, 0x9f00, 0x3b0b, 0x487a, 0x7db2, 0x0, 0x1);
        gbc.writeMem(0xd275, { 0xa9 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x6865, gbc.sp());
        EXPECT(0xd276, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd275));
        // A9 0267
        gbc.setState(0xc1d9, 0x5b4e, 0xdf00, 0x8c2f, 0xb138, 0xe304, 0x0, 0x0);
        gbc.writeMem(0xc1d9, { 0xa9 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x5b4e, gbc.sp());
        EXPECT(0xc1da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc1d9));
        // A9 0268
        gbc.setState(0x2902, 0x156e, 0x1630, 0x3234, 0xc639, 0x4025, 0x1, 0x1);
        gbc.writeMem(0x2902, { 0xa9 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x156e, gbc.sp());
        EXPECT(0x2903, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0269
        gbc.setState(0x3f69, 0x95b3, 0xf310, 0x9c91, 0x74cd, 0x3ada, 0x1, 0x1);
        gbc.writeMem(0x3f69, { 0xa9 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x95b3, gbc.sp());
        EXPECT(0x3f6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 026A
        gbc.setState(0x4241, 0xdf35, 0xdc70, 0x6cb3, 0x3e7d, 0x43d, 0x1, 0x1);
        gbc.writeMem(0x4241, { 0xa9 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xdf35, gbc.sp());
        EXPECT(0x4242, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 026B
        gbc.setState(0x135f, 0x44e0, 0xb210, 0xa4a3, 0x1b7d, 0x98fc, 0x0, 0x0);
        gbc.writeMem(0x135f, { 0xa9 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x44e0, gbc.sp());
        EXPECT(0x1360, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 026C
        gbc.setState(0x6609, 0x5ce0, 0x43e0, 0x8276, 0x7232, 0x2c33, 0x0, 0x1);
        gbc.writeMem(0x6609, { 0xa9 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x5ce0, gbc.sp());
        EXPECT(0x660a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 026D
        gbc.setState(0x1fdd, 0x84b0, 0xbe50, 0xe3a8, 0x20fa, 0xe16c, 0x0, 0x1);
        gbc.writeMem(0x1fdd, { 0xa9 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x84b0, gbc.sp());
        EXPECT(0x1fde, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 026E
        gbc.setState(0xb4a9, 0xacea, 0x7d20, 0xefd, 0x92a, 0xfc1, 0x0, 0x0);
        gbc.writeMem(0xb4a9, { 0xa9 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xacea, gbc.sp());
        EXPECT(0xb4aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb4a9));
        // A9 026F
        gbc.setState(0x3495, 0x230e, 0x5d90, 0x93c3, 0x96a5, 0x6345, 0x0, 0x0);
        gbc.writeMem(0x3495, { 0xa9 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x230e, gbc.sp());
        EXPECT(0x3496, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0270
        gbc.setState(0x5764, 0x81d8, 0x10c0, 0xdce1, 0x7183, 0xd596, 0x0, 0x1);
        gbc.writeMem(0x5764, { 0xa9 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x81d8, gbc.sp());
        EXPECT(0x5765, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0271
        gbc.setState(0xad08, 0xf976, 0xfee0, 0xf2b, 0x91ef, 0x8522, 0x1, 0x0);
        gbc.writeMem(0xad08, { 0xa9 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xf976, gbc.sp());
        EXPECT(0xad09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xad08));
        // A9 0272
        gbc.setState(0xc7c9, 0xc024, 0xe7c0, 0x2074, 0x9c19, 0xd75f, 0x1, 0x1);
        gbc.writeMem(0xc7c9, { 0xa9 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xc024, gbc.sp());
        EXPECT(0xc7ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc7c9));
        // A9 0273
        gbc.setState(0xe330, 0x2f8b, 0x3610, 0x1785, 0x1117, 0xa9d8, 0x0, 0x0);
        gbc.writeMem(0xe330, { 0xa9 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x2f8b, gbc.sp());
        EXPECT(0xe331, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe330));
        // A9 0274
        gbc.setState(0x5f78, 0x4383, 0xc0c0, 0xb7a5, 0xc239, 0x4079, 0x0, 0x0);
        gbc.writeMem(0x5f78, { 0xa9 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x4383, gbc.sp());
        EXPECT(0x5f79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0275
        gbc.setState(0x809a, 0x1f8, 0xfd40, 0x85f3, 0x8411, 0xca15, 0x0, 0x0);
        gbc.writeMem(0x809a, { 0xa9 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x1f8, gbc.sp());
        EXPECT(0x809b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x809a));
        // A9 0277
        gbc.setState(0x786f, 0xf9e2, 0x8ce0, 0x5d7b, 0x9038, 0x85b, 0x1, 0x0);
        gbc.writeMem(0x786f, { 0xa9 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xf9e2, gbc.sp());
        EXPECT(0x7870, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0278
        gbc.setState(0xb443, 0xe8b5, 0xc0, 0x6181, 0xb9c8, 0x78a4, 0x0, 0x0);
        gbc.writeMem(0xb443, { 0xa9 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xe8b5, gbc.sp());
        EXPECT(0xb444, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb443));
        // A9 027A
        gbc.setState(0xae66, 0xb7fa, 0xae70, 0x6e72, 0xe3ac, 0x5f63, 0x0, 0x1);
        gbc.writeMem(0xae66, { 0xa9 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xb7fa, gbc.sp());
        EXPECT(0xae67, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xae66));
        // A9 027B
        gbc.setState(0x2a9c, 0x4b40, 0x7f0, 0x7c96, 0x6b0f, 0x94d3, 0x0, 0x1);
        gbc.writeMem(0x2a9c, { 0xa9 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x4b40, gbc.sp());
        EXPECT(0x2a9d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 027C
        gbc.setState(0x517f, 0xfb37, 0x5670, 0x8bd8, 0xaff3, 0x6374, 0x1, 0x0);
        gbc.writeMem(0x517f, { 0xa9 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xfb37, gbc.sp());
        EXPECT(0x5180, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 027D
        gbc.setState(0x259, 0x5554, 0x3160, 0x1c4, 0x7735, 0x4865, 0x0, 0x1);
        gbc.writeMem(0x259, { 0xa9 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x5554, gbc.sp());
        EXPECT(0x25a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 027E
        gbc.setState(0xbc52, 0xea2b, 0xbfc0, 0x3858, 0x482c, 0xaa60, 0x0, 0x1);
        gbc.writeMem(0xbc52, { 0xa9 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xea2b, gbc.sp());
        EXPECT(0xbc53, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbc52));
        // A9 027F
        gbc.setState(0x42ce, 0x321d, 0x9d20, 0x7e8c, 0x49dd, 0x52c1, 0x0, 0x0);
        gbc.writeMem(0x42ce, { 0xa9 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x321d, gbc.sp());
        EXPECT(0x42cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0280
        gbc.setState(0xd538, 0x98ce, 0x8480, 0x6cef, 0xd218, 0x13b9, 0x1, 0x0);
        gbc.writeMem(0xd538, { 0xa9 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x98ce, gbc.sp());
        EXPECT(0xd539, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd538));
        // A9 0281
        gbc.setState(0xd72d, 0x628b, 0x3690, 0x644c, 0xe8e, 0x7ab9, 0x0, 0x0);
        gbc.writeMem(0xd72d, { 0xa9 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x628b, gbc.sp());
        EXPECT(0xd72e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd72d));
        // A9 0282
        gbc.setState(0xb4da, 0xf57, 0x2080, 0x9694, 0xb534, 0xf5a6, 0x0, 0x0);
        gbc.writeMem(0xb4da, { 0xa9 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xf57, gbc.sp());
        EXPECT(0xb4db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb4da));
        // A9 0283
        gbc.setState(0x8f5f, 0x406e, 0xe050, 0xb7f1, 0xba72, 0xc9aa, 0x1, 0x0);
        gbc.writeMem(0x8f5f, { 0xa9 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x406e, gbc.sp());
        EXPECT(0x8f60, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8f5f));
        // A9 0284
        gbc.setState(0xc81, 0xf517, 0xccf0, 0x90f9, 0xba9f, 0xf392, 0x1, 0x1);
        gbc.writeMem(0xc81, { 0xa9 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xf517, gbc.sp());
        EXPECT(0xc82, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0285
        gbc.setState(0x25c7, 0xa5e9, 0xf500, 0x5ebf, 0xbaa2, 0xace3, 0x0, 0x0);
        gbc.writeMem(0x25c7, { 0xa9 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xa5e9, gbc.sp());
        EXPECT(0x25c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0286
        gbc.setState(0xb275, 0x7eca, 0x74c0, 0xfa27, 0x9c3e, 0xe506, 0x0, 0x0);
        gbc.writeMem(0xb275, { 0xa9 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x7eca, gbc.sp());
        EXPECT(0xb276, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb275));
        // A9 0287
        gbc.setState(0xd736, 0xc3a6, 0xa20, 0xcd89, 0xbbc, 0xac85, 0x0, 0x0);
        gbc.writeMem(0xd736, { 0xa9 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xc3a6, gbc.sp());
        EXPECT(0xd737, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd736));
        // A9 0288
        gbc.setState(0x9bed, 0x7700, 0xed30, 0xcc7f, 0xf6ab, 0x7c81, 0x0, 0x1);
        gbc.writeMem(0x9bed, { 0xa9 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x7700, gbc.sp());
        EXPECT(0x9bee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9bed));
        // A9 0289
        gbc.setState(0x952f, 0x1def, 0x9630, 0xbee4, 0x3c45, 0x14f7, 0x0, 0x1);
        gbc.writeMem(0x952f, { 0xa9 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x1def, gbc.sp());
        EXPECT(0x9530, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x952f));
        // A9 028A
        gbc.setState(0x1d4b, 0x40e4, 0x39d0, 0x577f, 0x2a0b, 0xf4b6, 0x1, 0x1);
        gbc.writeMem(0x1d4b, { 0xa9 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x40e4, gbc.sp());
        EXPECT(0x1d4c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 028B
        gbc.setState(0x8263, 0x10b8, 0x9d30, 0x3fc7, 0x745f, 0x1e67, 0x0, 0x1);
        gbc.writeMem(0x8263, { 0xa9 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x10b8, gbc.sp());
        EXPECT(0x8264, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8263));
        // A9 028C
        gbc.setState(0x4a03, 0xf446, 0x2020, 0x97e6, 0x90b, 0xb81d, 0x0, 0x1);
        gbc.writeMem(0x4a03, { 0xa9 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xf446, gbc.sp());
        EXPECT(0x4a04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 028E
        gbc.setState(0xbfa7, 0x92f0, 0xcbc0, 0x2cf3, 0xdc70, 0xa32d, 0x0, 0x1);
        gbc.writeMem(0xbfa7, { 0xa9 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x92f0, gbc.sp());
        EXPECT(0xbfa8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbfa7));
        // A9 028F
        gbc.setState(0x89ea, 0x5293, 0x3810, 0x29e5, 0xb5, 0x4d68, 0x1, 0x0);
        gbc.writeMem(0x89ea, { 0xa9 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x5293, gbc.sp());
        EXPECT(0x89eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x89ea));
        // A9 0290
        gbc.setState(0x5cd9, 0x5346, 0x9c80, 0xdb41, 0xe6d2, 0x5757, 0x0, 0x1);
        gbc.writeMem(0x5cd9, { 0xa9 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x5346, gbc.sp());
        EXPECT(0x5cda, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0291
        gbc.setState(0xd8fb, 0xa8ce, 0x920, 0x45a6, 0xdc5c, 0xfe02, 0x1, 0x0);
        gbc.writeMem(0xd8fb, { 0xa9 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xa8ce, gbc.sp());
        EXPECT(0xd8fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd8fb));
        // A9 0292
        gbc.setState(0x4bd4, 0x8153, 0xf370, 0x339c, 0x4d7, 0xb36e, 0x0, 0x0);
        gbc.writeMem(0x4bd4, { 0xa9 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x8153, gbc.sp());
        EXPECT(0x4bd5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0293
        gbc.setState(0x95a0, 0xab2a, 0x4030, 0x46a3, 0xbbfc, 0xf632, 0x1, 0x0);
        gbc.writeMem(0x95a0, { 0xa9 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xab2a, gbc.sp());
        EXPECT(0x95a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x95a0));
        // A9 0294
        gbc.setState(0xec5b, 0xe903, 0xb740, 0x5253, 0xabd9, 0xcfc7, 0x1, 0x1);
        gbc.writeMem(0xec5b, { 0xa9 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xe903, gbc.sp());
        EXPECT(0xec5c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xec5b));
        // A9 0295
        gbc.setState(0x530f, 0xabb7, 0xfb20, 0x86f7, 0xbec5, 0x93c2, 0x1, 0x1);
        gbc.writeMem(0x530f, { 0xa9 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xabb7, gbc.sp());
        EXPECT(0x5310, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0296
        gbc.setState(0xa67e, 0xea55, 0xbe80, 0x839, 0xf408, 0x7ce1, 0x0, 0x0);
        gbc.writeMem(0xa67e, { 0xa9 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xea55, gbc.sp());
        EXPECT(0xa67f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa67e));
        // A9 0298
        gbc.setState(0x4146, 0x6e2a, 0xfc80, 0x114a, 0xdb21, 0x8a77, 0x0, 0x0);
        gbc.writeMem(0x4146, { 0xa9 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x6e2a, gbc.sp());
        EXPECT(0x4147, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0299
        gbc.setState(0x548a, 0xed1e, 0xdad0, 0x89e3, 0x228a, 0xd907, 0x1, 0x0);
        gbc.writeMem(0x548a, { 0xa9 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xed1e, gbc.sp());
        EXPECT(0x548b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 029A
        gbc.setState(0x340, 0x1043, 0x71d0, 0x4b8, 0x85c0, 0xaa63, 0x0, 0x1);
        gbc.writeMem(0x340, { 0xa9 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x1043, gbc.sp());
        EXPECT(0x341, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 029B
        gbc.setState(0xb49d, 0x4b82, 0x76b0, 0xaadd, 0x42f9, 0xa2d8, 0x1, 0x0);
        gbc.writeMem(0xb49d, { 0xa9 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x4b82, gbc.sp());
        EXPECT(0xb49e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb49d));
        // A9 029C
        gbc.setState(0xd930, 0xad45, 0x65a0, 0xe6d0, 0xa55a, 0xc44d, 0x0, 0x0);
        gbc.writeMem(0xd930, { 0xa9 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xad45, gbc.sp());
        EXPECT(0xd931, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd930));
        // A9 029E
        gbc.setState(0x70d9, 0x5ae4, 0x74c0, 0xf665, 0xf02b, 0x6001, 0x1, 0x1);
        gbc.writeMem(0x70d9, { 0xa9 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x5ae4, gbc.sp());
        EXPECT(0x70da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 029F
        gbc.setState(0x6bcd, 0xb75, 0x9c10, 0xabce, 0xe8df, 0x4ada, 0x0, 0x0);
        gbc.writeMem(0x6bcd, { 0xa9 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xb75, gbc.sp());
        EXPECT(0x6bce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02A0
        gbc.setState(0x58ea, 0x5b39, 0x7d00, 0x534f, 0xc1ac, 0x59d8, 0x0, 0x1);
        gbc.writeMem(0x58ea, { 0xa9 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x5b39, gbc.sp());
        EXPECT(0x58eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02A1
        gbc.setState(0x660f, 0x3966, 0xc280, 0x1d64, 0x5cdd, 0x566b, 0x0, 0x1);
        gbc.writeMem(0x660f, { 0xa9 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x3966, gbc.sp());
        EXPECT(0x6610, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02A2
        gbc.setState(0x8f91, 0x5642, 0x3450, 0x9498, 0xa088, 0x1873, 0x1, 0x0);
        gbc.writeMem(0x8f91, { 0xa9 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x5642, gbc.sp());
        EXPECT(0x8f92, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8f91));
        // A9 02A3
        gbc.setState(0xecb0, 0xdbb7, 0x5240, 0x90fb, 0xeedf, 0xa967, 0x1, 0x1);
        gbc.writeMem(0xecb0, { 0xa9 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xdbb7, gbc.sp());
        EXPECT(0xecb1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xecb0));
        // A9 02A4
        gbc.setState(0xc458, 0xcf2c, 0xf110, 0x90ea, 0xc478, 0xc30d, 0x1, 0x0);
        gbc.writeMem(0xc458, { 0xa9 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xcf2c, gbc.sp());
        EXPECT(0xc459, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc458));
        // A9 02A5
        gbc.setState(0x2c7f, 0x5bab, 0x1c40, 0xe895, 0x7e1e, 0x7c4f, 0x1, 0x0);
        gbc.writeMem(0x2c7f, { 0xa9 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x5bab, gbc.sp());
        EXPECT(0x2c80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02A7
        gbc.setState(0x93fc, 0xc50f, 0x4e00, 0x9b8b, 0xa552, 0x3e47, 0x0, 0x0);
        gbc.writeMem(0x93fc, { 0xa9 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xc50f, gbc.sp());
        EXPECT(0x93fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x93fc));
        // A9 02A8
        gbc.setState(0x8d58, 0xf605, 0x4a50, 0x969b, 0x7d6, 0xaa16, 0x0, 0x1);
        gbc.writeMem(0x8d58, { 0xa9 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xf605, gbc.sp());
        EXPECT(0x8d59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8d58));
        // A9 02A9
        gbc.setState(0xf85, 0xa3be, 0x3460, 0xaa50, 0xb1bc, 0xcea3, 0x0, 0x0);
        gbc.writeMem(0xf85, { 0xa9 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xa3be, gbc.sp());
        EXPECT(0xf86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02AA
        gbc.setState(0x85bb, 0x701e, 0xdec0, 0xc51d, 0xc21a, 0x17a0, 0x1, 0x1);
        gbc.writeMem(0x85bb, { 0xa9 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x701e, gbc.sp());
        EXPECT(0x85bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x85bb));
        // A9 02AB
        gbc.setState(0x983e, 0x76f2, 0xfd0, 0x169a, 0xebb8, 0xfc95, 0x1, 0x1);
        gbc.writeMem(0x983e, { 0xa9 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x76f2, gbc.sp());
        EXPECT(0x983f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x983e));
        // A9 02AC
        gbc.setState(0xaed0, 0x21d9, 0x2610, 0xbfca, 0x551a, 0x8eee, 0x0, 0x1);
        gbc.writeMem(0xaed0, { 0xa9 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x21d9, gbc.sp());
        EXPECT(0xaed1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xaed0));
        // A9 02AD
        gbc.setState(0x4265, 0x58e6, 0x3590, 0x792, 0x1d1, 0x7743, 0x1, 0x1);
        gbc.writeMem(0x4265, { 0xa9 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x58e6, gbc.sp());
        EXPECT(0x4266, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02AE
        gbc.setState(0x80c3, 0x3a6b, 0x2de0, 0xf7da, 0x3126, 0x75be, 0x1, 0x0);
        gbc.writeMem(0x80c3, { 0xa9 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x3a6b, gbc.sp());
        EXPECT(0x80c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x80c3));
        // A9 02AF
        gbc.setState(0xdb2d, 0xfe21, 0xe000, 0xe7de, 0x160a, 0x2193, 0x1, 0x0);
        gbc.writeMem(0xdb2d, { 0xa9 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xfe21, gbc.sp());
        EXPECT(0xdb2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdb2d));
        // A9 02B0
        gbc.setState(0xb43c, 0x6ed2, 0x1bf0, 0x4b4f, 0x4c89, 0xd1cc, 0x0, 0x0);
        gbc.writeMem(0xb43c, { 0xa9 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x6ed2, gbc.sp());
        EXPECT(0xb43d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb43c));
        // A9 02B1
        gbc.setState(0xe7e8, 0x13, 0x8d10, 0xa1e5, 0xd8af, 0x18ea, 0x1, 0x1);
        gbc.writeMem(0xe7e8, { 0xa9 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x13, gbc.sp());
        EXPECT(0xe7e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe7e8));
        // A9 02B2
        gbc.setState(0xbbeb, 0xfaab, 0x31d0, 0x6193, 0xfd53, 0xbcb4, 0x0, 0x0);
        gbc.writeMem(0xbbeb, { 0xa9 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xfaab, gbc.sp());
        EXPECT(0xbbec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbbeb));
        // A9 02B3
        gbc.setState(0x9600, 0x190a, 0xd370, 0x107, 0xb446, 0x6e94, 0x0, 0x0);
        gbc.writeMem(0x9600, { 0xa9 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x190a, gbc.sp());
        EXPECT(0x9601, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9600));
        // A9 02B5
        gbc.setState(0x7e41, 0xf918, 0xc950, 0x73e5, 0xeb1e, 0xe4a5, 0x0, 0x0);
        gbc.writeMem(0x7e41, { 0xa9 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xf918, gbc.sp());
        EXPECT(0x7e42, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02B6
        gbc.setState(0x6312, 0xf831, 0x6430, 0x82ec, 0xd315, 0xc753, 0x1, 0x0);
        gbc.writeMem(0x6312, { 0xa9 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xf831, gbc.sp());
        EXPECT(0x6313, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02B8
        gbc.setState(0xc470, 0x3f81, 0xfbf0, 0xf1dd, 0xd3f3, 0xd8a8, 0x1, 0x0);
        gbc.writeMem(0xc470, { 0xa9 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x3f81, gbc.sp());
        EXPECT(0xc471, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc470));
        // A9 02B9
        gbc.setState(0xdcbc, 0x4599, 0x2460, 0xd610, 0x35e7, 0x6e73, 0x1, 0x0);
        gbc.writeMem(0xdcbc, { 0xa9 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x4599, gbc.sp());
        EXPECT(0xdcbd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdcbc));
        // A9 02BA
        gbc.setState(0x797f, 0x604d, 0x49e0, 0xff86, 0xce44, 0x5b37, 0x0, 0x1);
        gbc.writeMem(0x797f, { 0xa9 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x604d, gbc.sp());
        EXPECT(0x7980, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02BB
        gbc.setState(0xcb8, 0xc953, 0x1b60, 0xe628, 0xb7f2, 0xd871, 0x0, 0x1);
        gbc.writeMem(0xcb8, { 0xa9 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xc953, gbc.sp());
        EXPECT(0xcb9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02BC
        gbc.setState(0x858a, 0x53c3, 0x8510, 0x708e, 0x8986, 0x76d2, 0x1, 0x0);
        gbc.writeMem(0x858a, { 0xa9 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x53c3, gbc.sp());
        EXPECT(0x858b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x858a));
        // A9 02BD
        gbc.setState(0x9f73, 0x298d, 0x9c0, 0xcfd7, 0x2fc1, 0xc7f3, 0x1, 0x1);
        gbc.writeMem(0x9f73, { 0xa9 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x298d, gbc.sp());
        EXPECT(0x9f74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9f73));
        // A9 02BE
        gbc.setState(0x1c86, 0x91ab, 0xd4b0, 0x3f52, 0xd470, 0xedba, 0x1, 0x0);
        gbc.writeMem(0x1c86, { 0xa9 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x91ab, gbc.sp());
        EXPECT(0x1c87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02BF
        gbc.setState(0x9, 0xf96f, 0xb370, 0x315d, 0xc686, 0x249, 0x1, 0x0);
        gbc.writeMem(0x9, { 0xa9 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xf96f, gbc.sp());
        EXPECT(0xa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02C0
        gbc.setState(0x1fc1, 0xd7cb, 0x7850, 0xbb00, 0xf678, 0xc7c0, 0x1, 0x1);
        gbc.writeMem(0x1fc1, { 0xa9 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xd7cb, gbc.sp());
        EXPECT(0x1fc2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02C1
        gbc.setState(0x183d, 0xffab, 0x3880, 0x638f, 0x73bd, 0xfa99, 0x1, 0x0);
        gbc.writeMem(0x183d, { 0xa9 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xffab, gbc.sp());
        EXPECT(0x183e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02C3
        gbc.setState(0x7ecb, 0xe891, 0xf4f0, 0x468a, 0xde4, 0xcb4c, 0x0, 0x0);
        gbc.writeMem(0x7ecb, { 0xa9 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xe891, gbc.sp());
        EXPECT(0x7ecc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02C4
        gbc.setState(0x62d3, 0x1962, 0x8100, 0x9930, 0x7f1, 0xf591, 0x0, 0x0);
        gbc.writeMem(0x62d3, { 0xa9 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x1962, gbc.sp());
        EXPECT(0x62d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02C5
        gbc.setState(0x547d, 0x54b8, 0x6d00, 0xff4e, 0xfaac, 0x4065, 0x0, 0x0);
        gbc.writeMem(0x547d, { 0xa9 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x54b8, gbc.sp());
        EXPECT(0x547e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02C6
        gbc.setState(0xa3f7, 0x13e, 0x4ef0, 0xe17, 0xf5b3, 0x6d80, 0x1, 0x1);
        gbc.writeMem(0xa3f7, { 0xa9 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x13e, gbc.sp());
        EXPECT(0xa3f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa3f7));
        // A9 02C7
        gbc.setState(0x8ec9, 0x4b00, 0x4ee0, 0x454b, 0xc330, 0xb5b1, 0x1, 0x1);
        gbc.writeMem(0x8ec9, { 0xa9 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x4b00, gbc.sp());
        EXPECT(0x8eca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8ec9));
        // A9 02C8
        gbc.setState(0xc695, 0x24b5, 0x7340, 0x8164, 0x80e3, 0x803a, 0x0, 0x0);
        gbc.writeMem(0xc695, { 0xa9 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x24b5, gbc.sp());
        EXPECT(0xc696, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc695));
        // A9 02C9
        gbc.setState(0xea20, 0x6e24, 0x27e0, 0x67dd, 0x398a, 0x4d39, 0x1, 0x1);
        gbc.writeMem(0xea20, { 0xa9 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x6e24, gbc.sp());
        EXPECT(0xea21, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xea20));
        // A9 02CA
        gbc.setState(0xdacd, 0x98f4, 0x3700, 0x2a54, 0xb471, 0xdde2, 0x1, 0x0);
        gbc.writeMem(0xdacd, { 0xa9 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x98f4, gbc.sp());
        EXPECT(0xdace, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdacd));
        // A9 02CB
        gbc.setState(0x4146, 0xaf81, 0xe990, 0x6c1d, 0xfc9e, 0xc2a3, 0x0, 0x1);
        gbc.writeMem(0x4146, { 0xa9 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xaf81, gbc.sp());
        EXPECT(0x4147, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02CC
        gbc.setState(0x62bf, 0xe264, 0xf700, 0xb7a3, 0xad98, 0x2a90, 0x0, 0x1);
        gbc.writeMem(0x62bf, { 0xa9 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xe264, gbc.sp());
        EXPECT(0x62c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02CD
        gbc.setState(0xe84e, 0xcc16, 0xf680, 0x462e, 0xa21a, 0x769a, 0x1, 0x0);
        gbc.writeMem(0xe84e, { 0xa9 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xcc16, gbc.sp());
        EXPECT(0xe84f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe84e));
        // A9 02CE
        gbc.setState(0x2434, 0x499, 0x5bf0, 0x76e0, 0xb2f, 0x96f3, 0x1, 0x0);
        gbc.writeMem(0x2434, { 0xa9 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x499, gbc.sp());
        EXPECT(0x2435, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02CF
        gbc.setState(0x9bcc, 0xb19, 0x1a60, 0x877, 0x7ab1, 0xe7b7, 0x1, 0x1);
        gbc.writeMem(0x9bcc, { 0xa9 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xb19, gbc.sp());
        EXPECT(0x9bcd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9bcc));
        // A9 02D0
        gbc.setState(0x6e4e, 0x80ad, 0xd0e0, 0xad85, 0x23e3, 0xde5d, 0x0, 0x0);
        gbc.writeMem(0x6e4e, { 0xa9 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x80ad, gbc.sp());
        EXPECT(0x6e4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02D1
        gbc.setState(0x3a49, 0x546a, 0x8420, 0xd75a, 0xdf4c, 0x956, 0x1, 0x0);
        gbc.writeMem(0x3a49, { 0xa9 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x546a, gbc.sp());
        EXPECT(0x3a4a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02D2
        gbc.setState(0x16b7, 0x9e30, 0xf040, 0xbde7, 0xc698, 0x698f, 0x0, 0x1);
        gbc.writeMem(0x16b7, { 0xa9 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x9e30, gbc.sp());
        EXPECT(0x16b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02D3
        gbc.setState(0xec0, 0x445f, 0xcb60, 0x8609, 0xc6b6, 0x4f46, 0x1, 0x1);
        gbc.writeMem(0xec0, { 0xa9 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x445f, gbc.sp());
        EXPECT(0xec1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02D4
        gbc.setState(0x4187, 0x640f, 0x3a40, 0xd67f, 0xeff4, 0x7f90, 0x0, 0x1);
        gbc.writeMem(0x4187, { 0xa9 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x640f, gbc.sp());
        EXPECT(0x4188, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02D5
        gbc.setState(0x6017, 0xade, 0x23b0, 0x6948, 0x7694, 0x900d, 0x1, 0x0);
        gbc.writeMem(0x6017, { 0xa9 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xade, gbc.sp());
        EXPECT(0x6018, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02D6
        gbc.setState(0x376b, 0x46d6, 0xa70, 0xdbad, 0x5b0c, 0x3969, 0x0, 0x1);
        gbc.writeMem(0x376b, { 0xa9 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x46d6, gbc.sp());
        EXPECT(0x376c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02D7
        gbc.setState(0xd223, 0xcada, 0xa260, 0x8ea3, 0x5778, 0x5bf4, 0x1, 0x1);
        gbc.writeMem(0xd223, { 0xa9 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xcada, gbc.sp());
        EXPECT(0xd224, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd223));
        // A9 02D8
        gbc.setState(0x4c0d, 0xfd48, 0xa340, 0x80b9, 0x25bd, 0x596e, 0x0, 0x1);
        gbc.writeMem(0x4c0d, { 0xa9 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xfd48, gbc.sp());
        EXPECT(0x4c0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02D9
        gbc.setState(0xe74a, 0x8b90, 0x1660, 0x9a25, 0x47ac, 0x8a88, 0x0, 0x0);
        gbc.writeMem(0xe74a, { 0xa9 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x8b90, gbc.sp());
        EXPECT(0xe74b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe74a));
        // A9 02DA
        gbc.setState(0xa281, 0x9473, 0xfb50, 0x2787, 0x9141, 0x1ad0, 0x1, 0x1);
        gbc.writeMem(0xa281, { 0xa9 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x9473, gbc.sp());
        EXPECT(0xa282, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa281));
        // A9 02DB
        gbc.setState(0x75dd, 0x7616, 0x2fc0, 0xf014, 0x4c12, 0x1fa5, 0x0, 0x1);
        gbc.writeMem(0x75dd, { 0xa9 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x7616, gbc.sp());
        EXPECT(0x75de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02DC
        gbc.setState(0xa700, 0x67d0, 0x78e0, 0xf8c0, 0x4ace, 0x918c, 0x1, 0x1);
        gbc.writeMem(0xa700, { 0xa9 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x67d0, gbc.sp());
        EXPECT(0xa701, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa700));
        // A9 02DD
        gbc.setState(0x5848, 0x3776, 0x2c30, 0xf55b, 0x6a0b, 0x10f1, 0x0, 0x1);
        gbc.writeMem(0x5848, { 0xa9 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x3776, gbc.sp());
        EXPECT(0x5849, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02DE
        gbc.setState(0x130d, 0x85be, 0x370, 0x6c68, 0xf94b, 0xd5f1, 0x0, 0x1);
        gbc.writeMem(0x130d, { 0xa9 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x85be, gbc.sp());
        EXPECT(0x130e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02DF
        gbc.setState(0xe74f, 0x846f, 0x83d0, 0x2510, 0x9fd2, 0x3783, 0x0, 0x0);
        gbc.writeMem(0xe74f, { 0xa9 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x846f, gbc.sp());
        EXPECT(0xe750, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe74f));
        // A9 02E0
        gbc.setState(0x6a7a, 0x5e36, 0xfd60, 0xef4b, 0x7a62, 0x979a, 0x1, 0x0);
        gbc.writeMem(0x6a7a, { 0xa9 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x5e36, gbc.sp());
        EXPECT(0x6a7b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02E1
        gbc.setState(0x53be, 0x2826, 0x9540, 0xfb97, 0xe277, 0xa0ef, 0x1, 0x0);
        gbc.writeMem(0x53be, { 0xa9 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x2826, gbc.sp());
        EXPECT(0x53bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02E2
        gbc.setState(0x1191, 0xd855, 0x3190, 0x796a, 0x6dac, 0x7532, 0x1, 0x1);
        gbc.writeMem(0x1191, { 0xa9 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xd855, gbc.sp());
        EXPECT(0x1192, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02E3
        gbc.setState(0x48cd, 0xcebb, 0xe570, 0xb2ca, 0x5f34, 0x2f34, 0x0, 0x1);
        gbc.writeMem(0x48cd, { 0xa9 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xcebb, gbc.sp());
        EXPECT(0x48ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02E4
        gbc.setState(0xc701, 0x2b95, 0x6a00, 0x93c8, 0xafd0, 0xb88, 0x0, 0x1);
        gbc.writeMem(0xc701, { 0xa9 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x2b95, gbc.sp());
        EXPECT(0xc702, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc701));
        // A9 02E5
        gbc.setState(0x7c1, 0x2da7, 0x5870, 0x210e, 0x51a9, 0xf446, 0x1, 0x0);
        gbc.writeMem(0x7c1, { 0xa9 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x2da7, gbc.sp());
        EXPECT(0x7c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02E6
        gbc.setState(0x3cbc, 0xabbc, 0x4f30, 0x727d, 0x52c5, 0x3bb7, 0x0, 0x1);
        gbc.writeMem(0x3cbc, { 0xa9 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xabbc, gbc.sp());
        EXPECT(0x3cbd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02E7
        gbc.setState(0xb7eb, 0x5f16, 0x90d0, 0x426, 0x1df7, 0xbf5e, 0x1, 0x0);
        gbc.writeMem(0xb7eb, { 0xa9 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x5f16, gbc.sp());
        EXPECT(0xb7ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb7eb));
        // A9 02E8
        gbc.setState(0x6e93, 0x2eca, 0x48f0, 0x3fd3, 0xaa0e, 0xfd03, 0x1, 0x0);
        gbc.writeMem(0x6e93, { 0xa9 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x2eca, gbc.sp());
        EXPECT(0x6e94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02E9
        gbc.setState(0x7b5d, 0x9673, 0x6460, 0x4769, 0x5756, 0xec5b, 0x1, 0x0);
        gbc.writeMem(0x7b5d, { 0xa9 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x9673, gbc.sp());
        EXPECT(0x7b5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02EB
        gbc.setState(0x8e2, 0xfd6d, 0x2060, 0x9e82, 0xe230, 0x866d, 0x1, 0x1);
        gbc.writeMem(0x8e2, { 0xa9 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xfd6d, gbc.sp());
        EXPECT(0x8e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02ED
        gbc.setState(0xb5c9, 0x6d9b, 0x9e40, 0xe8e, 0xfc61, 0xa187, 0x0, 0x0);
        gbc.writeMem(0xb5c9, { 0xa9 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x6d9b, gbc.sp());
        EXPECT(0xb5ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb5c9));
        // A9 02EE
        gbc.setState(0x326b, 0xabaf, 0x9160, 0x5e38, 0x6056, 0x3989, 0x1, 0x1);
        gbc.writeMem(0x326b, { 0xa9 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xabaf, gbc.sp());
        EXPECT(0x326c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02EF
        gbc.setState(0xcbad, 0x7949, 0xa5d0, 0x821c, 0x4110, 0xa04e, 0x1, 0x0);
        gbc.writeMem(0xcbad, { 0xa9 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x7949, gbc.sp());
        EXPECT(0xcbae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xcbad));
        // A9 02F0
        gbc.setState(0x419c, 0xa5ec, 0x1060, 0x8cba, 0x9d5c, 0xf496, 0x0, 0x1);
        gbc.writeMem(0x419c, { 0xa9 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xa5ec, gbc.sp());
        EXPECT(0x419d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02F1
        gbc.setState(0x408f, 0x4bf5, 0xd990, 0xb89e, 0x923c, 0x51f, 0x0, 0x0);
        gbc.writeMem(0x408f, { 0xa9 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x4bf5, gbc.sp());
        EXPECT(0x4090, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02F2
        gbc.setState(0x5ac0, 0x7659, 0x4d10, 0x4787, 0x91c0, 0xf05f, 0x0, 0x1);
        gbc.writeMem(0x5ac0, { 0xa9 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x7659, gbc.sp());
        EXPECT(0x5ac1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02F3
        gbc.setState(0xafc, 0xd947, 0xcf30, 0x4f6c, 0x74c1, 0x29ba, 0x1, 0x1);
        gbc.writeMem(0xafc, { 0xa9 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xd947, gbc.sp());
        EXPECT(0xafd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02F4
        gbc.setState(0x3374, 0x9d61, 0x920, 0xb3d5, 0x9a86, 0xbc08, 0x1, 0x1);
        gbc.writeMem(0x3374, { 0xa9 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x9d61, gbc.sp());
        EXPECT(0x3375, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02F5
        gbc.setState(0x1785, 0x7397, 0x64c0, 0xe009, 0xc2d9, 0x9d16, 0x1, 0x1);
        gbc.writeMem(0x1785, { 0xa9 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x7397, gbc.sp());
        EXPECT(0x1786, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02F6
        gbc.setState(0xe444, 0xcfc2, 0x1910, 0x7b50, 0x14ab, 0x620e, 0x1, 0x0);
        gbc.writeMem(0xe444, { 0xa9 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xcfc2, gbc.sp());
        EXPECT(0xe445, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe444));
        // A9 02F7
        gbc.setState(0x7aa1, 0x649, 0xd950, 0xc207, 0x2cb9, 0xdd47, 0x1, 0x1);
        gbc.writeMem(0x7aa1, { 0xa9 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x649, gbc.sp());
        EXPECT(0x7aa2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02F8
        gbc.setState(0x8868, 0x15d9, 0xdf70, 0x1f91, 0xf4eb, 0x7474, 0x0, 0x1);
        gbc.writeMem(0x8868, { 0xa9 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x15d9, gbc.sp());
        EXPECT(0x8869, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8868));
        // A9 02F9
        gbc.setState(0xd379, 0xd2bc, 0x3d00, 0xce62, 0x63bd, 0xeb42, 0x0, 0x1);
        gbc.writeMem(0xd379, { 0xa9 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xd2bc, gbc.sp());
        EXPECT(0xd37a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd379));
        // A9 02FA
        gbc.setState(0x3037, 0x43be, 0x57b0, 0x71dc, 0x412c, 0xf859, 0x0, 0x1);
        gbc.writeMem(0x3037, { 0xa9 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x43be, gbc.sp());
        EXPECT(0x3038, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02FB
        gbc.setState(0x70c9, 0x9c55, 0xb4d0, 0x945a, 0x97d9, 0x6309, 0x1, 0x0);
        gbc.writeMem(0x70c9, { 0xa9 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x9c55, gbc.sp());
        EXPECT(0x70ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 02FC
        gbc.setState(0xc3bd, 0x1fd8, 0x2e40, 0x7204, 0xe1c3, 0xc8e9, 0x1, 0x1);
        gbc.writeMem(0xc3bd, { 0xa9 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x1fd8, gbc.sp());
        EXPECT(0xc3be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc3bd));
        // A9 02FD
        gbc.setState(0x914e, 0xc0b8, 0x8a50, 0xf6db, 0xb21f, 0xdbdd, 0x1, 0x1);
        gbc.writeMem(0x914e, { 0xa9 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xc0b8, gbc.sp());
        EXPECT(0x914f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x914e));
        // A9 02FE
        gbc.setState(0xa8ab, 0x5fd3, 0xda50, 0xae87, 0xf1ff, 0xbd9d, 0x0, 0x0);
        gbc.writeMem(0xa8ab, { 0xa9 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x5fd3, gbc.sp());
        EXPECT(0xa8ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa8ab));
        // A9 02FF
        gbc.setState(0xa594, 0x8233, 0x6150, 0x892d, 0xde0a, 0x8880, 0x0, 0x0);
        gbc.writeMem(0xa594, { 0xa9 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x8233, gbc.sp());
        EXPECT(0xa595, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa594));
        // A9 0300
        gbc.setState(0x6cd7, 0x2897, 0x8190, 0xbb93, 0x7282, 0x1979, 0x1, 0x1);
        gbc.writeMem(0x6cd7, { 0xa9 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x2897, gbc.sp());
        EXPECT(0x6cd8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0301
        gbc.setState(0x7954, 0xf8dd, 0xc420, 0x408f, 0x4248, 0x6c7b, 0x0, 0x0);
        gbc.writeMem(0x7954, { 0xa9 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xf8dd, gbc.sp());
        EXPECT(0x7955, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0302
        gbc.setState(0x41bc, 0xb077, 0x81a0, 0x1296, 0x14ac, 0x63c3, 0x1, 0x1);
        gbc.writeMem(0x41bc, { 0xa9 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xb077, gbc.sp());
        EXPECT(0x41bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0303
        gbc.setState(0xef5b, 0xb4ec, 0x2bc0, 0xcb52, 0xc37f, 0xd6f5, 0x1, 0x0);
        gbc.writeMem(0xef5b, { 0xa9 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xb4ec, gbc.sp());
        EXPECT(0xef5c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xef5b));
        // A9 0304
        gbc.setState(0xc762, 0x295f, 0x7620, 0xa948, 0xd471, 0x98cc, 0x0, 0x0);
        gbc.writeMem(0xc762, { 0xa9 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x295f, gbc.sp());
        EXPECT(0xc763, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc762));
        // A9 0305
        gbc.setState(0x4617, 0x81dd, 0x23e0, 0xd720, 0x9eb4, 0x868b, 0x0, 0x1);
        gbc.writeMem(0x4617, { 0xa9 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x81dd, gbc.sp());
        EXPECT(0x4618, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0306
        gbc.setState(0x47db, 0xc78c, 0x4d00, 0xa434, 0x94cc, 0x85b3, 0x0, 0x0);
        gbc.writeMem(0x47db, { 0xa9 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xc78c, gbc.sp());
        EXPECT(0x47dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0307
        gbc.setState(0x8712, 0x45be, 0x3090, 0x3946, 0x8de2, 0x29e6, 0x1, 0x1);
        gbc.writeMem(0x8712, { 0xa9 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x45be, gbc.sp());
        EXPECT(0x8713, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8712));
        // A9 0308
        gbc.setState(0xc95c, 0x2080, 0x14c0, 0xc0ba, 0x820d, 0x1893, 0x1, 0x1);
        gbc.writeMem(0xc95c, { 0xa9 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x2080, gbc.sp());
        EXPECT(0xc95d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc95c));
        // A9 0309
        gbc.setState(0x7a47, 0xa883, 0x8e90, 0x6fb9, 0x2a59, 0xa1fb, 0x1, 0x1);
        gbc.writeMem(0x7a47, { 0xa9 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xa883, gbc.sp());
        EXPECT(0x7a48, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 030A
        gbc.setState(0x1fbc, 0x6449, 0x5c70, 0xb33a, 0xd5eb, 0xb846, 0x1, 0x0);
        gbc.writeMem(0x1fbc, { 0xa9 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x6449, gbc.sp());
        EXPECT(0x1fbd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 030B
        gbc.setState(0xbc8d, 0x20ec, 0x6e50, 0x8ca4, 0xd82d, 0x4109, 0x0, 0x0);
        gbc.writeMem(0xbc8d, { 0xa9 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x20ec, gbc.sp());
        EXPECT(0xbc8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbc8d));
        // A9 030C
        gbc.setState(0x6b08, 0x95d4, 0x3e20, 0xcc4d, 0x7393, 0x8abd, 0x1, 0x0);
        gbc.writeMem(0x6b08, { 0xa9 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x95d4, gbc.sp());
        EXPECT(0x6b09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 030D
        gbc.setState(0x9255, 0x1424, 0x72e0, 0x2c71, 0x73e2, 0xeec, 0x0, 0x0);
        gbc.writeMem(0x9255, { 0xa9 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x1424, gbc.sp());
        EXPECT(0x9256, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9255));
        // A9 030E
        gbc.setState(0x9f7, 0xd252, 0xe6e0, 0xec64, 0xb55, 0x516, 0x0, 0x0);
        gbc.writeMem(0x9f7, { 0xa9 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xd252, gbc.sp());
        EXPECT(0x9f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 030F
        gbc.setState(0xa69e, 0x35ce, 0xb160, 0xcc87, 0x6059, 0x7835, 0x1, 0x0);
        gbc.writeMem(0xa69e, { 0xa9 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x35ce, gbc.sp());
        EXPECT(0xa69f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa69e));
        // A9 0310
        gbc.setState(0xb8aa, 0xd3df, 0x7070, 0x7f4c, 0xdf95, 0xe9d7, 0x0, 0x0);
        gbc.writeMem(0xb8aa, { 0xa9 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xd3df, gbc.sp());
        EXPECT(0xb8ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb8aa));
        // A9 0311
        gbc.setState(0xb4e9, 0x7b3c, 0xdfc0, 0xdfcb, 0xbace, 0x6ea4, 0x0, 0x1);
        gbc.writeMem(0xb4e9, { 0xa9 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x7b3c, gbc.sp());
        EXPECT(0xb4ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb4e9));
        // A9 0312
        gbc.setState(0x9269, 0x4662, 0xb880, 0x2542, 0x1b4b, 0xef67, 0x0, 0x1);
        gbc.writeMem(0x9269, { 0xa9 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x4662, gbc.sp());
        EXPECT(0x926a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9269));
        // A9 0313
        gbc.setState(0xb3ed, 0xd6d4, 0x3dc0, 0x59e7, 0x3376, 0x2911, 0x1, 0x1);
        gbc.writeMem(0xb3ed, { 0xa9 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xd6d4, gbc.sp());
        EXPECT(0xb3ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb3ed));
        // A9 0314
        gbc.setState(0x96f4, 0x25f4, 0xa890, 0xd498, 0xa3, 0xbe95, 0x0, 0x0);
        gbc.writeMem(0x96f4, { 0xa9 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x25f4, gbc.sp());
        EXPECT(0x96f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x96f4));
        // A9 0315
        gbc.setState(0x250f, 0xf1bf, 0x6850, 0xc2b8, 0x3868, 0xbbf1, 0x1, 0x0);
        gbc.writeMem(0x250f, { 0xa9 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xf1bf, gbc.sp());
        EXPECT(0x2510, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0316
        gbc.setState(0xe156, 0x70a7, 0x4280, 0x9051, 0x87f, 0x51d0, 0x1, 0x0);
        gbc.writeMem(0xe156, { 0xa9 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x70a7, gbc.sp());
        EXPECT(0xe157, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe156));
        // A9 0317
        gbc.setState(0x2914, 0x5b44, 0xa980, 0x9911, 0xa834, 0x49ba, 0x1, 0x1);
        gbc.writeMem(0x2914, { 0xa9 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x5b44, gbc.sp());
        EXPECT(0x2915, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0318
        gbc.setState(0x987b, 0x914c, 0x8510, 0x5035, 0xaf90, 0x4d42, 0x0, 0x0);
        gbc.writeMem(0x987b, { 0xa9 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x914c, gbc.sp());
        EXPECT(0x987c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x987b));
        // A9 0319
        gbc.setState(0xda14, 0xfe17, 0x7070, 0xe2ae, 0xc56c, 0x74d3, 0x0, 0x1);
        gbc.writeMem(0xda14, { 0xa9 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xfe17, gbc.sp());
        EXPECT(0xda15, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xda14));
        // A9 031A
        gbc.setState(0x5bcc, 0x3db, 0x2840, 0x7da5, 0xd20, 0x4f00, 0x0, 0x0);
        gbc.writeMem(0x5bcc, { 0xa9 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x3db, gbc.sp());
        EXPECT(0x5bcd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 031B
        gbc.setState(0xeac7, 0xaf69, 0x1160, 0x7b25, 0xa8d, 0xfbf7, 0x1, 0x1);
        gbc.writeMem(0xeac7, { 0xa9 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xaf69, gbc.sp());
        EXPECT(0xeac8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xeac7));
        // A9 031C
        gbc.setState(0x5eec, 0xbae4, 0x35a0, 0x6f40, 0xa5f9, 0x9b9b, 0x1, 0x0);
        gbc.writeMem(0x5eec, { 0xa9 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xbae4, gbc.sp());
        EXPECT(0x5eed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 031E
        gbc.setState(0x8db0, 0x730f, 0x63e0, 0x1180, 0xfcd0, 0x7b4, 0x0, 0x1);
        gbc.writeMem(0x8db0, { 0xa9 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x730f, gbc.sp());
        EXPECT(0x8db1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8db0));
        // A9 031F
        gbc.setState(0xc796, 0x1a90, 0x3c30, 0x6c2a, 0x835e, 0x9568, 0x1, 0x0);
        gbc.writeMem(0xc796, { 0xa9 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x1a90, gbc.sp());
        EXPECT(0xc797, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc796));
        // A9 0320
        gbc.setState(0xccb5, 0xcdc7, 0xb9b0, 0xaa9, 0xf941, 0xa69, 0x0, 0x1);
        gbc.writeMem(0xccb5, { 0xa9 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xcdc7, gbc.sp());
        EXPECT(0xccb6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xccb5));
        // A9 0321
        gbc.setState(0xc236, 0xd372, 0x4c70, 0x43a9, 0x7c9a, 0x7db9, 0x1, 0x0);
        gbc.writeMem(0xc236, { 0xa9 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xd372, gbc.sp());
        EXPECT(0xc237, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc236));
        // A9 0322
        gbc.setState(0x8dc9, 0x75c5, 0x6970, 0x259c, 0xbd75, 0x7039, 0x0, 0x1);
        gbc.writeMem(0x8dc9, { 0xa9 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x75c5, gbc.sp());
        EXPECT(0x8dca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8dc9));
        // A9 0323
        gbc.setState(0x9b24, 0x1643, 0x8ec0, 0xaa, 0xb0c1, 0x70f7, 0x1, 0x1);
        gbc.writeMem(0x9b24, { 0xa9 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x1643, gbc.sp());
        EXPECT(0x9b25, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9b24));
        // A9 0324
        gbc.setState(0x9597, 0x356, 0xcc0, 0xb88, 0x6fec, 0x5955, 0x1, 0x0);
        gbc.writeMem(0x9597, { 0xa9 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x356, gbc.sp());
        EXPECT(0x9598, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9597));
        // A9 0325
        gbc.setState(0xa5fa, 0x82e0, 0x2bc0, 0x8535, 0x9bc8, 0xa427, 0x1, 0x0);
        gbc.writeMem(0xa5fa, { 0xa9 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x82e0, gbc.sp());
        EXPECT(0xa5fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa5fa));
        // A9 0326
        gbc.setState(0xc1a2, 0x3493, 0x6fc0, 0xad70, 0x10ed, 0x7edf, 0x0, 0x1);
        gbc.writeMem(0xc1a2, { 0xa9 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x3493, gbc.sp());
        EXPECT(0xc1a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc1a2));
        // A9 0327
        gbc.setState(0x9c8a, 0x16e3, 0xfd30, 0x6fd0, 0x89a5, 0x6d9a, 0x1, 0x0);
        gbc.writeMem(0x9c8a, { 0xa9 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x16e3, gbc.sp());
        EXPECT(0x9c8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9c8a));
        // A9 0328
        gbc.setState(0xdddd, 0x18bf, 0xcd90, 0xf24, 0x7af, 0x7a60, 0x0, 0x0);
        gbc.writeMem(0xdddd, { 0xa9 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x18bf, gbc.sp());
        EXPECT(0xddde, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdddd));
        // A9 0329
        gbc.setState(0xb04f, 0x1df6, 0x54d0, 0xeb0a, 0x63a6, 0x14a8, 0x1, 0x0);
        gbc.writeMem(0xb04f, { 0xa9 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x1df6, gbc.sp());
        EXPECT(0xb050, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb04f));
        // A9 032A
        gbc.setState(0xeafc, 0xb908, 0xa0b0, 0x39fd, 0x6bce, 0xeb7b, 0x0, 0x0);
        gbc.writeMem(0xeafc, { 0xa9 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xb908, gbc.sp());
        EXPECT(0xeafd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xeafc));
        // A9 032B
        gbc.setState(0xe487, 0x8be3, 0xf780, 0xb81e, 0xb27c, 0x24e0, 0x1, 0x1);
        gbc.writeMem(0xe487, { 0xa9 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x8be3, gbc.sp());
        EXPECT(0xe488, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe487));
        // A9 032C
        gbc.setState(0x48cb, 0xab62, 0x5480, 0x3691, 0x5039, 0xe15c, 0x1, 0x1);
        gbc.writeMem(0x48cb, { 0xa9 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xab62, gbc.sp());
        EXPECT(0x48cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 032D
        gbc.setState(0xcfd6, 0x4581, 0xda40, 0x1177, 0xdead, 0x766f, 0x0, 0x0);
        gbc.writeMem(0xcfd6, { 0xa9 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x4581, gbc.sp());
        EXPECT(0xcfd7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xcfd6));
        // A9 032E
        gbc.setState(0x94a, 0x5667, 0xb850, 0x4c1e, 0xcd35, 0xc5ce, 0x0, 0x1);
        gbc.writeMem(0x94a, { 0xa9 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x5667, gbc.sp());
        EXPECT(0x94b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 032F
        gbc.setState(0x6343, 0xbd34, 0x2be0, 0x14e9, 0x875c, 0x636, 0x0, 0x0);
        gbc.writeMem(0x6343, { 0xa9 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xbd34, gbc.sp());
        EXPECT(0x6344, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0330
        gbc.setState(0x299f, 0x4608, 0xafb0, 0x7068, 0x44b2, 0x1e41, 0x1, 0x0);
        gbc.writeMem(0x299f, { 0xa9 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x4608, gbc.sp());
        EXPECT(0x29a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0331
        gbc.setState(0xbfa6, 0xe054, 0x6990, 0x3263, 0x3295, 0x6818, 0x1, 0x1);
        gbc.writeMem(0xbfa6, { 0xa9 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xe054, gbc.sp());
        EXPECT(0xbfa7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbfa6));
        // A9 0332
        gbc.setState(0x90c0, 0xa279, 0x9a80, 0x5f4b, 0x59dd, 0x87c4, 0x1, 0x0);
        gbc.writeMem(0x90c0, { 0xa9 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xa279, gbc.sp());
        EXPECT(0x90c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x90c0));
        // A9 0333
        gbc.setState(0x4c4f, 0xfaba, 0xaeb0, 0x2475, 0xc268, 0xcfd5, 0x1, 0x1);
        gbc.writeMem(0x4c4f, { 0xa9 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xfaba, gbc.sp());
        EXPECT(0x4c50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0334
        gbc.setState(0x8804, 0x3e48, 0x8a0, 0x80df, 0xda2d, 0x1dd2, 0x1, 0x1);
        gbc.writeMem(0x8804, { 0xa9 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x3e48, gbc.sp());
        EXPECT(0x8805, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8804));
        // A9 0335
        gbc.setState(0x282, 0x55fe, 0x8950, 0xda2c, 0x69ca, 0x62a9, 0x1, 0x1);
        gbc.writeMem(0x282, { 0xa9 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x55fe, gbc.sp());
        EXPECT(0x283, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0337
        gbc.setState(0x8614, 0xcb79, 0xb430, 0x8da8, 0x4849, 0x60e9, 0x1, 0x1);
        gbc.writeMem(0x8614, { 0xa9 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xcb79, gbc.sp());
        EXPECT(0x8615, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8614));
        // A9 0338
        gbc.setState(0xd39e, 0x9992, 0xaee0, 0xe046, 0xd36a, 0x9044, 0x0, 0x0);
        gbc.writeMem(0xd39e, { 0xa9 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x9992, gbc.sp());
        EXPECT(0xd39f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd39e));
        // A9 0339
        gbc.setState(0x9cf1, 0xbff6, 0xc2d0, 0x200a, 0xd5e2, 0x8b8b, 0x0, 0x1);
        gbc.writeMem(0x9cf1, { 0xa9 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xbff6, gbc.sp());
        EXPECT(0x9cf2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9cf1));
        // A9 033A
        gbc.setState(0xb528, 0x9995, 0xbcc0, 0xd482, 0xde0f, 0x5b94, 0x0, 0x0);
        gbc.writeMem(0xb528, { 0xa9 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x9995, gbc.sp());
        EXPECT(0xb529, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb528));
        // A9 033B
        gbc.setState(0x81be, 0x22, 0xfc70, 0x41d3, 0x8b05, 0xd5a4, 0x1, 0x1);
        gbc.writeMem(0x81be, { 0xa9 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x22, gbc.sp());
        EXPECT(0x81bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x81be));
        // A9 033C
        gbc.setState(0xc42, 0x1bf4, 0x9110, 0x9f65, 0xf4e5, 0xd491, 0x0, 0x0);
        gbc.writeMem(0xc42, { 0xa9 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x1bf4, gbc.sp());
        EXPECT(0xc43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 033D
        gbc.setState(0x45dd, 0x341e, 0x5860, 0xf7cf, 0xf9f0, 0xdc0, 0x1, 0x1);
        gbc.writeMem(0x45dd, { 0xa9 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x341e, gbc.sp());
        EXPECT(0x45de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 033E
        gbc.setState(0xcb72, 0xba63, 0x7d00, 0xc028, 0xef8e, 0x6c6b, 0x1, 0x0);
        gbc.writeMem(0xcb72, { 0xa9 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xba63, gbc.sp());
        EXPECT(0xcb73, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xcb72));
        // A9 033F
        gbc.setState(0x7aaa, 0x5e77, 0xd2e0, 0xad52, 0xae74, 0x894a, 0x1, 0x0);
        gbc.writeMem(0x7aaa, { 0xa9 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x5e77, gbc.sp());
        EXPECT(0x7aab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0340
        gbc.setState(0x3763, 0x235e, 0x7240, 0x4e70, 0x7d09, 0x61ea, 0x0, 0x1);
        gbc.writeMem(0x3763, { 0xa9 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x235e, gbc.sp());
        EXPECT(0x3764, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0341
        gbc.setState(0x9478, 0x6d37, 0x7900, 0x3322, 0x769c, 0x5ef6, 0x0, 0x1);
        gbc.writeMem(0x9478, { 0xa9 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x6d37, gbc.sp());
        EXPECT(0x9479, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9478));
        // A9 0342
        gbc.setState(0xceae, 0x3480, 0x69b0, 0x565a, 0x75b9, 0xf237, 0x1, 0x0);
        gbc.writeMem(0xceae, { 0xa9 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x3480, gbc.sp());
        EXPECT(0xceaf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xceae));
        // A9 0343
        gbc.setState(0x6748, 0x9370, 0xbc60, 0x5d10, 0x30d6, 0x552f, 0x1, 0x1);
        gbc.writeMem(0x6748, { 0xa9 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x9370, gbc.sp());
        EXPECT(0x6749, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0344
        gbc.setState(0xce65, 0x4615, 0xf5d0, 0x69d1, 0x48b, 0xf0ec, 0x1, 0x0);
        gbc.writeMem(0xce65, { 0xa9 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x4615, gbc.sp());
        EXPECT(0xce66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xce65));
        // A9 0345
        gbc.setState(0xde21, 0x2511, 0x9270, 0xf9b7, 0x206b, 0x1cfc, 0x0, 0x1);
        gbc.writeMem(0xde21, { 0xa9 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x2511, gbc.sp());
        EXPECT(0xde22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xde21));
        // A9 0346
        gbc.setState(0xed72, 0xd453, 0x3190, 0xbfef, 0xbb2b, 0xebd6, 0x0, 0x0);
        gbc.writeMem(0xed72, { 0xa9 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xd453, gbc.sp());
        EXPECT(0xed73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xed72));
        // A9 0347
        gbc.setState(0x2ff3, 0x126b, 0x83d0, 0xecc2, 0xbeba, 0x695, 0x1, 0x1);
        gbc.writeMem(0x2ff3, { 0xa9 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x126b, gbc.sp());
        EXPECT(0x2ff4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0348
        gbc.setState(0x11f4, 0xe251, 0x2570, 0x174a, 0x8dba, 0x880d, 0x0, 0x1);
        gbc.writeMem(0x11f4, { 0xa9 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xe251, gbc.sp());
        EXPECT(0x11f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0349
        gbc.setState(0x11f3, 0x22b8, 0x2220, 0x260b, 0x39ea, 0x2905, 0x0, 0x0);
        gbc.writeMem(0x11f3, { 0xa9 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x22b8, gbc.sp());
        EXPECT(0x11f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 034B
        gbc.setState(0x3691, 0xd8f3, 0x7f90, 0x9d0c, 0xe506, 0x9774, 0x1, 0x0);
        gbc.writeMem(0x3691, { 0xa9 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xd8f3, gbc.sp());
        EXPECT(0x3692, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 034C
        gbc.setState(0x7d63, 0x236c, 0xfd90, 0xfb64, 0x4293, 0x6c2f, 0x1, 0x0);
        gbc.writeMem(0x7d63, { 0xa9 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x236c, gbc.sp());
        EXPECT(0x7d64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 034D
        gbc.setState(0xd6a7, 0xc976, 0x1b80, 0xd525, 0x1db5, 0x9077, 0x1, 0x1);
        gbc.writeMem(0xd6a7, { 0xa9 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xc976, gbc.sp());
        EXPECT(0xd6a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd6a7));
        // A9 034E
        gbc.setState(0x4fac, 0x48d0, 0xbe70, 0x3cbf, 0xbcc, 0xcea1, 0x0, 0x1);
        gbc.writeMem(0x4fac, { 0xa9 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x48d0, gbc.sp());
        EXPECT(0x4fad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 034F
        gbc.setState(0x126e, 0xffba, 0x4b70, 0xb3d3, 0x8943, 0xa13a, 0x1, 0x0);
        gbc.writeMem(0x126e, { 0xa9 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xffba, gbc.sp());
        EXPECT(0x126f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0350
        gbc.setState(0x1632, 0x168f, 0xe150, 0x7ec5, 0xd862, 0x4459, 0x0, 0x0);
        gbc.writeMem(0x1632, { 0xa9 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x168f, gbc.sp());
        EXPECT(0x1633, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0351
        gbc.setState(0xbb83, 0xafee, 0x1b50, 0x1c0d, 0x6acc, 0x5a02, 0x0, 0x1);
        gbc.writeMem(0xbb83, { 0xa9 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xafee, gbc.sp());
        EXPECT(0xbb84, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbb83));
        // A9 0352
        gbc.setState(0xe1b4, 0xd15d, 0x5410, 0x2e65, 0x9df6, 0x2fb4, 0x1, 0x1);
        gbc.writeMem(0xe1b4, { 0xa9 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xd15d, gbc.sp());
        EXPECT(0xe1b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe1b4));
        // A9 0353
        gbc.setState(0xb82b, 0x3954, 0x9c10, 0x6a38, 0xae7e, 0x94ae, 0x0, 0x0);
        gbc.writeMem(0xb82b, { 0xa9 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x3954, gbc.sp());
        EXPECT(0xb82c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb82b));
        // A9 0355
        gbc.setState(0x73fa, 0x37b5, 0x3140, 0x66aa, 0x6036, 0xda44, 0x0, 0x0);
        gbc.writeMem(0x73fa, { 0xa9 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x37b5, gbc.sp());
        EXPECT(0x73fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0356
        gbc.setState(0x6e77, 0x71e5, 0xdd40, 0xd680, 0xbd4a, 0x241, 0x1, 0x0);
        gbc.writeMem(0x6e77, { 0xa9 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x71e5, gbc.sp());
        EXPECT(0x6e78, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0357
        gbc.setState(0xe7bb, 0x2233, 0xa3f0, 0xb67f, 0x4cdc, 0x510f, 0x0, 0x0);
        gbc.writeMem(0xe7bb, { 0xa9 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x2233, gbc.sp());
        EXPECT(0xe7bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe7bb));
        // A9 0358
        gbc.setState(0x3a5e, 0xc1a6, 0x11c0, 0x3f5f, 0x1317, 0xab88, 0x0, 0x1);
        gbc.writeMem(0x3a5e, { 0xa9 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xc1a6, gbc.sp());
        EXPECT(0x3a5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0359
        gbc.setState(0x3708, 0xdd18, 0x2f50, 0x8bb4, 0xd27a, 0xdd18, 0x0, 0x1);
        gbc.writeMem(0x3708, { 0xa9 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xdd18, gbc.sp());
        EXPECT(0x3709, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 035A
        gbc.setState(0xc878, 0x4a10, 0xdc70, 0x969d, 0xfab1, 0xc07a, 0x0, 0x1);
        gbc.writeMem(0xc878, { 0xa9 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x4a10, gbc.sp());
        EXPECT(0xc879, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc878));
        // A9 035B
        gbc.setState(0xa454, 0xbd52, 0x59a0, 0x3eb2, 0x2ba7, 0x48f1, 0x0, 0x0);
        gbc.writeMem(0xa454, { 0xa9 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xbd52, gbc.sp());
        EXPECT(0xa455, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa454));
        // A9 035D
        gbc.setState(0x128d, 0x6cd8, 0xe6a0, 0x84de, 0x6509, 0xb370, 0x1, 0x1);
        gbc.writeMem(0x128d, { 0xa9 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x6cd8, gbc.sp());
        EXPECT(0x128e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 035E
        gbc.setState(0xe991, 0x3c0c, 0xe160, 0x4543, 0xaa39, 0xdada, 0x1, 0x1);
        gbc.writeMem(0xe991, { 0xa9 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x3c0c, gbc.sp());
        EXPECT(0xe992, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe991));
        // A9 035F
        gbc.setState(0xad04, 0x7af1, 0x5b50, 0x86a6, 0xcf0b, 0xe3e0, 0x0, 0x0);
        gbc.writeMem(0xad04, { 0xa9 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x7af1, gbc.sp());
        EXPECT(0xad05, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xad04));
        // A9 0360
        gbc.setState(0xd8d2, 0xa407, 0x76c0, 0x478c, 0xb13, 0xc211, 0x1, 0x0);
        gbc.writeMem(0xd8d2, { 0xa9 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xa407, gbc.sp());
        EXPECT(0xd8d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd8d2));
        // A9 0361
        gbc.setState(0x1c3f, 0x9c6c, 0xfa0, 0x7fd2, 0x5417, 0x892d, 0x1, 0x1);
        gbc.writeMem(0x1c3f, { 0xa9 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x9c6c, gbc.sp());
        EXPECT(0x1c40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0362
        gbc.setState(0x4341, 0x82f3, 0xdff0, 0xf9f7, 0x2a6b, 0xb9ef, 0x1, 0x0);
        gbc.writeMem(0x4341, { 0xa9 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x82f3, gbc.sp());
        EXPECT(0x4342, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0363
        gbc.setState(0x4675, 0x3c0a, 0x7e00, 0x99cd, 0xc049, 0x894c, 0x0, 0x0);
        gbc.writeMem(0x4675, { 0xa9 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x3c0a, gbc.sp());
        EXPECT(0x4676, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0364
        gbc.setState(0x42c6, 0x8074, 0x4950, 0x9141, 0xcc26, 0x4b15, 0x1, 0x0);
        gbc.writeMem(0x42c6, { 0xa9 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x8074, gbc.sp());
        EXPECT(0x42c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0366
        gbc.setState(0x7885, 0x9c1b, 0xbfd0, 0x6f14, 0x6394, 0x976, 0x0, 0x1);
        gbc.writeMem(0x7885, { 0xa9 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x9c1b, gbc.sp());
        EXPECT(0x7886, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0367
        gbc.setState(0x57f3, 0xeff6, 0x96d0, 0xd9e5, 0x1199, 0x3a78, 0x0, 0x1);
        gbc.writeMem(0x57f3, { 0xa9 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xeff6, gbc.sp());
        EXPECT(0x57f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0368
        gbc.setState(0x12ae, 0x34e7, 0x1f60, 0x8b35, 0xef41, 0xd849, 0x1, 0x0);
        gbc.writeMem(0x12ae, { 0xa9 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x34e7, gbc.sp());
        EXPECT(0x12af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0369
        gbc.setState(0x920e, 0xc98b, 0x4620, 0x6e27, 0xac77, 0x793c, 0x0, 0x0);
        gbc.writeMem(0x920e, { 0xa9 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xc98b, gbc.sp());
        EXPECT(0x920f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x920e));
        // A9 036A
        gbc.setState(0xec12, 0x4ec6, 0x4e50, 0x9a53, 0xd23d, 0xe22b, 0x1, 0x0);
        gbc.writeMem(0xec12, { 0xa9 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x4ec6, gbc.sp());
        EXPECT(0xec13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xec12));
        // A9 036B
        gbc.setState(0xae8c, 0x89db, 0x55d0, 0xd603, 0xdec2, 0xe76, 0x1, 0x1);
        gbc.writeMem(0xae8c, { 0xa9 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x89db, gbc.sp());
        EXPECT(0xae8d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xae8c));
        // A9 036C
        gbc.setState(0x92b2, 0x5361, 0xb2b0, 0x511e, 0x2741, 0x552b, 0x1, 0x0);
        gbc.writeMem(0x92b2, { 0xa9 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x5361, gbc.sp());
        EXPECT(0x92b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x92b2));
        // A9 036D
        gbc.setState(0xae08, 0x2efb, 0x3060, 0x9c02, 0xf1f3, 0xac05, 0x1, 0x1);
        gbc.writeMem(0xae08, { 0xa9 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x2efb, gbc.sp());
        EXPECT(0xae09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xae08));
        // A9 036E
        gbc.setState(0xe800, 0x1b19, 0xc270, 0x74ea, 0x94ca, 0xc5b, 0x1, 0x1);
        gbc.writeMem(0xe800, { 0xa9 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x1b19, gbc.sp());
        EXPECT(0xe801, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe800));
        // A9 036F
        gbc.setState(0xc437, 0x6a4a, 0x3330, 0x7c16, 0xd913, 0x7e67, 0x1, 0x0);
        gbc.writeMem(0xc437, { 0xa9 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x6a4a, gbc.sp());
        EXPECT(0xc438, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc437));
        // A9 0370
        gbc.setState(0x7885, 0xa912, 0xdf50, 0xc4cf, 0xed02, 0x1d5d, 0x0, 0x1);
        gbc.writeMem(0x7885, { 0xa9 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xa912, gbc.sp());
        EXPECT(0x7886, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0371
        gbc.setState(0x6ab1, 0x7795, 0x7f10, 0xe085, 0xa51c, 0x9dc9, 0x1, 0x0);
        gbc.writeMem(0x6ab1, { 0xa9 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x7795, gbc.sp());
        EXPECT(0x6ab2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0372
        gbc.setState(0xae06, 0x393f, 0x81f0, 0x5bd7, 0x41d5, 0x5812, 0x1, 0x0);
        gbc.writeMem(0xae06, { 0xa9 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x393f, gbc.sp());
        EXPECT(0xae07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xae06));
        // A9 0373
        gbc.setState(0xeb33, 0x7076, 0x3e40, 0xaa14, 0x9035, 0x4a5f, 0x0, 0x0);
        gbc.writeMem(0xeb33, { 0xa9 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x7076, gbc.sp());
        EXPECT(0xeb34, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xeb33));
        // A9 0374
        gbc.setState(0x89e3, 0xee74, 0xefa0, 0x4d77, 0xa655, 0x9594, 0x1, 0x0);
        gbc.writeMem(0x89e3, { 0xa9 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xee74, gbc.sp());
        EXPECT(0x89e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x89e3));
        // A9 0375
        gbc.setState(0x8bd1, 0x98f, 0x6940, 0x1ac5, 0x1dfd, 0x6cb1, 0x0, 0x0);
        gbc.writeMem(0x8bd1, { 0xa9 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x98f, gbc.sp());
        EXPECT(0x8bd2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8bd1));
        // A9 0376
        gbc.setState(0x95a1, 0xda81, 0x47d0, 0x5a92, 0xe378, 0x97cd, 0x1, 0x1);
        gbc.writeMem(0x95a1, { 0xa9 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xda81, gbc.sp());
        EXPECT(0x95a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x95a1));
        // A9 0378
        gbc.setState(0x6ac6, 0x854d, 0x1270, 0x8e78, 0xcba5, 0x484d, 0x0, 0x1);
        gbc.writeMem(0x6ac6, { 0xa9 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x854d, gbc.sp());
        EXPECT(0x6ac7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0379
        gbc.setState(0xaa44, 0xd30b, 0x2810, 0x75fc, 0xce2a, 0x2123, 0x0, 0x0);
        gbc.writeMem(0xaa44, { 0xa9 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xd30b, gbc.sp());
        EXPECT(0xaa45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xaa44));
        // A9 037A
        gbc.setState(0xb2ac, 0xd875, 0xf5d0, 0xd67a, 0x2f08, 0x2b4c, 0x0, 0x1);
        gbc.writeMem(0xb2ac, { 0xa9 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xd875, gbc.sp());
        EXPECT(0xb2ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb2ac));
        // A9 037B
        gbc.setState(0x9ed0, 0x9484, 0x6590, 0x7fd2, 0x405b, 0xe822, 0x0, 0x0);
        gbc.writeMem(0x9ed0, { 0xa9 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x9484, gbc.sp());
        EXPECT(0x9ed1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9ed0));
        // A9 037C
        gbc.setState(0x4b13, 0x76da, 0xca00, 0x9ec6, 0xf329, 0xd718, 0x1, 0x1);
        gbc.writeMem(0x4b13, { 0xa9 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x76da, gbc.sp());
        EXPECT(0x4b14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 037D
        gbc.setState(0x5b60, 0x8a74, 0x2670, 0x3c29, 0x7b86, 0x7f64, 0x1, 0x0);
        gbc.writeMem(0x5b60, { 0xa9 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x8a74, gbc.sp());
        EXPECT(0x5b61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 037E
        gbc.setState(0x2c14, 0x6b65, 0x27d0, 0x9b2c, 0x8c30, 0x82e1, 0x1, 0x0);
        gbc.writeMem(0x2c14, { 0xa9 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x6b65, gbc.sp());
        EXPECT(0x2c15, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 037F
        gbc.setState(0xbb45, 0x48dc, 0xb9f0, 0xcd1e, 0x616e, 0x5f0e, 0x0, 0x1);
        gbc.writeMem(0xbb45, { 0xa9 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x48dc, gbc.sp());
        EXPECT(0xbb46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbb45));
        // A9 0380
        gbc.setState(0x2b56, 0x859f, 0xfed0, 0xc3e3, 0xa82e, 0x671b, 0x0, 0x0);
        gbc.writeMem(0x2b56, { 0xa9 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x859f, gbc.sp());
        EXPECT(0x2b57, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0381
        gbc.setState(0xbab4, 0x36c2, 0x28c0, 0x9017, 0x7aaf, 0xa1ed, 0x0, 0x0);
        gbc.writeMem(0xbab4, { 0xa9 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x36c2, gbc.sp());
        EXPECT(0xbab5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbab4));
        // A9 0382
        gbc.setState(0x382e, 0x5ed8, 0x82f0, 0xa4fe, 0x4ecd, 0x1046, 0x0, 0x1);
        gbc.writeMem(0x382e, { 0xa9 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x5ed8, gbc.sp());
        EXPECT(0x382f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0383
        gbc.setState(0x8940, 0x91a7, 0x7b40, 0x2689, 0xeff3, 0x5676, 0x0, 0x0);
        gbc.writeMem(0x8940, { 0xa9 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x91a7, gbc.sp());
        EXPECT(0x8941, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8940));
        // A9 0384
        gbc.setState(0xdf34, 0x1448, 0xb1a0, 0x415a, 0xc787, 0xdd63, 0x0, 0x0);
        gbc.writeMem(0xdf34, { 0xa9 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x1448, gbc.sp());
        EXPECT(0xdf35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdf34));
        // A9 0385
        gbc.setState(0xb6ab, 0xc02f, 0xbb80, 0xa156, 0x2f8a, 0x67da, 0x1, 0x1);
        gbc.writeMem(0xb6ab, { 0xa9 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xc02f, gbc.sp());
        EXPECT(0xb6ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb6ab));
        // A9 0386
        gbc.setState(0x5099, 0x59a7, 0x4e0, 0xf054, 0x2a43, 0x6c69, 0x0, 0x0);
        gbc.writeMem(0x5099, { 0xa9 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x59a7, gbc.sp());
        EXPECT(0x509a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0387
        gbc.setState(0x1c92, 0xd30, 0xc500, 0xe4d9, 0x3f0c, 0xe386, 0x0, 0x1);
        gbc.writeMem(0x1c92, { 0xa9 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xd30, gbc.sp());
        EXPECT(0x1c93, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0388
        gbc.setState(0xeecb, 0x6d74, 0xe6c0, 0xc5ff, 0x1128, 0x2bc5, 0x0, 0x0);
        gbc.writeMem(0xeecb, { 0xa9 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x6d74, gbc.sp());
        EXPECT(0xeecc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xeecb));
        // A9 0389
        gbc.setState(0xbd98, 0xb52d, 0xad60, 0xb47f, 0x8fa, 0xf5df, 0x1, 0x0);
        gbc.writeMem(0xbd98, { 0xa9 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xb52d, gbc.sp());
        EXPECT(0xbd99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbd98));
        // A9 038A
        gbc.setState(0x63a, 0x4d95, 0x3070, 0x2f14, 0x5fc1, 0xe5d0, 0x1, 0x1);
        gbc.writeMem(0x63a, { 0xa9 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x4d95, gbc.sp());
        EXPECT(0x63b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 038B
        gbc.setState(0x7ba7, 0x1062, 0x9b0, 0x2e56, 0x17d3, 0xda1c, 0x0, 0x1);
        gbc.writeMem(0x7ba7, { 0xa9 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x1062, gbc.sp());
        EXPECT(0x7ba8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 038C
        gbc.setState(0x35b3, 0xfa37, 0x9df0, 0xbe73, 0x808e, 0x29ff, 0x0, 0x0);
        gbc.writeMem(0x35b3, { 0xa9 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xfa37, gbc.sp());
        EXPECT(0x35b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 038D
        gbc.setState(0x43e0, 0x7135, 0xb2b0, 0xd5a9, 0xf37f, 0xa95, 0x1, 0x1);
        gbc.writeMem(0x43e0, { 0xa9 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x7135, gbc.sp());
        EXPECT(0x43e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 038E
        gbc.setState(0x255a, 0xc133, 0xf00, 0x7fba, 0xcafd, 0x2a7f, 0x0, 0x0);
        gbc.writeMem(0x255a, { 0xa9 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xc133, gbc.sp());
        EXPECT(0x255b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 038F
        gbc.setState(0xb0ca, 0xe4fa, 0x9c30, 0x5863, 0x3216, 0x8b11, 0x0, 0x0);
        gbc.writeMem(0xb0ca, { 0xa9 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xe4fa, gbc.sp());
        EXPECT(0xb0cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb0ca));
        // A9 0390
        gbc.setState(0xe3f8, 0x64d2, 0x1000, 0x3996, 0xf01c, 0x9450, 0x0, 0x1);
        gbc.writeMem(0xe3f8, { 0xa9 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x64d2, gbc.sp());
        EXPECT(0xe3f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe3f8));
        // A9 0391
        gbc.setState(0xe8d1, 0x80e, 0x5190, 0xa4a7, 0xc90, 0x2b4b, 0x1, 0x0);
        gbc.writeMem(0xe8d1, { 0xa9 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x80e, gbc.sp());
        EXPECT(0xe8d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe8d1));
        // A9 0392
        gbc.setState(0xe0c3, 0xe2fd, 0xeb20, 0x4e32, 0x9248, 0x68d8, 0x1, 0x1);
        gbc.writeMem(0xe0c3, { 0xa9 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xe2fd, gbc.sp());
        EXPECT(0xe0c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe0c3));
        // A9 0393
        gbc.setState(0x2de9, 0x844, 0xa650, 0x4299, 0x2d36, 0xa221, 0x0, 0x0);
        gbc.writeMem(0x2de9, { 0xa9 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x844, gbc.sp());
        EXPECT(0x2dea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0394
        gbc.setState(0x8c97, 0xf20c, 0xe5c0, 0x27cd, 0xc1e3, 0x4f34, 0x0, 0x0);
        gbc.writeMem(0x8c97, { 0xa9 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xf20c, gbc.sp());
        EXPECT(0x8c98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8c97));
        // A9 0395
        gbc.setState(0x86c7, 0xe7fa, 0xf610, 0x9432, 0x96ef, 0xb08c, 0x0, 0x1);
        gbc.writeMem(0x86c7, { 0xa9 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xe7fa, gbc.sp());
        EXPECT(0x86c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x86c7));
        // A9 0396
        gbc.setState(0xb347, 0x61a2, 0xe2a0, 0x72eb, 0x9e26, 0xb185, 0x1, 0x1);
        gbc.writeMem(0xb347, { 0xa9 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x61a2, gbc.sp());
        EXPECT(0xb348, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb347));
        // A9 0397
        gbc.setState(0x4ea7, 0x4e8a, 0x1d60, 0xb21e, 0xdbc4, 0x115f, 0x1, 0x1);
        gbc.writeMem(0x4ea7, { 0xa9 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x4e8a, gbc.sp());
        EXPECT(0x4ea8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0398
        gbc.setState(0x5e81, 0x8e2a, 0xc540, 0x1dba, 0xc1c4, 0x534d, 0x1, 0x0);
        gbc.writeMem(0x5e81, { 0xa9 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x8e2a, gbc.sp());
        EXPECT(0x5e82, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 0399
        gbc.setState(0xdcaf, 0x4f64, 0x3660, 0x2280, 0x2e38, 0x7844, 0x0, 0x1);
        gbc.writeMem(0xdcaf, { 0xa9 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x4f64, gbc.sp());
        EXPECT(0xdcb0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xdcaf));
        // A9 039A
        gbc.setState(0xd31e, 0x444b, 0x7c20, 0x4abf, 0x11f8, 0xe3f9, 0x0, 0x1);
        gbc.writeMem(0xd31e, { 0xa9 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x444b, gbc.sp());
        EXPECT(0xd31f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd31e));
        // A9 039B
        gbc.setState(0x81dd, 0xd26, 0x4000, 0x7ed4, 0xbb1a, 0x9a14, 0x1, 0x1);
        gbc.writeMem(0x81dd, { 0xa9 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xd26, gbc.sp());
        EXPECT(0x81de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x81dd));
        // A9 039C
        gbc.setState(0x8532, 0x1605, 0xd480, 0x8f2c, 0xa971, 0xd9c7, 0x0, 0x0);
        gbc.writeMem(0x8532, { 0xa9 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x1605, gbc.sp());
        EXPECT(0x8533, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8532));
        // A9 039D
        gbc.setState(0x7054, 0x353c, 0x8940, 0xef7c, 0x3927, 0x7cde, 0x0, 0x0);
        gbc.writeMem(0x7054, { 0xa9 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x353c, gbc.sp());
        EXPECT(0x7055, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 039E
        gbc.setState(0xe7b1, 0x6a49, 0xe610, 0xde58, 0xbf2b, 0x5799, 0x1, 0x1);
        gbc.writeMem(0xe7b1, { 0xa9 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x6a49, gbc.sp());
        EXPECT(0xe7b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe7b1));
        // A9 039F
        gbc.setState(0xc441, 0x6bfe, 0x6f40, 0xe1c1, 0x5e41, 0x2878, 0x0, 0x1);
        gbc.writeMem(0xc441, { 0xa9 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x6bfe, gbc.sp());
        EXPECT(0xc442, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc441));
        // A9 03A1
        gbc.setState(0x21f4, 0x2284, 0xb370, 0x8909, 0xa1b8, 0x5cba, 0x1, 0x1);
        gbc.writeMem(0x21f4, { 0xa9 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x2284, gbc.sp());
        EXPECT(0x21f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03A2
        gbc.setState(0xc35c, 0xbca6, 0x3cf0, 0x60dc, 0xc8ce, 0xc142, 0x1, 0x1);
        gbc.writeMem(0xc35c, { 0xa9 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xbca6, gbc.sp());
        EXPECT(0xc35d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc35c));
        // A9 03A3
        gbc.setState(0x263b, 0x5eb4, 0x8680, 0xd4f9, 0xb263, 0xa0d5, 0x1, 0x1);
        gbc.writeMem(0x263b, { 0xa9 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x5eb4, gbc.sp());
        EXPECT(0x263c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03A4
        gbc.setState(0x7377, 0x61b6, 0x4840, 0x5077, 0x187a, 0x3ab9, 0x0, 0x1);
        gbc.writeMem(0x7377, { 0xa9 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x61b6, gbc.sp());
        EXPECT(0x7378, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03A5
        gbc.setState(0xef71, 0xfe58, 0x1f70, 0x854e, 0x8c69, 0xb554, 0x0, 0x1);
        gbc.writeMem(0xef71, { 0xa9 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xfe58, gbc.sp());
        EXPECT(0xef72, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xef71));
        // A9 03A6
        gbc.setState(0x5d99, 0x3d00, 0x3db0, 0xa40, 0xf0df, 0xfdff, 0x1, 0x0);
        gbc.writeMem(0x5d99, { 0xa9 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x3d00, gbc.sp());
        EXPECT(0x5d9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03A7
        gbc.setState(0x8c3a, 0x3046, 0x1990, 0xaca, 0x8e3e, 0x4f67, 0x0, 0x0);
        gbc.writeMem(0x8c3a, { 0xa9 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x3046, gbc.sp());
        EXPECT(0x8c3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8c3a));
        // A9 03A8
        gbc.setState(0xa28a, 0x296a, 0x6cc0, 0x84c1, 0x150c, 0x98d0, 0x1, 0x1);
        gbc.writeMem(0xa28a, { 0xa9 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x296a, gbc.sp());
        EXPECT(0xa28b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xa28a));
        // A9 03A9
        gbc.setState(0x5397, 0x9339, 0x7470, 0xc8b4, 0xe9d8, 0x9fe4, 0x0, 0x0);
        gbc.writeMem(0x5397, { 0xa9 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x9339, gbc.sp());
        EXPECT(0x5398, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03AA
        gbc.setState(0x32b7, 0x9dc8, 0xe990, 0x404b, 0xc1b6, 0x1de3, 0x0, 0x1);
        gbc.writeMem(0x32b7, { 0xa9 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x9dc8, gbc.sp());
        EXPECT(0x32b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03AB
        gbc.setState(0xe222, 0xbfc3, 0xdca0, 0xffd8, 0x19ad, 0xd16e, 0x0, 0x1);
        gbc.writeMem(0xe222, { 0xa9 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xbfc3, gbc.sp());
        EXPECT(0xe223, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe222));
        // A9 03AC
        gbc.setState(0x179f, 0x4e6c, 0xc220, 0x286b, 0x72b3, 0x1939, 0x0, 0x1);
        gbc.writeMem(0x179f, { 0xa9 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x4e6c, gbc.sp());
        EXPECT(0x17a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03AD
        gbc.setState(0xb8be, 0x561d, 0x5d0, 0x88cf, 0x5105, 0x58a2, 0x1, 0x0);
        gbc.writeMem(0xb8be, { 0xa9 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x561d, gbc.sp());
        EXPECT(0xb8bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb8be));
        // A9 03AE
        gbc.setState(0x9223, 0x2ccc, 0x9e70, 0xd85b, 0x686a, 0x7b06, 0x0, 0x0);
        gbc.writeMem(0x9223, { 0xa9 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x2ccc, gbc.sp());
        EXPECT(0x9224, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9223));
        // A9 03AF
        gbc.setState(0xe15c, 0x913e, 0x8350, 0xfdfd, 0x8cde, 0x8eac, 0x1, 0x1);
        gbc.writeMem(0xe15c, { 0xa9 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x913e, gbc.sp());
        EXPECT(0xe15d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe15c));
        // A9 03B0
        gbc.setState(0xe9e9, 0xd06d, 0x3cf0, 0x9b32, 0xa3f8, 0x9b85, 0x1, 0x0);
        gbc.writeMem(0xe9e9, { 0xa9 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xd06d, gbc.sp());
        EXPECT(0xe9ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xe9e9));
        // A9 03B1
        gbc.setState(0x67e6, 0xaf6d, 0xd030, 0xbc9f, 0x1ddc, 0x317d, 0x1, 0x1);
        gbc.writeMem(0x67e6, { 0xa9 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xaf6d, gbc.sp());
        EXPECT(0x67e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03B2
        gbc.setState(0xbeb0, 0x2fb9, 0x9210, 0xc867, 0xb95c, 0xb775, 0x0, 0x1);
        gbc.writeMem(0xbeb0, { 0xa9 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x2fb9, gbc.sp());
        EXPECT(0xbeb1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbeb0));
        // A9 03B4
        gbc.setState(0x5c72, 0xbb9d, 0x3bb0, 0xded2, 0xc62f, 0x6a1a, 0x0, 0x0);
        gbc.writeMem(0x5c72, { 0xa9 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xbb9d, gbc.sp());
        EXPECT(0x5c73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03B5
        gbc.setState(0x8f9f, 0x2ab6, 0xe290, 0xd4b8, 0xde84, 0xe338, 0x0, 0x0);
        gbc.writeMem(0x8f9f, { 0xa9 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x2ab6, gbc.sp());
        EXPECT(0x8fa0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8f9f));
        // A9 03B6
        gbc.setState(0x90b, 0xc49d, 0xff50, 0x88fc, 0xd59b, 0x5cb9, 0x1, 0x0);
        gbc.writeMem(0x90b, { 0xa9 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xc49d, gbc.sp());
        EXPECT(0x90c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03B7
        gbc.setState(0xd43c, 0xa713, 0x2350, 0x4ba4, 0xb37c, 0xaa2b, 0x0, 0x1);
        gbc.writeMem(0xd43c, { 0xa9 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xa713, gbc.sp());
        EXPECT(0xd43d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xd43c));
        // A9 03B8
        gbc.setState(0x3239, 0xb95f, 0x4f50, 0x88b2, 0x313b, 0x5a3d, 0x1, 0x1);
        gbc.writeMem(0x3239, { 0xa9 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xb95f, gbc.sp());
        EXPECT(0x323a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03B9
        gbc.setState(0x3816, 0x8da1, 0x57a0, 0xe56e, 0x7eb0, 0x2990, 0x0, 0x1);
        gbc.writeMem(0x3816, { 0xa9 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x8da1, gbc.sp());
        EXPECT(0x3817, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03BA
        gbc.setState(0x8695, 0x6860, 0x17e0, 0xd731, 0x120a, 0xcb2b, 0x1, 0x0);
        gbc.writeMem(0x8695, { 0xa9 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x6860, gbc.sp());
        EXPECT(0x8696, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8695));
        // A9 03BB
        gbc.setState(0x8446, 0x59ff, 0x550, 0xdb33, 0x3832, 0xce75, 0x1, 0x1);
        gbc.writeMem(0x8446, { 0xa9 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x59ff, gbc.sp());
        EXPECT(0x8447, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8446));
        // A9 03BC
        gbc.setState(0x334e, 0x6be2, 0xbfb0, 0xd8b0, 0xcff5, 0x5219, 0x1, 0x0);
        gbc.writeMem(0x334e, { 0xa9 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x6be2, gbc.sp());
        EXPECT(0x334f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03BD
        gbc.setState(0xbfc3, 0x653b, 0xec80, 0x7cbd, 0x4a59, 0x3aba, 0x0, 0x1);
        gbc.writeMem(0xbfc3, { 0xa9 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x653b, gbc.sp());
        EXPECT(0xbfc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xbfc3));
        // A9 03BE
        gbc.setState(0x9474, 0x18e5, 0xa150, 0x630e, 0x4aff, 0xba86, 0x1, 0x0);
        gbc.writeMem(0x9474, { 0xa9 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x18e5, gbc.sp());
        EXPECT(0x9475, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9474));
        // A9 03BF
        gbc.setState(0xc62f, 0x6976, 0xb9b0, 0xfa02, 0x6c14, 0x8cc8, 0x1, 0x1);
        gbc.writeMem(0xc62f, { 0xa9 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x6976, gbc.sp());
        EXPECT(0xc630, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc62f));
        // A9 03C0
        gbc.setState(0xc39f, 0xb447, 0x5390, 0xfaa3, 0xac01, 0xd006, 0x0, 0x1);
        gbc.writeMem(0xc39f, { 0xa9 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xb447, gbc.sp());
        EXPECT(0xc3a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xc39f));
        // A9 03C1
        gbc.setState(0x4457, 0xfa37, 0x4bd0, 0xaa4c, 0x7fa, 0x50c, 0x1, 0x0);
        gbc.writeMem(0x4457, { 0xa9 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xfa37, gbc.sp());
        EXPECT(0x4458, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03C2
        gbc.setState(0x8fad, 0xad03, 0x8700, 0x96ae, 0xcd9b, 0xf90a, 0x0, 0x1);
        gbc.writeMem(0x8fad, { 0xa9 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xad03, gbc.sp());
        EXPECT(0x8fae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8fad));
        // A9 03C3
        gbc.setState(0x7db0, 0x5f69, 0x9d30, 0xcc7d, 0x5b7e, 0x4c17, 0x0, 0x1);
        gbc.writeMem(0x7db0, { 0xa9 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x5f69, gbc.sp());
        EXPECT(0x7db1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03C4
        gbc.setState(0x7f8b, 0x890b, 0x61e0, 0xc616, 0x3431, 0xfefa, 0x0, 0x1);
        gbc.writeMem(0x7f8b, { 0xa9 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x890b, gbc.sp());
        EXPECT(0x7f8c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03C5
        gbc.setState(0x27c0, 0x263a, 0x2850, 0x6b95, 0x8beb, 0xdc79, 0x0, 0x0);
        gbc.writeMem(0x27c0, { 0xa9 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x263a, gbc.sp());
        EXPECT(0x27c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03C6
        gbc.setState(0x3d97, 0xd92f, 0x5f30, 0x27d1, 0x117, 0x4d7d, 0x0, 0x1);
        gbc.writeMem(0x3d97, { 0xa9 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xd92f, gbc.sp());
        EXPECT(0x3d98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03C7
        gbc.setState(0x68e6, 0x5940, 0xf630, 0x8a59, 0xd96b, 0x8408, 0x0, 0x0);
        gbc.writeMem(0x68e6, { 0xa9 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x5940, gbc.sp());
        EXPECT(0x68e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03C8
        gbc.setState(0x3630, 0xf1e0, 0x2520, 0x3113, 0xb661, 0xf725, 0x1, 0x1);
        gbc.writeMem(0x3630, { 0xa9 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xf1e0, gbc.sp());
        EXPECT(0x3631, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03C9
        gbc.setState(0x24dc, 0x6aaf, 0xb890, 0xcaf3, 0xf91b, 0xdbc6, 0x0, 0x1);
        gbc.writeMem(0x24dc, { 0xa9 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x6aaf, gbc.sp());
        EXPECT(0x24dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03CB
        gbc.setState(0x9f44, 0xbfca, 0x61b0, 0x2540, 0xcca0, 0xc4a2, 0x0, 0x0);
        gbc.writeMem(0x9f44, { 0xa9 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xbfca, gbc.sp());
        EXPECT(0x9f45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x9f44));
        // A9 03CD
        gbc.setState(0xccb5, 0xaccc, 0x4720, 0x27c, 0xb076, 0xcd11, 0x1, 0x0);
        gbc.writeMem(0xccb5, { 0xa9 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xaccc, gbc.sp());
        EXPECT(0xccb6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xccb5));
        // A9 03CE
        gbc.setState(0x1bf6, 0xd529, 0xfff0, 0xa5df, 0x83f6, 0x2876, 0x0, 0x1);
        gbc.writeMem(0x1bf6, { 0xa9 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xd529, gbc.sp());
        EXPECT(0x1bf7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03CF
        gbc.setState(0x47b1, 0xdd16, 0xd4c0, 0x3b77, 0x6cc5, 0x4d2, 0x0, 0x1);
        gbc.writeMem(0x47b1, { 0xa9 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xdd16, gbc.sp());
        EXPECT(0x47b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03D0
        gbc.setState(0x8566, 0x69a8, 0x82c0, 0xc06, 0x28ab, 0xeff2, 0x0, 0x1);
        gbc.writeMem(0x8566, { 0xa9 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x69a8, gbc.sp());
        EXPECT(0x8567, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0x8566));
        // A9 03D1
        gbc.setState(0x4a0b, 0x55e5, 0x4df0, 0x62e6, 0xe841, 0x7478, 0x1, 0x0);
        gbc.writeMem(0x4a0b, { 0xa9 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x55e5, gbc.sp());
        EXPECT(0x4a0c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03D2
        gbc.setState(0xb0b9, 0x503e, 0x2fe0, 0x35bd, 0x1f3a, 0xf22d, 0x0, 0x1);
        gbc.writeMem(0xb0b9, { 0xa9 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x503e, gbc.sp());
        EXPECT(0xb0ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xb0b9));
        // A9 03D4
        gbc.setState(0xcfcf, 0x8a21, 0xbd00, 0xa82e, 0x1425, 0xe4ab, 0x1, 0x0);
        gbc.writeMem(0xcfcf, { 0xa9 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x8a21, gbc.sp());
        EXPECT(0xcfd0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xcfcf));
        // A9 03D5
        gbc.setState(0xd1f, 0x56d2, 0xe040, 0x287c, 0xf707, 0xb845, 0x0, 0x1);
        gbc.writeMem(0xd1f, { 0xa9 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x56d2, gbc.sp());
        EXPECT(0xd20, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03D6
        gbc.setState(0x3f05, 0xc206, 0x150, 0x1e8e, 0xec77, 0x68c9, 0x1, 0x1);
        gbc.writeMem(0x3f05, { 0xa9 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xc206, gbc.sp());
        EXPECT(0x3f06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03D7
        gbc.setState(0x6661, 0xf547, 0xba00, 0xa4bc, 0x70fc, 0x2022, 0x0, 0x1);
        gbc.writeMem(0x6661, { 0xa9 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xf547, gbc.sp());
        EXPECT(0x6662, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03D8
        gbc.setState(0x4eaf, 0x9785, 0xab40, 0x6ba4, 0x936b, 0x3b88, 0x1, 0x1);
        gbc.writeMem(0x4eaf, { 0xa9 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x9785, gbc.sp());
        EXPECT(0x4eb0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03D9
        gbc.setState(0x227b, 0xb065, 0xcd90, 0x4fb9, 0xdce7, 0xd11d, 0x1, 0x1);
        gbc.writeMem(0x227b, { 0xa9 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xb065, gbc.sp());
        EXPECT(0x227c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03DA
        gbc.setState(0xee68, 0x754c, 0x1e80, 0x1b4d, 0x74c, 0x2bc4, 0x1, 0x0);
        gbc.writeMem(0xee68, { 0xa9 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x754c, gbc.sp());
        EXPECT(0xee69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xee68));
        // A9 03DB
        gbc.setState(0x6e77, 0xfef6, 0xae50, 0x702f, 0x7a56, 0xfd87, 0x1, 0x1);
        gbc.writeMem(0x6e77, { 0xa9 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xfef6, gbc.sp());
        EXPECT(0x6e78, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03DE
        gbc.setState(0x4f37, 0xae16, 0x3fa0, 0x836f, 0xbf8d, 0x5fcb, 0x1, 0x0);
        gbc.writeMem(0x4f37, { 0xa9 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xae16, gbc.sp());
        EXPECT(0x4f38, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03DF
        gbc.setState(0xd72, 0xcd02, 0xdf90, 0x6971, 0x5220, 0x1c73, 0x0, 0x1);
        gbc.writeMem(0xd72, { 0xa9 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xcd02, gbc.sp());
        EXPECT(0xd73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03E1
        gbc.setState(0x5968, 0xf720, 0x9060, 0xeaae, 0x59ca, 0xcfe9, 0x1, 0x1);
        gbc.writeMem(0x5968, { 0xa9 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xf720, gbc.sp());
        EXPECT(0x5969, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03E2
        gbc.setState(0x76d0, 0x4a51, 0xa0b0, 0xe944, 0x36ef, 0x58b3, 0x0, 0x1);
        gbc.writeMem(0x76d0, { 0xa9 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x4a51, gbc.sp());
        EXPECT(0x76d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03E3
        gbc.setState(0x609a, 0x872d, 0x2ac0, 0x9dd9, 0x1501, 0x84f1, 0x0, 0x0);
        gbc.writeMem(0x609a, { 0xa9 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x872d, gbc.sp());
        EXPECT(0x609b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03E4
        gbc.setState(0xd5c, 0x8efc, 0x4280, 0x7c56, 0x45a9, 0x1518, 0x1, 0x0);
        gbc.writeMem(0xd5c, { 0xa9 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x8efc, gbc.sp());
        EXPECT(0xd5d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03E5
        gbc.setState(0x2ccb, 0x316e, 0x89a0, 0xd302, 0x6d3, 0x3afe, 0x0, 0x0);
        gbc.writeMem(0x2ccb, { 0xa9 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x316e, gbc.sp());
        EXPECT(0x2ccc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // A9 03E6
        gbc.setState(0xeb3f, 0xbcd0, 0x7e70, 0x2aba, 0x6531, 0x4efe, 0x0, 0x1);
        gbc.writeMem(0xeb3f, { 0xa9 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xbcd0, gbc.sp());
        EXPECT(0xeb40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xeb3f));
        // A9 03E7
        gbc.setState(0x6b55, 0x53d, 0x9c50, 0xee7d, 0xafec, 0x4f44, 0x1, 0x1);
        gbc.writeMem(0x6b55, { 0xa9 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x53d, gbc.sp());
        EXPECT(0x6b56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
    }
