    TEST(gbcemu, opcode_cb_24) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 24 0000
        gbc.setState(0x6ba2, 0xa029, 0x79c0, 0x8734, 0x77d3, 0xe1a5, 0x1, 0x0);
        gbc.writeMem(0x6ba2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xa029);
        EXPECT(gbc.pc(), 0x6ba4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0001
        gbc.setState(0xb39d, 0x71d7, 0x5020, 0x699, 0x4786, 0xb87c, 0x1, 0x0);
        gbc.writeMem(0xb39d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x71d7);
        EXPECT(gbc.pc(), 0xb39f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb39d), 0xcb);
        EXPECT(gbc.readMem(0xb39e), 0x24);
        // CB 24 0002
        gbc.setState(0xecb1, 0x25ae, 0x6530, 0x4db9, 0xae61, 0x8dc4, 0x1, 0x1);
        gbc.writeMem(0xecb1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x25ae);
        EXPECT(gbc.pc(), 0xecb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecb1), 0xcb);
        EXPECT(gbc.readMem(0xecb2), 0x24);
        // CB 24 0003
        gbc.setState(0xb501, 0x4862, 0xebf0, 0x17ab, 0xff0c, 0x8e21, 0x1, 0x1);
        gbc.writeMem(0xb501, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x4862);
        EXPECT(gbc.pc(), 0xb503);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb501), 0xcb);
        EXPECT(gbc.readMem(0xb502), 0x24);
        // CB 24 0004
        gbc.setState(0x7bf3, 0x2b6f, 0x40d0, 0x1789, 0x4852, 0xcdd3, 0x1, 0x1);
        gbc.writeMem(0x7bf3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x2b6f);
        EXPECT(gbc.pc(), 0x7bf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0005
        gbc.setState(0x23e1, 0x6d3a, 0x4e40, 0x411a, 0xa25b, 0x446d, 0x0, 0x1);
        gbc.writeMem(0x23e1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x6d3a);
        EXPECT(gbc.pc(), 0x23e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0006
        gbc.setState(0x68a1, 0x4d9a, 0x2d0, 0x9adf, 0x2465, 0xff0e, 0x1, 0x0);
        gbc.writeMem(0x68a1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x4d9a);
        EXPECT(gbc.pc(), 0x68a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0007
        gbc.setState(0x86be, 0x6fe7, 0x64a0, 0xf7b4, 0x35ed, 0x1b8c, 0x1, 0x0);
        gbc.writeMem(0x86be, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x6fe7);
        EXPECT(gbc.pc(), 0x86c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86be), 0xcb);
        EXPECT(gbc.readMem(0x86bf), 0x24);
        // CB 24 0008
        gbc.setState(0x6d35, 0x3069, 0x4b10, 0xbadf, 0xcbc7, 0x2b3c, 0x1, 0x0);
        gbc.writeMem(0x6d35, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x3069);
        EXPECT(gbc.pc(), 0x6d37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0009
        gbc.setState(0x55b4, 0x388b, 0x8280, 0x7784, 0xe179, 0xdc6c, 0x1, 0x1);
        gbc.writeMem(0x55b4, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x388b);
        EXPECT(gbc.pc(), 0x55b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 000A
        gbc.setState(0x9369, 0xd909, 0x14b0, 0xf3e1, 0xe3b9, 0xd874, 0x1, 0x1);
        gbc.writeMem(0x9369, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xd909);
        EXPECT(gbc.pc(), 0x936b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9369), 0xcb);
        EXPECT(gbc.readMem(0x936a), 0x24);
        // CB 24 000B
        gbc.setState(0x2a5d, 0xbc42, 0xea90, 0x68b, 0x32d4, 0x217e, 0x0, 0x0);
        gbc.writeMem(0x2a5d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xbc42);
        EXPECT(gbc.pc(), 0x2a5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 000C
        gbc.setState(0xaf65, 0x24cb, 0xe680, 0x19b0, 0x216, 0x11f3, 0x1, 0x0);
        gbc.writeMem(0xaf65, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x24cb);
        EXPECT(gbc.pc(), 0xaf67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf65), 0xcb);
        EXPECT(gbc.readMem(0xaf66), 0x24);
        // CB 24 000D
        gbc.setState(0xc9de, 0x3829, 0x8bd0, 0xcdd4, 0x1c15, 0xf8cf, 0x0, 0x1);
        gbc.writeMem(0xc9de, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x3829);
        EXPECT(gbc.pc(), 0xc9e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9de), 0xcb);
        EXPECT(gbc.readMem(0xc9df), 0x24);
        // CB 24 000E
        gbc.setState(0xc662, 0x605f, 0xda0, 0x6ef7, 0x25ba, 0xa8d1, 0x1, 0x0);
        gbc.writeMem(0xc662, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x605f);
        EXPECT(gbc.pc(), 0xc664);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc662), 0xcb);
        EXPECT(gbc.readMem(0xc663), 0x24);
        // CB 24 000F
        gbc.setState(0x267f, 0xdf32, 0x9e60, 0x218b, 0x5e13, 0xb031, 0x1, 0x1);
        gbc.writeMem(0x267f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xdf32);
        EXPECT(gbc.pc(), 0x2681);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0010
        gbc.setState(0xa64d, 0x7d4e, 0x14f0, 0xc515, 0xc145, 0xeb43, 0x0, 0x1);
        gbc.writeMem(0xa64d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x7d4e);
        EXPECT(gbc.pc(), 0xa64f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa64d), 0xcb);
        EXPECT(gbc.readMem(0xa64e), 0x24);
        // CB 24 0011
        gbc.setState(0x7950, 0xea54, 0x49c0, 0xc78e, 0xf4fc, 0xdb4b, 0x1, 0x1);
        gbc.writeMem(0x7950, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xea54);
        EXPECT(gbc.pc(), 0x7952);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0012
        gbc.setState(0xe99b, 0x8a0b, 0xaf70, 0x10c7, 0xef17, 0x5a46, 0x1, 0x1);
        gbc.writeMem(0xe99b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x8a0b);
        EXPECT(gbc.pc(), 0xe99d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe99b), 0xcb);
        EXPECT(gbc.readMem(0xe99c), 0x24);
        // CB 24 0013
        gbc.setState(0x3d9, 0xdd76, 0x33b0, 0xc0d2, 0x9854, 0x539d, 0x1, 0x0);
        gbc.writeMem(0x3d9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xdd76);
        EXPECT(gbc.pc(), 0x3db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0014
        gbc.setState(0x77f0, 0x22a6, 0x4d50, 0xeeb6, 0x64ab, 0xb852, 0x1, 0x0);
        gbc.writeMem(0x77f0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x22a6);
        EXPECT(gbc.pc(), 0x77f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0015
        gbc.setState(0x8576, 0x134c, 0xf1b0, 0xf8cf, 0x6e03, 0xdb6d, 0x1, 0x1);
        gbc.writeMem(0x8576, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x134c);
        EXPECT(gbc.pc(), 0x8578);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8576), 0xcb);
        EXPECT(gbc.readMem(0x8577), 0x24);
        // CB 24 0016
        gbc.setState(0x17a3, 0x5805, 0xb60, 0x215b, 0xe395, 0x911b, 0x1, 0x0);
        gbc.writeMem(0x17a3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x5805);
        EXPECT(gbc.pc(), 0x17a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0017
        gbc.setState(0xa1bd, 0x5854, 0x250, 0x479e, 0xd0bc, 0x6127, 0x0, 0x0);
        gbc.writeMem(0xa1bd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x5854);
        EXPECT(gbc.pc(), 0xa1bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1bd), 0xcb);
        EXPECT(gbc.readMem(0xa1be), 0x24);
        // CB 24 0018
        gbc.setState(0x97c0, 0xb8ab, 0xd620, 0x94ea, 0xc1fb, 0xf560, 0x0, 0x1);
        gbc.writeMem(0x97c0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xb8ab);
        EXPECT(gbc.pc(), 0x97c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97c0), 0xcb);
        EXPECT(gbc.readMem(0x97c1), 0x24);
        // CB 24 001A
        gbc.setState(0xc1f5, 0xed8f, 0x4bd0, 0x3518, 0x9910, 0xb953, 0x1, 0x0);
        gbc.writeMem(0xc1f5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xed8f);
        EXPECT(gbc.pc(), 0xc1f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1f5), 0xcb);
        EXPECT(gbc.readMem(0xc1f6), 0x24);
        // CB 24 001B
        gbc.setState(0xcf0b, 0x42e5, 0x5510, 0x37ea, 0x4d68, 0x92d4, 0x1, 0x1);
        gbc.writeMem(0xcf0b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x42e5);
        EXPECT(gbc.pc(), 0xcf0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf0b), 0xcb);
        EXPECT(gbc.readMem(0xcf0c), 0x24);
        // CB 24 001C
        gbc.setState(0xb795, 0x5276, 0x4710, 0xed0, 0x1fa0, 0x49de, 0x1, 0x0);
        gbc.writeMem(0xb795, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x5276);
        EXPECT(gbc.pc(), 0xb797);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb795), 0xcb);
        EXPECT(gbc.readMem(0xb796), 0x24);
        // CB 24 001D
        gbc.setState(0xc485, 0xbd3, 0x7d40, 0x8d9d, 0xc93b, 0x2d2a, 0x1, 0x0);
        gbc.writeMem(0xc485, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xbd3);
        EXPECT(gbc.pc(), 0xc487);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc485), 0xcb);
        EXPECT(gbc.readMem(0xc486), 0x24);
        // CB 24 001E
        gbc.setState(0xbc93, 0xc13f, 0x1d90, 0x1a69, 0xef8d, 0x9bbf, 0x0, 0x1);
        gbc.writeMem(0xbc93, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xc13f);
        EXPECT(gbc.pc(), 0xbc95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc93), 0xcb);
        EXPECT(gbc.readMem(0xbc94), 0x24);
        // CB 24 001F
        gbc.setState(0xe060, 0xef01, 0xb7c0, 0x3bd8, 0x96e9, 0xadd8, 0x1, 0x1);
        gbc.writeMem(0xe060, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xef01);
        EXPECT(gbc.pc(), 0xe062);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe060), 0xcb);
        EXPECT(gbc.readMem(0xe061), 0x24);
        // CB 24 0020
        gbc.setState(0x1f4e, 0x7b97, 0xc9b0, 0xbf2, 0xc773, 0x3766, 0x1, 0x1);
        gbc.writeMem(0x1f4e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x7b97);
        EXPECT(gbc.pc(), 0x1f50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0021
        gbc.setState(0xe596, 0x1c75, 0x5860, 0x82fa, 0xad60, 0x7e48, 0x0, 0x1);
        gbc.writeMem(0xe596, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x1c75);
        EXPECT(gbc.pc(), 0xe598);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe596), 0xcb);
        EXPECT(gbc.readMem(0xe597), 0x24);
        // CB 24 0022
        gbc.setState(0x84f, 0xd645, 0x8a70, 0xd046, 0x8726, 0x3858, 0x0, 0x0);
        gbc.writeMem(0x84f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xd645);
        EXPECT(gbc.pc(), 0x851);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0023
        gbc.setState(0x310d, 0x197c, 0x8a50, 0x31d3, 0x4cd6, 0xcfa7, 0x1, 0x1);
        gbc.writeMem(0x310d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x197c);
        EXPECT(gbc.pc(), 0x310f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0024
        gbc.setState(0xb850, 0x66b6, 0xe870, 0xd67d, 0xd8a8, 0x48f2, 0x1, 0x1);
        gbc.writeMem(0xb850, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x66b6);
        EXPECT(gbc.pc(), 0xb852);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb850), 0xcb);
        EXPECT(gbc.readMem(0xb851), 0x24);
        // CB 24 0025
        gbc.setState(0x4143, 0x2249, 0x8990, 0x8313, 0x5e7f, 0x9b1, 0x0, 0x1);
        gbc.writeMem(0x4143, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x2249);
        EXPECT(gbc.pc(), 0x4145);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0026
        gbc.setState(0xddd7, 0x96f9, 0xc5a0, 0xf402, 0x9a4c, 0x5b4e, 0x0, 0x0);
        gbc.writeMem(0xddd7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x96f9);
        EXPECT(gbc.pc(), 0xddd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddd7), 0xcb);
        EXPECT(gbc.readMem(0xddd8), 0x24);
        // CB 24 0027
        gbc.setState(0xbadd, 0x26c7, 0x65f0, 0x6788, 0x8db6, 0x681d, 0x0, 0x0);
        gbc.writeMem(0xbadd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x26c7);
        EXPECT(gbc.pc(), 0xbadf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbadd), 0xcb);
        EXPECT(gbc.readMem(0xbade), 0x24);
        // CB 24 0028
        gbc.setState(0x729f, 0x4826, 0xbd20, 0x23ee, 0xf58e, 0xa82d, 0x1, 0x0);
        gbc.writeMem(0x729f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x4826);
        EXPECT(gbc.pc(), 0x72a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0029
        gbc.setState(0xe39a, 0xa367, 0x8990, 0x9b68, 0xb3f2, 0x9747, 0x1, 0x0);
        gbc.writeMem(0xe39a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xa367);
        EXPECT(gbc.pc(), 0xe39c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe39a), 0xcb);
        EXPECT(gbc.readMem(0xe39b), 0x24);
        // CB 24 002A
        gbc.setState(0xc613, 0x4ec, 0x77a0, 0x59a8, 0xf6f7, 0x69bc, 0x1, 0x0);
        gbc.writeMem(0xc613, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x4ec);
        EXPECT(gbc.pc(), 0xc615);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc613), 0xcb);
        EXPECT(gbc.readMem(0xc614), 0x24);
        // CB 24 002B
        gbc.setState(0x1a03, 0x1b49, 0xdc10, 0x3c87, 0xe537, 0xb3a6, 0x0, 0x0);
        gbc.writeMem(0x1a03, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x1b49);
        EXPECT(gbc.pc(), 0x1a05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 002C
        gbc.setState(0xbf03, 0xd1a3, 0x200, 0xed86, 0xa720, 0x71cd, 0x1, 0x0);
        gbc.writeMem(0xbf03, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xd1a3);
        EXPECT(gbc.pc(), 0xbf05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf03), 0xcb);
        EXPECT(gbc.readMem(0xbf04), 0x24);
        // CB 24 002D
        gbc.setState(0x94ce, 0x534e, 0xc770, 0x403, 0xeb12, 0x6ca8, 0x1, 0x1);
        gbc.writeMem(0x94ce, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x534e);
        EXPECT(gbc.pc(), 0x94d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94ce), 0xcb);
        EXPECT(gbc.readMem(0x94cf), 0x24);
        // CB 24 002E
        gbc.setState(0x62ff, 0x9968, 0x5e40, 0xb722, 0x60da, 0xd0a, 0x0, 0x0);
        gbc.writeMem(0x62ff, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x9968);
        EXPECT(gbc.pc(), 0x6301);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 002F
        gbc.setState(0x520d, 0x7e7a, 0x43b0, 0xd9d9, 0xdef9, 0x5ec4, 0x0, 0x1);
        gbc.writeMem(0x520d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x7e7a);
        EXPECT(gbc.pc(), 0x520f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0030
        gbc.setState(0xbaa2, 0xdb4e, 0x47c0, 0x6a81, 0x21b, 0x163a, 0x0, 0x1);
        gbc.writeMem(0xbaa2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xdb4e);
        EXPECT(gbc.pc(), 0xbaa4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbaa2), 0xcb);
        EXPECT(gbc.readMem(0xbaa3), 0x24);
        // CB 24 0031
        gbc.setState(0xe496, 0x84f7, 0x5640, 0xa14a, 0x499c, 0xe922, 0x1, 0x1);
        gbc.writeMem(0xe496, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x84f7);
        EXPECT(gbc.pc(), 0xe498);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe496), 0xcb);
        EXPECT(gbc.readMem(0xe497), 0x24);
        // CB 24 0032
        gbc.setState(0x40ef, 0xa6f3, 0x1470, 0x830d, 0xf98d, 0x4346, 0x1, 0x1);
        gbc.writeMem(0x40ef, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xa6f3);
        EXPECT(gbc.pc(), 0x40f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0033
        gbc.setState(0xe62d, 0x3678, 0xee00, 0x6db8, 0xf21, 0x2c59, 0x0, 0x0);
        gbc.writeMem(0xe62d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x3678);
        EXPECT(gbc.pc(), 0xe62f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe62d), 0xcb);
        EXPECT(gbc.readMem(0xe62e), 0x24);
        // CB 24 0034
        gbc.setState(0xec58, 0x70ff, 0xd730, 0xbf01, 0x379e, 0xc470, 0x1, 0x0);
        gbc.writeMem(0xec58, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x70ff);
        EXPECT(gbc.pc(), 0xec5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec58), 0xcb);
        EXPECT(gbc.readMem(0xec59), 0x24);
        // CB 24 0035
        gbc.setState(0xbf01, 0x8203, 0xcf10, 0x1863, 0x400b, 0x5dbf, 0x0, 0x1);
        gbc.writeMem(0xbf01, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x8203);
        EXPECT(gbc.pc(), 0xbf03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf01), 0xcb);
        EXPECT(gbc.readMem(0xbf02), 0x24);
        // CB 24 0036
        gbc.setState(0x4fbf, 0x7ab8, 0xc330, 0x1601, 0xc4c2, 0xf432, 0x1, 0x1);
        gbc.writeMem(0x4fbf, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x7ab8);
        EXPECT(gbc.pc(), 0x4fc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0037
        gbc.setState(0x6d83, 0x11f, 0x4090, 0x521d, 0x9352, 0x7eee, 0x0, 0x1);
        gbc.writeMem(0x6d83, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x11f);
        EXPECT(gbc.pc(), 0x6d85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0038
        gbc.setState(0xba1e, 0x76ee, 0x7d90, 0xf28c, 0x3054, 0xcf2a, 0x0, 0x1);
        gbc.writeMem(0xba1e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x76ee);
        EXPECT(gbc.pc(), 0xba20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba1e), 0xcb);
        EXPECT(gbc.readMem(0xba1f), 0x24);
        // CB 24 0039
        gbc.setState(0xd864, 0x86a, 0x8390, 0x351d, 0xb283, 0x4bc, 0x1, 0x0);
        gbc.writeMem(0xd864, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x86a);
        EXPECT(gbc.pc(), 0xd866);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd864), 0xcb);
        EXPECT(gbc.readMem(0xd865), 0x24);
        // CB 24 003A
        gbc.setState(0x85fb, 0x853e, 0xcd00, 0xa37e, 0x2881, 0x6c07, 0x1, 0x1);
        gbc.writeMem(0x85fb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x853e);
        EXPECT(gbc.pc(), 0x85fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85fb), 0xcb);
        EXPECT(gbc.readMem(0x85fc), 0x24);
        // CB 24 003B
        gbc.setState(0x9e8a, 0xffaa, 0x2530, 0xeaa2, 0x1825, 0x95e, 0x0, 0x0);
        gbc.writeMem(0x9e8a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xffaa);
        EXPECT(gbc.pc(), 0x9e8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e8a), 0xcb);
        EXPECT(gbc.readMem(0x9e8b), 0x24);
        // CB 24 003C
        gbc.setState(0x3964, 0xcdfe, 0xea50, 0x529f, 0x2130, 0xb172, 0x1, 0x1);
        gbc.writeMem(0x3964, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xcdfe);
        EXPECT(gbc.pc(), 0x3966);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 003D
        gbc.setState(0xa5c, 0x1637, 0x6150, 0xd4af, 0xdf8b, 0x5d36, 0x0, 0x0);
        gbc.writeMem(0xa5c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x1637);
        EXPECT(gbc.pc(), 0xa5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 003E
        gbc.setState(0x5be1, 0x5cfa, 0xf880, 0x8e06, 0x3a5b, 0x30cf, 0x0, 0x1);
        gbc.writeMem(0x5be1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x5cfa);
        EXPECT(gbc.pc(), 0x5be3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 003F
        gbc.setState(0xcc6f, 0x8cfb, 0x1f0, 0xbb6d, 0xcfd2, 0xa6a2, 0x1, 0x1);
        gbc.writeMem(0xcc6f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x8cfb);
        EXPECT(gbc.pc(), 0xcc71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc6f), 0xcb);
        EXPECT(gbc.readMem(0xcc70), 0x24);
        // CB 24 0040
        gbc.setState(0x338d, 0x529, 0xb8c0, 0xaf7b, 0x528e, 0xe196, 0x1, 0x1);
        gbc.writeMem(0x338d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x529);
        EXPECT(gbc.pc(), 0x338f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0041
        gbc.setState(0x6454, 0xa103, 0x7340, 0xe70a, 0xc055, 0xf050, 0x0, 0x0);
        gbc.writeMem(0x6454, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xa103);
        EXPECT(gbc.pc(), 0x6456);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0042
        gbc.setState(0x6ba0, 0xd1da, 0xdd10, 0x9624, 0x7a1a, 0x6fc2, 0x0, 0x1);
        gbc.writeMem(0x6ba0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xd1da);
        EXPECT(gbc.pc(), 0x6ba2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0043
        gbc.setState(0x2781, 0x77c0, 0x89c0, 0xb31, 0xd129, 0x9118, 0x0, 0x1);
        gbc.writeMem(0x2781, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x77c0);
        EXPECT(gbc.pc(), 0x2783);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0045
        gbc.setState(0x554e, 0x2220, 0x2950, 0x2020, 0x15b2, 0x72bc, 0x1, 0x0);
        gbc.writeMem(0x554e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x2220);
        EXPECT(gbc.pc(), 0x5550);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0046
        gbc.setState(0x672e, 0xaf72, 0x8070, 0x6598, 0xa528, 0xbf41, 0x0, 0x1);
        gbc.writeMem(0x672e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xaf72);
        EXPECT(gbc.pc(), 0x6730);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0047
        gbc.setState(0x30e3, 0x45e1, 0xd570, 0xec9a, 0xb444, 0xb46e, 0x0, 0x1);
        gbc.writeMem(0x30e3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x45e1);
        EXPECT(gbc.pc(), 0x30e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0049
        gbc.setState(0xdcd, 0x4d88, 0xcd80, 0x482b, 0xd85a, 0x5d46, 0x1, 0x0);
        gbc.writeMem(0xdcd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4d88);
        EXPECT(gbc.pc(), 0xdcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 004A
        gbc.setState(0xcfdb, 0xd03f, 0x4440, 0x9d39, 0xcd49, 0x4b77, 0x1, 0x0);
        gbc.writeMem(0xcfdb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xd03f);
        EXPECT(gbc.pc(), 0xcfdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfdb), 0xcb);
        EXPECT(gbc.readMem(0xcfdc), 0x24);
        // CB 24 004B
        gbc.setState(0x4c0a, 0xf6ea, 0x9e00, 0x5cef, 0x38f1, 0x293, 0x0, 0x1);
        gbc.writeMem(0x4c0a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xf6ea);
        EXPECT(gbc.pc(), 0x4c0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 004C
        gbc.setState(0x8076, 0x7d61, 0x7aa0, 0x98c2, 0xdf5e, 0xbf2b, 0x0, 0x1);
        gbc.writeMem(0x8076, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x7d61);
        EXPECT(gbc.pc(), 0x8078);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8076), 0xcb);
        EXPECT(gbc.readMem(0x8077), 0x24);
        // CB 24 004D
        gbc.setState(0x69ac, 0x7ff, 0x6ca0, 0xe452, 0x476a, 0x3d84, 0x0, 0x0);
        gbc.writeMem(0x69ac, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x7ff);
        EXPECT(gbc.pc(), 0x69ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 004E
        gbc.setState(0x3e54, 0x311e, 0x8760, 0xf5e, 0x1c4e, 0x19ed, 0x0, 0x1);
        gbc.writeMem(0x3e54, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x311e);
        EXPECT(gbc.pc(), 0x3e56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 004F
        gbc.setState(0x3f57, 0xd138, 0x2d30, 0x38ee, 0x799a, 0x38cc, 0x1, 0x1);
        gbc.writeMem(0x3f57, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xd138);
        EXPECT(gbc.pc(), 0x3f59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0050
        gbc.setState(0xa3bd, 0x1adc, 0x5e90, 0x4069, 0xc73b, 0xc36d, 0x1, 0x1);
        gbc.writeMem(0xa3bd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x1adc);
        EXPECT(gbc.pc(), 0xa3bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3bd), 0xcb);
        EXPECT(gbc.readMem(0xa3be), 0x24);
        // CB 24 0051
        gbc.setState(0x814, 0xfd9f, 0xd2a0, 0xe01a, 0x2a23, 0x83b7, 0x1, 0x0);
        gbc.writeMem(0x814, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xfd9f);
        EXPECT(gbc.pc(), 0x816);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0052
        gbc.setState(0x7a09, 0x698b, 0x62c0, 0x8758, 0x50c3, 0x93e7, 0x0, 0x0);
        gbc.writeMem(0x7a09, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x698b);
        EXPECT(gbc.pc(), 0x7a0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0053
        gbc.setState(0xa345, 0x4d0c, 0x7040, 0xc44f, 0x2d89, 0xbd2f, 0x0, 0x0);
        gbc.writeMem(0xa345, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x4d0c);
        EXPECT(gbc.pc(), 0xa347);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa345), 0xcb);
        EXPECT(gbc.readMem(0xa346), 0x24);
        // CB 24 0054
        gbc.setState(0x7598, 0x29d3, 0xeae0, 0xe791, 0xfd06, 0x3785, 0x0, 0x0);
        gbc.writeMem(0x7598, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x29d3);
        EXPECT(gbc.pc(), 0x759a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0055
        gbc.setState(0x3e00, 0xb64a, 0xe360, 0xc91e, 0xb3d2, 0xf3f, 0x1, 0x1);
        gbc.writeMem(0x3e00, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xb64a);
        EXPECT(gbc.pc(), 0x3e02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0056
        gbc.setState(0xb556, 0xcdb5, 0xb8f0, 0x4b83, 0xbebd, 0x1f2b, 0x1, 0x1);
        gbc.writeMem(0xb556, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xcdb5);
        EXPECT(gbc.pc(), 0xb558);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb556), 0xcb);
        EXPECT(gbc.readMem(0xb557), 0x24);
        // CB 24 0057
        gbc.setState(0xa531, 0xf89e, 0xfb80, 0x38ee, 0x762d, 0xbe61, 0x0, 0x1);
        gbc.writeMem(0xa531, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xf89e);
        EXPECT(gbc.pc(), 0xa533);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa531), 0xcb);
        EXPECT(gbc.readMem(0xa532), 0x24);
        // CB 24 0058
        gbc.setState(0xeacd, 0x6c6d, 0x67f0, 0x31ce, 0x435e, 0x55c5, 0x1, 0x0);
        gbc.writeMem(0xeacd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x6c6d);
        EXPECT(gbc.pc(), 0xeacf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeacd), 0xcb);
        EXPECT(gbc.readMem(0xeace), 0x24);
        // CB 24 0059
        gbc.setState(0x36be, 0x40a7, 0x3e20, 0x4149, 0x833b, 0xce77, 0x1, 0x0);
        gbc.writeMem(0x36be, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x40a7);
        EXPECT(gbc.pc(), 0x36c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 005B
        gbc.setState(0x9791, 0xc2a, 0xca20, 0x934b, 0x79c1, 0x7ce2, 0x1, 0x0);
        gbc.writeMem(0x9791, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xc2a);
        EXPECT(gbc.pc(), 0x9793);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9791), 0xcb);
        EXPECT(gbc.readMem(0x9792), 0x24);
        // CB 24 005C
        gbc.setState(0x4e60, 0x67f7, 0x7c40, 0xec91, 0xb5be, 0xa57c, 0x0, 0x0);
        gbc.writeMem(0x4e60, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x67f7);
        EXPECT(gbc.pc(), 0x4e62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 005D
        gbc.setState(0x3224, 0x7aab, 0x32f0, 0xdb00, 0x7b92, 0x826f, 0x0, 0x0);
        gbc.writeMem(0x3224, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x7aab);
        EXPECT(gbc.pc(), 0x3226);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 005E
        gbc.setState(0xafb, 0xedc6, 0xee90, 0xaea1, 0xdb91, 0xd13f, 0x1, 0x1);
        gbc.writeMem(0xafb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xedc6);
        EXPECT(gbc.pc(), 0xafd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 005F
        gbc.setState(0xd950, 0xd33d, 0xef70, 0x9589, 0xd90f, 0x756c, 0x1, 0x1);
        gbc.writeMem(0xd950, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xd33d);
        EXPECT(gbc.pc(), 0xd952);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd950), 0xcb);
        EXPECT(gbc.readMem(0xd951), 0x24);
        // CB 24 0060
        gbc.setState(0x384b, 0xdc50, 0x8370, 0x2407, 0x271f, 0x8b6d, 0x0, 0x1);
        gbc.writeMem(0x384b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xdc50);
        EXPECT(gbc.pc(), 0x384d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0061
        gbc.setState(0x7ab1, 0xa242, 0x9450, 0x8c1d, 0xeb0c, 0x6661, 0x1, 0x1);
        gbc.writeMem(0x7ab1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xa242);
        EXPECT(gbc.pc(), 0x7ab3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0062
        gbc.setState(0x402d, 0x4758, 0x2ff0, 0x981c, 0x9b1c, 0xf57f, 0x0, 0x1);
        gbc.writeMem(0x402d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x4758);
        EXPECT(gbc.pc(), 0x402f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0063
        gbc.setState(0x8db4, 0xb0cf, 0x1220, 0xfc0, 0xb294, 0x39cc, 0x0, 0x1);
        gbc.writeMem(0x8db4, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xb0cf);
        EXPECT(gbc.pc(), 0x8db6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8db4), 0xcb);
        EXPECT(gbc.readMem(0x8db5), 0x24);
        // CB 24 0064
        gbc.setState(0x6e94, 0xc3cb, 0xa450, 0xc303, 0x919a, 0xd504, 0x1, 0x0);
        gbc.writeMem(0x6e94, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xc3cb);
        EXPECT(gbc.pc(), 0x6e96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0065
        gbc.setState(0x188c, 0x6b0b, 0x4260, 0x5b95, 0xe91e, 0x798a, 0x1, 0x1);
        gbc.writeMem(0x188c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x6b0b);
        EXPECT(gbc.pc(), 0x188e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0066
        gbc.setState(0x79c1, 0xde7e, 0x9d90, 0xb95b, 0x2f6e, 0xf4cf, 0x1, 0x1);
        gbc.writeMem(0x79c1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xde7e);
        EXPECT(gbc.pc(), 0x79c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0067
        gbc.setState(0x89ae, 0xfca6, 0x7a60, 0x56e0, 0x60ed, 0x13b5, 0x1, 0x1);
        gbc.writeMem(0x89ae, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xfca6);
        EXPECT(gbc.pc(), 0x89b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89ae), 0xcb);
        EXPECT(gbc.readMem(0x89af), 0x24);
        // CB 24 0068
        gbc.setState(0x801, 0x3171, 0xc620, 0x57fb, 0xa58b, 0xb51d, 0x0, 0x1);
        gbc.writeMem(0x801, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x3171);
        EXPECT(gbc.pc(), 0x803);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0069
        gbc.setState(0xd2e0, 0x3017, 0x2d10, 0xd6ab, 0xf399, 0x22cb, 0x1, 0x0);
        gbc.writeMem(0xd2e0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x3017);
        EXPECT(gbc.pc(), 0xd2e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2e0), 0xcb);
        EXPECT(gbc.readMem(0xd2e1), 0x24);
        // CB 24 006A
        gbc.setState(0x860d, 0x3ec8, 0xc5c0, 0x535, 0x3bd9, 0x2f22, 0x1, 0x1);
        gbc.writeMem(0x860d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x3ec8);
        EXPECT(gbc.pc(), 0x860f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x860d), 0xcb);
        EXPECT(gbc.readMem(0x860e), 0x24);
        // CB 24 006B
        gbc.setState(0xcc8a, 0x71d6, 0x6c00, 0x8a9, 0x25fd, 0x8489, 0x1, 0x1);
        gbc.writeMem(0xcc8a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x71d6);
        EXPECT(gbc.pc(), 0xcc8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc8a), 0xcb);
        EXPECT(gbc.readMem(0xcc8b), 0x24);
        // CB 24 006C
        gbc.setState(0x4961, 0x7908, 0xeb60, 0xcd0a, 0x3eba, 0x29bc, 0x0, 0x0);
        gbc.writeMem(0x4961, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x7908);
        EXPECT(gbc.pc(), 0x4963);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 006D
        gbc.setState(0xd385, 0xb92, 0xdc20, 0x5c62, 0x2430, 0x44f9, 0x1, 0x1);
        gbc.writeMem(0xd385, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xb92);
        EXPECT(gbc.pc(), 0xd387);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd385), 0xcb);
        EXPECT(gbc.readMem(0xd386), 0x24);
        // CB 24 006E
        gbc.setState(0x1134, 0xc507, 0x1590, 0x9f2a, 0x920a, 0x9203, 0x0, 0x1);
        gbc.writeMem(0x1134, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xc507);
        EXPECT(gbc.pc(), 0x1136);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 006F
        gbc.setState(0x99a8, 0x76d0, 0xcfb0, 0x842a, 0x42a6, 0xc84e, 0x0, 0x1);
        gbc.writeMem(0x99a8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x76d0);
        EXPECT(gbc.pc(), 0x99aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99a8), 0xcb);
        EXPECT(gbc.readMem(0x99a9), 0x24);
        // CB 24 0070
        gbc.setState(0x3440, 0x1aa0, 0xed30, 0x60de, 0x7f44, 0x2283, 0x0, 0x1);
        gbc.writeMem(0x3440, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x1aa0);
        EXPECT(gbc.pc(), 0x3442);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0071
        gbc.setState(0x1dd9, 0x1553, 0x9e50, 0xf64a, 0x99a9, 0x784e, 0x0, 0x1);
        gbc.writeMem(0x1dd9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x1553);
        EXPECT(gbc.pc(), 0x1ddb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0072
        gbc.setState(0x704, 0xce0e, 0xdde0, 0x443a, 0x36d8, 0xc09, 0x1, 0x0);
        gbc.writeMem(0x704, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xce0e);
        EXPECT(gbc.pc(), 0x706);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0073
        gbc.setState(0x1073, 0x38a, 0x9400, 0xc0, 0xd012, 0xa5e0, 0x0, 0x1);
        gbc.writeMem(0x1073, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x38a);
        EXPECT(gbc.pc(), 0x1075);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0074
        gbc.setState(0x786b, 0x7b66, 0xdcd0, 0x4d70, 0x7bfd, 0x2b29, 0x1, 0x0);
        gbc.writeMem(0x786b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x7b66);
        EXPECT(gbc.pc(), 0x786d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0075
        gbc.setState(0x64c2, 0x656d, 0x8130, 0x8c8c, 0x98d1, 0xd02f, 0x0, 0x0);
        gbc.writeMem(0x64c2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x656d);
        EXPECT(gbc.pc(), 0x64c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0076
        gbc.setState(0x1e3a, 0x7eba, 0xc160, 0x5679, 0x275, 0x27b7, 0x0, 0x0);
        gbc.writeMem(0x1e3a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x7eba);
        EXPECT(gbc.pc(), 0x1e3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0077
        gbc.setState(0xef92, 0xd9de, 0xfe10, 0x76d2, 0x9328, 0xc412, 0x0, 0x0);
        gbc.writeMem(0xef92, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xd9de);
        EXPECT(gbc.pc(), 0xef94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef92), 0xcb);
        EXPECT(gbc.readMem(0xef93), 0x24);
        // CB 24 0078
        gbc.setState(0x6e87, 0xc31b, 0xc700, 0x8909, 0xbd08, 0x4818, 0x0, 0x1);
        gbc.writeMem(0x6e87, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xc31b);
        EXPECT(gbc.pc(), 0x6e89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0079
        gbc.setState(0x975f, 0xbd93, 0x6870, 0x363e, 0x22ba, 0x528a, 0x1, 0x1);
        gbc.writeMem(0x975f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xbd93);
        EXPECT(gbc.pc(), 0x9761);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x975f), 0xcb);
        EXPECT(gbc.readMem(0x9760), 0x24);
        // CB 24 007A
        gbc.setState(0xcfd2, 0x8d22, 0x600, 0x15c3, 0x6d6a, 0x1396, 0x0, 0x0);
        gbc.writeMem(0xcfd2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x8d22);
        EXPECT(gbc.pc(), 0xcfd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfd2), 0xcb);
        EXPECT(gbc.readMem(0xcfd3), 0x24);
        // CB 24 007B
        gbc.setState(0x3a96, 0x531c, 0x42a0, 0x45e6, 0x55a5, 0xaba1, 0x1, 0x0);
        gbc.writeMem(0x3a96, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x531c);
        EXPECT(gbc.pc(), 0x3a98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 007C
        gbc.setState(0xa6c0, 0x4502, 0x6d10, 0x71e3, 0xa08e, 0x309c, 0x0, 0x1);
        gbc.writeMem(0xa6c0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x4502);
        EXPECT(gbc.pc(), 0xa6c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6c0), 0xcb);
        EXPECT(gbc.readMem(0xa6c1), 0x24);
        // CB 24 007D
        gbc.setState(0x364, 0x9ea1, 0xc990, 0x82c6, 0x96fc, 0x3f4b, 0x0, 0x1);
        gbc.writeMem(0x364, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x9ea1);
        EXPECT(gbc.pc(), 0x366);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 007E
        gbc.setState(0x62e8, 0x949, 0x7be0, 0x39a0, 0x8d4d, 0x3ae2, 0x0, 0x1);
        gbc.writeMem(0x62e8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x949);
        EXPECT(gbc.pc(), 0x62ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 007F
        gbc.setState(0x40dd, 0xb287, 0x4880, 0x3706, 0xfff, 0x2f87, 0x0, 0x1);
        gbc.writeMem(0x40dd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xb287);
        EXPECT(gbc.pc(), 0x40df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0080
        gbc.setState(0xb6cf, 0x3729, 0xb0f0, 0xd68, 0xc1a3, 0x8dd7, 0x1, 0x0);
        gbc.writeMem(0xb6cf, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x3729);
        EXPECT(gbc.pc(), 0xb6d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6cf), 0xcb);
        EXPECT(gbc.readMem(0xb6d0), 0x24);
        // CB 24 0081
        gbc.setState(0x1d00, 0x3e25, 0xbe00, 0x6387, 0x108c, 0xd757, 0x1, 0x1);
        gbc.writeMem(0x1d00, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x3e25);
        EXPECT(gbc.pc(), 0x1d02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0082
        gbc.setState(0x28ae, 0x747f, 0xee10, 0x3135, 0xe792, 0x4b48, 0x1, 0x1);
        gbc.writeMem(0x28ae, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x747f);
        EXPECT(gbc.pc(), 0x28b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0083
        gbc.setState(0x86be, 0x6ea, 0xf080, 0x40eb, 0x39a, 0x53d1, 0x0, 0x0);
        gbc.writeMem(0x86be, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x6ea);
        EXPECT(gbc.pc(), 0x86c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86be), 0xcb);
        EXPECT(gbc.readMem(0x86bf), 0x24);
        // CB 24 0085
        gbc.setState(0x8598, 0xf259, 0x770, 0xecc7, 0xb4a4, 0xe0bd, 0x0, 0x1);
        gbc.writeMem(0x8598, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xf259);
        EXPECT(gbc.pc(), 0x859a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8598), 0xcb);
        EXPECT(gbc.readMem(0x8599), 0x24);
        // CB 24 0086
        gbc.setState(0x61c9, 0xccf2, 0xae30, 0xb9c0, 0x89ed, 0xffe3, 0x0, 0x0);
        gbc.writeMem(0x61c9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xccf2);
        EXPECT(gbc.pc(), 0x61cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0087
        gbc.setState(0xa9c3, 0x95cd, 0x3890, 0x875, 0xaa90, 0x5810, 0x1, 0x1);
        gbc.writeMem(0xa9c3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x95cd);
        EXPECT(gbc.pc(), 0xa9c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9c3), 0xcb);
        EXPECT(gbc.readMem(0xa9c4), 0x24);
        // CB 24 0088
        gbc.setState(0x2005, 0x1d93, 0x88e0, 0x8f83, 0xa750, 0x5ed7, 0x0, 0x1);
        gbc.writeMem(0x2005, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x1d93);
        EXPECT(gbc.pc(), 0x2007);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0089
        gbc.setState(0xc5bf, 0xdeb8, 0xd2c0, 0xf707, 0xd7e4, 0xed66, 0x1, 0x0);
        gbc.writeMem(0xc5bf, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xdeb8);
        EXPECT(gbc.pc(), 0xc5c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5bf), 0xcb);
        EXPECT(gbc.readMem(0xc5c0), 0x24);
        // CB 24 008A
        gbc.setState(0x2afc, 0xa5c2, 0x5ff0, 0x8bef, 0xc5e5, 0x9136, 0x1, 0x0);
        gbc.writeMem(0x2afc, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xa5c2);
        EXPECT(gbc.pc(), 0x2afe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 008B
        gbc.setState(0xddfb, 0x190e, 0xdd50, 0x540c, 0xd509, 0xa738, 0x1, 0x1);
        gbc.writeMem(0xddfb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x190e);
        EXPECT(gbc.pc(), 0xddfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddfb), 0xcb);
        EXPECT(gbc.readMem(0xddfc), 0x24);
        // CB 24 008C
        gbc.setState(0x3c3e, 0x479f, 0x7f40, 0x2cf7, 0xf935, 0x3ee1, 0x0, 0x0);
        gbc.writeMem(0x3c3e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x479f);
        EXPECT(gbc.pc(), 0x3c40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 008D
        gbc.setState(0xb475, 0xfd20, 0x6dc0, 0x6de6, 0x6dd4, 0xd3ce, 0x0, 0x1);
        gbc.writeMem(0xb475, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xfd20);
        EXPECT(gbc.pc(), 0xb477);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb475), 0xcb);
        EXPECT(gbc.readMem(0xb476), 0x24);
        // CB 24 008E
        gbc.setState(0xb628, 0xa64a, 0xa310, 0x9cc1, 0xa7f9, 0x1693, 0x0, 0x1);
        gbc.writeMem(0xb628, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xa64a);
        EXPECT(gbc.pc(), 0xb62a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb628), 0xcb);
        EXPECT(gbc.readMem(0xb629), 0x24);
        // CB 24 008F
        gbc.setState(0x94df, 0x34c7, 0x9ad0, 0x7ef1, 0x21f0, 0x6637, 0x0, 0x1);
        gbc.writeMem(0x94df, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x34c7);
        EXPECT(gbc.pc(), 0x94e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94df), 0xcb);
        EXPECT(gbc.readMem(0x94e0), 0x24);
        // CB 24 0090
        gbc.setState(0xed1c, 0xfbf6, 0xbdb0, 0xf059, 0x1457, 0x65d5, 0x1, 0x0);
        gbc.writeMem(0xed1c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xfbf6);
        EXPECT(gbc.pc(), 0xed1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed1c), 0xcb);
        EXPECT(gbc.readMem(0xed1d), 0x24);
        // CB 24 0091
        gbc.setState(0xd082, 0xf36e, 0x7160, 0xff5e, 0x2007, 0xe0b5, 0x0, 0x0);
        gbc.writeMem(0xd082, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xf36e);
        EXPECT(gbc.pc(), 0xd084);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd082), 0xcb);
        EXPECT(gbc.readMem(0xd083), 0x24);
        // CB 24 0092
        gbc.setState(0x789, 0x6e2c, 0xb040, 0xcf20, 0x9be8, 0xe5e2, 0x0, 0x1);
        gbc.writeMem(0x789, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x6e2c);
        EXPECT(gbc.pc(), 0x78b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0093
        gbc.setState(0xa10, 0xc1d8, 0xe3e0, 0xccab, 0xa752, 0x3362, 0x0, 0x0);
        gbc.writeMem(0xa10, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xc1d8);
        EXPECT(gbc.pc(), 0xa12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0094
        gbc.setState(0xc5a0, 0x5d2f, 0xc400, 0xdbfc, 0xf91a, 0x6345, 0x1, 0x0);
        gbc.writeMem(0xc5a0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x5d2f);
        EXPECT(gbc.pc(), 0xc5a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5a0), 0xcb);
        EXPECT(gbc.readMem(0xc5a1), 0x24);
        // CB 24 0095
        gbc.setState(0xb50, 0xbef2, 0xca80, 0x10ea, 0xf470, 0xac0c, 0x1, 0x1);
        gbc.writeMem(0xb50, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xbef2);
        EXPECT(gbc.pc(), 0xb52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0096
        gbc.setState(0xd09a, 0x5fc7, 0xd260, 0x9f00, 0x580c, 0x9635, 0x1, 0x0);
        gbc.writeMem(0xd09a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x5fc7);
        EXPECT(gbc.pc(), 0xd09c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd09a), 0xcb);
        EXPECT(gbc.readMem(0xd09b), 0x24);
        // CB 24 0097
        gbc.setState(0x7fc2, 0x839f, 0x1d70, 0x151a, 0xcbee, 0x98c6, 0x0, 0x1);
        gbc.writeMem(0x7fc2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x839f);
        EXPECT(gbc.pc(), 0x7fc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0098
        gbc.setState(0x217a, 0x86b0, 0x6ef0, 0xf5e8, 0x73be, 0x2b7a, 0x1, 0x0);
        gbc.writeMem(0x217a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x86b0);
        EXPECT(gbc.pc(), 0x217c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0099
        gbc.setState(0xcd3b, 0x925c, 0xe950, 0x461a, 0xb5fa, 0x870, 0x0, 0x1);
        gbc.writeMem(0xcd3b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x925c);
        EXPECT(gbc.pc(), 0xcd3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd3b), 0xcb);
        EXPECT(gbc.readMem(0xcd3c), 0x24);
        // CB 24 009A
        gbc.setState(0x923a, 0xea85, 0x5640, 0x286c, 0xc9e, 0xa80b, 0x0, 0x0);
        gbc.writeMem(0x923a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xea85);
        EXPECT(gbc.pc(), 0x923c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x923a), 0xcb);
        EXPECT(gbc.readMem(0x923b), 0x24);
        // CB 24 009B
        gbc.setState(0x52cd, 0xa836, 0x1d80, 0x6f63, 0x3961, 0xc42d, 0x1, 0x1);
        gbc.writeMem(0x52cd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xa836);
        EXPECT(gbc.pc(), 0x52cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 009C
        gbc.setState(0x5fc8, 0x5ece, 0x7970, 0x276f, 0x65e5, 0x3ea4, 0x0, 0x0);
        gbc.writeMem(0x5fc8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x5ece);
        EXPECT(gbc.pc(), 0x5fca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 009D
        gbc.setState(0xa308, 0xfd15, 0x35a0, 0x206, 0x1098, 0xba0, 0x1, 0x1);
        gbc.writeMem(0xa308, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xfd15);
        EXPECT(gbc.pc(), 0xa30a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa308), 0xcb);
        EXPECT(gbc.readMem(0xa309), 0x24);
        // CB 24 009E
        gbc.setState(0xc669, 0x577c, 0x1570, 0x37bd, 0x52cb, 0xe138, 0x1, 0x1);
        gbc.writeMem(0xc669, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x577c);
        EXPECT(gbc.pc(), 0xc66b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc669), 0xcb);
        EXPECT(gbc.readMem(0xc66a), 0x24);
        // CB 24 009F
        gbc.setState(0x9754, 0x36a0, 0x8270, 0xdac7, 0x5303, 0x5df4, 0x1, 0x1);
        gbc.writeMem(0x9754, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x36a0);
        EXPECT(gbc.pc(), 0x9756);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9754), 0xcb);
        EXPECT(gbc.readMem(0x9755), 0x24);
        // CB 24 00A0
        gbc.setState(0x2b05, 0x4f69, 0x2750, 0x45ce, 0x4851, 0x2ad9, 0x0, 0x1);
        gbc.writeMem(0x2b05, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x4f69);
        EXPECT(gbc.pc(), 0x2b07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00A1
        gbc.setState(0xae60, 0xdcbc, 0x4110, 0xa941, 0x7bca, 0x70e5, 0x1, 0x1);
        gbc.writeMem(0xae60, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xdcbc);
        EXPECT(gbc.pc(), 0xae62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae60), 0xcb);
        EXPECT(gbc.readMem(0xae61), 0x24);
        // CB 24 00A2
        gbc.setState(0xb4e1, 0x37ed, 0x6660, 0xeff2, 0xfd72, 0xa532, 0x0, 0x1);
        gbc.writeMem(0xb4e1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x37ed);
        EXPECT(gbc.pc(), 0xb4e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4e1), 0xcb);
        EXPECT(gbc.readMem(0xb4e2), 0x24);
        // CB 24 00A3
        gbc.setState(0x775b, 0x5a2c, 0x83e0, 0x65b7, 0x390f, 0x8aa6, 0x0, 0x0);
        gbc.writeMem(0x775b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x5a2c);
        EXPECT(gbc.pc(), 0x775d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00A4
        gbc.setState(0x3428, 0x7e22, 0x7090, 0xafd1, 0x6e09, 0xfa77, 0x1, 0x0);
        gbc.writeMem(0x3428, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x7e22);
        EXPECT(gbc.pc(), 0x342a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00A5
        gbc.setState(0x1be0, 0xae4f, 0xc5c0, 0x90a4, 0xe366, 0x602d, 0x1, 0x0);
        gbc.writeMem(0x1be0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xae4f);
        EXPECT(gbc.pc(), 0x1be2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00A6
        gbc.setState(0x667b, 0x476, 0x3060, 0xb940, 0xd257, 0xc63c, 0x1, 0x1);
        gbc.writeMem(0x667b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x476);
        EXPECT(gbc.pc(), 0x667d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00A7
        gbc.setState(0xbb71, 0x4e82, 0x4e60, 0xb9ef, 0x7a5e, 0xaec1, 0x1, 0x0);
        gbc.writeMem(0xbb71, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x4e82);
        EXPECT(gbc.pc(), 0xbb73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb71), 0xcb);
        EXPECT(gbc.readMem(0xbb72), 0x24);
        // CB 24 00A9
        gbc.setState(0x5bdc, 0x4f9a, 0xedf0, 0x7a2b, 0x77a4, 0x2f22, 0x0, 0x0);
        gbc.writeMem(0x5bdc, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x4f9a);
        EXPECT(gbc.pc(), 0x5bde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00AA
        gbc.setState(0x81ec, 0x743, 0x4720, 0xad0a, 0xa39e, 0x76b6, 0x0, 0x1);
        gbc.writeMem(0x81ec, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x743);
        EXPECT(gbc.pc(), 0x81ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81ec), 0xcb);
        EXPECT(gbc.readMem(0x81ed), 0x24);
        // CB 24 00AB
        gbc.setState(0x45fe, 0xec18, 0xc1a0, 0xcea4, 0x4d58, 0x8859, 0x0, 0x0);
        gbc.writeMem(0x45fe, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xec18);
        EXPECT(gbc.pc(), 0x4600);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00AC
        gbc.setState(0x58f8, 0x789f, 0xeb20, 0x2d5c, 0xf875, 0x605e, 0x0, 0x0);
        gbc.writeMem(0x58f8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x789f);
        EXPECT(gbc.pc(), 0x58fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00AD
        gbc.setState(0x19a4, 0x50a4, 0xe5e0, 0x8e62, 0x827b, 0x1b53, 0x1, 0x1);
        gbc.writeMem(0x19a4, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x50a4);
        EXPECT(gbc.pc(), 0x19a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00AE
        gbc.setState(0x3d97, 0x1551, 0x73a0, 0x9e13, 0xede6, 0x7dc2, 0x1, 0x0);
        gbc.writeMem(0x3d97, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x1551);
        EXPECT(gbc.pc(), 0x3d99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00AF
        gbc.setState(0x1259, 0x6bde, 0x5230, 0x2391, 0x249b, 0xd87d, 0x0, 0x0);
        gbc.writeMem(0x1259, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x6bde);
        EXPECT(gbc.pc(), 0x125b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00B0
        gbc.setState(0x3935, 0x7330, 0xf0f0, 0x4bc8, 0x34a4, 0x3fff, 0x1, 0x1);
        gbc.writeMem(0x3935, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x7330);
        EXPECT(gbc.pc(), 0x3937);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00B1
        gbc.setState(0x58c3, 0xe225, 0x100, 0x330e, 0xf9be, 0x63d9, 0x1, 0x0);
        gbc.writeMem(0x58c3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xe225);
        EXPECT(gbc.pc(), 0x58c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00B2
        gbc.setState(0x6f7f, 0xac1, 0x7650, 0xdd26, 0xc84e, 0x41df, 0x1, 0x1);
        gbc.writeMem(0x6f7f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xac1);
        EXPECT(gbc.pc(), 0x6f81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00B3
        gbc.setState(0x89da, 0xdd08, 0x1960, 0xd36f, 0x1bd, 0x289c, 0x0, 0x0);
        gbc.writeMem(0x89da, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xdd08);
        EXPECT(gbc.pc(), 0x89dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89da), 0xcb);
        EXPECT(gbc.readMem(0x89db), 0x24);
        // CB 24 00B4
        gbc.setState(0x1a0e, 0xc2c0, 0x2700, 0x317c, 0x694a, 0x811, 0x0, 0x1);
        gbc.writeMem(0x1a0e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xc2c0);
        EXPECT(gbc.pc(), 0x1a10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00B5
        gbc.setState(0x6cb8, 0xf595, 0xf470, 0xca95, 0xfb66, 0x8970, 0x1, 0x1);
        gbc.writeMem(0x6cb8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xf595);
        EXPECT(gbc.pc(), 0x6cba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00B6
        gbc.setState(0x7737, 0xd97f, 0xe100, 0x3391, 0xe047, 0xbe49, 0x1, 0x1);
        gbc.writeMem(0x7737, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xd97f);
        EXPECT(gbc.pc(), 0x7739);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00B7
        gbc.setState(0x5771, 0xfaf2, 0x7e90, 0xb248, 0xc1bc, 0xa6f0, 0x1, 0x0);
        gbc.writeMem(0x5771, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xfaf2);
        EXPECT(gbc.pc(), 0x5773);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00B8
        gbc.setState(0x342a, 0x3044, 0xa820, 0xf736, 0x4dc9, 0x27c1, 0x1, 0x0);
        gbc.writeMem(0x342a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x3044);
        EXPECT(gbc.pc(), 0x342c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00B9
        gbc.setState(0x8f6a, 0x5661, 0x2a10, 0xb558, 0xade8, 0x9ca1, 0x1, 0x1);
        gbc.writeMem(0x8f6a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x5661);
        EXPECT(gbc.pc(), 0x8f6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f6a), 0xcb);
        EXPECT(gbc.readMem(0x8f6b), 0x24);
        // CB 24 00BA
        gbc.setState(0xd729, 0x7017, 0xe020, 0xe41d, 0x755, 0xf11d, 0x0, 0x1);
        gbc.writeMem(0xd729, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x7017);
        EXPECT(gbc.pc(), 0xd72b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd729), 0xcb);
        EXPECT(gbc.readMem(0xd72a), 0x24);
        // CB 24 00BB
        gbc.setState(0xdd3c, 0x5a8a, 0x26b0, 0xd04e, 0x36e7, 0x5dce, 0x1, 0x0);
        gbc.writeMem(0xdd3c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x5a8a);
        EXPECT(gbc.pc(), 0xdd3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd3c), 0xcb);
        EXPECT(gbc.readMem(0xdd3d), 0x24);
        // CB 24 00BC
        gbc.setState(0x104a, 0x131c, 0xcc60, 0xb923, 0xf5ad, 0x7c2c, 0x1, 0x1);
        gbc.writeMem(0x104a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x131c);
        EXPECT(gbc.pc(), 0x104c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00BD
        gbc.setState(0xc5dd, 0x44ee, 0x9220, 0x7cf6, 0x532, 0xa314, 0x0, 0x0);
        gbc.writeMem(0xc5dd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x44ee);
        EXPECT(gbc.pc(), 0xc5df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5dd), 0xcb);
        EXPECT(gbc.readMem(0xc5de), 0x24);
        // CB 24 00BE
        gbc.setState(0x3e14, 0xde69, 0xf2c0, 0x3c8f, 0x4334, 0xe9c8, 0x0, 0x0);
        gbc.writeMem(0x3e14, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xde69);
        EXPECT(gbc.pc(), 0x3e16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00BF
        gbc.setState(0xab2e, 0x4209, 0xdc40, 0x8c47, 0xfc95, 0xac05, 0x1, 0x0);
        gbc.writeMem(0xab2e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x4209);
        EXPECT(gbc.pc(), 0xab30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab2e), 0xcb);
        EXPECT(gbc.readMem(0xab2f), 0x24);
        // CB 24 00C0
        gbc.setState(0xa8d, 0xa36c, 0xc300, 0x9859, 0x1350, 0x634d, 0x0, 0x0);
        gbc.writeMem(0xa8d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xa36c);
        EXPECT(gbc.pc(), 0xa8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00C1
        gbc.setState(0xc7b8, 0xa7d9, 0x11f0, 0xd731, 0xfd59, 0x7313, 0x0, 0x1);
        gbc.writeMem(0xc7b8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xa7d9);
        EXPECT(gbc.pc(), 0xc7ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7b8), 0xcb);
        EXPECT(gbc.readMem(0xc7b9), 0x24);
        // CB 24 00C2
        gbc.setState(0xe492, 0xe9f6, 0x4e80, 0x1a1d, 0x28bc, 0x7a4b, 0x0, 0x1);
        gbc.writeMem(0xe492, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xe9f6);
        EXPECT(gbc.pc(), 0xe494);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe492), 0xcb);
        EXPECT(gbc.readMem(0xe493), 0x24);
        // CB 24 00C3
        gbc.setState(0xe87a, 0xdb5f, 0xda70, 0x910b, 0xdd8f, 0xacda, 0x1, 0x1);
        gbc.writeMem(0xe87a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xdb5f);
        EXPECT(gbc.pc(), 0xe87c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe87a), 0xcb);
        EXPECT(gbc.readMem(0xe87b), 0x24);
        // CB 24 00C4
        gbc.setState(0x2272, 0x2ed1, 0x4ea0, 0xb754, 0x7b55, 0xd2e1, 0x1, 0x0);
        gbc.writeMem(0x2272, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x2ed1);
        EXPECT(gbc.pc(), 0x2274);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00C5
        gbc.setState(0x7390, 0x964c, 0x75c0, 0x2271, 0x1890, 0x6bca, 0x1, 0x1);
        gbc.writeMem(0x7390, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x964c);
        EXPECT(gbc.pc(), 0x7392);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00C6
        gbc.setState(0x867c, 0x4ed3, 0x65f0, 0x2491, 0xe0c5, 0x4b45, 0x0, 0x1);
        gbc.writeMem(0x867c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x4ed3);
        EXPECT(gbc.pc(), 0x867e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x867c), 0xcb);
        EXPECT(gbc.readMem(0x867d), 0x24);
        // CB 24 00C7
        gbc.setState(0xaef9, 0x68dd, 0xb970, 0x1305, 0xe041, 0x1aad, 0x0, 0x1);
        gbc.writeMem(0xaef9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x68dd);
        EXPECT(gbc.pc(), 0xaefb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaef9), 0xcb);
        EXPECT(gbc.readMem(0xaefa), 0x24);
        // CB 24 00C9
        gbc.setState(0x3f9f, 0x9e75, 0x70e0, 0x87c, 0xa9e5, 0xbd03, 0x1, 0x1);
        gbc.writeMem(0x3f9f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x9e75);
        EXPECT(gbc.pc(), 0x3fa1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00CA
        gbc.setState(0x7157, 0x96fb, 0x58d0, 0x4380, 0xc689, 0x47f1, 0x0, 0x0);
        gbc.writeMem(0x7157, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x96fb);
        EXPECT(gbc.pc(), 0x7159);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00CC
        gbc.setState(0x9f66, 0xe8ca, 0x81d0, 0xa51d, 0x5b13, 0x1abd, 0x1, 0x1);
        gbc.writeMem(0x9f66, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xe8ca);
        EXPECT(gbc.pc(), 0x9f68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f66), 0xcb);
        EXPECT(gbc.readMem(0x9f67), 0x24);
        // CB 24 00CD
        gbc.setState(0xc178, 0xe305, 0x7810, 0xbb9b, 0x7334, 0x59de, 0x1, 0x0);
        gbc.writeMem(0xc178, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xe305);
        EXPECT(gbc.pc(), 0xc17a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc178), 0xcb);
        EXPECT(gbc.readMem(0xc179), 0x24);
        // CB 24 00CE
        gbc.setState(0x95f5, 0x3a7f, 0x29c0, 0x236f, 0xec78, 0xd780, 0x1, 0x0);
        gbc.writeMem(0x95f5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x3a7f);
        EXPECT(gbc.pc(), 0x95f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95f5), 0xcb);
        EXPECT(gbc.readMem(0x95f6), 0x24);
        // CB 24 00CF
        gbc.setState(0x539c, 0x1d41, 0x8d60, 0x1b48, 0xc622, 0x807b, 0x1, 0x0);
        gbc.writeMem(0x539c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x1d41);
        EXPECT(gbc.pc(), 0x539e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00D0
        gbc.setState(0xb840, 0xbfa5, 0x9950, 0x7f55, 0x8e88, 0x94a2, 0x0, 0x0);
        gbc.writeMem(0xb840, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xbfa5);
        EXPECT(gbc.pc(), 0xb842);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb840), 0xcb);
        EXPECT(gbc.readMem(0xb841), 0x24);
        // CB 24 00D1
        gbc.setState(0x5c50, 0x2363, 0x30e0, 0x440f, 0x3f84, 0x578c, 0x0, 0x1);
        gbc.writeMem(0x5c50, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x2363);
        EXPECT(gbc.pc(), 0x5c52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00D2
        gbc.setState(0xa16e, 0xab30, 0x7740, 0x2d5, 0xd0f6, 0x2e92, 0x1, 0x0);
        gbc.writeMem(0xa16e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xab30);
        EXPECT(gbc.pc(), 0xa170);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa16e), 0xcb);
        EXPECT(gbc.readMem(0xa16f), 0x24);
        // CB 24 00D3
        gbc.setState(0x9e36, 0xdec4, 0x4220, 0x9b06, 0x7b81, 0xb236, 0x1, 0x0);
        gbc.writeMem(0x9e36, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xdec4);
        EXPECT(gbc.pc(), 0x9e38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e36), 0xcb);
        EXPECT(gbc.readMem(0x9e37), 0x24);
        // CB 24 00D4
        gbc.setState(0x997a, 0xca97, 0x6940, 0xa7ba, 0x11cc, 0xf86c, 0x0, 0x0);
        gbc.writeMem(0x997a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xca97);
        EXPECT(gbc.pc(), 0x997c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x997a), 0xcb);
        EXPECT(gbc.readMem(0x997b), 0x24);
        // CB 24 00D5
        gbc.setState(0x8887, 0x2503, 0xbe70, 0xb6f7, 0xcc06, 0xc314, 0x1, 0x0);
        gbc.writeMem(0x8887, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x2503);
        EXPECT(gbc.pc(), 0x8889);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8887), 0xcb);
        EXPECT(gbc.readMem(0x8888), 0x24);
        // CB 24 00D6
        gbc.setState(0x5df2, 0x1ae7, 0x5be0, 0x9ab7, 0xd766, 0xf5c1, 0x0, 0x1);
        gbc.writeMem(0x5df2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x1ae7);
        EXPECT(gbc.pc(), 0x5df4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00D7
        gbc.setState(0x49f0, 0x9448, 0x1780, 0x236, 0xe33d, 0x8653, 0x1, 0x0);
        gbc.writeMem(0x49f0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x9448);
        EXPECT(gbc.pc(), 0x49f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00D8
        gbc.setState(0xa2c0, 0x9834, 0xe140, 0x4f6b, 0xb0e, 0x2428, 0x0, 0x1);
        gbc.writeMem(0xa2c0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x9834);
        EXPECT(gbc.pc(), 0xa2c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2c0), 0xcb);
        EXPECT(gbc.readMem(0xa2c1), 0x24);
        // CB 24 00D9
        gbc.setState(0x9ef6, 0xe4b2, 0xb4f0, 0xf5d7, 0xafc1, 0xcd97, 0x1, 0x1);
        gbc.writeMem(0x9ef6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xe4b2);
        EXPECT(gbc.pc(), 0x9ef8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ef6), 0xcb);
        EXPECT(gbc.readMem(0x9ef7), 0x24);
        // CB 24 00DA
        gbc.setState(0x6574, 0x8dee, 0x2e70, 0x2e35, 0x315d, 0x3781, 0x1, 0x0);
        gbc.writeMem(0x6574, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x8dee);
        EXPECT(gbc.pc(), 0x6576);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00DB
        gbc.setState(0xde72, 0x6c78, 0x60, 0x4f2c, 0x44e1, 0xefcb, 0x1, 0x1);
        gbc.writeMem(0xde72, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x6c78);
        EXPECT(gbc.pc(), 0xde74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde72), 0xcb);
        EXPECT(gbc.readMem(0xde73), 0x24);
        // CB 24 00DC
        gbc.setState(0x4b6f, 0x99b3, 0xe6a0, 0x910a, 0xa968, 0xa0b6, 0x0, 0x1);
        gbc.writeMem(0x4b6f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x99b3);
        EXPECT(gbc.pc(), 0x4b71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00DD
        gbc.setState(0x8ec2, 0x5d0, 0x6f60, 0xc576, 0xf2c4, 0xbffd, 0x0, 0x0);
        gbc.writeMem(0x8ec2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x5d0);
        EXPECT(gbc.pc(), 0x8ec4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ec2), 0xcb);
        EXPECT(gbc.readMem(0x8ec3), 0x24);
        // CB 24 00DE
        gbc.setState(0xec93, 0x79ef, 0xfa00, 0x8e56, 0x72c0, 0x9a2a, 0x1, 0x0);
        gbc.writeMem(0xec93, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x79ef);
        EXPECT(gbc.pc(), 0xec95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec93), 0xcb);
        EXPECT(gbc.readMem(0xec94), 0x24);
        // CB 24 00DF
        gbc.setState(0x4af2, 0xd75e, 0x7810, 0xe8d, 0x48ce, 0x6c51, 0x1, 0x0);
        gbc.writeMem(0x4af2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xd75e);
        EXPECT(gbc.pc(), 0x4af4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00E0
        gbc.setState(0x4fb, 0xac89, 0x19d0, 0x51bd, 0x11cf, 0x362d, 0x0, 0x0);
        gbc.writeMem(0x4fb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xac89);
        EXPECT(gbc.pc(), 0x4fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00E1
        gbc.setState(0xdd01, 0xec5b, 0xa860, 0x8bf7, 0x7444, 0xd0be, 0x1, 0x1);
        gbc.writeMem(0xdd01, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xec5b);
        EXPECT(gbc.pc(), 0xdd03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd01), 0xcb);
        EXPECT(gbc.readMem(0xdd02), 0x24);
        // CB 24 00E2
        gbc.setState(0x139c, 0x7abc, 0x7060, 0xd91a, 0xb80d, 0x2cb8, 0x0, 0x0);
        gbc.writeMem(0x139c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x7abc);
        EXPECT(gbc.pc(), 0x139e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00E3
        gbc.setState(0xa914, 0x6651, 0xb630, 0x5b51, 0xfbd0, 0x3067, 0x0, 0x1);
        gbc.writeMem(0xa914, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x6651);
        EXPECT(gbc.pc(), 0xa916);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa914), 0xcb);
        EXPECT(gbc.readMem(0xa915), 0x24);
        // CB 24 00E5
        gbc.setState(0xdca4, 0x9181, 0x9e0, 0x6eea, 0x6b14, 0xa6e3, 0x0, 0x0);
        gbc.writeMem(0xdca4, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x9181);
        EXPECT(gbc.pc(), 0xdca6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdca4), 0xcb);
        EXPECT(gbc.readMem(0xdca5), 0x24);
        // CB 24 00E6
        gbc.setState(0x7a80, 0x1f49, 0x8fc0, 0x625, 0xdc3b, 0x4d98, 0x1, 0x0);
        gbc.writeMem(0x7a80, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x1f49);
        EXPECT(gbc.pc(), 0x7a82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00E7
        gbc.setState(0x2066, 0xb6e4, 0xcae0, 0x6ed3, 0xef5c, 0x7591, 0x1, 0x0);
        gbc.writeMem(0x2066, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xb6e4);
        EXPECT(gbc.pc(), 0x2068);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00E8
        gbc.setState(0xa941, 0x9821, 0x5940, 0x936e, 0x1c63, 0xb576, 0x1, 0x1);
        gbc.writeMem(0xa941, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x9821);
        EXPECT(gbc.pc(), 0xa943);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa941), 0xcb);
        EXPECT(gbc.readMem(0xa942), 0x24);
        // CB 24 00E9
        gbc.setState(0x13a, 0xe7d3, 0xeb30, 0x18b8, 0xe200, 0x3434, 0x1, 0x0);
        gbc.writeMem(0x13a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xe7d3);
        EXPECT(gbc.pc(), 0x13c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00EB
        gbc.setState(0x422d, 0x3e08, 0xc870, 0x259f, 0x94d6, 0x45c6, 0x1, 0x1);
        gbc.writeMem(0x422d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x3e08);
        EXPECT(gbc.pc(), 0x422f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00EE
        gbc.setState(0xb709, 0x11bc, 0xc760, 0xb085, 0xc185, 0xcbc8, 0x0, 0x0);
        gbc.writeMem(0xb709, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x11bc);
        EXPECT(gbc.pc(), 0xb70b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb709), 0xcb);
        EXPECT(gbc.readMem(0xb70a), 0x24);
        // CB 24 00EF
        gbc.setState(0x2638, 0x2de, 0xc5e0, 0x5426, 0x451, 0xb67d, 0x1, 0x1);
        gbc.writeMem(0x2638, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x2de);
        EXPECT(gbc.pc(), 0x263a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00F0
        gbc.setState(0x3e11, 0x8231, 0xac90, 0x9d66, 0x7f6d, 0x9c42, 0x1, 0x1);
        gbc.writeMem(0x3e11, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x8231);
        EXPECT(gbc.pc(), 0x3e13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00F1
        gbc.setState(0xeb03, 0xd09b, 0xd6e0, 0xefc1, 0x7479, 0x89bb, 0x0, 0x1);
        gbc.writeMem(0xeb03, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xd09b);
        EXPECT(gbc.pc(), 0xeb05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb03), 0xcb);
        EXPECT(gbc.readMem(0xeb04), 0x24);
        // CB 24 00F2
        gbc.setState(0x7dd6, 0x466c, 0x6400, 0xab31, 0xa59c, 0x7d46, 0x1, 0x0);
        gbc.writeMem(0x7dd6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x466c);
        EXPECT(gbc.pc(), 0x7dd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00F3
        gbc.setState(0x8c7f, 0x3dbb, 0x3fb0, 0xf3f9, 0xf3a8, 0x24d2, 0x0, 0x0);
        gbc.writeMem(0x8c7f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x3dbb);
        EXPECT(gbc.pc(), 0x8c81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c7f), 0xcb);
        EXPECT(gbc.readMem(0x8c80), 0x24);
        // CB 24 00F4
        gbc.setState(0xed6d, 0x8c25, 0xa320, 0x3c2a, 0x9d1a, 0x8c07, 0x1, 0x1);
        gbc.writeMem(0xed6d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x8c25);
        EXPECT(gbc.pc(), 0xed6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed6d), 0xcb);
        EXPECT(gbc.readMem(0xed6e), 0x24);
        // CB 24 00F5
        gbc.setState(0xe58b, 0xe590, 0xc640, 0xc91d, 0xd702, 0x4478, 0x0, 0x0);
        gbc.writeMem(0xe58b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xe590);
        EXPECT(gbc.pc(), 0xe58d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe58b), 0xcb);
        EXPECT(gbc.readMem(0xe58c), 0x24);
        // CB 24 00F6
        gbc.setState(0xec27, 0x63f4, 0x2780, 0xd6fe, 0xde44, 0xd629, 0x0, 0x1);
        gbc.writeMem(0xec27, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x63f4);
        EXPECT(gbc.pc(), 0xec29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec27), 0xcb);
        EXPECT(gbc.readMem(0xec28), 0x24);
        // CB 24 00F7
        gbc.setState(0xe7f1, 0x996b, 0x8f10, 0xb5fa, 0x1ca3, 0x7928, 0x1, 0x0);
        gbc.writeMem(0xe7f1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x996b);
        EXPECT(gbc.pc(), 0xe7f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7f1), 0xcb);
        EXPECT(gbc.readMem(0xe7f2), 0x24);
        // CB 24 00F8
        gbc.setState(0x66aa, 0xde3d, 0x1f70, 0xeab0, 0x90c0, 0xf15, 0x1, 0x1);
        gbc.writeMem(0x66aa, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xde3d);
        EXPECT(gbc.pc(), 0x66ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 00F9
        gbc.setState(0xd89, 0x43a7, 0xe820, 0x4775, 0x40d8, 0xcfd3, 0x1, 0x0);
        gbc.writeMem(0xd89, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x43a7);
        EXPECT(gbc.pc(), 0xd8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00FA
        gbc.setState(0xb01f, 0xa760, 0x6b00, 0xa348, 0x6f32, 0x863d, 0x0, 0x0);
        gbc.writeMem(0xb01f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa760);
        EXPECT(gbc.pc(), 0xb021);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb01f), 0xcb);
        EXPECT(gbc.readMem(0xb020), 0x24);
        // CB 24 00FB
        gbc.setState(0x697b, 0xda51, 0x27e0, 0x45cb, 0x5880, 0x8c7e, 0x0, 0x0);
        gbc.writeMem(0x697b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xda51);
        EXPECT(gbc.pc(), 0x697d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 00FC
        gbc.setState(0xadce, 0xaa39, 0x2f80, 0xf024, 0xd67c, 0xf84f, 0x1, 0x0);
        gbc.writeMem(0xadce, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xaa39);
        EXPECT(gbc.pc(), 0xadd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadce), 0xcb);
        EXPECT(gbc.readMem(0xadcf), 0x24);
        // CB 24 00FD
        gbc.setState(0x8c18, 0x5716, 0x34a0, 0xc769, 0xfdc0, 0xa8ea, 0x0, 0x0);
        gbc.writeMem(0x8c18, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x5716);
        EXPECT(gbc.pc(), 0x8c1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c18), 0xcb);
        EXPECT(gbc.readMem(0x8c19), 0x24);
        // CB 24 00FE
        gbc.setState(0xc25d, 0xeeae, 0x7c20, 0x7c37, 0x7548, 0x962a, 0x0, 0x1);
        gbc.writeMem(0xc25d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xeeae);
        EXPECT(gbc.pc(), 0xc25f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc25d), 0xcb);
        EXPECT(gbc.readMem(0xc25e), 0x24);
        // CB 24 00FF
        gbc.setState(0x7da0, 0xcfa1, 0x2940, 0xc813, 0xeb19, 0x4daf, 0x0, 0x1);
        gbc.writeMem(0x7da0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xcfa1);
        EXPECT(gbc.pc(), 0x7da2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0100
        gbc.setState(0xe928, 0x76a6, 0x6290, 0x86b2, 0x3c2, 0xfa6d, 0x0, 0x0);
        gbc.writeMem(0xe928, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x76a6);
        EXPECT(gbc.pc(), 0xe92a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe928), 0xcb);
        EXPECT(gbc.readMem(0xe929), 0x24);
        // CB 24 0101
        gbc.setState(0x3d24, 0x9741, 0x5ca0, 0x3493, 0xa049, 0x2fa1, 0x0, 0x1);
        gbc.writeMem(0x3d24, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x9741);
        EXPECT(gbc.pc(), 0x3d26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0102
        gbc.setState(0x6bdb, 0x323d, 0xf320, 0xb3e4, 0x9c4f, 0x503c, 0x0, 0x0);
        gbc.writeMem(0x6bdb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x323d);
        EXPECT(gbc.pc(), 0x6bdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0103
        gbc.setState(0x4ffa, 0x9811, 0x6370, 0x1145, 0x4a98, 0xa9ca, 0x0, 0x0);
        gbc.writeMem(0x4ffa, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x9811);
        EXPECT(gbc.pc(), 0x4ffc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0104
        gbc.setState(0x94a7, 0x656d, 0x6680, 0xc76b, 0x59f3, 0xceed, 0x1, 0x0);
        gbc.writeMem(0x94a7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x656d);
        EXPECT(gbc.pc(), 0x94a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94a7), 0xcb);
        EXPECT(gbc.readMem(0x94a8), 0x24);
        // CB 24 0105
        gbc.setState(0xe31b, 0x9186, 0x64e0, 0x4597, 0xfd46, 0x7e1f, 0x1, 0x0);
        gbc.writeMem(0xe31b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x9186);
        EXPECT(gbc.pc(), 0xe31d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe31b), 0xcb);
        EXPECT(gbc.readMem(0xe31c), 0x24);
        // CB 24 0106
        gbc.setState(0xb601, 0xab57, 0x1f30, 0x3733, 0x9b11, 0x412, 0x1, 0x1);
        gbc.writeMem(0xb601, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xab57);
        EXPECT(gbc.pc(), 0xb603);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb601), 0xcb);
        EXPECT(gbc.readMem(0xb602), 0x24);
        // CB 24 0107
        gbc.setState(0x7af0, 0xb47b, 0xfcb0, 0x2f99, 0x7af3, 0xc496, 0x1, 0x0);
        gbc.writeMem(0x7af0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xb47b);
        EXPECT(gbc.pc(), 0x7af2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0108
        gbc.setState(0x97d6, 0x4ee4, 0x87f0, 0xa070, 0xbf6e, 0xe330, 0x1, 0x1);
        gbc.writeMem(0x97d6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x4ee4);
        EXPECT(gbc.pc(), 0x97d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97d6), 0xcb);
        EXPECT(gbc.readMem(0x97d7), 0x24);
        // CB 24 0109
        gbc.setState(0x8622, 0xcf37, 0xd790, 0xc266, 0x8e01, 0x7420, 0x0, 0x0);
        gbc.writeMem(0x8622, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xcf37);
        EXPECT(gbc.pc(), 0x8624);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8622), 0xcb);
        EXPECT(gbc.readMem(0x8623), 0x24);
        // CB 24 010A
        gbc.setState(0xda18, 0xa1b8, 0x9130, 0x52e4, 0x5f23, 0xf8e7, 0x0, 0x0);
        gbc.writeMem(0xda18, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa1b8);
        EXPECT(gbc.pc(), 0xda1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda18), 0xcb);
        EXPECT(gbc.readMem(0xda19), 0x24);
        // CB 24 010B
        gbc.setState(0xdef9, 0xa05c, 0xf0e0, 0x9ed0, 0x5381, 0xd4b0, 0x0, 0x0);
        gbc.writeMem(0xdef9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xa05c);
        EXPECT(gbc.pc(), 0xdefb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdef9), 0xcb);
        EXPECT(gbc.readMem(0xdefa), 0x24);
        // CB 24 010C
        gbc.setState(0x8c3c, 0xc8e4, 0x69b0, 0x408c, 0xe76, 0xc9ea, 0x0, 0x0);
        gbc.writeMem(0x8c3c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xc8e4);
        EXPECT(gbc.pc(), 0x8c3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c3c), 0xcb);
        EXPECT(gbc.readMem(0x8c3d), 0x24);
        // CB 24 010D
        gbc.setState(0x3402, 0xf293, 0x530, 0xc85c, 0x94b8, 0xcd4d, 0x1, 0x1);
        gbc.writeMem(0x3402, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xf293);
        EXPECT(gbc.pc(), 0x3404);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 010E
        gbc.setState(0x1640, 0xb41a, 0x880, 0xed6a, 0x4736, 0x2d40, 0x1, 0x0);
        gbc.writeMem(0x1640, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xb41a);
        EXPECT(gbc.pc(), 0x1642);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 010F
        gbc.setState(0xd272, 0x7f6b, 0xf680, 0x1d40, 0xdbe, 0xa890, 0x0, 0x0);
        gbc.writeMem(0xd272, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x7f6b);
        EXPECT(gbc.pc(), 0xd274);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd272), 0xcb);
        EXPECT(gbc.readMem(0xd273), 0x24);
        // CB 24 0110
        gbc.setState(0x682f, 0xd86b, 0xe650, 0x57b2, 0xcd2f, 0x20d3, 0x1, 0x1);
        gbc.writeMem(0x682f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xd86b);
        EXPECT(gbc.pc(), 0x6831);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0111
        gbc.setState(0x2144, 0x7d4d, 0x4bb0, 0x4a0e, 0x4b6d, 0x348f, 0x1, 0x1);
        gbc.writeMem(0x2144, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x7d4d);
        EXPECT(gbc.pc(), 0x2146);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0113
        gbc.setState(0xe23f, 0xd522, 0x7a0, 0xf29a, 0xb294, 0x40a0, 0x1, 0x1);
        gbc.writeMem(0xe23f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xd522);
        EXPECT(gbc.pc(), 0xe241);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe23f), 0xcb);
        EXPECT(gbc.readMem(0xe240), 0x24);
        // CB 24 0114
        gbc.setState(0xecfa, 0x1021, 0x1a90, 0xf155, 0xe36a, 0x70e0, 0x0, 0x0);
        gbc.writeMem(0xecfa, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x1021);
        EXPECT(gbc.pc(), 0xecfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecfa), 0xcb);
        EXPECT(gbc.readMem(0xecfb), 0x24);
        // CB 24 0115
        gbc.setState(0x9e8f, 0xca87, 0x6b10, 0xd11d, 0xe443, 0x73ca, 0x0, 0x0);
        gbc.writeMem(0x9e8f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xca87);
        EXPECT(gbc.pc(), 0x9e91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e8f), 0xcb);
        EXPECT(gbc.readMem(0x9e90), 0x24);
        // CB 24 0116
        gbc.setState(0x850, 0x8db7, 0x8900, 0xabc9, 0x9d63, 0x3e34, 0x0, 0x0);
        gbc.writeMem(0x850, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x8db7);
        EXPECT(gbc.pc(), 0x852);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0117
        gbc.setState(0x6a8f, 0xbe61, 0x66e0, 0x7c7d, 0xfebf, 0x3e32, 0x0, 0x0);
        gbc.writeMem(0x6a8f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xbe61);
        EXPECT(gbc.pc(), 0x6a91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0118
        gbc.setState(0x4d90, 0x1ee, 0xd980, 0xe0f9, 0xb736, 0x2f96, 0x1, 0x1);
        gbc.writeMem(0x4d90, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x1ee);
        EXPECT(gbc.pc(), 0x4d92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0119
        gbc.setState(0x887, 0x72f8, 0x84d0, 0x4078, 0xc082, 0xeda8, 0x1, 0x0);
        gbc.writeMem(0x887, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x72f8);
        EXPECT(gbc.pc(), 0x889);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 011A
        gbc.setState(0xa6a4, 0xd1e3, 0xfe10, 0xbbbd, 0xc5c1, 0xb4c4, 0x0, 0x1);
        gbc.writeMem(0xa6a4, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xd1e3);
        EXPECT(gbc.pc(), 0xa6a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6a4), 0xcb);
        EXPECT(gbc.readMem(0xa6a5), 0x24);
        // CB 24 011B
        gbc.setState(0xcd8a, 0x9327, 0x44e0, 0xe324, 0x7500, 0xa9d1, 0x1, 0x1);
        gbc.writeMem(0xcd8a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x9327);
        EXPECT(gbc.pc(), 0xcd8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd8a), 0xcb);
        EXPECT(gbc.readMem(0xcd8b), 0x24);
        // CB 24 011C
        gbc.setState(0x6aa0, 0xc3b1, 0x42e0, 0x9d4b, 0xf157, 0x57b3, 0x1, 0x1);
        gbc.writeMem(0x6aa0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xc3b1);
        EXPECT(gbc.pc(), 0x6aa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 011D
        gbc.setState(0x1905, 0x8523, 0xe4f0, 0xaba2, 0x2712, 0xc9ee, 0x0, 0x1);
        gbc.writeMem(0x1905, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x8523);
        EXPECT(gbc.pc(), 0x1907);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 011E
        gbc.setState(0x6772, 0x72d3, 0xff20, 0x6ba6, 0xa642, 0xe0b3, 0x0, 0x0);
        gbc.writeMem(0x6772, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x72d3);
        EXPECT(gbc.pc(), 0x6774);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 011F
        gbc.setState(0x1d8a, 0x1353, 0x25d0, 0x34c6, 0xbdcc, 0xed7d, 0x0, 0x0);
        gbc.writeMem(0x1d8a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x1353);
        EXPECT(gbc.pc(), 0x1d8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0120
        gbc.setState(0x1a03, 0x1d00, 0x9860, 0x10e0, 0x9606, 0xdcbf, 0x0, 0x1);
        gbc.writeMem(0x1a03, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x1d00);
        EXPECT(gbc.pc(), 0x1a05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0121
        gbc.setState(0x4e5a, 0x23b0, 0x6910, 0xa406, 0x69f5, 0xd026, 0x0, 0x1);
        gbc.writeMem(0x4e5a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x23b0);
        EXPECT(gbc.pc(), 0x4e5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0122
        gbc.setState(0x352b, 0xa44f, 0x2320, 0xc1be, 0x106b, 0x3c06, 0x1, 0x0);
        gbc.writeMem(0x352b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xa44f);
        EXPECT(gbc.pc(), 0x352d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0123
        gbc.setState(0x5289, 0xee99, 0xecd0, 0x64f, 0x9ff8, 0x3fce, 0x0, 0x0);
        gbc.writeMem(0x5289, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xee99);
        EXPECT(gbc.pc(), 0x528b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0124
        gbc.setState(0x9c46, 0xfacf, 0x7c20, 0xb544, 0x6025, 0xc9d5, 0x0, 0x0);
        gbc.writeMem(0x9c46, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xfacf);
        EXPECT(gbc.pc(), 0x9c48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c46), 0xcb);
        EXPECT(gbc.readMem(0x9c47), 0x24);
        // CB 24 0125
        gbc.setState(0x8398, 0x5f8c, 0x6670, 0x9abd, 0x6b96, 0x61fb, 0x1, 0x0);
        gbc.writeMem(0x8398, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x5f8c);
        EXPECT(gbc.pc(), 0x839a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8398), 0xcb);
        EXPECT(gbc.readMem(0x8399), 0x24);
        // CB 24 0126
        gbc.setState(0xed56, 0x4097, 0x8050, 0x6db7, 0x2312, 0x70cf, 0x1, 0x0);
        gbc.writeMem(0xed56, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x4097);
        EXPECT(gbc.pc(), 0xed58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed56), 0xcb);
        EXPECT(gbc.readMem(0xed57), 0x24);
        // CB 24 0127
        gbc.setState(0x9b19, 0xa6cd, 0x4f10, 0x22bc, 0xfe83, 0xbe3d, 0x1, 0x0);
        gbc.writeMem(0x9b19, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa6cd);
        EXPECT(gbc.pc(), 0x9b1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b19), 0xcb);
        EXPECT(gbc.readMem(0x9b1a), 0x24);
        // CB 24 0128
        gbc.setState(0x5c34, 0x679d, 0x2c90, 0x80c0, 0xe74d, 0xf512, 0x0, 0x1);
        gbc.writeMem(0x5c34, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x679d);
        EXPECT(gbc.pc(), 0x5c36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0129
        gbc.setState(0x49cb, 0xcc9e, 0xf200, 0x802a, 0xcdb, 0x5ba5, 0x0, 0x0);
        gbc.writeMem(0x49cb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xcc9e);
        EXPECT(gbc.pc(), 0x49cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 012A
        gbc.setState(0xdf4c, 0xf091, 0xe250, 0xda, 0xdea5, 0xedc3, 0x0, 0x1);
        gbc.writeMem(0xdf4c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xf091);
        EXPECT(gbc.pc(), 0xdf4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf4c), 0xcb);
        EXPECT(gbc.readMem(0xdf4d), 0x24);
        // CB 24 012B
        gbc.setState(0x3481, 0xfd7d, 0x8fa0, 0xac6a, 0x1db2, 0x5451, 0x1, 0x0);
        gbc.writeMem(0x3481, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xfd7d);
        EXPECT(gbc.pc(), 0x3483);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 012C
        gbc.setState(0xb5, 0x63f8, 0x4bd0, 0xbff6, 0x2f12, 0xe40e, 0x1, 0x1);
        gbc.writeMem(0xb5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x63f8);
        EXPECT(gbc.pc(), 0xb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 012D
        gbc.setState(0xdf67, 0xb68f, 0x6410, 0x613c, 0xd352, 0xa983, 0x0, 0x0);
        gbc.writeMem(0xdf67, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xb68f);
        EXPECT(gbc.pc(), 0xdf69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf67), 0xcb);
        EXPECT(gbc.readMem(0xdf68), 0x24);
        // CB 24 012E
        gbc.setState(0x7805, 0xdb76, 0x8af0, 0x2c99, 0xa108, 0x8104, 0x1, 0x1);
        gbc.writeMem(0x7805, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xdb76);
        EXPECT(gbc.pc(), 0x7807);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0130
        gbc.setState(0xaf5e, 0x912e, 0x9b10, 0x9d0a, 0x9fb8, 0xd0a, 0x1, 0x0);
        gbc.writeMem(0xaf5e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x912e);
        EXPECT(gbc.pc(), 0xaf60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf5e), 0xcb);
        EXPECT(gbc.readMem(0xaf5f), 0x24);
        // CB 24 0131
        gbc.setState(0x8935, 0x35eb, 0x3150, 0xd294, 0xdf85, 0x3400, 0x0, 0x1);
        gbc.writeMem(0x8935, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x35eb);
        EXPECT(gbc.pc(), 0x8937);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8935), 0xcb);
        EXPECT(gbc.readMem(0x8936), 0x24);
        // CB 24 0132
        gbc.setState(0x7e37, 0x2cc2, 0x17d0, 0xcebd, 0x8859, 0x5704, 0x1, 0x0);
        gbc.writeMem(0x7e37, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x2cc2);
        EXPECT(gbc.pc(), 0x7e39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0133
        gbc.setState(0x6b6c, 0x998b, 0xbb80, 0x8187, 0x9d71, 0x479d, 0x0, 0x1);
        gbc.writeMem(0x6b6c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x998b);
        EXPECT(gbc.pc(), 0x6b6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0134
        gbc.setState(0xa310, 0xe823, 0x1aa0, 0xe906, 0x7218, 0x3bec, 0x0, 0x0);
        gbc.writeMem(0xa310, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xe823);
        EXPECT(gbc.pc(), 0xa312);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa310), 0xcb);
        EXPECT(gbc.readMem(0xa311), 0x24);
        // CB 24 0135
        gbc.setState(0x9505, 0x4e47, 0xfe50, 0x87c6, 0xd37d, 0x75ce, 0x0, 0x0);
        gbc.writeMem(0x9505, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x4e47);
        EXPECT(gbc.pc(), 0x9507);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9505), 0xcb);
        EXPECT(gbc.readMem(0x9506), 0x24);
        // CB 24 0136
        gbc.setState(0xbb4f, 0x18f2, 0x79b0, 0x2e18, 0x2bcc, 0xda69, 0x1, 0x1);
        gbc.writeMem(0xbb4f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x18f2);
        EXPECT(gbc.pc(), 0xbb51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb4f), 0xcb);
        EXPECT(gbc.readMem(0xbb50), 0x24);
        // CB 24 0137
        gbc.setState(0x7a83, 0x556, 0x7cc0, 0x7650, 0xba4f, 0x9c00, 0x1, 0x0);
        gbc.writeMem(0x7a83, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x556);
        EXPECT(gbc.pc(), 0x7a85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0138
        gbc.setState(0x4a14, 0x840f, 0xda90, 0x507b, 0x71f1, 0xe9bf, 0x1, 0x1);
        gbc.writeMem(0x4a14, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x840f);
        EXPECT(gbc.pc(), 0x4a16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0139
        gbc.setState(0x5569, 0x5d6b, 0x64c0, 0xc4f3, 0x87a3, 0x74bf, 0x0, 0x0);
        gbc.writeMem(0x5569, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x5d6b);
        EXPECT(gbc.pc(), 0x556b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 013A
        gbc.setState(0xb06c, 0xebec, 0x5df0, 0x1963, 0x454, 0x8c63, 0x1, 0x1);
        gbc.writeMem(0xb06c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xebec);
        EXPECT(gbc.pc(), 0xb06e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb06c), 0xcb);
        EXPECT(gbc.readMem(0xb06d), 0x24);
        // CB 24 013B
        gbc.setState(0x4475, 0x3ed1, 0x9580, 0x8047, 0x4ef4, 0x69b5, 0x0, 0x1);
        gbc.writeMem(0x4475, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x3ed1);
        EXPECT(gbc.pc(), 0x4477);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 013D
        gbc.setState(0x645c, 0xe08c, 0x9e00, 0xc51d, 0xdee0, 0x2a7a, 0x0, 0x1);
        gbc.writeMem(0x645c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xe08c);
        EXPECT(gbc.pc(), 0x645e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 013E
        gbc.setState(0xc36f, 0x4060, 0x3330, 0x4388, 0x9026, 0x3224, 0x1, 0x1);
        gbc.writeMem(0xc36f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x4060);
        EXPECT(gbc.pc(), 0xc371);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc36f), 0xcb);
        EXPECT(gbc.readMem(0xc370), 0x24);
        // CB 24 013F
        gbc.setState(0x6285, 0x9f39, 0x6630, 0x7830, 0x9aa3, 0x2411, 0x0, 0x0);
        gbc.writeMem(0x6285, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x9f39);
        EXPECT(gbc.pc(), 0x6287);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0140
        gbc.setState(0x919f, 0x8138, 0x40e0, 0xaeeb, 0x2767, 0x77e3, 0x0, 0x0);
        gbc.writeMem(0x919f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x8138);
        EXPECT(gbc.pc(), 0x91a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x919f), 0xcb);
        EXPECT(gbc.readMem(0x91a0), 0x24);
        // CB 24 0141
        gbc.setState(0x51b7, 0xe87b, 0xf920, 0xf1cf, 0x5e5c, 0x5eda, 0x0, 0x0);
        gbc.writeMem(0x51b7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xe87b);
        EXPECT(gbc.pc(), 0x51b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0142
        gbc.setState(0x4693, 0x78c5, 0x8070, 0xadb3, 0xcbb, 0xe351, 0x0, 0x0);
        gbc.writeMem(0x4693, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x78c5);
        EXPECT(gbc.pc(), 0x4695);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0143
        gbc.setState(0xaf81, 0xbeb5, 0xa440, 0x5868, 0x256c, 0xb9b1, 0x1, 0x0);
        gbc.writeMem(0xaf81, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xbeb5);
        EXPECT(gbc.pc(), 0xaf83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf81), 0xcb);
        EXPECT(gbc.readMem(0xaf82), 0x24);
        // CB 24 0144
        gbc.setState(0x173a, 0xf1b4, 0x7620, 0x96f9, 0x7109, 0x5430, 0x0, 0x0);
        gbc.writeMem(0x173a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xf1b4);
        EXPECT(gbc.pc(), 0x173c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0145
        gbc.setState(0xb90b, 0xcaf9, 0xe00, 0xc328, 0x3d4a, 0x3270, 0x1, 0x1);
        gbc.writeMem(0xb90b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xcaf9);
        EXPECT(gbc.pc(), 0xb90d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb90b), 0xcb);
        EXPECT(gbc.readMem(0xb90c), 0x24);
        // CB 24 0146
        gbc.setState(0x5e2f, 0xd4f9, 0xc420, 0xf31, 0x1df5, 0xfab, 0x0, 0x0);
        gbc.writeMem(0x5e2f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xd4f9);
        EXPECT(gbc.pc(), 0x5e31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0147
        gbc.setState(0x14d6, 0xc88, 0x27b0, 0x39, 0xd6ce, 0x378a, 0x0, 0x1);
        gbc.writeMem(0x14d6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xc88);
        EXPECT(gbc.pc(), 0x14d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0148
        gbc.setState(0x7f9d, 0xf388, 0xc340, 0xc7b3, 0xd9d8, 0xffff, 0x1, 0x0);
        gbc.writeMem(0x7f9d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xf388);
        EXPECT(gbc.pc(), 0x7f9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0149
        gbc.setState(0xc2ce, 0x47d2, 0x3550, 0x8ad6, 0x8d8e, 0x47e5, 0x0, 0x0);
        gbc.writeMem(0xc2ce, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x47d2);
        EXPECT(gbc.pc(), 0xc2d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2ce), 0xcb);
        EXPECT(gbc.readMem(0xc2cf), 0x24);
        // CB 24 014A
        gbc.setState(0x65c6, 0x23d5, 0x5860, 0xde64, 0x54a0, 0x55a1, 0x1, 0x1);
        gbc.writeMem(0x65c6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x23d5);
        EXPECT(gbc.pc(), 0x65c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 014B
        gbc.setState(0x4653, 0xff3, 0xfd80, 0xb1a5, 0xe620, 0xd932, 0x0, 0x0);
        gbc.writeMem(0x4653, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xff3);
        EXPECT(gbc.pc(), 0x4655);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 014C
        gbc.setState(0xe929, 0xde58, 0xac50, 0xefcb, 0xe4b7, 0x6549, 0x1, 0x1);
        gbc.writeMem(0xe929, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xde58);
        EXPECT(gbc.pc(), 0xe92b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe929), 0xcb);
        EXPECT(gbc.readMem(0xe92a), 0x24);
        // CB 24 014D
        gbc.setState(0x45dd, 0x9f32, 0x12b0, 0x1015, 0x5b66, 0x7c88, 0x1, 0x1);
        gbc.writeMem(0x45dd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x9f32);
        EXPECT(gbc.pc(), 0x45df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 014E
        gbc.setState(0xea5b, 0x86e4, 0x7a00, 0xe7a9, 0x8f00, 0xaa4a, 0x1, 0x1);
        gbc.writeMem(0xea5b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x86e4);
        EXPECT(gbc.pc(), 0xea5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea5b), 0xcb);
        EXPECT(gbc.readMem(0xea5c), 0x24);
        // CB 24 014F
        gbc.setState(0xa532, 0x35aa, 0x5ed0, 0xcf63, 0xd485, 0xa153, 0x1, 0x0);
        gbc.writeMem(0xa532, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x35aa);
        EXPECT(gbc.pc(), 0xa534);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa532), 0xcb);
        EXPECT(gbc.readMem(0xa533), 0x24);
        // CB 24 0150
        gbc.setState(0xec0f, 0x1ed2, 0xdf00, 0xef92, 0x6304, 0x3eeb, 0x1, 0x0);
        gbc.writeMem(0xec0f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x1ed2);
        EXPECT(gbc.pc(), 0xec11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec0f), 0xcb);
        EXPECT(gbc.readMem(0xec10), 0x24);
        // CB 24 0151
        gbc.setState(0x6229, 0xc764, 0x8830, 0x8e52, 0x5222, 0xab5a, 0x1, 0x1);
        gbc.writeMem(0x6229, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xc764);
        EXPECT(gbc.pc(), 0x622b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0152
        gbc.setState(0x8901, 0xd054, 0xe720, 0x35f3, 0x8cf1, 0xa536, 0x0, 0x0);
        gbc.writeMem(0x8901, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xd054);
        EXPECT(gbc.pc(), 0x8903);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8901), 0xcb);
        EXPECT(gbc.readMem(0x8902), 0x24);
        // CB 24 0153
        gbc.setState(0x2bee, 0x1edb, 0x5a80, 0x8415, 0xff9e, 0x74eb, 0x0, 0x1);
        gbc.writeMem(0x2bee, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x1edb);
        EXPECT(gbc.pc(), 0x2bf0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0154
        gbc.setState(0x1d5b, 0xb6f7, 0xfdb0, 0xaee2, 0x6251, 0x9082, 0x1, 0x1);
        gbc.writeMem(0x1d5b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xb6f7);
        EXPECT(gbc.pc(), 0x1d5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0155
        gbc.setState(0xacc3, 0x5150, 0xd40, 0xabcb, 0x57b2, 0x7d2a, 0x0, 0x1);
        gbc.writeMem(0xacc3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x5150);
        EXPECT(gbc.pc(), 0xacc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacc3), 0xcb);
        EXPECT(gbc.readMem(0xacc4), 0x24);
        // CB 24 0157
        gbc.setState(0x1228, 0x6755, 0xc6f0, 0xcd3e, 0xee1f, 0x5336, 0x0, 0x1);
        gbc.writeMem(0x1228, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x6755);
        EXPECT(gbc.pc(), 0x122a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0158
        gbc.setState(0x1cae, 0xe7e, 0xce80, 0x20e3, 0xdfc4, 0x3254, 0x0, 0x1);
        gbc.writeMem(0x1cae, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xe7e);
        EXPECT(gbc.pc(), 0x1cb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0159
        gbc.setState(0x63cc, 0xd48f, 0xca00, 0xc079, 0x192, 0x5215, 0x1, 0x1);
        gbc.writeMem(0x63cc, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xd48f);
        EXPECT(gbc.pc(), 0x63ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 015A
        gbc.setState(0xd237, 0x34cb, 0x9680, 0x67d1, 0x5492, 0x16c7, 0x1, 0x1);
        gbc.writeMem(0xd237, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x34cb);
        EXPECT(gbc.pc(), 0xd239);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd237), 0xcb);
        EXPECT(gbc.readMem(0xd238), 0x24);
        // CB 24 015B
        gbc.setState(0xd3b, 0xb839, 0x5ea0, 0x55f7, 0xc1fc, 0x1653, 0x1, 0x0);
        gbc.writeMem(0xd3b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xb839);
        EXPECT(gbc.pc(), 0xd3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 015C
        gbc.setState(0xc74c, 0x9e14, 0xa9c0, 0x4ec0, 0xf6de, 0xd763, 0x0, 0x1);
        gbc.writeMem(0xc74c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x9e14);
        EXPECT(gbc.pc(), 0xc74e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc74c), 0xcb);
        EXPECT(gbc.readMem(0xc74d), 0x24);
        // CB 24 015D
        gbc.setState(0x150e, 0xf430, 0x27e0, 0xc30, 0xaad6, 0xf326, 0x1, 0x0);
        gbc.writeMem(0x150e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xf430);
        EXPECT(gbc.pc(), 0x1510);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 015E
        gbc.setState(0xeabd, 0x3556, 0x3a50, 0x6e5c, 0xeb0f, 0x77fc, 0x1, 0x1);
        gbc.writeMem(0xeabd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x3556);
        EXPECT(gbc.pc(), 0xeabf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeabd), 0xcb);
        EXPECT(gbc.readMem(0xeabe), 0x24);
        // CB 24 015F
        gbc.setState(0x1195, 0x22c, 0xf630, 0xc593, 0x1def, 0xb54f, 0x1, 0x1);
        gbc.writeMem(0x1195, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x22c);
        EXPECT(gbc.pc(), 0x1197);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0160
        gbc.setState(0x3c85, 0x3b96, 0xd4e0, 0x514a, 0xbbdc, 0xe62, 0x1, 0x0);
        gbc.writeMem(0x3c85, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x3b96);
        EXPECT(gbc.pc(), 0x3c87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0161
        gbc.setState(0xd487, 0x2fe3, 0x3c20, 0x57e3, 0x1e72, 0x740a, 0x0, 0x0);
        gbc.writeMem(0xd487, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x2fe3);
        EXPECT(gbc.pc(), 0xd489);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd487), 0xcb);
        EXPECT(gbc.readMem(0xd488), 0x24);
        // CB 24 0163
        gbc.setState(0x8f3d, 0xd9c8, 0x69e0, 0xbc4, 0xad3f, 0x7b5e, 0x0, 0x1);
        gbc.writeMem(0x8f3d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xd9c8);
        EXPECT(gbc.pc(), 0x8f3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f3d), 0xcb);
        EXPECT(gbc.readMem(0x8f3e), 0x24);
        // CB 24 0164
        gbc.setState(0x7825, 0xae42, 0x4380, 0x324b, 0xc930, 0xe4b6, 0x0, 0x1);
        gbc.writeMem(0x7825, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xae42);
        EXPECT(gbc.pc(), 0x7827);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0165
        gbc.setState(0xa679, 0xee0b, 0x460, 0x22c4, 0x389, 0xd04f, 0x1, 0x0);
        gbc.writeMem(0xa679, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xee0b);
        EXPECT(gbc.pc(), 0xa67b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa679), 0xcb);
        EXPECT(gbc.readMem(0xa67a), 0x24);
        // CB 24 0166
        gbc.setState(0xde92, 0x757a, 0x8e60, 0xd10b, 0x8e37, 0x5f4a, 0x0, 0x0);
        gbc.writeMem(0xde92, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x757a);
        EXPECT(gbc.pc(), 0xde94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde92), 0xcb);
        EXPECT(gbc.readMem(0xde93), 0x24);
        // CB 24 0169
        gbc.setState(0x81d7, 0xc8f0, 0xa960, 0xe549, 0x13fb, 0xcf37, 0x0, 0x1);
        gbc.writeMem(0x81d7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xc8f0);
        EXPECT(gbc.pc(), 0x81d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81d7), 0xcb);
        EXPECT(gbc.readMem(0x81d8), 0x24);
        // CB 24 016A
        gbc.setState(0xe4d4, 0xd91e, 0xb3a0, 0xab3, 0x1eb5, 0x4148, 0x0, 0x0);
        gbc.writeMem(0xe4d4, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xd91e);
        EXPECT(gbc.pc(), 0xe4d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4d4), 0xcb);
        EXPECT(gbc.readMem(0xe4d5), 0x24);
        // CB 24 016B
        gbc.setState(0x711c, 0x8617, 0xbcb0, 0xb252, 0xa130, 0x90a0, 0x1, 0x0);
        gbc.writeMem(0x711c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x8617);
        EXPECT(gbc.pc(), 0x711e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 016C
        gbc.setState(0x45b0, 0xf44d, 0x6500, 0x205d, 0xa677, 0x5f5f, 0x1, 0x1);
        gbc.writeMem(0x45b0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xf44d);
        EXPECT(gbc.pc(), 0x45b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 016D
        gbc.setState(0xdc2, 0x82fa, 0xd30, 0x9551, 0xeb67, 0x97db, 0x0, 0x0);
        gbc.writeMem(0xdc2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x82fa);
        EXPECT(gbc.pc(), 0xdc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 016E
        gbc.setState(0x468f, 0x7bdb, 0x11d0, 0xfdb0, 0xe604, 0x6ddc, 0x1, 0x0);
        gbc.writeMem(0x468f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x7bdb);
        EXPECT(gbc.pc(), 0x4691);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 016F
        gbc.setState(0x9691, 0xbd1a, 0xef0, 0xc0fb, 0xf9b1, 0x3ccb, 0x0, 0x0);
        gbc.writeMem(0x9691, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xbd1a);
        EXPECT(gbc.pc(), 0x9693);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9691), 0xcb);
        EXPECT(gbc.readMem(0x9692), 0x24);
        // CB 24 0170
        gbc.setState(0xb5e0, 0xa721, 0x7040, 0x1d59, 0x703e, 0xd50b, 0x0, 0x0);
        gbc.writeMem(0xb5e0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xa721);
        EXPECT(gbc.pc(), 0xb5e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5e0), 0xcb);
        EXPECT(gbc.readMem(0xb5e1), 0x24);
        // CB 24 0171
        gbc.setState(0xdd3, 0xf991, 0x10b0, 0x8a3, 0xc964, 0xb45a, 0x1, 0x1);
        gbc.writeMem(0xdd3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xf991);
        EXPECT(gbc.pc(), 0xdd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0172
        gbc.setState(0x9fda, 0xf9dc, 0xf550, 0xb0b6, 0xf8e, 0xb13e, 0x1, 0x0);
        gbc.writeMem(0x9fda, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xf9dc);
        EXPECT(gbc.pc(), 0x9fdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fda), 0xcb);
        EXPECT(gbc.readMem(0x9fdb), 0x24);
        // CB 24 0173
        gbc.setState(0x6208, 0x5ee5, 0x7890, 0x4679, 0x4752, 0xa894, 0x1, 0x1);
        gbc.writeMem(0x6208, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x5ee5);
        EXPECT(gbc.pc(), 0x620a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0174
        gbc.setState(0xa948, 0x9fbb, 0xba50, 0x2d19, 0x90f8, 0x3e93, 0x1, 0x1);
        gbc.writeMem(0xa948, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x9fbb);
        EXPECT(gbc.pc(), 0xa94a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa948), 0xcb);
        EXPECT(gbc.readMem(0xa949), 0x24);
        // CB 24 0175
        gbc.setState(0x410b, 0x847e, 0x1390, 0xf259, 0x4636, 0x7f74, 0x0, 0x1);
        gbc.writeMem(0x410b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x847e);
        EXPECT(gbc.pc(), 0x410d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0176
        gbc.setState(0x530f, 0x67e0, 0x9c70, 0x2495, 0x4637, 0xc306, 0x0, 0x0);
        gbc.writeMem(0x530f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x67e0);
        EXPECT(gbc.pc(), 0x5311);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0177
        gbc.setState(0xc252, 0x623f, 0x8250, 0x758a, 0x1801, 0x6fcc, 0x0, 0x1);
        gbc.writeMem(0xc252, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x623f);
        EXPECT(gbc.pc(), 0xc254);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc252), 0xcb);
        EXPECT(gbc.readMem(0xc253), 0x24);
        // CB 24 0178
        gbc.setState(0xcefa, 0xb84c, 0xdc60, 0x498c, 0x9a17, 0xc12f, 0x1, 0x0);
        gbc.writeMem(0xcefa, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xb84c);
        EXPECT(gbc.pc(), 0xcefc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcefa), 0xcb);
        EXPECT(gbc.readMem(0xcefb), 0x24);
        // CB 24 0179
        gbc.setState(0x9f8, 0x366, 0xc2e0, 0xf21e, 0xfaec, 0x18d4, 0x1, 0x1);
        gbc.writeMem(0x9f8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x366);
        EXPECT(gbc.pc(), 0x9fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 017A
        gbc.setState(0xda55, 0x8911, 0x39a0, 0x2af0, 0xab9d, 0x46f2, 0x1, 0x1);
        gbc.writeMem(0xda55, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x8911);
        EXPECT(gbc.pc(), 0xda57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda55), 0xcb);
        EXPECT(gbc.readMem(0xda56), 0x24);
        // CB 24 017B
        gbc.setState(0x47d, 0x6a95, 0xba20, 0x1d08, 0x4a74, 0x8919, 0x1, 0x0);
        gbc.writeMem(0x47d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x6a95);
        EXPECT(gbc.pc(), 0x47f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 017C
        gbc.setState(0xa57e, 0x7705, 0x570, 0x34d0, 0xe77, 0x69f2, 0x1, 0x1);
        gbc.writeMem(0xa57e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x7705);
        EXPECT(gbc.pc(), 0xa580);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa57e), 0xcb);
        EXPECT(gbc.readMem(0xa57f), 0x24);
        // CB 24 017D
        gbc.setState(0xcaca, 0xf4f1, 0x9060, 0x32ec, 0x13d5, 0x653f, 0x1, 0x0);
        gbc.writeMem(0xcaca, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xf4f1);
        EXPECT(gbc.pc(), 0xcacc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcaca), 0xcb);
        EXPECT(gbc.readMem(0xcacb), 0x24);
        // CB 24 017E
        gbc.setState(0xa004, 0x9fa7, 0xf0c0, 0x9d71, 0x1c48, 0x5e8b, 0x1, 0x1);
        gbc.writeMem(0xa004, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x9fa7);
        EXPECT(gbc.pc(), 0xa006);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa004), 0xcb);
        EXPECT(gbc.readMem(0xa005), 0x24);
        // CB 24 017F
        gbc.setState(0xecc2, 0x1f49, 0x59a0, 0xd3f8, 0x5d22, 0xcdba, 0x1, 0x1);
        gbc.writeMem(0xecc2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x1f49);
        EXPECT(gbc.pc(), 0xecc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecc2), 0xcb);
        EXPECT(gbc.readMem(0xecc3), 0x24);
        // CB 24 0180
        gbc.setState(0xd2c1, 0xdb0f, 0xdc80, 0xfdb3, 0xd041, 0x43fb, 0x1, 0x0);
        gbc.writeMem(0xd2c1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xdb0f);
        EXPECT(gbc.pc(), 0xd2c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2c1), 0xcb);
        EXPECT(gbc.readMem(0xd2c2), 0x24);
        // CB 24 0181
        gbc.setState(0x2d07, 0xa9b9, 0x3f50, 0xeab5, 0x328b, 0xeaa9, 0x1, 0x1);
        gbc.writeMem(0x2d07, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xa9b9);
        EXPECT(gbc.pc(), 0x2d09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0182
        gbc.setState(0x5b66, 0x620d, 0x500, 0xf5e2, 0xaf42, 0xb57e, 0x1, 0x1);
        gbc.writeMem(0x5b66, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x620d);
        EXPECT(gbc.pc(), 0x5b68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0183
        gbc.setState(0x4def, 0x6f56, 0x77a0, 0xcfe6, 0x613e, 0x6582, 0x1, 0x0);
        gbc.writeMem(0x4def, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x6f56);
        EXPECT(gbc.pc(), 0x4df1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0185
        gbc.setState(0xebc5, 0x6e85, 0x4940, 0x4767, 0xa2e0, 0x83d4, 0x1, 0x1);
        gbc.writeMem(0xebc5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x6e85);
        EXPECT(gbc.pc(), 0xebc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebc5), 0xcb);
        EXPECT(gbc.readMem(0xebc6), 0x24);
        // CB 24 0186
        gbc.setState(0xcef6, 0x1d39, 0xd330, 0x26a2, 0xc444, 0xe6d9, 0x1, 0x1);
        gbc.writeMem(0xcef6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x1d39);
        EXPECT(gbc.pc(), 0xcef8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcef6), 0xcb);
        EXPECT(gbc.readMem(0xcef7), 0x24);
        // CB 24 0187
        gbc.setState(0x55f7, 0x1c34, 0xa850, 0x3ba, 0xc4cb, 0x7b06, 0x1, 0x0);
        gbc.writeMem(0x55f7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x1c34);
        EXPECT(gbc.pc(), 0x55f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0188
        gbc.setState(0x1863, 0x1f04, 0x15b0, 0xda9f, 0x7119, 0x10d2, 0x0, 0x1);
        gbc.writeMem(0x1863, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x1f04);
        EXPECT(gbc.pc(), 0x1865);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0189
        gbc.setState(0xcdb2, 0x3db1, 0x5570, 0xb884, 0x35e1, 0xaa94, 0x1, 0x0);
        gbc.writeMem(0xcdb2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x3db1);
        EXPECT(gbc.pc(), 0xcdb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdb2), 0xcb);
        EXPECT(gbc.readMem(0xcdb3), 0x24);
        // CB 24 018A
        gbc.setState(0x59a1, 0x682a, 0x4220, 0xa6a1, 0xded1, 0xd77f, 0x1, 0x0);
        gbc.writeMem(0x59a1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x682a);
        EXPECT(gbc.pc(), 0x59a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 018B
        gbc.setState(0x6b2e, 0xbc75, 0x9d0, 0x861e, 0xdad0, 0xfafe, 0x1, 0x0);
        gbc.writeMem(0x6b2e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xbc75);
        EXPECT(gbc.pc(), 0x6b30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 018C
        gbc.setState(0xc89e, 0xe010, 0x1b40, 0x978d, 0xbaac, 0x4ff4, 0x0, 0x0);
        gbc.writeMem(0xc89e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xe010);
        EXPECT(gbc.pc(), 0xc8a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc89e), 0xcb);
        EXPECT(gbc.readMem(0xc89f), 0x24);
        // CB 24 018D
        gbc.setState(0x9658, 0x4a80, 0x3570, 0xa35b, 0xb35a, 0xe05, 0x0, 0x0);
        gbc.writeMem(0x9658, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x4a80);
        EXPECT(gbc.pc(), 0x965a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9658), 0xcb);
        EXPECT(gbc.readMem(0x9659), 0x24);
        // CB 24 018E
        gbc.setState(0xe1e0, 0x4b34, 0x4620, 0xd384, 0x4561, 0x1ad8, 0x0, 0x0);
        gbc.writeMem(0xe1e0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x4b34);
        EXPECT(gbc.pc(), 0xe1e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1e0), 0xcb);
        EXPECT(gbc.readMem(0xe1e1), 0x24);
        // CB 24 0190
        gbc.setState(0x725a, 0xf3e4, 0x4aa0, 0x8971, 0xd0c9, 0x24b1, 0x1, 0x1);
        gbc.writeMem(0x725a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xf3e4);
        EXPECT(gbc.pc(), 0x725c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0191
        gbc.setState(0x1d22, 0xf843, 0x7e40, 0x522, 0xd00b, 0xa53e, 0x1, 0x0);
        gbc.writeMem(0x1d22, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xf843);
        EXPECT(gbc.pc(), 0x1d24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0192
        gbc.setState(0x8e4, 0xfb72, 0xb230, 0xbfd4, 0x454f, 0xfa70, 0x0, 0x0);
        gbc.writeMem(0x8e4, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xfb72);
        EXPECT(gbc.pc(), 0x8e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0193
        gbc.setState(0x841b, 0x4c46, 0x9430, 0xcb, 0x463e, 0xbdf3, 0x0, 0x1);
        gbc.writeMem(0x841b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x4c46);
        EXPECT(gbc.pc(), 0x841d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x841b), 0xcb);
        EXPECT(gbc.readMem(0x841c), 0x24);
        // CB 24 0194
        gbc.setState(0x5f48, 0x67c2, 0x9b10, 0xebe9, 0x7a32, 0xe8f6, 0x1, 0x0);
        gbc.writeMem(0x5f48, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x67c2);
        EXPECT(gbc.pc(), 0x5f4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0195
        gbc.setState(0x35a, 0xaeb, 0xf300, 0xa4f6, 0xe415, 0x35bf, 0x1, 0x1);
        gbc.writeMem(0x35a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xaeb);
        EXPECT(gbc.pc(), 0x35c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0196
        gbc.setState(0x786b, 0xd242, 0xd520, 0x6f4c, 0xb2e8, 0x8e60, 0x0, 0x1);
        gbc.writeMem(0x786b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xd242);
        EXPECT(gbc.pc(), 0x786d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0197
        gbc.setState(0xdc5d, 0xef51, 0x3dc0, 0x4d56, 0x2d56, 0xe71, 0x1, 0x0);
        gbc.writeMem(0xdc5d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xef51);
        EXPECT(gbc.pc(), 0xdc5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc5d), 0xcb);
        EXPECT(gbc.readMem(0xdc5e), 0x24);
        // CB 24 0198
        gbc.setState(0x4fca, 0x4dcb, 0x8a70, 0xbe36, 0x243d, 0xb9bc, 0x1, 0x0);
        gbc.writeMem(0x4fca, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x4dcb);
        EXPECT(gbc.pc(), 0x4fcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0199
        gbc.setState(0x8e6a, 0x80fd, 0x1500, 0x8929, 0x85c4, 0x4e90, 0x0, 0x0);
        gbc.writeMem(0x8e6a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x80fd);
        EXPECT(gbc.pc(), 0x8e6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e6a), 0xcb);
        EXPECT(gbc.readMem(0x8e6b), 0x24);
        // CB 24 019A
        gbc.setState(0x2297, 0x7040, 0xab20, 0x5b95, 0xceba, 0x1a23, 0x1, 0x0);
        gbc.writeMem(0x2297, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x7040);
        EXPECT(gbc.pc(), 0x2299);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 019B
        gbc.setState(0x993, 0x84f6, 0x4300, 0x97e3, 0x7679, 0xf14, 0x0, 0x0);
        gbc.writeMem(0x993, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x84f6);
        EXPECT(gbc.pc(), 0x995);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 019C
        gbc.setState(0x2f6a, 0xc634, 0xa100, 0x3a4a, 0xcc34, 0xe981, 0x0, 0x0);
        gbc.writeMem(0x2f6a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xc634);
        EXPECT(gbc.pc(), 0x2f6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 019D
        gbc.setState(0x8724, 0xd44c, 0xb980, 0xfd80, 0x1ed, 0x7e76, 0x1, 0x1);
        gbc.writeMem(0x8724, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xd44c);
        EXPECT(gbc.pc(), 0x8726);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8724), 0xcb);
        EXPECT(gbc.readMem(0x8725), 0x24);
        // CB 24 019E
        gbc.setState(0x62e2, 0xfce3, 0x8460, 0xd675, 0x9b81, 0x2384, 0x0, 0x1);
        gbc.writeMem(0x62e2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xfce3);
        EXPECT(gbc.pc(), 0x62e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 019F
        gbc.setState(0x7580, 0xaa17, 0x9cf0, 0xc14a, 0x787b, 0xd064, 0x0, 0x1);
        gbc.writeMem(0x7580, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xaa17);
        EXPECT(gbc.pc(), 0x7582);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01A0
        gbc.setState(0xc27a, 0xa83b, 0xd0b0, 0x5496, 0xfbfb, 0xc9f7, 0x0, 0x1);
        gbc.writeMem(0xc27a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa83b);
        EXPECT(gbc.pc(), 0xc27c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc27a), 0xcb);
        EXPECT(gbc.readMem(0xc27b), 0x24);
        // CB 24 01A1
        gbc.setState(0xe8bf, 0x8fb7, 0xa7e0, 0xccca, 0xa380, 0x61d8, 0x0, 0x0);
        gbc.writeMem(0xe8bf, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x8fb7);
        EXPECT(gbc.pc(), 0xe8c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8bf), 0xcb);
        EXPECT(gbc.readMem(0xe8c0), 0x24);
        // CB 24 01A2
        gbc.setState(0x6004, 0xa88f, 0x4580, 0x1179, 0x152a, 0xe3a4, 0x1, 0x1);
        gbc.writeMem(0x6004, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xa88f);
        EXPECT(gbc.pc(), 0x6006);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01A3
        gbc.setState(0x65f8, 0x8e07, 0x4010, 0xb36b, 0xe127, 0x7c24, 0x0, 0x0);
        gbc.writeMem(0x65f8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x8e07);
        EXPECT(gbc.pc(), 0x65fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01A4
        gbc.setState(0x1ae7, 0xa658, 0x5380, 0xd493, 0x56bf, 0x2822, 0x0, 0x1);
        gbc.writeMem(0x1ae7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xa658);
        EXPECT(gbc.pc(), 0x1ae9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01A5
        gbc.setState(0xd4bc, 0xe4cf, 0x9e40, 0xd471, 0x6107, 0x2ed0, 0x1, 0x0);
        gbc.writeMem(0xd4bc, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xe4cf);
        EXPECT(gbc.pc(), 0xd4be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4bc), 0xcb);
        EXPECT(gbc.readMem(0xd4bd), 0x24);
        // CB 24 01A6
        gbc.setState(0xe898, 0xb965, 0x6070, 0xee30, 0x5eb9, 0x76c3, 0x0, 0x1);
        gbc.writeMem(0xe898, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xb965);
        EXPECT(gbc.pc(), 0xe89a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe898), 0xcb);
        EXPECT(gbc.readMem(0xe899), 0x24);
        // CB 24 01A7
        gbc.setState(0x17e, 0x3300, 0x1a60, 0x49e3, 0xb998, 0x91be, 0x1, 0x1);
        gbc.writeMem(0x17e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x3300);
        EXPECT(gbc.pc(), 0x180);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01A8
        gbc.setState(0x70ca, 0x3ee3, 0x93f0, 0x83b5, 0x66be, 0x2db6, 0x0, 0x0);
        gbc.writeMem(0x70ca, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x3ee3);
        EXPECT(gbc.pc(), 0x70cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01A9
        gbc.setState(0xcc2e, 0xbed2, 0x66d0, 0x3c50, 0xfbdc, 0xa675, 0x1, 0x0);
        gbc.writeMem(0xcc2e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xbed2);
        EXPECT(gbc.pc(), 0xcc30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc2e), 0xcb);
        EXPECT(gbc.readMem(0xcc2f), 0x24);
        // CB 24 01AA
        gbc.setState(0x86e9, 0xdac2, 0x67d0, 0x8281, 0x569a, 0x22f2, 0x0, 0x0);
        gbc.writeMem(0x86e9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xdac2);
        EXPECT(gbc.pc(), 0x86eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86e9), 0xcb);
        EXPECT(gbc.readMem(0x86ea), 0x24);
        // CB 24 01AB
        gbc.setState(0x8568, 0x4d5b, 0x9680, 0x9fff, 0xb105, 0x1812, 0x0, 0x1);
        gbc.writeMem(0x8568, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x4d5b);
        EXPECT(gbc.pc(), 0x856a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8568), 0xcb);
        EXPECT(gbc.readMem(0x8569), 0x24);
        // CB 24 01AC
        gbc.setState(0x16a8, 0xfdab, 0xd210, 0xe371, 0x7197, 0x82b1, 0x1, 0x1);
        gbc.writeMem(0x16a8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xfdab);
        EXPECT(gbc.pc(), 0x16aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01AD
        gbc.setState(0x4ef0, 0x7501, 0xf550, 0x6328, 0xae7b, 0x47c7, 0x0, 0x0);
        gbc.writeMem(0x4ef0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x7501);
        EXPECT(gbc.pc(), 0x4ef2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01AE
        gbc.setState(0x87e6, 0x33cb, 0xc2d0, 0x6593, 0xcf00, 0xa3c, 0x1, 0x1);
        gbc.writeMem(0x87e6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x33cb);
        EXPECT(gbc.pc(), 0x87e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87e6), 0xcb);
        EXPECT(gbc.readMem(0x87e7), 0x24);
        // CB 24 01AF
        gbc.setState(0x7d6f, 0xff56, 0x8d80, 0x9d7a, 0xe8c5, 0xa873, 0x1, 0x1);
        gbc.writeMem(0x7d6f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xff56);
        EXPECT(gbc.pc(), 0x7d71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01B0
        gbc.setState(0x4942, 0x4064, 0xf5a0, 0x128a, 0x3c7c, 0xa26f, 0x1, 0x0);
        gbc.writeMem(0x4942, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x4064);
        EXPECT(gbc.pc(), 0x4944);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01B1
        gbc.setState(0xbbf0, 0x3748, 0xc10, 0x9c85, 0x3ca1, 0x7f88, 0x1, 0x1);
        gbc.writeMem(0xbbf0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x3748);
        EXPECT(gbc.pc(), 0xbbf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbf0), 0xcb);
        EXPECT(gbc.readMem(0xbbf1), 0x24);
        // CB 24 01B2
        gbc.setState(0xa3f1, 0x381d, 0xdfb0, 0x7351, 0x5442, 0x3c52, 0x1, 0x1);
        gbc.writeMem(0xa3f1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x381d);
        EXPECT(gbc.pc(), 0xa3f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3f1), 0xcb);
        EXPECT(gbc.readMem(0xa3f2), 0x24);
        // CB 24 01B4
        gbc.setState(0xdea0, 0x4310, 0x4660, 0x9e26, 0x3211, 0xcbcb, 0x0, 0x0);
        gbc.writeMem(0xdea0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x4310);
        EXPECT(gbc.pc(), 0xdea2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdea0), 0xcb);
        EXPECT(gbc.readMem(0xdea1), 0x24);
        // CB 24 01B5
        gbc.setState(0xa10f, 0xd1c5, 0xed30, 0xc45, 0xf890, 0x6fbc, 0x1, 0x0);
        gbc.writeMem(0xa10f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd1c5);
        EXPECT(gbc.pc(), 0xa111);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa10f), 0xcb);
        EXPECT(gbc.readMem(0xa110), 0x24);
        // CB 24 01B6
        gbc.setState(0xd29d, 0x2f41, 0xc380, 0xdfce, 0x79d9, 0xda79, 0x0, 0x1);
        gbc.writeMem(0xd29d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x2f41);
        EXPECT(gbc.pc(), 0xd29f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd29d), 0xcb);
        EXPECT(gbc.readMem(0xd29e), 0x24);
        // CB 24 01B7
        gbc.setState(0x504b, 0x61e2, 0x2d10, 0xe92f, 0x59bc, 0x8607, 0x1, 0x0);
        gbc.writeMem(0x504b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x61e2);
        EXPECT(gbc.pc(), 0x504d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01B8
        gbc.setState(0xe854, 0xbf56, 0x92a0, 0x90f3, 0x1cc, 0xa9d5, 0x0, 0x1);
        gbc.writeMem(0xe854, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xbf56);
        EXPECT(gbc.pc(), 0xe856);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe854), 0xcb);
        EXPECT(gbc.readMem(0xe855), 0x24);
        // CB 24 01B9
        gbc.setState(0xde89, 0x3753, 0x62b0, 0x6ae4, 0xc527, 0xde1d, 0x0, 0x0);
        gbc.writeMem(0xde89, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x3753);
        EXPECT(gbc.pc(), 0xde8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde89), 0xcb);
        EXPECT(gbc.readMem(0xde8a), 0x24);
        // CB 24 01BA
        gbc.setState(0x2b9b, 0x1faa, 0x90f0, 0x881c, 0x2ef2, 0x2f7f, 0x1, 0x0);
        gbc.writeMem(0x2b9b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x1faa);
        EXPECT(gbc.pc(), 0x2b9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01BB
        gbc.setState(0x2ed2, 0xe673, 0x1420, 0xe34c, 0x62d0, 0x58c6, 0x1, 0x0);
        gbc.writeMem(0x2ed2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xe673);
        EXPECT(gbc.pc(), 0x2ed4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01BC
        gbc.setState(0x3c2b, 0x78a0, 0xfe40, 0x2d75, 0xfef9, 0xdd8f, 0x0, 0x1);
        gbc.writeMem(0x3c2b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x78a0);
        EXPECT(gbc.pc(), 0x3c2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01BD
        gbc.setState(0xa905, 0x4293, 0x1420, 0xf50c, 0x2f5, 0x2313, 0x0, 0x0);
        gbc.writeMem(0xa905, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x4293);
        EXPECT(gbc.pc(), 0xa907);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa905), 0xcb);
        EXPECT(gbc.readMem(0xa906), 0x24);
        // CB 24 01BE
        gbc.setState(0x60c2, 0x19b2, 0x7350, 0x6388, 0x55da, 0xfc8, 0x1, 0x1);
        gbc.writeMem(0x60c2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x19b2);
        EXPECT(gbc.pc(), 0x60c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01BF
        gbc.setState(0xc80e, 0x59be, 0x26d0, 0xf010, 0xb805, 0xf32f, 0x0, 0x1);
        gbc.writeMem(0xc80e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x59be);
        EXPECT(gbc.pc(), 0xc810);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc80e), 0xcb);
        EXPECT(gbc.readMem(0xc80f), 0x24);
        // CB 24 01C0
        gbc.setState(0x5425, 0x2d36, 0x5e30, 0xff54, 0x84c9, 0xaefc, 0x1, 0x0);
        gbc.writeMem(0x5425, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x2d36);
        EXPECT(gbc.pc(), 0x5427);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01C1
        gbc.setState(0x34e6, 0xb882, 0x3390, 0x75e5, 0xb8b7, 0x9607, 0x0, 0x0);
        gbc.writeMem(0x34e6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xb882);
        EXPECT(gbc.pc(), 0x34e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01C2
        gbc.setState(0x6b57, 0x179d, 0x9ef0, 0x6ae1, 0xacac, 0xafff, 0x1, 0x1);
        gbc.writeMem(0x6b57, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x179d);
        EXPECT(gbc.pc(), 0x6b59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01C3
        gbc.setState(0x29f6, 0xa949, 0x3b0, 0xfccf, 0xb3b4, 0x8b01, 0x1, 0x0);
        gbc.writeMem(0x29f6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xa949);
        EXPECT(gbc.pc(), 0x29f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01C4
        gbc.setState(0xab82, 0xb8f9, 0x62f0, 0xe783, 0x187f, 0x9b46, 0x0, 0x1);
        gbc.writeMem(0xab82, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xb8f9);
        EXPECT(gbc.pc(), 0xab84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab82), 0xcb);
        EXPECT(gbc.readMem(0xab83), 0x24);
        // CB 24 01C5
        gbc.setState(0x6420, 0x33f8, 0xae60, 0xa2ec, 0x83d2, 0xcbaf, 0x0, 0x0);
        gbc.writeMem(0x6420, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x33f8);
        EXPECT(gbc.pc(), 0x6422);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01C6
        gbc.setState(0xb1a7, 0x7d4a, 0x9160, 0x6414, 0x26c1, 0xb7a2, 0x0, 0x0);
        gbc.writeMem(0xb1a7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x7d4a);
        EXPECT(gbc.pc(), 0xb1a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1a7), 0xcb);
        EXPECT(gbc.readMem(0xb1a8), 0x24);
        // CB 24 01C7
        gbc.setState(0x2030, 0xcd9b, 0x1b60, 0xa281, 0x7693, 0x2099, 0x1, 0x1);
        gbc.writeMem(0x2030, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xcd9b);
        EXPECT(gbc.pc(), 0x2032);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01C8
        gbc.setState(0xb4e7, 0x5a1b, 0xb240, 0xb4eb, 0x53c8, 0xedbb, 0x1, 0x0);
        gbc.writeMem(0xb4e7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x5a1b);
        EXPECT(gbc.pc(), 0xb4e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4e7), 0xcb);
        EXPECT(gbc.readMem(0xb4e8), 0x24);
        // CB 24 01CA
        gbc.setState(0x2d4d, 0xa5fb, 0x400, 0xc53e, 0xe079, 0x11c3, 0x0, 0x0);
        gbc.writeMem(0x2d4d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xa5fb);
        EXPECT(gbc.pc(), 0x2d4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01CB
        gbc.setState(0x16e, 0x74ec, 0x10e0, 0xed58, 0x7109, 0xfc0f, 0x0, 0x0);
        gbc.writeMem(0x16e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x74ec);
        EXPECT(gbc.pc(), 0x170);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01CC
        gbc.setState(0x2135, 0xc8de, 0x2f80, 0xcc71, 0xfea9, 0xc3bc, 0x0, 0x0);
        gbc.writeMem(0x2135, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xc8de);
        EXPECT(gbc.pc(), 0x2137);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01CD
        gbc.setState(0xb08a, 0xd7c9, 0xd3e0, 0xa49e, 0xc3f, 0x3cde, 0x1, 0x0);
        gbc.writeMem(0xb08a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xd7c9);
        EXPECT(gbc.pc(), 0xb08c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb08a), 0xcb);
        EXPECT(gbc.readMem(0xb08b), 0x24);
        // CB 24 01CE
        gbc.setState(0xa3b3, 0xf455, 0x5b20, 0x3769, 0x17d1, 0x2a58, 0x0, 0x1);
        gbc.writeMem(0xa3b3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xf455);
        EXPECT(gbc.pc(), 0xa3b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3b3), 0xcb);
        EXPECT(gbc.readMem(0xa3b4), 0x24);
        // CB 24 01CF
        gbc.setState(0x8faf, 0x5550, 0xa3a0, 0x7c86, 0xc215, 0xbf06, 0x0, 0x1);
        gbc.writeMem(0x8faf, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x5550);
        EXPECT(gbc.pc(), 0x8fb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8faf), 0xcb);
        EXPECT(gbc.readMem(0x8fb0), 0x24);
        // CB 24 01D0
        gbc.setState(0xb590, 0x3214, 0xbd0, 0xb62b, 0x2b31, 0x50a, 0x0, 0x0);
        gbc.writeMem(0xb590, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x3214);
        EXPECT(gbc.pc(), 0xb592);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb590), 0xcb);
        EXPECT(gbc.readMem(0xb591), 0x24);
        // CB 24 01D1
        gbc.setState(0x4a16, 0xf9ed, 0xbc10, 0xd62b, 0x20d0, 0x584b, 0x1, 0x1);
        gbc.writeMem(0x4a16, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xf9ed);
        EXPECT(gbc.pc(), 0x4a18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01D2
        gbc.setState(0xb4df, 0xa809, 0x9080, 0x9fb7, 0xe41a, 0xcfbc, 0x0, 0x1);
        gbc.writeMem(0xb4df, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xa809);
        EXPECT(gbc.pc(), 0xb4e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4df), 0xcb);
        EXPECT(gbc.readMem(0xb4e0), 0x24);
        // CB 24 01D3
        gbc.setState(0x9de7, 0xc209, 0x8730, 0x25a7, 0x2c89, 0xf3c0, 0x0, 0x0);
        gbc.writeMem(0x9de7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xc209);
        EXPECT(gbc.pc(), 0x9de9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9de7), 0xcb);
        EXPECT(gbc.readMem(0x9de8), 0x24);
        // CB 24 01D4
        gbc.setState(0x5f42, 0x5b8f, 0x7dc0, 0x9e9f, 0x2c2b, 0x7bd3, 0x0, 0x0);
        gbc.writeMem(0x5f42, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x5b8f);
        EXPECT(gbc.pc(), 0x5f44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01D5
        gbc.setState(0xd025, 0xe745, 0xc070, 0x2a0a, 0xb50d, 0x42e7, 0x0, 0x0);
        gbc.writeMem(0xd025, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xe745);
        EXPECT(gbc.pc(), 0xd027);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd025), 0xcb);
        EXPECT(gbc.readMem(0xd026), 0x24);
        // CB 24 01D6
        gbc.setState(0x3d86, 0x3107, 0xa50, 0xadac, 0xbf59, 0x6225, 0x0, 0x0);
        gbc.writeMem(0x3d86, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x3107);
        EXPECT(gbc.pc(), 0x3d88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01D7
        gbc.setState(0xd383, 0xf371, 0x4590, 0x9b33, 0x5eea, 0x9135, 0x0, 0x0);
        gbc.writeMem(0xd383, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xf371);
        EXPECT(gbc.pc(), 0xd385);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd383), 0xcb);
        EXPECT(gbc.readMem(0xd384), 0x24);
        // CB 24 01D8
        gbc.setState(0xe794, 0xc097, 0x91a0, 0x9482, 0x15f5, 0x7323, 0x1, 0x1);
        gbc.writeMem(0xe794, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xc097);
        EXPECT(gbc.pc(), 0xe796);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe794), 0xcb);
        EXPECT(gbc.readMem(0xe795), 0x24);
        // CB 24 01D9
        gbc.setState(0x15c8, 0x1ee9, 0xb2c0, 0xe22, 0x744d, 0x4b38, 0x0, 0x1);
        gbc.writeMem(0x15c8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x1ee9);
        EXPECT(gbc.pc(), 0x15ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01DA
        gbc.setState(0xb612, 0xfead, 0x9a40, 0x70c2, 0x8d7f, 0x3bee, 0x1, 0x1);
        gbc.writeMem(0xb612, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xfead);
        EXPECT(gbc.pc(), 0xb614);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb612), 0xcb);
        EXPECT(gbc.readMem(0xb613), 0x24);
        // CB 24 01DB
        gbc.setState(0x8193, 0xb0e9, 0xe030, 0x6710, 0xf2f5, 0xedce, 0x0, 0x1);
        gbc.writeMem(0x8193, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xb0e9);
        EXPECT(gbc.pc(), 0x8195);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8193), 0xcb);
        EXPECT(gbc.readMem(0x8194), 0x24);
        // CB 24 01DC
        gbc.setState(0xe76b, 0x56, 0x6090, 0x5253, 0x6604, 0x23c0, 0x1, 0x0);
        gbc.writeMem(0xe76b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x56);
        EXPECT(gbc.pc(), 0xe76d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe76b), 0xcb);
        EXPECT(gbc.readMem(0xe76c), 0x24);
        // CB 24 01DD
        gbc.setState(0xac69, 0x84f8, 0xddd0, 0x7da5, 0xf6b, 0x6c4, 0x0, 0x0);
        gbc.writeMem(0xac69, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x84f8);
        EXPECT(gbc.pc(), 0xac6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac69), 0xcb);
        EXPECT(gbc.readMem(0xac6a), 0x24);
        // CB 24 01DE
        gbc.setState(0x58c8, 0x63f4, 0x5380, 0x8462, 0xc257, 0xc9bb, 0x1, 0x1);
        gbc.writeMem(0x58c8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x63f4);
        EXPECT(gbc.pc(), 0x58ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01DF
        gbc.setState(0xe7a, 0xe2e3, 0x7360, 0x541a, 0xc4df, 0x365a, 0x0, 0x1);
        gbc.writeMem(0xe7a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xe2e3);
        EXPECT(gbc.pc(), 0xe7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01E0
        gbc.setState(0x999a, 0xf0ed, 0x4600, 0xeae1, 0x4424, 0x3259, 0x1, 0x0);
        gbc.writeMem(0x999a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xf0ed);
        EXPECT(gbc.pc(), 0x999c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x999a), 0xcb);
        EXPECT(gbc.readMem(0x999b), 0x24);
        // CB 24 01E1
        gbc.setState(0xa845, 0x3e95, 0x9a60, 0x771d, 0x72d6, 0xab82, 0x0, 0x1);
        gbc.writeMem(0xa845, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x3e95);
        EXPECT(gbc.pc(), 0xa847);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa845), 0xcb);
        EXPECT(gbc.readMem(0xa846), 0x24);
        // CB 24 01E2
        gbc.setState(0x91b1, 0x4db3, 0x23f0, 0x4fd3, 0xbccb, 0xddb7, 0x1, 0x1);
        gbc.writeMem(0x91b1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x4db3);
        EXPECT(gbc.pc(), 0x91b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91b1), 0xcb);
        EXPECT(gbc.readMem(0x91b2), 0x24);
        // CB 24 01E3
        gbc.setState(0xcff7, 0xb9a3, 0xedf0, 0x8680, 0xb73b, 0x4684, 0x0, 0x0);
        gbc.writeMem(0xcff7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xb9a3);
        EXPECT(gbc.pc(), 0xcff9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcff7), 0xcb);
        EXPECT(gbc.readMem(0xcff8), 0x24);
        // CB 24 01E4
        gbc.setState(0x482f, 0x6735, 0x60a0, 0x58fc, 0x3853, 0x39db, 0x0, 0x0);
        gbc.writeMem(0x482f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x6735);
        EXPECT(gbc.pc(), 0x4831);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01E6
        gbc.setState(0x966a, 0x4997, 0xb940, 0xa033, 0x360b, 0x6dd2, 0x1, 0x1);
        gbc.writeMem(0x966a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x4997);
        EXPECT(gbc.pc(), 0x966c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x966a), 0xcb);
        EXPECT(gbc.readMem(0x966b), 0x24);
        // CB 24 01E7
        gbc.setState(0x96f7, 0xa2fc, 0xfbc0, 0x4e2e, 0xdc03, 0x2b85, 0x0, 0x0);
        gbc.writeMem(0x96f7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xa2fc);
        EXPECT(gbc.pc(), 0x96f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96f7), 0xcb);
        EXPECT(gbc.readMem(0x96f8), 0x24);
        // CB 24 01E8
        gbc.setState(0xd4cc, 0x767d, 0x4ff0, 0x46b3, 0xaa13, 0xc326, 0x1, 0x0);
        gbc.writeMem(0xd4cc, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x767d);
        EXPECT(gbc.pc(), 0xd4ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4cc), 0xcb);
        EXPECT(gbc.readMem(0xd4cd), 0x24);
        // CB 24 01E9
        gbc.setState(0x23c5, 0x1cbc, 0x6ed0, 0x174f, 0x1da3, 0x64d1, 0x0, 0x1);
        gbc.writeMem(0x23c5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x1cbc);
        EXPECT(gbc.pc(), 0x23c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01EA
        gbc.setState(0x824e, 0x523d, 0x4ea0, 0xaf02, 0xd9cb, 0x216a, 0x0, 0x1);
        gbc.writeMem(0x824e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x523d);
        EXPECT(gbc.pc(), 0x8250);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x824e), 0xcb);
        EXPECT(gbc.readMem(0x824f), 0x24);
        // CB 24 01EB
        gbc.setState(0xda41, 0x928b, 0xba70, 0x5c4b, 0xd83c, 0x7690, 0x0, 0x0);
        gbc.writeMem(0xda41, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x928b);
        EXPECT(gbc.pc(), 0xda43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda41), 0xcb);
        EXPECT(gbc.readMem(0xda42), 0x24);
        // CB 24 01EC
        gbc.setState(0x4e0a, 0x387e, 0x84c0, 0x7b39, 0xbe74, 0x67c2, 0x0, 0x1);
        gbc.writeMem(0x4e0a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x387e);
        EXPECT(gbc.pc(), 0x4e0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01ED
        gbc.setState(0x31f8, 0x5487, 0xbe50, 0x4322, 0x46df, 0x90e1, 0x1, 0x0);
        gbc.writeMem(0x31f8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x5487);
        EXPECT(gbc.pc(), 0x31fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01EE
        gbc.setState(0x4cec, 0xa92a, 0x92c0, 0x7185, 0xf492, 0xbdf, 0x0, 0x0);
        gbc.writeMem(0x4cec, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xa92a);
        EXPECT(gbc.pc(), 0x4cee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01EF
        gbc.setState(0xc011, 0x4eff, 0x9450, 0x4c69, 0xd222, 0xf4ab, 0x0, 0x1);
        gbc.writeMem(0xc011, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x4eff);
        EXPECT(gbc.pc(), 0xc013);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc011), 0xcb);
        EXPECT(gbc.readMem(0xc012), 0x24);
        // CB 24 01F0
        gbc.setState(0x8155, 0x17a4, 0xc440, 0x517a, 0x8a39, 0xee1d, 0x1, 0x0);
        gbc.writeMem(0x8155, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x17a4);
        EXPECT(gbc.pc(), 0x8157);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8155), 0xcb);
        EXPECT(gbc.readMem(0x8156), 0x24);
        // CB 24 01F1
        gbc.setState(0xbf03, 0xd16a, 0x1a90, 0x1a2a, 0xdf4a, 0xf5cb, 0x1, 0x1);
        gbc.writeMem(0xbf03, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xd16a);
        EXPECT(gbc.pc(), 0xbf05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf03), 0xcb);
        EXPECT(gbc.readMem(0xbf04), 0x24);
        // CB 24 01F2
        gbc.setState(0xde08, 0x2da1, 0x8670, 0x8b8e, 0x7c20, 0xe6e1, 0x1, 0x0);
        gbc.writeMem(0xde08, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x2da1);
        EXPECT(gbc.pc(), 0xde0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde08), 0xcb);
        EXPECT(gbc.readMem(0xde09), 0x24);
        // CB 24 01F3
        gbc.setState(0x3b04, 0xb7b8, 0x8000, 0x67a0, 0xae6d, 0xaa0e, 0x1, 0x0);
        gbc.writeMem(0x3b04, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xb7b8);
        EXPECT(gbc.pc(), 0x3b06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01F4
        gbc.setState(0x8443, 0xfef5, 0x1050, 0xbb3d, 0xe9bc, 0xe4b7, 0x1, 0x1);
        gbc.writeMem(0x8443, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xfef5);
        EXPECT(gbc.pc(), 0x8445);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8443), 0xcb);
        EXPECT(gbc.readMem(0x8444), 0x24);
        // CB 24 01F5
        gbc.setState(0xda0a, 0x9739, 0x5770, 0xd8e3, 0x14b1, 0xaddc, 0x0, 0x1);
        gbc.writeMem(0xda0a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x9739);
        EXPECT(gbc.pc(), 0xda0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda0a), 0xcb);
        EXPECT(gbc.readMem(0xda0b), 0x24);
        // CB 24 01F6
        gbc.setState(0x3c31, 0x83da, 0x76b0, 0x9df2, 0xf37c, 0x3200, 0x1, 0x1);
        gbc.writeMem(0x3c31, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x83da);
        EXPECT(gbc.pc(), 0x3c33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01F7
        gbc.setState(0xb299, 0xbcb, 0xf690, 0x70af, 0x366a, 0xeb2, 0x0, 0x0);
        gbc.writeMem(0xb299, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xbcb);
        EXPECT(gbc.pc(), 0xb29b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb299), 0xcb);
        EXPECT(gbc.readMem(0xb29a), 0x24);
        // CB 24 01F9
        gbc.setState(0x17d2, 0x5911, 0x11f0, 0xb8db, 0x34ed, 0x83c2, 0x0, 0x0);
        gbc.writeMem(0x17d2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x5911);
        EXPECT(gbc.pc(), 0x17d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01FA
        gbc.setState(0x5aed, 0xed9, 0xfab0, 0x2fad, 0x7cd1, 0x8013, 0x1, 0x1);
        gbc.writeMem(0x5aed, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xed9);
        EXPECT(gbc.pc(), 0x5aef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01FB
        gbc.setState(0x8bf1, 0x476f, 0x4350, 0xa1f7, 0xefb, 0x6d36, 0x1, 0x1);
        gbc.writeMem(0x8bf1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x476f);
        EXPECT(gbc.pc(), 0x8bf3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bf1), 0xcb);
        EXPECT(gbc.readMem(0x8bf2), 0x24);
        // CB 24 01FC
        gbc.setState(0x251d, 0x23fd, 0xb790, 0x265c, 0x3788, 0xb73e, 0x1, 0x0);
        gbc.writeMem(0x251d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x23fd);
        EXPECT(gbc.pc(), 0x251f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 01FD
        gbc.setState(0x4f7d, 0x7741, 0x2340, 0x66f, 0x23c3, 0x2a73, 0x0, 0x0);
        gbc.writeMem(0x4f7d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x7741);
        EXPECT(gbc.pc(), 0x4f7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 01FE
        gbc.setState(0x857c, 0x56ae, 0x6c50, 0x3580, 0x49b, 0xe2b2, 0x1, 0x0);
        gbc.writeMem(0x857c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x56ae);
        EXPECT(gbc.pc(), 0x857e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x857c), 0xcb);
        EXPECT(gbc.readMem(0x857d), 0x24);
        // CB 24 01FF
        gbc.setState(0xad15, 0x3ef, 0x2cc0, 0x4ed5, 0x857e, 0x3427, 0x1, 0x0);
        gbc.writeMem(0xad15, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x3ef);
        EXPECT(gbc.pc(), 0xad17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad15), 0xcb);
        EXPECT(gbc.readMem(0xad16), 0x24);
        // CB 24 0202
        gbc.setState(0x7785, 0x4e55, 0xf0e0, 0x1057, 0xdaed, 0x53ce, 0x0, 0x1);
        gbc.writeMem(0x7785, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x4e55);
        EXPECT(gbc.pc(), 0x7787);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0203
        gbc.setState(0xbd58, 0xd30, 0xfb90, 0xdf27, 0x8cb, 0x80d0, 0x0, 0x0);
        gbc.writeMem(0xbd58, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xd30);
        EXPECT(gbc.pc(), 0xbd5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd58), 0xcb);
        EXPECT(gbc.readMem(0xbd59), 0x24);
        // CB 24 0204
        gbc.setState(0xb975, 0xbb8d, 0x64a0, 0xf3d3, 0x47ee, 0x6d8a, 0x1, 0x1);
        gbc.writeMem(0xb975, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xbb8d);
        EXPECT(gbc.pc(), 0xb977);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb975), 0xcb);
        EXPECT(gbc.readMem(0xb976), 0x24);
        // CB 24 0205
        gbc.setState(0x261a, 0xa192, 0x2b20, 0x26c9, 0x2e00, 0x9907, 0x1, 0x1);
        gbc.writeMem(0x261a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xa192);
        EXPECT(gbc.pc(), 0x261c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0207
        gbc.setState(0x7646, 0xb4ba, 0xb6f0, 0xe06, 0x52e2, 0xbf3c, 0x0, 0x1);
        gbc.writeMem(0x7646, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xb4ba);
        EXPECT(gbc.pc(), 0x7648);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0208
        gbc.setState(0x49d7, 0x5434, 0x4b0, 0x7455, 0x3e59, 0x1f1f, 0x0, 0x1);
        gbc.writeMem(0x49d7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5434);
        EXPECT(gbc.pc(), 0x49d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0209
        gbc.setState(0x13a6, 0x5723, 0x5f40, 0xcfa2, 0x46b5, 0x528f, 0x0, 0x1);
        gbc.writeMem(0x13a6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x5723);
        EXPECT(gbc.pc(), 0x13a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 020A
        gbc.setState(0x9761, 0x6f60, 0xdf10, 0x109b, 0xc79e, 0x7af0, 0x1, 0x0);
        gbc.writeMem(0x9761, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x6f60);
        EXPECT(gbc.pc(), 0x9763);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9761), 0xcb);
        EXPECT(gbc.readMem(0x9762), 0x24);
        // CB 24 020B
        gbc.setState(0x3ba2, 0x5cc5, 0x6d60, 0xbf58, 0x7208, 0xd2f2, 0x0, 0x0);
        gbc.writeMem(0x3ba2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x5cc5);
        EXPECT(gbc.pc(), 0x3ba4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 020C
        gbc.setState(0x87e6, 0xff0d, 0x84e0, 0x933, 0xdf21, 0x1dc6, 0x0, 0x0);
        gbc.writeMem(0x87e6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xff0d);
        EXPECT(gbc.pc(), 0x87e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87e6), 0xcb);
        EXPECT(gbc.readMem(0x87e7), 0x24);
        // CB 24 020D
        gbc.setState(0xc139, 0xb6c, 0xe200, 0x3e0, 0x7f7f, 0xc092, 0x0, 0x1);
        gbc.writeMem(0xc139, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xb6c);
        EXPECT(gbc.pc(), 0xc13b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc139), 0xcb);
        EXPECT(gbc.readMem(0xc13a), 0x24);
        // CB 24 020E
        gbc.setState(0x2844, 0x31d8, 0x2770, 0xe42c, 0x706d, 0xcc1e, 0x0, 0x1);
        gbc.writeMem(0x2844, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x31d8);
        EXPECT(gbc.pc(), 0x2846);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 020F
        gbc.setState(0x3515, 0x46fd, 0xaa10, 0xfcbf, 0xb4e7, 0x5799, 0x0, 0x0);
        gbc.writeMem(0x3515, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x46fd);
        EXPECT(gbc.pc(), 0x3517);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0210
        gbc.setState(0x8ede, 0x4780, 0xed0, 0x4147, 0x7ede, 0xa55a, 0x1, 0x1);
        gbc.writeMem(0x8ede, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x4780);
        EXPECT(gbc.pc(), 0x8ee0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ede), 0xcb);
        EXPECT(gbc.readMem(0x8edf), 0x24);
        // CB 24 0211
        gbc.setState(0x9c8a, 0xffbd, 0xef40, 0x597b, 0xab7b, 0xd91c, 0x1, 0x0);
        gbc.writeMem(0x9c8a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xffbd);
        EXPECT(gbc.pc(), 0x9c8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c8a), 0xcb);
        EXPECT(gbc.readMem(0x9c8b), 0x24);
        // CB 24 0212
        gbc.setState(0x2e08, 0xd7c9, 0xada0, 0xe21, 0xfb70, 0xb56, 0x0, 0x0);
        gbc.writeMem(0x2e08, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xd7c9);
        EXPECT(gbc.pc(), 0x2e0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0213
        gbc.setState(0x3f7d, 0xdf5, 0x6d0, 0x427f, 0x70a6, 0xec21, 0x1, 0x1);
        gbc.writeMem(0x3f7d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xdf5);
        EXPECT(gbc.pc(), 0x3f7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0214
        gbc.setState(0x48c5, 0x989e, 0xbd80, 0xf1f6, 0x7ea2, 0x6825, 0x0, 0x0);
        gbc.writeMem(0x48c5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x989e);
        EXPECT(gbc.pc(), 0x48c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0215
        gbc.setState(0x24a3, 0x3520, 0xfcd0, 0xeea7, 0xe8dd, 0x9e7c, 0x0, 0x1);
        gbc.writeMem(0x24a3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x3520);
        EXPECT(gbc.pc(), 0x24a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0216
        gbc.setState(0x39aa, 0xc634, 0xb2e0, 0x8118, 0x33c2, 0x21d2, 0x0, 0x1);
        gbc.writeMem(0x39aa, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xc634);
        EXPECT(gbc.pc(), 0x39ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0217
        gbc.setState(0x96a2, 0x9c6a, 0xf70, 0xc3fa, 0x14c7, 0xa927, 0x1, 0x1);
        gbc.writeMem(0x96a2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x9c6a);
        EXPECT(gbc.pc(), 0x96a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96a2), 0xcb);
        EXPECT(gbc.readMem(0x96a3), 0x24);
        // CB 24 0218
        gbc.setState(0x74ee, 0xb5ff, 0x5540, 0x672, 0x6e08, 0xb518, 0x1, 0x0);
        gbc.writeMem(0x74ee, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xb5ff);
        EXPECT(gbc.pc(), 0x74f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0219
        gbc.setState(0x3175, 0x6d8a, 0x7210, 0xe935, 0xfce0, 0xbc18, 0x0, 0x1);
        gbc.writeMem(0x3175, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x6d8a);
        EXPECT(gbc.pc(), 0x3177);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 021A
        gbc.setState(0x98f5, 0xea6b, 0xd360, 0xefe9, 0x8355, 0x2347, 0x1, 0x1);
        gbc.writeMem(0x98f5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xea6b);
        EXPECT(gbc.pc(), 0x98f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98f5), 0xcb);
        EXPECT(gbc.readMem(0x98f6), 0x24);
        // CB 24 021B
        gbc.setState(0xe81c, 0x9236, 0xf8c0, 0x645, 0xd3b7, 0xcdc2, 0x0, 0x0);
        gbc.writeMem(0xe81c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x9236);
        EXPECT(gbc.pc(), 0xe81e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe81c), 0xcb);
        EXPECT(gbc.readMem(0xe81d), 0x24);
        // CB 24 021C
        gbc.setState(0x1e11, 0xf708, 0x760, 0x784, 0x78f, 0x7528, 0x1, 0x1);
        gbc.writeMem(0x1e11, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xf708);
        EXPECT(gbc.pc(), 0x1e13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 021D
        gbc.setState(0x4b9f, 0x254c, 0xe920, 0xef7d, 0x420f, 0x5383, 0x1, 0x1);
        gbc.writeMem(0x4b9f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x254c);
        EXPECT(gbc.pc(), 0x4ba1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 021E
        gbc.setState(0xd361, 0xd90b, 0x9160, 0xd18d, 0x79c2, 0x9c5d, 0x1, 0x1);
        gbc.writeMem(0xd361, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xd90b);
        EXPECT(gbc.pc(), 0xd363);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd361), 0xcb);
        EXPECT(gbc.readMem(0xd362), 0x24);
        // CB 24 021F
        gbc.setState(0xa428, 0x4e90, 0xac10, 0x888d, 0x81e0, 0xfaea, 0x1, 0x1);
        gbc.writeMem(0xa428, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x4e90);
        EXPECT(gbc.pc(), 0xa42a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa428), 0xcb);
        EXPECT(gbc.readMem(0xa429), 0x24);
        // CB 24 0220
        gbc.setState(0xe32b, 0xa734, 0x69e0, 0xc0f0, 0xcf3, 0x469, 0x0, 0x1);
        gbc.writeMem(0xe32b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xa734);
        EXPECT(gbc.pc(), 0xe32d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe32b), 0xcb);
        EXPECT(gbc.readMem(0xe32c), 0x24);
        // CB 24 0221
        gbc.setState(0x443, 0xe6c8, 0xede0, 0xa838, 0x212d, 0x9e81, 0x1, 0x0);
        gbc.writeMem(0x443, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xe6c8);
        EXPECT(gbc.pc(), 0x445);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0222
        gbc.setState(0x1b4a, 0x2183, 0x2320, 0x3734, 0x19c4, 0x60c4, 0x1, 0x0);
        gbc.writeMem(0x1b4a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x2183);
        EXPECT(gbc.pc(), 0x1b4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0223
        gbc.setState(0x8a63, 0xa5ab, 0x65b0, 0x57ac, 0xf9a, 0x98c5, 0x0, 0x1);
        gbc.writeMem(0x8a63, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xa5ab);
        EXPECT(gbc.pc(), 0x8a65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a63), 0xcb);
        EXPECT(gbc.readMem(0x8a64), 0x24);
        // CB 24 0224
        gbc.setState(0x1ef5, 0x2e0e, 0x370, 0xc240, 0x1f48, 0xd17f, 0x1, 0x0);
        gbc.writeMem(0x1ef5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2e0e);
        EXPECT(gbc.pc(), 0x1ef7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0225
        gbc.setState(0x27a9, 0xecde, 0xd810, 0xdc33, 0xbda2, 0xc336, 0x1, 0x1);
        gbc.writeMem(0x27a9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xecde);
        EXPECT(gbc.pc(), 0x27ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0226
        gbc.setState(0x4aa0, 0x29e2, 0x9aa0, 0x3c70, 0x3380, 0xd3a3, 0x0, 0x1);
        gbc.writeMem(0x4aa0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x29e2);
        EXPECT(gbc.pc(), 0x4aa2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0227
        gbc.setState(0x744c, 0xc01c, 0x1960, 0xc5f1, 0x686b, 0x73f4, 0x0, 0x0);
        gbc.writeMem(0x744c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xc01c);
        EXPECT(gbc.pc(), 0x744e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0228
        gbc.setState(0x2762, 0x8457, 0xde60, 0x638e, 0x447e, 0xa6d, 0x0, 0x1);
        gbc.writeMem(0x2762, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x8457);
        EXPECT(gbc.pc(), 0x2764);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0229
        gbc.setState(0x139e, 0xd38d, 0x8420, 0x3367, 0x4895, 0xe8c8, 0x0, 0x0);
        gbc.writeMem(0x139e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xd38d);
        EXPECT(gbc.pc(), 0x13a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 022A
        gbc.setState(0xec05, 0xe2df, 0x8900, 0x3668, 0xb60, 0xc303, 0x1, 0x1);
        gbc.writeMem(0xec05, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xe2df);
        EXPECT(gbc.pc(), 0xec07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec05), 0xcb);
        EXPECT(gbc.readMem(0xec06), 0x24);
        // CB 24 022B
        gbc.setState(0x5d8f, 0x68c8, 0x4700, 0xc6ee, 0x387b, 0x88f6, 0x0, 0x1);
        gbc.writeMem(0x5d8f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x68c8);
        EXPECT(gbc.pc(), 0x5d91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 022C
        gbc.setState(0x284a, 0x8b00, 0x1bc0, 0x5d7f, 0x5847, 0xbd1b, 0x1, 0x1);
        gbc.writeMem(0x284a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x8b00);
        EXPECT(gbc.pc(), 0x284c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 022D
        gbc.setState(0xbede, 0xbd03, 0x5ca0, 0x451e, 0xe5c2, 0xd714, 0x0, 0x0);
        gbc.writeMem(0xbede, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xbd03);
        EXPECT(gbc.pc(), 0xbee0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbede), 0xcb);
        EXPECT(gbc.readMem(0xbedf), 0x24);
        // CB 24 022E
        gbc.setState(0x90db, 0x5620, 0x7890, 0x3c6d, 0xf318, 0x4756, 0x1, 0x0);
        gbc.writeMem(0x90db, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x5620);
        EXPECT(gbc.pc(), 0x90dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90db), 0xcb);
        EXPECT(gbc.readMem(0x90dc), 0x24);
        // CB 24 022F
        gbc.setState(0x9175, 0x9eee, 0x890, 0xb10, 0x6c1f, 0xd31b, 0x1, 0x1);
        gbc.writeMem(0x9175, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x9eee);
        EXPECT(gbc.pc(), 0x9177);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9175), 0xcb);
        EXPECT(gbc.readMem(0x9176), 0x24);
        // CB 24 0230
        gbc.setState(0xc11f, 0x5f2f, 0xdcc0, 0xa67a, 0xaa1f, 0x5c3, 0x0, 0x0);
        gbc.writeMem(0xc11f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x5f2f);
        EXPECT(gbc.pc(), 0xc121);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc11f), 0xcb);
        EXPECT(gbc.readMem(0xc120), 0x24);
        // CB 24 0231
        gbc.setState(0xdb89, 0x75d2, 0x9b60, 0x96fb, 0xfd66, 0xd761, 0x0, 0x0);
        gbc.writeMem(0xdb89, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x75d2);
        EXPECT(gbc.pc(), 0xdb8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb89), 0xcb);
        EXPECT(gbc.readMem(0xdb8a), 0x24);
        // CB 24 0233
        gbc.setState(0x1cfb, 0x3e06, 0x9d40, 0x8f2d, 0x2423, 0xb50c, 0x0, 0x1);
        gbc.writeMem(0x1cfb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x3e06);
        EXPECT(gbc.pc(), 0x1cfd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0234
        gbc.setState(0x8f80, 0xbf1d, 0xaea0, 0xbc0d, 0xabb4, 0x5e40, 0x1, 0x0);
        gbc.writeMem(0x8f80, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xbf1d);
        EXPECT(gbc.pc(), 0x8f82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f80), 0xcb);
        EXPECT(gbc.readMem(0x8f81), 0x24);
        // CB 24 0235
        gbc.setState(0x815c, 0x102c, 0x1d20, 0xda5d, 0x4b5c, 0x1fd1, 0x1, 0x1);
        gbc.writeMem(0x815c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x102c);
        EXPECT(gbc.pc(), 0x815e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x815c), 0xcb);
        EXPECT(gbc.readMem(0x815d), 0x24);
        // CB 24 0236
        gbc.setState(0x53b0, 0x79ef, 0x9330, 0xcef2, 0xda5, 0x6cd6, 0x1, 0x0);
        gbc.writeMem(0x53b0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x79ef);
        EXPECT(gbc.pc(), 0x53b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0237
        gbc.setState(0xe90f, 0x834a, 0xb2f0, 0x993, 0xc948, 0xa4a5, 0x1, 0x1);
        gbc.writeMem(0xe90f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x834a);
        EXPECT(gbc.pc(), 0xe911);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe90f), 0xcb);
        EXPECT(gbc.readMem(0xe910), 0x24);
        // CB 24 0238
        gbc.setState(0xd2f4, 0x7f1f, 0x1990, 0xc7a0, 0x81cc, 0x554a, 0x1, 0x1);
        gbc.writeMem(0xd2f4, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x7f1f);
        EXPECT(gbc.pc(), 0xd2f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2f4), 0xcb);
        EXPECT(gbc.readMem(0xd2f5), 0x24);
        // CB 24 0239
        gbc.setState(0x2dc8, 0xe2b1, 0x69f0, 0xa2ce, 0x50af, 0x88a0, 0x1, 0x0);
        gbc.writeMem(0x2dc8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xe2b1);
        EXPECT(gbc.pc(), 0x2dca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 023A
        gbc.setState(0xc3db, 0xfb1f, 0x8d00, 0xc640, 0xa90c, 0x7b97, 0x0, 0x1);
        gbc.writeMem(0xc3db, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xfb1f);
        EXPECT(gbc.pc(), 0xc3dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3db), 0xcb);
        EXPECT(gbc.readMem(0xc3dc), 0x24);
        // CB 24 023B
        gbc.setState(0xe57a, 0x25c4, 0xf620, 0x65f, 0x5319, 0x6cf1, 0x0, 0x0);
        gbc.writeMem(0xe57a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x25c4);
        EXPECT(gbc.pc(), 0xe57c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe57a), 0xcb);
        EXPECT(gbc.readMem(0xe57b), 0x24);
        // CB 24 023C
        gbc.setState(0x5cb1, 0x7dbc, 0xf50, 0x7f8e, 0x20e6, 0x5fbc, 0x0, 0x1);
        gbc.writeMem(0x5cb1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x7dbc);
        EXPECT(gbc.pc(), 0x5cb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 023D
        gbc.setState(0xb3c, 0xb65a, 0xcb30, 0xdda9, 0xb5c7, 0xc09c, 0x1, 0x1);
        gbc.writeMem(0xb3c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xb65a);
        EXPECT(gbc.pc(), 0xb3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 023E
        gbc.setState(0x83cc, 0x3e61, 0x88d0, 0x758e, 0xf44e, 0xe0d6, 0x1, 0x1);
        gbc.writeMem(0x83cc, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x3e61);
        EXPECT(gbc.pc(), 0x83ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83cc), 0xcb);
        EXPECT(gbc.readMem(0x83cd), 0x24);
        // CB 24 0240
        gbc.setState(0x2879, 0xbe5b, 0xc660, 0xde3f, 0xa85d, 0x3a05, 0x1, 0x1);
        gbc.writeMem(0x2879, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xbe5b);
        EXPECT(gbc.pc(), 0x287b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0241
        gbc.setState(0x9de2, 0x19a7, 0x1280, 0xbf9c, 0x2374, 0x20a9, 0x1, 0x0);
        gbc.writeMem(0x9de2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x19a7);
        EXPECT(gbc.pc(), 0x9de4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9de2), 0xcb);
        EXPECT(gbc.readMem(0x9de3), 0x24);
        // CB 24 0242
        gbc.setState(0x97d5, 0x6d06, 0x22d0, 0x4931, 0xf208, 0xc837, 0x1, 0x0);
        gbc.writeMem(0x97d5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x6d06);
        EXPECT(gbc.pc(), 0x97d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97d5), 0xcb);
        EXPECT(gbc.readMem(0x97d6), 0x24);
        // CB 24 0243
        gbc.setState(0xe9e7, 0x460c, 0x1530, 0x774b, 0x7c39, 0xb5a4, 0x0, 0x1);
        gbc.writeMem(0xe9e7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x460c);
        EXPECT(gbc.pc(), 0xe9e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9e7), 0xcb);
        EXPECT(gbc.readMem(0xe9e8), 0x24);
        // CB 24 0244
        gbc.setState(0x343d, 0xa558, 0xbda0, 0xb2c3, 0x2820, 0x40e2, 0x1, 0x1);
        gbc.writeMem(0x343d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xa558);
        EXPECT(gbc.pc(), 0x343f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0245
        gbc.setState(0xa2c8, 0xddf9, 0xde00, 0x4f28, 0x2095, 0x5878, 0x0, 0x0);
        gbc.writeMem(0xa2c8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xddf9);
        EXPECT(gbc.pc(), 0xa2ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2c8), 0xcb);
        EXPECT(gbc.readMem(0xa2c9), 0x24);
        // CB 24 0246
        gbc.setState(0x3a3f, 0x6b62, 0xa6b0, 0x66cf, 0x39b7, 0xffdd, 0x0, 0x0);
        gbc.writeMem(0x3a3f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x6b62);
        EXPECT(gbc.pc(), 0x3a41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0247
        gbc.setState(0xd85a, 0x9ad6, 0x5520, 0x334f, 0x4064, 0x8e2b, 0x0, 0x0);
        gbc.writeMem(0xd85a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9ad6);
        EXPECT(gbc.pc(), 0xd85c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd85a), 0xcb);
        EXPECT(gbc.readMem(0xd85b), 0x24);
        // CB 24 0249
        gbc.setState(0x4dca, 0x47d0, 0x49f0, 0xbcfc, 0x70c2, 0x5109, 0x0, 0x1);
        gbc.writeMem(0x4dca, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x47d0);
        EXPECT(gbc.pc(), 0x4dcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 024A
        gbc.setState(0xf0, 0x70bc, 0x2850, 0xe675, 0x8d23, 0xcbf0, 0x1, 0x1);
        gbc.writeMem(0xf0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x70bc);
        EXPECT(gbc.pc(), 0xf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 024B
        gbc.setState(0xc3bb, 0xff2e, 0x4b00, 0xb924, 0x4a99, 0x141f, 0x0, 0x1);
        gbc.writeMem(0xc3bb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xff2e);
        EXPECT(gbc.pc(), 0xc3bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3bb), 0xcb);
        EXPECT(gbc.readMem(0xc3bc), 0x24);
        // CB 24 024C
        gbc.setState(0x9780, 0x985e, 0xde60, 0xd5c2, 0xa2a5, 0x436a, 0x0, 0x1);
        gbc.writeMem(0x9780, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x985e);
        EXPECT(gbc.pc(), 0x9782);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9780), 0xcb);
        EXPECT(gbc.readMem(0x9781), 0x24);
        // CB 24 024E
        gbc.setState(0xd5d2, 0xbc69, 0x7b60, 0x722d, 0x2256, 0xb39a, 0x1, 0x0);
        gbc.writeMem(0xd5d2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xbc69);
        EXPECT(gbc.pc(), 0xd5d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5d2), 0xcb);
        EXPECT(gbc.readMem(0xd5d3), 0x24);
        // CB 24 024F
        gbc.setState(0x63ab, 0xe432, 0x64f0, 0x4fcd, 0x6518, 0x11cc, 0x1, 0x0);
        gbc.writeMem(0x63ab, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xe432);
        EXPECT(gbc.pc(), 0x63ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0250
        gbc.setState(0xba2e, 0xc7a, 0xa820, 0x9eee, 0x69eb, 0x8d54, 0x1, 0x0);
        gbc.writeMem(0xba2e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xc7a);
        EXPECT(gbc.pc(), 0xba30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba2e), 0xcb);
        EXPECT(gbc.readMem(0xba2f), 0x24);
        // CB 24 0251
        gbc.setState(0x5eb, 0x73f9, 0x77b0, 0x41c3, 0x6f62, 0x7ff3, 0x1, 0x0);
        gbc.writeMem(0x5eb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x73f9);
        EXPECT(gbc.pc(), 0x5ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0252
        gbc.setState(0x4374, 0xbf1a, 0x48f0, 0xc873, 0xd05d, 0xe255, 0x0, 0x1);
        gbc.writeMem(0x4374, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xbf1a);
        EXPECT(gbc.pc(), 0x4376);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0253
        gbc.setState(0xd179, 0x1df5, 0x88f0, 0x39a6, 0xa32, 0x4f76, 0x1, 0x0);
        gbc.writeMem(0xd179, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x1df5);
        EXPECT(gbc.pc(), 0xd17b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd179), 0xcb);
        EXPECT(gbc.readMem(0xd17a), 0x24);
        // CB 24 0254
        gbc.setState(0x5a22, 0x2d5d, 0x22c0, 0xeab3, 0x98c5, 0x3b95, 0x0, 0x1);
        gbc.writeMem(0x5a22, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x2d5d);
        EXPECT(gbc.pc(), 0x5a24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0255
        gbc.setState(0x2c62, 0x51f6, 0xf630, 0xbd60, 0x4a41, 0x542, 0x0, 0x0);
        gbc.writeMem(0x2c62, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x51f6);
        EXPECT(gbc.pc(), 0x2c64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0256
        gbc.setState(0xedb1, 0x7184, 0xaeb0, 0xfcaa, 0xd319, 0xf12c, 0x1, 0x0);
        gbc.writeMem(0xedb1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x7184);
        EXPECT(gbc.pc(), 0xedb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedb1), 0xcb);
        EXPECT(gbc.readMem(0xedb2), 0x24);
        // CB 24 0257
        gbc.setState(0x5931, 0x4d45, 0x44a0, 0xd12f, 0x464c, 0x6136, 0x0, 0x1);
        gbc.writeMem(0x5931, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x4d45);
        EXPECT(gbc.pc(), 0x5933);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0258
        gbc.setState(0x2a4e, 0x9635, 0x29d0, 0x606f, 0xf803, 0x5be7, 0x1, 0x1);
        gbc.writeMem(0x2a4e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9635);
        EXPECT(gbc.pc(), 0x2a50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0259
        gbc.setState(0x309c, 0xca76, 0xb820, 0x29bf, 0x1b63, 0xea6f, 0x1, 0x0);
        gbc.writeMem(0x309c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xca76);
        EXPECT(gbc.pc(), 0x309e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 025A
        gbc.setState(0xbdf3, 0x9a98, 0x34a0, 0x5cb5, 0x2240, 0xd519, 0x1, 0x1);
        gbc.writeMem(0xbdf3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x9a98);
        EXPECT(gbc.pc(), 0xbdf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdf3), 0xcb);
        EXPECT(gbc.readMem(0xbdf4), 0x24);
        // CB 24 025B
        gbc.setState(0xd37e, 0x5461, 0x9290, 0xa99b, 0xd71e, 0x9399, 0x1, 0x1);
        gbc.writeMem(0xd37e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x5461);
        EXPECT(gbc.pc(), 0xd380);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd37e), 0xcb);
        EXPECT(gbc.readMem(0xd37f), 0x24);
        // CB 24 025C
        gbc.setState(0xaa3e, 0xe57f, 0x9060, 0xee5d, 0xea7, 0x6a03, 0x0, 0x0);
        gbc.writeMem(0xaa3e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xe57f);
        EXPECT(gbc.pc(), 0xaa40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa3e), 0xcb);
        EXPECT(gbc.readMem(0xaa3f), 0x24);
        // CB 24 025D
        gbc.setState(0xa75f, 0xb08, 0xef50, 0xd81b, 0x25b6, 0xb269, 0x0, 0x1);
        gbc.writeMem(0xa75f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xb08);
        EXPECT(gbc.pc(), 0xa761);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa75f), 0xcb);
        EXPECT(gbc.readMem(0xa760), 0x24);
        // CB 24 025E
        gbc.setState(0x2dcf, 0xdecb, 0xa130, 0xdeeb, 0xab02, 0x1527, 0x0, 0x0);
        gbc.writeMem(0x2dcf, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xdecb);
        EXPECT(gbc.pc(), 0x2dd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0260
        gbc.setState(0x9ce1, 0x1726, 0x7e70, 0x3e45, 0xad61, 0x495f, 0x1, 0x0);
        gbc.writeMem(0x9ce1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x1726);
        EXPECT(gbc.pc(), 0x9ce3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ce1), 0xcb);
        EXPECT(gbc.readMem(0x9ce2), 0x24);
        // CB 24 0261
        gbc.setState(0xa4fd, 0x9e9b, 0xb0b0, 0xc628, 0x5afd, 0x86ea, 0x1, 0x0);
        gbc.writeMem(0xa4fd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x9e9b);
        EXPECT(gbc.pc(), 0xa4ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4fd), 0xcb);
        EXPECT(gbc.readMem(0xa4fe), 0x24);
        // CB 24 0262
        gbc.setState(0x2875, 0x611d, 0xab40, 0xec70, 0x9a79, 0x806c, 0x1, 0x1);
        gbc.writeMem(0x2875, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x611d);
        EXPECT(gbc.pc(), 0x2877);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0263
        gbc.setState(0x545d, 0x555f, 0x3fa0, 0xcda6, 0xb610, 0x8a6e, 0x1, 0x1);
        gbc.writeMem(0x545d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x555f);
        EXPECT(gbc.pc(), 0x545f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0264
        gbc.setState(0xc7cd, 0xc559, 0x8610, 0x2931, 0xba72, 0x1503, 0x1, 0x0);
        gbc.writeMem(0xc7cd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xc559);
        EXPECT(gbc.pc(), 0xc7cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7cd), 0xcb);
        EXPECT(gbc.readMem(0xc7ce), 0x24);
        // CB 24 0265
        gbc.setState(0x4b23, 0x2bad, 0xf690, 0xff0b, 0xe0bd, 0x7555, 0x1, 0x1);
        gbc.writeMem(0x4b23, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x2bad);
        EXPECT(gbc.pc(), 0x4b25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0266
        gbc.setState(0x8df7, 0x9590, 0x7cc0, 0x13ac, 0xdd45, 0x313, 0x0, 0x0);
        gbc.writeMem(0x8df7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x9590);
        EXPECT(gbc.pc(), 0x8df9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8df7), 0xcb);
        EXPECT(gbc.readMem(0x8df8), 0x24);
        // CB 24 0267
        gbc.setState(0x8b53, 0x7c2c, 0x5840, 0x9546, 0x389d, 0x3adc, 0x0, 0x1);
        gbc.writeMem(0x8b53, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x7c2c);
        EXPECT(gbc.pc(), 0x8b55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b53), 0xcb);
        EXPECT(gbc.readMem(0x8b54), 0x24);
        // CB 24 0268
        gbc.setState(0x1924, 0xe152, 0x2100, 0x1066, 0x9e36, 0x7730, 0x1, 0x0);
        gbc.writeMem(0x1924, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xe152);
        EXPECT(gbc.pc(), 0x1926);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0269
        gbc.setState(0x2d7d, 0x9043, 0x4580, 0x3468, 0xf871, 0x11f0, 0x0, 0x1);
        gbc.writeMem(0x2d7d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x9043);
        EXPECT(gbc.pc(), 0x2d7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 026A
        gbc.setState(0xc525, 0x57d7, 0x6f40, 0xc91d, 0xbed1, 0x8079, 0x0, 0x1);
        gbc.writeMem(0xc525, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x57d7);
        EXPECT(gbc.pc(), 0xc527);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc525), 0xcb);
        EXPECT(gbc.readMem(0xc526), 0x24);
        // CB 24 026B
        gbc.setState(0x6998, 0x5212, 0xa970, 0xcea8, 0x3d79, 0x5ab8, 0x0, 0x1);
        gbc.writeMem(0x6998, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x5212);
        EXPECT(gbc.pc(), 0x699a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 026C
        gbc.setState(0xcc4b, 0xb91b, 0x70d0, 0x8ca5, 0x593, 0x6a74, 0x1, 0x1);
        gbc.writeMem(0xcc4b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xb91b);
        EXPECT(gbc.pc(), 0xcc4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc4b), 0xcb);
        EXPECT(gbc.readMem(0xcc4c), 0x24);
        // CB 24 026D
        gbc.setState(0x4ec5, 0x7111, 0x5720, 0x6178, 0x40c6, 0x6bf3, 0x0, 0x0);
        gbc.writeMem(0x4ec5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x7111);
        EXPECT(gbc.pc(), 0x4ec7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 026E
        gbc.setState(0xce66, 0xaab0, 0xb9c0, 0xbfa7, 0x28f4, 0x93e2, 0x1, 0x1);
        gbc.writeMem(0xce66, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xaab0);
        EXPECT(gbc.pc(), 0xce68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce66), 0xcb);
        EXPECT(gbc.readMem(0xce67), 0x24);
        // CB 24 026F
        gbc.setState(0xe0cd, 0xcc88, 0xbc00, 0xdec7, 0x9461, 0x6685, 0x0, 0x1);
        gbc.writeMem(0xe0cd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xcc88);
        EXPECT(gbc.pc(), 0xe0cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0cd), 0xcb);
        EXPECT(gbc.readMem(0xe0ce), 0x24);
        // CB 24 0270
        gbc.setState(0x5efc, 0x2d74, 0x8050, 0xada2, 0x968d, 0x7721, 0x0, 0x0);
        gbc.writeMem(0x5efc, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x2d74);
        EXPECT(gbc.pc(), 0x5efe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0271
        gbc.setState(0xd6d9, 0xa29f, 0xe0d0, 0xed1c, 0x4c5, 0xeb8f, 0x1, 0x1);
        gbc.writeMem(0xd6d9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xa29f);
        EXPECT(gbc.pc(), 0xd6db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6d9), 0xcb);
        EXPECT(gbc.readMem(0xd6da), 0x24);
        // CB 24 0272
        gbc.setState(0xd54e, 0x1904, 0xc510, 0xe614, 0x2017, 0x7ad7, 0x0, 0x1);
        gbc.writeMem(0xd54e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x1904);
        EXPECT(gbc.pc(), 0xd550);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd54e), 0xcb);
        EXPECT(gbc.readMem(0xd54f), 0x24);
        // CB 24 0273
        gbc.setState(0xbd94, 0xbda5, 0xccc0, 0xc997, 0x9dba, 0x9cb5, 0x0, 0x1);
        gbc.writeMem(0xbd94, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xbda5);
        EXPECT(gbc.pc(), 0xbd96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd94), 0xcb);
        EXPECT(gbc.readMem(0xbd95), 0x24);
        // CB 24 0274
        gbc.setState(0xd60d, 0x2c45, 0xef20, 0x21a5, 0xf07b, 0x154b, 0x0, 0x0);
        gbc.writeMem(0xd60d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x2c45);
        EXPECT(gbc.pc(), 0xd60f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd60d), 0xcb);
        EXPECT(gbc.readMem(0xd60e), 0x24);
        // CB 24 0275
        gbc.setState(0x6ed1, 0xe860, 0xc580, 0xf306, 0x217e, 0x9acc, 0x0, 0x0);
        gbc.writeMem(0x6ed1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xe860);
        EXPECT(gbc.pc(), 0x6ed3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0276
        gbc.setState(0x770, 0x4e27, 0xf0e0, 0xe728, 0x1a7d, 0x7ad0, 0x1, 0x0);
        gbc.writeMem(0x770, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x4e27);
        EXPECT(gbc.pc(), 0x772);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0277
        gbc.setState(0xbe94, 0x9c87, 0xa750, 0x8f3a, 0x9c6d, 0xa8a4, 0x1, 0x0);
        gbc.writeMem(0xbe94, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x9c87);
        EXPECT(gbc.pc(), 0xbe96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe94), 0xcb);
        EXPECT(gbc.readMem(0xbe95), 0x24);
        // CB 24 0278
        gbc.setState(0xd575, 0xfe1f, 0x320, 0x7af8, 0x3100, 0xcf8d, 0x1, 0x0);
        gbc.writeMem(0xd575, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xfe1f);
        EXPECT(gbc.pc(), 0xd577);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd575), 0xcb);
        EXPECT(gbc.readMem(0xd576), 0x24);
        // CB 24 0279
        gbc.setState(0x3c4, 0x1387, 0x29a0, 0x47b7, 0xe3ac, 0x7d1d, 0x1, 0x0);
        gbc.writeMem(0x3c4, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x1387);
        EXPECT(gbc.pc(), 0x3c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 027A
        gbc.setState(0x3721, 0x7049, 0x76c0, 0xba01, 0xeef9, 0x736f, 0x0, 0x1);
        gbc.writeMem(0x3721, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x7049);
        EXPECT(gbc.pc(), 0x3723);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 027B
        gbc.setState(0x36a8, 0x3818, 0xaa60, 0xe4d8, 0x1ea0, 0x9d87, 0x1, 0x0);
        gbc.writeMem(0x36a8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x3818);
        EXPECT(gbc.pc(), 0x36aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 027C
        gbc.setState(0x23f1, 0x5bac, 0x3f50, 0xff74, 0x9652, 0x80b9, 0x0, 0x0);
        gbc.writeMem(0x23f1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x5bac);
        EXPECT(gbc.pc(), 0x23f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 027D
        gbc.setState(0x762e, 0xfbc3, 0x8440, 0x7594, 0xe21e, 0x5411, 0x0, 0x1);
        gbc.writeMem(0x762e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xfbc3);
        EXPECT(gbc.pc(), 0x7630);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 027E
        gbc.setState(0x4d28, 0xb8f4, 0x5700, 0x37fd, 0x865c, 0x7c4d, 0x0, 0x1);
        gbc.writeMem(0x4d28, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xb8f4);
        EXPECT(gbc.pc(), 0x4d2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 027F
        gbc.setState(0x7937, 0xb615, 0x8760, 0xc269, 0x2e9b, 0x4472, 0x1, 0x0);
        gbc.writeMem(0x7937, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xb615);
        EXPECT(gbc.pc(), 0x7939);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0280
        gbc.setState(0x3c38, 0x1f1d, 0x5d50, 0x2e47, 0xac8e, 0x9583, 0x1, 0x0);
        gbc.writeMem(0x3c38, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x1f1d);
        EXPECT(gbc.pc(), 0x3c3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0281
        gbc.setState(0x41a9, 0xe9af, 0x9ba0, 0xb8dd, 0x9e17, 0xef48, 0x1, 0x0);
        gbc.writeMem(0x41a9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xe9af);
        EXPECT(gbc.pc(), 0x41ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0282
        gbc.setState(0x2d5, 0xc2b9, 0x83e0, 0x679b, 0x286b, 0x1ad8, 0x0, 0x1);
        gbc.writeMem(0x2d5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xc2b9);
        EXPECT(gbc.pc(), 0x2d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0283
        gbc.setState(0x40e9, 0xb8c8, 0x7410, 0x9bd0, 0xcf97, 0xf62d, 0x1, 0x0);
        gbc.writeMem(0x40e9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xb8c8);
        EXPECT(gbc.pc(), 0x40eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0284
        gbc.setState(0x85d, 0x522, 0x7d30, 0x8ef8, 0x3e31, 0xfa00, 0x0, 0x1);
        gbc.writeMem(0x85d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x522);
        EXPECT(gbc.pc(), 0x85f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0285
        gbc.setState(0x1486, 0x972, 0x75d0, 0x15b3, 0xc2cb, 0x11a2, 0x1, 0x0);
        gbc.writeMem(0x1486, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x972);
        EXPECT(gbc.pc(), 0x1488);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0286
        gbc.setState(0x55c1, 0xa1e8, 0xb130, 0xb850, 0x8d0b, 0x3f5f, 0x0, 0x0);
        gbc.writeMem(0x55c1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xa1e8);
        EXPECT(gbc.pc(), 0x55c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0288
        gbc.setState(0xd364, 0xe72f, 0xb2e0, 0x734e, 0x8397, 0x559f, 0x1, 0x1);
        gbc.writeMem(0xd364, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xe72f);
        EXPECT(gbc.pc(), 0xd366);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd364), 0xcb);
        EXPECT(gbc.readMem(0xd365), 0x24);
        // CB 24 0289
        gbc.setState(0x188f, 0x4e7b, 0x5c0, 0x302, 0x20b7, 0xa64e, 0x1, 0x1);
        gbc.writeMem(0x188f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x4e7b);
        EXPECT(gbc.pc(), 0x1891);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 028A
        gbc.setState(0x5ce7, 0x2950, 0x6170, 0x2250, 0x235d, 0xd145, 0x0, 0x1);
        gbc.writeMem(0x5ce7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x2950);
        EXPECT(gbc.pc(), 0x5ce9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 028B
        gbc.setState(0xd8e6, 0x9672, 0xa680, 0x6e30, 0x209f, 0x920e, 0x0, 0x0);
        gbc.writeMem(0xd8e6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x9672);
        EXPECT(gbc.pc(), 0xd8e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8e6), 0xcb);
        EXPECT(gbc.readMem(0xd8e7), 0x24);
        // CB 24 028C
        gbc.setState(0xb7c1, 0x80ca, 0xe8a0, 0xbf82, 0xddf9, 0x7ddb, 0x1, 0x0);
        gbc.writeMem(0xb7c1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x80ca);
        EXPECT(gbc.pc(), 0xb7c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7c1), 0xcb);
        EXPECT(gbc.readMem(0xb7c2), 0x24);
        // CB 24 028D
        gbc.setState(0x6792, 0xe674, 0xd8d0, 0xdf69, 0xdafa, 0xa3c5, 0x1, 0x0);
        gbc.writeMem(0x6792, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe674);
        EXPECT(gbc.pc(), 0x6794);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 028E
        gbc.setState(0x609, 0x1343, 0xd5a0, 0x2fe1, 0x7cde, 0x4121, 0x0, 0x1);
        gbc.writeMem(0x609, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x1343);
        EXPECT(gbc.pc(), 0x60b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 028F
        gbc.setState(0xe318, 0xab4a, 0xceb0, 0x4c03, 0xfbd3, 0x3d1d, 0x1, 0x1);
        gbc.writeMem(0xe318, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xab4a);
        EXPECT(gbc.pc(), 0xe31a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe318), 0xcb);
        EXPECT(gbc.readMem(0xe319), 0x24);
        // CB 24 0290
        gbc.setState(0x4900, 0x4b7, 0x1b30, 0xef3c, 0xf02f, 0x4114, 0x0, 0x0);
        gbc.writeMem(0x4900, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x4b7);
        EXPECT(gbc.pc(), 0x4902);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0291
        gbc.setState(0x95be, 0xd6dd, 0xd90, 0x2ad2, 0x2267, 0x571f, 0x0, 0x0);
        gbc.writeMem(0x95be, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xd6dd);
        EXPECT(gbc.pc(), 0x95c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95be), 0xcb);
        EXPECT(gbc.readMem(0x95bf), 0x24);
        // CB 24 0292
        gbc.setState(0x3a09, 0x4401, 0xa150, 0x627, 0xd1e9, 0x1665, 0x1, 0x0);
        gbc.writeMem(0x3a09, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x4401);
        EXPECT(gbc.pc(), 0x3a0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0293
        gbc.setState(0x89f0, 0xba11, 0xc5a0, 0x1042, 0x9458, 0x76c1, 0x1, 0x0);
        gbc.writeMem(0x89f0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xba11);
        EXPECT(gbc.pc(), 0x89f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89f0), 0xcb);
        EXPECT(gbc.readMem(0x89f1), 0x24);
        // CB 24 0294
        gbc.setState(0x7226, 0x49e2, 0x1630, 0xb15e, 0xdaa2, 0x2db6, 0x1, 0x1);
        gbc.writeMem(0x7226, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x49e2);
        EXPECT(gbc.pc(), 0x7228);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0295
        gbc.setState(0x2ade, 0x85f, 0x2130, 0xedce, 0xd4f2, 0xaeb, 0x0, 0x1);
        gbc.writeMem(0x2ade, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x85f);
        EXPECT(gbc.pc(), 0x2ae0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0296
        gbc.setState(0xc1cf, 0xa010, 0xaac0, 0x5ba0, 0xdf15, 0x6ee1, 0x0, 0x1);
        gbc.writeMem(0xc1cf, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xa010);
        EXPECT(gbc.pc(), 0xc1d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1cf), 0xcb);
        EXPECT(gbc.readMem(0xc1d0), 0x24);
        // CB 24 0297
        gbc.setState(0xc8c9, 0x9b82, 0x1eb0, 0xf180, 0xf66c, 0x35aa, 0x1, 0x1);
        gbc.writeMem(0xc8c9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x9b82);
        EXPECT(gbc.pc(), 0xc8cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8c9), 0xcb);
        EXPECT(gbc.readMem(0xc8ca), 0x24);
        // CB 24 0298
        gbc.setState(0x8550, 0x19c5, 0x9920, 0x62d, 0x777c, 0xcdb2, 0x0, 0x1);
        gbc.writeMem(0x8550, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x19c5);
        EXPECT(gbc.pc(), 0x8552);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8550), 0xcb);
        EXPECT(gbc.readMem(0x8551), 0x24);
        // CB 24 0299
        gbc.setState(0x2b39, 0x1060, 0xa30, 0xe417, 0xfd7d, 0x8193, 0x1, 0x0);
        gbc.writeMem(0x2b39, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x1060);
        EXPECT(gbc.pc(), 0x2b3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 029A
        gbc.setState(0xc653, 0xa58a, 0xce40, 0xfaa4, 0x764c, 0x8582, 0x0, 0x1);
        gbc.writeMem(0xc653, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xa58a);
        EXPECT(gbc.pc(), 0xc655);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc653), 0xcb);
        EXPECT(gbc.readMem(0xc654), 0x24);
        // CB 24 029B
        gbc.setState(0x96ba, 0xd808, 0xfc50, 0xb272, 0xff9e, 0x6d28, 0x0, 0x0);
        gbc.writeMem(0x96ba, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xd808);
        EXPECT(gbc.pc(), 0x96bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96ba), 0xcb);
        EXPECT(gbc.readMem(0x96bb), 0x24);
        // CB 24 029C
        gbc.setState(0xcb71, 0x116c, 0x6070, 0x1b97, 0xb8e4, 0x42d0, 0x1, 0x0);
        gbc.writeMem(0xcb71, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x116c);
        EXPECT(gbc.pc(), 0xcb73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb71), 0xcb);
        EXPECT(gbc.readMem(0xcb72), 0x24);
        // CB 24 029D
        gbc.setState(0x295e, 0xd233, 0xc370, 0x8538, 0x560e, 0xc672, 0x1, 0x1);
        gbc.writeMem(0x295e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd233);
        EXPECT(gbc.pc(), 0x2960);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 029E
        gbc.setState(0xc278, 0xff10, 0xbd0, 0x5800, 0xcf14, 0xa347, 0x0, 0x1);
        gbc.writeMem(0xc278, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xff10);
        EXPECT(gbc.pc(), 0xc27a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc278), 0xcb);
        EXPECT(gbc.readMem(0xc279), 0x24);
        // CB 24 029F
        gbc.setState(0x6929, 0x367, 0x9700, 0x9f69, 0x624f, 0x2d1d, 0x1, 0x0);
        gbc.writeMem(0x6929, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x367);
        EXPECT(gbc.pc(), 0x692b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02A0
        gbc.setState(0xb3f3, 0x7cf7, 0x190, 0x1d3, 0x8f2c, 0x2de1, 0x1, 0x0);
        gbc.writeMem(0xb3f3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x7cf7);
        EXPECT(gbc.pc(), 0xb3f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3f3), 0xcb);
        EXPECT(gbc.readMem(0xb3f4), 0x24);
        // CB 24 02A1
        gbc.setState(0x89f9, 0xf0d9, 0x59c0, 0x23bd, 0x6696, 0xcdb8, 0x1, 0x0);
        gbc.writeMem(0x89f9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xf0d9);
        EXPECT(gbc.pc(), 0x89fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89f9), 0xcb);
        EXPECT(gbc.readMem(0x89fa), 0x24);
        // CB 24 02A2
        gbc.setState(0x4836, 0x5e33, 0xa7c0, 0xd130, 0x89bd, 0xbb8a, 0x0, 0x1);
        gbc.writeMem(0x4836, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x5e33);
        EXPECT(gbc.pc(), 0x4838);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02A3
        gbc.setState(0x1a78, 0x4681, 0xe30, 0x1d31, 0x4239, 0xfa71, 0x0, 0x1);
        gbc.writeMem(0x1a78, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x4681);
        EXPECT(gbc.pc(), 0x1a7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02A4
        gbc.setState(0x454f, 0xcee8, 0xc0, 0xa325, 0xb643, 0x1ad2, 0x1, 0x1);
        gbc.writeMem(0x454f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xcee8);
        EXPECT(gbc.pc(), 0x4551);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02A5
        gbc.setState(0x69a5, 0xd89e, 0xda10, 0x77a3, 0x35e0, 0x76e6, 0x1, 0x1);
        gbc.writeMem(0x69a5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xd89e);
        EXPECT(gbc.pc(), 0x69a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02A6
        gbc.setState(0x27cf, 0x9289, 0xc840, 0xd7f, 0xa0e9, 0x5306, 0x1, 0x1);
        gbc.writeMem(0x27cf, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x9289);
        EXPECT(gbc.pc(), 0x27d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02A7
        gbc.setState(0xace7, 0xacef, 0x2650, 0x973e, 0xc669, 0x659d, 0x0, 0x1);
        gbc.writeMem(0xace7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xacef);
        EXPECT(gbc.pc(), 0xace9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xace7), 0xcb);
        EXPECT(gbc.readMem(0xace8), 0x24);
        // CB 24 02A9
        gbc.setState(0x7e81, 0x8d9a, 0x4ba0, 0x52f4, 0x673c, 0xfd49, 0x1, 0x0);
        gbc.writeMem(0x7e81, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x8d9a);
        EXPECT(gbc.pc(), 0x7e83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02AA
        gbc.setState(0x4928, 0x4824, 0xa7d0, 0xd5e4, 0xb729, 0xbbdd, 0x0, 0x0);
        gbc.writeMem(0x4928, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x4824);
        EXPECT(gbc.pc(), 0x492a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02AB
        gbc.setState(0x427d, 0x983, 0x7e0, 0x6429, 0x7359, 0xdcf, 0x0, 0x1);
        gbc.writeMem(0x427d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x983);
        EXPECT(gbc.pc(), 0x427f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02AC
        gbc.setState(0x3e57, 0xb398, 0x3c70, 0xe3c6, 0xe90c, 0x539e, 0x0, 0x0);
        gbc.writeMem(0x3e57, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xb398);
        EXPECT(gbc.pc(), 0x3e59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02AD
        gbc.setState(0x5972, 0x7643, 0x3b50, 0x5eac, 0xb9f, 0x4d32, 0x0, 0x1);
        gbc.writeMem(0x5972, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x7643);
        EXPECT(gbc.pc(), 0x5974);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02AE
        gbc.setState(0x913, 0xe4eb, 0xc6d0, 0x7e5c, 0x78d5, 0xcec4, 0x1, 0x0);
        gbc.writeMem(0x913, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xe4eb);
        EXPECT(gbc.pc(), 0x915);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02AF
        gbc.setState(0x9b9c, 0x471b, 0x71c0, 0x27c7, 0x98c4, 0x1c28, 0x1, 0x1);
        gbc.writeMem(0x9b9c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x471b);
        EXPECT(gbc.pc(), 0x9b9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b9c), 0xcb);
        EXPECT(gbc.readMem(0x9b9d), 0x24);
        // CB 24 02B0
        gbc.setState(0xae9f, 0x9c8f, 0x3d40, 0xc053, 0xecf6, 0x58b3, 0x1, 0x0);
        gbc.writeMem(0xae9f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x9c8f);
        EXPECT(gbc.pc(), 0xaea1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae9f), 0xcb);
        EXPECT(gbc.readMem(0xaea0), 0x24);
        // CB 24 02B1
        gbc.setState(0xe708, 0x8820, 0xa40, 0x22ec, 0xcffd, 0xfae2, 0x1, 0x0);
        gbc.writeMem(0xe708, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x8820);
        EXPECT(gbc.pc(), 0xe70a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe708), 0xcb);
        EXPECT(gbc.readMem(0xe709), 0x24);
        // CB 24 02B2
        gbc.setState(0xb3b3, 0xa32f, 0xa510, 0x7798, 0x5225, 0x2887, 0x0, 0x0);
        gbc.writeMem(0xb3b3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xa32f);
        EXPECT(gbc.pc(), 0xb3b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3b3), 0xcb);
        EXPECT(gbc.readMem(0xb3b4), 0x24);
        // CB 24 02B3
        gbc.setState(0x726d, 0x285f, 0x54d0, 0x47f8, 0xe303, 0x2d42, 0x1, 0x1);
        gbc.writeMem(0x726d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x285f);
        EXPECT(gbc.pc(), 0x726f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02B4
        gbc.setState(0x2ad5, 0x6af5, 0x4290, 0x1e96, 0xfb1e, 0x35b1, 0x1, 0x0);
        gbc.writeMem(0x2ad5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x6af5);
        EXPECT(gbc.pc(), 0x2ad7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02B5
        gbc.setState(0xb205, 0x830e, 0x2ca0, 0xa511, 0x2436, 0x1e38, 0x0, 0x1);
        gbc.writeMem(0xb205, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x830e);
        EXPECT(gbc.pc(), 0xb207);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb205), 0xcb);
        EXPECT(gbc.readMem(0xb206), 0x24);
        // CB 24 02B6
        gbc.setState(0x58d1, 0xa29f, 0xd050, 0xdf04, 0xb489, 0x2b1, 0x1, 0x1);
        gbc.writeMem(0x58d1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xa29f);
        EXPECT(gbc.pc(), 0x58d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02B7
        gbc.setState(0x30e6, 0x8962, 0x5170, 0x114a, 0x7b81, 0x8dfe, 0x0, 0x1);
        gbc.writeMem(0x30e6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x8962);
        EXPECT(gbc.pc(), 0x30e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02B8
        gbc.setState(0x46d9, 0x3a7a, 0x50c0, 0x563a, 0xde10, 0x9521, 0x0, 0x0);
        gbc.writeMem(0x46d9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x3a7a);
        EXPECT(gbc.pc(), 0x46db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02B9
        gbc.setState(0x731c, 0x618f, 0x55a0, 0xeaae, 0xa528, 0xa74a, 0x0, 0x0);
        gbc.writeMem(0x731c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x618f);
        EXPECT(gbc.pc(), 0x731e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02BA
        gbc.setState(0x58eb, 0xfddc, 0x6cc0, 0x1072, 0xdc0c, 0x1e0e, 0x0, 0x0);
        gbc.writeMem(0x58eb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xfddc);
        EXPECT(gbc.pc(), 0x58ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02BB
        gbc.setState(0x5fd6, 0x2633, 0xf6e0, 0xfce3, 0x4da9, 0xeadc, 0x1, 0x0);
        gbc.writeMem(0x5fd6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x2633);
        EXPECT(gbc.pc(), 0x5fd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02BC
        gbc.setState(0xdf25, 0x310d, 0xa60, 0xc65d, 0x78a9, 0x5fb7, 0x0, 0x1);
        gbc.writeMem(0xdf25, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x310d);
        EXPECT(gbc.pc(), 0xdf27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf25), 0xcb);
        EXPECT(gbc.readMem(0xdf26), 0x24);
        // CB 24 02BE
        gbc.setState(0xa68c, 0x65c3, 0x860, 0xe1ef, 0xd976, 0x8b27, 0x1, 0x1);
        gbc.writeMem(0xa68c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x65c3);
        EXPECT(gbc.pc(), 0xa68e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa68c), 0xcb);
        EXPECT(gbc.readMem(0xa68d), 0x24);
        // CB 24 02BF
        gbc.setState(0x2058, 0x4c2, 0x22c0, 0xb42f, 0x42c4, 0xafa, 0x1, 0x0);
        gbc.writeMem(0x2058, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x4c2);
        EXPECT(gbc.pc(), 0x205a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02C1
        gbc.setState(0x98df, 0x6a82, 0x8e30, 0x6ebb, 0xbd6d, 0x7b33, 0x0, 0x0);
        gbc.writeMem(0x98df, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x6a82);
        EXPECT(gbc.pc(), 0x98e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98df), 0xcb);
        EXPECT(gbc.readMem(0x98e0), 0x24);
        // CB 24 02C2
        gbc.setState(0x16b9, 0x267b, 0x8280, 0xf1bf, 0xe361, 0x30c0, 0x0, 0x0);
        gbc.writeMem(0x16b9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x267b);
        EXPECT(gbc.pc(), 0x16bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02C3
        gbc.setState(0x9b7e, 0xd31d, 0x7270, 0xd79f, 0x1419, 0xc15e, 0x0, 0x1);
        gbc.writeMem(0x9b7e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xd31d);
        EXPECT(gbc.pc(), 0x9b80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b7e), 0xcb);
        EXPECT(gbc.readMem(0x9b7f), 0x24);
        // CB 24 02C4
        gbc.setState(0xd16c, 0xb996, 0xf80, 0x3fe7, 0x4392, 0xf2d2, 0x1, 0x0);
        gbc.writeMem(0xd16c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xb996);
        EXPECT(gbc.pc(), 0xd16e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd16c), 0xcb);
        EXPECT(gbc.readMem(0xd16d), 0x24);
        // CB 24 02C5
        gbc.setState(0x4201, 0xb527, 0xbd0, 0x29e4, 0x51b0, 0x7c35, 0x0, 0x1);
        gbc.writeMem(0x4201, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xb527);
        EXPECT(gbc.pc(), 0x4203);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02C6
        gbc.setState(0x5c33, 0xfc15, 0x9ee0, 0x1a5f, 0x6a5b, 0xec66, 0x1, 0x1);
        gbc.writeMem(0x5c33, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xfc15);
        EXPECT(gbc.pc(), 0x5c35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02C7
        gbc.setState(0xcd09, 0x5be0, 0xaf50, 0xed31, 0x4e67, 0xb3b2, 0x0, 0x0);
        gbc.writeMem(0xcd09, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x5be0);
        EXPECT(gbc.pc(), 0xcd0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd09), 0xcb);
        EXPECT(gbc.readMem(0xcd0a), 0x24);
        // CB 24 02C8
        gbc.setState(0x62fc, 0xe5dc, 0xf9e0, 0x11f8, 0x9f00, 0x9212, 0x0, 0x1);
        gbc.writeMem(0x62fc, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xe5dc);
        EXPECT(gbc.pc(), 0x62fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02C9
        gbc.setState(0x46ae, 0xd381, 0x3530, 0x2b15, 0xc6a9, 0xa40a, 0x1, 0x1);
        gbc.writeMem(0x46ae, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xd381);
        EXPECT(gbc.pc(), 0x46b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02CA
        gbc.setState(0x7050, 0x8d98, 0x55f0, 0x5c7f, 0xee69, 0xe9f2, 0x1, 0x1);
        gbc.writeMem(0x7050, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x8d98);
        EXPECT(gbc.pc(), 0x7052);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02CB
        gbc.setState(0xd00a, 0x614a, 0x4440, 0xbd2d, 0x3653, 0xad9b, 0x0, 0x0);
        gbc.writeMem(0xd00a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x614a);
        EXPECT(gbc.pc(), 0xd00c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd00a), 0xcb);
        EXPECT(gbc.readMem(0xd00b), 0x24);
        // CB 24 02CC
        gbc.setState(0xe14, 0x8782, 0xe650, 0x131b, 0xd7cd, 0x4791, 0x1, 0x0);
        gbc.writeMem(0xe14, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x8782);
        EXPECT(gbc.pc(), 0xe16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02CD
        gbc.setState(0xd419, 0x769c, 0xcae0, 0x2a2c, 0x387c, 0x31c8, 0x1, 0x0);
        gbc.writeMem(0xd419, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x769c);
        EXPECT(gbc.pc(), 0xd41b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd419), 0xcb);
        EXPECT(gbc.readMem(0xd41a), 0x24);
        // CB 24 02CE
        gbc.setState(0x4326, 0xc7ef, 0x76c0, 0xfed3, 0xcc61, 0xe331, 0x1, 0x1);
        gbc.writeMem(0x4326, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xc7ef);
        EXPECT(gbc.pc(), 0x4328);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02CF
        gbc.setState(0xc297, 0xcfff, 0x7c00, 0x157, 0xc653, 0xf216, 0x0, 0x1);
        gbc.writeMem(0xc297, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xcfff);
        EXPECT(gbc.pc(), 0xc299);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc297), 0xcb);
        EXPECT(gbc.readMem(0xc298), 0x24);
        // CB 24 02D0
        gbc.setState(0x677e, 0xd1c, 0x8c90, 0x31c6, 0x299, 0xa544, 0x1, 0x1);
        gbc.writeMem(0x677e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xd1c);
        EXPECT(gbc.pc(), 0x6780);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02D1
        gbc.setState(0x898d, 0xd6bb, 0x3900, 0x3098, 0xd332, 0xc6e7, 0x0, 0x1);
        gbc.writeMem(0x898d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xd6bb);
        EXPECT(gbc.pc(), 0x898f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x898d), 0xcb);
        EXPECT(gbc.readMem(0x898e), 0x24);
        // CB 24 02D2
        gbc.setState(0xb346, 0x5281, 0x5680, 0xf851, 0x6f22, 0x4bef, 0x0, 0x1);
        gbc.writeMem(0xb346, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x5281);
        EXPECT(gbc.pc(), 0xb348);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb346), 0xcb);
        EXPECT(gbc.readMem(0xb347), 0x24);
        // CB 24 02D3
        gbc.setState(0xda2c, 0x50b9, 0xfd50, 0x3c46, 0x7fda, 0xcecc, 0x0, 0x0);
        gbc.writeMem(0xda2c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x50b9);
        EXPECT(gbc.pc(), 0xda2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda2c), 0xcb);
        EXPECT(gbc.readMem(0xda2d), 0x24);
        // CB 24 02D4
        gbc.setState(0x7cbe, 0xc2d8, 0xe20, 0x295b, 0x18d0, 0x22b3, 0x0, 0x1);
        gbc.writeMem(0x7cbe, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xc2d8);
        EXPECT(gbc.pc(), 0x7cc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02D6
        gbc.setState(0x92c6, 0x2751, 0x2550, 0x2505, 0xceb1, 0x2c46, 0x1, 0x0);
        gbc.writeMem(0x92c6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x2751);
        EXPECT(gbc.pc(), 0x92c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92c6), 0xcb);
        EXPECT(gbc.readMem(0x92c7), 0x24);
        // CB 24 02D7
        gbc.setState(0xb0cc, 0x37ff, 0xf060, 0x7e65, 0x7450, 0xaf10, 0x1, 0x0);
        gbc.writeMem(0xb0cc, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x37ff);
        EXPECT(gbc.pc(), 0xb0ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0cc), 0xcb);
        EXPECT(gbc.readMem(0xb0cd), 0x24);
        // CB 24 02D8
        gbc.setState(0x81a3, 0x2d73, 0x1bc0, 0xe8e7, 0xda4, 0x440d, 0x0, 0x1);
        gbc.writeMem(0x81a3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x2d73);
        EXPECT(gbc.pc(), 0x81a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81a3), 0xcb);
        EXPECT(gbc.readMem(0x81a4), 0x24);
        // CB 24 02D9
        gbc.setState(0x157a, 0xed7a, 0x7d60, 0x241e, 0x7634, 0x27cf, 0x0, 0x0);
        gbc.writeMem(0x157a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xed7a);
        EXPECT(gbc.pc(), 0x157c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02DA
        gbc.setState(0xc3ed, 0x28d4, 0xbbe0, 0x7362, 0x4db0, 0x84f8, 0x1, 0x0);
        gbc.writeMem(0xc3ed, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x28d4);
        EXPECT(gbc.pc(), 0xc3ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3ed), 0xcb);
        EXPECT(gbc.readMem(0xc3ee), 0x24);
        // CB 24 02DB
        gbc.setState(0x4a7f, 0xd1e9, 0xb010, 0xf791, 0x966e, 0x482c, 0x0, 0x1);
        gbc.writeMem(0x4a7f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xd1e9);
        EXPECT(gbc.pc(), 0x4a81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02DC
        gbc.setState(0x807, 0xbc6f, 0x8360, 0x769c, 0xe64f, 0xef43, 0x0, 0x0);
        gbc.writeMem(0x807, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xbc6f);
        EXPECT(gbc.pc(), 0x809);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02DD
        gbc.setState(0x2afd, 0xb12c, 0x18f0, 0xca9, 0xa86, 0x52bf, 0x0, 0x0);
        gbc.writeMem(0x2afd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xb12c);
        EXPECT(gbc.pc(), 0x2aff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02DE
        gbc.setState(0x3ed0, 0x8398, 0xdfe0, 0x60b0, 0xc579, 0xfbb, 0x1, 0x0);
        gbc.writeMem(0x3ed0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x8398);
        EXPECT(gbc.pc(), 0x3ed2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02DF
        gbc.setState(0x1b5c, 0x13de, 0xc4f0, 0xb45, 0x4798, 0x9dec, 0x0, 0x1);
        gbc.writeMem(0x1b5c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x13de);
        EXPECT(gbc.pc(), 0x1b5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02E0
        gbc.setState(0x8f7c, 0xe10d, 0xdcd0, 0xbac8, 0x848b, 0xb500, 0x1, 0x1);
        gbc.writeMem(0x8f7c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xe10d);
        EXPECT(gbc.pc(), 0x8f7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f7c), 0xcb);
        EXPECT(gbc.readMem(0x8f7d), 0x24);
        // CB 24 02E1
        gbc.setState(0x9f41, 0x30d8, 0xf0a0, 0xacb9, 0x4cee, 0x8331, 0x0, 0x1);
        gbc.writeMem(0x9f41, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x30d8);
        EXPECT(gbc.pc(), 0x9f43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f41), 0xcb);
        EXPECT(gbc.readMem(0x9f42), 0x24);
        // CB 24 02E2
        gbc.setState(0x7aa6, 0x281f, 0x3d40, 0xafc5, 0x4de1, 0x2949, 0x0, 0x1);
        gbc.writeMem(0x7aa6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x281f);
        EXPECT(gbc.pc(), 0x7aa8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02E3
        gbc.setState(0x4e6, 0x495b, 0xacb0, 0xd418, 0x4f5e, 0x31ee, 0x1, 0x0);
        gbc.writeMem(0x4e6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x495b);
        EXPECT(gbc.pc(), 0x4e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02E4
        gbc.setState(0xe70c, 0x1ddf, 0x8800, 0x2a11, 0x8327, 0xdc21, 0x0, 0x1);
        gbc.writeMem(0xe70c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x1ddf);
        EXPECT(gbc.pc(), 0xe70e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe70c), 0xcb);
        EXPECT(gbc.readMem(0xe70d), 0x24);
        // CB 24 02E5
        gbc.setState(0xe12a, 0x3c0d, 0x3aa0, 0x3ef9, 0xa06b, 0xa9ef, 0x1, 0x1);
        gbc.writeMem(0xe12a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x3c0d);
        EXPECT(gbc.pc(), 0xe12c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe12a), 0xcb);
        EXPECT(gbc.readMem(0xe12b), 0x24);
        // CB 24 02E6
        gbc.setState(0x81dc, 0x9a30, 0xfb10, 0xb7d3, 0xed82, 0xecdb, 0x0, 0x0);
        gbc.writeMem(0x81dc, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x9a30);
        EXPECT(gbc.pc(), 0x81de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81dc), 0xcb);
        EXPECT(gbc.readMem(0x81dd), 0x24);
        // CB 24 02E7
        gbc.setState(0xa8aa, 0x23c8, 0xfa60, 0xf543, 0x5cf5, 0xe566, 0x0, 0x0);
        gbc.writeMem(0xa8aa, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x23c8);
        EXPECT(gbc.pc(), 0xa8ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8aa), 0xcb);
        EXPECT(gbc.readMem(0xa8ab), 0x24);
        // CB 24 02E8
        gbc.setState(0xa68f, 0xddb2, 0xa820, 0x4fe7, 0x4cd2, 0x37dc, 0x0, 0x1);
        gbc.writeMem(0xa68f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xddb2);
        EXPECT(gbc.pc(), 0xa691);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa68f), 0xcb);
        EXPECT(gbc.readMem(0xa690), 0x24);
        // CB 24 02E9
        gbc.setState(0xdb98, 0xbda, 0x7050, 0x4a01, 0xab8b, 0x2580, 0x1, 0x1);
        gbc.writeMem(0xdb98, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xbda);
        EXPECT(gbc.pc(), 0xdb9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb98), 0xcb);
        EXPECT(gbc.readMem(0xdb99), 0x24);
        // CB 24 02EA
        gbc.setState(0x99d2, 0x215b, 0xa40, 0xc0f4, 0x3a88, 0x3563, 0x1, 0x0);
        gbc.writeMem(0x99d2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x215b);
        EXPECT(gbc.pc(), 0x99d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99d2), 0xcb);
        EXPECT(gbc.readMem(0x99d3), 0x24);
        // CB 24 02EB
        gbc.setState(0x16ae, 0x142d, 0xd460, 0xf73e, 0xb5c8, 0xdf01, 0x1, 0x1);
        gbc.writeMem(0x16ae, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x142d);
        EXPECT(gbc.pc(), 0x16b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02EC
        gbc.setState(0x78e7, 0xc73c, 0x5cc0, 0x574e, 0x8c58, 0xabf9, 0x0, 0x0);
        gbc.writeMem(0x78e7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xc73c);
        EXPECT(gbc.pc(), 0x78e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02ED
        gbc.setState(0x5f55, 0xd82c, 0xaee0, 0x5c42, 0xb017, 0x7a2a, 0x0, 0x0);
        gbc.writeMem(0x5f55, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xd82c);
        EXPECT(gbc.pc(), 0x5f57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02EE
        gbc.setState(0xc42, 0xda8, 0xe860, 0xeb97, 0x4697, 0x2a9e, 0x0, 0x1);
        gbc.writeMem(0xc42, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xda8);
        EXPECT(gbc.pc(), 0xc44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02EF
        gbc.setState(0x2ea1, 0xe03b, 0xfbe0, 0x95b, 0xc0ea, 0xc48f, 0x0, 0x1);
        gbc.writeMem(0x2ea1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe03b);
        EXPECT(gbc.pc(), 0x2ea3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02F0
        gbc.setState(0x67f1, 0xfa39, 0xd7c0, 0xb337, 0xf890, 0xd1df, 0x1, 0x1);
        gbc.writeMem(0x67f1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xfa39);
        EXPECT(gbc.pc(), 0x67f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02F1
        gbc.setState(0x8ca0, 0x439f, 0x53f0, 0xb4b6, 0xb74c, 0x6069, 0x1, 0x0);
        gbc.writeMem(0x8ca0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x439f);
        EXPECT(gbc.pc(), 0x8ca2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ca0), 0xcb);
        EXPECT(gbc.readMem(0x8ca1), 0x24);
        // CB 24 02F2
        gbc.setState(0xcca2, 0x780b, 0xffd0, 0xc2ed, 0xcfca, 0x7fee, 0x0, 0x0);
        gbc.writeMem(0xcca2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x780b);
        EXPECT(gbc.pc(), 0xcca4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcca2), 0xcb);
        EXPECT(gbc.readMem(0xcca3), 0x24);
        // CB 24 02F3
        gbc.setState(0x8d3b, 0x6155, 0x9c60, 0xff11, 0xef1e, 0x28fb, 0x0, 0x0);
        gbc.writeMem(0x8d3b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x6155);
        EXPECT(gbc.pc(), 0x8d3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d3b), 0xcb);
        EXPECT(gbc.readMem(0x8d3c), 0x24);
        // CB 24 02F4
        gbc.setState(0x90e7, 0x2aba, 0xfd80, 0x587a, 0xe11c, 0x3b29, 0x0, 0x1);
        gbc.writeMem(0x90e7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x2aba);
        EXPECT(gbc.pc(), 0x90e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90e7), 0xcb);
        EXPECT(gbc.readMem(0x90e8), 0x24);
        // CB 24 02F5
        gbc.setState(0x3801, 0x705a, 0xdd20, 0xc60a, 0x6c11, 0x260b, 0x1, 0x0);
        gbc.writeMem(0x3801, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x705a);
        EXPECT(gbc.pc(), 0x3803);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02F6
        gbc.setState(0x5e93, 0xe9d8, 0xd410, 0xb79c, 0xd643, 0x2e57, 0x1, 0x0);
        gbc.writeMem(0x5e93, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xe9d8);
        EXPECT(gbc.pc(), 0x5e95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02F7
        gbc.setState(0x9dfa, 0xa675, 0x4f20, 0x9162, 0xee6d, 0xd443, 0x0, 0x1);
        gbc.writeMem(0x9dfa, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xa675);
        EXPECT(gbc.pc(), 0x9dfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dfa), 0xcb);
        EXPECT(gbc.readMem(0x9dfb), 0x24);
        // CB 24 02F8
        gbc.setState(0x8319, 0x35f5, 0xa2d0, 0x6593, 0xb3c8, 0xce4f, 0x0, 0x0);
        gbc.writeMem(0x8319, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x35f5);
        EXPECT(gbc.pc(), 0x831b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8319), 0xcb);
        EXPECT(gbc.readMem(0x831a), 0x24);
        // CB 24 02F9
        gbc.setState(0xe6e7, 0x6a0c, 0xce50, 0x9176, 0x24ea, 0xfd3b, 0x0, 0x1);
        gbc.writeMem(0xe6e7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x6a0c);
        EXPECT(gbc.pc(), 0xe6e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6e7), 0xcb);
        EXPECT(gbc.readMem(0xe6e8), 0x24);
        // CB 24 02FA
        gbc.setState(0xd86f, 0x329c, 0x7a20, 0xfe9d, 0x1c4e, 0x96a1, 0x0, 0x0);
        gbc.writeMem(0xd86f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x329c);
        EXPECT(gbc.pc(), 0xd871);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd86f), 0xcb);
        EXPECT(gbc.readMem(0xd870), 0x24);
        // CB 24 02FB
        gbc.setState(0xb3db, 0x25ab, 0xebd0, 0x75fc, 0xfc4d, 0x3f19, 0x1, 0x0);
        gbc.writeMem(0xb3db, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x25ab);
        EXPECT(gbc.pc(), 0xb3dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3db), 0xcb);
        EXPECT(gbc.readMem(0xb3dc), 0x24);
        // CB 24 02FC
        gbc.setState(0x5f2e, 0x4592, 0xbaa0, 0xd789, 0xc2fb, 0x80f9, 0x0, 0x1);
        gbc.writeMem(0x5f2e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x4592);
        EXPECT(gbc.pc(), 0x5f30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 02FD
        gbc.setState(0x89bb, 0x4912, 0x3af0, 0xdf4c, 0xf61, 0xcf57, 0x1, 0x0);
        gbc.writeMem(0x89bb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x4912);
        EXPECT(gbc.pc(), 0x89bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89bb), 0xcb);
        EXPECT(gbc.readMem(0x89bc), 0x24);
        // CB 24 02FE
        gbc.setState(0x5ae2, 0x7e10, 0x3730, 0xdae3, 0x784f, 0x1842, 0x1, 0x0);
        gbc.writeMem(0x5ae2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x7e10);
        EXPECT(gbc.pc(), 0x5ae4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 02FF
        gbc.setState(0x31b1, 0x592f, 0xbb80, 0xb47e, 0x27fb, 0xfbc7, 0x1, 0x0);
        gbc.writeMem(0x31b1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x592f);
        EXPECT(gbc.pc(), 0x31b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0300
        gbc.setState(0xa0ab, 0xb3ca, 0x41b0, 0xdf2f, 0xa37b, 0x5af, 0x0, 0x1);
        gbc.writeMem(0xa0ab, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xb3ca);
        EXPECT(gbc.pc(), 0xa0ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0ab), 0xcb);
        EXPECT(gbc.readMem(0xa0ac), 0x24);
        // CB 24 0301
        gbc.setState(0xd07e, 0x181, 0x3b00, 0xc2bd, 0x3243, 0x1a15, 0x0, 0x0);
        gbc.writeMem(0xd07e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x181);
        EXPECT(gbc.pc(), 0xd080);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd07e), 0xcb);
        EXPECT(gbc.readMem(0xd07f), 0x24);
        // CB 24 0302
        gbc.setState(0x184e, 0x8c68, 0x9520, 0xe976, 0xe23a, 0x6ddc, 0x1, 0x0);
        gbc.writeMem(0x184e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x8c68);
        EXPECT(gbc.pc(), 0x1850);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0303
        gbc.setState(0x533a, 0x3614, 0x7620, 0x14d3, 0xeaa8, 0x14ff, 0x0, 0x0);
        gbc.writeMem(0x533a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x3614);
        EXPECT(gbc.pc(), 0x533c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0304
        gbc.setState(0xe79a, 0xbd7, 0x11e0, 0xdba0, 0xe1b3, 0x938d, 0x1, 0x1);
        gbc.writeMem(0xe79a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xbd7);
        EXPECT(gbc.pc(), 0xe79c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe79a), 0xcb);
        EXPECT(gbc.readMem(0xe79b), 0x24);
        // CB 24 0305
        gbc.setState(0xb362, 0x1e1a, 0x9d0, 0x6af5, 0xf66c, 0xdd83, 0x0, 0x0);
        gbc.writeMem(0xb362, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x1e1a);
        EXPECT(gbc.pc(), 0xb364);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb362), 0xcb);
        EXPECT(gbc.readMem(0xb363), 0x24);
        // CB 24 0306
        gbc.setState(0x6d17, 0xcd2d, 0x13e0, 0xa19d, 0xc666, 0x3a6f, 0x1, 0x0);
        gbc.writeMem(0x6d17, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xcd2d);
        EXPECT(gbc.pc(), 0x6d19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0307
        gbc.setState(0x61cb, 0x9242, 0x1e40, 0xcc60, 0x5e39, 0xc1ba, 0x0, 0x0);
        gbc.writeMem(0x61cb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x9242);
        EXPECT(gbc.pc(), 0x61cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0308
        gbc.setState(0x5a6d, 0x9e88, 0x9a50, 0x5801, 0x4a23, 0x7b84, 0x1, 0x1);
        gbc.writeMem(0x5a6d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x9e88);
        EXPECT(gbc.pc(), 0x5a6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0309
        gbc.setState(0x73af, 0xef2c, 0xd340, 0x29ea, 0x9c8d, 0x5f3c, 0x0, 0x0);
        gbc.writeMem(0x73af, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xef2c);
        EXPECT(gbc.pc(), 0x73b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 030B
        gbc.setState(0x4cf8, 0x4693, 0x1100, 0x314f, 0xfd13, 0xc170, 0x1, 0x0);
        gbc.writeMem(0x4cf8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x4693);
        EXPECT(gbc.pc(), 0x4cfa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 030C
        gbc.setState(0x82b1, 0x2576, 0x2d0, 0xadf4, 0xfa30, 0x28, 0x1, 0x0);
        gbc.writeMem(0x82b1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x2576);
        EXPECT(gbc.pc(), 0x82b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82b1), 0xcb);
        EXPECT(gbc.readMem(0x82b2), 0x24);
        // CB 24 030D
        gbc.setState(0x7b1, 0xa33d, 0xad90, 0xcc35, 0xb126, 0xf7f, 0x0, 0x1);
        gbc.writeMem(0x7b1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xa33d);
        EXPECT(gbc.pc(), 0x7b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 030E
        gbc.setState(0x43f5, 0xfc6e, 0x97e0, 0x5de2, 0x14e1, 0x5b00, 0x0, 0x0);
        gbc.writeMem(0x43f5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xfc6e);
        EXPECT(gbc.pc(), 0x43f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 030F
        gbc.setState(0x82f1, 0xbc9, 0x15e0, 0xd550, 0x979c, 0xf70e, 0x0, 0x1);
        gbc.writeMem(0x82f1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xbc9);
        EXPECT(gbc.pc(), 0x82f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82f1), 0xcb);
        EXPECT(gbc.readMem(0x82f2), 0x24);
        // CB 24 0310
        gbc.setState(0x16fb, 0x9ac, 0x1790, 0xc024, 0xc5b0, 0xf492, 0x0, 0x0);
        gbc.writeMem(0x16fb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x9ac);
        EXPECT(gbc.pc(), 0x16fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0311
        gbc.setState(0x8fd9, 0x7913, 0xc0e0, 0xe109, 0x4e27, 0x4847, 0x1, 0x1);
        gbc.writeMem(0x8fd9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x7913);
        EXPECT(gbc.pc(), 0x8fdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fd9), 0xcb);
        EXPECT(gbc.readMem(0x8fda), 0x24);
        // CB 24 0312
        gbc.setState(0x1bc, 0x4555, 0x3200, 0x95d3, 0x6d3f, 0xff58, 0x1, 0x0);
        gbc.writeMem(0x1bc, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x4555);
        EXPECT(gbc.pc(), 0x1be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0313
        gbc.setState(0x4d36, 0x88b0, 0x1920, 0x8d23, 0x505c, 0x823a, 0x1, 0x0);
        gbc.writeMem(0x4d36, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x88b0);
        EXPECT(gbc.pc(), 0x4d38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0314
        gbc.setState(0xbdac, 0xea, 0xbe0, 0xf4fe, 0xfe93, 0x94ae, 0x0, 0x1);
        gbc.writeMem(0xbdac, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xea);
        EXPECT(gbc.pc(), 0xbdae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdac), 0xcb);
        EXPECT(gbc.readMem(0xbdad), 0x24);
        // CB 24 0315
        gbc.setState(0xd3ae, 0x1c4b, 0x5db0, 0xe78f, 0xe39f, 0xfee9, 0x1, 0x1);
        gbc.writeMem(0xd3ae, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x1c4b);
        EXPECT(gbc.pc(), 0xd3b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3ae), 0xcb);
        EXPECT(gbc.readMem(0xd3af), 0x24);
        // CB 24 0316
        gbc.setState(0xe669, 0xe89b, 0x6760, 0x741c, 0xaaff, 0x9365, 0x0, 0x0);
        gbc.writeMem(0xe669, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xe89b);
        EXPECT(gbc.pc(), 0xe66b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe669), 0xcb);
        EXPECT(gbc.readMem(0xe66a), 0x24);
        // CB 24 0317
        gbc.setState(0x5c6d, 0x2ba1, 0xa6d0, 0xb7ad, 0x56c5, 0x98d5, 0x1, 0x0);
        gbc.writeMem(0x5c6d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x2ba1);
        EXPECT(gbc.pc(), 0x5c6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0318
        gbc.setState(0x21f9, 0x1a7b, 0x4f40, 0x4c3a, 0x9bb4, 0x802a, 0x1, 0x1);
        gbc.writeMem(0x21f9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x1a7b);
        EXPECT(gbc.pc(), 0x21fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0319
        gbc.setState(0x4c2f, 0xb23c, 0x4b00, 0xa918, 0x830a, 0x64e7, 0x0, 0x0);
        gbc.writeMem(0x4c2f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xb23c);
        EXPECT(gbc.pc(), 0x4c31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 031A
        gbc.setState(0xae1b, 0x2df6, 0x63b0, 0x22dc, 0x320d, 0x950, 0x1, 0x1);
        gbc.writeMem(0xae1b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x2df6);
        EXPECT(gbc.pc(), 0xae1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae1b), 0xcb);
        EXPECT(gbc.readMem(0xae1c), 0x24);
        // CB 24 031B
        gbc.setState(0xab67, 0xac1d, 0x2a20, 0x780, 0x1baf, 0x7e66, 0x1, 0x1);
        gbc.writeMem(0xab67, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xac1d);
        EXPECT(gbc.pc(), 0xab69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab67), 0xcb);
        EXPECT(gbc.readMem(0xab68), 0x24);
        // CB 24 031C
        gbc.setState(0x115, 0x8fac, 0xb9b0, 0x285f, 0x38f1, 0x3ffe, 0x1, 0x1);
        gbc.writeMem(0x115, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x8fac);
        EXPECT(gbc.pc(), 0x117);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 031D
        gbc.setState(0x2394, 0x3c92, 0xf8c0, 0x49bd, 0xa342, 0x8e5c, 0x1, 0x1);
        gbc.writeMem(0x2394, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x3c92);
        EXPECT(gbc.pc(), 0x2396);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 031E
        gbc.setState(0xa322, 0x44df, 0x7660, 0x90b3, 0x9324, 0x11ac, 0x1, 0x1);
        gbc.writeMem(0xa322, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x44df);
        EXPECT(gbc.pc(), 0xa324);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa322), 0xcb);
        EXPECT(gbc.readMem(0xa323), 0x24);
        // CB 24 031F
        gbc.setState(0xcea6, 0x116a, 0xd190, 0x46c, 0xf6cb, 0xe777, 0x1, 0x0);
        gbc.writeMem(0xcea6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x116a);
        EXPECT(gbc.pc(), 0xcea8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcea6), 0xcb);
        EXPECT(gbc.readMem(0xcea7), 0x24);
        // CB 24 0320
        gbc.setState(0x138d, 0x2536, 0x76d0, 0xaf27, 0x4c55, 0x6032, 0x1, 0x1);
        gbc.writeMem(0x138d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2536);
        EXPECT(gbc.pc(), 0x138f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0321
        gbc.setState(0x8d8f, 0xf387, 0x2270, 0xc0d3, 0xb317, 0xf610, 0x0, 0x0);
        gbc.writeMem(0x8d8f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xf387);
        EXPECT(gbc.pc(), 0x8d91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d8f), 0xcb);
        EXPECT(gbc.readMem(0x8d90), 0x24);
        // CB 24 0322
        gbc.setState(0x5971, 0x44a7, 0x8d80, 0xb59c, 0x2d72, 0x338a, 0x1, 0x1);
        gbc.writeMem(0x5971, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x44a7);
        EXPECT(gbc.pc(), 0x5973);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0323
        gbc.setState(0xb44a, 0x3023, 0xa360, 0x18e, 0x135e, 0x4a7e, 0x0, 0x0);
        gbc.writeMem(0xb44a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x3023);
        EXPECT(gbc.pc(), 0xb44c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb44a), 0xcb);
        EXPECT(gbc.readMem(0xb44b), 0x24);
        // CB 24 0324
        gbc.setState(0x6ded, 0x4802, 0x4090, 0x55a1, 0x545c, 0x346f, 0x1, 0x1);
        gbc.writeMem(0x6ded, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x4802);
        EXPECT(gbc.pc(), 0x6def);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0325
        gbc.setState(0x7739, 0x4240, 0x4180, 0xcd38, 0x6ffa, 0x13fc, 0x0, 0x1);
        gbc.writeMem(0x7739, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x4240);
        EXPECT(gbc.pc(), 0x773b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0326
        gbc.setState(0x375b, 0xf2bc, 0xeec0, 0x817, 0x12a8, 0x1e32, 0x1, 0x0);
        gbc.writeMem(0x375b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xf2bc);
        EXPECT(gbc.pc(), 0x375d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0327
        gbc.setState(0x3060, 0x645d, 0x5680, 0x1a78, 0x5812, 0x2301, 0x0, 0x0);
        gbc.writeMem(0x3060, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x645d);
        EXPECT(gbc.pc(), 0x3062);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0328
        gbc.setState(0x7da2, 0xab49, 0xa9a0, 0x2b2d, 0x80dc, 0xb750, 0x1, 0x0);
        gbc.writeMem(0x7da2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xab49);
        EXPECT(gbc.pc(), 0x7da4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0329
        gbc.setState(0xa6c1, 0x2283, 0x6440, 0x74b9, 0x1908, 0xa8b7, 0x0, 0x0);
        gbc.writeMem(0xa6c1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x2283);
        EXPECT(gbc.pc(), 0xa6c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6c1), 0xcb);
        EXPECT(gbc.readMem(0xa6c2), 0x24);
        // CB 24 032A
        gbc.setState(0x94b7, 0xc127, 0x53a0, 0x6fe7, 0x5c61, 0x35b5, 0x1, 0x1);
        gbc.writeMem(0x94b7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xc127);
        EXPECT(gbc.pc(), 0x94b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94b7), 0xcb);
        EXPECT(gbc.readMem(0x94b8), 0x24);
        // CB 24 032C
        gbc.setState(0xa6e7, 0x55b7, 0xb790, 0x6b8f, 0x9dec, 0x3234, 0x0, 0x1);
        gbc.writeMem(0xa6e7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x55b7);
        EXPECT(gbc.pc(), 0xa6e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6e7), 0xcb);
        EXPECT(gbc.readMem(0xa6e8), 0x24);
        // CB 24 032D
        gbc.setState(0xc39, 0x454d, 0x4b0, 0xbf05, 0x85c8, 0x1a91, 0x0, 0x0);
        gbc.writeMem(0xc39, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x454d);
        EXPECT(gbc.pc(), 0xc3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 032E
        gbc.setState(0x63fe, 0x9c84, 0xef70, 0xe46d, 0x7bad, 0x254a, 0x0, 0x0);
        gbc.writeMem(0x63fe, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x9c84);
        EXPECT(gbc.pc(), 0x6400);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 032F
        gbc.setState(0xad11, 0x5d1, 0x5220, 0xf6c, 0x4540, 0xdcf7, 0x1, 0x0);
        gbc.writeMem(0xad11, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x5d1);
        EXPECT(gbc.pc(), 0xad13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad11), 0xcb);
        EXPECT(gbc.readMem(0xad12), 0x24);
        // CB 24 0330
        gbc.setState(0x7bb4, 0x23df, 0xcd0, 0x7d16, 0x3529, 0xa12e, 0x1, 0x0);
        gbc.writeMem(0x7bb4, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x23df);
        EXPECT(gbc.pc(), 0x7bb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0331
        gbc.setState(0x778b, 0xd04c, 0xda20, 0xfcf1, 0xea39, 0x50cb, 0x0, 0x1);
        gbc.writeMem(0x778b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xd04c);
        EXPECT(gbc.pc(), 0x778d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0332
        gbc.setState(0x7837, 0xd1af, 0xad00, 0x2ea1, 0x6153, 0x7a98, 0x0, 0x0);
        gbc.writeMem(0x7837, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xd1af);
        EXPECT(gbc.pc(), 0x7839);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0333
        gbc.setState(0x17db, 0xef21, 0x7540, 0x87fa, 0x3ff8, 0xa45b, 0x0, 0x0);
        gbc.writeMem(0x17db, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xef21);
        EXPECT(gbc.pc(), 0x17dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0334
        gbc.setState(0x94c, 0xe9cb, 0x46c0, 0x8abd, 0xd1d4, 0x2e4f, 0x1, 0x0);
        gbc.writeMem(0x94c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xe9cb);
        EXPECT(gbc.pc(), 0x94e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0335
        gbc.setState(0x72ae, 0x3602, 0x2960, 0x1f0a, 0x2095, 0x67fc, 0x0, 0x0);
        gbc.writeMem(0x72ae, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x3602);
        EXPECT(gbc.pc(), 0x72b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0336
        gbc.setState(0x6e98, 0x12e0, 0x46c0, 0x8b4b, 0x9454, 0xa274, 0x1, 0x1);
        gbc.writeMem(0x6e98, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x12e0);
        EXPECT(gbc.pc(), 0x6e9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0337
        gbc.setState(0x653d, 0x5bfc, 0xea70, 0x42da, 0xd10a, 0x1e67, 0x0, 0x0);
        gbc.writeMem(0x653d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x5bfc);
        EXPECT(gbc.pc(), 0x653f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0338
        gbc.setState(0x5f8, 0x1ff5, 0x7790, 0x25b9, 0x6d5e, 0x5291, 0x1, 0x1);
        gbc.writeMem(0x5f8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x1ff5);
        EXPECT(gbc.pc(), 0x5fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0339
        gbc.setState(0xce5d, 0xc642, 0xe290, 0x73ec, 0xfa25, 0x7aa5, 0x0, 0x0);
        gbc.writeMem(0xce5d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xc642);
        EXPECT(gbc.pc(), 0xce5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce5d), 0xcb);
        EXPECT(gbc.readMem(0xce5e), 0x24);
        // CB 24 033A
        gbc.setState(0x4600, 0x2372, 0x5000, 0x4ac9, 0x6e1a, 0x630b, 0x1, 0x0);
        gbc.writeMem(0x4600, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x2372);
        EXPECT(gbc.pc(), 0x4602);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 033B
        gbc.setState(0xea2e, 0xea52, 0xf240, 0x676e, 0x8704, 0x792a, 0x1, 0x1);
        gbc.writeMem(0xea2e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xea52);
        EXPECT(gbc.pc(), 0xea30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea2e), 0xcb);
        EXPECT(gbc.readMem(0xea2f), 0x24);
        // CB 24 033C
        gbc.setState(0x9982, 0xaa76, 0xb170, 0xde73, 0x4bf0, 0x3ca1, 0x0, 0x1);
        gbc.writeMem(0x9982, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xaa76);
        EXPECT(gbc.pc(), 0x9984);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9982), 0xcb);
        EXPECT(gbc.readMem(0x9983), 0x24);
        // CB 24 033D
        gbc.setState(0x6361, 0x3371, 0xb4c0, 0x452e, 0x13e9, 0x743, 0x0, 0x1);
        gbc.writeMem(0x6361, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x3371);
        EXPECT(gbc.pc(), 0x6363);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 033E
        gbc.setState(0x41cb, 0xdd69, 0x9eb0, 0xb624, 0x1e88, 0x9268, 0x0, 0x1);
        gbc.writeMem(0x41cb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xdd69);
        EXPECT(gbc.pc(), 0x41cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 033F
        gbc.setState(0xe3ed, 0xefc2, 0x9d70, 0x2248, 0xd01f, 0x95f5, 0x1, 0x0);
        gbc.writeMem(0xe3ed, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xefc2);
        EXPECT(gbc.pc(), 0xe3ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3ed), 0xcb);
        EXPECT(gbc.readMem(0xe3ee), 0x24);
        // CB 24 0340
        gbc.setState(0x1693, 0xa5d1, 0x2900, 0x497c, 0x840a, 0xba43, 0x1, 0x0);
        gbc.writeMem(0x1693, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xa5d1);
        EXPECT(gbc.pc(), 0x1695);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0341
        gbc.setState(0x512, 0xbd75, 0x6bb0, 0x45fa, 0xd21b, 0xe63e, 0x0, 0x1);
        gbc.writeMem(0x512, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xbd75);
        EXPECT(gbc.pc(), 0x514);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0342
        gbc.setState(0xde16, 0x9ff0, 0x880, 0x697a, 0x5ee4, 0x9a35, 0x0, 0x1);
        gbc.writeMem(0xde16, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x9ff0);
        EXPECT(gbc.pc(), 0xde18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde16), 0xcb);
        EXPECT(gbc.readMem(0xde17), 0x24);
        // CB 24 0343
        gbc.setState(0x9f4, 0x2706, 0xa8d0, 0x3a91, 0x4f0f, 0xa38b, 0x0, 0x1);
        gbc.writeMem(0x9f4, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x2706);
        EXPECT(gbc.pc(), 0x9f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0344
        gbc.setState(0x5542, 0xc8f7, 0xf410, 0xf2e1, 0xa2ce, 0xd524, 0x1, 0x0);
        gbc.writeMem(0x5542, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xc8f7);
        EXPECT(gbc.pc(), 0x5544);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0345
        gbc.setState(0x4162, 0xa8f5, 0xcd90, 0xffc4, 0x66a4, 0xd0de, 0x0, 0x0);
        gbc.writeMem(0x4162, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xa8f5);
        EXPECT(gbc.pc(), 0x4164);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0346
        gbc.setState(0x40c2, 0x998e, 0xa8d0, 0x96b, 0xaec8, 0x48bf, 0x0, 0x1);
        gbc.writeMem(0x40c2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x998e);
        EXPECT(gbc.pc(), 0x40c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0349
        gbc.setState(0x6d11, 0x985, 0x84f0, 0x9b59, 0x46fe, 0x10a8, 0x0, 0x1);
        gbc.writeMem(0x6d11, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x985);
        EXPECT(gbc.pc(), 0x6d13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 034B
        gbc.setState(0xec68, 0xc63a, 0x41c0, 0xb3ca, 0x4ee8, 0xeb60, 0x0, 0x1);
        gbc.writeMem(0xec68, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xc63a);
        EXPECT(gbc.pc(), 0xec6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec68), 0xcb);
        EXPECT(gbc.readMem(0xec69), 0x24);
        // CB 24 034C
        gbc.setState(0x3024, 0x7b9, 0x90d0, 0x5dd1, 0xd22d, 0x35bc, 0x0, 0x0);
        gbc.writeMem(0x3024, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x7b9);
        EXPECT(gbc.pc(), 0x3026);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 034D
        gbc.setState(0x2915, 0x5a4d, 0x940, 0x530c, 0x598c, 0x3a21, 0x1, 0x0);
        gbc.writeMem(0x2915, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x5a4d);
        EXPECT(gbc.pc(), 0x2917);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 034E
        gbc.setState(0x1fc0, 0xa3bd, 0x2260, 0x30c3, 0x56b9, 0x4fab, 0x1, 0x1);
        gbc.writeMem(0x1fc0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xa3bd);
        EXPECT(gbc.pc(), 0x1fc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 034F
        gbc.setState(0xe2bd, 0x7d43, 0x160, 0xdd3d, 0xbfcb, 0xabc3, 0x0, 0x0);
        gbc.writeMem(0xe2bd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x7d43);
        EXPECT(gbc.pc(), 0xe2bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2bd), 0xcb);
        EXPECT(gbc.readMem(0xe2be), 0x24);
        // CB 24 0350
        gbc.setState(0x79bc, 0x9f1f, 0x72a0, 0x33d, 0x45d2, 0x81ef, 0x1, 0x0);
        gbc.writeMem(0x79bc, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x9f1f);
        EXPECT(gbc.pc(), 0x79be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0351
        gbc.setState(0x6627, 0x4576, 0xa390, 0x8f72, 0xecd2, 0x4ae7, 0x1, 0x1);
        gbc.writeMem(0x6627, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x4576);
        EXPECT(gbc.pc(), 0x6629);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0352
        gbc.setState(0xd87f, 0x77bc, 0xaef0, 0x19e4, 0x120c, 0x3fd0, 0x0, 0x1);
        gbc.writeMem(0xd87f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x77bc);
        EXPECT(gbc.pc(), 0xd881);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd87f), 0xcb);
        EXPECT(gbc.readMem(0xd880), 0x24);
        // CB 24 0353
        gbc.setState(0x2e7e, 0xee0e, 0xaba0, 0x7e8b, 0xfa9d, 0x2001, 0x0, 0x1);
        gbc.writeMem(0x2e7e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xee0e);
        EXPECT(gbc.pc(), 0x2e80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0354
        gbc.setState(0x5466, 0xb5c4, 0x30f0, 0xaad4, 0x72e1, 0x242c, 0x0, 0x1);
        gbc.writeMem(0x5466, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xb5c4);
        EXPECT(gbc.pc(), 0x5468);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0355
        gbc.setState(0xed7c, 0x5ec0, 0xa180, 0xb1e, 0xbc86, 0x781f, 0x1, 0x0);
        gbc.writeMem(0xed7c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5ec0);
        EXPECT(gbc.pc(), 0xed7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed7c), 0xcb);
        EXPECT(gbc.readMem(0xed7d), 0x24);
        // CB 24 0356
        gbc.setState(0x7fbd, 0xf70b, 0x7220, 0xe5d7, 0x5f30, 0x742b, 0x0, 0x0);
        gbc.writeMem(0x7fbd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xf70b);
        EXPECT(gbc.pc(), 0x7fbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0357
        gbc.setState(0x3aa1, 0xea2f, 0xfa70, 0x6b89, 0x3b81, 0x2438, 0x1, 0x1);
        gbc.writeMem(0x3aa1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xea2f);
        EXPECT(gbc.pc(), 0x3aa3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0358
        gbc.setState(0x95fe, 0x89bf, 0x4d00, 0x82ac, 0x2a39, 0xd61, 0x0, 0x0);
        gbc.writeMem(0x95fe, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x89bf);
        EXPECT(gbc.pc(), 0x9600);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95fe), 0xcb);
        EXPECT(gbc.readMem(0x95ff), 0x24);
        // CB 24 0359
        gbc.setState(0xc558, 0x6f, 0x36c0, 0x675a, 0x8483, 0xfb6d, 0x1, 0x0);
        gbc.writeMem(0xc558, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x6f);
        EXPECT(gbc.pc(), 0xc55a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc558), 0xcb);
        EXPECT(gbc.readMem(0xc559), 0x24);
        // CB 24 035A
        gbc.setState(0xd6b3, 0x9f5b, 0x5a40, 0x540, 0x671, 0x75f7, 0x0, 0x0);
        gbc.writeMem(0xd6b3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x9f5b);
        EXPECT(gbc.pc(), 0xd6b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6b3), 0xcb);
        EXPECT(gbc.readMem(0xd6b4), 0x24);
        // CB 24 035B
        gbc.setState(0xb4f9, 0x4151, 0x7270, 0x130b, 0xb8ad, 0x4791, 0x1, 0x0);
        gbc.writeMem(0xb4f9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4151);
        EXPECT(gbc.pc(), 0xb4fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4f9), 0xcb);
        EXPECT(gbc.readMem(0xb4fa), 0x24);
        // CB 24 035C
        gbc.setState(0xe4d7, 0x93e1, 0xb320, 0x8a94, 0xcf8d, 0xb807, 0x0, 0x0);
        gbc.writeMem(0xe4d7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x93e1);
        EXPECT(gbc.pc(), 0xe4d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4d7), 0xcb);
        EXPECT(gbc.readMem(0xe4d8), 0x24);
        // CB 24 035D
        gbc.setState(0x3a9f, 0x1493, 0x4530, 0x95f3, 0x7f8b, 0x374a, 0x0, 0x1);
        gbc.writeMem(0x3a9f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x1493);
        EXPECT(gbc.pc(), 0x3aa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 035E
        gbc.setState(0xd200, 0x4c03, 0x50c0, 0x7807, 0x5a97, 0xc0bf, 0x0, 0x0);
        gbc.writeMem(0xd200, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x4c03);
        EXPECT(gbc.pc(), 0xd202);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd200), 0xcb);
        EXPECT(gbc.readMem(0xd201), 0x24);
        // CB 24 035F
        gbc.setState(0x4079, 0xbb72, 0x4e70, 0xe429, 0x50fe, 0x6895, 0x0, 0x1);
        gbc.writeMem(0x4079, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xbb72);
        EXPECT(gbc.pc(), 0x407b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0360
        gbc.setState(0x24bf, 0x6602, 0xfa50, 0xbcc3, 0x4410, 0x9167, 0x0, 0x0);
        gbc.writeMem(0x24bf, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x6602);
        EXPECT(gbc.pc(), 0x24c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0361
        gbc.setState(0xb7b1, 0xc807, 0xb210, 0x63af, 0xcb80, 0x48df, 0x0, 0x0);
        gbc.writeMem(0xb7b1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xc807);
        EXPECT(gbc.pc(), 0xb7b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7b1), 0xcb);
        EXPECT(gbc.readMem(0xb7b2), 0x24);
        // CB 24 0362
        gbc.setState(0x169a, 0xb3c9, 0x41f0, 0xa5f, 0x9e0e, 0x2cfb, 0x1, 0x1);
        gbc.writeMem(0x169a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xb3c9);
        EXPECT(gbc.pc(), 0x169c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0363
        gbc.setState(0xafe8, 0xdac5, 0x5400, 0xf2a4, 0xd0b9, 0xf4ee, 0x0, 0x0);
        gbc.writeMem(0xafe8, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xdac5);
        EXPECT(gbc.pc(), 0xafea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafe8), 0xcb);
        EXPECT(gbc.readMem(0xafe9), 0x24);
        // CB 24 0364
        gbc.setState(0xb1cf, 0xd87c, 0x7cc0, 0xfd99, 0x30ee, 0x6987, 0x1, 0x0);
        gbc.writeMem(0xb1cf, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xd87c);
        EXPECT(gbc.pc(), 0xb1d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1cf), 0xcb);
        EXPECT(gbc.readMem(0xb1d0), 0x24);
        // CB 24 0365
        gbc.setState(0xc439, 0x8b77, 0xb3f0, 0x89ec, 0xbc40, 0xf489, 0x1, 0x1);
        gbc.writeMem(0xc439, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x8b77);
        EXPECT(gbc.pc(), 0xc43b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc439), 0xcb);
        EXPECT(gbc.readMem(0xc43a), 0x24);
        // CB 24 0366
        gbc.setState(0xe1ce, 0x9e05, 0x9550, 0x9b87, 0xd174, 0xfe5a, 0x1, 0x0);
        gbc.writeMem(0xe1ce, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x9e05);
        EXPECT(gbc.pc(), 0xe1d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1ce), 0xcb);
        EXPECT(gbc.readMem(0xe1cf), 0x24);
        // CB 24 0367
        gbc.setState(0x88e0, 0xad42, 0x93c0, 0x2ca8, 0xc2c7, 0x3027, 0x1, 0x1);
        gbc.writeMem(0x88e0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xad42);
        EXPECT(gbc.pc(), 0x88e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88e0), 0xcb);
        EXPECT(gbc.readMem(0x88e1), 0x24);
        // CB 24 0368
        gbc.setState(0xd8cc, 0x82a6, 0x3300, 0x5e52, 0x52a7, 0xfc05, 0x0, 0x1);
        gbc.writeMem(0xd8cc, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x82a6);
        EXPECT(gbc.pc(), 0xd8ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8cc), 0xcb);
        EXPECT(gbc.readMem(0xd8cd), 0x24);
        // CB 24 0369
        gbc.setState(0xb641, 0x470a, 0xce40, 0xcde5, 0xc3b4, 0xc3a7, 0x1, 0x0);
        gbc.writeMem(0xb641, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x470a);
        EXPECT(gbc.pc(), 0xb643);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb641), 0xcb);
        EXPECT(gbc.readMem(0xb642), 0x24);
        // CB 24 036A
        gbc.setState(0x7605, 0x6551, 0x22a0, 0x603c, 0x262b, 0x6c0d, 0x0, 0x1);
        gbc.writeMem(0x7605, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6551);
        EXPECT(gbc.pc(), 0x7607);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 036B
        gbc.setState(0xa055, 0xa8fd, 0x89e0, 0x485a, 0xac42, 0x5d76, 0x1, 0x0);
        gbc.writeMem(0xa055, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xa8fd);
        EXPECT(gbc.pc(), 0xa057);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa055), 0xcb);
        EXPECT(gbc.readMem(0xa056), 0x24);
        // CB 24 036C
        gbc.setState(0x3ee0, 0xb58, 0xad00, 0xa813, 0xc9c5, 0xc0b, 0x1, 0x0);
        gbc.writeMem(0x3ee0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xb58);
        EXPECT(gbc.pc(), 0x3ee2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 036D
        gbc.setState(0xb014, 0x2a1c, 0x52c0, 0x407f, 0xaa21, 0xbc52, 0x1, 0x1);
        gbc.writeMem(0xb014, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x2a1c);
        EXPECT(gbc.pc(), 0xb016);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb014), 0xcb);
        EXPECT(gbc.readMem(0xb015), 0x24);
        // CB 24 036E
        gbc.setState(0xd95b, 0xe0b6, 0x6c70, 0x4cb0, 0x9cb4, 0xef1b, 0x0, 0x1);
        gbc.writeMem(0xd95b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe0b6);
        EXPECT(gbc.pc(), 0xd95d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd95b), 0xcb);
        EXPECT(gbc.readMem(0xd95c), 0x24);
        // CB 24 036F
        gbc.setState(0x3487, 0x750f, 0x1800, 0xe08b, 0x3a42, 0x52c1, 0x1, 0x1);
        gbc.writeMem(0x3487, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x750f);
        EXPECT(gbc.pc(), 0x3489);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0370
        gbc.setState(0x5a93, 0xe423, 0x9cc0, 0x5218, 0x44e6, 0xc686, 0x0, 0x0);
        gbc.writeMem(0x5a93, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xe423);
        EXPECT(gbc.pc(), 0x5a95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0371
        gbc.setState(0x7baa, 0x4af4, 0x7b40, 0xbc1c, 0x1431, 0x274d, 0x1, 0x1);
        gbc.writeMem(0x7baa, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x4af4);
        EXPECT(gbc.pc(), 0x7bac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0372
        gbc.setState(0xe70d, 0xd950, 0x1660, 0xd440, 0x2d91, 0xc572, 0x1, 0x1);
        gbc.writeMem(0xe70d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd950);
        EXPECT(gbc.pc(), 0xe70f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe70d), 0xcb);
        EXPECT(gbc.readMem(0xe70e), 0x24);
        // CB 24 0373
        gbc.setState(0x7ab7, 0xfc4a, 0xd70, 0x2c45, 0x8792, 0x1136, 0x1, 0x0);
        gbc.writeMem(0x7ab7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xfc4a);
        EXPECT(gbc.pc(), 0x7ab9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0374
        gbc.setState(0xe97d, 0xba55, 0x5890, 0xc9a8, 0x286b, 0xdca4, 0x1, 0x1);
        gbc.writeMem(0xe97d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xba55);
        EXPECT(gbc.pc(), 0xe97f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe97d), 0xcb);
        EXPECT(gbc.readMem(0xe97e), 0x24);
        // CB 24 0375
        gbc.setState(0x3d15, 0xb7e3, 0xcb70, 0xa46a, 0x14ce, 0x3382, 0x1, 0x0);
        gbc.writeMem(0x3d15, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xb7e3);
        EXPECT(gbc.pc(), 0x3d17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0376
        gbc.setState(0x34cb, 0xc209, 0x1450, 0x4bf7, 0x5919, 0x88bb, 0x0, 0x1);
        gbc.writeMem(0x34cb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xc209);
        EXPECT(gbc.pc(), 0x34cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0377
        gbc.setState(0x141f, 0xea31, 0xc6a0, 0xb094, 0xff80, 0x6e44, 0x1, 0x1);
        gbc.writeMem(0x141f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xea31);
        EXPECT(gbc.pc(), 0x1421);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0378
        gbc.setState(0xe5e6, 0x6226, 0xe4b0, 0x1026, 0x4c9, 0x3b55, 0x0, 0x1);
        gbc.writeMem(0xe5e6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x6226);
        EXPECT(gbc.pc(), 0xe5e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5e6), 0xcb);
        EXPECT(gbc.readMem(0xe5e7), 0x24);
        // CB 24 0379
        gbc.setState(0xb50, 0x53cf, 0x2570, 0xf4c8, 0x4814, 0x9016, 0x0, 0x1);
        gbc.writeMem(0xb50, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x53cf);
        EXPECT(gbc.pc(), 0xb52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 037A
        gbc.setState(0x64ba, 0x32dc, 0x5bd0, 0x993c, 0x47d7, 0x4a58, 0x1, 0x0);
        gbc.writeMem(0x64ba, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x32dc);
        EXPECT(gbc.pc(), 0x64bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 037B
        gbc.setState(0xb9a4, 0xafe9, 0xc4a0, 0x99b8, 0xa5f6, 0x8265, 0x1, 0x0);
        gbc.writeMem(0xb9a4, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xafe9);
        EXPECT(gbc.pc(), 0xb9a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9a4), 0xcb);
        EXPECT(gbc.readMem(0xb9a5), 0x24);
        // CB 24 037C
        gbc.setState(0x49ac, 0x4718, 0x2be0, 0x6089, 0x8e36, 0x35cf, 0x0, 0x0);
        gbc.writeMem(0x49ac, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x4718);
        EXPECT(gbc.pc(), 0x49ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 037D
        gbc.setState(0x8301, 0x439a, 0x18c0, 0xcc07, 0xfd79, 0x63bd, 0x0, 0x1);
        gbc.writeMem(0x8301, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x439a);
        EXPECT(gbc.pc(), 0x8303);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8301), 0xcb);
        EXPECT(gbc.readMem(0x8302), 0x24);
        // CB 24 037E
        gbc.setState(0xfbb, 0x59bd, 0x6bf0, 0x631e, 0x7550, 0x90af, 0x0, 0x1);
        gbc.writeMem(0xfbb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x59bd);
        EXPECT(gbc.pc(), 0xfbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 037F
        gbc.setState(0x1a02, 0x5a20, 0xec40, 0xe73e, 0x7d6d, 0x6ff0, 0x0, 0x1);
        gbc.writeMem(0x1a02, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x5a20);
        EXPECT(gbc.pc(), 0x1a04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0380
        gbc.setState(0x538e, 0xde7f, 0x4fa0, 0x7077, 0x3bf6, 0x6e53, 0x0, 0x1);
        gbc.writeMem(0x538e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xde7f);
        EXPECT(gbc.pc(), 0x5390);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0381
        gbc.setState(0x8a42, 0xe4f1, 0x9d40, 0x4989, 0xaa44, 0xc8de, 0x0, 0x0);
        gbc.writeMem(0x8a42, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xe4f1);
        EXPECT(gbc.pc(), 0x8a44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a42), 0xcb);
        EXPECT(gbc.readMem(0x8a43), 0x24);
        // CB 24 0382
        gbc.setState(0x15c7, 0x5296, 0xfe90, 0x65e2, 0xf419, 0xe696, 0x0, 0x1);
        gbc.writeMem(0x15c7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x5296);
        EXPECT(gbc.pc(), 0x15c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0383
        gbc.setState(0x9eea, 0x7503, 0x8040, 0x9417, 0x8687, 0x1a69, 0x1, 0x0);
        gbc.writeMem(0x9eea, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x7503);
        EXPECT(gbc.pc(), 0x9eec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eea), 0xcb);
        EXPECT(gbc.readMem(0x9eeb), 0x24);
        // CB 24 0384
        gbc.setState(0x9a5b, 0xd880, 0x9d90, 0xb429, 0x6a57, 0xe227, 0x1, 0x1);
        gbc.writeMem(0x9a5b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xd880);
        EXPECT(gbc.pc(), 0x9a5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a5b), 0xcb);
        EXPECT(gbc.readMem(0x9a5c), 0x24);
        // CB 24 0385
        gbc.setState(0x23f5, 0x6cc5, 0x4ec0, 0x3e7f, 0x3d9f, 0x4e76, 0x0, 0x0);
        gbc.writeMem(0x23f5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x6cc5);
        EXPECT(gbc.pc(), 0x23f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0387
        gbc.setState(0xdea7, 0x6817, 0x2e60, 0xe1ed, 0x7357, 0xb60b, 0x0, 0x1);
        gbc.writeMem(0xdea7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x6817);
        EXPECT(gbc.pc(), 0xdea9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdea7), 0xcb);
        EXPECT(gbc.readMem(0xdea8), 0x24);
        // CB 24 0388
        gbc.setState(0xeaaf, 0xe929, 0xb830, 0xd9c2, 0x450b, 0x591e, 0x1, 0x1);
        gbc.writeMem(0xeaaf, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xe929);
        EXPECT(gbc.pc(), 0xeab1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaaf), 0xcb);
        EXPECT(gbc.readMem(0xeab0), 0x24);
        // CB 24 0389
        gbc.setState(0xd656, 0x20be, 0x82c0, 0x5841, 0xf0b1, 0x4902, 0x0, 0x1);
        gbc.writeMem(0xd656, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x20be);
        EXPECT(gbc.pc(), 0xd658);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd656), 0xcb);
        EXPECT(gbc.readMem(0xd657), 0x24);
        // CB 24 038A
        gbc.setState(0x415b, 0xaed8, 0x5f60, 0xc808, 0xc548, 0xb125, 0x1, 0x1);
        gbc.writeMem(0x415b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xaed8);
        EXPECT(gbc.pc(), 0x415d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 038B
        gbc.setState(0x6447, 0x326e, 0x4d50, 0x4055, 0x73b1, 0x4464, 0x0, 0x1);
        gbc.writeMem(0x6447, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x326e);
        EXPECT(gbc.pc(), 0x6449);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 038C
        gbc.setState(0x979f, 0xb6c2, 0x46b0, 0x1701, 0xafa8, 0xef9e, 0x1, 0x1);
        gbc.writeMem(0x979f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xb6c2);
        EXPECT(gbc.pc(), 0x97a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x979f), 0xcb);
        EXPECT(gbc.readMem(0x97a0), 0x24);
        // CB 24 038D
        gbc.setState(0x7ff5, 0xe509, 0xa350, 0x5b32, 0x5a7b, 0xd4cb, 0x0, 0x1);
        gbc.writeMem(0x7ff5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xe509);
        EXPECT(gbc.pc(), 0x7ff7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 038E
        gbc.setState(0x6134, 0xc99a, 0x22c0, 0xfb84, 0x323e, 0xcc2a, 0x0, 0x1);
        gbc.writeMem(0x6134, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xc99a);
        EXPECT(gbc.pc(), 0x6136);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 038F
        gbc.setState(0x1346, 0x2ebd, 0xa60, 0xefe9, 0xea6, 0x84d3, 0x1, 0x1);
        gbc.writeMem(0x1346, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x2ebd);
        EXPECT(gbc.pc(), 0x1348);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0390
        gbc.setState(0x662d, 0x74a, 0x7320, 0x5f7e, 0x4432, 0xccba, 0x0, 0x0);
        gbc.writeMem(0x662d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x74a);
        EXPECT(gbc.pc(), 0x662f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 0391
        gbc.setState(0xd0d5, 0xe364, 0x4400, 0x1237, 0xfa12, 0x63ef, 0x0, 0x0);
        gbc.writeMem(0xd0d5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xe364);
        EXPECT(gbc.pc(), 0xd0d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0d5), 0xcb);
        EXPECT(gbc.readMem(0xd0d6), 0x24);
        // CB 24 0392
        gbc.setState(0xe1cf, 0xae57, 0x2de0, 0xd67b, 0xd11, 0x707d, 0x1, 0x0);
        gbc.writeMem(0xe1cf, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xae57);
        EXPECT(gbc.pc(), 0xe1d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1cf), 0xcb);
        EXPECT(gbc.readMem(0xe1d0), 0x24);
        // CB 24 0393
        gbc.setState(0x8092, 0x5486, 0x8a60, 0xe273, 0x347a, 0xe70f, 0x0, 0x0);
        gbc.writeMem(0x8092, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x5486);
        EXPECT(gbc.pc(), 0x8094);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8092), 0xcb);
        EXPECT(gbc.readMem(0x8093), 0x24);
        // CB 24 0394
        gbc.setState(0x47b5, 0xf7cb, 0x7960, 0x6a5e, 0xec03, 0x5a94, 0x1, 0x1);
        gbc.writeMem(0x47b5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xf7cb);
        EXPECT(gbc.pc(), 0x47b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0395
        gbc.setState(0xb223, 0xb134, 0xe5c0, 0x66ca, 0x527c, 0x3f56, 0x0, 0x1);
        gbc.writeMem(0xb223, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xb134);
        EXPECT(gbc.pc(), 0xb225);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb223), 0xcb);
        EXPECT(gbc.readMem(0xb224), 0x24);
        // CB 24 0396
        gbc.setState(0x8148, 0xd928, 0x3420, 0xc69d, 0xac8a, 0xd445, 0x0, 0x1);
        gbc.writeMem(0x8148, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xd928);
        EXPECT(gbc.pc(), 0x814a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8148), 0xcb);
        EXPECT(gbc.readMem(0x8149), 0x24);
        // CB 24 0397
        gbc.setState(0x35de, 0x4e5, 0x9100, 0xdebe, 0x6eb5, 0x3a54, 0x0, 0x0);
        gbc.writeMem(0x35de, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x4e5);
        EXPECT(gbc.pc(), 0x35e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 0399
        gbc.setState(0xd8cd, 0x24c7, 0x950, 0xa2cb, 0xd9f7, 0x528, 0x0, 0x1);
        gbc.writeMem(0xd8cd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x24c7);
        EXPECT(gbc.pc(), 0xd8cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8cd), 0xcb);
        EXPECT(gbc.readMem(0xd8ce), 0x24);
        // CB 24 039A
        gbc.setState(0x866, 0xc778, 0x3240, 0x4d3b, 0xa86e, 0xab9, 0x1, 0x1);
        gbc.writeMem(0x866, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xc778);
        EXPECT(gbc.pc(), 0x868);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 039B
        gbc.setState(0x6c59, 0x6b82, 0x44d0, 0xb8cb, 0xa4a6, 0x3d03, 0x1, 0x0);
        gbc.writeMem(0x6c59, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x6b82);
        EXPECT(gbc.pc(), 0x6c5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 039C
        gbc.setState(0xe925, 0xad7, 0xc830, 0x8a, 0xc996, 0x295c, 0x1, 0x1);
        gbc.writeMem(0xe925, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xad7);
        EXPECT(gbc.pc(), 0xe927);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe925), 0xcb);
        EXPECT(gbc.readMem(0xe926), 0x24);
        // CB 24 039D
        gbc.setState(0x56ad, 0x9f03, 0xe430, 0xba49, 0xb625, 0x6be9, 0x1, 0x1);
        gbc.writeMem(0x56ad, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x9f03);
        EXPECT(gbc.pc(), 0x56af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 039E
        gbc.setState(0x74f0, 0x9304, 0x8f10, 0xaab4, 0xed20, 0xc257, 0x1, 0x0);
        gbc.writeMem(0x74f0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x9304);
        EXPECT(gbc.pc(), 0x74f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 039F
        gbc.setState(0xa719, 0x6d23, 0xf10, 0xd24f, 0x9aef, 0x1ee9, 0x1, 0x0);
        gbc.writeMem(0xa719, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x6d23);
        EXPECT(gbc.pc(), 0xa71b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa719), 0xcb);
        EXPECT(gbc.readMem(0xa71a), 0x24);
        // CB 24 03A0
        gbc.setState(0x48c1, 0x6475, 0x91a0, 0xb519, 0x7a8e, 0x5e79, 0x0, 0x0);
        gbc.writeMem(0x48c1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x6475);
        EXPECT(gbc.pc(), 0x48c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03A1
        gbc.setState(0x7552, 0xb128, 0xbd90, 0xf5a8, 0x3010, 0xc4ad, 0x1, 0x0);
        gbc.writeMem(0x7552, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xb128);
        EXPECT(gbc.pc(), 0x7554);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03A2
        gbc.setState(0x32f6, 0x6c17, 0xd8c0, 0xec08, 0x979d, 0xbd1c, 0x0, 0x0);
        gbc.writeMem(0x32f6, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6c17);
        EXPECT(gbc.pc(), 0x32f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03A3
        gbc.setState(0xa503, 0xaf63, 0x88d0, 0x8f8, 0x4c21, 0x3255, 0x1, 0x0);
        gbc.writeMem(0xa503, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xaf63);
        EXPECT(gbc.pc(), 0xa505);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa503), 0xcb);
        EXPECT(gbc.readMem(0xa504), 0x24);
        // CB 24 03A4
        gbc.setState(0x14cc, 0x343a, 0x62b0, 0xa117, 0xa966, 0xf332, 0x1, 0x1);
        gbc.writeMem(0x14cc, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x343a);
        EXPECT(gbc.pc(), 0x14ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03A5
        gbc.setState(0x3e9c, 0x5fe1, 0x3950, 0xe74d, 0xc1d1, 0xde70, 0x1, 0x1);
        gbc.writeMem(0x3e9c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x5fe1);
        EXPECT(gbc.pc(), 0x3e9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03A6
        gbc.setState(0x81dd, 0xc788, 0x6bc0, 0x57d2, 0x7235, 0x5bbd, 0x0, 0x1);
        gbc.writeMem(0x81dd, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xc788);
        EXPECT(gbc.pc(), 0x81df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81dd), 0xcb);
        EXPECT(gbc.readMem(0x81de), 0x24);
        // CB 24 03A7
        gbc.setState(0xd824, 0xc8dd, 0x38f0, 0x2d9b, 0x125a, 0x3656, 0x0, 0x0);
        gbc.writeMem(0xd824, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xc8dd);
        EXPECT(gbc.pc(), 0xd826);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd824), 0xcb);
        EXPECT(gbc.readMem(0xd825), 0x24);
        // CB 24 03A8
        gbc.setState(0x625c, 0xd03a, 0xdb30, 0x9d5a, 0x98b0, 0x7d2f, 0x0, 0x1);
        gbc.writeMem(0x625c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xd03a);
        EXPECT(gbc.pc(), 0x625e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03A9
        gbc.setState(0x6fb, 0xbf53, 0xb790, 0x1e0e, 0x4ec3, 0xcf1e, 0x0, 0x1);
        gbc.writeMem(0x6fb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xbf53);
        EXPECT(gbc.pc(), 0x6fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03AA
        gbc.setState(0x6d51, 0x4930, 0xd640, 0x148f, 0x14fe, 0xfdb3, 0x0, 0x0);
        gbc.writeMem(0x6d51, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x4930);
        EXPECT(gbc.pc(), 0x6d53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03AB
        gbc.setState(0xc489, 0xde08, 0x7c40, 0x7b27, 0xdbaf, 0x4049, 0x1, 0x1);
        gbc.writeMem(0xc489, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xde08);
        EXPECT(gbc.pc(), 0xc48b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc489), 0xcb);
        EXPECT(gbc.readMem(0xc48a), 0x24);
        // CB 24 03AC
        gbc.setState(0x77b5, 0xc7bb, 0x7160, 0xcf23, 0x9bbe, 0x4424, 0x1, 0x1);
        gbc.writeMem(0x77b5, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xc7bb);
        EXPECT(gbc.pc(), 0x77b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03AD
        gbc.setState(0xb95, 0xd602, 0xf630, 0x73a8, 0xc5a1, 0xf3f0, 0x0, 0x0);
        gbc.writeMem(0xb95, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xd602);
        EXPECT(gbc.pc(), 0xb97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03AE
        gbc.setState(0xc35b, 0x37e9, 0x7650, 0xabbe, 0xb965, 0x2c94, 0x0, 0x0);
        gbc.writeMem(0xc35b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x37e9);
        EXPECT(gbc.pc(), 0xc35d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc35b), 0xcb);
        EXPECT(gbc.readMem(0xc35c), 0x24);
        // CB 24 03AF
        gbc.setState(0xed0e, 0x342e, 0x6180, 0xdecd, 0x22e5, 0xc03d, 0x0, 0x0);
        gbc.writeMem(0xed0e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x342e);
        EXPECT(gbc.pc(), 0xed10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed0e), 0xcb);
        EXPECT(gbc.readMem(0xed0f), 0x24);
        // CB 24 03B1
        gbc.setState(0x9522, 0x841, 0x7000, 0xbfe7, 0x28a7, 0x57dc, 0x0, 0x1);
        gbc.writeMem(0x9522, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x841);
        EXPECT(gbc.pc(), 0x9524);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9522), 0xcb);
        EXPECT(gbc.readMem(0x9523), 0x24);
        // CB 24 03B2
        gbc.setState(0xca07, 0xaea8, 0x6110, 0x1090, 0x6ec0, 0x99c, 0x0, 0x0);
        gbc.writeMem(0xca07, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xaea8);
        EXPECT(gbc.pc(), 0xca09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca07), 0xcb);
        EXPECT(gbc.readMem(0xca08), 0x24);
        // CB 24 03B3
        gbc.setState(0xe3f0, 0x4cb2, 0xfbb0, 0xaa10, 0xa55a, 0xba7e, 0x0, 0x0);
        gbc.writeMem(0xe3f0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x4cb2);
        EXPECT(gbc.pc(), 0xe3f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3f0), 0xcb);
        EXPECT(gbc.readMem(0xe3f1), 0x24);
        // CB 24 03B4
        gbc.setState(0xb6e0, 0x2c4a, 0x15e0, 0x1ac3, 0x4e13, 0x20a6, 0x0, 0x0);
        gbc.writeMem(0xb6e0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x2c4a);
        EXPECT(gbc.pc(), 0xb6e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6e0), 0xcb);
        EXPECT(gbc.readMem(0xb6e1), 0x24);
        // CB 24 03B5
        gbc.setState(0x5295, 0x5b30, 0xb910, 0x5ae3, 0xd684, 0x601c, 0x0, 0x0);
        gbc.writeMem(0x5295, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x5b30);
        EXPECT(gbc.pc(), 0x5297);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03B6
        gbc.setState(0x94d, 0xc48, 0xeff0, 0x1b4c, 0xbcf1, 0x11b, 0x1, 0x1);
        gbc.writeMem(0x94d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xc48);
        EXPECT(gbc.pc(), 0x94f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03B7
        gbc.setState(0x9f55, 0x8b58, 0xbfb0, 0x4292, 0xc0af, 0x3b59, 0x1, 0x0);
        gbc.writeMem(0x9f55, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x8b58);
        EXPECT(gbc.pc(), 0x9f57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f55), 0xcb);
        EXPECT(gbc.readMem(0x9f56), 0x24);
        // CB 24 03B8
        gbc.setState(0xd767, 0xce60, 0xe960, 0x3bc2, 0xf0d2, 0xa052, 0x0, 0x1);
        gbc.writeMem(0xd767, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xce60);
        EXPECT(gbc.pc(), 0xd769);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd767), 0xcb);
        EXPECT(gbc.readMem(0xd768), 0x24);
        // CB 24 03B9
        gbc.setState(0x57b1, 0xbdc5, 0xa190, 0x4c60, 0xca0f, 0x1af4, 0x0, 0x1);
        gbc.writeMem(0x57b1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xbdc5);
        EXPECT(gbc.pc(), 0x57b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03BA
        gbc.setState(0x3791, 0x315, 0xc3b0, 0xe4b1, 0xb574, 0x7299, 0x0, 0x0);
        gbc.writeMem(0x3791, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x315);
        EXPECT(gbc.pc(), 0x3793);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03BB
        gbc.setState(0x3a03, 0x8700, 0xa5c0, 0xfd15, 0x831f, 0xc240, 0x0, 0x0);
        gbc.writeMem(0x3a03, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x8700);
        EXPECT(gbc.pc(), 0x3a05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03BC
        gbc.setState(0xa6f1, 0x7b2e, 0x74f0, 0x5303, 0x228f, 0xede9, 0x1, 0x1);
        gbc.writeMem(0xa6f1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x7b2e);
        EXPECT(gbc.pc(), 0xa6f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6f1), 0xcb);
        EXPECT(gbc.readMem(0xa6f2), 0x24);
        // CB 24 03BD
        gbc.setState(0xebff, 0xb6b7, 0x1e0, 0x6b42, 0x726a, 0x1641, 0x0, 0x1);
        gbc.writeMem(0xebff, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xb6b7);
        EXPECT(gbc.pc(), 0xec01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebff), 0xcb);
        EXPECT(gbc.readMem(0xec00), 0x24);
        // CB 24 03BE
        gbc.setState(0x6a5c, 0x3197, 0x1310, 0x5f7c, 0x292b, 0xff50, 0x1, 0x1);
        gbc.writeMem(0x6a5c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x3197);
        EXPECT(gbc.pc(), 0x6a5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03BF
        gbc.setState(0x71d4, 0xc40e, 0x4640, 0xbc70, 0xa99a, 0xd912, 0x1, 0x1);
        gbc.writeMem(0x71d4, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xc40e);
        EXPECT(gbc.pc(), 0x71d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03C0
        gbc.setState(0x341b, 0xa965, 0x1c0, 0x7c0b, 0xb668, 0xbfd8, 0x0, 0x0);
        gbc.writeMem(0x341b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xa965);
        EXPECT(gbc.pc(), 0x341d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03C1
        gbc.setState(0x9fa4, 0x437c, 0xebe0, 0xd55, 0x7fc6, 0xdb01, 0x0, 0x1);
        gbc.writeMem(0x9fa4, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x437c);
        EXPECT(gbc.pc(), 0x9fa6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fa4), 0xcb);
        EXPECT(gbc.readMem(0x9fa5), 0x24);
        // CB 24 03C2
        gbc.setState(0x91d2, 0x8817, 0x91c0, 0x6442, 0xfc09, 0xebf6, 0x0, 0x0);
        gbc.writeMem(0x91d2, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x8817);
        EXPECT(gbc.pc(), 0x91d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91d2), 0xcb);
        EXPECT(gbc.readMem(0x91d3), 0x24);
        // CB 24 03C3
        gbc.setState(0x3ca7, 0x44f2, 0x4cd0, 0xfd19, 0xf0fc, 0x5cc2, 0x1, 0x0);
        gbc.writeMem(0x3ca7, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x44f2);
        EXPECT(gbc.pc(), 0x3ca9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03C4
        gbc.setState(0x5401, 0xfdcd, 0xb6d0, 0x8f, 0x4b06, 0xbbed, 0x0, 0x1);
        gbc.writeMem(0x5401, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xfdcd);
        EXPECT(gbc.pc(), 0x5403);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03C5
        gbc.setState(0x570b, 0x4aeb, 0xbb60, 0x9ce0, 0x4b23, 0xdc28, 0x0, 0x1);
        gbc.writeMem(0x570b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x4aeb);
        EXPECT(gbc.pc(), 0x570d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03C6
        gbc.setState(0x4b4f, 0x8eb8, 0xe1f0, 0xc8da, 0xe9f0, 0xa3e3, 0x1, 0x0);
        gbc.writeMem(0x4b4f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x8eb8);
        EXPECT(gbc.pc(), 0x4b51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03C7
        gbc.setState(0x9e40, 0x602e, 0xdca0, 0xf76e, 0x2f4e, 0x644f, 0x1, 0x1);
        gbc.writeMem(0x9e40, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x602e);
        EXPECT(gbc.pc(), 0x9e42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e40), 0xcb);
        EXPECT(gbc.readMem(0x9e41), 0x24);
        // CB 24 03C8
        gbc.setState(0x1da0, 0x323a, 0xfc00, 0x865, 0x88ca, 0x10a, 0x0, 0x0);
        gbc.writeMem(0x1da0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x323a);
        EXPECT(gbc.pc(), 0x1da2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03C9
        gbc.setState(0xe12c, 0x6beb, 0x5e70, 0x9611, 0x17eb, 0x5c3e, 0x1, 0x1);
        gbc.writeMem(0xe12c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x6beb);
        EXPECT(gbc.pc(), 0xe12e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe12c), 0xcb);
        EXPECT(gbc.readMem(0xe12d), 0x24);
        // CB 24 03CA
        gbc.setState(0x541e, 0xd718, 0x87c0, 0x9544, 0x900b, 0x17bd, 0x1, 0x0);
        gbc.writeMem(0x541e, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xd718);
        EXPECT(gbc.pc(), 0x5420);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03CB
        gbc.setState(0x8e73, 0x804b, 0xde00, 0xc06c, 0x4a1d, 0x8896, 0x0, 0x0);
        gbc.writeMem(0x8e73, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x804b);
        EXPECT(gbc.pc(), 0x8e75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e73), 0xcb);
        EXPECT(gbc.readMem(0x8e74), 0x24);
        // CB 24 03CC
        gbc.setState(0x381a, 0xc76c, 0x1310, 0x5e97, 0x22dd, 0x5e6d, 0x1, 0x1);
        gbc.writeMem(0x381a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xc76c);
        EXPECT(gbc.pc(), 0x381c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03CD
        gbc.setState(0x7157, 0x8a12, 0xe9a0, 0x9f49, 0xcf4a, 0xcc8c, 0x1, 0x1);
        gbc.writeMem(0x7157, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x8a12);
        EXPECT(gbc.pc(), 0x7159);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03CE
        gbc.setState(0xab15, 0x2598, 0x4550, 0xa58f, 0x251d, 0xd89c, 0x1, 0x0);
        gbc.writeMem(0xab15, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x2598);
        EXPECT(gbc.pc(), 0xab17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab15), 0xcb);
        EXPECT(gbc.readMem(0xab16), 0x24);
        // CB 24 03CF
        gbc.setState(0x116b, 0x46b9, 0xa3d0, 0x20b3, 0x203b, 0x2304, 0x0, 0x0);
        gbc.writeMem(0x116b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x46b9);
        EXPECT(gbc.pc(), 0x116d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03D0
        gbc.setState(0x22e9, 0xf358, 0xf20, 0x6267, 0xd003, 0x9852, 0x1, 0x1);
        gbc.writeMem(0x22e9, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xf358);
        EXPECT(gbc.pc(), 0x22eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03D2
        gbc.setState(0xa3ea, 0xa879, 0xf370, 0xe675, 0xc6c1, 0xb381, 0x1, 0x0);
        gbc.writeMem(0xa3ea, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xa879);
        EXPECT(gbc.pc(), 0xa3ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3ea), 0xcb);
        EXPECT(gbc.readMem(0xa3eb), 0x24);
        // CB 24 03D3
        gbc.setState(0xb449, 0x3955, 0xfbe0, 0x227b, 0xaf20, 0xff51, 0x0, 0x0);
        gbc.writeMem(0xb449, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x3955);
        EXPECT(gbc.pc(), 0xb44b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb449), 0xcb);
        EXPECT(gbc.readMem(0xb44a), 0x24);
        // CB 24 03D4
        gbc.setState(0xda67, 0xc68e, 0x14d0, 0xbc11, 0xe270, 0xe01c, 0x1, 0x1);
        gbc.writeMem(0xda67, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xc68e);
        EXPECT(gbc.pc(), 0xda69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda67), 0xcb);
        EXPECT(gbc.readMem(0xda68), 0x24);
        // CB 24 03D5
        gbc.setState(0x6553, 0xbe68, 0x9da0, 0x8496, 0xf69c, 0xaae, 0x0, 0x0);
        gbc.writeMem(0x6553, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xbe68);
        EXPECT(gbc.pc(), 0x6555);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03D6
        gbc.setState(0x700c, 0x4e1f, 0x870, 0x47f4, 0x733c, 0x1891, 0x0, 0x0);
        gbc.writeMem(0x700c, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4e1f);
        EXPECT(gbc.pc(), 0x700e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03D7
        gbc.setState(0x593d, 0xb0dc, 0xba30, 0x7833, 0xb2b7, 0x8f81, 0x0, 0x1);
        gbc.writeMem(0x593d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xb0dc);
        EXPECT(gbc.pc(), 0x593f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03D8
        gbc.setState(0xdedb, 0x98a, 0x2090, 0x5566, 0xe45, 0xf087, 0x1, 0x1);
        gbc.writeMem(0xdedb, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x98a);
        EXPECT(gbc.pc(), 0xdedd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdedb), 0xcb);
        EXPECT(gbc.readMem(0xdedc), 0x24);
        // CB 24 03D9
        gbc.setState(0xc04f, 0x4611, 0x10b0, 0x42d5, 0x8156, 0x361f, 0x0, 0x0);
        gbc.writeMem(0xc04f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x4611);
        EXPECT(gbc.pc(), 0xc051);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc04f), 0xcb);
        EXPECT(gbc.readMem(0xc050), 0x24);
        // CB 24 03DA
        gbc.setState(0xb412, 0xf12d, 0x7c50, 0xf70b, 0x6695, 0xa624, 0x0, 0x1);
        gbc.writeMem(0xb412, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xf12d);
        EXPECT(gbc.pc(), 0xb414);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb412), 0xcb);
        EXPECT(gbc.readMem(0xb413), 0x24);
        // CB 24 03DB
        gbc.setState(0xc38d, 0x16b6, 0x85c0, 0x5ac5, 0x2f3e, 0xf5e, 0x1, 0x0);
        gbc.writeMem(0xc38d, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x16b6);
        EXPECT(gbc.pc(), 0xc38f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc38d), 0xcb);
        EXPECT(gbc.readMem(0xc38e), 0x24);
        // CB 24 03DC
        gbc.setState(0x3db1, 0xe81e, 0x75d0, 0xa4c8, 0xb199, 0x6d0c, 0x0, 0x0);
        gbc.writeMem(0x3db1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xe81e);
        EXPECT(gbc.pc(), 0x3db3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03DD
        gbc.setState(0xc08b, 0x8157, 0x2f90, 0x9b35, 0xdefa, 0xf083, 0x0, 0x1);
        gbc.writeMem(0xc08b, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x8157);
        EXPECT(gbc.pc(), 0xc08d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc08b), 0xcb);
        EXPECT(gbc.readMem(0xc08c), 0x24);
        // CB 24 03DE
        gbc.setState(0x98f0, 0x95dd, 0x1580, 0x8d72, 0x3730, 0x1d01, 0x1, 0x1);
        gbc.writeMem(0x98f0, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x95dd);
        EXPECT(gbc.pc(), 0x98f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98f0), 0xcb);
        EXPECT(gbc.readMem(0x98f1), 0x24);
        // CB 24 03DF
        gbc.setState(0x7ec1, 0x12bc, 0x1720, 0xb4d8, 0xc6ae, 0x270e, 0x0, 0x0);
        gbc.writeMem(0x7ec1, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x12bc);
        EXPECT(gbc.pc(), 0x7ec3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03E0
        gbc.setState(0x2f1a, 0x609, 0x1040, 0xf2e6, 0x30cb, 0xc26b, 0x1, 0x1);
        gbc.writeMem(0x2f1a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x609);
        EXPECT(gbc.pc(), 0x2f1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03E1
        gbc.setState(0x77d3, 0x5bc1, 0x93e0, 0x2091, 0xe07b, 0x7e82, 0x1, 0x0);
        gbc.writeMem(0x77d3, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x5bc1);
        EXPECT(gbc.pc(), 0x77d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 24 03E2
        gbc.setState(0xecae, 0x7dd1, 0x9aa0, 0x7506, 0xd2aa, 0xad8d, 0x0, 0x0);
        gbc.writeMem(0xecae, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x7dd1);
        EXPECT(gbc.pc(), 0xecb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecae), 0xcb);
        EXPECT(gbc.readMem(0xecaf), 0x24);
        // CB 24 03E3
        gbc.setState(0x7b2a, 0xab55, 0xafd0, 0xe3cc, 0x6c7d, 0xa6b0, 0x1, 0x1);
        gbc.writeMem(0x7b2a, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xab55);
        EXPECT(gbc.pc(), 0x7b2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03E5
        gbc.setState(0xce8f, 0xb1f0, 0x4050, 0x3941, 0x46ef, 0xaff, 0x1, 0x1);
        gbc.writeMem(0xce8f, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xb1f0);
        EXPECT(gbc.pc(), 0xce91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce8f), 0xcb);
        EXPECT(gbc.readMem(0xce90), 0x24);
        // CB 24 03E6
        gbc.setState(0x6b08, 0xbd58, 0xdba0, 0x9cec, 0xf8cd, 0x8312, 0x1, 0x0);
        gbc.writeMem(0x6b08, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xbd58);
        EXPECT(gbc.pc(), 0x6b0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 24 03E7
        gbc.setState(0xdb56, 0xea3b, 0x4910, 0xe193, 0xbaf6, 0x31a, 0x0, 0x0);
        gbc.writeMem(0xdb56, { 0xcb, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xea3b);
        EXPECT(gbc.pc(), 0xdb58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb56), 0xcb);
        EXPECT(gbc.readMem(0xdb57), 0x24);
    }
