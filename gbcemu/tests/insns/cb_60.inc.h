    TEST(gbcemu, opcode_cb_60) {
        GBCEmu gbc{"", nullptr};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 60 0000
        gbc.setState(0x5636, 0x439, 0x990, 0xd622, 0x75c, 0xfe6d, 0x0, 0x0);
        gbc.writeMem(0x5636, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x439, gbc.sp());
        EXPECT(0x5638, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0001
        gbc.setState(0x4579, 0x955c, 0x75e0, 0x4427, 0xe2f0, 0x9efb, 0x0, 0x1);
        gbc.writeMem(0x4579, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x955c, gbc.sp());
        EXPECT(0x457b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0002
        gbc.setState(0xa197, 0x3f30, 0x1c90, 0xb35d, 0x3d91, 0x10f6, 0x0, 0x0);
        gbc.writeMem(0xa197, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x3f30, gbc.sp());
        EXPECT(0xa199, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa197));
        EXPECT(0x60, gbc.readMem(0xa198));
        // CB 60 0003
        gbc.setState(0x32c2, 0x4d6, 0x8e80, 0x74b, 0xb7e, 0x8bbe, 0x1, 0x1);
        gbc.writeMem(0x32c2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x4d6, gbc.sp());
        EXPECT(0x32c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0004
        gbc.setState(0x6c54, 0x4e9b, 0xa0, 0x61bd, 0x1f52, 0x5a10, 0x0, 0x0);
        gbc.writeMem(0x6c54, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x4e9b, gbc.sp());
        EXPECT(0x6c56, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0005
        gbc.setState(0x72c6, 0x6040, 0xf210, 0xd3af, 0xc5fd, 0x53d9, 0x0, 0x0);
        gbc.writeMem(0x72c6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x6040, gbc.sp());
        EXPECT(0x72c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0006
        gbc.setState(0x94df, 0x878f, 0x66d0, 0x19b6, 0x91ac, 0xd56b, 0x1, 0x0);
        gbc.writeMem(0x94df, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x878f, gbc.sp());
        EXPECT(0x94e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x94df));
        EXPECT(0x60, gbc.readMem(0x94e0));
        // CB 60 0007
        gbc.setState(0x2472, 0xcfb6, 0x6430, 0xeea, 0xc12a, 0xdcd6, 0x1, 0x1);
        gbc.writeMem(0x2472, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xcfb6, gbc.sp());
        EXPECT(0x2474, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0008
        gbc.setState(0x412f, 0x607b, 0x6a80, 0xde79, 0xab34, 0xfd17, 0x1, 0x0);
        gbc.writeMem(0x412f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x607b, gbc.sp());
        EXPECT(0x4131, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0009
        gbc.setState(0x3f, 0x6ef2, 0x6b50, 0xf06b, 0x7b3, 0xa009, 0x0, 0x1);
        gbc.writeMem(0x3f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x6ef2, gbc.sp());
        EXPECT(0x41, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 000A
        gbc.setState(0x4ea9, 0x5ffa, 0x1e80, 0x21a7, 0x15ae, 0x1852, 0x0, 0x0);
        gbc.writeMem(0x4ea9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x5ffa, gbc.sp());
        EXPECT(0x4eab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 000B
        gbc.setState(0xdac5, 0x8f70, 0x1e20, 0xf0b0, 0xdfc9, 0x85dd, 0x1, 0x1);
        gbc.writeMem(0xdac5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x8f70, gbc.sp());
        EXPECT(0xdac7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdac5));
        EXPECT(0x60, gbc.readMem(0xdac6));
        // CB 60 000C
        gbc.setState(0x5941, 0x4add, 0x8f30, 0xbeaa, 0x3ee8, 0xaef6, 0x0, 0x1);
        gbc.writeMem(0x5941, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x4add, gbc.sp());
        EXPECT(0x5943, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 000D
        gbc.setState(0x59cf, 0xb8c8, 0x8270, 0x9e9b, 0xf224, 0xfa1c, 0x1, 0x1);
        gbc.writeMem(0x59cf, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xb8c8, gbc.sp());
        EXPECT(0x59d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 000E
        gbc.setState(0x9a6c, 0xe959, 0xdb0, 0xa968, 0xf532, 0x87b2, 0x0, 0x0);
        gbc.writeMem(0x9a6c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xe959, gbc.sp());
        EXPECT(0x9a6e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a6c));
        EXPECT(0x60, gbc.readMem(0x9a6d));
        // CB 60 000F
        gbc.setState(0x3587, 0x5168, 0xf0a0, 0x2f6c, 0x1419, 0x700c, 0x1, 0x0);
        gbc.writeMem(0x3587, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x5168, gbc.sp());
        EXPECT(0x3589, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0010
        gbc.setState(0x1ac0, 0x5fef, 0xd2a0, 0xeed1, 0x7fe3, 0x179, 0x0, 0x1);
        gbc.writeMem(0x1ac0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x5fef, gbc.sp());
        EXPECT(0x1ac2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0011
        gbc.setState(0x6fc1, 0x72c5, 0x4e90, 0x1cca, 0x90ca, 0x96a2, 0x1, 0x0);
        gbc.writeMem(0x6fc1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x72c5, gbc.sp());
        EXPECT(0x6fc3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0012
        gbc.setState(0xdc56, 0xab00, 0xf650, 0xf9f0, 0xc28b, 0x4723, 0x0, 0x0);
        gbc.writeMem(0xdc56, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xab00, gbc.sp());
        EXPECT(0xdc58, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc56));
        EXPECT(0x60, gbc.readMem(0xdc57));
        // CB 60 0013
        gbc.setState(0x603d, 0x2c84, 0xc5c0, 0xe1ea, 0x3727, 0x104c, 0x1, 0x1);
        gbc.writeMem(0x603d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x2c84, gbc.sp());
        EXPECT(0x603f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0014
        gbc.setState(0x50c8, 0xb86e, 0x45e0, 0x53b5, 0xdd6d, 0x5b1e, 0x1, 0x1);
        gbc.writeMem(0x50c8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xb86e, gbc.sp());
        EXPECT(0x50ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0015
        gbc.setState(0xdd0c, 0x88fe, 0x920, 0xf1f8, 0xce54, 0xea6d, 0x1, 0x0);
        gbc.writeMem(0xdd0c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x88fe, gbc.sp());
        EXPECT(0xdd0e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd0c));
        EXPECT(0x60, gbc.readMem(0xdd0d));
        // CB 60 0016
        gbc.setState(0xbf3f, 0xb809, 0xf2b0, 0xd7b, 0x642a, 0x8e59, 0x1, 0x0);
        gbc.writeMem(0xbf3f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xb809, gbc.sp());
        EXPECT(0xbf41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf3f));
        EXPECT(0x60, gbc.readMem(0xbf40));
        // CB 60 0017
        gbc.setState(0xa2b, 0xb65c, 0xe990, 0x7d4f, 0xa5eb, 0x7ce0, 0x0, 0x0);
        gbc.writeMem(0xa2b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xb65c, gbc.sp());
        EXPECT(0xa2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0018
        gbc.setState(0x90e0, 0xf6a4, 0x4990, 0x8257, 0x7ecd, 0xbfac, 0x0, 0x0);
        gbc.writeMem(0x90e0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xf6a4, gbc.sp());
        EXPECT(0x90e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x90e0));
        EXPECT(0x60, gbc.readMem(0x90e1));
        // CB 60 0019
        gbc.setState(0xbd9c, 0xf168, 0x4aa0, 0x14fe, 0x966c, 0xf054, 0x1, 0x0);
        gbc.writeMem(0xbd9c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xf168, gbc.sp());
        EXPECT(0xbd9e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd9c));
        EXPECT(0x60, gbc.readMem(0xbd9d));
        // CB 60 001A
        gbc.setState(0xedc3, 0xe1fd, 0x2e00, 0x3b78, 0x74e8, 0x9e7f, 0x1, 0x1);
        gbc.writeMem(0xedc3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xe1fd, gbc.sp());
        EXPECT(0xedc5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xedc3));
        EXPECT(0x60, gbc.readMem(0xedc4));
        // CB 60 001B
        gbc.setState(0xae9f, 0x4800, 0x8320, 0x3b88, 0x7e8c, 0x8c30, 0x1, 0x1);
        gbc.writeMem(0xae9f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x4800, gbc.sp());
        EXPECT(0xaea1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae9f));
        EXPECT(0x60, gbc.readMem(0xaea0));
        // CB 60 001C
        gbc.setState(0xa484, 0x6074, 0x6140, 0xb8f6, 0xc5f3, 0xa8ce, 0x1, 0x0);
        gbc.writeMem(0xa484, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x6074, gbc.sp());
        EXPECT(0xa486, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa484));
        EXPECT(0x60, gbc.readMem(0xa485));
        // CB 60 001D
        gbc.setState(0x1e92, 0x7388, 0x7b80, 0x4f85, 0x777b, 0xdc51, 0x1, 0x1);
        gbc.writeMem(0x1e92, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x7388, gbc.sp());
        EXPECT(0x1e94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 001E
        gbc.setState(0x4aee, 0xdff1, 0x7990, 0x26a2, 0xacd8, 0x783e, 0x0, 0x1);
        gbc.writeMem(0x4aee, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xdff1, gbc.sp());
        EXPECT(0x4af0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 001F
        gbc.setState(0xd23a, 0xc7d0, 0x81f0, 0x9389, 0x5a59, 0xafb8, 0x1, 0x0);
        gbc.writeMem(0xd23a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xc7d0, gbc.sp());
        EXPECT(0xd23c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd23a));
        EXPECT(0x60, gbc.readMem(0xd23b));
        // CB 60 0020
        gbc.setState(0x893b, 0xc8cf, 0x68a0, 0xab83, 0x4272, 0xb72d, 0x1, 0x1);
        gbc.writeMem(0x893b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xc8cf, gbc.sp());
        EXPECT(0x893d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x893b));
        EXPECT(0x60, gbc.readMem(0x893c));
        // CB 60 0021
        gbc.setState(0x46d0, 0x1e94, 0x9930, 0x2d5, 0xfc07, 0xcc2b, 0x0, 0x1);
        gbc.writeMem(0x46d0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x1e94, gbc.sp());
        EXPECT(0x46d2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0022
        gbc.setState(0xdde5, 0xd55c, 0x5050, 0x5781, 0x7f67, 0x6ed0, 0x1, 0x1);
        gbc.writeMem(0xdde5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xd55c, gbc.sp());
        EXPECT(0xdde7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdde5));
        EXPECT(0x60, gbc.readMem(0xdde6));
        // CB 60 0023
        gbc.setState(0x9576, 0x15b7, 0xf630, 0x4820, 0x4390, 0xd293, 0x0, 0x0);
        gbc.writeMem(0x9576, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x15b7, gbc.sp());
        EXPECT(0x9578, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9576));
        EXPECT(0x60, gbc.readMem(0x9577));
        // CB 60 0024
        gbc.setState(0x8f42, 0xda, 0x13a0, 0x6d3e, 0xc532, 0xd72b, 0x0, 0x1);
        gbc.writeMem(0x8f42, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xda, gbc.sp());
        EXPECT(0x8f44, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f42));
        EXPECT(0x60, gbc.readMem(0x8f43));
        // CB 60 0026
        gbc.setState(0xc680, 0xf540, 0x3ab0, 0x6925, 0xeec6, 0xa8fd, 0x0, 0x1);
        gbc.writeMem(0xc680, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xf540, gbc.sp());
        EXPECT(0xc682, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc680));
        EXPECT(0x60, gbc.readMem(0xc681));
        // CB 60 0027
        gbc.setState(0x60ae, 0x522e, 0x3580, 0xac74, 0x1b01, 0xc514, 0x1, 0x1);
        gbc.writeMem(0x60ae, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x522e, gbc.sp());
        EXPECT(0x60b0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0028
        gbc.setState(0xba42, 0xb450, 0x800, 0xfb12, 0xe27e, 0x5374, 0x1, 0x1);
        gbc.writeMem(0xba42, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xb450, gbc.sp());
        EXPECT(0xba44, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba42));
        EXPECT(0x60, gbc.readMem(0xba43));
        // CB 60 0029
        gbc.setState(0x87a8, 0x56b1, 0x9b10, 0x4e12, 0xbda2, 0x6ce, 0x1, 0x1);
        gbc.writeMem(0x87a8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x56b1, gbc.sp());
        EXPECT(0x87aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x87a8));
        EXPECT(0x60, gbc.readMem(0x87a9));
        // CB 60 002A
        gbc.setState(0x128c, 0xbbb7, 0x3920, 0xed5a, 0xd9e0, 0x3726, 0x0, 0x0);
        gbc.writeMem(0x128c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xbbb7, gbc.sp());
        EXPECT(0x128e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 002B
        gbc.setState(0xd84a, 0x6616, 0x3110, 0xd64f, 0x56bb, 0xedbc, 0x1, 0x1);
        gbc.writeMem(0xd84a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x6616, gbc.sp());
        EXPECT(0xd84c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd84a));
        EXPECT(0x60, gbc.readMem(0xd84b));
        // CB 60 002C
        gbc.setState(0x4847, 0x1213, 0xfeb0, 0xa354, 0x8c35, 0x7891, 0x0, 0x0);
        gbc.writeMem(0x4847, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x1213, gbc.sp());
        EXPECT(0x4849, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 002D
        gbc.setState(0x17f3, 0x7fff, 0x2a20, 0x2a1c, 0x6c43, 0xad17, 0x1, 0x1);
        gbc.writeMem(0x17f3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x7fff, gbc.sp());
        EXPECT(0x17f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 002E
        gbc.setState(0xaf8a, 0xd836, 0xfbb0, 0xcd01, 0x9dd5, 0x72ab, 0x1, 0x1);
        gbc.writeMem(0xaf8a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xd836, gbc.sp());
        EXPECT(0xaf8c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf8a));
        EXPECT(0x60, gbc.readMem(0xaf8b));
        // CB 60 002F
        gbc.setState(0x8231, 0x24d7, 0x89a0, 0x8116, 0xa1fb, 0x6584, 0x0, 0x1);
        gbc.writeMem(0x8231, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x24d7, gbc.sp());
        EXPECT(0x8233, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8231));
        EXPECT(0x60, gbc.readMem(0x8232));
        // CB 60 0030
        gbc.setState(0x4baa, 0x5484, 0x7f10, 0xafb4, 0x96c6, 0xa4a8, 0x0, 0x0);
        gbc.writeMem(0x4baa, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x5484, gbc.sp());
        EXPECT(0x4bac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0031
        gbc.setState(0x43b, 0xd580, 0x2cf0, 0x2b17, 0x316d, 0xf847, 0x0, 0x0);
        gbc.writeMem(0x43b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xd580, gbc.sp());
        EXPECT(0x43d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0032
        gbc.setState(0x1216, 0xdb98, 0x2aa0, 0x2b16, 0xba5b, 0xdbb8, 0x1, 0x1);
        gbc.writeMem(0x1216, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xdb98, gbc.sp());
        EXPECT(0x1218, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0033
        gbc.setState(0xc638, 0x9054, 0x9c20, 0xcf7a, 0x468a, 0x7ffc, 0x1, 0x0);
        gbc.writeMem(0xc638, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x9054, gbc.sp());
        EXPECT(0xc63a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc638));
        EXPECT(0x60, gbc.readMem(0xc639));
        // CB 60 0034
        gbc.setState(0xe69d, 0x2413, 0xa760, 0x1b2b, 0xd173, 0x5cb8, 0x0, 0x1);
        gbc.writeMem(0xe69d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x2413, gbc.sp());
        EXPECT(0xe69f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe69d));
        EXPECT(0x60, gbc.readMem(0xe69e));
        // CB 60 0035
        gbc.setState(0xcd21, 0xf9f9, 0x8940, 0x63c4, 0xab6d, 0x3832, 0x0, 0x1);
        gbc.writeMem(0xcd21, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xf9f9, gbc.sp());
        EXPECT(0xcd23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd21));
        EXPECT(0x60, gbc.readMem(0xcd22));
        // CB 60 0036
        gbc.setState(0x453f, 0xe239, 0xfdd0, 0x8a2f, 0x268, 0xbbff, 0x1, 0x0);
        gbc.writeMem(0x453f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xe239, gbc.sp());
        EXPECT(0x4541, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0037
        gbc.setState(0x28bf, 0x830e, 0x4d90, 0x84b1, 0x8b58, 0xcda0, 0x1, 0x1);
        gbc.writeMem(0x28bf, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x830e, gbc.sp());
        EXPECT(0x28c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0038
        gbc.setState(0xe970, 0x2e9e, 0x9ef0, 0x97b3, 0x8b4d, 0x596e, 0x0, 0x0);
        gbc.writeMem(0xe970, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x2e9e, gbc.sp());
        EXPECT(0xe972, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe970));
        EXPECT(0x60, gbc.readMem(0xe971));
        // CB 60 0039
        gbc.setState(0x28c9, 0xaed4, 0x8bd0, 0x6334, 0x8c14, 0x6528, 0x0, 0x1);
        gbc.writeMem(0x28c9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xaed4, gbc.sp());
        EXPECT(0x28cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 003A
        gbc.setState(0xc0ea, 0xd92f, 0x8400, 0xe6c7, 0x3c1a, 0xfbab, 0x1, 0x1);
        gbc.writeMem(0xc0ea, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xd92f, gbc.sp());
        EXPECT(0xc0ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0ea));
        EXPECT(0x60, gbc.readMem(0xc0eb));
        // CB 60 003B
        gbc.setState(0x5e9d, 0x1f10, 0x8a90, 0x83f5, 0x7576, 0xe96e, 0x1, 0x0);
        gbc.writeMem(0x5e9d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x1f10, gbc.sp());
        EXPECT(0x5e9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 003C
        gbc.setState(0xbf5d, 0xe53e, 0x1160, 0x6587, 0xa623, 0x4f46, 0x1, 0x0);
        gbc.writeMem(0xbf5d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xe53e, gbc.sp());
        EXPECT(0xbf5f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf5d));
        EXPECT(0x60, gbc.readMem(0xbf5e));
        // CB 60 003D
        gbc.setState(0xcb11, 0x59c6, 0x39b0, 0xe766, 0x7de1, 0x168d, 0x0, 0x0);
        gbc.writeMem(0xcb11, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x59c6, gbc.sp());
        EXPECT(0xcb13, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb11));
        EXPECT(0x60, gbc.readMem(0xcb12));
        // CB 60 003E
        gbc.setState(0x93fa, 0xb066, 0x6950, 0x911, 0xb050, 0xe601, 0x0, 0x0);
        gbc.writeMem(0x93fa, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xb066, gbc.sp());
        EXPECT(0x93fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93fa));
        EXPECT(0x60, gbc.readMem(0x93fb));
        // CB 60 003F
        gbc.setState(0xa09b, 0xaad4, 0x7740, 0x54b, 0x9892, 0xea2c, 0x0, 0x0);
        gbc.writeMem(0xa09b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xaad4, gbc.sp());
        EXPECT(0xa09d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa09b));
        EXPECT(0x60, gbc.readMem(0xa09c));
        // CB 60 0040
        gbc.setState(0x250c, 0x40c, 0x5970, 0xf841, 0x2b8a, 0x8256, 0x1, 0x0);
        gbc.writeMem(0x250c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x40c, gbc.sp());
        EXPECT(0x250e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0042
        gbc.setState(0xdc61, 0x85ae, 0xcf0, 0x3d3a, 0x2fe5, 0x944a, 0x1, 0x1);
        gbc.writeMem(0xdc61, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x85ae, gbc.sp());
        EXPECT(0xdc63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc61));
        EXPECT(0x60, gbc.readMem(0xdc62));
        // CB 60 0043
        gbc.setState(0x9a34, 0xdc6e, 0x44f0, 0x4719, 0x1bb0, 0x4a02, 0x1, 0x0);
        gbc.writeMem(0x9a34, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xdc6e, gbc.sp());
        EXPECT(0x9a36, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a34));
        EXPECT(0x60, gbc.readMem(0x9a35));
        // CB 60 0044
        gbc.setState(0x65aa, 0x8d03, 0xf170, 0x9823, 0x5788, 0x31e2, 0x1, 0x1);
        gbc.writeMem(0x65aa, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x8d03, gbc.sp());
        EXPECT(0x65ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0045
        gbc.setState(0xacfe, 0x8406, 0xbb10, 0x8e19, 0xecf4, 0xe064, 0x0, 0x1);
        gbc.writeMem(0xacfe, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x8406, gbc.sp());
        EXPECT(0xad00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xacfe));
        EXPECT(0x60, gbc.readMem(0xacff));
        // CB 60 0046
        gbc.setState(0xb20f, 0x22e6, 0xcaf0, 0x956a, 0xa88c, 0xb22e, 0x0, 0x1);
        gbc.writeMem(0xb20f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x22e6, gbc.sp());
        EXPECT(0xb211, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb20f));
        EXPECT(0x60, gbc.readMem(0xb210));
        // CB 60 0047
        gbc.setState(0x8e1, 0xe7b3, 0x5e30, 0x7def, 0x6fb0, 0x75a5, 0x1, 0x0);
        gbc.writeMem(0x8e1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xe7b3, gbc.sp());
        EXPECT(0x8e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0048
        gbc.setState(0xde0c, 0x2ccd, 0x9cc0, 0x5a4d, 0x304a, 0x6230, 0x0, 0x0);
        gbc.writeMem(0xde0c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x2ccd, gbc.sp());
        EXPECT(0xde0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde0c));
        EXPECT(0x60, gbc.readMem(0xde0d));
        // CB 60 0049
        gbc.setState(0x3dcf, 0x639b, 0xa0b0, 0x532d, 0x71a7, 0xeda3, 0x0, 0x1);
        gbc.writeMem(0x3dcf, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x639b, gbc.sp());
        EXPECT(0x3dd1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 004A
        gbc.setState(0xaeb1, 0x9924, 0x6970, 0x5557, 0xdd95, 0x57a9, 0x1, 0x1);
        gbc.writeMem(0xaeb1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x9924, gbc.sp());
        EXPECT(0xaeb3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaeb1));
        EXPECT(0x60, gbc.readMem(0xaeb2));
        // CB 60 004B
        gbc.setState(0x81de, 0xbca4, 0xa9e0, 0x63a3, 0xa169, 0xef5f, 0x0, 0x1);
        gbc.writeMem(0x81de, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xbca4, gbc.sp());
        EXPECT(0x81e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x81de));
        EXPECT(0x60, gbc.readMem(0x81df));
        // CB 60 004D
        gbc.setState(0x41a0, 0xfe12, 0x96b0, 0xb048, 0xd415, 0x6b5, 0x0, 0x1);
        gbc.writeMem(0x41a0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xfe12, gbc.sp());
        EXPECT(0x41a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 004E
        gbc.setState(0xcd20, 0xf640, 0x7240, 0x24ef, 0xa713, 0x5420, 0x1, 0x1);
        gbc.writeMem(0xcd20, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xf640, gbc.sp());
        EXPECT(0xcd22, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd20));
        EXPECT(0x60, gbc.readMem(0xcd21));
        // CB 60 004F
        gbc.setState(0x17c2, 0x362a, 0xcb80, 0x1ca6, 0xde80, 0x8ac6, 0x1, 0x0);
        gbc.writeMem(0x17c2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x362a, gbc.sp());
        EXPECT(0x17c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0050
        gbc.setState(0xc3e8, 0xd711, 0x130, 0xf78a, 0xcda4, 0x1d34, 0x1, 0x0);
        gbc.writeMem(0xc3e8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xd711, gbc.sp());
        EXPECT(0xc3ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3e8));
        EXPECT(0x60, gbc.readMem(0xc3e9));
        // CB 60 0051
        gbc.setState(0xca0, 0xc9bf, 0x1e20, 0x8a0b, 0x8372, 0xc4cb, 0x1, 0x0);
        gbc.writeMem(0xca0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xc9bf, gbc.sp());
        EXPECT(0xca2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0052
        gbc.setState(0x3e2f, 0xafe2, 0xf750, 0xcbfd, 0x9a4e, 0x6164, 0x0, 0x0);
        gbc.writeMem(0x3e2f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xafe2, gbc.sp());
        EXPECT(0x3e31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0053
        gbc.setState(0x923e, 0xa728, 0x4bc0, 0x3a44, 0x1ede, 0xec5e, 0x0, 0x1);
        gbc.writeMem(0x923e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xa728, gbc.sp());
        EXPECT(0x9240, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x923e));
        EXPECT(0x60, gbc.readMem(0x923f));
        // CB 60 0054
        gbc.setState(0xb960, 0x89ae, 0xc2d0, 0x89b7, 0xadd1, 0xb0f4, 0x1, 0x1);
        gbc.writeMem(0xb960, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x89ae, gbc.sp());
        EXPECT(0xb962, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb960));
        EXPECT(0x60, gbc.readMem(0xb961));
        // CB 60 0055
        gbc.setState(0xdca6, 0x6d5e, 0xb660, 0x3ee2, 0xbe3e, 0x5384, 0x1, 0x0);
        gbc.writeMem(0xdca6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x6d5e, gbc.sp());
        EXPECT(0xdca8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdca6));
        EXPECT(0x60, gbc.readMem(0xdca7));
        // CB 60 0056
        gbc.setState(0x7541, 0xc88a, 0xf4f0, 0xa24d, 0x7fbe, 0x4559, 0x1, 0x1);
        gbc.writeMem(0x7541, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xc88a, gbc.sp());
        EXPECT(0x7543, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0057
        gbc.setState(0x8958, 0x603c, 0x2900, 0xec59, 0x4fa8, 0x56aa, 0x1, 0x1);
        gbc.writeMem(0x8958, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x603c, gbc.sp());
        EXPECT(0x895a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8958));
        EXPECT(0x60, gbc.readMem(0x8959));
        // CB 60 0058
        gbc.setState(0x57d8, 0x1500, 0x3430, 0x755e, 0x82c8, 0x5452, 0x0, 0x1);
        gbc.writeMem(0x57d8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x1500, gbc.sp());
        EXPECT(0x57da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0059
        gbc.setState(0xc418, 0x7965, 0x7070, 0xb0ba, 0x6b82, 0x7f24, 0x0, 0x1);
        gbc.writeMem(0xc418, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x7965, gbc.sp());
        EXPECT(0xc41a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc418));
        EXPECT(0x60, gbc.readMem(0xc419));
        // CB 60 005A
        gbc.setState(0x91c7, 0xdb10, 0x1360, 0x7b39, 0x1128, 0xdbf4, 0x0, 0x0);
        gbc.writeMem(0x91c7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xdb10, gbc.sp());
        EXPECT(0x91c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91c7));
        EXPECT(0x60, gbc.readMem(0x91c8));
        // CB 60 005B
        gbc.setState(0xe585, 0x487a, 0x94c0, 0xa7b3, 0x3e37, 0x99ab, 0x0, 0x1);
        gbc.writeMem(0xe585, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x487a, gbc.sp());
        EXPECT(0xe587, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe585));
        EXPECT(0x60, gbc.readMem(0xe586));
        // CB 60 005C
        gbc.setState(0x6b44, 0xbc37, 0x7a90, 0xf940, 0x96db, 0xb48e, 0x0, 0x1);
        gbc.writeMem(0x6b44, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xbc37, gbc.sp());
        EXPECT(0x6b46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 005D
        gbc.setState(0xb3fe, 0x3d4c, 0x1870, 0x4446, 0xf0f1, 0xe61c, 0x1, 0x1);
        gbc.writeMem(0xb3fe, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x3d4c, gbc.sp());
        EXPECT(0xb400, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb3fe));
        EXPECT(0x60, gbc.readMem(0xb3ff));
        // CB 60 005F
        gbc.setState(0x3936, 0x4e75, 0x80b0, 0x83d5, 0xa2e5, 0xf480, 0x1, 0x0);
        gbc.writeMem(0x3936, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x4e75, gbc.sp());
        EXPECT(0x3938, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0060
        gbc.setState(0x1c6b, 0x6de5, 0x8de0, 0xf520, 0x58d1, 0x81c7, 0x1, 0x0);
        gbc.writeMem(0x1c6b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x6de5, gbc.sp());
        EXPECT(0x1c6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0061
        gbc.setState(0xab1e, 0xa64f, 0xb6e0, 0x65ad, 0xa303, 0x9628, 0x1, 0x1);
        gbc.writeMem(0xab1e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xa64f, gbc.sp());
        EXPECT(0xab20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab1e));
        EXPECT(0x60, gbc.readMem(0xab1f));
        // CB 60 0062
        gbc.setState(0x6fa5, 0x77, 0xcb0, 0xf10c, 0x99e2, 0x14c8, 0x1, 0x1);
        gbc.writeMem(0x6fa5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x77, gbc.sp());
        EXPECT(0x6fa7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0063
        gbc.setState(0xeb69, 0x94c5, 0x5b00, 0x75c9, 0x8de6, 0xa5b8, 0x0, 0x0);
        gbc.writeMem(0xeb69, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x94c5, gbc.sp());
        EXPECT(0xeb6b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb69));
        EXPECT(0x60, gbc.readMem(0xeb6a));
        // CB 60 0064
        gbc.setState(0x30ea, 0x19ae, 0x4c00, 0xad8d, 0x98ae, 0xa566, 0x0, 0x1);
        gbc.writeMem(0x30ea, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x19ae, gbc.sp());
        EXPECT(0x30ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0065
        gbc.setState(0x89f3, 0x6353, 0xc3a0, 0x800f, 0xabfd, 0x4a8e, 0x1, 0x1);
        gbc.writeMem(0x89f3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x6353, gbc.sp());
        EXPECT(0x89f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89f3));
        EXPECT(0x60, gbc.readMem(0x89f4));
        // CB 60 0066
        gbc.setState(0x5be2, 0x5266, 0xd6a0, 0x9542, 0x1ee9, 0xf6b, 0x1, 0x0);
        gbc.writeMem(0x5be2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x5266, gbc.sp());
        EXPECT(0x5be4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0067
        gbc.setState(0x31d, 0x7e23, 0x9980, 0xc0f0, 0x9f28, 0xf179, 0x0, 0x1);
        gbc.writeMem(0x31d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x7e23, gbc.sp());
        EXPECT(0x31f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0068
        gbc.setState(0xe00c, 0x3688, 0xcf60, 0xf256, 0x24c2, 0x4cd9, 0x0, 0x0);
        gbc.writeMem(0xe00c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x3688, gbc.sp());
        EXPECT(0xe00e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe00c));
        EXPECT(0x60, gbc.readMem(0xe00d));
        // CB 60 0069
        gbc.setState(0x4bed, 0x486d, 0xf130, 0x7924, 0xef18, 0xf55c, 0x0, 0x0);
        gbc.writeMem(0x4bed, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x486d, gbc.sp());
        EXPECT(0x4bef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 006A
        gbc.setState(0x1218, 0x9082, 0xe380, 0xd560, 0x42b1, 0x26fd, 0x1, 0x0);
        gbc.writeMem(0x1218, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x9082, gbc.sp());
        EXPECT(0x121a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 006B
        gbc.setState(0xc1f1, 0xf8bb, 0x8d70, 0xe4a, 0x9bd3, 0x39f4, 0x0, 0x1);
        gbc.writeMem(0xc1f1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xf8bb, gbc.sp());
        EXPECT(0xc1f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc1f1));
        EXPECT(0x60, gbc.readMem(0xc1f2));
        // CB 60 006C
        gbc.setState(0x4f39, 0x3d19, 0x7a30, 0x7fa3, 0x4e66, 0xd56a, 0x0, 0x0);
        gbc.writeMem(0x4f39, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x3d19, gbc.sp());
        EXPECT(0x4f3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 006D
        gbc.setState(0x1656, 0x166c, 0x3770, 0x66dc, 0xa2, 0x866d, 0x0, 0x1);
        gbc.writeMem(0x1656, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x166c, gbc.sp());
        EXPECT(0x1658, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 006E
        gbc.setState(0xc04, 0x52d4, 0x7ed0, 0xa7cf, 0x9c98, 0x3d2d, 0x1, 0x0);
        gbc.writeMem(0xc04, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x52d4, gbc.sp());
        EXPECT(0xc06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 006F
        gbc.setState(0x2d6b, 0x7ffb, 0x1f30, 0x1069, 0xa7ad, 0x5dbc, 0x1, 0x1);
        gbc.writeMem(0x2d6b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x7ffb, gbc.sp());
        EXPECT(0x2d6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0071
        gbc.setState(0x63bc, 0x2209, 0x4770, 0xdc93, 0xeac5, 0xc8d1, 0x1, 0x0);
        gbc.writeMem(0x63bc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x2209, gbc.sp());
        EXPECT(0x63be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0072
        gbc.setState(0xab81, 0x93d, 0xd8e0, 0x87ee, 0x1faa, 0xf410, 0x0, 0x0);
        gbc.writeMem(0xab81, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x93d, gbc.sp());
        EXPECT(0xab83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab81));
        EXPECT(0x60, gbc.readMem(0xab82));
        // CB 60 0073
        gbc.setState(0x99ed, 0x13bf, 0xab0, 0xca16, 0x944f, 0x6ab7, 0x0, 0x1);
        gbc.writeMem(0x99ed, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x13bf, gbc.sp());
        EXPECT(0x99ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99ed));
        EXPECT(0x60, gbc.readMem(0x99ee));
        // CB 60 0074
        gbc.setState(0xd75c, 0x23cd, 0xba10, 0x237d, 0x18c5, 0x2817, 0x1, 0x0);
        gbc.writeMem(0xd75c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x23cd, gbc.sp());
        EXPECT(0xd75e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd75c));
        EXPECT(0x60, gbc.readMem(0xd75d));
        // CB 60 0075
        gbc.setState(0x379a, 0x8ab4, 0x3e80, 0x8a6d, 0x9e73, 0x9616, 0x1, 0x0);
        gbc.writeMem(0x379a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x8ab4, gbc.sp());
        EXPECT(0x379c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0076
        gbc.setState(0xcda5, 0x9c18, 0x2730, 0xe34d, 0x3471, 0x9075, 0x1, 0x1);
        gbc.writeMem(0xcda5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x9c18, gbc.sp());
        EXPECT(0xcda7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcda5));
        EXPECT(0x60, gbc.readMem(0xcda6));
        // CB 60 0077
        gbc.setState(0xc6d2, 0x4921, 0x9810, 0xebaf, 0xaa79, 0xb8a7, 0x1, 0x1);
        gbc.writeMem(0xc6d2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x4921, gbc.sp());
        EXPECT(0xc6d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc6d2));
        EXPECT(0x60, gbc.readMem(0xc6d3));
        // CB 60 0079
        gbc.setState(0x25f6, 0x75, 0x2d40, 0xe502, 0xf773, 0xb042, 0x1, 0x0);
        gbc.writeMem(0x25f6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x75, gbc.sp());
        EXPECT(0x25f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 007A
        gbc.setState(0x9af6, 0xe5c9, 0x18c0, 0x3848, 0xa2f3, 0x9b0d, 0x0, 0x0);
        gbc.writeMem(0x9af6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xe5c9, gbc.sp());
        EXPECT(0x9af8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9af6));
        EXPECT(0x60, gbc.readMem(0x9af7));
        // CB 60 007B
        gbc.setState(0xbc2b, 0x27e3, 0xac60, 0x1d4d, 0x5d72, 0xbb5c, 0x0, 0x0);
        gbc.writeMem(0xbc2b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x27e3, gbc.sp());
        EXPECT(0xbc2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc2b));
        EXPECT(0x60, gbc.readMem(0xbc2c));
        // CB 60 007C
        gbc.setState(0xea39, 0xa69a, 0x6e00, 0xb2c, 0x3f39, 0x34b5, 0x1, 0x0);
        gbc.writeMem(0xea39, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xa69a, gbc.sp());
        EXPECT(0xea3b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea39));
        EXPECT(0x60, gbc.readMem(0xea3a));
        // CB 60 007D
        gbc.setState(0xef98, 0x7b83, 0xf5e0, 0x9d25, 0x6f1f, 0x695b, 0x1, 0x0);
        gbc.writeMem(0xef98, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x7b83, gbc.sp());
        EXPECT(0xef9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef98));
        EXPECT(0x60, gbc.readMem(0xef99));
        // CB 60 007E
        gbc.setState(0xc48d, 0xf50b, 0x18b0, 0xa887, 0x8b50, 0x1280, 0x0, 0x1);
        gbc.writeMem(0xc48d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xf50b, gbc.sp());
        EXPECT(0xc48f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc48d));
        EXPECT(0x60, gbc.readMem(0xc48e));
        // CB 60 007F
        gbc.setState(0x4b70, 0xfbd4, 0x5460, 0x86f5, 0xc0ec, 0xc54c, 0x1, 0x1);
        gbc.writeMem(0x4b70, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xfbd4, gbc.sp());
        EXPECT(0x4b72, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0080
        gbc.setState(0x2bb6, 0x79ce, 0xdef0, 0x3751, 0x91fd, 0x97ca, 0x1, 0x1);
        gbc.writeMem(0x2bb6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x79ce, gbc.sp());
        EXPECT(0x2bb8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0081
        gbc.setState(0x4afe, 0xdfee, 0x5940, 0x3789, 0xb569, 0xad27, 0x0, 0x0);
        gbc.writeMem(0x4afe, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xdfee, gbc.sp());
        EXPECT(0x4b00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0082
        gbc.setState(0xd06e, 0x5db3, 0x8510, 0xa88c, 0x24a9, 0x9689, 0x1, 0x1);
        gbc.writeMem(0xd06e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x5db3, gbc.sp());
        EXPECT(0xd070, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd06e));
        EXPECT(0x60, gbc.readMem(0xd06f));
        // CB 60 0083
        gbc.setState(0xd142, 0x5c87, 0x9b0, 0xd3fa, 0xb74f, 0xf388, 0x0, 0x1);
        gbc.writeMem(0xd142, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x5c87, gbc.sp());
        EXPECT(0xd144, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd142));
        EXPECT(0x60, gbc.readMem(0xd143));
        // CB 60 0084
        gbc.setState(0x3bca, 0x96bc, 0x6aa0, 0xbdba, 0xf3d0, 0xc4eb, 0x1, 0x1);
        gbc.writeMem(0x3bca, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x96bc, gbc.sp());
        EXPECT(0x3bcc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0085
        gbc.setState(0x9234, 0x3dd9, 0x6300, 0x7ea9, 0x715d, 0x72b8, 0x0, 0x0);
        gbc.writeMem(0x9234, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x3dd9, gbc.sp());
        EXPECT(0x9236, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9234));
        EXPECT(0x60, gbc.readMem(0x9235));
        // CB 60 0086
        gbc.setState(0x8ec8, 0x3a1, 0xc580, 0x75d3, 0xf704, 0x915d, 0x1, 0x1);
        gbc.writeMem(0x8ec8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x3a1, gbc.sp());
        EXPECT(0x8eca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ec8));
        EXPECT(0x60, gbc.readMem(0x8ec9));
        // CB 60 0087
        gbc.setState(0x7907, 0x7a87, 0x4750, 0x8ebb, 0x28ad, 0xf0f0, 0x0, 0x1);
        gbc.writeMem(0x7907, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x7a87, gbc.sp());
        EXPECT(0x7909, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0088
        gbc.setState(0x6f99, 0x9839, 0x59c0, 0x6c5f, 0x87b9, 0x4393, 0x1, 0x0);
        gbc.writeMem(0x6f99, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x9839, gbc.sp());
        EXPECT(0x6f9b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 008B
        gbc.setState(0xa5e9, 0x9dda, 0xf6c0, 0xc2a8, 0x8ea6, 0x914e, 0x1, 0x1);
        gbc.writeMem(0xa5e9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x9dda, gbc.sp());
        EXPECT(0xa5eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa5e9));
        EXPECT(0x60, gbc.readMem(0xa5ea));
        // CB 60 008C
        gbc.setState(0x1c18, 0x41dd, 0x7fc0, 0xcd9f, 0x6a99, 0x9c53, 0x1, 0x1);
        gbc.writeMem(0x1c18, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x41dd, gbc.sp());
        EXPECT(0x1c1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 008D
        gbc.setState(0x6d37, 0x9502, 0x9870, 0x2fe0, 0xd6ea, 0x8b9a, 0x0, 0x1);
        gbc.writeMem(0x6d37, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x9502, gbc.sp());
        EXPECT(0x6d39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 008E
        gbc.setState(0x7bec, 0x8e5b, 0x6900, 0x589f, 0xcb11, 0x19e7, 0x1, 0x1);
        gbc.writeMem(0x7bec, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x8e5b, gbc.sp());
        EXPECT(0x7bee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 008F
        gbc.setState(0xb7e4, 0x5760, 0xa430, 0x6e2b, 0x4043, 0x3f02, 0x0, 0x0);
        gbc.writeMem(0xb7e4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x5760, gbc.sp());
        EXPECT(0xb7e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7e4));
        EXPECT(0x60, gbc.readMem(0xb7e5));
        // CB 60 0090
        gbc.setState(0xaacc, 0x2998, 0x21c0, 0x9f0c, 0x146b, 0x6ecb, 0x0, 0x0);
        gbc.writeMem(0xaacc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x2998, gbc.sp());
        EXPECT(0xaace, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaacc));
        EXPECT(0x60, gbc.readMem(0xaacd));
        // CB 60 0091
        gbc.setState(0x2589, 0x422b, 0xe5e0, 0x1f33, 0x3bb7, 0x987c, 0x0, 0x1);
        gbc.writeMem(0x2589, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x422b, gbc.sp());
        EXPECT(0x258b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0092
        gbc.setState(0x92ab, 0xb410, 0xa3a0, 0xce15, 0xd9a, 0xf11, 0x1, 0x0);
        gbc.writeMem(0x92ab, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xb410, gbc.sp());
        EXPECT(0x92ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92ab));
        EXPECT(0x60, gbc.readMem(0x92ac));
        // CB 60 0093
        gbc.setState(0x2085, 0x980b, 0x3bf0, 0xff9, 0x65f6, 0x56d0, 0x0, 0x1);
        gbc.writeMem(0x2085, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x980b, gbc.sp());
        EXPECT(0x2087, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0094
        gbc.setState(0xab17, 0x222b, 0x1cf0, 0xcffb, 0xf85d, 0x2342, 0x1, 0x1);
        gbc.writeMem(0xab17, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x222b, gbc.sp());
        EXPECT(0xab19, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab17));
        EXPECT(0x60, gbc.readMem(0xab18));
        // CB 60 0095
        gbc.setState(0x5b88, 0xdfaa, 0xe680, 0x31, 0x9c9f, 0x6e21, 0x0, 0x0);
        gbc.writeMem(0x5b88, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xdfaa, gbc.sp());
        EXPECT(0x5b8a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0096
        gbc.setState(0x5ccf, 0xc1ee, 0x6f60, 0xa379, 0x16f0, 0xd129, 0x1, 0x1);
        gbc.writeMem(0x5ccf, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xc1ee, gbc.sp());
        EXPECT(0x5cd1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0097
        gbc.setState(0x488f, 0xcac8, 0x7910, 0xa567, 0x5b90, 0x7f9b, 0x1, 0x0);
        gbc.writeMem(0x488f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xcac8, gbc.sp());
        EXPECT(0x4891, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0098
        gbc.setState(0xef7, 0xb7b, 0x6fa0, 0xb03b, 0x5376, 0x186, 0x0, 0x1);
        gbc.writeMem(0xef7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xb7b, gbc.sp());
        EXPECT(0xef9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0099
        gbc.setState(0x1d65, 0xe82d, 0xc220, 0x7dbe, 0xc713, 0x2c90, 0x1, 0x0);
        gbc.writeMem(0x1d65, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xe82d, gbc.sp());
        EXPECT(0x1d67, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 009A
        gbc.setState(0x58af, 0xa94c, 0xdbf0, 0x3e28, 0x96b0, 0x2431, 0x0, 0x1);
        gbc.writeMem(0x58af, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xa94c, gbc.sp());
        EXPECT(0x58b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 009B
        gbc.setState(0x5f2a, 0x15b7, 0xb20, 0xbfa8, 0x5bd9, 0x650, 0x1, 0x1);
        gbc.writeMem(0x5f2a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x15b7, gbc.sp());
        EXPECT(0x5f2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 009C
        gbc.setState(0xe1db, 0x9737, 0x9450, 0x9a4d, 0xb628, 0x8240, 0x0, 0x0);
        gbc.writeMem(0xe1db, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x9737, gbc.sp());
        EXPECT(0xe1dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1db));
        EXPECT(0x60, gbc.readMem(0xe1dc));
        // CB 60 009D
        gbc.setState(0x9157, 0x7ae4, 0xf7f0, 0x8698, 0xe6f, 0xa5f8, 0x1, 0x1);
        gbc.writeMem(0x9157, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x7ae4, gbc.sp());
        EXPECT(0x9159, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9157));
        EXPECT(0x60, gbc.readMem(0x9158));
        // CB 60 009E
        gbc.setState(0xb99e, 0x1686, 0x2980, 0xbf4b, 0xb9a0, 0xf83d, 0x0, 0x1);
        gbc.writeMem(0xb99e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x1686, gbc.sp());
        EXPECT(0xb9a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb99e));
        EXPECT(0x60, gbc.readMem(0xb99f));
        // CB 60 009F
        gbc.setState(0x5b0b, 0x6cfa, 0xc720, 0x26c8, 0xf7d2, 0x8784, 0x0, 0x0);
        gbc.writeMem(0x5b0b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x6cfa, gbc.sp());
        EXPECT(0x5b0d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00A0
        gbc.setState(0x1e27, 0x9cde, 0x7bf0, 0xd7c6, 0x5cce, 0x6d93, 0x0, 0x1);
        gbc.writeMem(0x1e27, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x9cde, gbc.sp());
        EXPECT(0x1e29, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00A1
        gbc.setState(0x19da, 0x28dd, 0x6170, 0xf03b, 0x446c, 0xb14d, 0x0, 0x0);
        gbc.writeMem(0x19da, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x28dd, gbc.sp());
        EXPECT(0x19dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00A2
        gbc.setState(0xb7d7, 0x6a3d, 0xd110, 0xd624, 0x33e6, 0x6f8d, 0x0, 0x0);
        gbc.writeMem(0xb7d7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x6a3d, gbc.sp());
        EXPECT(0xb7d9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7d7));
        EXPECT(0x60, gbc.readMem(0xb7d8));
        // CB 60 00A3
        gbc.setState(0x1cea, 0xa455, 0xbc80, 0x1e49, 0xdf03, 0x35e1, 0x1, 0x1);
        gbc.writeMem(0x1cea, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xa455, gbc.sp());
        EXPECT(0x1cec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00A4
        gbc.setState(0xb66a, 0xe3e7, 0x67a0, 0x86cd, 0x77c1, 0x6366, 0x0, 0x0);
        gbc.writeMem(0xb66a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xe3e7, gbc.sp());
        EXPECT(0xb66c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb66a));
        EXPECT(0x60, gbc.readMem(0xb66b));
        // CB 60 00A5
        gbc.setState(0x87ce, 0xdd1c, 0x3790, 0xad65, 0xb0ce, 0x77be, 0x0, 0x0);
        gbc.writeMem(0x87ce, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xdd1c, gbc.sp());
        EXPECT(0x87d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x87ce));
        EXPECT(0x60, gbc.readMem(0x87cf));
        // CB 60 00A6
        gbc.setState(0xbf48, 0xc99e, 0xc980, 0x6791, 0xa0c5, 0x9d6, 0x0, 0x1);
        gbc.writeMem(0xbf48, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xc99e, gbc.sp());
        EXPECT(0xbf4a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf48));
        EXPECT(0x60, gbc.readMem(0xbf49));
        // CB 60 00A7
        gbc.setState(0x1235, 0xee0e, 0x1640, 0x490a, 0xe7ab, 0xffed, 0x0, 0x0);
        gbc.writeMem(0x1235, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xee0e, gbc.sp());
        EXPECT(0x1237, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00A8
        gbc.setState(0x42e2, 0x82ef, 0x3530, 0x79a3, 0xcc31, 0xb71, 0x0, 0x1);
        gbc.writeMem(0x42e2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x82ef, gbc.sp());
        EXPECT(0x42e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00A9
        gbc.setState(0x9dd3, 0x8ae7, 0x13b0, 0xa0e7, 0x390e, 0x5b2d, 0x1, 0x1);
        gbc.writeMem(0x9dd3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x8ae7, gbc.sp());
        EXPECT(0x9dd5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9dd3));
        EXPECT(0x60, gbc.readMem(0x9dd4));
        // CB 60 00AA
        gbc.setState(0x6b5e, 0xd7de, 0x6e10, 0x294e, 0xacad, 0x351d, 0x0, 0x0);
        gbc.writeMem(0x6b5e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xd7de, gbc.sp());
        EXPECT(0x6b60, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00AB
        gbc.setState(0x54fd, 0xb15c, 0xba50, 0x328f, 0x278d, 0x1db0, 0x1, 0x1);
        gbc.writeMem(0x54fd, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xb15c, gbc.sp());
        EXPECT(0x54ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00AC
        gbc.setState(0x9554, 0x3f16, 0xaa60, 0xf16f, 0x64ee, 0xab09, 0x0, 0x1);
        gbc.writeMem(0x9554, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x3f16, gbc.sp());
        EXPECT(0x9556, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9554));
        EXPECT(0x60, gbc.readMem(0x9555));
        // CB 60 00AD
        gbc.setState(0x7499, 0xdc, 0xda60, 0x5a70, 0x2464, 0x29d7, 0x1, 0x1);
        gbc.writeMem(0x7499, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xdc, gbc.sp());
        EXPECT(0x749b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00AE
        gbc.setState(0x66d0, 0xcff1, 0x640, 0xfc64, 0x23cf, 0x7035, 0x1, 0x0);
        gbc.writeMem(0x66d0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xcff1, gbc.sp());
        EXPECT(0x66d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00AF
        gbc.setState(0xec0c, 0x6c8f, 0xfe40, 0xe702, 0xca08, 0xbba5, 0x0, 0x1);
        gbc.writeMem(0xec0c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x6c8f, gbc.sp());
        EXPECT(0xec0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec0c));
        EXPECT(0x60, gbc.readMem(0xec0d));
        // CB 60 00B0
        gbc.setState(0x38df, 0x7b36, 0x2070, 0xf1b9, 0xb062, 0xfcdb, 0x1, 0x1);
        gbc.writeMem(0x38df, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x7b36, gbc.sp());
        EXPECT(0x38e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00B1
        gbc.setState(0x2087, 0x6f4e, 0xa8f0, 0xfad8, 0x4509, 0xd701, 0x0, 0x0);
        gbc.writeMem(0x2087, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x6f4e, gbc.sp());
        EXPECT(0x2089, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00B2
        gbc.setState(0x43f, 0x81d9, 0xa870, 0x9465, 0x82cb, 0x6c1d, 0x1, 0x1);
        gbc.writeMem(0x43f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x81d9, gbc.sp());
        EXPECT(0x441, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00B5
        gbc.setState(0x9543, 0x82ca, 0xdfd0, 0x7a5a, 0xaa85, 0xde4b, 0x1, 0x1);
        gbc.writeMem(0x9543, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x82ca, gbc.sp());
        EXPECT(0x9545, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9543));
        EXPECT(0x60, gbc.readMem(0x9544));
        // CB 60 00B6
        gbc.setState(0xb134, 0xc54e, 0x6cc0, 0x4f38, 0x860, 0x3d7b, 0x1, 0x0);
        gbc.writeMem(0xb134, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xc54e, gbc.sp());
        EXPECT(0xb136, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb134));
        EXPECT(0x60, gbc.readMem(0xb135));
        // CB 60 00B7
        gbc.setState(0x7977, 0x42e4, 0xcdb0, 0x9f94, 0xc7fe, 0x1c69, 0x1, 0x0);
        gbc.writeMem(0x7977, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x42e4, gbc.sp());
        EXPECT(0x7979, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00B8
        gbc.setState(0x69f0, 0x3def, 0xb7f0, 0xffb5, 0x27b6, 0x22c4, 0x1, 0x1);
        gbc.writeMem(0x69f0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x3def, gbc.sp());
        EXPECT(0x69f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00B9
        gbc.setState(0x6c22, 0x6b22, 0x3a50, 0x7bf9, 0xce48, 0x46ea, 0x0, 0x0);
        gbc.writeMem(0x6c22, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x6b22, gbc.sp());
        EXPECT(0x6c24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00BA
        gbc.setState(0x3bbf, 0x9d21, 0x4630, 0x54c0, 0xa400, 0xcc8f, 0x0, 0x1);
        gbc.writeMem(0x3bbf, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x9d21, gbc.sp());
        EXPECT(0x3bc1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00BB
        gbc.setState(0x5950, 0x1c41, 0x1f0, 0xfbf, 0x654b, 0xdf8a, 0x1, 0x1);
        gbc.writeMem(0x5950, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x1c41, gbc.sp());
        EXPECT(0x5952, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00BC
        gbc.setState(0xa30e, 0x31e9, 0x9300, 0x7342, 0x60df, 0x2359, 0x0, 0x1);
        gbc.writeMem(0xa30e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x31e9, gbc.sp());
        EXPECT(0xa310, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa30e));
        EXPECT(0x60, gbc.readMem(0xa30f));
        // CB 60 00BD
        gbc.setState(0xa898, 0x4c3c, 0xcf60, 0x7664, 0x3c86, 0xfc6c, 0x0, 0x0);
        gbc.writeMem(0xa898, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x4c3c, gbc.sp());
        EXPECT(0xa89a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa898));
        EXPECT(0x60, gbc.readMem(0xa899));
        // CB 60 00BE
        gbc.setState(0xaab8, 0x6e09, 0xb000, 0x65a7, 0xcd2b, 0x3274, 0x0, 0x0);
        gbc.writeMem(0xaab8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x6e09, gbc.sp());
        EXPECT(0xaaba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaab8));
        EXPECT(0x60, gbc.readMem(0xaab9));
        // CB 60 00BF
        gbc.setState(0x4473, 0xbf7a, 0x8820, 0xdc20, 0x7b1d, 0x4bf0, 0x0, 0x0);
        gbc.writeMem(0x4473, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xbf7a, gbc.sp());
        EXPECT(0x4475, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00C0
        gbc.setState(0x7e73, 0x6a76, 0x6a80, 0x3862, 0x881b, 0xfa08, 0x0, 0x1);
        gbc.writeMem(0x7e73, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x6a76, gbc.sp());
        EXPECT(0x7e75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00C1
        gbc.setState(0x7dfc, 0x27c3, 0xad0, 0xc08e, 0x56a4, 0xf40a, 0x0, 0x1);
        gbc.writeMem(0x7dfc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x27c3, gbc.sp());
        EXPECT(0x7dfe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00C2
        gbc.setState(0xa165, 0xcdac, 0xf4e0, 0xd1ef, 0x809a, 0x55f3, 0x1, 0x0);
        gbc.writeMem(0xa165, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xcdac, gbc.sp());
        EXPECT(0xa167, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa165));
        EXPECT(0x60, gbc.readMem(0xa166));
        // CB 60 00C3
        gbc.setState(0x88eb, 0xcbd, 0x2130, 0x5124, 0x8acc, 0x9590, 0x1, 0x0);
        gbc.writeMem(0x88eb, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xcbd, gbc.sp());
        EXPECT(0x88ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x88eb));
        EXPECT(0x60, gbc.readMem(0x88ec));
        // CB 60 00C4
        gbc.setState(0xb6c9, 0x5379, 0x3c0, 0x40e3, 0xbfff, 0x9bb, 0x1, 0x0);
        gbc.writeMem(0xb6c9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x5379, gbc.sp());
        EXPECT(0xb6cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb6c9));
        EXPECT(0x60, gbc.readMem(0xb6ca));
        // CB 60 00C5
        gbc.setState(0x85d7, 0xd32d, 0x7240, 0xa5fd, 0x43b7, 0x4127, 0x1, 0x1);
        gbc.writeMem(0x85d7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xd32d, gbc.sp());
        EXPECT(0x85d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x85d7));
        EXPECT(0x60, gbc.readMem(0x85d8));
        // CB 60 00C6
        gbc.setState(0x436c, 0xb888, 0xb5a0, 0x8f49, 0x45c5, 0x71f5, 0x1, 0x0);
        gbc.writeMem(0x436c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xb888, gbc.sp());
        EXPECT(0x436e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00C7
        gbc.setState(0xc542, 0x4901, 0x6110, 0xbe43, 0x50b4, 0xb869, 0x1, 0x1);
        gbc.writeMem(0xc542, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x4901, gbc.sp());
        EXPECT(0xc544, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc542));
        EXPECT(0x60, gbc.readMem(0xc543));
        // CB 60 00C8
        gbc.setState(0x1a43, 0x76ea, 0x3660, 0xee05, 0x6da5, 0x4f09, 0x0, 0x1);
        gbc.writeMem(0x1a43, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x76ea, gbc.sp());
        EXPECT(0x1a45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00C9
        gbc.setState(0x945a, 0xc578, 0xa610, 0x54cd, 0xdfc1, 0x3f57, 0x0, 0x1);
        gbc.writeMem(0x945a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xc578, gbc.sp());
        EXPECT(0x945c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x945a));
        EXPECT(0x60, gbc.readMem(0x945b));
        // CB 60 00CA
        gbc.setState(0xac0, 0xd394, 0x1c80, 0x2c41, 0x21e, 0x1b20, 0x1, 0x1);
        gbc.writeMem(0xac0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xd394, gbc.sp());
        EXPECT(0xac2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00CB
        gbc.setState(0x8e90, 0xa631, 0xb260, 0xfd19, 0xd75f, 0xb27d, 0x0, 0x1);
        gbc.writeMem(0x8e90, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xa631, gbc.sp());
        EXPECT(0x8e92, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e90));
        EXPECT(0x60, gbc.readMem(0x8e91));
        // CB 60 00CC
        gbc.setState(0xd9bd, 0xf719, 0x1b40, 0xf60b, 0x3409, 0xa325, 0x0, 0x0);
        gbc.writeMem(0xd9bd, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xf719, gbc.sp());
        EXPECT(0xd9bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9bd));
        EXPECT(0x60, gbc.readMem(0xd9be));
        // CB 60 00CE
        gbc.setState(0x3a11, 0xc86c, 0x9410, 0x41dd, 0xb8c4, 0xcb8d, 0x0, 0x0);
        gbc.writeMem(0x3a11, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xc86c, gbc.sp());
        EXPECT(0x3a13, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00CF
        gbc.setState(0xc3b0, 0xdde5, 0x7390, 0x4284, 0x153, 0xbda3, 0x1, 0x1);
        gbc.writeMem(0xc3b0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xdde5, gbc.sp());
        EXPECT(0xc3b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3b0));
        EXPECT(0x60, gbc.readMem(0xc3b1));
        // CB 60 00D0
        gbc.setState(0x9755, 0xe72f, 0x2670, 0xaf87, 0x58f, 0x67d4, 0x1, 0x0);
        gbc.writeMem(0x9755, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xe72f, gbc.sp());
        EXPECT(0x9757, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9755));
        EXPECT(0x60, gbc.readMem(0x9756));
        // CB 60 00D1
        gbc.setState(0x3334, 0x15ec, 0x7350, 0x3369, 0x6879, 0xd077, 0x0, 0x1);
        gbc.writeMem(0x3334, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x15ec, gbc.sp());
        EXPECT(0x3336, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00D2
        gbc.setState(0x1cc2, 0x3c52, 0xdd20, 0x436b, 0xc147, 0x7234, 0x0, 0x1);
        gbc.writeMem(0x1cc2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x3c52, gbc.sp());
        EXPECT(0x1cc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00D3
        gbc.setState(0x7772, 0xefd6, 0xd970, 0x2ab3, 0x721, 0x27f0, 0x1, 0x0);
        gbc.writeMem(0x7772, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xefd6, gbc.sp());
        EXPECT(0x7774, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00D5
        gbc.setState(0x7b21, 0x7183, 0x8520, 0xc6ed, 0x5cf, 0x5cb8, 0x0, 0x1);
        gbc.writeMem(0x7b21, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x7183, gbc.sp());
        EXPECT(0x7b23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00D6
        gbc.setState(0xd17, 0x807d, 0x9b50, 0xe927, 0x6adf, 0xa456, 0x0, 0x0);
        gbc.writeMem(0xd17, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x807d, gbc.sp());
        EXPECT(0xd19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00D7
        gbc.setState(0x4422, 0x9671, 0x97b0, 0xbe54, 0xb946, 0xd249, 0x1, 0x1);
        gbc.writeMem(0x4422, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x9671, gbc.sp());
        EXPECT(0x4424, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00D8
        gbc.setState(0xefde, 0x30a4, 0x3790, 0x7ec, 0xbf2d, 0xaaf1, 0x0, 0x1);
        gbc.writeMem(0xefde, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x30a4, gbc.sp());
        EXPECT(0xefe0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xefde));
        EXPECT(0x60, gbc.readMem(0xefdf));
        // CB 60 00D9
        gbc.setState(0x7bbd, 0x788e, 0xb30, 0xcc88, 0x814d, 0x54e8, 0x1, 0x1);
        gbc.writeMem(0x7bbd, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x788e, gbc.sp());
        EXPECT(0x7bbf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00DA
        gbc.setState(0xbfe7, 0xdc88, 0x4660, 0x6b00, 0xc5b9, 0xa9da, 0x1, 0x1);
        gbc.writeMem(0xbfe7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xdc88, gbc.sp());
        EXPECT(0xbfe9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbfe7));
        EXPECT(0x60, gbc.readMem(0xbfe8));
        // CB 60 00DB
        gbc.setState(0x7a26, 0xe6e0, 0x9120, 0x4e5a, 0x75cc, 0x2136, 0x1, 0x0);
        gbc.writeMem(0x7a26, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xe6e0, gbc.sp());
        EXPECT(0x7a28, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00DD
        gbc.setState(0xe0f9, 0x7069, 0x8120, 0xc1de, 0x5676, 0x3ab6, 0x0, 0x1);
        gbc.writeMem(0xe0f9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x7069, gbc.sp());
        EXPECT(0xe0fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe0f9));
        EXPECT(0x60, gbc.readMem(0xe0fa));
        // CB 60 00DE
        gbc.setState(0xc35b, 0xc41d, 0xa710, 0x5e01, 0x69a9, 0xd6d8, 0x1, 0x1);
        gbc.writeMem(0xc35b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xc41d, gbc.sp());
        EXPECT(0xc35d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc35b));
        EXPECT(0x60, gbc.readMem(0xc35c));
        // CB 60 00DF
        gbc.setState(0xcf00, 0x912f, 0xd590, 0xd316, 0xb0df, 0xf616, 0x0, 0x1);
        gbc.writeMem(0xcf00, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x912f, gbc.sp());
        EXPECT(0xcf02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf00));
        EXPECT(0x60, gbc.readMem(0xcf01));
        // CB 60 00E1
        gbc.setState(0xa26f, 0x3427, 0x5480, 0x3116, 0x1efc, 0xb1fc, 0x0, 0x0);
        gbc.writeMem(0xa26f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x3427, gbc.sp());
        EXPECT(0xa271, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa26f));
        EXPECT(0x60, gbc.readMem(0xa270));
        // CB 60 00E2
        gbc.setState(0xb4e6, 0x1487, 0x26d0, 0xbfb3, 0xf709, 0xcf85, 0x0, 0x0);
        gbc.writeMem(0xb4e6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x1487, gbc.sp());
        EXPECT(0xb4e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb4e6));
        EXPECT(0x60, gbc.readMem(0xb4e7));
        // CB 60 00E3
        gbc.setState(0x2138, 0x213e, 0x66a0, 0x64a9, 0x3535, 0xe555, 0x1, 0x0);
        gbc.writeMem(0x2138, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x213e, gbc.sp());
        EXPECT(0x213a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00E4
        gbc.setState(0xb358, 0x954a, 0x7c30, 0xf88d, 0x51b2, 0xda5c, 0x0, 0x1);
        gbc.writeMem(0xb358, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x954a, gbc.sp());
        EXPECT(0xb35a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb358));
        EXPECT(0x60, gbc.readMem(0xb359));
        // CB 60 00E5
        gbc.setState(0x45f4, 0x641d, 0xb6a0, 0xc2b, 0x2531, 0xfbee, 0x1, 0x0);
        gbc.writeMem(0x45f4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x641d, gbc.sp());
        EXPECT(0x45f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00E6
        gbc.setState(0x6b18, 0x24c2, 0x8550, 0x1420, 0xb8f4, 0xce52, 0x0, 0x1);
        gbc.writeMem(0x6b18, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x24c2, gbc.sp());
        EXPECT(0x6b1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00E7
        gbc.setState(0x6c07, 0x3a73, 0x58d0, 0x8042, 0x669, 0x56b6, 0x0, 0x1);
        gbc.writeMem(0x6c07, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x3a73, gbc.sp());
        EXPECT(0x6c09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00E8
        gbc.setState(0x8a9e, 0x8d0a, 0x8110, 0x93cb, 0xf2b3, 0x4fa2, 0x0, 0x1);
        gbc.writeMem(0x8a9e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x8d0a, gbc.sp());
        EXPECT(0x8aa0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a9e));
        EXPECT(0x60, gbc.readMem(0x8a9f));
        // CB 60 00E9
        gbc.setState(0x8eaa, 0xd363, 0x6db0, 0xdee5, 0x4b99, 0x9bd4, 0x1, 0x1);
        gbc.writeMem(0x8eaa, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xd363, gbc.sp());
        EXPECT(0x8eac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8eaa));
        EXPECT(0x60, gbc.readMem(0x8eab));
        // CB 60 00EA
        gbc.setState(0xf83, 0x5cdf, 0xcd0, 0x86be, 0x395f, 0x22c, 0x1, 0x0);
        gbc.writeMem(0xf83, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x5cdf, gbc.sp());
        EXPECT(0xf85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00EB
        gbc.setState(0xae3b, 0xb622, 0x4940, 0x5f65, 0x8023, 0x36d2, 0x0, 0x1);
        gbc.writeMem(0xae3b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xb622, gbc.sp());
        EXPECT(0xae3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae3b));
        EXPECT(0x60, gbc.readMem(0xae3c));
        // CB 60 00EC
        gbc.setState(0x12d8, 0xaa73, 0x6500, 0x1a7b, 0x31cd, 0x3e5a, 0x0, 0x1);
        gbc.writeMem(0x12d8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xaa73, gbc.sp());
        EXPECT(0x12da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00ED
        gbc.setState(0xa7af, 0xc54c, 0x4490, 0xf379, 0xa23f, 0x9a0, 0x1, 0x0);
        gbc.writeMem(0xa7af, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xc54c, gbc.sp());
        EXPECT(0xa7b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7af));
        EXPECT(0x60, gbc.readMem(0xa7b0));
        // CB 60 00EE
        gbc.setState(0x4c53, 0xa182, 0xf670, 0xe3ce, 0x891d, 0xad3e, 0x1, 0x0);
        gbc.writeMem(0x4c53, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xa182, gbc.sp());
        EXPECT(0x4c55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00EF
        gbc.setState(0xb561, 0xc71c, 0x4590, 0xa1c4, 0xccb0, 0x6960, 0x1, 0x0);
        gbc.writeMem(0xb561, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xc71c, gbc.sp());
        EXPECT(0xb563, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb561));
        EXPECT(0x60, gbc.readMem(0xb562));
        // CB 60 00F0
        gbc.setState(0xb774, 0x4a88, 0xc4c0, 0x15a2, 0x9b29, 0x3d8e, 0x1, 0x1);
        gbc.writeMem(0xb774, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x4a88, gbc.sp());
        EXPECT(0xb776, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb774));
        EXPECT(0x60, gbc.readMem(0xb775));
        // CB 60 00F1
        gbc.setState(0x5a4d, 0xb377, 0x6b00, 0x8835, 0x65a0, 0x6a24, 0x1, 0x1);
        gbc.writeMem(0x5a4d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xb377, gbc.sp());
        EXPECT(0x5a4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00F2
        gbc.setState(0x6e71, 0xe5bc, 0x9630, 0xc669, 0x3f46, 0xa056, 0x0, 0x1);
        gbc.writeMem(0x6e71, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xe5bc, gbc.sp());
        EXPECT(0x6e73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00F3
        gbc.setState(0x14b5, 0x386f, 0x3380, 0x486, 0x721a, 0xa75, 0x0, 0x1);
        gbc.writeMem(0x14b5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x386f, gbc.sp());
        EXPECT(0x14b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00F4
        gbc.setState(0x6186, 0x8f02, 0x8650, 0x2b, 0xd703, 0xa22, 0x1, 0x1);
        gbc.writeMem(0x6186, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x8f02, gbc.sp());
        EXPECT(0x6188, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00F5
        gbc.setState(0xe92f, 0xca20, 0xc030, 0x6acc, 0x3aa8, 0xf7a2, 0x0, 0x1);
        gbc.writeMem(0xe92f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xca20, gbc.sp());
        EXPECT(0xe931, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe92f));
        EXPECT(0x60, gbc.readMem(0xe930));
        // CB 60 00F6
        gbc.setState(0x4d31, 0x5718, 0xa10, 0xad3e, 0x5386, 0x4b55, 0x1, 0x0);
        gbc.writeMem(0x4d31, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x5718, gbc.sp());
        EXPECT(0x4d33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00F7
        gbc.setState(0xe3a6, 0x4f42, 0x28d0, 0x73fb, 0x9d89, 0x3553, 0x0, 0x1);
        gbc.writeMem(0xe3a6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x4f42, gbc.sp());
        EXPECT(0xe3a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe3a6));
        EXPECT(0x60, gbc.readMem(0xe3a7));
        // CB 60 00F8
        gbc.setState(0x1385, 0xd042, 0x29a0, 0xea9b, 0xe477, 0xfe5a, 0x0, 0x0);
        gbc.writeMem(0x1385, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xd042, gbc.sp());
        EXPECT(0x1387, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00F9
        gbc.setState(0x1f1f, 0x7396, 0x4f40, 0xd6a7, 0x440a, 0xd955, 0x0, 0x0);
        gbc.writeMem(0x1f1f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x7396, gbc.sp());
        EXPECT(0x1f21, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 00FA
        gbc.setState(0x2444, 0xea22, 0x2550, 0x1d28, 0x9ce1, 0x9f88, 0x0, 0x1);
        gbc.writeMem(0x2444, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xea22, gbc.sp());
        EXPECT(0x2446, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00FB
        gbc.setState(0xa052, 0x53ce, 0x83d0, 0x52ab, 0xe4a2, 0x7ee3, 0x1, 0x1);
        gbc.writeMem(0xa052, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x53ce, gbc.sp());
        EXPECT(0xa054, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa052));
        EXPECT(0x60, gbc.readMem(0xa053));
        // CB 60 00FD
        gbc.setState(0x9539, 0x3929, 0x6dc0, 0xc082, 0x8f63, 0x22e4, 0x0, 0x1);
        gbc.writeMem(0x9539, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x3929, gbc.sp());
        EXPECT(0x953b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9539));
        EXPECT(0x60, gbc.readMem(0x953a));
        // CB 60 00FE
        gbc.setState(0x79cb, 0x1288, 0x5970, 0xed3e, 0x337, 0xee93, 0x1, 0x1);
        gbc.writeMem(0x79cb, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x1288, gbc.sp());
        EXPECT(0x79cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 00FF
        gbc.setState(0xbd28, 0x574d, 0xb500, 0x60e0, 0x2a98, 0x304, 0x1, 0x0);
        gbc.writeMem(0xbd28, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x574d, gbc.sp());
        EXPECT(0xbd2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd28));
        EXPECT(0x60, gbc.readMem(0xbd29));
        // CB 60 0100
        gbc.setState(0x7eb7, 0x6e65, 0x1cc0, 0xeeff, 0x4f40, 0x59f0, 0x0, 0x1);
        gbc.writeMem(0x7eb7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x6e65, gbc.sp());
        EXPECT(0x7eb9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0101
        gbc.setState(0x81e, 0x6fe5, 0xd200, 0x870b, 0x7ec6, 0xbaf, 0x0, 0x1);
        gbc.writeMem(0x81e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x6fe5, gbc.sp());
        EXPECT(0x820, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0102
        gbc.setState(0xbb8c, 0x1a74, 0x9e0, 0xf030, 0xcbf, 0x892d, 0x0, 0x1);
        gbc.writeMem(0xbb8c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x1a74, gbc.sp());
        EXPECT(0xbb8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb8c));
        EXPECT(0x60, gbc.readMem(0xbb8d));
        // CB 60 0103
        gbc.setState(0x82f1, 0xa5a4, 0x8b30, 0xf9d6, 0xaf20, 0xdbaa, 0x1, 0x1);
        gbc.writeMem(0x82f1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xa5a4, gbc.sp());
        EXPECT(0x82f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x82f1));
        EXPECT(0x60, gbc.readMem(0x82f2));
        // CB 60 0104
        gbc.setState(0x1d04, 0x6b26, 0x7020, 0x1d1, 0x455a, 0x4b8f, 0x0, 0x0);
        gbc.writeMem(0x1d04, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x6b26, gbc.sp());
        EXPECT(0x1d06, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0105
        gbc.setState(0x6b72, 0xf3e6, 0x4870, 0xa88a, 0xae08, 0x2fe0, 0x1, 0x1);
        gbc.writeMem(0x6b72, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xf3e6, gbc.sp());
        EXPECT(0x6b74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0106
        gbc.setState(0x345e, 0x7b50, 0x7720, 0x5cb8, 0x7466, 0x55a2, 0x1, 0x0);
        gbc.writeMem(0x345e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x7b50, gbc.sp());
        EXPECT(0x3460, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0107
        gbc.setState(0x6f89, 0xa385, 0x78f0, 0xed86, 0x13f3, 0x54e, 0x0, 0x0);
        gbc.writeMem(0x6f89, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xa385, gbc.sp());
        EXPECT(0x6f8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0109
        gbc.setState(0x21d, 0xb4f, 0x2520, 0x9920, 0xfd, 0xa0c0, 0x1, 0x1);
        gbc.writeMem(0x21d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xb4f, gbc.sp());
        EXPECT(0x21f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 010A
        gbc.setState(0x247d, 0x899f, 0x2570, 0xb714, 0x3688, 0xd109, 0x0, 0x1);
        gbc.writeMem(0x247d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x899f, gbc.sp());
        EXPECT(0x247f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 010B
        gbc.setState(0x7d34, 0x8728, 0xba20, 0xd88f, 0x24b1, 0xa8d9, 0x0, 0x0);
        gbc.writeMem(0x7d34, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x8728, gbc.sp());
        EXPECT(0x7d36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 010C
        gbc.setState(0x8b21, 0x194c, 0x7490, 0x36c0, 0xaad4, 0x56e3, 0x0, 0x1);
        gbc.writeMem(0x8b21, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x194c, gbc.sp());
        EXPECT(0x8b23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b21));
        EXPECT(0x60, gbc.readMem(0x8b22));
        // CB 60 010D
        gbc.setState(0x8d49, 0x2632, 0xc380, 0x971, 0x2137, 0x43e8, 0x0, 0x1);
        gbc.writeMem(0x8d49, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x2632, gbc.sp());
        EXPECT(0x8d4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d49));
        EXPECT(0x60, gbc.readMem(0x8d4a));
        // CB 60 010E
        gbc.setState(0xcdb5, 0x8447, 0x29c0, 0x3308, 0x2e5a, 0xd2ae, 0x1, 0x0);
        gbc.writeMem(0xcdb5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x8447, gbc.sp());
        EXPECT(0xcdb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcdb5));
        EXPECT(0x60, gbc.readMem(0xcdb6));
        // CB 60 010F
        gbc.setState(0x5be4, 0xc164, 0xb030, 0x7eaa, 0xd2a6, 0x84a, 0x0, 0x0);
        gbc.writeMem(0x5be4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xc164, gbc.sp());
        EXPECT(0x5be6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0110
        gbc.setState(0xe48d, 0xf6dd, 0xeb00, 0xa87f, 0xb38a, 0xe2d9, 0x0, 0x1);
        gbc.writeMem(0xe48d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xf6dd, gbc.sp());
        EXPECT(0xe48f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe48d));
        EXPECT(0x60, gbc.readMem(0xe48e));
        // CB 60 0111
        gbc.setState(0xbc83, 0xae2d, 0x5fb0, 0x38d6, 0x37d, 0x6add, 0x1, 0x0);
        gbc.writeMem(0xbc83, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xae2d, gbc.sp());
        EXPECT(0xbc85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc83));
        EXPECT(0x60, gbc.readMem(0xbc84));
        // CB 60 0112
        gbc.setState(0x9c54, 0xa992, 0xd940, 0x8785, 0x5a27, 0x3c79, 0x0, 0x1);
        gbc.writeMem(0x9c54, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xa992, gbc.sp());
        EXPECT(0x9c56, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c54));
        EXPECT(0x60, gbc.readMem(0x9c55));
        // CB 60 0113
        gbc.setState(0x77dc, 0x6bae, 0xe3e0, 0x4433, 0xc38e, 0x476b, 0x0, 0x0);
        gbc.writeMem(0x77dc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x6bae, gbc.sp());
        EXPECT(0x77de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0114
        gbc.setState(0x9fd4, 0x878b, 0xcd20, 0x5761, 0x6ce8, 0x5469, 0x0, 0x0);
        gbc.writeMem(0x9fd4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x878b, gbc.sp());
        EXPECT(0x9fd6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9fd4));
        EXPECT(0x60, gbc.readMem(0x9fd5));
        // CB 60 0115
        gbc.setState(0x2c66, 0x10b8, 0x1fb0, 0x3b55, 0x3b30, 0xd622, 0x1, 0x0);
        gbc.writeMem(0x2c66, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x10b8, gbc.sp());
        EXPECT(0x2c68, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0116
        gbc.setState(0x52d9, 0xd4ce, 0x7650, 0x53cc, 0xce28, 0x3983, 0x1, 0x1);
        gbc.writeMem(0x52d9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xd4ce, gbc.sp());
        EXPECT(0x52db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0118
        gbc.setState(0x5de3, 0xcbfa, 0xf370, 0xb8c, 0x1269, 0xc5fc, 0x0, 0x0);
        gbc.writeMem(0x5de3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xcbfa, gbc.sp());
        EXPECT(0x5de5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0119
        gbc.setState(0x17f9, 0x898a, 0x7a50, 0xc803, 0x44a1, 0xafab, 0x1, 0x0);
        gbc.writeMem(0x17f9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x898a, gbc.sp());
        EXPECT(0x17fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 011A
        gbc.setState(0x135, 0x11a2, 0xcba0, 0xe58c, 0xafb7, 0xd6b7, 0x1, 0x0);
        gbc.writeMem(0x135, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x11a2, gbc.sp());
        EXPECT(0x137, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 011B
        gbc.setState(0x9b16, 0xb0dd, 0x83b0, 0xb652, 0x54da, 0x48f9, 0x1, 0x1);
        gbc.writeMem(0x9b16, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xb0dd, gbc.sp());
        EXPECT(0x9b18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b16));
        EXPECT(0x60, gbc.readMem(0x9b17));
        // CB 60 011C
        gbc.setState(0x1e37, 0x5b17, 0xd90, 0xe083, 0x6b20, 0xc0ac, 0x1, 0x1);
        gbc.writeMem(0x1e37, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x5b17, gbc.sp());
        EXPECT(0x1e39, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 011D
        gbc.setState(0xd9fd, 0x9865, 0xf4a0, 0x516, 0xef53, 0x9ad5, 0x1, 0x0);
        gbc.writeMem(0xd9fd, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x9865, gbc.sp());
        EXPECT(0xd9ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9fd));
        EXPECT(0x60, gbc.readMem(0xd9fe));
        // CB 60 011E
        gbc.setState(0xc148, 0x1edb, 0x73b0, 0xcecb, 0xa374, 0x68af, 0x1, 0x1);
        gbc.writeMem(0xc148, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x1edb, gbc.sp());
        EXPECT(0xc14a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc148));
        EXPECT(0x60, gbc.readMem(0xc149));
        // CB 60 011F
        gbc.setState(0xe376, 0xd5df, 0xf3e0, 0x81d, 0x747e, 0xef7, 0x1, 0x0);
        gbc.writeMem(0xe376, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xd5df, gbc.sp());
        EXPECT(0xe378, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe376));
        EXPECT(0x60, gbc.readMem(0xe377));
        // CB 60 0120
        gbc.setState(0x6812, 0x7096, 0x1ea0, 0x8ed, 0x1308, 0xb1b6, 0x0, 0x1);
        gbc.writeMem(0x6812, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x7096, gbc.sp());
        EXPECT(0x6814, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0121
        gbc.setState(0x3b8d, 0x60fd, 0x8870, 0x4ab, 0x9aaf, 0x2461, 0x1, 0x1);
        gbc.writeMem(0x3b8d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x60fd, gbc.sp());
        EXPECT(0x3b8f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0122
        gbc.setState(0x3c3e, 0xdfd1, 0x61a0, 0x7f05, 0xdb3f, 0xc5ed, 0x0, 0x0);
        gbc.writeMem(0x3c3e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xdfd1, gbc.sp());
        EXPECT(0x3c40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0123
        gbc.setState(0x8b1b, 0xd72, 0xe720, 0xfeb8, 0x4693, 0xcb4e, 0x1, 0x0);
        gbc.writeMem(0x8b1b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xd72, gbc.sp());
        EXPECT(0x8b1d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b1b));
        EXPECT(0x60, gbc.readMem(0x8b1c));
        // CB 60 0124
        gbc.setState(0xc9b8, 0x63d4, 0xa950, 0xb044, 0x5700, 0xce59, 0x1, 0x1);
        gbc.writeMem(0xc9b8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x63d4, gbc.sp());
        EXPECT(0xc9ba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc9b8));
        EXPECT(0x60, gbc.readMem(0xc9b9));
        // CB 60 0125
        gbc.setState(0x1cbc, 0x5e27, 0x1d90, 0x1a4a, 0x41c2, 0x1eba, 0x0, 0x1);
        gbc.writeMem(0x1cbc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x5e27, gbc.sp());
        EXPECT(0x1cbe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0126
        gbc.setState(0x6403, 0x9944, 0x1300, 0x31fa, 0xa802, 0xd531, 0x0, 0x0);
        gbc.writeMem(0x6403, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x9944, gbc.sp());
        EXPECT(0x6405, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0127
        gbc.setState(0xcaff, 0x2311, 0xe70, 0x443e, 0x1aa0, 0x6170, 0x1, 0x1);
        gbc.writeMem(0xcaff, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x2311, gbc.sp());
        EXPECT(0xcb01, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcaff));
        EXPECT(0x60, gbc.readMem(0xcb00));
        // CB 60 0128
        gbc.setState(0x3ee3, 0x942c, 0x3330, 0x417a, 0xab35, 0x6983, 0x1, 0x1);
        gbc.writeMem(0x3ee3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x942c, gbc.sp());
        EXPECT(0x3ee5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0129
        gbc.setState(0xd70c, 0x66e9, 0xb720, 0x3a9, 0xe552, 0xfb9b, 0x0, 0x0);
        gbc.writeMem(0xd70c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x66e9, gbc.sp());
        EXPECT(0xd70e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd70c));
        EXPECT(0x60, gbc.readMem(0xd70d));
        // CB 60 012A
        gbc.setState(0x56e9, 0xaca, 0x6a0, 0x160c, 0xb072, 0x4805, 0x1, 0x0);
        gbc.writeMem(0x56e9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xaca, gbc.sp());
        EXPECT(0x56eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 012C
        gbc.setState(0xb10e, 0x53fd, 0xe170, 0x7fba, 0xce73, 0xe911, 0x1, 0x1);
        gbc.writeMem(0xb10e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x53fd, gbc.sp());
        EXPECT(0xb110, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb10e));
        EXPECT(0x60, gbc.readMem(0xb10f));
        // CB 60 012D
        gbc.setState(0x166b, 0xc802, 0xa480, 0xc5a2, 0x6c83, 0x4c80, 0x1, 0x1);
        gbc.writeMem(0x166b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xc802, gbc.sp());
        EXPECT(0x166d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 012E
        gbc.setState(0xd1f1, 0x32da, 0x97b0, 0x8362, 0xd9b0, 0x9cd1, 0x1, 0x0);
        gbc.writeMem(0xd1f1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x32da, gbc.sp());
        EXPECT(0xd1f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd1f1));
        EXPECT(0x60, gbc.readMem(0xd1f2));
        // CB 60 012F
        gbc.setState(0xabb2, 0x7354, 0x5200, 0x1d75, 0xc4f1, 0xaba9, 0x0, 0x0);
        gbc.writeMem(0xabb2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x7354, gbc.sp());
        EXPECT(0xabb4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xabb2));
        EXPECT(0x60, gbc.readMem(0xabb3));
        // CB 60 0131
        gbc.setState(0xa4be, 0xe14f, 0x5670, 0x1298, 0xc5c6, 0xc001, 0x0, 0x0);
        gbc.writeMem(0xa4be, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xe14f, gbc.sp());
        EXPECT(0xa4c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4be));
        EXPECT(0x60, gbc.readMem(0xa4bf));
        // CB 60 0132
        gbc.setState(0xbbfc, 0x7c73, 0xd8c0, 0x6f61, 0xcd07, 0xc581, 0x1, 0x1);
        gbc.writeMem(0xbbfc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x7c73, gbc.sp());
        EXPECT(0xbbfe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbbfc));
        EXPECT(0x60, gbc.readMem(0xbbfd));
        // CB 60 0133
        gbc.setState(0x12ce, 0xf668, 0x94a0, 0xf6c, 0xb65b, 0x407c, 0x1, 0x0);
        gbc.writeMem(0x12ce, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xf668, gbc.sp());
        EXPECT(0x12d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0134
        gbc.setState(0x6daa, 0xce8f, 0x57f0, 0x4929, 0x66d8, 0xd193, 0x0, 0x0);
        gbc.writeMem(0x6daa, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xce8f, gbc.sp());
        EXPECT(0x6dac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0135
        gbc.setState(0x4315, 0x28f7, 0x12e0, 0xdd39, 0x8456, 0x64cd, 0x1, 0x0);
        gbc.writeMem(0x4315, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x28f7, gbc.sp());
        EXPECT(0x4317, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0137
        gbc.setState(0xe88, 0x8aa3, 0x23c0, 0x27df, 0xcfdc, 0xdc72, 0x0, 0x1);
        gbc.writeMem(0xe88, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x8aa3, gbc.sp());
        EXPECT(0xe8a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0138
        gbc.setState(0x6860, 0xb9b5, 0xcb60, 0xe342, 0x23a4, 0x49e9, 0x0, 0x0);
        gbc.writeMem(0x6860, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xb9b5, gbc.sp());
        EXPECT(0x6862, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0139
        gbc.setState(0xb1e8, 0x5e75, 0x45e0, 0xb618, 0x1ea5, 0x1f7f, 0x1, 0x0);
        gbc.writeMem(0xb1e8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x5e75, gbc.sp());
        EXPECT(0xb1ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb1e8));
        EXPECT(0x60, gbc.readMem(0xb1e9));
        // CB 60 013A
        gbc.setState(0x6409, 0x1943, 0x4e00, 0xe7cd, 0xa2a, 0x992b, 0x1, 0x1);
        gbc.writeMem(0x6409, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x1943, gbc.sp());
        EXPECT(0x640b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 013B
        gbc.setState(0x8106, 0x6a2c, 0xc230, 0x4d02, 0x66a2, 0xeff4, 0x1, 0x1);
        gbc.writeMem(0x8106, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x6a2c, gbc.sp());
        EXPECT(0x8108, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8106));
        EXPECT(0x60, gbc.readMem(0x8107));
        // CB 60 013C
        gbc.setState(0xa404, 0x829d, 0x6eb0, 0x109e, 0xa4c4, 0xc0be, 0x1, 0x0);
        gbc.writeMem(0xa404, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x829d, gbc.sp());
        EXPECT(0xa406, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa404));
        EXPECT(0x60, gbc.readMem(0xa405));
        // CB 60 013D
        gbc.setState(0xedbc, 0x857f, 0x26b0, 0x3445, 0x2609, 0x3ade, 0x1, 0x1);
        gbc.writeMem(0xedbc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x857f, gbc.sp());
        EXPECT(0xedbe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xedbc));
        EXPECT(0x60, gbc.readMem(0xedbd));
        // CB 60 013E
        gbc.setState(0xe0a2, 0x78c4, 0x3960, 0xc386, 0xe11d, 0xf502, 0x1, 0x1);
        gbc.writeMem(0xe0a2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x78c4, gbc.sp());
        EXPECT(0xe0a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe0a2));
        EXPECT(0x60, gbc.readMem(0xe0a3));
        // CB 60 013F
        gbc.setState(0xb7c1, 0xf020, 0xe950, 0x1f6e, 0xe26a, 0xd11a, 0x1, 0x1);
        gbc.writeMem(0xb7c1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xf020, gbc.sp());
        EXPECT(0xb7c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7c1));
        EXPECT(0x60, gbc.readMem(0xb7c2));
        // CB 60 0140
        gbc.setState(0xb7e, 0x5905, 0xa690, 0xce13, 0x9e51, 0x6d8f, 0x0, 0x1);
        gbc.writeMem(0xb7e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x5905, gbc.sp());
        EXPECT(0xb80, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0141
        gbc.setState(0xd43e, 0x289f, 0x31f0, 0x5634, 0x4cb, 0xd55f, 0x0, 0x1);
        gbc.writeMem(0xd43e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x289f, gbc.sp());
        EXPECT(0xd440, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd43e));
        EXPECT(0x60, gbc.readMem(0xd43f));
        // CB 60 0142
        gbc.setState(0xd4b6, 0x2e3b, 0x61e0, 0x4f70, 0xc0e8, 0x5f94, 0x1, 0x1);
        gbc.writeMem(0xd4b6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x2e3b, gbc.sp());
        EXPECT(0xd4b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4b6));
        EXPECT(0x60, gbc.readMem(0xd4b7));
        // CB 60 0143
        gbc.setState(0xc686, 0x2959, 0xf670, 0x80e5, 0x5a9b, 0x6a0f, 0x0, 0x1);
        gbc.writeMem(0xc686, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x2959, gbc.sp());
        EXPECT(0xc688, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc686));
        EXPECT(0x60, gbc.readMem(0xc687));
        // CB 60 0144
        gbc.setState(0xe36a, 0x2917, 0x2000, 0xc61, 0xd4dd, 0x90da, 0x1, 0x0);
        gbc.writeMem(0xe36a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x2917, gbc.sp());
        EXPECT(0xe36c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe36a));
        EXPECT(0x60, gbc.readMem(0xe36b));
        // CB 60 0145
        gbc.setState(0xdff0, 0x9f89, 0x54d0, 0x3da5, 0x9734, 0x1851, 0x0, 0x1);
        gbc.writeMem(0xdff0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x9f89, gbc.sp());
        EXPECT(0xdff2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdff0));
        EXPECT(0x60, gbc.readMem(0xdff1));
        // CB 60 0146
        gbc.setState(0x1a77, 0xf6df, 0xc9b0, 0x5e76, 0x241a, 0x8c41, 0x1, 0x1);
        gbc.writeMem(0x1a77, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xf6df, gbc.sp());
        EXPECT(0x1a79, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0147
        gbc.setState(0x743f, 0x68c1, 0x41a0, 0x2cee, 0x5212, 0x41f8, 0x0, 0x0);
        gbc.writeMem(0x743f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x68c1, gbc.sp());
        EXPECT(0x7441, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0148
        gbc.setState(0xcc96, 0x8e1, 0xe2a0, 0x71b2, 0x9c25, 0x750a, 0x1, 0x0);
        gbc.writeMem(0xcc96, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x8e1, gbc.sp());
        EXPECT(0xcc98, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc96));
        EXPECT(0x60, gbc.readMem(0xcc97));
        // CB 60 0149
        gbc.setState(0xd488, 0xf069, 0x5c40, 0x948b, 0xb5a1, 0x2e47, 0x0, 0x1);
        gbc.writeMem(0xd488, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xf069, gbc.sp());
        EXPECT(0xd48a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd488));
        EXPECT(0x60, gbc.readMem(0xd489));
        // CB 60 014A
        gbc.setState(0xde2a, 0x247d, 0x2a20, 0x533a, 0x3370, 0xd59b, 0x0, 0x0);
        gbc.writeMem(0xde2a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x247d, gbc.sp());
        EXPECT(0xde2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde2a));
        EXPECT(0x60, gbc.readMem(0xde2b));
        // CB 60 014B
        gbc.setState(0xd854, 0x9297, 0x86d0, 0x2717, 0x4836, 0xc89, 0x0, 0x0);
        gbc.writeMem(0xd854, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x9297, gbc.sp());
        EXPECT(0xd856, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd854));
        EXPECT(0x60, gbc.readMem(0xd855));
        // CB 60 014C
        gbc.setState(0x6463, 0xf7b5, 0xe810, 0x8020, 0x5a43, 0x364b, 0x1, 0x0);
        gbc.writeMem(0x6463, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xf7b5, gbc.sp());
        EXPECT(0x6465, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 014D
        gbc.setState(0x6476, 0xe75f, 0x4b10, 0x28c2, 0xacb6, 0x196e, 0x1, 0x0);
        gbc.writeMem(0x6476, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xe75f, gbc.sp());
        EXPECT(0x6478, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 014F
        gbc.setState(0xce10, 0x41e2, 0xf580, 0xbdd, 0x9f6f, 0xf397, 0x1, 0x0);
        gbc.writeMem(0xce10, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x41e2, gbc.sp());
        EXPECT(0xce12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce10));
        EXPECT(0x60, gbc.readMem(0xce11));
        // CB 60 0150
        gbc.setState(0x9083, 0xb448, 0x3b90, 0xb83, 0x6a1, 0x37f0, 0x1, 0x1);
        gbc.writeMem(0x9083, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xb448, gbc.sp());
        EXPECT(0x9085, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9083));
        EXPECT(0x60, gbc.readMem(0x9084));
        // CB 60 0151
        gbc.setState(0x838c, 0xa93a, 0x9420, 0x91b2, 0x6255, 0xc9cd, 0x1, 0x1);
        gbc.writeMem(0x838c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xa93a, gbc.sp());
        EXPECT(0x838e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x838c));
        EXPECT(0x60, gbc.readMem(0x838d));
        // CB 60 0152
        gbc.setState(0x1305, 0xb80c, 0x1590, 0xb6, 0xe2e8, 0xe852, 0x0, 0x1);
        gbc.writeMem(0x1305, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xb80c, gbc.sp());
        EXPECT(0x1307, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0153
        gbc.setState(0x43ac, 0xaba5, 0x3940, 0x1d1d, 0x472a, 0x582, 0x0, 0x0);
        gbc.writeMem(0x43ac, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xaba5, gbc.sp());
        EXPECT(0x43ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0154
        gbc.setState(0x642f, 0x3054, 0xd1a0, 0x6b42, 0x6e8b, 0x3986, 0x0, 0x0);
        gbc.writeMem(0x642f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x3054, gbc.sp());
        EXPECT(0x6431, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0155
        gbc.setState(0x25c3, 0xc58d, 0x38e0, 0xfe03, 0xfeac, 0xc030, 0x0, 0x0);
        gbc.writeMem(0x25c3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xc58d, gbc.sp());
        EXPECT(0x25c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0157
        gbc.setState(0x74a1, 0xd2b4, 0x8e10, 0x15e0, 0x1cd5, 0x3b7, 0x0, 0x0);
        gbc.writeMem(0x74a1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xd2b4, gbc.sp());
        EXPECT(0x74a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0158
        gbc.setState(0x99e8, 0xd13d, 0xca40, 0x5614, 0x7d42, 0x7310, 0x1, 0x1);
        gbc.writeMem(0x99e8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xd13d, gbc.sp());
        EXPECT(0x99ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99e8));
        EXPECT(0x60, gbc.readMem(0x99e9));
        // CB 60 0159
        gbc.setState(0x8d6f, 0x6bb7, 0x2c60, 0x98fa, 0xff31, 0x137, 0x1, 0x1);
        gbc.writeMem(0x8d6f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x6bb7, gbc.sp());
        EXPECT(0x8d71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d6f));
        EXPECT(0x60, gbc.readMem(0x8d70));
        // CB 60 015A
        gbc.setState(0x43ac, 0x4b86, 0x3f50, 0x9745, 0x82fb, 0x2509, 0x1, 0x0);
        gbc.writeMem(0x43ac, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x4b86, gbc.sp());
        EXPECT(0x43ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 015B
        gbc.setState(0x2c12, 0x4fdc, 0x8a50, 0xfa49, 0x450f, 0xf41d, 0x1, 0x0);
        gbc.writeMem(0x2c12, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x4fdc, gbc.sp());
        EXPECT(0x2c14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 015C
        gbc.setState(0x3a24, 0x9c1a, 0x3090, 0x7ff1, 0x862f, 0x7dc6, 0x1, 0x0);
        gbc.writeMem(0x3a24, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x9c1a, gbc.sp());
        EXPECT(0x3a26, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 015D
        gbc.setState(0x93a, 0xed9b, 0xba30, 0x987, 0x8a95, 0x4465, 0x0, 0x0);
        gbc.writeMem(0x93a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xed9b, gbc.sp());
        EXPECT(0x93c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 015E
        gbc.setState(0xbe7a, 0x5b19, 0xf270, 0x3cb7, 0x43ca, 0xf5d2, 0x0, 0x0);
        gbc.writeMem(0xbe7a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x5b19, gbc.sp());
        EXPECT(0xbe7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe7a));
        EXPECT(0x60, gbc.readMem(0xbe7b));
        // CB 60 015F
        gbc.setState(0xa2c0, 0xf5c6, 0xed80, 0x2e83, 0xac67, 0xe5dd, 0x1, 0x1);
        gbc.writeMem(0xa2c0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xf5c6, gbc.sp());
        EXPECT(0xa2c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa2c0));
        EXPECT(0x60, gbc.readMem(0xa2c1));
        // CB 60 0160
        gbc.setState(0x50d8, 0x3ca5, 0x7c50, 0x7479, 0x768, 0x152c, 0x0, 0x1);
        gbc.writeMem(0x50d8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x3ca5, gbc.sp());
        EXPECT(0x50da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0161
        gbc.setState(0x1153, 0xc79b, 0x7330, 0x68ad, 0x8f30, 0x8cf0, 0x0, 0x0);
        gbc.writeMem(0x1153, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xc79b, gbc.sp());
        EXPECT(0x1155, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0162
        gbc.setState(0xcc9f, 0x9925, 0x3300, 0xb390, 0xb02a, 0xc, 0x0, 0x1);
        gbc.writeMem(0xcc9f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x9925, gbc.sp());
        EXPECT(0xcca1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc9f));
        EXPECT(0x60, gbc.readMem(0xcca0));
        // CB 60 0163
        gbc.setState(0x66cb, 0x5123, 0xe020, 0xfcc3, 0x7e2b, 0xe572, 0x0, 0x0);
        gbc.writeMem(0x66cb, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x5123, gbc.sp());
        EXPECT(0x66cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0164
        gbc.setState(0xcc61, 0x17b0, 0xc7d0, 0x6f1, 0x91f4, 0xbf7b, 0x1, 0x1);
        gbc.writeMem(0xcc61, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x17b0, gbc.sp());
        EXPECT(0xcc63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc61));
        EXPECT(0x60, gbc.readMem(0xcc62));
        // CB 60 0165
        gbc.setState(0x68c2, 0x7c0a, 0xf670, 0x94f6, 0x1fbb, 0x31f5, 0x1, 0x0);
        gbc.writeMem(0x68c2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x7c0a, gbc.sp());
        EXPECT(0x68c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0166
        gbc.setState(0x9595, 0xb953, 0x23d0, 0xbc16, 0xf127, 0xfcfc, 0x0, 0x1);
        gbc.writeMem(0x9595, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xb953, gbc.sp());
        EXPECT(0x9597, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9595));
        EXPECT(0x60, gbc.readMem(0x9596));
        // CB 60 0167
        gbc.setState(0x6342, 0x1f5e, 0x38a0, 0x9bc9, 0x1e14, 0xe34a, 0x1, 0x0);
        gbc.writeMem(0x6342, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x1f5e, gbc.sp());
        EXPECT(0x6344, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0168
        gbc.setState(0x8a36, 0x477b, 0xd830, 0xa09d, 0xe343, 0x7c70, 0x0, 0x1);
        gbc.writeMem(0x8a36, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x477b, gbc.sp());
        EXPECT(0x8a38, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a36));
        EXPECT(0x60, gbc.readMem(0x8a37));
        // CB 60 0169
        gbc.setState(0x7b35, 0x6608, 0xd030, 0x1910, 0xc336, 0xe620, 0x1, 0x0);
        gbc.writeMem(0x7b35, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x6608, gbc.sp());
        EXPECT(0x7b37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 016A
        gbc.setState(0x2e3e, 0x62ac, 0xcf10, 0xd5b8, 0x58be, 0xe2d4, 0x0, 0x1);
        gbc.writeMem(0x2e3e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x62ac, gbc.sp());
        EXPECT(0x2e40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 016B
        gbc.setState(0x2e41, 0x2d4a, 0xb440, 0xa484, 0x5023, 0xb2ef, 0x1, 0x0);
        gbc.writeMem(0x2e41, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x2d4a, gbc.sp());
        EXPECT(0x2e43, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 016C
        gbc.setState(0x4e09, 0xd425, 0xc2f0, 0x8e72, 0x98b, 0x79f, 0x1, 0x0);
        gbc.writeMem(0x4e09, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xd425, gbc.sp());
        EXPECT(0x4e0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 016D
        gbc.setState(0xa176, 0xc322, 0xee90, 0x5d02, 0x3802, 0x8804, 0x1, 0x0);
        gbc.writeMem(0xa176, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xc322, gbc.sp());
        EXPECT(0xa178, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa176));
        EXPECT(0x60, gbc.readMem(0xa177));
        // CB 60 016E
        gbc.setState(0xc4d0, 0x606b, 0x6720, 0x3f38, 0xbe52, 0x7e32, 0x0, 0x1);
        gbc.writeMem(0xc4d0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x606b, gbc.sp());
        EXPECT(0xc4d2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4d0));
        EXPECT(0x60, gbc.readMem(0xc4d1));
        // CB 60 016F
        gbc.setState(0xa0bb, 0x1c78, 0xe1e0, 0xc9e1, 0xc583, 0xea4e, 0x0, 0x0);
        gbc.writeMem(0xa0bb, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x1c78, gbc.sp());
        EXPECT(0xa0bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0bb));
        EXPECT(0x60, gbc.readMem(0xa0bc));
        // CB 60 0170
        gbc.setState(0x3a7d, 0xcea7, 0xa010, 0x8ac9, 0x7129, 0x8d50, 0x0, 0x1);
        gbc.writeMem(0x3a7d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xcea7, gbc.sp());
        EXPECT(0x3a7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0171
        gbc.setState(0xc6a5, 0xeadf, 0xb500, 0xac08, 0x795d, 0x728, 0x1, 0x0);
        gbc.writeMem(0xc6a5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xeadf, gbc.sp());
        EXPECT(0xc6a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc6a5));
        EXPECT(0x60, gbc.readMem(0xc6a6));
        // CB 60 0172
        gbc.setState(0xeec, 0xba3, 0x9bc0, 0x3b4b, 0x4a37, 0xce52, 0x1, 0x0);
        gbc.writeMem(0xeec, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xba3, gbc.sp());
        EXPECT(0xeee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0173
        gbc.setState(0xcb6, 0xacee, 0x1a0, 0x2893, 0xa6da, 0xb946, 0x0, 0x1);
        gbc.writeMem(0xcb6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xacee, gbc.sp());
        EXPECT(0xcb8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0174
        gbc.setState(0xccf6, 0x4b5f, 0x7880, 0x928e, 0x1692, 0x7c86, 0x0, 0x1);
        gbc.writeMem(0xccf6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x4b5f, gbc.sp());
        EXPECT(0xccf8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xccf6));
        EXPECT(0x60, gbc.readMem(0xccf7));
        // CB 60 0175
        gbc.setState(0x9279, 0x965, 0x3f60, 0xebbf, 0xf131, 0x811f, 0x0, 0x1);
        gbc.writeMem(0x9279, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x965, gbc.sp());
        EXPECT(0x927b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9279));
        EXPECT(0x60, gbc.readMem(0x927a));
        // CB 60 0176
        gbc.setState(0x49a5, 0x3815, 0xeee0, 0x9e01, 0x2d97, 0xb97c, 0x0, 0x0);
        gbc.writeMem(0x49a5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x3815, gbc.sp());
        EXPECT(0x49a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0177
        gbc.setState(0x7ad4, 0x8e78, 0x1b20, 0xb871, 0xd089, 0x7d54, 0x1, 0x1);
        gbc.writeMem(0x7ad4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x8e78, gbc.sp());
        EXPECT(0x7ad6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0178
        gbc.setState(0xe300, 0xd595, 0xf9b0, 0xbd5c, 0x8339, 0x272b, 0x0, 0x0);
        gbc.writeMem(0xe300, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xd595, gbc.sp());
        EXPECT(0xe302, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe300));
        EXPECT(0x60, gbc.readMem(0xe301));
        // CB 60 0179
        gbc.setState(0xe845, 0x9b7e, 0x6e80, 0x25da, 0x184b, 0x2462, 0x1, 0x0);
        gbc.writeMem(0xe845, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x9b7e, gbc.sp());
        EXPECT(0xe847, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe845));
        EXPECT(0x60, gbc.readMem(0xe846));
        // CB 60 017A
        gbc.setState(0xd8e5, 0xd240, 0xc230, 0x20af, 0x1b83, 0xba6b, 0x1, 0x0);
        gbc.writeMem(0xd8e5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xd240, gbc.sp());
        EXPECT(0xd8e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd8e5));
        EXPECT(0x60, gbc.readMem(0xd8e6));
        // CB 60 017C
        gbc.setState(0x3e3b, 0xf3f7, 0x1310, 0x3ce1, 0xea08, 0xbe71, 0x0, 0x1);
        gbc.writeMem(0x3e3b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xf3f7, gbc.sp());
        EXPECT(0x3e3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 017E
        gbc.setState(0xc34b, 0x4e3f, 0xa5f0, 0x6901, 0xdf5d, 0xe558, 0x0, 0x0);
        gbc.writeMem(0xc34b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x4e3f, gbc.sp());
        EXPECT(0xc34d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc34b));
        EXPECT(0x60, gbc.readMem(0xc34c));
        // CB 60 017F
        gbc.setState(0xe058, 0x99da, 0xa180, 0x37d4, 0x7ad8, 0xee44, 0x0, 0x1);
        gbc.writeMem(0xe058, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x99da, gbc.sp());
        EXPECT(0xe05a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe058));
        EXPECT(0x60, gbc.readMem(0xe059));
        // CB 60 0180
        gbc.setState(0x7450, 0x384d, 0x6ab0, 0x9757, 0x6322, 0xb937, 0x0, 0x1);
        gbc.writeMem(0x7450, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x384d, gbc.sp());
        EXPECT(0x7452, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0181
        gbc.setState(0x20ac, 0x12d3, 0xd3b0, 0x8a78, 0x6acb, 0xf3ed, 0x0, 0x1);
        gbc.writeMem(0x20ac, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x12d3, gbc.sp());
        EXPECT(0x20ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0182
        gbc.setState(0x7019, 0x13b1, 0x4610, 0x6517, 0x45c8, 0x5de6, 0x1, 0x1);
        gbc.writeMem(0x7019, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x13b1, gbc.sp());
        EXPECT(0x701b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0183
        gbc.setState(0x89a1, 0xc063, 0xa920, 0xcc60, 0xbc6e, 0xb5b6, 0x1, 0x1);
        gbc.writeMem(0x89a1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xc063, gbc.sp());
        EXPECT(0x89a3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89a1));
        EXPECT(0x60, gbc.readMem(0x89a2));
        // CB 60 0184
        gbc.setState(0x17c2, 0x7adf, 0x4a90, 0x936d, 0x7c1f, 0x8333, 0x0, 0x1);
        gbc.writeMem(0x17c2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x7adf, gbc.sp());
        EXPECT(0x17c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0185
        gbc.setState(0x16b7, 0xc6bf, 0xedf0, 0xe46b, 0x5004, 0x2d70, 0x1, 0x0);
        gbc.writeMem(0x16b7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xc6bf, gbc.sp());
        EXPECT(0x16b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0186
        gbc.setState(0xd2ca, 0x5113, 0x790, 0x4049, 0x6232, 0x929e, 0x0, 0x0);
        gbc.writeMem(0xd2ca, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x5113, gbc.sp());
        EXPECT(0xd2cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd2ca));
        EXPECT(0x60, gbc.readMem(0xd2cb));
        // CB 60 0187
        gbc.setState(0x362f, 0x44c6, 0xc7d0, 0x92aa, 0xc257, 0x4e9b, 0x1, 0x0);
        gbc.writeMem(0x362f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x44c6, gbc.sp());
        EXPECT(0x3631, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0188
        gbc.setState(0x2a36, 0x37fc, 0xd960, 0x5a7d, 0x156c, 0xc138, 0x1, 0x0);
        gbc.writeMem(0x2a36, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x37fc, gbc.sp());
        EXPECT(0x2a38, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0189
        gbc.setState(0x3ae0, 0x1a6e, 0x2d0, 0x61dc, 0xc2b6, 0xb130, 0x0, 0x0);
        gbc.writeMem(0x3ae0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x1a6e, gbc.sp());
        EXPECT(0x3ae2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 018A
        gbc.setState(0x795c, 0x593, 0xb610, 0x7cfd, 0x35, 0x860b, 0x0, 0x1);
        gbc.writeMem(0x795c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x593, gbc.sp());
        EXPECT(0x795e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 018B
        gbc.setState(0xc9a3, 0x8e5f, 0x32c0, 0x8231, 0xe099, 0x766b, 0x1, 0x0);
        gbc.writeMem(0xc9a3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x8e5f, gbc.sp());
        EXPECT(0xc9a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc9a3));
        EXPECT(0x60, gbc.readMem(0xc9a4));
        // CB 60 018C
        gbc.setState(0x4adf, 0x67f1, 0xe780, 0x4a1f, 0x8cc2, 0xdafe, 0x1, 0x1);
        gbc.writeMem(0x4adf, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x67f1, gbc.sp());
        EXPECT(0x4ae1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 018D
        gbc.setState(0x597b, 0x8dd4, 0xa590, 0x438e, 0xcbb1, 0x6f1e, 0x1, 0x0);
        gbc.writeMem(0x597b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x8dd4, gbc.sp());
        EXPECT(0x597d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 018E
        gbc.setState(0x4df0, 0x94c1, 0x8990, 0xd182, 0xcaba, 0x8b64, 0x0, 0x0);
        gbc.writeMem(0x4df0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x94c1, gbc.sp());
        EXPECT(0x4df2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 018F
        gbc.setState(0x7b32, 0x86b8, 0xeb70, 0x456f, 0x137c, 0xc9de, 0x1, 0x1);
        gbc.writeMem(0x7b32, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x86b8, gbc.sp());
        EXPECT(0x7b34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0190
        gbc.setState(0xccae, 0xd53e, 0x4200, 0xa269, 0x7752, 0x7da, 0x0, 0x0);
        gbc.writeMem(0xccae, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xd53e, gbc.sp());
        EXPECT(0xccb0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xccae));
        EXPECT(0x60, gbc.readMem(0xccaf));
        // CB 60 0191
        gbc.setState(0xa39a, 0xf0a3, 0x4ec0, 0x9282, 0xd1b2, 0xa651, 0x0, 0x0);
        gbc.writeMem(0xa39a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xf0a3, gbc.sp());
        EXPECT(0xa39c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa39a));
        EXPECT(0x60, gbc.readMem(0xa39b));
        // CB 60 0192
        gbc.setState(0xe6e, 0xc524, 0x8a80, 0xe2fd, 0xbef8, 0xe7c6, 0x0, 0x1);
        gbc.writeMem(0xe6e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xc524, gbc.sp());
        EXPECT(0xe70, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0193
        gbc.setState(0xac00, 0xf8bb, 0x4760, 0x551, 0x1b6c, 0x62a1, 0x1, 0x1);
        gbc.writeMem(0xac00, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xf8bb, gbc.sp());
        EXPECT(0xac02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac00));
        EXPECT(0x60, gbc.readMem(0xac01));
        // CB 60 0194
        gbc.setState(0x4a58, 0x108a, 0x8720, 0xe0a5, 0x7d2c, 0x39ad, 0x0, 0x0);
        gbc.writeMem(0x4a58, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x108a, gbc.sp());
        EXPECT(0x4a5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0195
        gbc.setState(0x9036, 0x9196, 0x9590, 0x4f23, 0xe12e, 0xe50f, 0x0, 0x0);
        gbc.writeMem(0x9036, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x9196, gbc.sp());
        EXPECT(0x9038, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9036));
        EXPECT(0x60, gbc.readMem(0x9037));
        // CB 60 0196
        gbc.setState(0x153e, 0x44c9, 0x1050, 0x35a0, 0xf623, 0xb069, 0x1, 0x1);
        gbc.writeMem(0x153e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x44c9, gbc.sp());
        EXPECT(0x1540, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0197
        gbc.setState(0x16f4, 0xaabb, 0x5300, 0xc68e, 0xfa2d, 0xeae1, 0x1, 0x0);
        gbc.writeMem(0x16f4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xaabb, gbc.sp());
        EXPECT(0x16f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0198
        gbc.setState(0x7f44, 0x1f78, 0x3d70, 0x1468, 0x1158, 0xa5cc, 0x0, 0x0);
        gbc.writeMem(0x7f44, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x1f78, gbc.sp());
        EXPECT(0x7f46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0199
        gbc.setState(0x1670, 0x94, 0xc6b0, 0xff69, 0x4269, 0xcb54, 0x0, 0x1);
        gbc.writeMem(0x1670, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x94, gbc.sp());
        EXPECT(0x1672, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 019A
        gbc.setState(0x92c3, 0x2258, 0x3030, 0xbb0d, 0x89fa, 0x3d72, 0x1, 0x1);
        gbc.writeMem(0x92c3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x2258, gbc.sp());
        EXPECT(0x92c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92c3));
        EXPECT(0x60, gbc.readMem(0x92c4));
        // CB 60 019B
        gbc.setState(0xd7c2, 0x486e, 0xc660, 0x9664, 0xac39, 0x1899, 0x0, 0x1);
        gbc.writeMem(0xd7c2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x486e, gbc.sp());
        EXPECT(0xd7c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd7c2));
        EXPECT(0x60, gbc.readMem(0xd7c3));
        // CB 60 019C
        gbc.setState(0xc94a, 0x5023, 0xefe0, 0x5ff1, 0xb593, 0xa5d, 0x0, 0x1);
        gbc.writeMem(0xc94a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x5023, gbc.sp());
        EXPECT(0xc94c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc94a));
        EXPECT(0x60, gbc.readMem(0xc94b));
        // CB 60 019D
        gbc.setState(0x7f30, 0x857a, 0x2380, 0xa5af, 0x12f1, 0xbb0f, 0x1, 0x1);
        gbc.writeMem(0x7f30, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x857a, gbc.sp());
        EXPECT(0x7f32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 019E
        gbc.setState(0x1913, 0x73f7, 0x3f0, 0x1e6, 0x40da, 0x9bd7, 0x1, 0x0);
        gbc.writeMem(0x1913, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x73f7, gbc.sp());
        EXPECT(0x1915, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 019F
        gbc.setState(0xe762, 0xcdfe, 0xeac0, 0x4a9d, 0x9e31, 0x2311, 0x0, 0x1);
        gbc.writeMem(0xe762, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xcdfe, gbc.sp());
        EXPECT(0xe764, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe762));
        EXPECT(0x60, gbc.readMem(0xe763));
        // CB 60 01A0
        gbc.setState(0x2c7e, 0x23f2, 0x5e20, 0x2f75, 0x892e, 0xc12f, 0x1, 0x0);
        gbc.writeMem(0x2c7e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x23f2, gbc.sp());
        EXPECT(0x2c80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01A1
        gbc.setState(0x3fd6, 0x6a1a, 0x5ba0, 0x34d4, 0xf0ac, 0x6a5f, 0x1, 0x0);
        gbc.writeMem(0x3fd6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x6a1a, gbc.sp());
        EXPECT(0x3fd8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01A2
        gbc.setState(0x9c64, 0x6b63, 0xcda0, 0xe5d8, 0xd37, 0xb9f6, 0x1, 0x0);
        gbc.writeMem(0x9c64, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x6b63, gbc.sp());
        EXPECT(0x9c66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c64));
        EXPECT(0x60, gbc.readMem(0x9c65));
        // CB 60 01A3
        gbc.setState(0xd0e4, 0x6ef4, 0x2a50, 0x3a3c, 0xee9d, 0x349b, 0x1, 0x1);
        gbc.writeMem(0xd0e4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x6ef4, gbc.sp());
        EXPECT(0xd0e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd0e4));
        EXPECT(0x60, gbc.readMem(0xd0e5));
        // CB 60 01A4
        gbc.setState(0x2b8c, 0x144b, 0x6b10, 0x423, 0x76f1, 0xc0b1, 0x1, 0x0);
        gbc.writeMem(0x2b8c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x144b, gbc.sp());
        EXPECT(0x2b8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01A5
        gbc.setState(0x9a1f, 0x388c, 0xd2d0, 0x4384, 0xf956, 0xdb17, 0x0, 0x1);
        gbc.writeMem(0x9a1f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x388c, gbc.sp());
        EXPECT(0x9a21, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a1f));
        EXPECT(0x60, gbc.readMem(0x9a20));
        // CB 60 01A6
        gbc.setState(0x8bfe, 0x9cf2, 0x60b0, 0x5af9, 0xf473, 0xdf88, 0x0, 0x1);
        gbc.writeMem(0x8bfe, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x9cf2, gbc.sp());
        EXPECT(0x8c00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8bfe));
        EXPECT(0x60, gbc.readMem(0x8bff));
        // CB 60 01A7
        gbc.setState(0x3628, 0xb3ea, 0xd430, 0x2c83, 0xedc8, 0xb4e8, 0x0, 0x0);
        gbc.writeMem(0x3628, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xb3ea, gbc.sp());
        EXPECT(0x362a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01A8
        gbc.setState(0xc2c5, 0x2e4, 0x2c0, 0x14a, 0xbab, 0x3ae4, 0x0, 0x0);
        gbc.writeMem(0xc2c5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x2e4, gbc.sp());
        EXPECT(0xc2c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc2c5));
        EXPECT(0x60, gbc.readMem(0xc2c6));
        // CB 60 01A9
        gbc.setState(0xeb2, 0x6932, 0x8b40, 0x6e28, 0xf73d, 0xe05d, 0x0, 0x0);
        gbc.writeMem(0xeb2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x6932, gbc.sp());
        EXPECT(0xeb4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01AA
        gbc.setState(0x3cfd, 0x929b, 0x34f0, 0x8539, 0xfd9b, 0x7dcf, 0x1, 0x1);
        gbc.writeMem(0x3cfd, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x929b, gbc.sp());
        EXPECT(0x3cff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01AB
        gbc.setState(0xd796, 0xf509, 0x6680, 0x611e, 0x99cd, 0xaf4d, 0x0, 0x0);
        gbc.writeMem(0xd796, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xf509, gbc.sp());
        EXPECT(0xd798, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd796));
        EXPECT(0x60, gbc.readMem(0xd797));
        // CB 60 01AC
        gbc.setState(0x916c, 0xae06, 0x24a0, 0x870f, 0xa021, 0xc1f5, 0x0, 0x1);
        gbc.writeMem(0x916c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xae06, gbc.sp());
        EXPECT(0x916e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x916c));
        EXPECT(0x60, gbc.readMem(0x916d));
        // CB 60 01AD
        gbc.setState(0x4f8, 0xa59f, 0xf3d0, 0xb0b4, 0x8f85, 0x4472, 0x0, 0x0);
        gbc.writeMem(0x4f8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xa59f, gbc.sp());
        EXPECT(0x4fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01AE
        gbc.setState(0x95d0, 0x437f, 0xfb50, 0x4654, 0xd53, 0xd3a2, 0x0, 0x1);
        gbc.writeMem(0x95d0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x437f, gbc.sp());
        EXPECT(0x95d2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x95d0));
        EXPECT(0x60, gbc.readMem(0x95d1));
        // CB 60 01AF
        gbc.setState(0x7e99, 0x68f, 0xe380, 0xd0f0, 0x74a8, 0x29f5, 0x0, 0x0);
        gbc.writeMem(0x7e99, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x68f, gbc.sp());
        EXPECT(0x7e9b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01B0
        gbc.setState(0x4aed, 0xbd64, 0xd390, 0xbdf7, 0x30d4, 0xe41a, 0x1, 0x1);
        gbc.writeMem(0x4aed, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xbd64, gbc.sp());
        EXPECT(0x4aef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01B1
        gbc.setState(0x836b, 0x2eff, 0x94f0, 0x3351, 0xefe9, 0xe2a5, 0x1, 0x1);
        gbc.writeMem(0x836b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x2eff, gbc.sp());
        EXPECT(0x836d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x836b));
        EXPECT(0x60, gbc.readMem(0x836c));
        // CB 60 01B2
        gbc.setState(0x742e, 0x6531, 0xc340, 0xdca3, 0x6f00, 0x29b, 0x0, 0x1);
        gbc.writeMem(0x742e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x6531, gbc.sp());
        EXPECT(0x7430, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01B3
        gbc.setState(0x2062, 0x2ccd, 0x2bc0, 0x2c37, 0x719f, 0x373b, 0x1, 0x0);
        gbc.writeMem(0x2062, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x2ccd, gbc.sp());
        EXPECT(0x2064, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01B4
        gbc.setState(0x176, 0x54ad, 0x92d0, 0x7c5b, 0xb501, 0xa04, 0x1, 0x1);
        gbc.writeMem(0x176, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x54ad, gbc.sp());
        EXPECT(0x178, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01B5
        gbc.setState(0x965a, 0x9e89, 0x47d0, 0x9d2f, 0x8225, 0x83d, 0x0, 0x1);
        gbc.writeMem(0x965a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x9e89, gbc.sp());
        EXPECT(0x965c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x965a));
        EXPECT(0x60, gbc.readMem(0x965b));
        // CB 60 01B6
        gbc.setState(0x8314, 0xbcc9, 0xf880, 0xf985, 0xdbf, 0xa510, 0x1, 0x0);
        gbc.writeMem(0x8314, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xbcc9, gbc.sp());
        EXPECT(0x8316, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8314));
        EXPECT(0x60, gbc.readMem(0x8315));
        // CB 60 01B7
        gbc.setState(0x4fd5, 0xc896, 0x2080, 0x4b51, 0x92f0, 0x34f6, 0x0, 0x1);
        gbc.writeMem(0x4fd5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xc896, gbc.sp());
        EXPECT(0x4fd7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01B8
        gbc.setState(0x6694, 0xa2fa, 0x2520, 0x5848, 0xfa5f, 0xa57b, 0x0, 0x1);
        gbc.writeMem(0x6694, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xa2fa, gbc.sp());
        EXPECT(0x6696, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01B9
        gbc.setState(0xbd56, 0x1982, 0x1080, 0xc29c, 0x3f2c, 0x7272, 0x0, 0x0);
        gbc.writeMem(0xbd56, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x1982, gbc.sp());
        EXPECT(0xbd58, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd56));
        EXPECT(0x60, gbc.readMem(0xbd57));
        // CB 60 01BA
        gbc.setState(0xd28c, 0xbf1e, 0xfcc0, 0xca33, 0x8024, 0x7e0b, 0x0, 0x0);
        gbc.writeMem(0xd28c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xbf1e, gbc.sp());
        EXPECT(0xd28e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd28c));
        EXPECT(0x60, gbc.readMem(0xd28d));
        // CB 60 01BB
        gbc.setState(0xbede, 0x31ca, 0xf540, 0x2249, 0x1ac1, 0x6d2c, 0x0, 0x1);
        gbc.writeMem(0xbede, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x31ca, gbc.sp());
        EXPECT(0xbee0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbede));
        EXPECT(0x60, gbc.readMem(0xbedf));
        // CB 60 01BC
        gbc.setState(0x824, 0xbae3, 0x9ee0, 0x55b7, 0xe623, 0x4fb2, 0x1, 0x0);
        gbc.writeMem(0x824, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xbae3, gbc.sp());
        EXPECT(0x826, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01BD
        gbc.setState(0x974, 0x1c4a, 0xa500, 0xf5b4, 0x1f4d, 0xc040, 0x1, 0x0);
        gbc.writeMem(0x974, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x1c4a, gbc.sp());
        EXPECT(0x976, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01BE
        gbc.setState(0x1e2e, 0x4bde, 0x4d00, 0x8a30, 0x32e, 0x6fed, 0x1, 0x0);
        gbc.writeMem(0x1e2e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x4bde, gbc.sp());
        EXPECT(0x1e30, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01BF
        gbc.setState(0x7b22, 0x65ce, 0x4bd0, 0x61fa, 0x84c6, 0xae8c, 0x0, 0x0);
        gbc.writeMem(0x7b22, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x65ce, gbc.sp());
        EXPECT(0x7b24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01C0
        gbc.setState(0x1390, 0xc28f, 0x38b0, 0x484b, 0xe501, 0xffb6, 0x1, 0x1);
        gbc.writeMem(0x1390, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xc28f, gbc.sp());
        EXPECT(0x1392, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01C1
        gbc.setState(0xc74b, 0xb52f, 0xa80, 0xb3fe, 0x8480, 0xbb07, 0x0, 0x1);
        gbc.writeMem(0xc74b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xb52f, gbc.sp());
        EXPECT(0xc74d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc74b));
        EXPECT(0x60, gbc.readMem(0xc74c));
        // CB 60 01C2
        gbc.setState(0x19e3, 0xf369, 0x6900, 0xd7e7, 0x225, 0xa6ea, 0x0, 0x1);
        gbc.writeMem(0x19e3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xf369, gbc.sp());
        EXPECT(0x19e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01C4
        gbc.setState(0x4a80, 0x5f74, 0x7be0, 0x69b8, 0xbe73, 0x68d1, 0x0, 0x0);
        gbc.writeMem(0x4a80, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x5f74, gbc.sp());
        EXPECT(0x4a82, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01C5
        gbc.setState(0x1581, 0x5656, 0xdbf0, 0x560, 0x80f, 0x4a84, 0x1, 0x0);
        gbc.writeMem(0x1581, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x5656, gbc.sp());
        EXPECT(0x1583, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01C7
        gbc.setState(0x5f0, 0x85eb, 0x2980, 0x2358, 0xb843, 0xd818, 0x0, 0x1);
        gbc.writeMem(0x5f0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x85eb, gbc.sp());
        EXPECT(0x5f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01C8
        gbc.setState(0xe8ea, 0xa8bc, 0x7b30, 0xcba9, 0x143e, 0x23fb, 0x0, 0x1);
        gbc.writeMem(0xe8ea, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xa8bc, gbc.sp());
        EXPECT(0xe8ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe8ea));
        EXPECT(0x60, gbc.readMem(0xe8eb));
        // CB 60 01C9
        gbc.setState(0x35b, 0x1fba, 0x4a30, 0xd8b1, 0x8e2f, 0x246f, 0x1, 0x1);
        gbc.writeMem(0x35b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x1fba, gbc.sp());
        EXPECT(0x35d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01CA
        gbc.setState(0xd1e4, 0x69b9, 0x4cb0, 0x991a, 0x8d75, 0xc231, 0x1, 0x1);
        gbc.writeMem(0xd1e4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x69b9, gbc.sp());
        EXPECT(0xd1e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd1e4));
        EXPECT(0x60, gbc.readMem(0xd1e5));
        // CB 60 01CB
        gbc.setState(0x80c8, 0x2b78, 0x7eb0, 0xc186, 0x6574, 0x6e8c, 0x1, 0x0);
        gbc.writeMem(0x80c8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x2b78, gbc.sp());
        EXPECT(0x80ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80c8));
        EXPECT(0x60, gbc.readMem(0x80c9));
        // CB 60 01CC
        gbc.setState(0x380b, 0xf308, 0x190, 0x31e6, 0x123f, 0x8943, 0x0, 0x0);
        gbc.writeMem(0x380b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xf308, gbc.sp());
        EXPECT(0x380d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01CD
        gbc.setState(0x4a0, 0x46ec, 0xe6e0, 0xd354, 0x3fe4, 0xf94b, 0x0, 0x1);
        gbc.writeMem(0x4a0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x46ec, gbc.sp());
        EXPECT(0x4a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01CE
        gbc.setState(0x3d98, 0x3d2d, 0x94b0, 0x8593, 0xae68, 0xdcdd, 0x1, 0x1);
        gbc.writeMem(0x3d98, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x3d2d, gbc.sp());
        EXPECT(0x3d9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01CF
        gbc.setState(0xd690, 0x9d57, 0x2640, 0x3665, 0x45ce, 0x8b85, 0x1, 0x1);
        gbc.writeMem(0xd690, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x9d57, gbc.sp());
        EXPECT(0xd692, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd690));
        EXPECT(0x60, gbc.readMem(0xd691));
        // CB 60 01D0
        gbc.setState(0x5861, 0x5a21, 0x230, 0x723, 0x5184, 0x1062, 0x1, 0x0);
        gbc.writeMem(0x5861, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x5a21, gbc.sp());
        EXPECT(0x5863, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01D1
        gbc.setState(0xcc7f, 0xc992, 0xce90, 0x51ba, 0xc952, 0xb348, 0x0, 0x0);
        gbc.writeMem(0xcc7f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xc992, gbc.sp());
        EXPECT(0xcc81, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc7f));
        EXPECT(0x60, gbc.readMem(0xcc80));
        // CB 60 01D2
        gbc.setState(0xef2a, 0x47a2, 0x8c10, 0x9be1, 0x5d6b, 0x8377, 0x1, 0x1);
        gbc.writeMem(0xef2a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x47a2, gbc.sp());
        EXPECT(0xef2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef2a));
        EXPECT(0x60, gbc.readMem(0xef2b));
        // CB 60 01D3
        gbc.setState(0xe4af, 0x6ad3, 0x61c0, 0xdf43, 0xea3b, 0xc231, 0x0, 0x1);
        gbc.writeMem(0xe4af, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x6ad3, gbc.sp());
        EXPECT(0xe4b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe4af));
        EXPECT(0x60, gbc.readMem(0xe4b0));
        // CB 60 01D5
        gbc.setState(0x4a83, 0x7034, 0xb610, 0x7440, 0x699d, 0x18ce, 0x1, 0x1);
        gbc.writeMem(0x4a83, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x7034, gbc.sp());
        EXPECT(0x4a85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01D6
        gbc.setState(0xdb8b, 0x4e5c, 0x6040, 0x5ea8, 0x3ed5, 0x2bb9, 0x0, 0x1);
        gbc.writeMem(0xdb8b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x4e5c, gbc.sp());
        EXPECT(0xdb8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb8b));
        EXPECT(0x60, gbc.readMem(0xdb8c));
        // CB 60 01D7
        gbc.setState(0x2ad, 0xb2d4, 0x97d0, 0x96e2, 0x1752, 0xe0c1, 0x1, 0x1);
        gbc.writeMem(0x2ad, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xb2d4, gbc.sp());
        EXPECT(0x2af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01D9
        gbc.setState(0x285f, 0x30d, 0x81f0, 0x9236, 0xcc56, 0x86f7, 0x1, 0x0);
        gbc.writeMem(0x285f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x30d, gbc.sp());
        EXPECT(0x2861, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01DA
        gbc.setState(0xd884, 0x5f36, 0x8f00, 0x81bf, 0x1cc7, 0x74f9, 0x0, 0x0);
        gbc.writeMem(0xd884, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x5f36, gbc.sp());
        EXPECT(0xd886, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd884));
        EXPECT(0x60, gbc.readMem(0xd885));
        // CB 60 01DB
        gbc.setState(0x3189, 0x4ee3, 0x8290, 0xf1ac, 0x31f7, 0x8f99, 0x1, 0x0);
        gbc.writeMem(0x3189, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x4ee3, gbc.sp());
        EXPECT(0x318b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01DC
        gbc.setState(0x6443, 0x311, 0xdee0, 0x2606, 0x25e7, 0x60d5, 0x1, 0x0);
        gbc.writeMem(0x6443, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x311, gbc.sp());
        EXPECT(0x6445, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01DD
        gbc.setState(0x92d2, 0xf35b, 0x1f50, 0xd7ce, 0x576e, 0xdc5e, 0x0, 0x1);
        gbc.writeMem(0x92d2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xf35b, gbc.sp());
        EXPECT(0x92d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92d2));
        EXPECT(0x60, gbc.readMem(0x92d3));
        // CB 60 01DE
        gbc.setState(0xe005, 0x921d, 0xe5d0, 0x127c, 0xd062, 0xa353, 0x0, 0x1);
        gbc.writeMem(0xe005, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x921d, gbc.sp());
        EXPECT(0xe007, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe005));
        EXPECT(0x60, gbc.readMem(0xe006));
        // CB 60 01DF
        gbc.setState(0xb6ec, 0x2949, 0xe430, 0x959d, 0x2210, 0xed9e, 0x0, 0x1);
        gbc.writeMem(0xb6ec, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x2949, gbc.sp());
        EXPECT(0xb6ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb6ec));
        EXPECT(0x60, gbc.readMem(0xb6ed));
        // CB 60 01E0
        gbc.setState(0xb801, 0x11b2, 0x8260, 0xadea, 0xe9f9, 0x839f, 0x0, 0x0);
        gbc.writeMem(0xb801, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x11b2, gbc.sp());
        EXPECT(0xb803, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb801));
        EXPECT(0x60, gbc.readMem(0xb802));
        // CB 60 01E1
        gbc.setState(0x61d3, 0xe16a, 0xcdd0, 0x9d3e, 0x84cd, 0x66fa, 0x0, 0x0);
        gbc.writeMem(0x61d3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xe16a, gbc.sp());
        EXPECT(0x61d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01E2
        gbc.setState(0xb3f, 0xd4c0, 0xbc40, 0xdb23, 0x9a96, 0x5eb7, 0x1, 0x1);
        gbc.writeMem(0xb3f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xd4c0, gbc.sp());
        EXPECT(0xb41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01E3
        gbc.setState(0x526d, 0xb039, 0xe370, 0xcd2d, 0xace5, 0xd452, 0x0, 0x1);
        gbc.writeMem(0x526d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xb039, gbc.sp());
        EXPECT(0x526f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01E4
        gbc.setState(0x614b, 0x2da9, 0x8d90, 0x57ed, 0x8150, 0x11b0, 0x0, 0x0);
        gbc.writeMem(0x614b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x2da9, gbc.sp());
        EXPECT(0x614d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01E5
        gbc.setState(0xa142, 0x62c1, 0x5b50, 0x1ce8, 0x80e2, 0x1fe, 0x1, 0x1);
        gbc.writeMem(0xa142, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x62c1, gbc.sp());
        EXPECT(0xa144, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa142));
        EXPECT(0x60, gbc.readMem(0xa143));
        // CB 60 01E6
        gbc.setState(0xe1ad, 0x4b5e, 0x7650, 0x9ed7, 0x811b, 0x8f03, 0x1, 0x1);
        gbc.writeMem(0xe1ad, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x4b5e, gbc.sp());
        EXPECT(0xe1af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1ad));
        EXPECT(0x60, gbc.readMem(0xe1ae));
        // CB 60 01E7
        gbc.setState(0x4b00, 0x2587, 0x83e0, 0xfe2e, 0xeb57, 0xab83, 0x1, 0x1);
        gbc.writeMem(0x4b00, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x2587, gbc.sp());
        EXPECT(0x4b02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01E8
        gbc.setState(0x1b31, 0x7427, 0x9240, 0x5cc2, 0x1eb2, 0x304a, 0x0, 0x0);
        gbc.writeMem(0x1b31, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x7427, gbc.sp());
        EXPECT(0x1b33, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01E9
        gbc.setState(0x4c38, 0x6a2b, 0x3b0, 0x7855, 0x6c34, 0xf4cf, 0x1, 0x0);
        gbc.writeMem(0x4c38, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x6a2b, gbc.sp());
        EXPECT(0x4c3a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01EA
        gbc.setState(0x76de, 0x3fba, 0xfda0, 0xe5dc, 0x42ab, 0x93b7, 0x0, 0x0);
        gbc.writeMem(0x76de, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x3fba, gbc.sp());
        EXPECT(0x76e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01EB
        gbc.setState(0x5180, 0xd5a5, 0x59f0, 0xc333, 0x7d4a, 0x966c, 0x1, 0x1);
        gbc.writeMem(0x5180, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xd5a5, gbc.sp());
        EXPECT(0x5182, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01EC
        gbc.setState(0xeca4, 0xa1d3, 0xee0, 0x9c68, 0xd57b, 0x6dd2, 0x0, 0x1);
        gbc.writeMem(0xeca4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xa1d3, gbc.sp());
        EXPECT(0xeca6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeca4));
        EXPECT(0x60, gbc.readMem(0xeca5));
        // CB 60 01ED
        gbc.setState(0xd2e1, 0xe823, 0xeaf0, 0xc073, 0xcc84, 0x9628, 0x0, 0x0);
        gbc.writeMem(0xd2e1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xe823, gbc.sp());
        EXPECT(0xd2e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd2e1));
        EXPECT(0x60, gbc.readMem(0xd2e2));
        // CB 60 01EE
        gbc.setState(0x8ed7, 0x8047, 0x5440, 0x72ae, 0xa150, 0xa769, 0x0, 0x0);
        gbc.writeMem(0x8ed7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x8047, gbc.sp());
        EXPECT(0x8ed9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ed7));
        EXPECT(0x60, gbc.readMem(0x8ed8));
        // CB 60 01EF
        gbc.setState(0x1eca, 0xd671, 0x9070, 0x19e2, 0xffd6, 0x73ef, 0x0, 0x0);
        gbc.writeMem(0x1eca, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xd671, gbc.sp());
        EXPECT(0x1ecc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01F0
        gbc.setState(0x62af, 0x4c5b, 0xa310, 0x871b, 0x2d49, 0xaa16, 0x1, 0x0);
        gbc.writeMem(0x62af, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x4c5b, gbc.sp());
        EXPECT(0x62b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01F2
        gbc.setState(0xd089, 0x309, 0xad70, 0x3032, 0xb839, 0x8be7, 0x0, 0x0);
        gbc.writeMem(0xd089, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x309, gbc.sp());
        EXPECT(0xd08b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd089));
        EXPECT(0x60, gbc.readMem(0xd08a));
        // CB 60 01F3
        gbc.setState(0x2b2d, 0x3666, 0x3140, 0x64ce, 0x67d8, 0xb03a, 0x0, 0x0);
        gbc.writeMem(0x2b2d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x3666, gbc.sp());
        EXPECT(0x2b2f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01F4
        gbc.setState(0x8095, 0xb25d, 0x6a30, 0x2392, 0x1c49, 0x3069, 0x1, 0x0);
        gbc.writeMem(0x8095, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xb25d, gbc.sp());
        EXPECT(0x8097, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8095));
        EXPECT(0x60, gbc.readMem(0x8096));
        // CB 60 01F5
        gbc.setState(0xe06a, 0xdf01, 0x9f40, 0x8e36, 0x44eb, 0x4887, 0x0, 0x0);
        gbc.writeMem(0xe06a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xdf01, gbc.sp());
        EXPECT(0xe06c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe06a));
        EXPECT(0x60, gbc.readMem(0xe06b));
        // CB 60 01F6
        gbc.setState(0x6023, 0x6852, 0x6ad0, 0x4bef, 0xf3cc, 0x2a4, 0x1, 0x0);
        gbc.writeMem(0x6023, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x6852, gbc.sp());
        EXPECT(0x6025, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01F7
        gbc.setState(0x1c29, 0xaf07, 0x6020, 0x49f1, 0x15ef, 0xb98c, 0x1, 0x1);
        gbc.writeMem(0x1c29, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xaf07, gbc.sp());
        EXPECT(0x1c2b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01F8
        gbc.setState(0x3e86, 0xb214, 0x8040, 0xf7d4, 0x54c3, 0x3c62, 0x1, 0x1);
        gbc.writeMem(0x3e86, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xb214, gbc.sp());
        EXPECT(0x3e88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01F9
        gbc.setState(0x6ebd, 0xf458, 0x67d0, 0x3f28, 0xbeed, 0xf12d, 0x0, 0x1);
        gbc.writeMem(0x6ebd, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xf458, gbc.sp());
        EXPECT(0x6ebf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01FA
        gbc.setState(0x9cf4, 0x7aa7, 0x1580, 0xf7bf, 0x4313, 0xfea5, 0x0, 0x1);
        gbc.writeMem(0x9cf4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x7aa7, gbc.sp());
        EXPECT(0x9cf6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9cf4));
        EXPECT(0x60, gbc.readMem(0x9cf5));
        // CB 60 01FB
        gbc.setState(0x63d3, 0xf75c, 0x2620, 0xac67, 0x7cd0, 0x79, 0x1, 0x0);
        gbc.writeMem(0x63d3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xf75c, gbc.sp());
        EXPECT(0x63d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01FC
        gbc.setState(0x28c0, 0x25d4, 0x72a0, 0x9213, 0xe805, 0xc438, 0x0, 0x0);
        gbc.writeMem(0x28c0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x25d4, gbc.sp());
        EXPECT(0x28c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 01FD
        gbc.setState(0xef7a, 0x6575, 0x25e0, 0x86e, 0x9e14, 0xd561, 0x1, 0x0);
        gbc.writeMem(0xef7a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x6575, gbc.sp());
        EXPECT(0xef7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef7a));
        EXPECT(0x60, gbc.readMem(0xef7b));
        // CB 60 01FE
        gbc.setState(0x780b, 0x1863, 0xc4f0, 0x7a8d, 0x943d, 0x748d, 0x1, 0x0);
        gbc.writeMem(0x780b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x1863, gbc.sp());
        EXPECT(0x780d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 01FF
        gbc.setState(0x4347, 0xa623, 0xd3d0, 0x8bf4, 0x968f, 0xb80, 0x0, 0x0);
        gbc.writeMem(0x4347, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xa623, gbc.sp());
        EXPECT(0x4349, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0200
        gbc.setState(0xd896, 0xbb76, 0xb2d0, 0x822c, 0x8158, 0x9f6, 0x0, 0x1);
        gbc.writeMem(0xd896, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xbb76, gbc.sp());
        EXPECT(0xd898, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd896));
        EXPECT(0x60, gbc.readMem(0xd897));
        // CB 60 0201
        gbc.setState(0xafa2, 0x71c1, 0xcb0, 0xaa45, 0xdfcf, 0x7134, 0x1, 0x1);
        gbc.writeMem(0xafa2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x71c1, gbc.sp());
        EXPECT(0xafa4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafa2));
        EXPECT(0x60, gbc.readMem(0xafa3));
        // CB 60 0202
        gbc.setState(0xa41b, 0xe37e, 0x7a40, 0xc3a4, 0xcb7a, 0xb222, 0x0, 0x1);
        gbc.writeMem(0xa41b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xe37e, gbc.sp());
        EXPECT(0xa41d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa41b));
        EXPECT(0x60, gbc.readMem(0xa41c));
        // CB 60 0203
        gbc.setState(0x375a, 0x810f, 0x8a30, 0xe590, 0x61d6, 0xf09, 0x0, 0x0);
        gbc.writeMem(0x375a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x810f, gbc.sp());
        EXPECT(0x375c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0205
        gbc.setState(0x6d83, 0xabc8, 0x5d0, 0xdc5, 0x338e, 0x4b76, 0x1, 0x1);
        gbc.writeMem(0x6d83, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xabc8, gbc.sp());
        EXPECT(0x6d85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0206
        gbc.setState(0xdeb0, 0x9307, 0x6aa0, 0x7e28, 0xb19a, 0x1962, 0x1, 0x1);
        gbc.writeMem(0xdeb0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x9307, gbc.sp());
        EXPECT(0xdeb2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdeb0));
        EXPECT(0x60, gbc.readMem(0xdeb1));
        // CB 60 0207
        gbc.setState(0x461d, 0xcd44, 0x1a00, 0x248, 0x8bbe, 0x4db7, 0x0, 0x0);
        gbc.writeMem(0x461d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xcd44, gbc.sp());
        EXPECT(0x461f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0208
        gbc.setState(0x9f38, 0x77a5, 0xfdd0, 0xd543, 0xc503, 0x13d7, 0x0, 0x0);
        gbc.writeMem(0x9f38, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x77a5, gbc.sp());
        EXPECT(0x9f3a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f38));
        EXPECT(0x60, gbc.readMem(0x9f39));
        // CB 60 0209
        gbc.setState(0x4958, 0xd2be, 0x9690, 0xf193, 0x4661, 0xf52e, 0x0, 0x1);
        gbc.writeMem(0x4958, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xd2be, gbc.sp());
        EXPECT(0x495a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 020A
        gbc.setState(0x5a, 0x7466, 0x7670, 0xb031, 0x57d4, 0x7540, 0x0, 0x1);
        gbc.writeMem(0x5a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x7466, gbc.sp());
        EXPECT(0x5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 020B
        gbc.setState(0x22, 0x507d, 0x650, 0xae0c, 0x8018, 0x43b0, 0x1, 0x1);
        gbc.writeMem(0x22, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x507d, gbc.sp());
        EXPECT(0x24, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 020C
        gbc.setState(0xc58e, 0xf9d2, 0x23e0, 0xc239, 0xf6f3, 0x8344, 0x1, 0x1);
        gbc.writeMem(0xc58e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xf9d2, gbc.sp());
        EXPECT(0xc590, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc58e));
        EXPECT(0x60, gbc.readMem(0xc58f));
        // CB 60 020D
        gbc.setState(0xba04, 0x4bbb, 0x1120, 0xd4b9, 0x192d, 0xb3e4, 0x1, 0x0);
        gbc.writeMem(0xba04, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x4bbb, gbc.sp());
        EXPECT(0xba06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba04));
        EXPECT(0x60, gbc.readMem(0xba05));
        // CB 60 020E
        gbc.setState(0xca4, 0xcde0, 0x3120, 0x71f1, 0x7fee, 0x5ef5, 0x1, 0x0);
        gbc.writeMem(0xca4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xcde0, gbc.sp());
        EXPECT(0xca6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 020F
        gbc.setState(0xb265, 0x2b88, 0x3c30, 0x890a, 0x4758, 0x2dd6, 0x0, 0x0);
        gbc.writeMem(0xb265, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x2b88, gbc.sp());
        EXPECT(0xb267, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb265));
        EXPECT(0x60, gbc.readMem(0xb266));
        // CB 60 0210
        gbc.setState(0xdc98, 0x8a57, 0x3b50, 0x2f34, 0x9435, 0xf0a, 0x1, 0x0);
        gbc.writeMem(0xdc98, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x8a57, gbc.sp());
        EXPECT(0xdc9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc98));
        EXPECT(0x60, gbc.readMem(0xdc99));
        // CB 60 0211
        gbc.setState(0xd479, 0x1fa, 0x5dd0, 0xb794, 0x587c, 0x2c1a, 0x1, 0x0);
        gbc.writeMem(0xd479, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x1fa, gbc.sp());
        EXPECT(0xd47b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd479));
        EXPECT(0x60, gbc.readMem(0xd47a));
        // CB 60 0212
        gbc.setState(0xd3c5, 0xcce, 0x1120, 0xb7a9, 0x80c1, 0x94d0, 0x1, 0x1);
        gbc.writeMem(0xd3c5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xcce, gbc.sp());
        EXPECT(0xd3c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3c5));
        EXPECT(0x60, gbc.readMem(0xd3c6));
        // CB 60 0213
        gbc.setState(0xea26, 0xa607, 0xf490, 0x518a, 0x7ade, 0x6669, 0x0, 0x0);
        gbc.writeMem(0xea26, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xa607, gbc.sp());
        EXPECT(0xea28, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea26));
        EXPECT(0x60, gbc.readMem(0xea27));
        // CB 60 0214
        gbc.setState(0x3158, 0x629a, 0x2840, 0x4525, 0x7b29, 0xec75, 0x1, 0x0);
        gbc.writeMem(0x3158, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x629a, gbc.sp());
        EXPECT(0x315a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0215
        gbc.setState(0x430d, 0xcc1e, 0x53c0, 0x3aa, 0x21a2, 0x9f4a, 0x1, 0x1);
        gbc.writeMem(0x430d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xcc1e, gbc.sp());
        EXPECT(0x430f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0216
        gbc.setState(0x43b8, 0x28a2, 0xd7f0, 0xdadb, 0xf5eb, 0x3cfe, 0x0, 0x1);
        gbc.writeMem(0x43b8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x28a2, gbc.sp());
        EXPECT(0x43ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0217
        gbc.setState(0xe27f, 0xb8cc, 0x57f0, 0xb1f5, 0x2f29, 0x5644, 0x0, 0x1);
        gbc.writeMem(0xe27f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xb8cc, gbc.sp());
        EXPECT(0xe281, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe27f));
        EXPECT(0x60, gbc.readMem(0xe280));
        // CB 60 0218
        gbc.setState(0x1228, 0x7eee, 0x4020, 0xd37c, 0x7585, 0x78ab, 0x1, 0x1);
        gbc.writeMem(0x1228, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x7eee, gbc.sp());
        EXPECT(0x122a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0219
        gbc.setState(0x32f, 0x6c48, 0x2010, 0x7e1a, 0x5df7, 0xf24b, 0x1, 0x0);
        gbc.writeMem(0x32f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x6c48, gbc.sp());
        EXPECT(0x331, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 021A
        gbc.setState(0xc403, 0x4cf1, 0x8040, 0xfa17, 0x78ea, 0xb51d, 0x1, 0x1);
        gbc.writeMem(0xc403, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x4cf1, gbc.sp());
        EXPECT(0xc405, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc403));
        EXPECT(0x60, gbc.readMem(0xc404));
        // CB 60 021B
        gbc.setState(0x91dd, 0xd142, 0xf200, 0xd3e, 0x9410, 0xfd31, 0x0, 0x1);
        gbc.writeMem(0x91dd, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xd142, gbc.sp());
        EXPECT(0x91df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91dd));
        EXPECT(0x60, gbc.readMem(0x91de));
        // CB 60 021D
        gbc.setState(0xc676, 0xafc9, 0x5870, 0x4fa4, 0x91b9, 0x1550, 0x0, 0x0);
        gbc.writeMem(0xc676, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xafc9, gbc.sp());
        EXPECT(0xc678, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc676));
        EXPECT(0x60, gbc.readMem(0xc677));
        // CB 60 021E
        gbc.setState(0xbc24, 0xf339, 0x6090, 0x7bdd, 0x351e, 0x189e, 0x0, 0x0);
        gbc.writeMem(0xbc24, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xf339, gbc.sp());
        EXPECT(0xbc26, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc24));
        EXPECT(0x60, gbc.readMem(0xbc25));
        // CB 60 021F
        gbc.setState(0x7ccd, 0x19bc, 0x4ac0, 0x9e32, 0x7a59, 0x65e7, 0x1, 0x1);
        gbc.writeMem(0x7ccd, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x19bc, gbc.sp());
        EXPECT(0x7ccf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0220
        gbc.setState(0x272d, 0xab09, 0x3410, 0xf7d8, 0xe59b, 0x50df, 0x0, 0x1);
        gbc.writeMem(0x272d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xab09, gbc.sp());
        EXPECT(0x272f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0221
        gbc.setState(0x8f56, 0xdd74, 0x8370, 0xd6ff, 0xb72c, 0xd26, 0x0, 0x1);
        gbc.writeMem(0x8f56, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xdd74, gbc.sp());
        EXPECT(0x8f58, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f56));
        EXPECT(0x60, gbc.readMem(0x8f57));
        // CB 60 0222
        gbc.setState(0xe516, 0xd570, 0xed60, 0x9ee7, 0xead, 0xaa2a, 0x1, 0x1);
        gbc.writeMem(0xe516, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xd570, gbc.sp());
        EXPECT(0xe518, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe516));
        EXPECT(0x60, gbc.readMem(0xe517));
        // CB 60 0223
        gbc.setState(0x30e6, 0xf7c6, 0x6870, 0x9f6a, 0x3062, 0x96f6, 0x1, 0x1);
        gbc.writeMem(0x30e6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xf7c6, gbc.sp());
        EXPECT(0x30e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0224
        gbc.setState(0xd54c, 0xd237, 0x81c0, 0x6a0, 0xfb85, 0xbacf, 0x0, 0x1);
        gbc.writeMem(0xd54c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xd237, gbc.sp());
        EXPECT(0xd54e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd54c));
        EXPECT(0x60, gbc.readMem(0xd54d));
        // CB 60 0225
        gbc.setState(0xb880, 0xaefb, 0x5030, 0x703e, 0x3f47, 0x692b, 0x1, 0x0);
        gbc.writeMem(0xb880, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xaefb, gbc.sp());
        EXPECT(0xb882, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb880));
        EXPECT(0x60, gbc.readMem(0xb881));
        // CB 60 0226
        gbc.setState(0xe45e, 0xbd78, 0x9b80, 0xade4, 0x53a0, 0x6831, 0x1, 0x0);
        gbc.writeMem(0xe45e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xbd78, gbc.sp());
        EXPECT(0xe460, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe45e));
        EXPECT(0x60, gbc.readMem(0xe45f));
        // CB 60 0227
        gbc.setState(0xb326, 0x8569, 0xfa00, 0xa0c5, 0x4dce, 0xc158, 0x0, 0x1);
        gbc.writeMem(0xb326, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x8569, gbc.sp());
        EXPECT(0xb328, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb326));
        EXPECT(0x60, gbc.readMem(0xb327));
        // CB 60 0228
        gbc.setState(0x75ac, 0x9db1, 0x4a40, 0x57c6, 0x6b60, 0x50f2, 0x1, 0x0);
        gbc.writeMem(0x75ac, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x9db1, gbc.sp());
        EXPECT(0x75ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0229
        gbc.setState(0x91fb, 0xdc38, 0x3480, 0xe2ea, 0x2e08, 0x7bfd, 0x1, 0x1);
        gbc.writeMem(0x91fb, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xdc38, gbc.sp());
        EXPECT(0x91fd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91fb));
        EXPECT(0x60, gbc.readMem(0x91fc));
        // CB 60 022A
        gbc.setState(0x169f, 0xffd8, 0xfd0, 0x2181, 0xe70b, 0x2aee, 0x1, 0x0);
        gbc.writeMem(0x169f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xffd8, gbc.sp());
        EXPECT(0x16a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 022B
        gbc.setState(0xd5f9, 0xd206, 0x57f0, 0x5a89, 0x2fea, 0xeb95, 0x0, 0x0);
        gbc.writeMem(0xd5f9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xd206, gbc.sp());
        EXPECT(0xd5fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5f9));
        EXPECT(0x60, gbc.readMem(0xd5fa));
        // CB 60 022C
        gbc.setState(0x3b7, 0xad14, 0x4250, 0x3975, 0xe5c9, 0x54f, 0x0, 0x0);
        gbc.writeMem(0x3b7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xad14, gbc.sp());
        EXPECT(0x3b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 022D
        gbc.setState(0x4e37, 0x43d0, 0x5140, 0x3a6f, 0xf24, 0xc6c1, 0x0, 0x1);
        gbc.writeMem(0x4e37, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x43d0, gbc.sp());
        EXPECT(0x4e39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 022E
        gbc.setState(0x1a90, 0xcc2e, 0x39c0, 0xb128, 0x81fa, 0x15b7, 0x1, 0x1);
        gbc.writeMem(0x1a90, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xcc2e, gbc.sp());
        EXPECT(0x1a92, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 022F
        gbc.setState(0xa331, 0x8848, 0x52d0, 0x2f48, 0x2644, 0xd380, 0x0, 0x0);
        gbc.writeMem(0xa331, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x8848, gbc.sp());
        EXPECT(0xa333, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa331));
        EXPECT(0x60, gbc.readMem(0xa332));
        // CB 60 0230
        gbc.setState(0xd3af, 0xc2b9, 0xa320, 0x9420, 0xba2f, 0x6892, 0x0, 0x0);
        gbc.writeMem(0xd3af, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xc2b9, gbc.sp());
        EXPECT(0xd3b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3af));
        EXPECT(0x60, gbc.readMem(0xd3b0));
        // CB 60 0231
        gbc.setState(0xb548, 0xdb6c, 0x54d0, 0x6d58, 0xf111, 0xc43, 0x1, 0x1);
        gbc.writeMem(0xb548, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xdb6c, gbc.sp());
        EXPECT(0xb54a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb548));
        EXPECT(0x60, gbc.readMem(0xb549));
        // CB 60 0232
        gbc.setState(0x6527, 0xa5a5, 0x7c10, 0x9b23, 0xc41e, 0x9ac6, 0x1, 0x0);
        gbc.writeMem(0x6527, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xa5a5, gbc.sp());
        EXPECT(0x6529, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0233
        gbc.setState(0x221a, 0x400f, 0xfdc0, 0x3785, 0x7b62, 0x7014, 0x0, 0x0);
        gbc.writeMem(0x221a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x400f, gbc.sp());
        EXPECT(0x221c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0234
        gbc.setState(0x4e6c, 0x1bf4, 0x7ae0, 0xe9b1, 0xf9d0, 0xe9ce, 0x1, 0x0);
        gbc.writeMem(0x4e6c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x1bf4, gbc.sp());
        EXPECT(0x4e6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0235
        gbc.setState(0x7112, 0xa50f, 0xf100, 0xcf1a, 0x732b, 0xba26, 0x0, 0x1);
        gbc.writeMem(0x7112, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xa50f, gbc.sp());
        EXPECT(0x7114, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0236
        gbc.setState(0xc325, 0xb12b, 0x9b70, 0x7c9, 0x555e, 0x649e, 0x1, 0x0);
        gbc.writeMem(0xc325, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xb12b, gbc.sp());
        EXPECT(0xc327, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc325));
        EXPECT(0x60, gbc.readMem(0xc326));
        // CB 60 0237
        gbc.setState(0xdc69, 0x5983, 0xbd70, 0xa349, 0xbc20, 0x3564, 0x1, 0x1);
        gbc.writeMem(0xdc69, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x5983, gbc.sp());
        EXPECT(0xdc6b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc69));
        EXPECT(0x60, gbc.readMem(0xdc6a));
        // CB 60 0238
        gbc.setState(0x4d31, 0x9bca, 0xdf50, 0xe311, 0x51f6, 0x5381, 0x1, 0x0);
        gbc.writeMem(0x4d31, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x9bca, gbc.sp());
        EXPECT(0x4d33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0239
        gbc.setState(0x5332, 0xc5fe, 0x22d0, 0xe6f1, 0x22f4, 0x49bb, 0x1, 0x1);
        gbc.writeMem(0x5332, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xc5fe, gbc.sp());
        EXPECT(0x5334, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 023A
        gbc.setState(0x4b41, 0xf593, 0xcdc0, 0x59e7, 0xb96c, 0x75aa, 0x1, 0x0);
        gbc.writeMem(0x4b41, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xf593, gbc.sp());
        EXPECT(0x4b43, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 023B
        gbc.setState(0x9578, 0xbabc, 0x7fd0, 0x615c, 0x4e5, 0xc301, 0x1, 0x0);
        gbc.writeMem(0x9578, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xbabc, gbc.sp());
        EXPECT(0x957a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9578));
        EXPECT(0x60, gbc.readMem(0x9579));
        // CB 60 023C
        gbc.setState(0xb619, 0x836b, 0x9300, 0x7fa5, 0x47c7, 0x3af6, 0x0, 0x0);
        gbc.writeMem(0xb619, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x836b, gbc.sp());
        EXPECT(0xb61b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb619));
        EXPECT(0x60, gbc.readMem(0xb61a));
        // CB 60 023D
        gbc.setState(0xaef5, 0x1da4, 0xd8b0, 0x28e, 0xa35, 0xbe9e, 0x1, 0x1);
        gbc.writeMem(0xaef5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x1da4, gbc.sp());
        EXPECT(0xaef7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaef5));
        EXPECT(0x60, gbc.readMem(0xaef6));
        // CB 60 023E
        gbc.setState(0x2f54, 0x95d, 0x8340, 0xe228, 0xf70e, 0xcc5d, 0x0, 0x1);
        gbc.writeMem(0x2f54, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x95d, gbc.sp());
        EXPECT(0x2f56, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 023F
        gbc.setState(0x3666, 0xbb8d, 0xfd40, 0x44d1, 0xda6f, 0xd51b, 0x0, 0x0);
        gbc.writeMem(0x3666, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xbb8d, gbc.sp());
        EXPECT(0x3668, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0240
        gbc.setState(0xc787, 0x3ef9, 0xe050, 0xea7c, 0x8e99, 0xfcb8, 0x1, 0x1);
        gbc.writeMem(0xc787, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x3ef9, gbc.sp());
        EXPECT(0xc789, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc787));
        EXPECT(0x60, gbc.readMem(0xc788));
        // CB 60 0241
        gbc.setState(0x198b, 0xb2d9, 0x480, 0xaf76, 0xea8e, 0x1207, 0x0, 0x1);
        gbc.writeMem(0x198b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xb2d9, gbc.sp());
        EXPECT(0x198d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0242
        gbc.setState(0x1ac0, 0xbd4, 0xa270, 0x3b0c, 0x2ecb, 0xee5d, 0x0, 0x0);
        gbc.writeMem(0x1ac0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xbd4, gbc.sp());
        EXPECT(0x1ac2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0243
        gbc.setState(0x8aa1, 0x199c, 0x5040, 0x6696, 0x6d67, 0xcfb0, 0x0, 0x0);
        gbc.writeMem(0x8aa1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x199c, gbc.sp());
        EXPECT(0x8aa3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8aa1));
        EXPECT(0x60, gbc.readMem(0x8aa2));
        // CB 60 0244
        gbc.setState(0x5e22, 0x6eca, 0x31b0, 0xa1fa, 0x27fc, 0xb7ab, 0x0, 0x1);
        gbc.writeMem(0x5e22, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x6eca, gbc.sp());
        EXPECT(0x5e24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0245
        gbc.setState(0xc5bb, 0x6c9a, 0xa320, 0x7426, 0x5a4d, 0xfafd, 0x1, 0x1);
        gbc.writeMem(0xc5bb, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x6c9a, gbc.sp());
        EXPECT(0xc5bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc5bb));
        EXPECT(0x60, gbc.readMem(0xc5bc));
        // CB 60 0246
        gbc.setState(0xbb44, 0x5c86, 0x1b10, 0x837a, 0x874, 0x8121, 0x1, 0x0);
        gbc.writeMem(0xbb44, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x5c86, gbc.sp());
        EXPECT(0xbb46, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb44));
        EXPECT(0x60, gbc.readMem(0xbb45));
        // CB 60 0247
        gbc.setState(0xbca6, 0x2b6b, 0xcaa0, 0x5750, 0x63e8, 0xce26, 0x0, 0x0);
        gbc.writeMem(0xbca6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x2b6b, gbc.sp());
        EXPECT(0xbca8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbca6));
        EXPECT(0x60, gbc.readMem(0xbca7));
        // CB 60 0248
        gbc.setState(0x972f, 0xa9ad, 0xacf0, 0xd267, 0x9c66, 0x15a4, 0x0, 0x0);
        gbc.writeMem(0x972f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xa9ad, gbc.sp());
        EXPECT(0x9731, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x972f));
        EXPECT(0x60, gbc.readMem(0x9730));
        // CB 60 0249
        gbc.setState(0x9c6c, 0x12c6, 0x3ac0, 0x5717, 0xec4e, 0x63bc, 0x1, 0x1);
        gbc.writeMem(0x9c6c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x12c6, gbc.sp());
        EXPECT(0x9c6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c6c));
        EXPECT(0x60, gbc.readMem(0x9c6d));
        // CB 60 024A
        gbc.setState(0x6545, 0x3a90, 0x1d30, 0xa104, 0x8c7f, 0x56c0, 0x1, 0x1);
        gbc.writeMem(0x6545, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x3a90, gbc.sp());
        EXPECT(0x6547, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 024B
        gbc.setState(0x282f, 0x4746, 0xa2b0, 0xc050, 0x97b8, 0xfce4, 0x0, 0x0);
        gbc.writeMem(0x282f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x4746, gbc.sp());
        EXPECT(0x2831, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 024C
        gbc.setState(0xa238, 0xdc3c, 0x8640, 0xef81, 0x9a1, 0xb5e0, 0x0, 0x1);
        gbc.writeMem(0xa238, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xdc3c, gbc.sp());
        EXPECT(0xa23a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa238));
        EXPECT(0x60, gbc.readMem(0xa239));
        // CB 60 024D
        gbc.setState(0xccb2, 0xbf04, 0x64a0, 0x2347, 0x82f9, 0xa5aa, 0x0, 0x1);
        gbc.writeMem(0xccb2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xbf04, gbc.sp());
        EXPECT(0xccb4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xccb2));
        EXPECT(0x60, gbc.readMem(0xccb3));
        // CB 60 024E
        gbc.setState(0x8ea7, 0x76fc, 0xd530, 0xdd58, 0x5306, 0x2b9c, 0x0, 0x1);
        gbc.writeMem(0x8ea7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x76fc, gbc.sp());
        EXPECT(0x8ea9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ea7));
        EXPECT(0x60, gbc.readMem(0x8ea8));
        // CB 60 024F
        gbc.setState(0xbc69, 0xfb4e, 0xb710, 0xcca4, 0x874c, 0xe032, 0x1, 0x1);
        gbc.writeMem(0xbc69, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xfb4e, gbc.sp());
        EXPECT(0xbc6b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc69));
        EXPECT(0x60, gbc.readMem(0xbc6a));
        // CB 60 0250
        gbc.setState(0xcd8f, 0x6e20, 0xdf80, 0x7b36, 0x5666, 0xf141, 0x1, 0x1);
        gbc.writeMem(0xcd8f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x6e20, gbc.sp());
        EXPECT(0xcd91, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd8f));
        EXPECT(0x60, gbc.readMem(0xcd90));
        // CB 60 0251
        gbc.setState(0xb4c4, 0x938f, 0x7fb0, 0x9902, 0x7f40, 0xc9ef, 0x0, 0x1);
        gbc.writeMem(0xb4c4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x938f, gbc.sp());
        EXPECT(0xb4c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb4c4));
        EXPECT(0x60, gbc.readMem(0xb4c5));
        // CB 60 0252
        gbc.setState(0xefe9, 0x32e9, 0x2940, 0xe701, 0x2fb3, 0xfba7, 0x0, 0x1);
        gbc.writeMem(0xefe9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x32e9, gbc.sp());
        EXPECT(0xefeb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xefe9));
        EXPECT(0x60, gbc.readMem(0xefea));
        // CB 60 0253
        gbc.setState(0xcef8, 0x8142, 0xd2f0, 0x7d29, 0x80bb, 0x7b94, 0x0, 0x1);
        gbc.writeMem(0xcef8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x8142, gbc.sp());
        EXPECT(0xcefa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcef8));
        EXPECT(0x60, gbc.readMem(0xcef9));
        // CB 60 0254
        gbc.setState(0xb92d, 0xcb82, 0xdf00, 0x52f4, 0x378b, 0xd48b, 0x0, 0x1);
        gbc.writeMem(0xb92d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xcb82, gbc.sp());
        EXPECT(0xb92f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb92d));
        EXPECT(0x60, gbc.readMem(0xb92e));
        // CB 60 0255
        gbc.setState(0x45da, 0xb30, 0xcd0, 0x2ad6, 0x1477, 0xff69, 0x1, 0x0);
        gbc.writeMem(0x45da, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xb30, gbc.sp());
        EXPECT(0x45dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0256
        gbc.setState(0xade6, 0x32ff, 0x90, 0xc11c, 0x958c, 0x459, 0x1, 0x0);
        gbc.writeMem(0xade6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x32ff, gbc.sp());
        EXPECT(0xade8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xade6));
        EXPECT(0x60, gbc.readMem(0xade7));
        // CB 60 0257
        gbc.setState(0xde74, 0x5c21, 0x3e70, 0x3d50, 0xebb0, 0xdf3d, 0x1, 0x0);
        gbc.writeMem(0xde74, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x5c21, gbc.sp());
        EXPECT(0xde76, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde74));
        EXPECT(0x60, gbc.readMem(0xde75));
        // CB 60 0258
        gbc.setState(0x8b00, 0x1071, 0x4c30, 0x55bd, 0xf16c, 0x1ae7, 0x1, 0x0);
        gbc.writeMem(0x8b00, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x1071, gbc.sp());
        EXPECT(0x8b02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b00));
        EXPECT(0x60, gbc.readMem(0x8b01));
        // CB 60 0259
        gbc.setState(0x3cc, 0x2716, 0xbb30, 0xb992, 0xb9ed, 0x31ee, 0x1, 0x1);
        gbc.writeMem(0x3cc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x2716, gbc.sp());
        EXPECT(0x3ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 025A
        gbc.setState(0x2d80, 0xe637, 0xcf20, 0xe7de, 0xb945, 0x7b0c, 0x1, 0x0);
        gbc.writeMem(0x2d80, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xe637, gbc.sp());
        EXPECT(0x2d82, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 025B
        gbc.setState(0xe245, 0xfde6, 0x2f90, 0x93df, 0xc347, 0x8add, 0x0, 0x0);
        gbc.writeMem(0xe245, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xfde6, gbc.sp());
        EXPECT(0xe247, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe245));
        EXPECT(0x60, gbc.readMem(0xe246));
        // CB 60 025C
        gbc.setState(0x9de5, 0x3612, 0x7ab0, 0x5a97, 0xcc9, 0xa3a5, 0x0, 0x1);
        gbc.writeMem(0x9de5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x3612, gbc.sp());
        EXPECT(0x9de7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9de5));
        EXPECT(0x60, gbc.readMem(0x9de6));
        // CB 60 025D
        gbc.setState(0x23ec, 0xb1a, 0x24d0, 0x8b59, 0x63a9, 0x134c, 0x0, 0x1);
        gbc.writeMem(0x23ec, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xb1a, gbc.sp());
        EXPECT(0x23ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 025E
        gbc.setState(0x3e3a, 0x82ea, 0x21c0, 0xd93a, 0xb7b0, 0xbef6, 0x0, 0x1);
        gbc.writeMem(0x3e3a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x82ea, gbc.sp());
        EXPECT(0x3e3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 025F
        gbc.setState(0x8b4a, 0x1653, 0x5a80, 0xe0ae, 0xbbac, 0xdb77, 0x0, 0x1);
        gbc.writeMem(0x8b4a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x1653, gbc.sp());
        EXPECT(0x8b4c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b4a));
        EXPECT(0x60, gbc.readMem(0x8b4b));
        // CB 60 0260
        gbc.setState(0x4b99, 0xcf6d, 0xf6a0, 0x1850, 0x6604, 0xe411, 0x0, 0x1);
        gbc.writeMem(0x4b99, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xcf6d, gbc.sp());
        EXPECT(0x4b9b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0261
        gbc.setState(0xef06, 0x2430, 0x1930, 0x9bcf, 0x8040, 0x5446, 0x0, 0x0);
        gbc.writeMem(0xef06, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x2430, gbc.sp());
        EXPECT(0xef08, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef06));
        EXPECT(0x60, gbc.readMem(0xef07));
        // CB 60 0262
        gbc.setState(0x6008, 0xe460, 0xc260, 0x8607, 0x2fc5, 0xe6e4, 0x0, 0x1);
        gbc.writeMem(0x6008, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xe460, gbc.sp());
        EXPECT(0x600a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0263
        gbc.setState(0x391f, 0x6ed, 0xeb60, 0xb5c6, 0x5c5b, 0x72a1, 0x0, 0x0);
        gbc.writeMem(0x391f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x6ed, gbc.sp());
        EXPECT(0x3921, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0264
        gbc.setState(0x4ca4, 0xf1a7, 0x4af0, 0x6550, 0xfcaa, 0xce5c, 0x0, 0x1);
        gbc.writeMem(0x4ca4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xf1a7, gbc.sp());
        EXPECT(0x4ca6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0265
        gbc.setState(0x300f, 0xb6b4, 0xdf50, 0x681b, 0x39b2, 0x91f1, 0x1, 0x1);
        gbc.writeMem(0x300f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xb6b4, gbc.sp());
        EXPECT(0x3011, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0266
        gbc.setState(0x8491, 0xce0e, 0x7340, 0xc33f, 0xa1d0, 0xea1, 0x0, 0x1);
        gbc.writeMem(0x8491, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xce0e, gbc.sp());
        EXPECT(0x8493, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8491));
        EXPECT(0x60, gbc.readMem(0x8492));
        // CB 60 0267
        gbc.setState(0x1ec9, 0x4b84, 0xb980, 0xe48c, 0x997d, 0x4e15, 0x1, 0x1);
        gbc.writeMem(0x1ec9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x4b84, gbc.sp());
        EXPECT(0x1ecb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0268
        gbc.setState(0x5729, 0xed07, 0xb0f0, 0x2bbd, 0x24e7, 0xd9d0, 0x1, 0x0);
        gbc.writeMem(0x5729, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xed07, gbc.sp());
        EXPECT(0x572b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0269
        gbc.setState(0x31fe, 0x42c0, 0x5df0, 0xfaeb, 0x3cb7, 0xf566, 0x1, 0x1);
        gbc.writeMem(0x31fe, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x42c0, gbc.sp());
        EXPECT(0x3200, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 026A
        gbc.setState(0x69ca, 0x3e9c, 0x4d70, 0xc4df, 0xef8d, 0xac64, 0x0, 0x1);
        gbc.writeMem(0x69ca, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x3e9c, gbc.sp());
        EXPECT(0x69cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 026B
        gbc.setState(0xcb48, 0xc5e7, 0x56a0, 0x3e17, 0xc76b, 0x2342, 0x0, 0x0);
        gbc.writeMem(0xcb48, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xc5e7, gbc.sp());
        EXPECT(0xcb4a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb48));
        EXPECT(0x60, gbc.readMem(0xcb49));
        // CB 60 026C
        gbc.setState(0x25bd, 0x7e81, 0xb8a0, 0x569e, 0x54f5, 0x515c, 0x0, 0x0);
        gbc.writeMem(0x25bd, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x7e81, gbc.sp());
        EXPECT(0x25bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 026D
        gbc.setState(0x2ba6, 0x6aa6, 0x35c0, 0xd2e0, 0x6ad7, 0xea22, 0x1, 0x0);
        gbc.writeMem(0x2ba6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x6aa6, gbc.sp());
        EXPECT(0x2ba8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 026E
        gbc.setState(0x10ac, 0x4a27, 0xc10, 0xe9f6, 0xff3e, 0x8b6b, 0x1, 0x1);
        gbc.writeMem(0x10ac, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x4a27, gbc.sp());
        EXPECT(0x10ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 026F
        gbc.setState(0x392f, 0x2707, 0xdd80, 0x2fe2, 0x12d1, 0xd4d1, 0x1, 0x1);
        gbc.writeMem(0x392f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x2707, gbc.sp());
        EXPECT(0x3931, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0270
        gbc.setState(0x1e18, 0x474b, 0x2d10, 0xc2de, 0x96c7, 0xb7e1, 0x1, 0x0);
        gbc.writeMem(0x1e18, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x474b, gbc.sp());
        EXPECT(0x1e1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0271
        gbc.setState(0xe58f, 0xe0cf, 0x9080, 0xd82f, 0xac35, 0x5596, 0x0, 0x1);
        gbc.writeMem(0xe58f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xe0cf, gbc.sp());
        EXPECT(0xe591, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe58f));
        EXPECT(0x60, gbc.readMem(0xe590));
        // CB 60 0272
        gbc.setState(0x2785, 0x4450, 0x57a0, 0x9da5, 0x49fe, 0x5f5d, 0x1, 0x1);
        gbc.writeMem(0x2785, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x4450, gbc.sp());
        EXPECT(0x2787, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0273
        gbc.setState(0xb95b, 0xf4e1, 0xa580, 0x60b, 0x643a, 0x809b, 0x1, 0x1);
        gbc.writeMem(0xb95b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xf4e1, gbc.sp());
        EXPECT(0xb95d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb95b));
        EXPECT(0x60, gbc.readMem(0xb95c));
        // CB 60 0274
        gbc.setState(0xa44f, 0x7fab, 0x9a60, 0xea92, 0xf372, 0x4ef8, 0x0, 0x1);
        gbc.writeMem(0xa44f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x7fab, gbc.sp());
        EXPECT(0xa451, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa44f));
        EXPECT(0x60, gbc.readMem(0xa450));
        // CB 60 0275
        gbc.setState(0x50cc, 0x9c7a, 0x3110, 0xd9be, 0x742c, 0x1d6e, 0x1, 0x0);
        gbc.writeMem(0x50cc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x9c7a, gbc.sp());
        EXPECT(0x50ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0276
        gbc.setState(0xc89f, 0xc10a, 0x27a0, 0x5d87, 0xbe5f, 0xb45b, 0x1, 0x1);
        gbc.writeMem(0xc89f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xc10a, gbc.sp());
        EXPECT(0xc8a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc89f));
        EXPECT(0x60, gbc.readMem(0xc8a0));
        // CB 60 0277
        gbc.setState(0x91b0, 0xc864, 0xcca0, 0xc2, 0xf157, 0x9470, 0x0, 0x0);
        gbc.writeMem(0x91b0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xc864, gbc.sp());
        EXPECT(0x91b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91b0));
        EXPECT(0x60, gbc.readMem(0x91b1));
        // CB 60 0278
        gbc.setState(0x3dbd, 0x6ea5, 0xdd00, 0x3f2e, 0x7143, 0xc636, 0x0, 0x1);
        gbc.writeMem(0x3dbd, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x6ea5, gbc.sp());
        EXPECT(0x3dbf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0279
        gbc.setState(0x4e04, 0x834f, 0xdeb0, 0x1ff8, 0x3ecb, 0xa534, 0x1, 0x0);
        gbc.writeMem(0x4e04, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x834f, gbc.sp());
        EXPECT(0x4e06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 027A
        gbc.setState(0x9be0, 0x1dd, 0x3930, 0xd8f0, 0xe545, 0x6f30, 0x0, 0x1);
        gbc.writeMem(0x9be0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x1dd, gbc.sp());
        EXPECT(0x9be2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9be0));
        EXPECT(0x60, gbc.readMem(0x9be1));
        // CB 60 027B
        gbc.setState(0x621e, 0xba3e, 0x11b0, 0xa7a2, 0x7d88, 0x6a, 0x1, 0x0);
        gbc.writeMem(0x621e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xba3e, gbc.sp());
        EXPECT(0x6220, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 027C
        gbc.setState(0xb316, 0x9bd0, 0xb280, 0x1db8, 0x81ab, 0xa38c, 0x1, 0x0);
        gbc.writeMem(0xb316, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x9bd0, gbc.sp());
        EXPECT(0xb318, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb316));
        EXPECT(0x60, gbc.readMem(0xb317));
        // CB 60 027D
        gbc.setState(0x3e02, 0x9cc7, 0x8940, 0x7569, 0x11f5, 0x4f56, 0x0, 0x1);
        gbc.writeMem(0x3e02, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x9cc7, gbc.sp());
        EXPECT(0x3e04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 027E
        gbc.setState(0x11af, 0x4cc1, 0x21d0, 0xc5de, 0xdbd2, 0xe8d8, 0x0, 0x1);
        gbc.writeMem(0x11af, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x4cc1, gbc.sp());
        EXPECT(0x11b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 027F
        gbc.setState(0x2ee8, 0x79b2, 0x26c0, 0x75c0, 0x7a84, 0x6e5e, 0x0, 0x0);
        gbc.writeMem(0x2ee8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x79b2, gbc.sp());
        EXPECT(0x2eea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0280
        gbc.setState(0x1d5c, 0x39d, 0x4f70, 0xbe43, 0xa6e3, 0xe70c, 0x1, 0x0);
        gbc.writeMem(0x1d5c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x39d, gbc.sp());
        EXPECT(0x1d5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0281
        gbc.setState(0x7e54, 0x9e60, 0xabc0, 0x1bf5, 0x1c59, 0x292, 0x0, 0x0);
        gbc.writeMem(0x7e54, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x9e60, gbc.sp());
        EXPECT(0x7e56, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0282
        gbc.setState(0xd867, 0x69a4, 0x9fe0, 0x168c, 0xa6e2, 0x23f6, 0x1, 0x1);
        gbc.writeMem(0xd867, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x69a4, gbc.sp());
        EXPECT(0xd869, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd867));
        EXPECT(0x60, gbc.readMem(0xd868));
        // CB 60 0283
        gbc.setState(0x6c4d, 0x1d94, 0x2ac0, 0x429c, 0x690a, 0x7999, 0x0, 0x0);
        gbc.writeMem(0x6c4d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x1d94, gbc.sp());
        EXPECT(0x6c4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0284
        gbc.setState(0x766c, 0xa822, 0xa770, 0x97a9, 0x40f5, 0x5a7f, 0x0, 0x1);
        gbc.writeMem(0x766c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xa822, gbc.sp());
        EXPECT(0x766e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0285
        gbc.setState(0x58eb, 0xb149, 0x6950, 0xc499, 0xb37c, 0x20db, 0x1, 0x0);
        gbc.writeMem(0x58eb, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xb149, gbc.sp());
        EXPECT(0x58ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0287
        gbc.setState(0xbfac, 0xa5fd, 0xc100, 0xdc, 0x4668, 0xc4d8, 0x0, 0x0);
        gbc.writeMem(0xbfac, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xa5fd, gbc.sp());
        EXPECT(0xbfae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbfac));
        EXPECT(0x60, gbc.readMem(0xbfad));
        // CB 60 0288
        gbc.setState(0x9b46, 0x875c, 0x3340, 0x5de5, 0xe9c6, 0x8605, 0x0, 0x1);
        gbc.writeMem(0x9b46, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x875c, gbc.sp());
        EXPECT(0x9b48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b46));
        EXPECT(0x60, gbc.readMem(0x9b47));
        // CB 60 0289
        gbc.setState(0xdfc7, 0xa7cc, 0x6ba0, 0x15b, 0x3bb8, 0x55d0, 0x0, 0x0);
        gbc.writeMem(0xdfc7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xa7cc, gbc.sp());
        EXPECT(0xdfc9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdfc7));
        EXPECT(0x60, gbc.readMem(0xdfc8));
        // CB 60 028A
        gbc.setState(0x2b57, 0x4828, 0xe440, 0xb1ab, 0xb2a7, 0x6d65, 0x0, 0x0);
        gbc.writeMem(0x2b57, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x4828, gbc.sp());
        EXPECT(0x2b59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 028B
        gbc.setState(0xc8d1, 0xd5b, 0x73b0, 0x1b9c, 0x4769, 0x88ca, 0x0, 0x1);
        gbc.writeMem(0xc8d1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xd5b, gbc.sp());
        EXPECT(0xc8d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8d1));
        EXPECT(0x60, gbc.readMem(0xc8d2));
        // CB 60 028C
        gbc.setState(0x2d04, 0x720, 0xe140, 0x7bd9, 0x2dac, 0xb93b, 0x1, 0x0);
        gbc.writeMem(0x2d04, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x720, gbc.sp());
        EXPECT(0x2d06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 028D
        gbc.setState(0xc027, 0x4549, 0x7920, 0x5312, 0xc1ef, 0xefef, 0x0, 0x1);
        gbc.writeMem(0xc027, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x4549, gbc.sp());
        EXPECT(0xc029, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc027));
        EXPECT(0x60, gbc.readMem(0xc028));
        // CB 60 028E
        gbc.setState(0xd728, 0x6611, 0x7600, 0xa5db, 0x4dc3, 0x4c1f, 0x1, 0x1);
        gbc.writeMem(0xd728, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x6611, gbc.sp());
        EXPECT(0xd72a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd728));
        EXPECT(0x60, gbc.readMem(0xd729));
        // CB 60 028F
        gbc.setState(0x92ed, 0x6adf, 0x6a0, 0xa8ec, 0xadb6, 0x3b68, 0x0, 0x0);
        gbc.writeMem(0x92ed, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x6adf, gbc.sp());
        EXPECT(0x92ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92ed));
        EXPECT(0x60, gbc.readMem(0x92ee));
        // CB 60 0290
        gbc.setState(0x18e0, 0x99f9, 0xddd0, 0x21a1, 0x8e71, 0xc267, 0x0, 0x0);
        gbc.writeMem(0x18e0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x99f9, gbc.sp());
        EXPECT(0x18e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0291
        gbc.setState(0x38e, 0x4179, 0xcc60, 0x67ff, 0x84a4, 0x4580, 0x1, 0x0);
        gbc.writeMem(0x38e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x4179, gbc.sp());
        EXPECT(0x390, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0292
        gbc.setState(0x4408, 0xa766, 0x85b0, 0xc141, 0x721b, 0x5662, 0x1, 0x1);
        gbc.writeMem(0x4408, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xa766, gbc.sp());
        EXPECT(0x440a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0293
        gbc.setState(0x4577, 0x5c8, 0x1590, 0xd0a1, 0xe903, 0xff6f, 0x1, 0x1);
        gbc.writeMem(0x4577, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x5c8, gbc.sp());
        EXPECT(0x4579, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0294
        gbc.setState(0x66a, 0x61e4, 0x5bb0, 0xc0d1, 0x6d60, 0xe28b, 0x0, 0x0);
        gbc.writeMem(0x66a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x61e4, gbc.sp());
        EXPECT(0x66c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0295
        gbc.setState(0x738f, 0xaa65, 0x2fc0, 0x1285, 0x66bb, 0xdbd4, 0x1, 0x1);
        gbc.writeMem(0x738f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xaa65, gbc.sp());
        EXPECT(0x7391, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0296
        gbc.setState(0x8af8, 0xd830, 0x6e00, 0xf8fd, 0x1429, 0x372a, 0x1, 0x0);
        gbc.writeMem(0x8af8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xd830, gbc.sp());
        EXPECT(0x8afa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8af8));
        EXPECT(0x60, gbc.readMem(0x8af9));
        // CB 60 0297
        gbc.setState(0x6dee, 0xf11b, 0x8470, 0x47cc, 0x838c, 0x815c, 0x1, 0x1);
        gbc.writeMem(0x6dee, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xf11b, gbc.sp());
        EXPECT(0x6df0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0298
        gbc.setState(0x2de3, 0x6379, 0xb220, 0x227f, 0x4934, 0x8968, 0x0, 0x0);
        gbc.writeMem(0x2de3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x6379, gbc.sp());
        EXPECT(0x2de5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0299
        gbc.setState(0x22c0, 0x7b2d, 0xa130, 0xc367, 0xbdbb, 0x2c36, 0x1, 0x0);
        gbc.writeMem(0x22c0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x7b2d, gbc.sp());
        EXPECT(0x22c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 029A
        gbc.setState(0x6a09, 0x734e, 0x23a0, 0x9f24, 0x1ea8, 0x415f, 0x1, 0x1);
        gbc.writeMem(0x6a09, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x734e, gbc.sp());
        EXPECT(0x6a0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 029B
        gbc.setState(0x8e5a, 0x769d, 0xb40, 0xb655, 0xd959, 0x54be, 0x1, 0x1);
        gbc.writeMem(0x8e5a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x769d, gbc.sp());
        EXPECT(0x8e5c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e5a));
        EXPECT(0x60, gbc.readMem(0x8e5b));
        // CB 60 029C
        gbc.setState(0x58ce, 0x95b7, 0xbd10, 0xe02e, 0xbf77, 0x8b95, 0x1, 0x0);
        gbc.writeMem(0x58ce, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x95b7, gbc.sp());
        EXPECT(0x58d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 029D
        gbc.setState(0xc0b2, 0x5fa, 0x1b70, 0x9e3, 0xad5e, 0x2dd8, 0x1, 0x0);
        gbc.writeMem(0xc0b2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x5fa, gbc.sp());
        EXPECT(0xc0b4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0b2));
        EXPECT(0x60, gbc.readMem(0xc0b3));
        // CB 60 029E
        gbc.setState(0xe64c, 0xc142, 0xeb90, 0x89b9, 0xf496, 0xc049, 0x0, 0x0);
        gbc.writeMem(0xe64c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xc142, gbc.sp());
        EXPECT(0xe64e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe64c));
        EXPECT(0x60, gbc.readMem(0xe64d));
        // CB 60 029F
        gbc.setState(0x6cf, 0x5dd7, 0xf990, 0x1ce7, 0x4fc8, 0x10b0, 0x1, 0x1);
        gbc.writeMem(0x6cf, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x5dd7, gbc.sp());
        EXPECT(0x6d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02A0
        gbc.setState(0xb917, 0x4af3, 0xe8e0, 0x2b0, 0x4719, 0x25c5, 0x0, 0x1);
        gbc.writeMem(0xb917, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x4af3, gbc.sp());
        EXPECT(0xb919, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb917));
        EXPECT(0x60, gbc.readMem(0xb918));
        // CB 60 02A1
        gbc.setState(0x837f, 0xd88c, 0x2e10, 0xd3be, 0x5141, 0x8633, 0x1, 0x0);
        gbc.writeMem(0x837f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xd88c, gbc.sp());
        EXPECT(0x8381, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x837f));
        EXPECT(0x60, gbc.readMem(0x8380));
        // CB 60 02A2
        gbc.setState(0x24, 0xdb6, 0xa300, 0x48aa, 0xacc8, 0x4447, 0x1, 0x0);
        gbc.writeMem(0x24, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xdb6, gbc.sp());
        EXPECT(0x26, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02A3
        gbc.setState(0x4184, 0x267, 0x8880, 0xa211, 0x5e16, 0xe2fd, 0x0, 0x0);
        gbc.writeMem(0x4184, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x267, gbc.sp());
        EXPECT(0x4186, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02A4
        gbc.setState(0xb59a, 0xdb8a, 0xfbb0, 0x8f27, 0x40c4, 0xf620, 0x1, 0x1);
        gbc.writeMem(0xb59a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xdb8a, gbc.sp());
        EXPECT(0xb59c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb59a));
        EXPECT(0x60, gbc.readMem(0xb59b));
        // CB 60 02A5
        gbc.setState(0xb822, 0x2764, 0x79b0, 0xf817, 0x7917, 0x2bc4, 0x1, 0x1);
        gbc.writeMem(0xb822, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x2764, gbc.sp());
        EXPECT(0xb824, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb822));
        EXPECT(0x60, gbc.readMem(0xb823));
        // CB 60 02A6
        gbc.setState(0xe3bb, 0xa234, 0x1ad0, 0x5dfb, 0x934b, 0xe5a5, 0x1, 0x1);
        gbc.writeMem(0xe3bb, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xa234, gbc.sp());
        EXPECT(0xe3bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe3bb));
        EXPECT(0x60, gbc.readMem(0xe3bc));
        // CB 60 02A7
        gbc.setState(0xc387, 0x34b1, 0x8210, 0xa791, 0x22a6, 0x83f1, 0x1, 0x0);
        gbc.writeMem(0xc387, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x34b1, gbc.sp());
        EXPECT(0xc389, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc387));
        EXPECT(0x60, gbc.readMem(0xc388));
        // CB 60 02A8
        gbc.setState(0xe41a, 0xfca9, 0x16e0, 0xfe71, 0xe61f, 0xbc62, 0x1, 0x1);
        gbc.writeMem(0xe41a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xfca9, gbc.sp());
        EXPECT(0xe41c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe41a));
        EXPECT(0x60, gbc.readMem(0xe41b));
        // CB 60 02AA
        gbc.setState(0x7ed3, 0x718a, 0xa5b0, 0x8618, 0x2fbb, 0x43b7, 0x1, 0x0);
        gbc.writeMem(0x7ed3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x718a, gbc.sp());
        EXPECT(0x7ed5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02AB
        gbc.setState(0xaf91, 0xfe02, 0xf650, 0xa524, 0xbee, 0x9a8a, 0x1, 0x0);
        gbc.writeMem(0xaf91, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xfe02, gbc.sp());
        EXPECT(0xaf93, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf91));
        EXPECT(0x60, gbc.readMem(0xaf92));
        // CB 60 02AC
        gbc.setState(0x6bd, 0xf122, 0x8cf0, 0x166a, 0x2dc3, 0x53fe, 0x0, 0x1);
        gbc.writeMem(0x6bd, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xf122, gbc.sp());
        EXPECT(0x6bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02AD
        gbc.setState(0xec15, 0xbd9e, 0x1cf0, 0x60d1, 0x82fc, 0xa36a, 0x0, 0x0);
        gbc.writeMem(0xec15, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xbd9e, gbc.sp());
        EXPECT(0xec17, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec15));
        EXPECT(0x60, gbc.readMem(0xec16));
        // CB 60 02AE
        gbc.setState(0x669a, 0x275a, 0x31f0, 0xe111, 0xe276, 0x9ebd, 0x1, 0x1);
        gbc.writeMem(0x669a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x275a, gbc.sp());
        EXPECT(0x669c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02AF
        gbc.setState(0xda0c, 0xd51f, 0x2de0, 0x29f3, 0xe9ab, 0x3ace, 0x1, 0x0);
        gbc.writeMem(0xda0c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xd51f, gbc.sp());
        EXPECT(0xda0e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda0c));
        EXPECT(0x60, gbc.readMem(0xda0d));
        // CB 60 02B0
        gbc.setState(0x8457, 0xb368, 0x8070, 0x880b, 0x5d35, 0x5cee, 0x1, 0x0);
        gbc.writeMem(0x8457, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xb368, gbc.sp());
        EXPECT(0x8459, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8457));
        EXPECT(0x60, gbc.readMem(0x8458));
        // CB 60 02B1
        gbc.setState(0x4255, 0xfff2, 0xc350, 0xa023, 0x4cdf, 0x2599, 0x1, 0x0);
        gbc.writeMem(0x4255, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xfff2, gbc.sp());
        EXPECT(0x4257, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02B2
        gbc.setState(0x66d2, 0x4e48, 0xa720, 0xea32, 0x1ccb, 0x63ce, 0x0, 0x1);
        gbc.writeMem(0x66d2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x4e48, gbc.sp());
        EXPECT(0x66d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02B3
        gbc.setState(0x7ec, 0x8e8f, 0x55c0, 0x6c0a, 0xfde3, 0xedbf, 0x1, 0x1);
        gbc.writeMem(0x7ec, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x8e8f, gbc.sp());
        EXPECT(0x7ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02B4
        gbc.setState(0x1d33, 0x880, 0x88f0, 0x4633, 0xe9a9, 0x4e22, 0x1, 0x0);
        gbc.writeMem(0x1d33, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x880, gbc.sp());
        EXPECT(0x1d35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02B5
        gbc.setState(0x6453, 0x8999, 0xe7e0, 0xcd7c, 0x6f8f, 0xce10, 0x1, 0x1);
        gbc.writeMem(0x6453, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x8999, gbc.sp());
        EXPECT(0x6455, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02B6
        gbc.setState(0xb8f3, 0x1276, 0x3670, 0xe48e, 0x5a37, 0x70db, 0x0, 0x1);
        gbc.writeMem(0xb8f3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x1276, gbc.sp());
        EXPECT(0xb8f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb8f3));
        EXPECT(0x60, gbc.readMem(0xb8f4));
        // CB 60 02B7
        gbc.setState(0x2ac9, 0xff2c, 0x29d0, 0x3d68, 0xc7, 0x4500, 0x1, 0x0);
        gbc.writeMem(0x2ac9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xff2c, gbc.sp());
        EXPECT(0x2acb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02B8
        gbc.setState(0xb0e6, 0x2adf, 0x950, 0x10cf, 0x2350, 0x5559, 0x0, 0x0);
        gbc.writeMem(0xb0e6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x2adf, gbc.sp());
        EXPECT(0xb0e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb0e6));
        EXPECT(0x60, gbc.readMem(0xb0e7));
        // CB 60 02B9
        gbc.setState(0xd8ce, 0x15a, 0xfb40, 0x9fc, 0x4cd0, 0x48e3, 0x1, 0x1);
        gbc.writeMem(0xd8ce, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x15a, gbc.sp());
        EXPECT(0xd8d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd8ce));
        EXPECT(0x60, gbc.readMem(0xd8cf));
        // CB 60 02BA
        gbc.setState(0xd801, 0x5fee, 0x2c20, 0x6c7, 0x5e04, 0xd907, 0x0, 0x1);
        gbc.writeMem(0xd801, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x5fee, gbc.sp());
        EXPECT(0xd803, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd801));
        EXPECT(0x60, gbc.readMem(0xd802));
        // CB 60 02BC
        gbc.setState(0xd6cb, 0xf5c4, 0x7270, 0xe418, 0x87ca, 0x8cda, 0x0, 0x0);
        gbc.writeMem(0xd6cb, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xf5c4, gbc.sp());
        EXPECT(0xd6cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6cb));
        EXPECT(0x60, gbc.readMem(0xd6cc));
        // CB 60 02BD
        gbc.setState(0x53a9, 0x6ac9, 0x7bf0, 0x5ba, 0x7820, 0x2549, 0x1, 0x1);
        gbc.writeMem(0x53a9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x6ac9, gbc.sp());
        EXPECT(0x53ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02BE
        gbc.setState(0xd83a, 0x458f, 0xaf80, 0xdeb, 0xf88e, 0x52ee, 0x1, 0x0);
        gbc.writeMem(0xd83a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x458f, gbc.sp());
        EXPECT(0xd83c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd83a));
        EXPECT(0x60, gbc.readMem(0xd83b));
        // CB 60 02BF
        gbc.setState(0x429, 0xdb09, 0x140, 0x30e2, 0xcaf9, 0xe629, 0x1, 0x0);
        gbc.writeMem(0x429, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xdb09, gbc.sp());
        EXPECT(0x42b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02C0
        gbc.setState(0xb358, 0x4aeb, 0xe6b0, 0x2dc5, 0xe761, 0xcf8f, 0x1, 0x0);
        gbc.writeMem(0xb358, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x4aeb, gbc.sp());
        EXPECT(0xb35a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb358));
        EXPECT(0x60, gbc.readMem(0xb359));
        // CB 60 02C1
        gbc.setState(0x739, 0xd98d, 0xa2a0, 0x1dab, 0x157d, 0x101, 0x1, 0x0);
        gbc.writeMem(0x739, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xd98d, gbc.sp());
        EXPECT(0x73b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02C2
        gbc.setState(0x8ee6, 0xfec1, 0x6e20, 0xdaac, 0x29b0, 0x57c, 0x1, 0x1);
        gbc.writeMem(0x8ee6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xfec1, gbc.sp());
        EXPECT(0x8ee8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ee6));
        EXPECT(0x60, gbc.readMem(0x8ee7));
        // CB 60 02C3
        gbc.setState(0xd7ae, 0x9aa5, 0x1b70, 0xf62, 0xe3b5, 0x8f36, 0x0, 0x1);
        gbc.writeMem(0xd7ae, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x9aa5, gbc.sp());
        EXPECT(0xd7b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd7ae));
        EXPECT(0x60, gbc.readMem(0xd7af));
        // CB 60 02C5
        gbc.setState(0xaa9b, 0xf5e9, 0x52b0, 0x25f, 0xb6df, 0x28a5, 0x0, 0x1);
        gbc.writeMem(0xaa9b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xf5e9, gbc.sp());
        EXPECT(0xaa9d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa9b));
        EXPECT(0x60, gbc.readMem(0xaa9c));
        // CB 60 02C6
        gbc.setState(0x5ae4, 0x30b5, 0x1fa0, 0x4de4, 0x150c, 0x2041, 0x1, 0x1);
        gbc.writeMem(0x5ae4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x30b5, gbc.sp());
        EXPECT(0x5ae6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02C7
        gbc.setState(0x3fd5, 0xeffb, 0x7b0, 0xed9e, 0xd2a0, 0xc38f, 0x1, 0x0);
        gbc.writeMem(0x3fd5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xeffb, gbc.sp());
        EXPECT(0x3fd7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02C8
        gbc.setState(0x67a0, 0x4d5a, 0xbe10, 0x11ee, 0x4d5a, 0xc10f, 0x1, 0x0);
        gbc.writeMem(0x67a0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x4d5a, gbc.sp());
        EXPECT(0x67a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02C9
        gbc.setState(0x563b, 0x77b, 0x5900, 0xfe21, 0x7ee6, 0xae29, 0x0, 0x0);
        gbc.writeMem(0x563b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x77b, gbc.sp());
        EXPECT(0x563d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02CA
        gbc.setState(0x4bf4, 0x69c8, 0x2760, 0x88a2, 0x862c, 0x641b, 0x0, 0x0);
        gbc.writeMem(0x4bf4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x69c8, gbc.sp());
        EXPECT(0x4bf6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02CB
        gbc.setState(0xdba1, 0x5c8c, 0xf7a0, 0x8fd, 0x2a0, 0xf0e9, 0x0, 0x0);
        gbc.writeMem(0xdba1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x5c8c, gbc.sp());
        EXPECT(0xdba3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdba1));
        EXPECT(0x60, gbc.readMem(0xdba2));
        // CB 60 02CC
        gbc.setState(0x38ca, 0x5c79, 0x4230, 0x81f6, 0x5b8a, 0x7edd, 0x1, 0x1);
        gbc.writeMem(0x38ca, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x5c79, gbc.sp());
        EXPECT(0x38cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02CD
        gbc.setState(0xcd00, 0xfcf0, 0x5110, 0x61dd, 0x9ee, 0x3359, 0x1, 0x0);
        gbc.writeMem(0xcd00, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xfcf0, gbc.sp());
        EXPECT(0xcd02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd00));
        EXPECT(0x60, gbc.readMem(0xcd01));
        // CB 60 02CE
        gbc.setState(0x30f0, 0xeac7, 0xa8d0, 0x15cb, 0xcf46, 0x792, 0x0, 0x1);
        gbc.writeMem(0x30f0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xeac7, gbc.sp());
        EXPECT(0x30f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02CF
        gbc.setState(0x2fe8, 0xc6b4, 0xb810, 0xd4ee, 0x60e8, 0x2516, 0x0, 0x0);
        gbc.writeMem(0x2fe8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xc6b4, gbc.sp());
        EXPECT(0x2fea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02D0
        gbc.setState(0x757b, 0x85c0, 0xb0b0, 0x73a7, 0x79a7, 0x8ccc, 0x0, 0x0);
        gbc.writeMem(0x757b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x85c0, gbc.sp());
        EXPECT(0x757d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02D1
        gbc.setState(0x48ea, 0xdd06, 0x1330, 0xff06, 0x2f80, 0x1bd6, 0x0, 0x0);
        gbc.writeMem(0x48ea, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xdd06, gbc.sp());
        EXPECT(0x48ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02D2
        gbc.setState(0xa81e, 0x6ed9, 0x580, 0x13a4, 0xb956, 0xf949, 0x1, 0x0);
        gbc.writeMem(0xa81e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x6ed9, gbc.sp());
        EXPECT(0xa820, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa81e));
        EXPECT(0x60, gbc.readMem(0xa81f));
        // CB 60 02D3
        gbc.setState(0xe588, 0xddcf, 0x8030, 0x768f, 0x9776, 0x8049, 0x1, 0x1);
        gbc.writeMem(0xe588, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xddcf, gbc.sp());
        EXPECT(0xe58a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe588));
        EXPECT(0x60, gbc.readMem(0xe589));
        // CB 60 02D4
        gbc.setState(0xb7dc, 0xf129, 0xf2e0, 0x88f3, 0x8541, 0x1f06, 0x1, 0x1);
        gbc.writeMem(0xb7dc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xf129, gbc.sp());
        EXPECT(0xb7de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7dc));
        EXPECT(0x60, gbc.readMem(0xb7dd));
        // CB 60 02D5
        gbc.setState(0x75b, 0xc4a4, 0xb8c0, 0xc5ee, 0xe914, 0x136, 0x0, 0x1);
        gbc.writeMem(0x75b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xc4a4, gbc.sp());
        EXPECT(0x75d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02D6
        gbc.setState(0x40d, 0x13e6, 0x3450, 0x9313, 0xc20f, 0x4e9c, 0x1, 0x0);
        gbc.writeMem(0x40d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x13e6, gbc.sp());
        EXPECT(0x40f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02D7
        gbc.setState(0xdc48, 0x88a9, 0x6540, 0x5ba1, 0x494a, 0x7644, 0x1, 0x0);
        gbc.writeMem(0xdc48, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x88a9, gbc.sp());
        EXPECT(0xdc4a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc48));
        EXPECT(0x60, gbc.readMem(0xdc49));
        // CB 60 02D8
        gbc.setState(0x87ac, 0x6978, 0x730, 0x8a5e, 0x4e9, 0x3a99, 0x0, 0x0);
        gbc.writeMem(0x87ac, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x6978, gbc.sp());
        EXPECT(0x87ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x87ac));
        EXPECT(0x60, gbc.readMem(0x87ad));
        // CB 60 02D9
        gbc.setState(0xa7b1, 0x2ddf, 0xd870, 0x4757, 0x3d3b, 0xae7, 0x0, 0x1);
        gbc.writeMem(0xa7b1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x2ddf, gbc.sp());
        EXPECT(0xa7b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7b1));
        EXPECT(0x60, gbc.readMem(0xa7b2));
        // CB 60 02DA
        gbc.setState(0x4ab7, 0x5d67, 0xd80, 0x7c5e, 0xf977, 0xc9a6, 0x1, 0x0);
        gbc.writeMem(0x4ab7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x5d67, gbc.sp());
        EXPECT(0x4ab9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02DB
        gbc.setState(0xd8f9, 0xc770, 0xdbb0, 0x45e2, 0x4e0d, 0xd380, 0x1, 0x0);
        gbc.writeMem(0xd8f9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xc770, gbc.sp());
        EXPECT(0xd8fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd8f9));
        EXPECT(0x60, gbc.readMem(0xd8fa));
        // CB 60 02DC
        gbc.setState(0x81de, 0xfa90, 0xa910, 0x5517, 0xe0c0, 0x5399, 0x1, 0x0);
        gbc.writeMem(0x81de, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xfa90, gbc.sp());
        EXPECT(0x81e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x81de));
        EXPECT(0x60, gbc.readMem(0x81df));
        // CB 60 02DD
        gbc.setState(0x233a, 0xfabf, 0x4c50, 0xb3ec, 0xb921, 0x8a0d, 0x1, 0x0);
        gbc.writeMem(0x233a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xfabf, gbc.sp());
        EXPECT(0x233c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02DE
        gbc.setState(0x8822, 0x6a15, 0xf0f0, 0x313b, 0x3831, 0x737, 0x1, 0x1);
        gbc.writeMem(0x8822, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x6a15, gbc.sp());
        EXPECT(0x8824, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8822));
        EXPECT(0x60, gbc.readMem(0x8823));
        // CB 60 02DF
        gbc.setState(0x91c9, 0xae52, 0x17d0, 0xa940, 0x1fd0, 0x6547, 0x1, 0x1);
        gbc.writeMem(0x91c9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xae52, gbc.sp());
        EXPECT(0x91cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91c9));
        EXPECT(0x60, gbc.readMem(0x91ca));
        // CB 60 02E0
        gbc.setState(0xd48a, 0x2684, 0x3000, 0x6f9c, 0x3512, 0xcf9f, 0x1, 0x1);
        gbc.writeMem(0xd48a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x2684, gbc.sp());
        EXPECT(0xd48c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd48a));
        EXPECT(0x60, gbc.readMem(0xd48b));
        // CB 60 02E1
        gbc.setState(0xe2a8, 0x82e0, 0xb420, 0x64b4, 0x129c, 0x407, 0x0, 0x1);
        gbc.writeMem(0xe2a8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x82e0, gbc.sp());
        EXPECT(0xe2aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe2a8));
        EXPECT(0x60, gbc.readMem(0xe2a9));
        // CB 60 02E2
        gbc.setState(0x29a6, 0x250, 0x7cc0, 0x8d11, 0x53df, 0x1f5a, 0x0, 0x0);
        gbc.writeMem(0x29a6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x250, gbc.sp());
        EXPECT(0x29a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02E3
        gbc.setState(0xeb73, 0x183c, 0x84d0, 0x42c, 0xcea9, 0x9c0d, 0x1, 0x1);
        gbc.writeMem(0xeb73, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x183c, gbc.sp());
        EXPECT(0xeb75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb73));
        EXPECT(0x60, gbc.readMem(0xeb74));
        // CB 60 02E4
        gbc.setState(0x3a4b, 0xb229, 0x6d80, 0xfb1d, 0x21c4, 0xcc2d, 0x1, 0x1);
        gbc.writeMem(0x3a4b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xb229, gbc.sp());
        EXPECT(0x3a4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02E5
        gbc.setState(0xd6f3, 0xe35, 0x32f0, 0x4ba4, 0xb186, 0x345c, 0x0, 0x1);
        gbc.writeMem(0xd6f3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xe35, gbc.sp());
        EXPECT(0xd6f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6f3));
        EXPECT(0x60, gbc.readMem(0xd6f4));
        // CB 60 02E6
        gbc.setState(0x9109, 0x419e, 0xc1b0, 0x4239, 0x4ff6, 0xca84, 0x1, 0x1);
        gbc.writeMem(0x9109, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x419e, gbc.sp());
        EXPECT(0x910b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9109));
        EXPECT(0x60, gbc.readMem(0x910a));
        // CB 60 02E7
        gbc.setState(0x232f, 0x727b, 0x27b0, 0x29b6, 0x4586, 0x5d27, 0x1, 0x1);
        gbc.writeMem(0x232f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x727b, gbc.sp());
        EXPECT(0x2331, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02E8
        gbc.setState(0x4c36, 0xf819, 0x4a10, 0x5d70, 0xcdf2, 0x696e, 0x1, 0x0);
        gbc.writeMem(0x4c36, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xf819, gbc.sp());
        EXPECT(0x4c38, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02E9
        gbc.setState(0x31a9, 0xb230, 0x57b0, 0x2ec7, 0x55b0, 0x38cc, 0x0, 0x0);
        gbc.writeMem(0x31a9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xb230, gbc.sp());
        EXPECT(0x31ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02EA
        gbc.setState(0x7655, 0x6f56, 0x6540, 0xdb96, 0x8d1b, 0x88ed, 0x1, 0x0);
        gbc.writeMem(0x7655, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x6f56, gbc.sp());
        EXPECT(0x7657, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02EB
        gbc.setState(0xd894, 0x6d88, 0x7a80, 0x19f3, 0xd062, 0x10c0, 0x0, 0x1);
        gbc.writeMem(0xd894, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x6d88, gbc.sp());
        EXPECT(0xd896, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd894));
        EXPECT(0x60, gbc.readMem(0xd895));
        // CB 60 02EC
        gbc.setState(0x9638, 0x41c5, 0x8920, 0x2dae, 0x6881, 0x487b, 0x0, 0x0);
        gbc.writeMem(0x9638, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x41c5, gbc.sp());
        EXPECT(0x963a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9638));
        EXPECT(0x60, gbc.readMem(0x9639));
        // CB 60 02ED
        gbc.setState(0x3e38, 0x93c0, 0x1280, 0x5319, 0xce5a, 0x837f, 0x0, 0x1);
        gbc.writeMem(0x3e38, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x93c0, gbc.sp());
        EXPECT(0x3e3a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02EE
        gbc.setState(0x7b47, 0x4ede, 0x67a0, 0x8d80, 0x2cd0, 0x4e54, 0x1, 0x1);
        gbc.writeMem(0x7b47, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x4ede, gbc.sp());
        EXPECT(0x7b49, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02EF
        gbc.setState(0xddd6, 0x994a, 0x1be0, 0x87ec, 0x8e4d, 0x23e7, 0x0, 0x1);
        gbc.writeMem(0xddd6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x994a, gbc.sp());
        EXPECT(0xddd8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xddd6));
        EXPECT(0x60, gbc.readMem(0xddd7));
        // CB 60 02F0
        gbc.setState(0x9384, 0x33a8, 0xff10, 0xbdfd, 0x3ef4, 0x6ffd, 0x1, 0x0);
        gbc.writeMem(0x9384, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x33a8, gbc.sp());
        EXPECT(0x9386, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9384));
        EXPECT(0x60, gbc.readMem(0x9385));
        // CB 60 02F1
        gbc.setState(0xd284, 0xa5a5, 0x760, 0x571c, 0x400e, 0x797b, 0x1, 0x0);
        gbc.writeMem(0xd284, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xa5a5, gbc.sp());
        EXPECT(0xd286, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd284));
        EXPECT(0x60, gbc.readMem(0xd285));
        // CB 60 02F4
        gbc.setState(0xed3b, 0x361a, 0xc940, 0x565f, 0x7ce7, 0xc894, 0x1, 0x1);
        gbc.writeMem(0xed3b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x361a, gbc.sp());
        EXPECT(0xed3d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed3b));
        EXPECT(0x60, gbc.readMem(0xed3c));
        // CB 60 02F5
        gbc.setState(0x73c9, 0x238, 0x1d0, 0x7b3, 0x8156, 0x1c29, 0x1, 0x0);
        gbc.writeMem(0x73c9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x238, gbc.sp());
        EXPECT(0x73cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 02F7
        gbc.setState(0x5c85, 0xb5bc, 0x8ac0, 0x426e, 0x9034, 0x76a3, 0x1, 0x1);
        gbc.writeMem(0x5c85, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xb5bc, gbc.sp());
        EXPECT(0x5c87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02F8
        gbc.setState(0x71d, 0x2f63, 0x2380, 0x6d22, 0x3e38, 0x590d, 0x1, 0x0);
        gbc.writeMem(0x71d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x2f63, gbc.sp());
        EXPECT(0x71f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02F9
        gbc.setState(0xdfe6, 0xd626, 0xd480, 0xcd2e, 0x5bf4, 0x150, 0x0, 0x0);
        gbc.writeMem(0xdfe6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xd626, gbc.sp());
        EXPECT(0xdfe8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdfe6));
        EXPECT(0x60, gbc.readMem(0xdfe7));
        // CB 60 02FA
        gbc.setState(0x73e3, 0x66be, 0x9a0, 0x84c9, 0xee7f, 0x536e, 0x1, 0x0);
        gbc.writeMem(0x73e3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x66be, gbc.sp());
        EXPECT(0x73e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02FB
        gbc.setState(0x2d80, 0xbd1a, 0xe40, 0xc82f, 0x545d, 0x3835, 0x0, 0x0);
        gbc.writeMem(0x2d80, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xbd1a, gbc.sp());
        EXPECT(0x2d82, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 02FC
        gbc.setState(0x912a, 0x99c7, 0x4a50, 0xce8f, 0xe799, 0x6a61, 0x0, 0x0);
        gbc.writeMem(0x912a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x99c7, gbc.sp());
        EXPECT(0x912c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x912a));
        EXPECT(0x60, gbc.readMem(0x912b));
        // CB 60 02FD
        gbc.setState(0xdce3, 0x25a0, 0x50c0, 0x4fbc, 0x768d, 0x8964, 0x1, 0x0);
        gbc.writeMem(0xdce3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x25a0, gbc.sp());
        EXPECT(0xdce5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdce3));
        EXPECT(0x60, gbc.readMem(0xdce4));
        // CB 60 02FE
        gbc.setState(0x82a8, 0xca78, 0x210, 0xf1ab, 0x8187, 0xeb8d, 0x1, 0x0);
        gbc.writeMem(0x82a8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xca78, gbc.sp());
        EXPECT(0x82aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x82a8));
        EXPECT(0x60, gbc.readMem(0x82a9));
        // CB 60 02FF
        gbc.setState(0x7b67, 0xfcd2, 0x5240, 0xc76a, 0x3cdf, 0xc722, 0x0, 0x0);
        gbc.writeMem(0x7b67, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xfcd2, gbc.sp());
        EXPECT(0x7b69, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0300
        gbc.setState(0x23da, 0x3a4d, 0xe0d0, 0x2539, 0x87c0, 0x16e3, 0x1, 0x0);
        gbc.writeMem(0x23da, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x3a4d, gbc.sp());
        EXPECT(0x23dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0302
        gbc.setState(0x8120, 0xdc48, 0xcd20, 0xb316, 0xf8f5, 0x77b9, 0x1, 0x0);
        gbc.writeMem(0x8120, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xdc48, gbc.sp());
        EXPECT(0x8122, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8120));
        EXPECT(0x60, gbc.readMem(0x8121));
        // CB 60 0303
        gbc.setState(0x71f9, 0x76f3, 0x3e90, 0xe8a9, 0xabea, 0x9e7a, 0x1, 0x1);
        gbc.writeMem(0x71f9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x76f3, gbc.sp());
        EXPECT(0x71fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0304
        gbc.setState(0x7950, 0x8bcf, 0x4e60, 0xc390, 0xf7b2, 0x1735, 0x0, 0x1);
        gbc.writeMem(0x7950, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x8bcf, gbc.sp());
        EXPECT(0x7952, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0305
        gbc.setState(0x9fe2, 0xffab, 0x7830, 0xfaa4, 0x5bbc, 0x56b8, 0x1, 0x1);
        gbc.writeMem(0x9fe2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xffab, gbc.sp());
        EXPECT(0x9fe4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9fe2));
        EXPECT(0x60, gbc.readMem(0x9fe3));
        // CB 60 0306
        gbc.setState(0xc49b, 0xbe63, 0xcf80, 0x90f5, 0xaa0c, 0xc899, 0x1, 0x1);
        gbc.writeMem(0xc49b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xbe63, gbc.sp());
        EXPECT(0xc49d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc49b));
        EXPECT(0x60, gbc.readMem(0xc49c));
        // CB 60 0307
        gbc.setState(0x58a8, 0x5d59, 0x92b0, 0x138b, 0x7142, 0xac28, 0x0, 0x0);
        gbc.writeMem(0x58a8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x5d59, gbc.sp());
        EXPECT(0x58aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0308
        gbc.setState(0x68e0, 0x1fd, 0x5520, 0xe0d6, 0xcc3d, 0xc730, 0x0, 0x0);
        gbc.writeMem(0x68e0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x1fd, gbc.sp());
        EXPECT(0x68e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0309
        gbc.setState(0xeb5f, 0x1d8b, 0x31c0, 0x8b11, 0xd33d, 0x6cff, 0x1, 0x0);
        gbc.writeMem(0xeb5f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x1d8b, gbc.sp());
        EXPECT(0xeb61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb5f));
        EXPECT(0x60, gbc.readMem(0xeb60));
        // CB 60 030A
        gbc.setState(0x6cc7, 0xd98a, 0xc500, 0x717f, 0x4fc7, 0xeb4, 0x0, 0x1);
        gbc.writeMem(0x6cc7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xd98a, gbc.sp());
        EXPECT(0x6cc9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 030B
        gbc.setState(0x51bc, 0x8e0a, 0x9a50, 0xdaee, 0xd6c1, 0xf247, 0x1, 0x0);
        gbc.writeMem(0x51bc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x8e0a, gbc.sp());
        EXPECT(0x51be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 030C
        gbc.setState(0x25f0, 0x25ad, 0x3790, 0x5461, 0x597b, 0xbeb4, 0x1, 0x0);
        gbc.writeMem(0x25f0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x25ad, gbc.sp());
        EXPECT(0x25f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 030D
        gbc.setState(0xa08f, 0xf21f, 0xcf0, 0x500c, 0x55e0, 0x453f, 0x0, 0x1);
        gbc.writeMem(0xa08f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xf21f, gbc.sp());
        EXPECT(0xa091, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa08f));
        EXPECT(0x60, gbc.readMem(0xa090));
        // CB 60 030E
        gbc.setState(0x6d53, 0x4a2c, 0x8740, 0x62fc, 0x7676, 0xb489, 0x1, 0x1);
        gbc.writeMem(0x6d53, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x4a2c, gbc.sp());
        EXPECT(0x6d55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 030F
        gbc.setState(0xce1f, 0xf70d, 0x78a0, 0x2987, 0xbf1d, 0x1739, 0x0, 0x1);
        gbc.writeMem(0xce1f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xf70d, gbc.sp());
        EXPECT(0xce21, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce1f));
        EXPECT(0x60, gbc.readMem(0xce20));
        // CB 60 0310
        gbc.setState(0x2951, 0xb23a, 0x99b0, 0xac57, 0x12b7, 0x4bc1, 0x1, 0x1);
        gbc.writeMem(0x2951, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xb23a, gbc.sp());
        EXPECT(0x2953, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0311
        gbc.setState(0xdcd9, 0x6c90, 0xd50, 0xf956, 0x5f65, 0x2572, 0x1, 0x0);
        gbc.writeMem(0xdcd9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x6c90, gbc.sp());
        EXPECT(0xdcdb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcd9));
        EXPECT(0x60, gbc.readMem(0xdcda));
        // CB 60 0312
        gbc.setState(0x4212, 0x3901, 0xbce0, 0xb31d, 0x9d29, 0x1209, 0x0, 0x0);
        gbc.writeMem(0x4212, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x3901, gbc.sp());
        EXPECT(0x4214, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0313
        gbc.setState(0xddfe, 0xfd54, 0xe690, 0x3783, 0x1443, 0x9a6, 0x0, 0x0);
        gbc.writeMem(0xddfe, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xfd54, gbc.sp());
        EXPECT(0xde00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xddfe));
        EXPECT(0x60, gbc.readMem(0xddff));
        // CB 60 0314
        gbc.setState(0x33b9, 0xc4ba, 0x6710, 0x9284, 0x2d23, 0xbce7, 0x0, 0x0);
        gbc.writeMem(0x33b9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xc4ba, gbc.sp());
        EXPECT(0x33bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0315
        gbc.setState(0x1a1b, 0x8ec0, 0xe6c0, 0xd192, 0xa13, 0xf41d, 0x1, 0x1);
        gbc.writeMem(0x1a1b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x8ec0, gbc.sp());
        EXPECT(0x1a1d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0316
        gbc.setState(0x30a9, 0xb220, 0xe1b0, 0x4630, 0x1896, 0x22d1, 0x1, 0x1);
        gbc.writeMem(0x30a9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xb220, gbc.sp());
        EXPECT(0x30ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0318
        gbc.setState(0x8f75, 0xfac2, 0xedf0, 0xd0f3, 0x7eaa, 0x3719, 0x0, 0x0);
        gbc.writeMem(0x8f75, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xfac2, gbc.sp());
        EXPECT(0x8f77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f75));
        EXPECT(0x60, gbc.readMem(0x8f76));
        // CB 60 0319
        gbc.setState(0x4e92, 0x61b1, 0x5b50, 0xe317, 0xe18f, 0xbd48, 0x1, 0x1);
        gbc.writeMem(0x4e92, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x61b1, gbc.sp());
        EXPECT(0x4e94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 031A
        gbc.setState(0xae90, 0x307f, 0x150, 0xb059, 0xc43c, 0x9efb, 0x1, 0x0);
        gbc.writeMem(0xae90, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x307f, gbc.sp());
        EXPECT(0xae92, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae90));
        EXPECT(0x60, gbc.readMem(0xae91));
        // CB 60 031B
        gbc.setState(0x6367, 0xe985, 0x7210, 0x91e5, 0xc97e, 0xd7a6, 0x1, 0x1);
        gbc.writeMem(0x6367, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xe985, gbc.sp());
        EXPECT(0x6369, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 031C
        gbc.setState(0xdbc1, 0xc4d7, 0x20b0, 0x61eb, 0xe466, 0x713d, 0x1, 0x1);
        gbc.writeMem(0xdbc1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xc4d7, gbc.sp());
        EXPECT(0xdbc3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbc1));
        EXPECT(0x60, gbc.readMem(0xdbc2));
        // CB 60 031D
        gbc.setState(0x3620, 0x2b37, 0xcfb0, 0x5968, 0xcff2, 0xc980, 0x1, 0x1);
        gbc.writeMem(0x3620, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x2b37, gbc.sp());
        EXPECT(0x3622, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 031E
        gbc.setState(0x8a6c, 0x391c, 0x9f50, 0xc7e8, 0xa26a, 0x69df, 0x0, 0x1);
        gbc.writeMem(0x8a6c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x391c, gbc.sp());
        EXPECT(0x8a6e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a6c));
        EXPECT(0x60, gbc.readMem(0x8a6d));
        // CB 60 031F
        gbc.setState(0x3876, 0x6c57, 0xb1f0, 0x4cf, 0xc3b6, 0x44ad, 0x0, 0x1);
        gbc.writeMem(0x3876, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x6c57, gbc.sp());
        EXPECT(0x3878, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0320
        gbc.setState(0x66f4, 0x4ba9, 0x8770, 0xf37, 0xf9fe, 0xc33b, 0x1, 0x0);
        gbc.writeMem(0x66f4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x4ba9, gbc.sp());
        EXPECT(0x66f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0321
        gbc.setState(0x7725, 0x9190, 0x9a90, 0x640a, 0xcbf0, 0x7ce8, 0x1, 0x1);
        gbc.writeMem(0x7725, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x9190, gbc.sp());
        EXPECT(0x7727, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0322
        gbc.setState(0x76e1, 0x5b0b, 0xd0d0, 0xe73b, 0xb6fc, 0x6797, 0x1, 0x1);
        gbc.writeMem(0x76e1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x5b0b, gbc.sp());
        EXPECT(0x76e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0323
        gbc.setState(0xbf63, 0x5c5d, 0x21e0, 0x6ac3, 0xa348, 0x8d15, 0x0, 0x0);
        gbc.writeMem(0xbf63, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x5c5d, gbc.sp());
        EXPECT(0xbf65, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf63));
        EXPECT(0x60, gbc.readMem(0xbf64));
        // CB 60 0324
        gbc.setState(0x6f94, 0xae64, 0x7d0, 0xbbe9, 0x7ead, 0x7928, 0x1, 0x1);
        gbc.writeMem(0x6f94, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xae64, gbc.sp());
        EXPECT(0x6f96, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0325
        gbc.setState(0x34cc, 0x593e, 0xda40, 0x32ab, 0x173c, 0x65e6, 0x0, 0x1);
        gbc.writeMem(0x34cc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x593e, gbc.sp());
        EXPECT(0x34ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0326
        gbc.setState(0x7c4d, 0x1aea, 0x7fc0, 0x8b2e, 0xe6b7, 0xfcb3, 0x0, 0x1);
        gbc.writeMem(0x7c4d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x1aea, gbc.sp());
        EXPECT(0x7c4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0327
        gbc.setState(0x33ee, 0xe6c4, 0x63f0, 0x6660, 0xd8d4, 0xdbe, 0x1, 0x0);
        gbc.writeMem(0x33ee, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xe6c4, gbc.sp());
        EXPECT(0x33f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0329
        gbc.setState(0xe8b6, 0x6f4, 0xc710, 0xcd27, 0x52ba, 0x2fcd, 0x1, 0x0);
        gbc.writeMem(0xe8b6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x6f4, gbc.sp());
        EXPECT(0xe8b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe8b6));
        EXPECT(0x60, gbc.readMem(0xe8b7));
        // CB 60 032A
        gbc.setState(0xdc4, 0x869, 0x8a40, 0x7018, 0x468b, 0x5a89, 0x0, 0x1);
        gbc.writeMem(0xdc4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x869, gbc.sp());
        EXPECT(0xdc6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 032B
        gbc.setState(0x4689, 0x37c2, 0x3320, 0xa26b, 0x645a, 0x60ad, 0x1, 0x0);
        gbc.writeMem(0x4689, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x37c2, gbc.sp());
        EXPECT(0x468b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 032C
        gbc.setState(0x8ae6, 0x10a6, 0x5f20, 0x68fd, 0xdafd, 0xef78, 0x1, 0x1);
        gbc.writeMem(0x8ae6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x10a6, gbc.sp());
        EXPECT(0x8ae8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ae6));
        EXPECT(0x60, gbc.readMem(0x8ae7));
        // CB 60 032D
        gbc.setState(0x353f, 0xc8c9, 0xd660, 0xc38e, 0x47ad, 0x8a2d, 0x1, 0x0);
        gbc.writeMem(0x353f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xc8c9, gbc.sp());
        EXPECT(0x3541, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 032E
        gbc.setState(0x16e7, 0x71af, 0x1cc0, 0x8f6, 0x6051, 0x26a5, 0x1, 0x1);
        gbc.writeMem(0x16e7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x71af, gbc.sp());
        EXPECT(0x16e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 032F
        gbc.setState(0x5e5a, 0x5992, 0x5c80, 0x2cad, 0xda63, 0xccb3, 0x1, 0x0);
        gbc.writeMem(0x5e5a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x5992, gbc.sp());
        EXPECT(0x5e5c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0330
        gbc.setState(0x16f6, 0x9dad, 0xed70, 0xfc5, 0xffe0, 0x143f, 0x1, 0x0);
        gbc.writeMem(0x16f6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x9dad, gbc.sp());
        EXPECT(0x16f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0331
        gbc.setState(0x41b0, 0x80e7, 0x7ab0, 0x8504, 0x20d6, 0x638, 0x0, 0x1);
        gbc.writeMem(0x41b0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x80e7, gbc.sp());
        EXPECT(0x41b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0332
        gbc.setState(0xabdd, 0x97aa, 0x5c70, 0xb3e6, 0xee3a, 0xfbee, 0x1, 0x1);
        gbc.writeMem(0xabdd, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x97aa, gbc.sp());
        EXPECT(0xabdf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xabdd));
        EXPECT(0x60, gbc.readMem(0xabde));
        // CB 60 0333
        gbc.setState(0xbd73, 0xb0b7, 0x5f40, 0x5e46, 0xfb99, 0x6ec3, 0x0, 0x1);
        gbc.writeMem(0xbd73, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xb0b7, gbc.sp());
        EXPECT(0xbd75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd73));
        EXPECT(0x60, gbc.readMem(0xbd74));
        // CB 60 0334
        gbc.setState(0x7b7a, 0xd932, 0x5a90, 0xb1e6, 0x85a8, 0x2bed, 0x1, 0x0);
        gbc.writeMem(0x7b7a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xd932, gbc.sp());
        EXPECT(0x7b7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0335
        gbc.setState(0x7179, 0x68d1, 0xbbc0, 0x3d78, 0xc147, 0xcfac, 0x1, 0x1);
        gbc.writeMem(0x7179, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x68d1, gbc.sp());
        EXPECT(0x717b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0336
        gbc.setState(0x769a, 0x3c0e, 0x8030, 0x3d85, 0xbd3f, 0xd, 0x1, 0x1);
        gbc.writeMem(0x769a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x3c0e, gbc.sp());
        EXPECT(0x769c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0337
        gbc.setState(0x6ab6, 0x593b, 0x4ee0, 0xce6f, 0xd3ce, 0x809, 0x1, 0x0);
        gbc.writeMem(0x6ab6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x593b, gbc.sp());
        EXPECT(0x6ab8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0338
        gbc.setState(0xb9c5, 0xfbb, 0x34b0, 0xf332, 0x2a3d, 0xd445, 0x0, 0x1);
        gbc.writeMem(0xb9c5, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xfbb, gbc.sp());
        EXPECT(0xb9c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb9c5));
        EXPECT(0x60, gbc.readMem(0xb9c6));
        // CB 60 0339
        gbc.setState(0xa430, 0x75f7, 0x5460, 0xa610, 0x12b1, 0xe973, 0x1, 0x0);
        gbc.writeMem(0xa430, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x75f7, gbc.sp());
        EXPECT(0xa432, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa430));
        EXPECT(0x60, gbc.readMem(0xa431));
        // CB 60 033A
        gbc.setState(0x64f6, 0xefe8, 0xdea0, 0x1a78, 0x742f, 0x27ff, 0x1, 0x0);
        gbc.writeMem(0x64f6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xefe8, gbc.sp());
        EXPECT(0x64f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 033B
        gbc.setState(0x5181, 0x5c22, 0xf840, 0xd628, 0xc0fb, 0xbc10, 0x0, 0x0);
        gbc.writeMem(0x5181, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x5c22, gbc.sp());
        EXPECT(0x5183, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 033C
        gbc.setState(0x44e3, 0x4a1f, 0x4050, 0xf4ae, 0x5624, 0xb9d7, 0x1, 0x1);
        gbc.writeMem(0x44e3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x4a1f, gbc.sp());
        EXPECT(0x44e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 033D
        gbc.setState(0x42ca, 0x4052, 0x3b90, 0x5545, 0xcefc, 0xc96b, 0x1, 0x0);
        gbc.writeMem(0x42ca, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x4052, gbc.sp());
        EXPECT(0x42cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 033E
        gbc.setState(0x18ed, 0x8c5d, 0xe2d0, 0xcb7e, 0x6f34, 0xd672, 0x1, 0x1);
        gbc.writeMem(0x18ed, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x8c5d, gbc.sp());
        EXPECT(0x18ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 033F
        gbc.setState(0xa87b, 0x86ee, 0xd960, 0x65ea, 0xea49, 0x3d6a, 0x0, 0x0);
        gbc.writeMem(0xa87b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x86ee, gbc.sp());
        EXPECT(0xa87d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa87b));
        EXPECT(0x60, gbc.readMem(0xa87c));
        // CB 60 0340
        gbc.setState(0xbdbc, 0x4c9f, 0x9e50, 0x7ed9, 0xdb2a, 0x6eeb, 0x0, 0x1);
        gbc.writeMem(0xbdbc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x4c9f, gbc.sp());
        EXPECT(0xbdbe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbdbc));
        EXPECT(0x60, gbc.readMem(0xbdbd));
        // CB 60 0341
        gbc.setState(0x43d2, 0xcbef, 0xa110, 0xabfc, 0x2196, 0xdd5a, 0x1, 0x1);
        gbc.writeMem(0x43d2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xcbef, gbc.sp());
        EXPECT(0x43d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0342
        gbc.setState(0xdf1f, 0xef5c, 0xe410, 0xe8b2, 0xf74e, 0xde55, 0x0, 0x0);
        gbc.writeMem(0xdf1f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xef5c, gbc.sp());
        EXPECT(0xdf21, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf1f));
        EXPECT(0x60, gbc.readMem(0xdf20));
        // CB 60 0343
        gbc.setState(0x758, 0xfb1f, 0xb1b0, 0x45bb, 0x3d6b, 0x890f, 0x0, 0x0);
        gbc.writeMem(0x758, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xfb1f, gbc.sp());
        EXPECT(0x75a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0344
        gbc.setState(0x5d34, 0xadb, 0x9ad0, 0xfbd, 0x5b2c, 0xad3a, 0x1, 0x1);
        gbc.writeMem(0x5d34, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xadb, gbc.sp());
        EXPECT(0x5d36, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0345
        gbc.setState(0x8dc, 0x37eb, 0xfdb0, 0xdf9b, 0x213b, 0x5493, 0x1, 0x1);
        gbc.writeMem(0x8dc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x37eb, gbc.sp());
        EXPECT(0x8de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0346
        gbc.setState(0x429a, 0x90c5, 0x9200, 0xe6ce, 0xc729, 0xe17e, 0x1, 0x0);
        gbc.writeMem(0x429a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x90c5, gbc.sp());
        EXPECT(0x429c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0347
        gbc.setState(0xd9bf, 0xb45e, 0x3980, 0xd7bd, 0xebc9, 0xecd9, 0x0, 0x1);
        gbc.writeMem(0xd9bf, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xb45e, gbc.sp());
        EXPECT(0xd9c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9bf));
        EXPECT(0x60, gbc.readMem(0xd9c0));
        // CB 60 0348
        gbc.setState(0x96eb, 0xc492, 0x86d0, 0xcdb, 0x7eb9, 0x4c54, 0x1, 0x1);
        gbc.writeMem(0x96eb, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xc492, gbc.sp());
        EXPECT(0x96ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x96eb));
        EXPECT(0x60, gbc.readMem(0x96ec));
        // CB 60 0349
        gbc.setState(0x245, 0x1e4d, 0x35f0, 0xabe7, 0xdd64, 0xbea1, 0x1, 0x1);
        gbc.writeMem(0x245, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x1e4d, gbc.sp());
        EXPECT(0x247, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 034A
        gbc.setState(0xe166, 0x160d, 0x4e90, 0xfe15, 0xd809, 0x5eeb, 0x0, 0x0);
        gbc.writeMem(0xe166, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x160d, gbc.sp());
        EXPECT(0xe168, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe166));
        EXPECT(0x60, gbc.readMem(0xe167));
        // CB 60 034B
        gbc.setState(0xd45c, 0xc7b3, 0xcc50, 0xeafa, 0x38a, 0x39c6, 0x0, 0x1);
        gbc.writeMem(0xd45c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xc7b3, gbc.sp());
        EXPECT(0xd45e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd45c));
        EXPECT(0x60, gbc.readMem(0xd45d));
        // CB 60 034C
        gbc.setState(0xee3c, 0x94c2, 0x1940, 0x6756, 0x9f11, 0xf440, 0x0, 0x1);
        gbc.writeMem(0xee3c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x94c2, gbc.sp());
        EXPECT(0xee3e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee3c));
        EXPECT(0x60, gbc.readMem(0xee3d));
        // CB 60 034D
        gbc.setState(0x20af, 0x544a, 0xf390, 0xa97a, 0xfbce, 0xb363, 0x0, 0x0);
        gbc.writeMem(0x20af, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x544a, gbc.sp());
        EXPECT(0x20b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 034E
        gbc.setState(0x9f4a, 0xb97b, 0x2470, 0xc8bd, 0x7326, 0x2eb1, 0x1, 0x0);
        gbc.writeMem(0x9f4a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xb97b, gbc.sp());
        EXPECT(0x9f4c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f4a));
        EXPECT(0x60, gbc.readMem(0x9f4b));
        // CB 60 034F
        gbc.setState(0x204e, 0xfd35, 0x8c40, 0x927, 0xdd65, 0x137, 0x0, 0x1);
        gbc.writeMem(0x204e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xfd35, gbc.sp());
        EXPECT(0x2050, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0350
        gbc.setState(0x5f9f, 0x95e0, 0xa380, 0xce37, 0xcda8, 0x8911, 0x0, 0x0);
        gbc.writeMem(0x5f9f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x95e0, gbc.sp());
        EXPECT(0x5fa1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0351
        gbc.setState(0xbe49, 0x1103, 0x79b0, 0x26bc, 0x2cc7, 0x4476, 0x0, 0x0);
        gbc.writeMem(0xbe49, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x1103, gbc.sp());
        EXPECT(0xbe4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe49));
        EXPECT(0x60, gbc.readMem(0xbe4a));
        // CB 60 0352
        gbc.setState(0x74d1, 0xc04e, 0xb160, 0xb124, 0xb2cf, 0xb79f, 0x0, 0x0);
        gbc.writeMem(0x74d1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xc04e, gbc.sp());
        EXPECT(0x74d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0353
        gbc.setState(0x2692, 0x236f, 0x7bd0, 0x9434, 0x3407, 0x72b3, 0x0, 0x1);
        gbc.writeMem(0x2692, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x236f, gbc.sp());
        EXPECT(0x2694, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0355
        gbc.setState(0xe578, 0x262f, 0x7a0, 0xc19c, 0x9bc1, 0xd93d, 0x0, 0x0);
        gbc.writeMem(0xe578, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x262f, gbc.sp());
        EXPECT(0xe57a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe578));
        EXPECT(0x60, gbc.readMem(0xe579));
        // CB 60 0356
        gbc.setState(0x99ff, 0x2172, 0xd060, 0xc2ca, 0x248e, 0x6897, 0x0, 0x1);
        gbc.writeMem(0x99ff, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x2172, gbc.sp());
        EXPECT(0x9a01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99ff));
        EXPECT(0x60, gbc.readMem(0x9a00));
        // CB 60 0357
        gbc.setState(0xd4ed, 0x25f, 0x6d60, 0x53a0, 0x5344, 0x4505, 0x1, 0x1);
        gbc.writeMem(0xd4ed, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x25f, gbc.sp());
        EXPECT(0xd4ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4ed));
        EXPECT(0x60, gbc.readMem(0xd4ee));
        // CB 60 0358
        gbc.setState(0x8979, 0xf5b0, 0xa0e0, 0xb412, 0x1b90, 0x1e11, 0x0, 0x0);
        gbc.writeMem(0x8979, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xf5b0, gbc.sp());
        EXPECT(0x897b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8979));
        EXPECT(0x60, gbc.readMem(0x897a));
        // CB 60 0359
        gbc.setState(0x6763, 0x888e, 0xd770, 0x6e0a, 0xcfd5, 0x3529, 0x0, 0x1);
        gbc.writeMem(0x6763, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x888e, gbc.sp());
        EXPECT(0x6765, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 035A
        gbc.setState(0x6bbc, 0x25a0, 0xf720, 0xc5c2, 0x6ac1, 0x4634, 0x1, 0x0);
        gbc.writeMem(0x6bbc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x25a0, gbc.sp());
        EXPECT(0x6bbe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 035B
        gbc.setState(0x96e0, 0xa0a1, 0xfc20, 0x971f, 0xb299, 0xb21e, 0x0, 0x0);
        gbc.writeMem(0x96e0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xa0a1, gbc.sp());
        EXPECT(0x96e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x96e0));
        EXPECT(0x60, gbc.readMem(0x96e1));
        // CB 60 035C
        gbc.setState(0xa0fd, 0x689c, 0xe240, 0x6bc7, 0xc3c, 0xa4fa, 0x0, 0x1);
        gbc.writeMem(0xa0fd, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x689c, gbc.sp());
        EXPECT(0xa0ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0fd));
        EXPECT(0x60, gbc.readMem(0xa0fe));
        // CB 60 035E
        gbc.setState(0x80c, 0x2f0d, 0x7aa0, 0x3cb9, 0xea34, 0x903e, 0x0, 0x0);
        gbc.writeMem(0x80c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x2f0d, gbc.sp());
        EXPECT(0x80e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 035F
        gbc.setState(0x263a, 0x1f1d, 0xc100, 0x87b8, 0xb457, 0xc4de, 0x0, 0x1);
        gbc.writeMem(0x263a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x1f1d, gbc.sp());
        EXPECT(0x263c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0361
        gbc.setState(0xd1d8, 0xf899, 0x5650, 0x6506, 0x3f97, 0x5843, 0x0, 0x0);
        gbc.writeMem(0xd1d8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xf899, gbc.sp());
        EXPECT(0xd1da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd1d8));
        EXPECT(0x60, gbc.readMem(0xd1d9));
        // CB 60 0362
        gbc.setState(0x6237, 0x8441, 0x2e40, 0x2c88, 0xdbdd, 0x79e9, 0x0, 0x0);
        gbc.writeMem(0x6237, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x8441, gbc.sp());
        EXPECT(0x6239, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0363
        gbc.setState(0x9c7d, 0xc82a, 0x34c0, 0x5681, 0x5cd8, 0x1c00, 0x0, 0x0);
        gbc.writeMem(0x9c7d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xc82a, gbc.sp());
        EXPECT(0x9c7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c7d));
        EXPECT(0x60, gbc.readMem(0x9c7e));
        // CB 60 0364
        gbc.setState(0xecea, 0xefe5, 0x4260, 0x5c8b, 0x10de, 0xc484, 0x0, 0x1);
        gbc.writeMem(0xecea, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xefe5, gbc.sp());
        EXPECT(0xecec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xecea));
        EXPECT(0x60, gbc.readMem(0xeceb));
        // CB 60 0365
        gbc.setState(0xdcd1, 0xe61e, 0x2990, 0x3bd0, 0x48db, 0xd501, 0x1, 0x0);
        gbc.writeMem(0xdcd1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xe61e, gbc.sp());
        EXPECT(0xdcd3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcd1));
        EXPECT(0x60, gbc.readMem(0xdcd2));
        // CB 60 0366
        gbc.setState(0x3d2b, 0x539f, 0x5a40, 0xf582, 0x825e, 0x830, 0x0, 0x0);
        gbc.writeMem(0x3d2b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x539f, gbc.sp());
        EXPECT(0x3d2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0367
        gbc.setState(0xe1f6, 0x3ebe, 0x3d40, 0x9fd0, 0x66ea, 0xde8, 0x0, 0x1);
        gbc.writeMem(0xe1f6, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x3ebe, gbc.sp());
        EXPECT(0xe1f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1f6));
        EXPECT(0x60, gbc.readMem(0xe1f7));
        // CB 60 0368
        gbc.setState(0xce1e, 0x6d2c, 0xeab0, 0x23c4, 0xc76, 0x8ebb, 0x1, 0x0);
        gbc.writeMem(0xce1e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x6d2c, gbc.sp());
        EXPECT(0xce20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce1e));
        EXPECT(0x60, gbc.readMem(0xce1f));
        // CB 60 0369
        gbc.setState(0x236f, 0xaccb, 0xfa10, 0x7bf4, 0x4a86, 0x5920, 0x1, 0x1);
        gbc.writeMem(0x236f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xaccb, gbc.sp());
        EXPECT(0x2371, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 036A
        gbc.setState(0xcbdf, 0x789a, 0xbb40, 0xe4b1, 0x7b5e, 0xb57b, 0x0, 0x0);
        gbc.writeMem(0xcbdf, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x789a, gbc.sp());
        EXPECT(0xcbe1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbdf));
        EXPECT(0x60, gbc.readMem(0xcbe0));
        // CB 60 036B
        gbc.setState(0xca79, 0x91de, 0x1980, 0x4d32, 0xac5, 0x291f, 0x0, 0x1);
        gbc.writeMem(0xca79, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x91de, gbc.sp());
        EXPECT(0xca7b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca79));
        EXPECT(0x60, gbc.readMem(0xca7a));
        // CB 60 036C
        gbc.setState(0x2d67, 0x7877, 0xc1a0, 0xe8f2, 0xad5e, 0x657b, 0x0, 0x0);
        gbc.writeMem(0x2d67, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x7877, gbc.sp());
        EXPECT(0x2d69, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 036D
        gbc.setState(0xbbbf, 0xf72e, 0xf0b0, 0x3dfa, 0x93bb, 0xd34a, 0x0, 0x1);
        gbc.writeMem(0xbbbf, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xf72e, gbc.sp());
        EXPECT(0xbbc1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbbbf));
        EXPECT(0x60, gbc.readMem(0xbbc0));
        // CB 60 036E
        gbc.setState(0x2ccc, 0x281d, 0x3f00, 0x39f6, 0x9ef5, 0xacbf, 0x1, 0x0);
        gbc.writeMem(0x2ccc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x281d, gbc.sp());
        EXPECT(0x2cce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 036F
        gbc.setState(0xd25d, 0x8b7f, 0x9e0, 0xd3de, 0x246b, 0xa20d, 0x0, 0x1);
        gbc.writeMem(0xd25d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x8b7f, gbc.sp());
        EXPECT(0xd25f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd25d));
        EXPECT(0x60, gbc.readMem(0xd25e));
        // CB 60 0370
        gbc.setState(0x4cfa, 0x7d5e, 0x2880, 0x8680, 0x9454, 0x87a7, 0x0, 0x1);
        gbc.writeMem(0x4cfa, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x7d5e, gbc.sp());
        EXPECT(0x4cfc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0371
        gbc.setState(0x8033, 0xaa83, 0x2140, 0x3d93, 0x2f68, 0x219, 0x0, 0x0);
        gbc.writeMem(0x8033, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xaa83, gbc.sp());
        EXPECT(0x8035, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8033));
        EXPECT(0x60, gbc.readMem(0x8034));
        // CB 60 0372
        gbc.setState(0x6c3e, 0xcc9d, 0x4b20, 0xac8d, 0xc55a, 0x9a95, 0x1, 0x1);
        gbc.writeMem(0x6c3e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xcc9d, gbc.sp());
        EXPECT(0x6c40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0373
        gbc.setState(0x436c, 0x10c1, 0x1460, 0x3b11, 0x1143, 0xf0d3, 0x0, 0x0);
        gbc.writeMem(0x436c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x10c1, gbc.sp());
        EXPECT(0x436e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0374
        gbc.setState(0xdf7c, 0x3b56, 0xf060, 0x7d89, 0xed2e, 0xcb4f, 0x1, 0x0);
        gbc.writeMem(0xdf7c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x3b56, gbc.sp());
        EXPECT(0xdf7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf7c));
        EXPECT(0x60, gbc.readMem(0xdf7d));
        // CB 60 0375
        gbc.setState(0x7268, 0x5f0f, 0x1840, 0x7f40, 0xb639, 0x5853, 0x0, 0x1);
        gbc.writeMem(0x7268, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x5f0f, gbc.sp());
        EXPECT(0x726a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0376
        gbc.setState(0x107c, 0xb416, 0x6c00, 0x2675, 0x2ff4, 0x45fd, 0x0, 0x1);
        gbc.writeMem(0x107c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xb416, gbc.sp());
        EXPECT(0x107e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0377
        gbc.setState(0xa942, 0x1d0, 0x9580, 0x8beb, 0x295a, 0x1b8, 0x0, 0x0);
        gbc.writeMem(0xa942, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x1d0, gbc.sp());
        EXPECT(0xa944, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa942));
        EXPECT(0x60, gbc.readMem(0xa943));
        // CB 60 0378
        gbc.setState(0xc66, 0xb0dc, 0xcf30, 0x6b7d, 0x71dd, 0xeabf, 0x0, 0x1);
        gbc.writeMem(0xc66, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xb0dc, gbc.sp());
        EXPECT(0xc68, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0379
        gbc.setState(0x33, 0x80c6, 0x6860, 0xc08c, 0xbde8, 0xc6bc, 0x1, 0x1);
        gbc.writeMem(0x33, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x80c6, gbc.sp());
        EXPECT(0x35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 037A
        gbc.setState(0x4219, 0x8881, 0xc2d0, 0xe023, 0xd1a3, 0xf14b, 0x1, 0x0);
        gbc.writeMem(0x4219, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x8881, gbc.sp());
        EXPECT(0x421b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 037B
        gbc.setState(0x15a3, 0xc01b, 0x5270, 0x58f0, 0x81a2, 0x7baa, 0x0, 0x1);
        gbc.writeMem(0x15a3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xc01b, gbc.sp());
        EXPECT(0x15a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 037C
        gbc.setState(0x89de, 0x77bc, 0xfe20, 0xe827, 0xb9aa, 0x9b68, 0x1, 0x0);
        gbc.writeMem(0x89de, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x77bc, gbc.sp());
        EXPECT(0x89e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89de));
        EXPECT(0x60, gbc.readMem(0x89df));
        // CB 60 037D
        gbc.setState(0xc3e2, 0xbe8d, 0xb790, 0x4bb, 0x336f, 0xf12d, 0x0, 0x0);
        gbc.writeMem(0xc3e2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xbe8d, gbc.sp());
        EXPECT(0xc3e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3e2));
        EXPECT(0x60, gbc.readMem(0xc3e3));
        // CB 60 037E
        gbc.setState(0x2020, 0x7c98, 0xf0f0, 0x794a, 0xfe9b, 0xe101, 0x0, 0x0);
        gbc.writeMem(0x2020, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x7c98, gbc.sp());
        EXPECT(0x2022, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 037F
        gbc.setState(0x4d4e, 0xee2, 0x69e0, 0xa009, 0xf3e1, 0x8f62, 0x0, 0x0);
        gbc.writeMem(0x4d4e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xee2, gbc.sp());
        EXPECT(0x4d50, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0380
        gbc.setState(0x65ff, 0x24f5, 0x69c0, 0x3725, 0xd575, 0x3bfb, 0x0, 0x0);
        gbc.writeMem(0x65ff, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x24f5, gbc.sp());
        EXPECT(0x6601, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0381
        gbc.setState(0x697f, 0xc5b4, 0x71b0, 0xd997, 0x1aaf, 0x8637, 0x0, 0x1);
        gbc.writeMem(0x697f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xc5b4, gbc.sp());
        EXPECT(0x6981, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0382
        gbc.setState(0x1151, 0xe200, 0x6930, 0xa1fd, 0x265d, 0xae18, 0x0, 0x1);
        gbc.writeMem(0x1151, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xe200, gbc.sp());
        EXPECT(0x1153, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0383
        gbc.setState(0x6cc7, 0xc57f, 0x5320, 0xc8ab, 0xab4c, 0xda98, 0x0, 0x0);
        gbc.writeMem(0x6cc7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xc57f, gbc.sp());
        EXPECT(0x6cc9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0384
        gbc.setState(0xd3d0, 0xa78d, 0xa030, 0xc17a, 0x7795, 0x30b7, 0x1, 0x1);
        gbc.writeMem(0xd3d0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xa78d, gbc.sp());
        EXPECT(0xd3d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3d0));
        EXPECT(0x60, gbc.readMem(0xd3d1));
        // CB 60 0385
        gbc.setState(0x9c86, 0xd757, 0xcd30, 0x9f47, 0x7a34, 0x5019, 0x0, 0x0);
        gbc.writeMem(0x9c86, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xd757, gbc.sp());
        EXPECT(0x9c88, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c86));
        EXPECT(0x60, gbc.readMem(0x9c87));
        // CB 60 0386
        gbc.setState(0xea6e, 0xbde2, 0x9e50, 0x3c74, 0x9f09, 0x2277, 0x1, 0x0);
        gbc.writeMem(0xea6e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xbde2, gbc.sp());
        EXPECT(0xea70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea6e));
        EXPECT(0x60, gbc.readMem(0xea6f));
        // CB 60 0387
        gbc.setState(0xb7e7, 0xbb96, 0x43f0, 0xb068, 0x1b54, 0xba91, 0x0, 0x0);
        gbc.writeMem(0xb7e7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xbb96, gbc.sp());
        EXPECT(0xb7e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7e7));
        EXPECT(0x60, gbc.readMem(0xb7e8));
        // CB 60 0388
        gbc.setState(0x587f, 0xdad2, 0xe900, 0x69c2, 0x2727, 0xe928, 0x0, 0x1);
        gbc.writeMem(0x587f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xdad2, gbc.sp());
        EXPECT(0x5881, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0389
        gbc.setState(0x40d3, 0xe29c, 0x5680, 0x7c33, 0x3ef4, 0x3e3e, 0x1, 0x0);
        gbc.writeMem(0x40d3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xe29c, gbc.sp());
        EXPECT(0x40d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 038A
        gbc.setState(0x1da3, 0x8275, 0x86d0, 0xfdb5, 0x5d6c, 0xb02e, 0x1, 0x1);
        gbc.writeMem(0x1da3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x8275, gbc.sp());
        EXPECT(0x1da5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 038B
        gbc.setState(0xcef3, 0xaaf, 0xb980, 0x40d2, 0x6569, 0xf6a3, 0x0, 0x0);
        gbc.writeMem(0xcef3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xaaf, gbc.sp());
        EXPECT(0xcef5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcef3));
        EXPECT(0x60, gbc.readMem(0xcef4));
        // CB 60 038C
        gbc.setState(0x2aae, 0x71b1, 0x2570, 0x6c32, 0xb07f, 0x3753, 0x1, 0x1);
        gbc.writeMem(0x2aae, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x71b1, gbc.sp());
        EXPECT(0x2ab0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 038D
        gbc.setState(0x3e77, 0xa88a, 0xd860, 0x3a6e, 0x3409, 0x14e2, 0x0, 0x0);
        gbc.writeMem(0x3e77, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xa88a, gbc.sp());
        EXPECT(0x3e79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 038E
        gbc.setState(0xd750, 0x7888, 0xc620, 0x40c6, 0x205e, 0x5b1, 0x1, 0x0);
        gbc.writeMem(0xd750, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x7888, gbc.sp());
        EXPECT(0xd752, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd750));
        EXPECT(0x60, gbc.readMem(0xd751));
        // CB 60 038F
        gbc.setState(0x2767, 0x1395, 0x9200, 0x2748, 0x85a6, 0x8615, 0x0, 0x1);
        gbc.writeMem(0x2767, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x1395, gbc.sp());
        EXPECT(0x2769, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0390
        gbc.setState(0x8c39, 0x4f00, 0xc100, 0x71eb, 0x5b2c, 0xae7c, 0x0, 0x1);
        gbc.writeMem(0x8c39, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x4f00, gbc.sp());
        EXPECT(0x8c3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8c39));
        EXPECT(0x60, gbc.readMem(0x8c3a));
        // CB 60 0391
        gbc.setState(0x8509, 0x31d, 0x2280, 0x375d, 0xf974, 0x6275, 0x0, 0x0);
        gbc.writeMem(0x8509, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x31d, gbc.sp());
        EXPECT(0x850b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8509));
        EXPECT(0x60, gbc.readMem(0x850a));
        // CB 60 0392
        gbc.setState(0xdcb7, 0xced9, 0x7f10, 0x4c98, 0x9b5, 0x1eed, 0x0, 0x0);
        gbc.writeMem(0xdcb7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xced9, gbc.sp());
        EXPECT(0xdcb9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcb7));
        EXPECT(0x60, gbc.readMem(0xdcb8));
        // CB 60 0393
        gbc.setState(0x18db, 0x8715, 0x5bd0, 0x4552, 0x16d9, 0x6ce2, 0x0, 0x0);
        gbc.writeMem(0x18db, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x8715, gbc.sp());
        EXPECT(0x18dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0394
        gbc.setState(0x5dc, 0x82b9, 0xbd00, 0x65a0, 0x5c24, 0x1e2b, 0x1, 0x1);
        gbc.writeMem(0x5dc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x82b9, gbc.sp());
        EXPECT(0x5de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0395
        gbc.setState(0x372f, 0xd289, 0x7ac0, 0x9a11, 0x1309, 0x6390, 0x0, 0x1);
        gbc.writeMem(0x372f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xd289, gbc.sp());
        EXPECT(0x3731, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0396
        gbc.setState(0x58db, 0xb877, 0x1e60, 0x97bf, 0xe766, 0x67c6, 0x0, 0x1);
        gbc.writeMem(0x58db, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xb877, gbc.sp());
        EXPECT(0x58dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 0397
        gbc.setState(0x9496, 0x228a, 0xb330, 0x3975, 0x2daf, 0xdf9c, 0x1, 0x0);
        gbc.writeMem(0x9496, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x228a, gbc.sp());
        EXPECT(0x9498, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9496));
        EXPECT(0x60, gbc.readMem(0x9497));
        // CB 60 0398
        gbc.setState(0x1a, 0x2ee0, 0xd4f0, 0x577c, 0xb44d, 0x9a9f, 0x0, 0x1);
        gbc.writeMem(0x1a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x2ee0, gbc.sp());
        EXPECT(0x1c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 0399
        gbc.setState(0xd4cc, 0xeca9, 0x2280, 0x96e2, 0x3d77, 0x56d7, 0x0, 0x0);
        gbc.writeMem(0xd4cc, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xeca9, gbc.sp());
        EXPECT(0xd4ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4cc));
        EXPECT(0x60, gbc.readMem(0xd4cd));
        // CB 60 039A
        gbc.setState(0x8b25, 0xe958, 0x2200, 0x76fe, 0x9971, 0xf13f, 0x1, 0x0);
        gbc.writeMem(0x8b25, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xe958, gbc.sp());
        EXPECT(0x8b27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b25));
        EXPECT(0x60, gbc.readMem(0x8b26));
        // CB 60 039B
        gbc.setState(0x74d1, 0xf39a, 0x2580, 0xd7ad, 0xdffa, 0x50fe, 0x0, 0x1);
        gbc.writeMem(0x74d1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xf39a, gbc.sp());
        EXPECT(0x74d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 039C
        gbc.setState(0xcc64, 0x1a2e, 0x5c20, 0xf0ba, 0xeae2, 0x39d, 0x0, 0x1);
        gbc.writeMem(0xcc64, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x1a2e, gbc.sp());
        EXPECT(0xcc66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc64));
        EXPECT(0x60, gbc.readMem(0xcc65));
        // CB 60 039D
        gbc.setState(0xdac4, 0x93e6, 0x9c20, 0x1d80, 0x5619, 0x158e, 0x1, 0x1);
        gbc.writeMem(0xdac4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x93e6, gbc.sp());
        EXPECT(0xdac6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdac4));
        EXPECT(0x60, gbc.readMem(0xdac5));
        // CB 60 039E
        gbc.setState(0xef08, 0x6b84, 0xbaf0, 0xced, 0x77c, 0x7fe9, 0x0, 0x0);
        gbc.writeMem(0xef08, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x6b84, gbc.sp());
        EXPECT(0xef0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef08));
        EXPECT(0x60, gbc.readMem(0xef09));
        // CB 60 039F
        gbc.setState(0x4418, 0x42a1, 0x4450, 0xfed0, 0xc4d2, 0x724f, 0x0, 0x0);
        gbc.writeMem(0x4418, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x42a1, gbc.sp());
        EXPECT(0x441a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03A0
        gbc.setState(0x4798, 0xf857, 0x5440, 0xf077, 0xddae, 0x51da, 0x0, 0x1);
        gbc.writeMem(0x4798, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xf857, gbc.sp());
        EXPECT(0x479a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03A1
        gbc.setState(0x9b08, 0x57dc, 0xefd0, 0x84aa, 0x397f, 0xe852, 0x1, 0x0);
        gbc.writeMem(0x9b08, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x57dc, gbc.sp());
        EXPECT(0x9b0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b08));
        EXPECT(0x60, gbc.readMem(0x9b09));
        // CB 60 03A2
        gbc.setState(0x94df, 0x4eff, 0x23f0, 0x3195, 0x7ac1, 0x2d6e, 0x0, 0x1);
        gbc.writeMem(0x94df, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x4eff, gbc.sp());
        EXPECT(0x94e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x94df));
        EXPECT(0x60, gbc.readMem(0x94e0));
        // CB 60 03A3
        gbc.setState(0x5c9d, 0x7779, 0xe3d0, 0x2b2a, 0xf77, 0xc63e, 0x0, 0x1);
        gbc.writeMem(0x5c9d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x7779, gbc.sp());
        EXPECT(0x5c9f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03A4
        gbc.setState(0xb35b, 0x96c2, 0x4450, 0xd3df, 0xbe34, 0x835c, 0x1, 0x1);
        gbc.writeMem(0xb35b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x96c2, gbc.sp());
        EXPECT(0xb35d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb35b));
        EXPECT(0x60, gbc.readMem(0xb35c));
        // CB 60 03A5
        gbc.setState(0x545f, 0xf50b, 0x55e0, 0x1fdc, 0x17cf, 0x2b32, 0x1, 0x1);
        gbc.writeMem(0x545f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xf50b, gbc.sp());
        EXPECT(0x5461, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03A6
        gbc.setState(0xb51e, 0xf2fe, 0x8e60, 0x749c, 0x624d, 0xf3ad, 0x0, 0x1);
        gbc.writeMem(0xb51e, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xf2fe, gbc.sp());
        EXPECT(0xb520, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb51e));
        EXPECT(0x60, gbc.readMem(0xb51f));
        // CB 60 03A7
        gbc.setState(0xc4b9, 0xf74d, 0x1f20, 0xc278, 0x74db, 0xb6c, 0x1, 0x0);
        gbc.writeMem(0xc4b9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xf74d, gbc.sp());
        EXPECT(0xc4bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4b9));
        EXPECT(0x60, gbc.readMem(0xc4ba));
        // CB 60 03A8
        gbc.setState(0xc2ed, 0x2d23, 0xeab0, 0xb1da, 0x78ef, 0xc889, 0x0, 0x1);
        gbc.writeMem(0xc2ed, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x2d23, gbc.sp());
        EXPECT(0xc2ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc2ed));
        EXPECT(0x60, gbc.readMem(0xc2ee));
        // CB 60 03A9
        gbc.setState(0xec34, 0xb299, 0x5a50, 0xc901, 0xabf8, 0x3d74, 0x0, 0x1);
        gbc.writeMem(0xec34, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xb299, gbc.sp());
        EXPECT(0xec36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec34));
        EXPECT(0x60, gbc.readMem(0xec35));
        // CB 60 03AA
        gbc.setState(0xc327, 0xc98, 0x2a80, 0x1bba, 0x8c22, 0x2978, 0x0, 0x0);
        gbc.writeMem(0xc327, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xc98, gbc.sp());
        EXPECT(0xc329, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc327));
        EXPECT(0x60, gbc.readMem(0xc328));
        // CB 60 03AB
        gbc.setState(0xcd66, 0x8413, 0x1d50, 0x900, 0x33ca, 0x1445, 0x0, 0x1);
        gbc.writeMem(0xcd66, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x8413, gbc.sp());
        EXPECT(0xcd68, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd66));
        EXPECT(0x60, gbc.readMem(0xcd67));
        // CB 60 03AC
        gbc.setState(0xd67b, 0x45a0, 0xa6d0, 0x8054, 0xfff2, 0x8816, 0x0, 0x0);
        gbc.writeMem(0xd67b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x45a0, gbc.sp());
        EXPECT(0xd67d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd67b));
        EXPECT(0x60, gbc.readMem(0xd67c));
        // CB 60 03AD
        gbc.setState(0xd6ef, 0x8d55, 0x9180, 0x39b0, 0x248f, 0x2463, 0x1, 0x0);
        gbc.writeMem(0xd6ef, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x8d55, gbc.sp());
        EXPECT(0xd6f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6ef));
        EXPECT(0x60, gbc.readMem(0xd6f0));
        // CB 60 03AE
        gbc.setState(0x44be, 0xc4b7, 0x3f60, 0xfe49, 0xd5c3, 0xe7, 0x1, 0x0);
        gbc.writeMem(0x44be, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xc4b7, gbc.sp());
        EXPECT(0x44c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03AF
        gbc.setState(0x7779, 0xabfb, 0x3b0, 0x1c82, 0x8b4b, 0x2b1f, 0x1, 0x1);
        gbc.writeMem(0x7779, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xabfb, gbc.sp());
        EXPECT(0x777b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03B0
        gbc.setState(0x1230, 0x27b1, 0xf120, 0xc30a, 0x6fd4, 0xdcbf, 0x1, 0x1);
        gbc.writeMem(0x1230, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x27b1, gbc.sp());
        EXPECT(0x1232, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03B1
        gbc.setState(0x3f0c, 0xf01e, 0xc70, 0x4223, 0xd9f3, 0x5ed, 0x1, 0x0);
        gbc.writeMem(0x3f0c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xf01e, gbc.sp());
        EXPECT(0x3f0e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03B2
        gbc.setState(0x5b2, 0xa43e, 0xd510, 0x6d4c, 0x40dc, 0x9c85, 0x1, 0x1);
        gbc.writeMem(0x5b2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xa43e, gbc.sp());
        EXPECT(0x5b4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03B3
        gbc.setState(0xca1f, 0xffca, 0x9760, 0xd9b1, 0xe147, 0x423e, 0x0, 0x1);
        gbc.writeMem(0xca1f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xffca, gbc.sp());
        EXPECT(0xca21, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca1f));
        EXPECT(0x60, gbc.readMem(0xca20));
        // CB 60 03B4
        gbc.setState(0xd729, 0xf8ad, 0x5a40, 0x6e39, 0x5c8e, 0x3693, 0x1, 0x0);
        gbc.writeMem(0xd729, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xf8ad, gbc.sp());
        EXPECT(0xd72b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd729));
        EXPECT(0x60, gbc.readMem(0xd72a));
        // CB 60 03B5
        gbc.setState(0x16d9, 0xb9f0, 0xa320, 0x4653, 0x674a, 0xb38f, 0x1, 0x1);
        gbc.writeMem(0x16d9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xb9f0, gbc.sp());
        EXPECT(0x16db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03B6
        gbc.setState(0xfc2, 0x241, 0x9c20, 0x73ba, 0xb3b1, 0x500f, 0x0, 0x1);
        gbc.writeMem(0xfc2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x241, gbc.sp());
        EXPECT(0xfc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03B7
        gbc.setState(0x3fb7, 0x758d, 0x7970, 0x3920, 0xf75d, 0xf401, 0x1, 0x0);
        gbc.writeMem(0x3fb7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x758d, gbc.sp());
        EXPECT(0x3fb9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03B8
        gbc.setState(0x9f68, 0x4f55, 0xafd0, 0xa6a7, 0x3e03, 0x4e9b, 0x1, 0x0);
        gbc.writeMem(0x9f68, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x4f55, gbc.sp());
        EXPECT(0x9f6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f68));
        EXPECT(0x60, gbc.readMem(0x9f69));
        // CB 60 03B9
        gbc.setState(0x75d2, 0xea74, 0xdbc0, 0x8393, 0x1d1e, 0x3672, 0x1, 0x0);
        gbc.writeMem(0x75d2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xea74, gbc.sp());
        EXPECT(0x75d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03BA
        gbc.setState(0x3cbf, 0x498e, 0xfa20, 0xa6ca, 0xc0e7, 0x884f, 0x0, 0x0);
        gbc.writeMem(0x3cbf, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x498e, gbc.sp());
        EXPECT(0x3cc1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03BC
        gbc.setState(0x3218, 0x606e, 0x6030, 0x41cb, 0xf52c, 0x31c4, 0x0, 0x1);
        gbc.writeMem(0x3218, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x606e, gbc.sp());
        EXPECT(0x321a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03BD
        gbc.setState(0x70e4, 0x97e2, 0x2620, 0xa4ef, 0xc6b2, 0x1c7e, 0x1, 0x0);
        gbc.writeMem(0x70e4, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x97e2, gbc.sp());
        EXPECT(0x70e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03BE
        gbc.setState(0xa8f3, 0x5dba, 0x45c0, 0x1951, 0x6b, 0xe4f1, 0x0, 0x1);
        gbc.writeMem(0xa8f3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x5dba, gbc.sp());
        EXPECT(0xa8f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8f3));
        EXPECT(0x60, gbc.readMem(0xa8f4));
        // CB 60 03BF
        gbc.setState(0x2719, 0x3391, 0x83a0, 0x7a84, 0xd322, 0x7439, 0x1, 0x1);
        gbc.writeMem(0x2719, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x3391, gbc.sp());
        EXPECT(0x271b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03C0
        gbc.setState(0x4a11, 0x6d3f, 0x82d0, 0xfe2c, 0x420b, 0xa71f, 0x0, 0x1);
        gbc.writeMem(0x4a11, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x6d3f, gbc.sp());
        EXPECT(0x4a13, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03C1
        gbc.setState(0x8cda, 0x2cd4, 0xf5d0, 0xa1a5, 0x5fed, 0x37c4, 0x0, 0x1);
        gbc.writeMem(0x8cda, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x2cd4, gbc.sp());
        EXPECT(0x8cdc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8cda));
        EXPECT(0x60, gbc.readMem(0x8cdb));
        // CB 60 03C2
        gbc.setState(0x9474, 0x605d, 0xe600, 0x9c97, 0xa23d, 0xeeaa, 0x0, 0x1);
        gbc.writeMem(0x9474, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x605d, gbc.sp());
        EXPECT(0x9476, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9474));
        EXPECT(0x60, gbc.readMem(0x9475));
        // CB 60 03C3
        gbc.setState(0x4a77, 0x2928, 0x2240, 0x4e1c, 0xcec9, 0x75ec, 0x0, 0x1);
        gbc.writeMem(0x4a77, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x2928, gbc.sp());
        EXPECT(0x4a79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03C4
        gbc.setState(0x81ee, 0xbbeb, 0x8840, 0x803a, 0x76d9, 0x8124, 0x1, 0x0);
        gbc.writeMem(0x81ee, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xbbeb, gbc.sp());
        EXPECT(0x81f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x81ee));
        EXPECT(0x60, gbc.readMem(0x81ef));
        // CB 60 03C5
        gbc.setState(0x1519, 0x9df9, 0x41f0, 0x93a0, 0x40d1, 0xa9bf, 0x1, 0x1);
        gbc.writeMem(0x1519, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x9df9, gbc.sp());
        EXPECT(0x151b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03C6
        gbc.setState(0x67c, 0x95e4, 0xdea0, 0xff41, 0xeb49, 0x4aec, 0x0, 0x0);
        gbc.writeMem(0x67c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x95e4, gbc.sp());
        EXPECT(0x67e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03C7
        gbc.setState(0xaed7, 0xfa36, 0x61f0, 0xb359, 0x878c, 0xb51c, 0x0, 0x1);
        gbc.writeMem(0xaed7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xfa36, gbc.sp());
        EXPECT(0xaed9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaed7));
        EXPECT(0x60, gbc.readMem(0xaed8));
        // CB 60 03C8
        gbc.setState(0x13df, 0x4f14, 0x53d0, 0x2def, 0xffd1, 0x14e, 0x0, 0x0);
        gbc.writeMem(0x13df, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x4f14, gbc.sp());
        EXPECT(0x13e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03C9
        gbc.setState(0xb7f2, 0xa00, 0x3880, 0xeace, 0xb240, 0xbdef, 0x0, 0x1);
        gbc.writeMem(0xb7f2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xa00, gbc.sp());
        EXPECT(0xb7f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7f2));
        EXPECT(0x60, gbc.readMem(0xb7f3));
        // CB 60 03CA
        gbc.setState(0x436b, 0x5932, 0xe3f0, 0xb62a, 0x4b22, 0x361f, 0x0, 0x1);
        gbc.writeMem(0x436b, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x5932, gbc.sp());
        EXPECT(0x436d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03CB
        gbc.setState(0x394d, 0xa64b, 0x1470, 0xf32f, 0xeaf0, 0xc184, 0x0, 0x1);
        gbc.writeMem(0x394d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xa64b, gbc.sp());
        EXPECT(0x394f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03CD
        gbc.setState(0x5fe7, 0x5312, 0x5940, 0xfa6f, 0xd9ef, 0x17d7, 0x0, 0x0);
        gbc.writeMem(0x5fe7, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x5312, gbc.sp());
        EXPECT(0x5fe9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03CE
        gbc.setState(0x5651, 0x2fa0, 0x5d10, 0xdbd3, 0x6c97, 0xc9d4, 0x1, 0x0);
        gbc.writeMem(0x5651, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x2fa0, gbc.sp());
        EXPECT(0x5653, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03CF
        gbc.setState(0xf4f, 0x5fb4, 0xdd10, 0xdb9c, 0x324d, 0x680, 0x1, 0x0);
        gbc.writeMem(0xf4f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x5fb4, gbc.sp());
        EXPECT(0xf51, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03D0
        gbc.setState(0xb22d, 0xec93, 0x7fb0, 0x6b1c, 0xfc42, 0xb5b0, 0x1, 0x0);
        gbc.writeMem(0xb22d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xec93, gbc.sp());
        EXPECT(0xb22f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb22d));
        EXPECT(0x60, gbc.readMem(0xb22e));
        // CB 60 03D1
        gbc.setState(0x78e2, 0x89c1, 0x7810, 0xaa9d, 0x8fdc, 0xc710, 0x1, 0x1);
        gbc.writeMem(0x78e2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x89c1, gbc.sp());
        EXPECT(0x78e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03D3
        gbc.setState(0x44f1, 0xfb4d, 0x6a00, 0xcf5f, 0x372b, 0xf111, 0x1, 0x0);
        gbc.writeMem(0x44f1, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xfb4d, gbc.sp());
        EXPECT(0x44f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03D4
        gbc.setState(0x2649, 0x7970, 0xaa10, 0x7f3b, 0x6cb6, 0x983d, 0x1, 0x1);
        gbc.writeMem(0x2649, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x7970, gbc.sp());
        EXPECT(0x264b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03D5
        gbc.setState(0x1e28, 0xc1d, 0x4040, 0x150a, 0x4dd0, 0xe938, 0x1, 0x0);
        gbc.writeMem(0x1e28, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xc1d, gbc.sp());
        EXPECT(0x1e2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03D6
        gbc.setState(0xb77a, 0x8cb3, 0xddd0, 0xb784, 0x7f18, 0x20a5, 0x0, 0x0);
        gbc.writeMem(0xb77a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x8cb3, gbc.sp());
        EXPECT(0xb77c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb77a));
        EXPECT(0x60, gbc.readMem(0xb77b));
        // CB 60 03D7
        gbc.setState(0xaf24, 0xff7b, 0x8740, 0x57f9, 0x67ad, 0xa77f, 0x1, 0x0);
        gbc.writeMem(0xaf24, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xff7b, gbc.sp());
        EXPECT(0xaf26, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf24));
        EXPECT(0x60, gbc.readMem(0xaf25));
        // CB 60 03D8
        gbc.setState(0x324, 0x117a, 0x400, 0xcbd, 0x83cd, 0xf9d9, 0x0, 0x1);
        gbc.writeMem(0x324, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x117a, gbc.sp());
        EXPECT(0x326, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03D9
        gbc.setState(0x76d0, 0x10ff, 0xf120, 0xaaa6, 0xf6a1, 0x1a07, 0x1, 0x0);
        gbc.writeMem(0x76d0, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x10ff, gbc.sp());
        EXPECT(0x76d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03DA
        gbc.setState(0x5435, 0xf737, 0x7800, 0x2b7b, 0x64b8, 0x8db0, 0x1, 0x0);
        gbc.writeMem(0x5435, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xf737, gbc.sp());
        EXPECT(0x5437, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03DB
        gbc.setState(0x375a, 0xfc3, 0x4500, 0x57, 0xfcdf, 0x5a37, 0x1, 0x0);
        gbc.writeMem(0x375a, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xfc3, gbc.sp());
        EXPECT(0x375c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03DC
        gbc.setState(0xb59d, 0x97b, 0xddd0, 0xec13, 0x7863, 0x57df, 0x0, 0x0);
        gbc.writeMem(0xb59d, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x97b, gbc.sp());
        EXPECT(0xb59f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb59d));
        EXPECT(0x60, gbc.readMem(0xb59e));
        // CB 60 03DD
        gbc.setState(0x475f, 0x2f67, 0xd4e0, 0xd6d5, 0x4851, 0xae55, 0x0, 0x0);
        gbc.writeMem(0x475f, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x2f67, gbc.sp());
        EXPECT(0x4761, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03DE
        gbc.setState(0x6601, 0x544e, 0x73b0, 0x8a3c, 0x2a87, 0xaf65, 0x0, 0x1);
        gbc.writeMem(0x6601, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x544e, gbc.sp());
        EXPECT(0x6603, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03DF
        gbc.setState(0x19ff, 0xc467, 0x31c0, 0xed7b, 0x7780, 0x9b12, 0x1, 0x0);
        gbc.writeMem(0x19ff, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xc467, gbc.sp());
        EXPECT(0x1a01, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03E0
        gbc.setState(0xc959, 0x9a57, 0xdfc0, 0xa5bb, 0x291c, 0xb868, 0x0, 0x0);
        gbc.writeMem(0xc959, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x9a57, gbc.sp());
        EXPECT(0xc95b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc959));
        EXPECT(0x60, gbc.readMem(0xc95a));
        // CB 60 03E1
        gbc.setState(0x41d8, 0xc28f, 0xb8d0, 0x43de, 0xd5b5, 0xc238, 0x0, 0x1);
        gbc.writeMem(0x41d8, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xc28f, gbc.sp());
        EXPECT(0x41da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03E2
        gbc.setState(0x3ed3, 0xdcf7, 0xae60, 0x21f9, 0xf6e3, 0x4955, 0x0, 0x1);
        gbc.writeMem(0x3ed3, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xdcf7, gbc.sp());
        EXPECT(0x3ed5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03E3
        gbc.setState(0x7669, 0x2ddf, 0x2c60, 0xbdb2, 0x3c54, 0xea1e, 0x0, 0x0);
        gbc.writeMem(0x7669, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x2ddf, gbc.sp());
        EXPECT(0x766b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 60 03E4
        gbc.setState(0x623c, 0x3cea, 0x3d0, 0xabc8, 0xb3cf, 0xab80, 0x0, 0x1);
        gbc.writeMem(0x623c, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x3cea, gbc.sp());
        EXPECT(0x623e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03E5
        gbc.setState(0xe377, 0x18b7, 0x77b0, 0x5f43, 0x8949, 0x3097, 0x1, 0x1);
        gbc.writeMem(0xe377, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x18b7, gbc.sp());
        EXPECT(0xe379, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe377));
        EXPECT(0x60, gbc.readMem(0xe378));
        // CB 60 03E6
        gbc.setState(0x3ce2, 0x5627, 0x7150, 0xa391, 0x17a6, 0xd5e4, 0x1, 0x1);
        gbc.writeMem(0x3ce2, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x5627, gbc.sp());
        EXPECT(0x3ce4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 60 03E7
        gbc.setState(0x36d9, 0x5f67, 0x2d20, 0xf539, 0x60a1, 0x639e, 0x0, 0x0);
        gbc.writeMem(0x36d9, { 0xcb, 0x60 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x5f67, gbc.sp());
        EXPECT(0x36db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
    }
